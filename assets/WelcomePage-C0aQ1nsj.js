import{c as C,a as S,r as n,u as M,j as e,C as E,T as I,A,F as D}from"./index-C4XDwAbA.js";import{q as N,o as U,w as z,c as k,a as w,d as y}from"./firebaseConfig--jbwBVp3.js";import{p as R}from"./parse-B5HBKvJx.js";import{a as L}from"./addHours-vmlBnVHO.js";import{C as H}from"./clock-DVPghlzR.js";import{R as O}from"./radio-DNRcm7JP.js";import{Z as q}from"./zap-B9B6Ro8Y.js";import{S as G}from"./shield-hE7pDH5z.js";import{A as u}from"./arrow-right-Co88OJIK.js";import{U as $}from"./users-Cf-yrzDK.js";import"./protectedTokens-BgWIJsKD.js";import"./addDays-CsCA8S13.js";const _=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],F=C("trending-up",_),W=(o=null)=>{const c=S(i=>i.currentUser),t=o||new Date().toISOString().split("T")[0],[s,b]=n.useState([]),[h,p]=n.useState(0),[g,d]=n.useState(!0),[x,T]=n.useState(new Date);n.useEffect(()=>{const i=setInterval(()=>T(new Date),6e4);return()=>clearInterval(i)},[]),n.useEffect(()=>{if(!c){d(!1);return}d(!0);const i=N(k(y,"schedules"),z("startDate","==",t),U("startTime","asc")),l=w(i,a=>{const m=a.docs.map(r=>({id:r.id,...r.data()}));b(m),d(!1)},a=>{console.error("Matches subscription error:",a),d(!1)});return()=>l()},[c,t]);const v=n.useMemo(()=>{const i=new Date(t);let l=0,a=0,m=0;return s.forEach(r=>{if(r.hasEndStat)m++;else if(r.hasStartStat)l++;else if(r.startTime)try{const f=R(r.startTime,"HH:mm",i),j=L(f,2);x>=f&&x<=j?l++:x>j?m++:a++}catch{a++}else a++}),{total:s.length,live:l,upcoming:a,finished:m,startDone:s.filter(r=>r.hasStartStat).length,endDone:s.filter(r=>r.hasEndStat).length,matches:s}},[s,x,t]);return n.useEffect(()=>{if(!c)return;const i=N(k(y,"incidents"),z("status","!=","Closed")),l=w(i,a=>{p(a.size)},a=>{console.error("Incidents subscription error:",a)});return()=>l()},[c]),{daySummary:v,todaySummary:v,activeIncidents:h,loading:g,selectedDate:t}};function ae(){const o=M(),c=S(d=>d.currentUser),{todaySummary:t,activeIncidents:s,loading:b}=W(),h=new Date,p=h.getHours(),g=p<12?"Good Morning":p<18?"Good Afternoon":"Good Evening";return b?e.jsx("div",{className:"h-full bg-gradient-to-br from-zinc-50 via-white to-zinc-100 dark:from-black dark:via-zinc-950 dark:to-black p-6 md:p-10 lg:p-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[e.jsxs("div",{className:"space-y-4 animate-pulse",children:[e.jsx("div",{className:"h-4 w-32 bg-zinc-200 dark:bg-zinc-800 rounded"}),e.jsx("div",{className:"h-16 w-3/4 max-w-lg bg-zinc-200 dark:bg-zinc-800 rounded-lg"}),e.jsx("div",{className:"h-4 w-96 bg-zinc-200 dark:bg-zinc-800 rounded"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[...Array(4)].map((d,x)=>e.jsx("div",{className:"h-24 bg-zinc-200 dark:bg-zinc-800 rounded-2xl animate-pulse"},x))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"h-64 bg-zinc-200 dark:bg-zinc-800 rounded-3xl animate-pulse"}),e.jsx("div",{className:"h-64 bg-zinc-200 dark:bg-zinc-800 rounded-3xl animate-pulse"})]})]})}):e.jsx("div",{className:"h-full bg-gradient-to-br from-zinc-50 via-white to-zinc-100 dark:from-black dark:via-zinc-950 dark:to-black overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"min-h-full p-6 md:p-10 lg:p-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),e.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-emerald-500 animate-ping opacity-50"})]}),e.jsx("span",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-widest",children:"System Operational"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[e.jsx(H,{size:12}),e.jsx("span",{className:"text-[10px] font-mono",children:h.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-[0.3em]",children:g}),e.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black tracking-tight text-zinc-900 dark:text-white leading-[0.95]",children:c?.name||"Operator"}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 max-w-md",children:"Welcome to NOC NTT Management System. Monitor live matches, track incidents, and manage operations."})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-200/50 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(O,{size:12,className:"text-blue-500"}),e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase",children:"Live Now"})]}),e.jsx("p",{className:"text-2xl font-black text-zinc-900 dark:text-white",children:t.live||0})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-200/50 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(q,{size:12,className:"text-amber-500"}),e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase",children:"Upcoming"})]}),e.jsx("p",{className:"text-2xl font-black text-zinc-900 dark:text-white",children:t.upcoming||0})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-200/50 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{size:12,className:"text-emerald-500"}),e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase",children:"Completed"})]}),e.jsx("p",{className:"text-2xl font-black text-zinc-900 dark:text-white",children:t.finished||0})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-200/50 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(G,{size:12,className:"text-purple-500"}),e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase",children:"Success Rate"})]}),e.jsx("p",{className:"text-2xl font-black text-zinc-900 dark:text-white",children:"100%"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>o("/schedule/today"),className:"group text-left bg-gradient-to-br from-zinc-900 to-zinc-800 dark:from-zinc-800 dark:to-zinc-900 p-8 rounded-3xl border border-zinc-700 hover:border-zinc-500 transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:shadow-zinc-900/20",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:"p-3 bg-white/10 backdrop-blur rounded-xl",children:e.jsx(E,{size:24,className:"text-white"})}),e.jsx(u,{className:"text-zinc-500 group-hover:text-white group-hover:translate-x-1 transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-6xl font-black text-white",children:t.total}),e.jsx("div",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:"TODAY'S MATCHES"}),e.jsx("p",{className:"text-[11px] text-zinc-500 pt-2",children:"Monitor live broadcasts, track match status, and manage real-time operations."})]}),t.live>0&&e.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),e.jsxs("span",{className:"text-[10px] font-bold text-red-400 uppercase",children:[t.live," Live Now"]})]})]}),e.jsxs("button",{onClick:()=>o("/incidents"),className:`group text-left p-8 rounded-3xl border transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl ${s>0?"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-950/30 dark:to-orange-950/20 border-red-200 dark:border-red-900/50 hover:border-red-400 hover:shadow-red-500/10":"bg-white dark:bg-zinc-900/50 border-zinc-200 dark:border-zinc-800 hover:border-zinc-400 hover:shadow-zinc-900/10"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsx("div",{className:`p-3 rounded-xl ${s>0?"bg-red-100 dark:bg-red-900/30":"bg-zinc-100 dark:bg-zinc-800"}`,children:e.jsx(I,{size:24,className:s>0?"text-red-500":"text-zinc-500"})}),e.jsx(u,{className:`group-hover:translate-x-1 transition-all ${s>0?"text-red-300 group-hover:text-red-500":"text-zinc-300 group-hover:text-zinc-600"}`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`text-6xl font-black ${s>0?"text-red-600 dark:text-red-400":"text-zinc-900 dark:text-white"}`,children:s}),e.jsx("div",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:"ACTIVE INCIDENTS"}),e.jsx("p",{className:"text-[11px] text-zinc-500 pt-2",children:"Track and resolve ongoing incidents with detailed timeline management."})]}),s>0&&e.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 px-3 py-1.5 bg-red-100 dark:bg-red-900/30 rounded-full",children:[e.jsx(A,{size:12,className:"text-red-500"}),e.jsx("span",{className:"text-[10px] font-bold text-red-600 dark:text-red-400 uppercase",children:"Requires Attention"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:()=>o("/tickets"),className:"group text-left bg-white dark:bg-zinc-900/50 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 hover:border-blue-400 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg hover:shadow-blue-500/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:e.jsx(D,{size:20,className:"text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:"Ticket Log"}),e.jsx("p",{className:"text-[10px] text-zinc-400 uppercase tracking-wider",children:"Manage Support Tickets"})]})]}),e.jsx(u,{size:16,className:"text-zinc-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]})}),e.jsx("button",{onClick:()=>o("/handover"),className:"group text-left bg-white dark:bg-zinc-900/50 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 hover:border-purple-400 dark:hover:border-purple-600 transition-all duration-300 hover:shadow-lg hover:shadow-purple-500/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl",children:e.jsx($,{size:20,className:"text-purple-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:"Shift Transfer"}),e.jsx("p",{className:"text-[10px] text-zinc-400 uppercase tracking-wider",children:"Handover Management"})]})]}),e.jsx(u,{size:16,className:"text-zinc-300 group-hover:text-purple-500 group-hover:translate-x-1 transition-all"})]})})]}),e.jsx("div",{className:"pt-6 border-t border-zinc-200 dark:border-zinc-800",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 text-[10px] text-zinc-400",children:[e.jsxs("p",{children:["Role: ",e.jsx("span",{className:"font-bold text-zinc-600 dark:text-zinc-300 uppercase",children:c?.role||"Guest"})]}),e.jsx("p",{className:"font-mono",children:"NOC NTT Management System v2.0"})]})})]})})})}export{ae as default};
