import{d as me,r as a,z as Xt,a as Zt,j as e,F as ut,X as Nt,b as Ct,e as V,H as Zr,T as qe,x as Jt,C as er,L as tr,o as Pe,m as _t,h as Jr,i as en,l as de,P as K,k as te,I as fe,q as tn,f as rr,V as rn,n as nn,D as sn,S as an,g as on,t as ln,v as Dt}from"./index-CVSuKyb2.js";import{u as cn,i as Lt,F as dn,R as un}from"./useMatches-C_zpmjLK.js";import{e as nr,d as he,a as le,u as pt,f as pn,g as Ye,q as Ot,o as Xe,n as xn,h as mn,j as qt,s as Ze,k as hn}from"./firebaseConfig-Cp-1Ewx5.js";import{c as fn,t as Ve,m as gn,a as bn,f as Ie}from"./format-B568ns5f.js";import{b as sr}from"./addYears-RECKJz7f.js";import{i as vn}from"./isSameMonth-CRYCS6Ki.js";import{p as Bt}from"./parse-Bk6ren_S.js";import{G as wn}from"./gauge-DrtH9_89.js";import{C as Tt}from"./clock-DDZ7j-PW.js";import{A as kn}from"./useBaseQuery-BQBxf117.js";import{C as we}from"./check-BtL84iw6.js";import{G as ar}from"./globe-lwTZAOiZ.js";import{S as yn,u as jn}from"./index-9fLR16DP.js";import{T as Ue}from"./trash-2-Dogq7gi1.js";import{P as Mt}from"./plus-DKQv81sk.js";import{C as Sn}from"./copy-BiQQVEFd.js";import{f as pe,a as Je,p as zn,c as Nn,L as Cn,D as Tn}from"./DataPreviewPanel-I52-Xzye.js";import{C as xt}from"./circle-check-RvjUJsWJ.js";import{c as ir}from"./configService-CpUaQNct.js";import{L as Mn}from"./layers-p22_R6ca.js";import{S as mt}from"./save-wtsRD9Qh.js";import{c as Pn,B as Ae}from"./button-DfFfCdc7.js";import{I as et}from"./input-B9xCijPG.js";import{R as In,e as En,O as Rn,f as An,D as _n,c as Dn,d as Ln,g as On,P as ht,a as ft,p as Ft,b as gt,C as or,h as qn}from"./dialog-CnFQmQFm.js";import{u as Bn,C as lr,B as Fn,P as Vn}from"./index-Cx9KHOs6.js";import{c as cr,R as $n,u as xe,A as Hn,h as Un,a as Wn,b as Gn,F as Kn,C as Qn,d as Yn}from"./Combination-BXD5NVuQ.js";import{C as Pt}from"./chevron-down-lu3fj4Td.js";import{S as dr}from"./search-DQvZtxdF.js";import{Z as Xn}from"./zap-aUtH-8M4.js";import{S as Zn}from"./shield-LIpSFwmU.js";import{T as ur,a as Jn}from"./tv-Ct-uRMuc.js";import{C as es}from"./chevron-left-BadwH-wp.js";import{C as ts}from"./chevron-right-BYpyKYmK.js";import{R as rs}from"./rotate-ccw-DrUlEWmW.js";import{E as ns}from"./eye-off-hHMpIlkc.js";import{E as ss}from"./eye-Cv4fY5ex.js";import{F as as}from"./funnel-BWujmCsJ.js";import"./addMonths-BfoHT1ak.js";import"./cloud-download-V5nbQ3nV.js";import"./index-CSVwKcaw.js";const is=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],os=me("arrow-left-right",is);const ls=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cs=me("bell",ls);const ds=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Vt=me("chevrons-up-down",ds);const us=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],ps=me("eraser",us);const xs=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],ms=me("monitor-play",xs);const hs=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],pr=me("server",hs);const fs=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],gs=me("sword",fs);const bs=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],xr=me("wand-sparkles",bs);const vs=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],mr=me("wifi",vs);function ws(t,n,r){return fn(t,+Ve(t)+n)}function ks(t,n,r){return ws(t,n*gn)}function ys(t){return n=>{const i=(t?Math[t]:Math.trunc)(n);return i===0?0:i}}function js(t,n){return+Ve(t)-+Ve(n)}function $t(t,n,r){const i=js(t,n)/bn;return ys(r?.roundingMethod)(i)}function $e(t,n){const r=Ve(t,n?.in);return r.setSeconds(0,0),r}function Ss(t,n){return+$e(t)==+$e(n)}function zs(t,n,r){return sr(t,-1,r)}const tt={subscribeMatches:(t,n)=>{let r=Ot(Ye(le,"schedules"),Xe("startDate","desc"),Xe("startTime","asc"));return t&&(r=Ot(Ye(le,"schedules"),xn("startDate","==",t),Xe("startTime","asc"))),mn(r,i=>{const s=i.docs.map(l=>({id:l.id,...l.data()}));n(s)})},createMatch:async t=>{try{const n={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1};return await pn(Ye(le,"schedules"),n)}catch(n){throw console.error("Error creating match:",n),n}},updateMatch:async(t,n)=>{try{const r=he(le,"schedules",t);await pt(r,{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error updating match:",r),r}},deleteMatch:async t=>{try{await nr(he(le,"schedules",t))}catch(n){throw console.error("Error deleting match:",n),n}}},Ns=(t=new Date)=>{const[n,r]=a.useState(t),i=Ie(n,"yyyy-MM-dd"),s=vn(n,new Date),{matches:l,loading:u}=cn(n,null,s),o=Xt(),{toast:c}=Zt(),[d,p]=a.useState(null),[m,h]=a.useState(!1),[w,y]=a.useState(null),[f,x]=a.useState(!1),[T,N]=a.useState({isOpen:!1,id:null}),[R,F]=a.useState(!1),[M,P]=a.useState(""),[I,G]=a.useState("ALL"),[U,X]=a.useState($e(new Date)),[W,$]=a.useState(!1),Z=a.useRef(new Set);a.useEffect(()=>{const g=setInterval(()=>{const C=new Date;X(z=>Ss(z,C)?z:$e(C))},1e3);return()=>clearInterval(g)},[]),a.useEffect(()=>{"Notification"in window&&Notification.permission==="granted"&&$(!0)},[]);const O=async()=>{if(!("Notification"in window))return;await Notification.requestPermission()==="granted"&&$(!0)};a.useEffect(()=>{!W||!s||l.length===0||l.forEach(q=>{if(!q.startTime||q.hasStartStat||Z.current.has(q.id))return;const g=Bt(q.startTime,"HH:mm",n),C=$t(g,U);C<=15&&C>=0&&(new Notification("Match Alert",{body:`${q.teamA} vs ${q.teamB} starts in ${C} mins!`,icon:"/vite.svg"}),Z.current.add(q.id))})},[l,W,U,n,s]);const H=()=>r(q=>zs(q)),D=()=>r(q=>sr(q,1)),Q=()=>r(new Date),Y=async q=>{x(!0);try{w?(await tt.updateMatch(w.id,q),c({title:"Success",description:"Match updated successfully."})):(await tt.createMatch({...q,startDate:i}),c({title:"Success",description:"Match created successfully."})),o.invalidateQueries({queryKey:["matches"]}),h(!1),y(null)}catch(g){c({variant:"destructive",title:"Error",description:g.message||"Something went wrong."})}finally{x(!1)}},re=async()=>{if(T.id)try{await tt.deleteMatch(T.id),o.invalidateQueries({queryKey:["matches"]}),c({title:"Success",description:"Match deleted successfully."})}catch(q){c({variant:"destructive",title:"Error",description:q.message||"Failed to delete match."})}finally{N({isOpen:!1,id:null})}},ie=a.useMemo(()=>{const q=l.map(z=>{let S="Upcoming",_=null,k=!1,L=!1;if(z.startTime){const b=Bt(z.startTime,"HH:mm",n),j=ks(b,2),v=$t(b,U);z.hasEndStat?(S="Finished",L=!0):z.hasStartStat?(S="Live",k=!0):U>=b&&U<=j?(S="Live (Time)",k=!0):U>j?(S="Finished (Time)",L=!0):v<=60&&v>0?_=`${v}m`:_=Ie(b,"HH:mm")}return{...z,statusDisplay:S,countdown:_,isLiveTime:k,isFinished:L}}),g={total:q.length,live:q.filter(z=>z.isLiveTime).length,finished:q.filter(z=>z.isFinished).length,pending:q.filter(z=>!z.isLiveTime&&!z.isFinished).length};return{matches:q.filter(z=>{const S=M.toLowerCase().trim(),_=!S||(z._searchString||"").includes(S);let k=!0;return I==="LIVE"?k=z.isLiveTime:I==="FINISHED"?k=z.isFinished:I==="UPCOMING"&&(k=!z.isLiveTime&&!z.isFinished),_&&k}),stats:g}},[l,U,n,M,I]);return{selectedDate:n,setSelectedDate:r,dateStr:i,matches:ie.matches,allMatches:l,stats:ie.stats,loading:u,searchQuery:M,setSearchQuery:P,filterType:I,setFilterType:G,selectedMatch:d,setSelectedMatch:p,isManualModalOpen:m,setIsManualModalOpen:h,editingMatch:w,setEditingMatch:y,saving:f,deleteConfirm:T,setDeleteConfirm:N,isDataPreviewOpen:R,setIsDataPreviewOpen:F,notificationEnabled:W,handlePrevDay:H,handleNextDay:D,handleGoToday:Q,handleSaveMatch:Y,handleDeleteMatch:re,requestNotifyPermission:O}};function Cs({form:t,setForm:n,isMultiCdnMode:r,toggleCdnMode:i,cdnList:s,onAdd:l,onRemove:u,onUpdate:o,onAutoFix:c,statType:d,masterConfigs:p={channels:[],cdnOptions:[]},canEdit:m=!0}){const[h,w]=a.useState(!1),y=f=>t.cdn===f;return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400",children:[e.jsx(wn,{size:14,className:"text-orange-500"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Configuration"})]})}),e.jsxs("div",{className:"group bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm overflow-hidden flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x divide-zinc-100 dark:divide-zinc-800",children:[e.jsxs("div",{className:"flex-1 p-2 flex items-center gap-3 relative",children:[e.jsx(Tt,{size:14,className:"text-zinc-400 shrink-0"}),e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none mb-0.5",children:"Start"}),e.jsx("input",{type:"time",value:t.rangeStart,onChange:f=>n({...t,rangeStart:f.target.value}),disabled:!m,className:"bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 w-[60px] h-4 leading-none disabled:opacity-50"})]}),e.jsx(kn,{size:12,className:"text-zinc-300 dark:text-zinc-700"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none mb-0.5",children:["End ",d==="START"?"(+15m)":"(+2h)"]}),e.jsx("input",{type:"time",value:t.rangeEnd,onChange:f=>n({...t,rangeEnd:f.target.value}),disabled:!m,className:"bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 w-[60px] h-4 leading-none disabled:opacity-50"})]})]}),c&&m&&e.jsx("button",{onClick:c,title:"Auto Calculate Time",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-md text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",children:e.jsx(xr,{size:12})})]}),e.jsxs("div",{className:"flex-[1.5] p-2 flex items-center gap-3 relative",children:[e.jsx(ms,{size:14,className:"text-zinc-400 shrink-0"}),e.jsxs("div",{className:"w-full relative",children:[e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none block mb-0.5",children:"Channel Source"}),e.jsx("input",{type:"text",value:t.liveChannel,onChange:f=>n({...t,liveChannel:f.target.value}),onFocus:()=>m&&w(!0),onBlur:()=>setTimeout(()=>w(!1),200),disabled:!m,placeholder:"Select Channel...",className:"w-full bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 h-4 leading-none placeholder:text-zinc-300 dark:placeholder:text-zinc-700 disabled:opacity-50"}),h&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-3 max-h-40 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-xl z-50 py-1",children:p.channels.length>0?p.channels.filter(f=>f.toLowerCase().includes((t.liveChannel||"").toLowerCase())).map(f=>e.jsxs("div",{onMouseDown:()=>n({...t,liveChannel:f}),className:"px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 cursor-pointer text-xs font-medium text-zinc-700 dark:text-zinc-300 flex items-center justify-between group/item",children:[f,t.liveChannel===f&&e.jsx(we,{size:12,className:"text-orange-500"})]},f)):e.jsx("div",{className:"px-3 py-2 text-xs text-zinc-400 italic",children:"No channels found"})})]})]})]}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-2 border border-zinc-200/50 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wide pl-1",children:"CDN Distribution"}),e.jsxs("div",{className:"flex bg-zinc-200 dark:bg-zinc-800 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>m&&r&&i(),disabled:!m,className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all flex items-center gap-1.5 ${r?"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400":"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm"} ${!m&&"cursor-not-allowed opacity-50"}`,children:"Single"}),e.jsx("button",{onClick:()=>m&&!r&&i(),disabled:!m,className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all flex items-center gap-1.5 ${r?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400"} ${!m&&"cursor-not-allowed opacity-50"}`,children:"Multi-CDN"})]})]}),r?e.jsxs("div",{className:"space-y-1.5",children:[s.map(f=>e.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-white dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700 shadow-sm group",children:[e.jsx("div",{className:"w-[120px] shrink-0 border-r border-zinc-100 dark:border-zinc-700 pr-2",children:e.jsxs("select",{value:f.provider,onChange:x=>o(f.id,"provider",x.target.value),className:"w-full bg-transparent text-[11px] font-bold text-zinc-700 dark:text-zinc-200 outline-none cursor-pointer py-1",children:[e.jsx("option",{value:"Select Provider",children:"Select Provider"}),p.cdnOptions.filter(x=>x.id!=="Multi CDN").map(x=>e.jsx("option",{value:x.id,children:x.label},x.id))]})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(yn,{size:10,className:"absolute left-0 top-1/2 -translate-y-1/2 text-zinc-300 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Enter Config Key...",value:f.key||"",onChange:x=>o(f.id,"key",x.target.value),className:"w-full pl-4 bg-transparent text-[11px] font-medium text-zinc-600 dark:text-zinc-300 placeholder:text-zinc-300 outline-none border-none p-0 focus:ring-0"})]}),s.length>1&&e.jsx("button",{onClick:()=>u(f.id),className:"opacity-0 group-hover:opacity-100 p-1 text-zinc-300 hover:text-red-500 transition-all",children:e.jsx(Ue,{size:12})})]},f.id)),e.jsxs("button",{onClick:l,className:"w-full py-1.5 mt-2 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-700 hover:border-orange-300 dark:hover:border-orange-900/50 text-[10px] font-bold text-zinc-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all flex items-center justify-center gap-1",children:[e.jsx(Mt,{size:10})," Add Provider Layer"]})]}):e.jsx("div",{className:"flex flex-wrap gap-2",children:p.cdnOptions.filter(f=>f.id!=="Multi CDN").map(f=>e.jsxs("button",{onClick:()=>n({...t,cdn:f.id}),className:`group relative px-3 py-1.5 rounded-lg border text-[11px] font-bold transition-all flex items-center gap-2 ${y(f.id)?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-[1.02]":"bg-white dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600 hover:bg-white"}`,children:[e.jsx(ar,{size:12,className:y(f.id)?"opacity-100":"opacity-50 group-hover:opacity-100"}),f.label,y(f.id)&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-orange-500 rounded-full border-2 border-white dark:border-zinc-900"})]},f.id))})]})]})}function Ts({isOpen:t,onClose:n,data:r,headers:i}){const[s,l]=a.useState(!1);if(!t)return null;const u=async()=>{if(r)try{const o=i.join("	"),c=r.map(p=>Object.values(p).join("	")).join(`
`),d=`${o}
${c}`;await navigator.clipboard.writeText(d),l(!0),setTimeout(()=>l(!1),2e3)}catch(o){console.error("Failed to copy:",o)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:n}),e.jsx("div",{className:"fixed inset-0 z-[201] flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"pointer-events-auto bg-white dark:bg-[#0c0c0e] w-full max-w-6xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-slate-100 dark:border-zinc-800 animate-in zoom-in-95 duration-200",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-zinc-800 flex justify-between items-center bg-white dark:bg-zinc-900",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-xl",children:e.jsx(ut,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Data Preview"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Review data before exporting"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:u,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${s?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"bg-slate-900 text-white hover:bg-slate-800 shadow-md"}`,children:[s?e.jsx(we,{size:16}):e.jsx(Sn,{size:16}),s?"Copied!":"Copy Data"]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 dark:hover:bg-zinc-800 rounded-lg text-slate-400 hover:text-rose-500 transition-colors",children:e.jsx(Nt,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar bg-slate-50 dark:bg-[#0c0c0e]",children:!r||r.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 gap-3 min-h-[300px]",children:[e.jsx(ut,{size:48,className:"opacity-20"}),e.jsx("p",{children:"No data available to preview"})]}):e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-100 dark:bg-zinc-900/50 sticky top-0 z-10 shadow-sm",children:e.jsx("tr",{children:i.map((o,c)=>e.jsx("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider whitespace-nowrap border-b border-slate-200 dark:border-zinc-800",children:o},c))})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-zinc-800/50 bg-white dark:bg-zinc-900",children:r.map((o,c)=>e.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-zinc-800/50 transition-colors",children:Object.values(o).map((d,p)=>e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 whitespace-nowrap border-r border-transparent last:border-0",children:d===null||d===""?e.jsx("span",{className:"text-slate-300",children:"-"}):d},p))},c))})]})}),e.jsxs("div",{className:"px-6 py-3 bg-slate-50 dark:bg-zinc-900 border-t border-slate-200 dark:border-zinc-800 text-xs text-slate-400 flex justify-between",children:[e.jsxs("span",{children:["Total Rows: ",r?r.length:0]}),e.jsx("span",{children:"Tab-separated format ready for Excel/Sheets"})]})]})})]})}const ze="schedules",ee=(t,n="")=>{if(!t&&t!==0)return{val:"",unit:n};if(typeof t=="object"&&t.val!==void 0)return t;const r=String(t).toLowerCase();let i=parseFloat(r),s=n;return r.endsWith("m")?s="m":r.endsWith("k")?s="k":r.endsWith("gb")?s="GB":r.endsWith("tb")?s="TB":r.endsWith("mb")&&(s="MB"),{val:isNaN(i)?"":i,unit:s}},Ht={ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:"",rangeStart:"",rangeEnd:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},cdn:"AWS",liveChannel:""};function Ms(t,n){const[r,i]=a.useState("START"),[s,l]=a.useState(!0),[u,o]=a.useState(!1),[c,d]=a.useState(!1),[p,m]=a.useState(!1),[h,w]=a.useState(Ht),[y,f]=a.useState([]),[x,T]=a.useState(!1),[N,R]=a.useState("Unknown"),F=a.useRef(null),[M,P]=a.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[I,G]=a.useState({show:!1,data:[]}),[U,X]=a.useState({isOpen:!1,data:[]}),W=Xt(),{currentUser:$}=Ct(),{toast:Z}=Zt(),O=a.useCallback((b,j="success")=>{b&&Z({description:b,variant:j})},[Z]),H=t?.id?`draft_stats_${t.id}_${r}`:null,D=a.useCallback(async()=>{if(t?.id){o(!0),F.current=null;try{const b=he(le,ze,t.id),j=r==="START"?"start_stat":"end_stat",v=he(le,ze,t.id,"statistics",j),[E,A]=await Promise.all([qt(b),qt(v)]),ne=E.exists()?E.data():{};let ae={...Ht},J=[],se=!1;if(A.exists()){const B=A.data();ae={...ae,...B,liveChannel:B.liveChannel||ne.liveChannel||ne.channel||t.channel||"",requestPeak:ee(B.requestPeak,""),muxViewerUniq:ee(B.muxViewerUniq,""),reqPeakMin:ee(B.reqPeakMin,""),reqTotal:ee(B.reqTotal,""),bwPeakGbps:ee(B.bwPeakGbps,""),bandwidth:ee(B.bandwidth,"")},B.cdnDetails?.length>0?(J=B.cdnDetails.map(ue=>({...ue,requestPeak:ee(ue.requestPeak,""),reqPeakMin:ee(ue.reqPeakMin,""),reqTotal:ee(ue.reqTotal,""),bwPeakGbps:ee(ue.bwPeakGbps,""),bandwidth:ee(ue.bandwidth,""),muxViewerUniq:ee(ue.muxViewerUniq,"")})),se=!0):se=B.cdn==="Multi CDN",R(B.reporter||"Unknown")}else{const B=ne.cdn||"AWS";se=B==="Multi CDN",ae.cdn=B,ae.liveChannel=ne.liveChannel||ne.channel||t.channel||"",se?J=[{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]:J=[]}const Se=localStorage.getItem(H);if(Se)try{const B=JSON.parse(Se);B.matchId===t.id&&(B.form&&(ae={...ae,...B.form}),B.cdnList&&(J=B.cdnList),B.isMultiCdnMode!==void 0&&(se=B.isMultiCdnMode))}catch(B){console.error("Draft load error",B)}A.exists()||R("Unknown"),w(ae),f(J),T(se),F.current=t.id}catch(b){console.error("Fetch Error:",b),O("โหลดข้อมูลไม่สำเร็จ","error")}finally{o(!1),l(!1)}}},[t,r,O,H]);a.useEffect(()=>{D()},[D]),a.useEffect(()=>{if(!s&&!u&&H&&F.current===t?.id){const b={matchId:t.id,form:h,cdnList:y,isMultiCdnMode:x,timestamp:Date.now()};localStorage.setItem(H,JSON.stringify(b))}},[h,y,x,H,s,u,t?.id]),a.useEffect(()=>{x&&h.liveChannel&&y.length>0&&(!y[0].key||y[0].key.trim()==="")&&f(b=>b.map((j,v)=>v===0?{...j,key:h.liveChannel}:j))},[h.liveChannel,x,y]);const Q=()=>{T(b=>!b),!x&&y.length===0&&f([{id:Date.now(),provider:"AWS",key:h.liveChannel||"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]),w(b=>({...b,cdn:x?"AWS":"Multi CDN"}))},Y=()=>f(b=>[...b,{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]),re=b=>y.length>1&&f(j=>j.filter(v=>v.id!==b)),ie=(b,j,v)=>f(E=>E.map(A=>A.id!==b?A:typeof A[j]=="object"&&A[j]!==null?{...A,[j]:{...A[j],...v}}:{...A,[j]:v})),q=()=>{if(y.length<2)return;const b=y[0];f(j=>j.map((v,E)=>E===0?v:{...v,ecsSport:b.ecsSport,ecsEntitlement:b.ecsEntitlement,apiHuawei:b.apiHuawei})),O("Autofilled System Health values","success")},g=b=>{f(j=>j.map(v=>v.id!==b?v:{...v,ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""})),O("Cleared row data","default")},C=b=>{if(!b||!Array.isArray(b)||b.length===0)return;const j=b.map(v=>({id:Date.now()+Math.random(),provider:v.provider||"Select Provider",key:v.key||"",ecsSport:v.ecsSport||"",ecsEntitlement:v.ecsEntitlement||"",apiHuawei:v.apiHuawei||"",requestPeak:ee(v.requestPeak),reqPeakMin:ee(v.reqPeakMin),reqTotal:ee(v.reqTotal),bwPeakGbps:ee(v.bwPeakGbps),bandwidth:ee(v.bandwidth),muxViewerUniq:ee(v.muxViewerUniq),muxScore:v.muxScore||""}));j.length>0&&(f(j),T(!0),X({isOpen:!1,data:[]}),O(`Imported ${j.length} rows successfully`,"success"))},z=a.useCallback((b=!1)=>{let j=t?.startTime||t?.start_time||t?.time;if(!j){b&&O("Time not found","error");return}try{const E=(J=>{let se=String(J).toLowerCase().trim().replace(".",":"),Se=se.replace(/[a-z]/g,"").trim(),[B,ue]=Se.split(":"),Oe=parseInt(B,10),Xr=parseInt(ue||"0",10);return isNaN(Oe)?null:(se.includes("pm")&&Oe<12&&(Oe+=12),{h:Oe,m:Xr})})(j);if(!E)return;const A=(J,se,Se)=>{let B=J*60+se+Se;return B=(B%1440+1440)%1440,`${String(Math.floor(B/60)).padStart(2,"0")}:${String(B%60).padStart(2,"0")}`},ne=A(E.h,E.m,0),ae=A(E.h,E.m,r==="START"?15:120);F.current===t?.id&&w(J=>J.rangeStart&&J.rangeEnd?J:{...J,rangeStart:ne,rangeEnd:ae})}catch{}},[t,r,O]);a.useEffect(()=>{!u&&!s&&t&&z()},[u,s,t,r,z]);const S=a.useCallback(()=>{const b=[];(!h.rangeStart||!h.rangeEnd)&&b.push("กรุณาระบุเวลา Start/End"),h.liveChannel||b.push("กรุณาระบุ Channel");const j=v=>{const E=typeof v=="object"?v?.val:v;return E===""||E===null||E===void 0};return x?(y.length===0&&b.push("At least one CDN provider is required"),y.forEach((v,E)=>{const A=`CDN #${E+1}`;(!v.provider||v.provider==="Select Provider")&&b.push(`${A}: Provider required`),j(v.ecsSport)&&b.push(`${A}: ECS Sport required`),j(v.muxScore)&&b.push(`${A}: Score required`)})):(j(h.ecsSport)&&b.push("ECS Sport required"),j(h.muxScore)&&b.push("Smoothness Score required")),b.length>0?(O(b[0],"error"),!1):!0},[h,y,x,O]);return{state:{statType:r,loading:s,fetching:u,saving:c,isSuccess:p,form:h,cdnList:y,isMultiCdnMode:x,reporterName:N,confirmModal:M,preview:I,importModal:U},actions:{setStatType:i,setForm:w,toggleCdnMode:Q,handleAddCdn:Y,handleRemoveCdn:re,handleUpdateCdnRow:ie,handleAutoFixTime:()=>z(!0),handleSmartSave:async b=>{if(t?.id&&S()){d(!0);try{const j=r==="START"?"start_stat":"end_stat",v={...h,cdn:x?"Multi CDN":h.cdn,cdnDetails:x?y:null,updatedAt:Ze(),statType:r,reporter:typeof $=="object"?$?.name:$||"Unknown"};await hn(he(le,ze,t.id,"statistics",j),v),await pt(he(le,ze,t.id),{[r==="START"?"hasStartStat":"hasEndStat"]:!0,[r==="START"?"startStats":"endStats"]:v,updatedAt:Ze()}),localStorage.removeItem(H),W.invalidateQueries({queryKey:["matches"]}),O("บันทึกข้อมูลเรียบร้อยแล้ว","success"),m(!0),setTimeout(()=>m(!1),2e3),b&&b()}catch{O("บันทึกข้อมูลล้มเหลว","error")}finally{d(!1)}}},requestDelete:()=>{P({isOpen:!0,title:`Reset ${r}?`,message:"Sure to delete?",isDanger:!0,onConfirm:async()=>{P(b=>({...b,isOpen:!1})),d(!0);try{const b=r==="START"?"start_stat":"end_stat";await nr(he(le,ze,t.id,"statistics",b)),await pt(he(le,ze,t.id),{[r==="START"?"hasStartStat":"hasEndStat"]:!1,[r==="START"?"startStats":"endStats"]:null,updatedAt:Ze()}),localStorage.removeItem(H),W.invalidateQueries({queryKey:["matches"]}),O("Reset Success","success"),setTimeout(n,1e3)}catch{O("Reset Failed","error")}finally{d(!1)}}})},handlePreview:()=>{const b=v=>{if(!v)return 0;if(typeof v=="object"&&v.val!==void 0){const E=parseFloat(v.val||0),A=(v.unit||"").toLowerCase();return A==="m"?E*1e6:A==="b"?E*1e9:A==="k"?E*1e3:E}return zn(v)},j=v=>{const E=v?.val||0,A=v?.unit||"";return Nn(E,A===""?"GB":A)?.toLocaleString("en-US",{maximumFractionDigits:4})};try{const v={no:"1",league:t?.league||"-",title:t?.title||t?.match||"-",time:t?.startTime||"-",ecsSport:Je(h.ecsSport,2),ecsEnt:Je(h.ecsEntitlement,2),api:Je(h.apiHuawei,2),reqPeak:pe(b(h.requestPeak)),viewers:pe(b(h.muxViewerUniq)),score:h.muxScore,start:h.rangeStart||"-",end:h.rangeEnd||"-"},E=x&&y.length>0?y.map(A=>[v.no,v.league,v.title,v.time,v.ecsSport,v.ecsEnt,v.api,pe(b(A.requestPeak)),A.provider||"-",A.key||"-",pe(b(A.reqPeakMin)),pe(b(A.reqTotal)),j(A.bwPeakGbps),j(A.bandwidth),pe(b(A.muxViewerUniq)),v.score,v.start,v.end]):[[v.no,v.league,v.title,v.time,v.ecsSport,v.ecsEnt,v.api,pe(b(h.requestPeak)),h.cdn||"-",h.liveChannel||"-",pe(b(h.reqPeakMin)),pe(b(h.reqTotal)),j(h.bwPeakGbps),j(h.bandwidth),v.viewers,v.score,v.start,v.end]];G({show:!0,data:E})}catch{O("Preview Error","error")}},closeConfirm:()=>P(b=>({...b,isOpen:!1})),closePreview:()=>G(b=>({...b,show:!1})),handleAutofillSystemHealth:q,handleClearCdnRow:g,openImportModal:b=>X({isOpen:!0,data:b}),closeImportModal:()=>X({isOpen:!1,data:[]}),handleApplyImport:C}}}function ce({label:t,value:n,unit:r,onChange:i,onUnitChange:s,placeholder:l,color:u="blue",type:o="text",tooltip:c,compact:d=!1,max:p,readOnly:m=!1,thresholds:h,thresholdType:w="lower-is-bad"}){let y=u,f=null;if(h&&n!==""&&n!==null&&n!==void 0){const M=parseFloat(n);isNaN(M)||(w==="higher-is-bad"?M>=h.critical?(y="red",f=qe):M>=h.warning?(y="orange",f=qe):(y="emerald",f=xt):M<=h.critical?(y="red",f=qe):M<=h.warning?(y="orange",f=qe):(y="emerald",f=xt))}const x=M=>{if(!m){if(p!==void 0&&M!==""){const P=parseFloat(M);if(!isNaN(P)&&P>p){i(p.toString());return}if(P<0){i("0");return}}i(M)}},T={blue:{bg:"bg-blue-50/50 dark:bg-blue-900/10",border:"border-blue-100/50 dark:border-blue-900/30",text:"text-blue-600 dark:text-blue-400",accent:"bg-blue-500",glow:"shadow-blue-500/10"},emerald:{bg:"bg-emerald-50/50 dark:bg-emerald-900/10",border:"border-emerald-100/50 dark:border-emerald-900/30",text:"text-emerald-600 dark:text-emerald-400",accent:"bg-emerald-500",glow:"shadow-emerald-500/10"},orange:{bg:"bg-orange-50/50 dark:bg-orange-900/10",border:"border-orange-100/50 dark:border-orange-900/30",text:"text-orange-600 dark:text-orange-400",accent:"bg-orange-500",glow:"shadow-orange-500/10"},purple:{bg:"bg-purple-50/50 dark:bg-purple-900/10",border:"border-purple-100/50 dark:border-purple-900/30",text:"text-purple-600 dark:text-purple-400",accent:"bg-purple-500",glow:"shadow-purple-500/10"},violet:{bg:"bg-violet-50/50 dark:bg-violet-900/10",border:"border-violet-100/50 dark:border-violet-900/30",text:"text-violet-600 dark:text-violet-400",accent:"bg-violet-500",glow:"shadow-violet-500/10"},pink:{bg:"bg-pink-50/50 dark:bg-pink-900/10",border:"border-pink-100/50 dark:border-pink-900/30",text:"text-pink-600 dark:text-pink-400",accent:"bg-pink-500",glow:"shadow-pink-500/10"},cyan:{bg:"bg-cyan-50/50 dark:bg-cyan-900/10",border:"border-cyan-100/50 dark:border-cyan-900/30",text:"text-cyan-600 dark:text-cyan-400",accent:"bg-cyan-500",glow:"shadow-cyan-500/10"},red:{bg:"bg-red-50/50 dark:bg-red-900/10",border:"border-red-100/50 dark:border-red-900/30",text:"text-red-600 dark:text-red-400",accent:"bg-red-500",glow:"shadow-red-500/10"}},N=T[y]||T.blue,F=(()=>{if(!n||isNaN(n))return null;const M=parseFloat(n);if(s){if(!r||r==="raw")return M.toLocaleString();let P=M,I="";switch(r){case"TB":P=M*1024,I="GB";break;case"MB":P=M/1024,I="GB";break;case"KB":P=M/(1024*1024),I="GB";break;case"GB":P=M,I="GB";break;case"k":P=M*1e3,I="";break;case"m":P=M*1e6,I="";break;default:P=M}return I?`${P.toLocaleString(void 0,{maximumFractionDigits:2})} ${I}`:P.toLocaleString()}return null})();return e.jsxs("div",{className:V("relative group rounded-2xl border transition-all duration-300",N.border,N.bg,d?"p-3":"p-4","hover:ring-1 hover:ring-current/10 shadow-sm",N.glow,m&&"opacity-80 grayscale-[0.3]"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:V("font-black uppercase tracking-[0.15em] leading-none truncate pr-2 flex items-center gap-1.5",d?"text-[8px]":"text-[9px]","text-zinc-500 dark:text-zinc-400"),children:[f&&e.jsx(f,{size:10,className:N.text}),t]}),c&&e.jsx(Zr,{size:10,className:"text-zinc-300 cursor-help"})]}),e.jsxs("div",{className:V("flex items-center rounded-xl overflow-hidden bg-white dark:bg-zinc-950 border border-zinc-100 dark:border-zinc-800/50 transition-all",!m&&"focus-within:ring-2 focus-within:ring-offset-1 dark:focus-within:ring-offset-zinc-950",!m&&N.text.replace("text-","focus-within:ring-"),d?"h-10":"h-12"),children:[e.jsx("input",{type:o==="percentage"?"number":o,step:"any",value:n,onChange:M=>x(M.target.value),readOnly:m,placeholder:l||"0",className:V("flex-1 bg-transparent border-none outline-none px-3 font-mono font-black tabular-nums transition-colors min-w-0","placeholder:text-zinc-300 dark:placeholder:text-zinc-800",d?"text-sm":"text-base","dark:text-white",m&&"cursor-not-allowed text-zinc-500",h&&y!=="emerald"&&N.text)}),s?e.jsxs("select",{value:r||"",onChange:M=>!m&&s(M.target.value),disabled:m,className:"h-full w-[60px] shrink-0 bg-zinc-50 dark:bg-zinc-900 border-l border-zinc-100 dark:border-zinc-800 px-1 text-[9px] font-black uppercase text-zinc-500 dark:text-zinc-400 outline-none cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors text-center disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Raw"}),e.jsxs("optgroup",{label:"Count",className:"dark:bg-zinc-900",children:[e.jsx("option",{value:"k",children:"k"}),e.jsx("option",{value:"m",children:"m"})]}),e.jsxs("optgroup",{label:"Data",className:"dark:bg-zinc-900",children:[e.jsx("option",{value:"GB",children:"GB"}),e.jsx("option",{value:"TB",children:"TB"}),e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"KB",children:"KB"})]})]}):o==="percentage"?e.jsx("div",{className:"h-full px-3 flex items-center bg-zinc-50 dark:bg-zinc-900 border-l border-zinc-100 dark:border-zinc-800 shrink-0",children:e.jsx("span",{className:"text-[10px] font-black text-zinc-400",children:"%"})}):null]}),F&&e.jsxs("div",{className:"mt-1.5 flex items-center justify-end gap-1 px-1",children:[e.jsx("span",{className:"text-[7px] font-black text-zinc-300 uppercase",children:"Val"}),e.jsx("span",{className:V("text-[9px] font-black tracking-tight",N.text),children:F})]})]})}const It=({item:t,index:n,icon:r,onRemove:i,onClear:s,isRemovable:l})=>{const u=r;return e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-zinc-100 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-zinc-900 dark:bg-zinc-100 dark:text-black text-white flex items-center justify-center shadow-lg",children:e.jsx(u,{size:14})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-zinc-900 dark:text-white uppercase tracking-[0.2em]",children:t.provider||`Provider ${n+1}`}),e.jsx("p",{className:"text-[9px] text-zinc-400 font-bold uppercase tracking-widest",children:t.key||"Universal Node"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.jsx("button",{onClick:s,className:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",title:"Clear Data",children:e.jsx(ps,{size:14})}),l&&e.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",children:e.jsx(Ue,{size:16})})]})]})},Et=({onClick:t})=>e.jsxs("button",{onClick:t,className:"w-full py-4 border-2 border-dashed border-zinc-200 dark:border-zinc-800/50 rounded-2xl flex justify-center items-center gap-2 text-zinc-400 font-black text-[10px] uppercase tracking-[0.2em] hover:text-blue-500 hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-all active:scale-[0.98]",children:[e.jsx(Mt,{size:14})," Add Provider Layer"]}),Te=(t,n)=>({...t,val:n}),Me=(t,n)=>({...t,unit:n}),hr="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",Ps=({data:t,onChange:n,isMulti:r,cdnList:i,onUpdateCdn:s,onRemoveCdn:l,onAddCdn:u,onAutofill:o,onClearRow:c,canEdit:d=!0})=>{const p=(m,h)=>e.jsxs("div",{className:hr,children:[e.jsx(ce,{label:"ECS Sport",value:m.ecsSport,onChange:w=>h("ecsSport",w),type:"percentage",color:"blue",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!d}),e.jsx(ce,{label:"ECS Entitlement",value:m.ecsEntitlement,onChange:w=>h("ecsEntitlement",w),type:"percentage",color:"purple",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!d}),e.jsx(ce,{label:"API Huawei",value:m.apiHuawei,onChange:w=>h("apiHuawei",w),type:"percentage",color:"orange",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!d}),e.jsx(ce,{label:"WWW & API REQ",value:m.requestPeak?.val,unit:m.requestPeak?.unit,onChange:w=>h("requestPeak",Te(m.requestPeak,w)),onUnitChange:w=>h("requestPeak",Me(m.requestPeak,w)),type:"number",color:"emerald",compact:!0,readOnly:!d})]});return r?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i.length>1&&d&&e.jsx("div",{className:"flex justify-end mb-2",children:e.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:[e.jsx(xr,{size:12})," Autofill System Health"]})}),i.map((m,h)=>e.jsxs("div",{className:"group",children:[e.jsx(It,{item:m,index:h,icon:pr,onRemove:d?()=>l(m.id):null,onClear:d?()=>c(m.id):null,isRemovable:d&&i.length>1}),p(m,(w,y)=>s(m.id,w,y))]},m.id)),d&&e.jsx(Et,{onClick:u})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:p(t,n)})},Is=({data:t,onChange:n,isMulti:r,cdnList:i,onUpdateCdn:s,onRemoveCdn:l,onAddCdn:u,onClearRow:o,canEdit:c=!0})=>{const d=(p,m)=>e.jsxs("div",{className:hr,children:[e.jsx(ce,{label:"Req Peak",value:p.reqPeakMin?.val,unit:p.reqPeakMin?.unit,onChange:h=>m("reqPeakMin",Te(p.reqPeakMin,h)),onUnitChange:h=>m("reqPeakMin",Me(p.reqPeakMin,h)),type:"number",color:"blue",compact:!0,readOnly:!c}),e.jsx(ce,{label:"Req Total",value:p.reqTotal?.val,unit:p.reqTotal?.unit,onChange:h=>m("reqTotal",Te(p.reqTotal,h)),onUnitChange:h=>m("reqTotal",Me(p.reqTotal,h)),type:"number",color:"cyan",compact:!0,readOnly:!c}),e.jsx(ce,{label:"BW Peak",value:p.bwPeakGbps?.val,unit:p.bwPeakGbps?.unit,onChange:h=>m("bwPeakGbps",Te(p.bwPeakGbps,h)),onUnitChange:h=>m("bwPeakGbps",Me(p.bwPeakGbps,h)),type:"number",color:"red",compact:!0,readOnly:!c}),e.jsx(ce,{label:"BW Total",value:p.bandwidth?.val,unit:p.bandwidth?.unit,onChange:h=>m("bandwidth",Te(p.bandwidth,h)),onUnitChange:h=>m("bandwidth",Me(p.bandwidth,h)),type:"number",color:"orange",compact:!0,readOnly:!c})]});return r?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i.map((p,m)=>e.jsxs("div",{className:"group",children:[e.jsx(It,{item:p,index:m,icon:mr,onRemove:c?()=>l(p.id):null,onClear:c?()=>o(p.id):null,isRemovable:c&&i.length>1}),d(p,(h,w)=>s(p.id,h,w))]},p.id)),c&&e.jsx(Et,{onClick:u})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:d(t,n)})},Es=({data:t,onChange:n,isMulti:r,cdnList:i,onUpdateCdn:s,onRemoveCdn:l,onAddCdn:u,onClearRow:o,canEdit:c=!0})=>{const d=(p,m)=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(ce,{label:"Live Viewers",value:p.muxViewerUniq?.val,unit:p.muxViewerUniq?.unit,onChange:h=>m("muxViewerUniq",Te(p.muxViewerUniq,h)),onUnitChange:h=>m("muxViewerUniq",Me(p.muxViewerUniq,h)),type:"number",color:"purple",compact:!0,readOnly:!c}),e.jsx(ce,{label:"Smoothness Score",value:p.muxScore,onChange:h=>m("muxScore",h),type:"number",color:"pink",max:100,thresholdType:"lower-is-bad",thresholds:{warning:80,critical:60},readOnly:!c})]});return r?e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i.map((p,m)=>e.jsxs("div",{className:"group bg-zinc-50 dark:bg-zinc-900/40 p-5 rounded-3xl border border-zinc-100 dark:border-zinc-800/50",children:[e.jsx(It,{item:p,index:m,icon:Jt,onRemove:c?()=>l(p.id):null,onClear:c?()=>o(p.id):null,isRemovable:c&&i.length>1}),d(p,(h,w)=>s(p.id,h,w))]},p.id)),c&&e.jsx(Et,{onClick:u})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:d(t,n)})},Rs=()=>e.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-6 animate-pulse p-6",children:[e.jsx("div",{className:"h-40 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-64 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"}),e.jsx("div",{className:"h-64 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"})]})]}),Be=({icon:t,title:n,iconColor:r,children:i,className:s=""})=>e.jsxs("div",{className:`bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800/50 rounded-[2rem] shadow-sm overflow-hidden transition-all hover:shadow-md ${s}`,children:[(t||n)&&e.jsx("div",{className:"px-6 py-5 border-b border-zinc-50 dark:border-zinc-800/50 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[t&&e.jsx("div",{className:`p-2 rounded-xl bg-zinc-50 dark:bg-zinc-800 ${r}`,children:e.jsx(t,{size:18})}),e.jsx("h3",{className:"text-sm font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-widest",children:n})]})}),e.jsx("div",{className:"p-6",children:i})]});function As({isOpen:t,onClose:n,matchData:r,canEdit:i}){const{state:s,actions:l}=Ms(r,n),[u,o]=a.useState({channels:[],cdnOptions:[]});if(a.useEffect(()=>t?ir.subscribeConfigs(o):void 0,[t]),!t)return null;const c=r?.isLiveTime||r?.hasStartStat&&!r?.hasEndStat;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed z-[200]",children:e.jsx(er,{isOpen:s.confirmModal.isOpen,onClose:l.closeConfirm,...s.confirmModal})}),e.jsx(Ts,{isOpen:s.preview.show,onClose:l.closePreview,data:s.preview.data,headers:["#","League","Match","Time","ECS Sport","ECS Entitlement","API Huawei","WWW & API Request","CDN","Key","Req Peak","Req Total","BW Peak","BW Total","Viewers","Score","Start","End"]}),e.jsx("div",{className:"fixed inset-0 z-[100] bg-zinc-950/60 backdrop-blur-md transition-opacity duration-300",onClick:s.loading?void 0:n}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-0 sm:p-6 pointer-events-none",children:e.jsxs("div",{className:"pointer-events-auto w-full h-full sm:h-[90vh] sm:max-w-7xl bg-white dark:bg-[#050505] sm:rounded-[2.5rem] shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-300 border border-zinc-200 dark:border-zinc-800",onClick:d=>d.stopPropagation(),children:[e.jsx("div",{className:"shrink-0 bg-white dark:bg-zinc-900/50 border-b border-zinc-50 dark:border-zinc-800/50 z-20 backdrop-blur-md",children:e.jsxs("div",{className:"px-6 py-5 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1.5",children:[c?e.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-rose-500 text-white shadow-lg shadow-rose-500/30",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]})," LIVE"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-zinc-100 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-700",children:[e.jsx(Tt,{size:12})," ",r?.startTime||"--:--"]}),e.jsxs("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${s.statType==="START"?"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800/50":"bg-purple-50 text-purple-600 border-purple-100 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800/50"}`,children:[s.statType," Phase"]})]}),e.jsx("h2",{className:"text-xl font-black text-zinc-900 dark:text-white tracking-tight truncate",children:r?.teamA&&r?.teamB?e.jsxs("span",{className:"flex items-center gap-2",children:[r.teamA," ",e.jsx("span",{className:"text-zinc-300 dark:text-zinc-800 italic font-medium",children:"vs"})," ",r.teamB]}):r?.title||"Match Operational Record"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:l.toggleCdnMode,className:"hidden md:flex h-11 px-5 items-center gap-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700 border border-zinc-100 dark:border-zinc-700 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-600 dark:text-zinc-300 transition-all active:scale-95",children:[e.jsx(Mn,{size:14,className:s.isMultiCdnMode?"text-blue-500":"text-zinc-400"}),e.jsx("span",{children:s.isMultiCdnMode?"Multi-CDN":"Single"})]}),e.jsx("button",{onClick:()=>l.setStatType(s.statType==="START"?"END":"START"),className:"h-11 w-11 flex items-center justify-center rounded-xl bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700 text-zinc-500 border border-zinc-100 dark:border-zinc-700 transition-all active:scale-95",title:"Switch Phase",children:e.jsx(os,{size:18})})]}),e.jsx("div",{className:"w-px h-6 bg-zinc-200 dark:bg-zinc-800 mx-1"}),e.jsx("button",{onClick:n,className:"h-11 w-11 flex items-center justify-center rounded-xl bg-zinc-900 dark:bg-white text-white dark:text-black shadow-lg hover:scale-105 active:scale-90 transition-all",children:e.jsx(Nt,{size:20,strokeWidth:2.5})})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 bg-[#fafafa] dark:bg-[#050505] space-y-8",children:s.fetching?e.jsx(Rs,{}):e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsx(Be,{className:"shadow-sm border-none bg-zinc-50 dark:bg-zinc-900/30",children:e.jsx(Cs,{form:s.form,setForm:l.setForm,isMultiCdnMode:s.isMultiCdnMode,toggleCdnMode:l.toggleCdnMode,cdnList:s.cdnList,onAdd:l.handleAddCdn,onRemove:l.handleRemoveCdn,onUpdate:l.handleUpdateCdnRow,onAutoFix:l.handleAutoFixTime,statType:s.statType,masterConfigs:u,canEdit:i})}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(Be,{title:"System Health",icon:pr,iconColor:"text-blue-500 bg-blue-50 dark:bg-blue-900/30",children:e.jsx(Ps,{data:s.form,onChange:(d,p)=>l.setForm({...s.form,[d]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:l.handleUpdateCdnRow,onAddCdn:l.handleAddCdn,onRemoveCdn:l.handleRemoveCdn,canEdit:i})}),e.jsx(Be,{title:"Traffic & Bandwidth",icon:mr,iconColor:"text-rose-500 bg-rose-50 dark:bg-rose-900/30",children:e.jsx(Is,{data:s.form,onChange:(d,p)=>l.setForm({...s.form,[d]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:l.handleUpdateCdnRow,onAddCdn:l.handleAddCdn,onRemoveCdn:l.handleRemoveCdn,canEdit:i})}),e.jsx(Be,{title:"Audience & Engagement",icon:Jt,iconColor:"text-violet-500 bg-violet-50 dark:bg-violet-900/30",children:e.jsx(Es,{data:s.form,onChange:(d,p)=>l.setForm({...s.form,[d]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:l.handleUpdateCdnRow,onAddCdn:l.handleAddCdn,onRemoveCdn:l.handleRemoveCdn,canEdit:i})})]})]})}),e.jsx("div",{className:"shrink-0 p-6 bg-white dark:bg-[#0a0a0a] border-t border-zinc-100 dark:border-zinc-900 transition-all",children:e.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto gap-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:l.requestDelete,disabled:s.loading,className:"group flex items-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all disabled:opacity-30",children:[e.jsx(Ue,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Flush Data"})]}),e.jsxs("button",{onClick:l.handlePreview,disabled:s.loading,className:"group flex items-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all disabled:opacity-30",children:[e.jsx(ut,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[e.jsx("button",{onClick:n,disabled:s.loading,className:"px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:"Dismiss"}),i&&e.jsxs("button",{onClick:()=>l.handleSmartSave(),disabled:s.loading||s.isSuccess,className:`flex-1 sm:flex-none h-14 px-10 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-3 shadow-2xl transition-all active:scale-95 ${s.isSuccess?"bg-emerald-500 text-white shadow-emerald-500/30":"bg-zinc-900 dark:bg-white text-white dark:text-black shadow-zinc-900/20 dark:shadow-white/10"} ${s.loading?"opacity-50 cursor-not-allowed cursor-wait":""}`,children:[s.loading?e.jsx(tr,{size:18,className:"animate-spin"}):s.isSuccess?e.jsx(we,{size:18,strokeWidth:3}):e.jsx(mt,{size:18}),e.jsx("span",{children:s.loading?"Executing...":s.isSuccess?"Finalized":"Commit Changes"})]})]})]})})]})})]})}var _s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ds=_s.reduce((t,n)=>{const r=Pn(`Primitive.${n}`),i=a.forwardRef((s,l)=>{const{asChild:u,...o}=s,c=u?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:l})});return i.displayName=`Primitive.${n}`,{...t,[n]:i}},{}),Ls="Label",fr=a.forwardRef((t,n)=>e.jsx(Ds.label,{...t,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));fr.displayName=Ls;var Os=fr;function bt({className:t,...n}){return e.jsx(Os,{"data-slot":"label",className:V("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...n})}function Ut(t,[n,r]){return Math.min(r,Math.max(n,t))}function qs(t){const n=Bs(t),r=a.forwardRef((i,s)=>{const{children:l,...u}=i,o=a.Children.toArray(l),c=o.find(Vs);if(c){const d=c.props.children,p=o.map(m=>m===c?a.Children.count(d)>1?a.Children.only(null):a.isValidElement(d)?d.props.children:null:m);return e.jsx(n,{...u,ref:s,children:a.isValidElement(d)?a.cloneElement(d,void 0,p):null})}return e.jsx(n,{...u,ref:s,children:l})});return r.displayName=`${t}.Slot`,r}function Bs(t){const n=a.forwardRef((r,i)=>{const{children:s,...l}=r;if(a.isValidElement(s)){const u=Hs(s),o=$s(l,s.props);return s.type!==a.Fragment&&(o.ref=i?Pe(i,u):u),a.cloneElement(s,o)}return a.Children.count(s)>1?a.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Fs=Symbol("radix.slottable");function Vs(t){return a.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Fs}function $s(t,n){const r={...n};for(const i in n){const s=t[i],l=n[i];/^on[A-Z]/.test(i)?s&&l?r[i]=(...o)=>{const c=l(...o);return s(...o),c}:s&&(r[i]=s):i==="style"?r[i]={...s,...l}:i==="className"&&(r[i]=[s,l].filter(Boolean).join(" "))}return{...t,...r}}function Hs(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Us=[" ","Enter","ArrowUp","ArrowDown"],Ws=[" ","Enter"],ke="Select",[We,Ge,Gs]=en(ke),[Ee]=Jr(ke,[Gs,cr]),Ke=cr(),[Ks,be]=Ee(ke),[Qs,Ys]=Ee(ke),gr=t=>{const{__scopeSelect:n,children:r,open:i,defaultOpen:s,onOpenChange:l,value:u,defaultValue:o,onValueChange:c,dir:d,name:p,autoComplete:m,disabled:h,required:w,form:y}=t,f=Ke(n),[x,T]=a.useState(null),[N,R]=a.useState(null),[F,M]=a.useState(!1),P=Bn(d),[I,G]=_t({prop:i,defaultProp:s??!1,onChange:l,caller:ke}),[U,X]=_t({prop:u,defaultProp:o,onChange:c,caller:ke}),W=a.useRef(null),$=x?y||!!x.closest("form"):!0,[Z,O]=a.useState(new Set),H=Array.from(Z).map(D=>D.props.value).join(";");return e.jsx($n,{...f,children:e.jsxs(Ks,{required:w,scope:n,trigger:x,onTriggerChange:T,valueNode:N,onValueNodeChange:R,valueNodeHasChildren:F,onValueNodeHasChildrenChange:M,contentId:xe(),value:U,onValueChange:X,open:I,onOpenChange:G,dir:P,triggerPointerDownPosRef:W,disabled:h,children:[e.jsx(We.Provider,{scope:n,children:e.jsx(Qs,{scope:t.__scopeSelect,onNativeOptionAdd:a.useCallback(D=>{O(Q=>new Set(Q).add(D))},[]),onNativeOptionRemove:a.useCallback(D=>{O(Q=>{const Y=new Set(Q);return Y.delete(D),Y})},[]),children:r})}),$?e.jsxs(qr,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:m,value:U,onChange:D=>X(D.target.value),disabled:h,form:y,children:[U===void 0?e.jsx("option",{value:""}):null,Array.from(Z)]},H):null]})})};gr.displayName=ke;var br="SelectTrigger",vr=a.forwardRef((t,n)=>{const{__scopeSelect:r,disabled:i=!1,...s}=t,l=Ke(r),u=be(br,r),o=u.disabled||i,c=de(n,u.onTriggerChange),d=Ge(r),p=a.useRef("touch"),[m,h,w]=Fr(f=>{const x=d().filter(R=>!R.disabled),T=x.find(R=>R.value===u.value),N=Vr(x,f,T);N!==void 0&&u.onValueChange(N.value)}),y=f=>{o||(u.onOpenChange(!0),w()),f&&(u.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(Hn,{asChild:!0,...l,children:e.jsx(K.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Br(u.value)?"":void 0,...s,ref:c,onClick:te(s.onClick,f=>{f.currentTarget.focus(),p.current!=="mouse"&&y(f)}),onPointerDown:te(s.onPointerDown,f=>{p.current=f.pointerType;const x=f.target;x.hasPointerCapture(f.pointerId)&&x.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(y(f),f.preventDefault())}),onKeyDown:te(s.onKeyDown,f=>{const x=m.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&h(f.key),!(x&&f.key===" ")&&Us.includes(f.key)&&(y(),f.preventDefault())})})})});vr.displayName=br;var wr="SelectValue",kr=a.forwardRef((t,n)=>{const{__scopeSelect:r,className:i,style:s,children:l,placeholder:u="",...o}=t,c=be(wr,r),{onValueNodeHasChildrenChange:d}=c,p=l!==void 0,m=de(n,c.onValueNodeChange);return fe(()=>{d(p)},[d,p]),e.jsx(K.span,{...o,ref:m,style:{pointerEvents:"none"},children:Br(c.value)?e.jsx(e.Fragment,{children:u}):l})});kr.displayName=wr;var Xs="SelectIcon",yr=a.forwardRef((t,n)=>{const{__scopeSelect:r,children:i,...s}=t;return e.jsx(K.span,{"aria-hidden":!0,...s,ref:n,children:i||"▼"})});yr.displayName=Xs;var Zs="SelectPortal",jr=t=>e.jsx(tn,{asChild:!0,...t});jr.displayName=Zs;var ye="SelectContent",Sr=a.forwardRef((t,n)=>{const r=be(ye,t.__scopeSelect),[i,s]=a.useState();if(fe(()=>{s(new DocumentFragment)},[]),!r.open){const l=i;return l?rr.createPortal(e.jsx(zr,{scope:t.__scopeSelect,children:e.jsx(We.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),l):null}return e.jsx(Nr,{...t,ref:n})});Sr.displayName=ye;var oe=10,[zr,ve]=Ee(ye),Js="SelectContentImpl",ea=qs("SelectContent.RemoveScroll"),Nr=a.forwardRef((t,n)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:u,side:o,sideOffset:c,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:h,collisionPadding:w,sticky:y,hideWhenDetached:f,avoidCollisions:x,...T}=t,N=be(ye,r),[R,F]=a.useState(null),[M,P]=a.useState(null),I=de(n,k=>F(k)),[G,U]=a.useState(null),[X,W]=a.useState(null),$=Ge(r),[Z,O]=a.useState(!1),H=a.useRef(!1);a.useEffect(()=>{if(R)return Un(R)},[R]),Wn();const D=a.useCallback(k=>{const[L,...b]=$().map(E=>E.ref.current),[j]=b.slice(-1),v=document.activeElement;for(const E of k)if(E===v||(E?.scrollIntoView({block:"nearest"}),E===L&&M&&(M.scrollTop=0),E===j&&M&&(M.scrollTop=M.scrollHeight),E?.focus(),document.activeElement!==v))return},[$,M]),Q=a.useCallback(()=>D([G,R]),[D,G,R]);a.useEffect(()=>{Z&&Q()},[Z,Q]);const{onOpenChange:Y,triggerPointerDownPosRef:re}=N;a.useEffect(()=>{if(R){let k={x:0,y:0};const L=j=>{k={x:Math.abs(Math.round(j.pageX)-(re.current?.x??0)),y:Math.abs(Math.round(j.pageY)-(re.current?.y??0))}},b=j=>{k.x<=10&&k.y<=10?j.preventDefault():R.contains(j.target)||Y(!1),document.removeEventListener("pointermove",L),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",L),document.addEventListener("pointerup",b,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",b,{capture:!0})}}},[R,Y,re]),a.useEffect(()=>{const k=()=>Y(!1);return window.addEventListener("blur",k),window.addEventListener("resize",k),()=>{window.removeEventListener("blur",k),window.removeEventListener("resize",k)}},[Y]);const[ie,q]=Fr(k=>{const L=$().filter(v=>!v.disabled),b=L.find(v=>v.ref.current===document.activeElement),j=Vr(L,k,b);j&&setTimeout(()=>j.ref.current.focus())}),g=a.useCallback((k,L,b)=>{const j=!H.current&&!b;(N.value!==void 0&&N.value===L||j)&&(U(k),j&&(H.current=!0))},[N.value]),C=a.useCallback(()=>R?.focus(),[R]),z=a.useCallback((k,L,b)=>{const j=!H.current&&!b;(N.value!==void 0&&N.value===L||j)&&W(k)},[N.value]),S=i==="popper"?vt:Cr,_=S===vt?{side:o,sideOffset:c,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:h,collisionPadding:w,sticky:y,hideWhenDetached:f,avoidCollisions:x}:{};return e.jsx(zr,{scope:r,content:R,viewport:M,onViewportChange:P,itemRefCallback:g,selectedItem:G,onItemLeave:C,itemTextRefCallback:z,focusSelectedItem:Q,selectedItemText:X,position:i,isPositioned:Z,searchRef:ie,children:e.jsx(Gn,{as:ea,allowPinchZoom:!0,children:e.jsx(Kn,{asChild:!0,trapped:N.open,onMountAutoFocus:k=>{k.preventDefault()},onUnmountAutoFocus:te(s,k=>{N.trigger?.focus({preventScroll:!0}),k.preventDefault()}),children:e.jsx(sn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:k=>k.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:e.jsx(S,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:k=>k.preventDefault(),...T,..._,onPlaced:()=>O(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:te(T.onKeyDown,k=>{const L=k.ctrlKey||k.altKey||k.metaKey;if(k.key==="Tab"&&k.preventDefault(),!L&&k.key.length===1&&q(k.key),["ArrowUp","ArrowDown","Home","End"].includes(k.key)){let j=$().filter(v=>!v.disabled).map(v=>v.ref.current);if(["ArrowUp","End"].includes(k.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(k.key)){const v=k.target,E=j.indexOf(v);j=j.slice(E+1)}setTimeout(()=>D(j)),k.preventDefault()}})})})})})})});Nr.displayName=Js;var ta="SelectItemAlignedPosition",Cr=a.forwardRef((t,n)=>{const{__scopeSelect:r,onPlaced:i,...s}=t,l=be(ye,r),u=ve(ye,r),[o,c]=a.useState(null),[d,p]=a.useState(null),m=de(n,I=>p(I)),h=Ge(r),w=a.useRef(!1),y=a.useRef(!0),{viewport:f,selectedItem:x,selectedItemText:T,focusSelectedItem:N}=u,R=a.useCallback(()=>{if(l.trigger&&l.valueNode&&o&&d&&f&&x&&T){const I=l.trigger.getBoundingClientRect(),G=d.getBoundingClientRect(),U=l.valueNode.getBoundingClientRect(),X=T.getBoundingClientRect();if(l.dir!=="rtl"){const v=X.left-G.left,E=U.left-v,A=I.left-E,ne=I.width+A,ae=Math.max(ne,G.width),J=window.innerWidth-oe,se=Ut(E,[oe,Math.max(oe,J-ae)]);o.style.minWidth=ne+"px",o.style.left=se+"px"}else{const v=G.right-X.right,E=window.innerWidth-U.right-v,A=window.innerWidth-I.right-E,ne=I.width+A,ae=Math.max(ne,G.width),J=window.innerWidth-oe,se=Ut(E,[oe,Math.max(oe,J-ae)]);o.style.minWidth=ne+"px",o.style.right=se+"px"}const W=h(),$=window.innerHeight-oe*2,Z=f.scrollHeight,O=window.getComputedStyle(d),H=parseInt(O.borderTopWidth,10),D=parseInt(O.paddingTop,10),Q=parseInt(O.borderBottomWidth,10),Y=parseInt(O.paddingBottom,10),re=H+D+Z+Y+Q,ie=Math.min(x.offsetHeight*5,re),q=window.getComputedStyle(f),g=parseInt(q.paddingTop,10),C=parseInt(q.paddingBottom,10),z=I.top+I.height/2-oe,S=$-z,_=x.offsetHeight/2,k=x.offsetTop+_,L=H+D+k,b=re-L;if(L<=z){const v=W.length>0&&x===W[W.length-1].ref.current;o.style.bottom="0px";const E=d.clientHeight-f.offsetTop-f.offsetHeight,A=Math.max(S,_+(v?C:0)+E+Q),ne=L+A;o.style.height=ne+"px"}else{const v=W.length>0&&x===W[0].ref.current;o.style.top="0px";const A=Math.max(z,H+f.offsetTop+(v?g:0)+_)+b;o.style.height=A+"px",f.scrollTop=L-z+f.offsetTop}o.style.margin=`${oe}px 0`,o.style.minHeight=ie+"px",o.style.maxHeight=$+"px",i?.(),requestAnimationFrame(()=>w.current=!0)}},[h,l.trigger,l.valueNode,o,d,f,x,T,l.dir,i]);fe(()=>R(),[R]);const[F,M]=a.useState();fe(()=>{d&&M(window.getComputedStyle(d).zIndex)},[d]);const P=a.useCallback(I=>{I&&y.current===!0&&(R(),N?.(),y.current=!1)},[R,N]);return e.jsx(na,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:w,onScrollButtonChange:P,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:e.jsx(K.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Cr.displayName=ta;var ra="SelectPopperPosition",vt=a.forwardRef((t,n)=>{const{__scopeSelect:r,align:i="start",collisionPadding:s=oe,...l}=t,u=Ke(r);return e.jsx(Qn,{...u,...l,ref:n,align:i,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vt.displayName=ra;var[na,Rt]=Ee(ye,{}),wt="SelectViewport",Tr=a.forwardRef((t,n)=>{const{__scopeSelect:r,nonce:i,...s}=t,l=ve(wt,r),u=Rt(wt,r),o=de(n,l.onViewportChange),c=a.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(We.Slot,{scope:r,children:e.jsx(K.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:te(s.onScroll,d=>{const p=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=u;if(h?.current&&m){const w=Math.abs(c.current-p.scrollTop);if(w>0){const y=window.innerHeight-oe*2,f=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),T=Math.max(f,x);if(T<y){const N=T+w,R=Math.min(y,N),F=N-R;m.style.height=R+"px",m.style.bottom==="0px"&&(p.scrollTop=F>0?F:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});Tr.displayName=wt;var Mr="SelectGroup",[sa,aa]=Ee(Mr),ia=a.forwardRef((t,n)=>{const{__scopeSelect:r,...i}=t,s=xe();return e.jsx(sa,{scope:r,id:s,children:e.jsx(K.div,{role:"group","aria-labelledby":s,...i,ref:n})})});ia.displayName=Mr;var Pr="SelectLabel",oa=a.forwardRef((t,n)=>{const{__scopeSelect:r,...i}=t,s=aa(Pr,r);return e.jsx(K.div,{id:s.id,...i,ref:n})});oa.displayName=Pr;var He="SelectItem",[la,Ir]=Ee(He),Er=a.forwardRef((t,n)=>{const{__scopeSelect:r,value:i,disabled:s=!1,textValue:l,...u}=t,o=be(He,r),c=ve(He,r),d=o.value===i,[p,m]=a.useState(l??""),[h,w]=a.useState(!1),y=de(n,N=>c.itemRefCallback?.(N,i,s)),f=xe(),x=a.useRef("touch"),T=()=>{s||(o.onValueChange(i),o.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(la,{scope:r,value:i,disabled:s,textId:f,isSelected:d,onItemTextChange:a.useCallback(N=>{m(R=>R||(N?.textContent??"").trim())},[]),children:e.jsx(We.ItemSlot,{scope:r,value:i,disabled:s,textValue:p,children:e.jsx(K.div,{role:"option","aria-labelledby":f,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...u,ref:y,onFocus:te(u.onFocus,()=>w(!0)),onBlur:te(u.onBlur,()=>w(!1)),onClick:te(u.onClick,()=>{x.current!=="mouse"&&T()}),onPointerUp:te(u.onPointerUp,()=>{x.current==="mouse"&&T()}),onPointerDown:te(u.onPointerDown,N=>{x.current=N.pointerType}),onPointerMove:te(u.onPointerMove,N=>{x.current=N.pointerType,s?c.onItemLeave?.():x.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(u.onPointerLeave,N=>{N.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:te(u.onKeyDown,N=>{c.searchRef?.current!==""&&N.key===" "||(Ws.includes(N.key)&&T(),N.key===" "&&N.preventDefault())})})})})});Er.displayName=He;var De="SelectItemText",Rr=a.forwardRef((t,n)=>{const{__scopeSelect:r,className:i,style:s,...l}=t,u=be(De,r),o=ve(De,r),c=Ir(De,r),d=Ys(De,r),[p,m]=a.useState(null),h=de(n,T=>m(T),c.onItemTextChange,T=>o.itemTextRefCallback?.(T,c.value,c.disabled)),w=p?.textContent,y=a.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:f,onNativeOptionRemove:x}=d;return fe(()=>(f(y),()=>x(y)),[f,x,y]),e.jsxs(e.Fragment,{children:[e.jsx(K.span,{id:c.textId,...l,ref:h}),c.isSelected&&u.valueNode&&!u.valueNodeHasChildren?rr.createPortal(l.children,u.valueNode):null]})});Rr.displayName=De;var Ar="SelectItemIndicator",_r=a.forwardRef((t,n)=>{const{__scopeSelect:r,...i}=t;return Ir(Ar,r).isSelected?e.jsx(K.span,{"aria-hidden":!0,...i,ref:n}):null});_r.displayName=Ar;var kt="SelectScrollUpButton",Dr=a.forwardRef((t,n)=>{const r=ve(kt,t.__scopeSelect),i=Rt(kt,t.__scopeSelect),[s,l]=a.useState(!1),u=de(n,i.onScrollButtonChange);return fe(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollTop>0;l(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?e.jsx(Or,{...t,ref:u,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});Dr.displayName=kt;var yt="SelectScrollDownButton",Lr=a.forwardRef((t,n)=>{const r=ve(yt,t.__scopeSelect),i=Rt(yt,t.__scopeSelect),[s,l]=a.useState(!1),u=de(n,i.onScrollButtonChange);return fe(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<d;l(p)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?e.jsx(Or,{...t,ref:u,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});Lr.displayName=yt;var Or=a.forwardRef((t,n)=>{const{__scopeSelect:r,onAutoScroll:i,...s}=t,l=ve("SelectScrollButton",r),u=a.useRef(null),o=Ge(r),c=a.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return a.useEffect(()=>()=>c(),[c]),fe(()=>{o().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),e.jsx(K.div,{"aria-hidden":!0,...s,ref:n,style:{flexShrink:0,...s.style},onPointerDown:te(s.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:te(s.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:te(s.onPointerLeave,()=>{c()})})}),ca="SelectSeparator",da=a.forwardRef((t,n)=>{const{__scopeSelect:r,...i}=t;return e.jsx(K.div,{"aria-hidden":!0,...i,ref:n})});da.displayName=ca;var jt="SelectArrow",ua=a.forwardRef((t,n)=>{const{__scopeSelect:r,...i}=t,s=Ke(r),l=be(jt,r),u=ve(jt,r);return l.open&&u.position==="popper"?e.jsx(Yn,{...s,...i,ref:n}):null});ua.displayName=jt;var pa="SelectBubbleInput",qr=a.forwardRef(({__scopeSelect:t,value:n,...r},i)=>{const s=a.useRef(null),l=de(i,s),u=jn(n);return a.useEffect(()=>{const o=s.current;if(!o)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(u!==n&&p){const m=new Event("change",{bubbles:!0});p.call(o,n),o.dispatchEvent(m)}},[u,n]),e.jsx(K.select,{...r,style:{...rn,...r.style},ref:l,defaultValue:n})});qr.displayName=pa;function Br(t){return t===""||t===void 0}function Fr(t){const n=nn(t),r=a.useRef(""),i=a.useRef(0),s=a.useCallback(u=>{const o=r.current+u;n(o),(function c(d){r.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>c(""),1e3))})(o)},[n]),l=a.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,s,l]}function Vr(t,n,r){const s=n.length>1&&Array.from(n).every(d=>d===n[0])?n[0]:n,l=r?t.indexOf(r):-1;let u=xa(t,Math.max(l,0));s.length===1&&(u=u.filter(d=>d!==r));const c=u.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function xa(t,n){return t.map((r,i)=>t[(n+i)%t.length])}var ma=gr,ha=vr,fa=kr,ga=yr,ba=jr,va=Sr,wa=Tr,ka=Er,ya=Rr,ja=_r,Sa=Dr,za=Lr;function rt({...t}){return e.jsx(ma,{"data-slot":"select",...t})}function nt({...t}){return e.jsx(fa,{"data-slot":"select-value",...t})}function st({className:t,size:n="default",children:r,...i}){return e.jsxs(ha,{"data-slot":"select-trigger","data-size":n,className:V("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[r,e.jsx(ga,{asChild:!0,children:e.jsx(Pt,{className:"size-4 opacity-50"})})]})}function at({className:t,children:n,position:r="item-aligned",align:i="center",...s}){return e.jsx(ba,{children:e.jsxs(va,{"data-slot":"select-content",className:V("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,align:i,...s,children:[e.jsx(Na,{}),e.jsx(wa,{className:V("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(Ca,{})]})})}function it({className:t,children:n,...r}){return e.jsxs(ka,{"data-slot":"select-item",className:V("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[e.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(ja,{children:e.jsx(we,{className:"size-4"})})}),e.jsx(ya,{children:n})]})}function Na({className:t,...n}){return e.jsx(Sa,{"data-slot":"select-scroll-up-button",className:V("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(lr,{className:"size-4"})})}function Ca({className:t,...n}){return e.jsx(za,{"data-slot":"select-scroll-down-button",className:V("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Pt,{className:"size-4"})})}var Wt=1,Ta=.9,Ma=.8,Pa=.17,ot=.1,lt=.999,Ia=.9999,Ea=.99,Ra=/[\\\/_+.#"@\[\(\{&]/,Aa=/[\\\/_+.#"@\[\(\{&]/g,_a=/[\s-]/,$r=/[\s-]/g;function St(t,n,r,i,s,l,u){if(l===n.length)return s===t.length?Wt:Ea;var o=`${s},${l}`;if(u[o]!==void 0)return u[o];for(var c=i.charAt(l),d=r.indexOf(c,s),p=0,m,h,w,y;d>=0;)m=St(t,n,r,i,d+1,l+1,u),m>p&&(d===s?m*=Wt:Ra.test(t.charAt(d-1))?(m*=Ma,w=t.slice(s,d-1).match(Aa),w&&s>0&&(m*=Math.pow(lt,w.length))):_a.test(t.charAt(d-1))?(m*=Ta,y=t.slice(s,d-1).match($r),y&&s>0&&(m*=Math.pow(lt,y.length))):(m*=Pa,s>0&&(m*=Math.pow(lt,d-s))),t.charAt(d)!==n.charAt(l)&&(m*=Ia)),(m<ot&&r.charAt(d-1)===i.charAt(l+1)||i.charAt(l+1)===i.charAt(l)&&r.charAt(d-1)!==i.charAt(l))&&(h=St(t,n,r,i,d+1,l+2,u),h*ot>m&&(m=h*ot)),m>p&&(p=m),d=r.indexOf(c,d+1);return u[o]=p,p}function Gt(t){return t.toLowerCase().replace($r," ")}function Da(t,n,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,St(t,n,Gt(t),Gt(n),0,0,{})}var _e='[cmdk-group=""]',ct='[cmdk-group-items=""]',La='[cmdk-group-heading=""]',Hr='[cmdk-item=""]',Kt=`${Hr}:not([aria-disabled="true"])`,zt="cmdk-item-select",Ne="data-value",Oa=(t,n,r)=>Da(t,n,r),Ur=a.createContext(void 0),Le=()=>a.useContext(Ur),Wr=a.createContext(void 0),At=()=>a.useContext(Wr),Gr=a.createContext(void 0),Kr=a.forwardRef((t,n)=>{let r=Ce(()=>{var g,C;return{search:"",value:(C=(g=t.value)!=null?g:t.defaultValue)!=null?C:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=Ce(()=>new Set),s=Ce(()=>new Map),l=Ce(()=>new Map),u=Ce(()=>new Set),o=Qr(t),{label:c,children:d,value:p,onValueChange:m,filter:h,shouldFilter:w,loop:y,disablePointerSelection:f=!1,vimBindings:x=!0,...T}=t,N=xe(),R=xe(),F=xe(),M=a.useRef(null),P=Qa();je(()=>{if(p!==void 0){let g=p.trim();r.current.value=g,I.emit()}},[p]),je(()=>{P(6,Z)},[]);let I=a.useMemo(()=>({subscribe:g=>(u.current.add(g),()=>u.current.delete(g)),snapshot:()=>r.current,setState:(g,C,z)=>{var S,_,k,L;if(!Object.is(r.current[g],C)){if(r.current[g]=C,g==="search")$(),X(),P(1,W);else if(g==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let b=document.getElementById(F);b?b.focus():(S=document.getElementById(N))==null||S.focus()}if(P(7,()=>{var b;r.current.selectedItemId=(b=O())==null?void 0:b.id,I.emit()}),z||P(5,Z),((_=o.current)==null?void 0:_.value)!==void 0){let b=C??"";(L=(k=o.current).onValueChange)==null||L.call(k,b);return}}I.emit()}},emit:()=>{u.current.forEach(g=>g())}}),[]),G=a.useMemo(()=>({value:(g,C,z)=>{var S;C!==((S=l.current.get(g))==null?void 0:S.value)&&(l.current.set(g,{value:C,keywords:z}),r.current.filtered.items.set(g,U(C,z)),P(2,()=>{X(),I.emit()}))},item:(g,C)=>(i.current.add(g),C&&(s.current.has(C)?s.current.get(C).add(g):s.current.set(C,new Set([g]))),P(3,()=>{$(),X(),r.current.value||W(),I.emit()}),()=>{l.current.delete(g),i.current.delete(g),r.current.filtered.items.delete(g);let z=O();P(4,()=>{$(),z?.getAttribute("id")===g&&W(),I.emit()})}),group:g=>(s.current.has(g)||s.current.set(g,new Set),()=>{l.current.delete(g),s.current.delete(g)}),filter:()=>o.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:N,inputId:F,labelId:R,listInnerRef:M}),[]);function U(g,C){var z,S;let _=(S=(z=o.current)==null?void 0:z.filter)!=null?S:Oa;return g?_(g,r.current.search,C):0}function X(){if(!r.current.search||o.current.shouldFilter===!1)return;let g=r.current.filtered.items,C=[];r.current.filtered.groups.forEach(S=>{let _=s.current.get(S),k=0;_.forEach(L=>{let b=g.get(L);k=Math.max(b,k)}),C.push([S,k])});let z=M.current;H().sort((S,_)=>{var k,L;let b=S.getAttribute("id"),j=_.getAttribute("id");return((k=g.get(j))!=null?k:0)-((L=g.get(b))!=null?L:0)}).forEach(S=>{let _=S.closest(ct);_?_.appendChild(S.parentElement===_?S:S.closest(`${ct} > *`)):z.appendChild(S.parentElement===z?S:S.closest(`${ct} > *`))}),C.sort((S,_)=>_[1]-S[1]).forEach(S=>{var _;let k=(_=M.current)==null?void 0:_.querySelector(`${_e}[${Ne}="${encodeURIComponent(S[0])}"]`);k?.parentElement.appendChild(k)})}function W(){let g=H().find(z=>z.getAttribute("aria-disabled")!=="true"),C=g?.getAttribute(Ne);I.setState("value",C||void 0)}function $(){var g,C,z,S;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=i.current.size;return}r.current.filtered.groups=new Set;let _=0;for(let k of i.current){let L=(C=(g=l.current.get(k))==null?void 0:g.value)!=null?C:"",b=(S=(z=l.current.get(k))==null?void 0:z.keywords)!=null?S:[],j=U(L,b);r.current.filtered.items.set(k,j),j>0&&_++}for(let[k,L]of s.current)for(let b of L)if(r.current.filtered.items.get(b)>0){r.current.filtered.groups.add(k);break}r.current.filtered.count=_}function Z(){var g,C,z;let S=O();S&&(((g=S.parentElement)==null?void 0:g.firstChild)===S&&((z=(C=S.closest(_e))==null?void 0:C.querySelector(La))==null||z.scrollIntoView({block:"nearest"})),S.scrollIntoView({block:"nearest"}))}function O(){var g;return(g=M.current)==null?void 0:g.querySelector(`${Hr}[aria-selected="true"]`)}function H(){var g;return Array.from(((g=M.current)==null?void 0:g.querySelectorAll(Kt))||[])}function D(g){let C=H()[g];C&&I.setState("value",C.getAttribute(Ne))}function Q(g){var C;let z=O(),S=H(),_=S.findIndex(L=>L===z),k=S[_+g];(C=o.current)!=null&&C.loop&&(k=_+g<0?S[S.length-1]:_+g===S.length?S[0]:S[_+g]),k&&I.setState("value",k.getAttribute(Ne))}function Y(g){let C=O(),z=C?.closest(_e),S;for(;z&&!S;)z=g>0?Ga(z,_e):Ka(z,_e),S=z?.querySelector(Kt);S?I.setState("value",S.getAttribute(Ne)):Q(g)}let re=()=>D(H().length-1),ie=g=>{g.preventDefault(),g.metaKey?re():g.altKey?Y(1):Q(1)},q=g=>{g.preventDefault(),g.metaKey?D(0):g.altKey?Y(-1):Q(-1)};return a.createElement(K.div,{ref:n,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:g=>{var C;(C=T.onKeyDown)==null||C.call(T,g);let z=g.nativeEvent.isComposing||g.keyCode===229;if(!(g.defaultPrevented||z))switch(g.key){case"n":case"j":{x&&g.ctrlKey&&ie(g);break}case"ArrowDown":{ie(g);break}case"p":case"k":{x&&g.ctrlKey&&q(g);break}case"ArrowUp":{q(g);break}case"Home":{g.preventDefault(),D(0);break}case"End":{g.preventDefault(),re();break}case"Enter":{g.preventDefault();let S=O();if(S){let _=new Event(zt);S.dispatchEvent(_)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:G.inputId,id:G.labelId,style:Xa},c),Qe(t,g=>a.createElement(Wr.Provider,{value:I},a.createElement(Ur.Provider,{value:G},g))))}),qa=a.forwardRef((t,n)=>{var r,i;let s=xe(),l=a.useRef(null),u=a.useContext(Gr),o=Le(),c=Qr(t),d=(i=(r=c.current)==null?void 0:r.forceMount)!=null?i:u?.forceMount;je(()=>{if(!d)return o.item(s,u?.id)},[d]);let p=Yr(s,l,[t.value,t.children,l],t.keywords),m=At(),h=ge(P=>P.value&&P.value===p.current),w=ge(P=>d||o.filter()===!1?!0:P.search?P.filtered.items.get(s)>0:!0);a.useEffect(()=>{let P=l.current;if(!(!P||t.disabled))return P.addEventListener(zt,y),()=>P.removeEventListener(zt,y)},[w,t.onSelect,t.disabled]);function y(){var P,I;f(),(I=(P=c.current).onSelect)==null||I.call(P,p.current)}function f(){m.setState("value",p.current,!0)}if(!w)return null;let{disabled:x,value:T,onSelect:N,forceMount:R,keywords:F,...M}=t;return a.createElement(K.div,{ref:Pe(l,n),...M,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!h,"data-disabled":!!x,"data-selected":!!h,onPointerMove:x||o.getDisablePointerSelection()?void 0:f,onClick:x?void 0:y},t.children)}),Ba=a.forwardRef((t,n)=>{let{heading:r,children:i,forceMount:s,...l}=t,u=xe(),o=a.useRef(null),c=a.useRef(null),d=xe(),p=Le(),m=ge(w=>s||p.filter()===!1?!0:w.search?w.filtered.groups.has(u):!0);je(()=>p.group(u),[]),Yr(u,o,[t.value,t.heading,c]);let h=a.useMemo(()=>({id:u,forceMount:s}),[s]);return a.createElement(K.div,{ref:Pe(o,n),...l,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&a.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Qe(t,w=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},a.createElement(Gr.Provider,{value:h},w))))}),Fa=a.forwardRef((t,n)=>{let{alwaysRender:r,...i}=t,s=a.useRef(null),l=ge(u=>!u.search);return!r&&!l?null:a.createElement(K.div,{ref:Pe(s,n),...i,"cmdk-separator":"",role:"separator"})}),Va=a.forwardRef((t,n)=>{let{onValueChange:r,...i}=t,s=t.value!=null,l=At(),u=ge(d=>d.search),o=ge(d=>d.selectedItemId),c=Le();return a.useEffect(()=>{t.value!=null&&l.setState("search",t.value)},[t.value]),a.createElement(K.input,{ref:n,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:s?t.value:u,onChange:d=>{s||l.setState("search",d.target.value),r?.(d.target.value)}})}),$a=a.forwardRef((t,n)=>{let{children:r,label:i="Suggestions",...s}=t,l=a.useRef(null),u=a.useRef(null),o=ge(d=>d.selectedItemId),c=Le();return a.useEffect(()=>{if(u.current&&l.current){let d=u.current,p=l.current,m,h=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let w=d.offsetHeight;p.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(m),h.unobserve(d)}}},[]),a.createElement(K.div,{ref:Pe(l,n),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":i,id:c.listId},Qe(t,d=>a.createElement("div",{ref:Pe(u,c.listInnerRef),"cmdk-list-sizer":""},d)))}),Ha=a.forwardRef((t,n)=>{let{open:r,onOpenChange:i,overlayClassName:s,contentClassName:l,container:u,...o}=t;return a.createElement(In,{open:r,onOpenChange:i},a.createElement(En,{container:u},a.createElement(Rn,{"cmdk-overlay":"",className:s}),a.createElement(An,{"aria-label":t.label,"cmdk-dialog":"",className:l},a.createElement(Kr,{ref:n,...o}))))}),Ua=a.forwardRef((t,n)=>ge(r=>r.filtered.count===0)?a.createElement(K.div,{ref:n,...t,"cmdk-empty":"",role:"presentation"}):null),Wa=a.forwardRef((t,n)=>{let{progress:r,children:i,label:s="Loading...",...l}=t;return a.createElement(K.div,{ref:n,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Qe(t,u=>a.createElement("div",{"aria-hidden":!0},u)))}),Re=Object.assign(Kr,{List:$a,Item:qa,Input:Va,Group:Ba,Separator:Fa,Dialog:Ha,Empty:Ua,Loading:Wa});function Ga(t,n){let r=t.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function Ka(t,n){let r=t.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Qr(t){let n=a.useRef(t);return je(()=>{n.current=t}),n}var je=typeof window>"u"?a.useEffect:a.useLayoutEffect;function Ce(t){let n=a.useRef();return n.current===void 0&&(n.current=t()),n}function ge(t){let n=At(),r=()=>t(n.snapshot());return a.useSyncExternalStore(n.subscribe,r,r)}function Yr(t,n,r,i=[]){let s=a.useRef(),l=Le();return je(()=>{var u;let o=(()=>{var d;for(let p of r){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(d=p.current.textContent)==null?void 0:d.trim():s.current}})(),c=i.map(d=>d.trim());l.value(t,o,c),(u=n.current)==null||u.setAttribute(Ne,o),s.current=o}),s}var Qa=()=>{let[t,n]=a.useState(),r=Ce(()=>new Map);return je(()=>{r.current.forEach(i=>i()),r.current=new Map},[t]),(i,s)=>{r.current.set(i,s),n({})}};function Ya(t){let n=t.type;return typeof n=="function"?n(t.props):"render"in n?n.render(t.props):t}function Qe({asChild:t,children:n},r){return t&&a.isValidElement(n)?a.cloneElement(Ya(n),{ref:n.ref},r(n.props.children)):r(n)}var Xa={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Za({className:t,...n}){return e.jsx(Re,{"data-slot":"command",className:V("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...n})}function Ja({className:t,...n}){return e.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[e.jsx(dr,{className:"size-4 shrink-0 opacity-50"}),e.jsx(Re.Input,{"data-slot":"command-input",className:V("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...n})]})}function ei({className:t,...n}){return e.jsx(Re.List,{"data-slot":"command-list",className:V("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...n})}function ti({...t}){return e.jsx(Re.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function ri({className:t,...n}){return e.jsx(Re.Group,{"data-slot":"command-group",className:V("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...n})}function ni({className:t,...n}){return e.jsx(Re.Item,{"data-slot":"command-item",className:V("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}const Qt=({icon:t,title:n})=>{const r=t;return e.jsxs("div",{className:"flex items-center gap-2.5 pb-2.5 mb-4 border-b border-zinc-100 dark:border-zinc-800/50",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 flex items-center justify-center text-zinc-500",children:e.jsx(r,{size:16})}),e.jsx("span",{className:"text-sm font-bold tracking-tight text-zinc-900 dark:text-zinc-100",children:n})]})},dt=({label:t,icon:n,children:r})=>{const i=n;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(bt,{className:"text-[10px] font-black uppercase tracking-[0.1em] text-zinc-400 flex items-center gap-2 ml-1",children:[i&&e.jsx(i,{size:12,className:"text-zinc-400"}),t]}),r]})};function si({isOpen:t,onClose:n,onSubmit:r,initialData:i,selectedDate:s,saving:l}){const{currentUser:u}=Ct(),[o,c]=a.useState({league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:"",channel:"",cdn:"AWS"}),[d,p]=a.useState({leagues:[],channels:[],cdnOptions:[]}),[m,h]=a.useState(!1);a.useEffect(()=>{const x=ir.subscribeConfigs(T=>p(T));return()=>x()},[]),a.useEffect(()=>{let x=!0;return t&&setTimeout(()=>{x&&c(i?{league:i.league||"",match:i.match||i.title||"",teamA:i.teamA||"",teamB:i.teamB||"",startTime:i.startTime||"",startDate:i.startDate||"",channel:i.channel||i.liveChannel||"",cdn:i.cdn||"AWS"}:{league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:s||new Date().toISOString().split("T")[0],channel:"",cdn:"AWS"})},0),()=>{x=!1}},[t,i,s]);const w=x=>{let T={...o,match:x};const R=[" vs "," VS "," Vs "," - "," v "].find(F=>x.includes(F));if(R){const F=x.split(R);F.length>=2&&(T.teamA=F[0].trim(),T.teamB=F.slice(1).join(R).trim())}c(T)},y=x=>{x.preventDefault();const N=(typeof u=="object"?u?.name:u)||"System",R={...o,...i?{updatedBy:N}:{createdBy:N}};r(R)},f=o.teamA&&o.teamB&&o.startDate&&o.startTime;return e.jsx(_n,{open:t,onOpenChange:n,children:e.jsx(Dn,{showCloseButton:!1,className:"max-w-[95vw] sm:max-w-[750px] p-0 gap-0 overflow-hidden bg-white dark:bg-[#09090b] border-zinc-200 dark:border-zinc-800 sm:rounded-[2.5rem] rounded-t-[2.5rem] shadow-2xl block animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("form",{id:"match-form",onSubmit:y,className:"flex flex-col h-full max-h-[95vh]",children:[e.jsxs("div",{className:"shrink-0 px-6 py-6 bg-zinc-50/50 dark:bg-black/20 border-b border-zinc-100 dark:border-zinc-900 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-zinc-900 dark:bg-white text-white dark:text-black flex items-center justify-center shadow-xl shadow-zinc-200 dark:shadow-none",children:i?e.jsx(an,{size:24}):e.jsx(mt,{size:24})}),e.jsxs("div",{children:[e.jsxs(Ln,{className:"text-xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[i?"Edit Match":"New Match Entry",i&&e.jsx(Fn,{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-none px-2 py-0 text-[10px] uppercase font-bold",children:"Live Sync"})]}),e.jsx("p",{className:"text-xs font-medium text-zinc-500 mt-0.5",children:"Configure tournament and broadcast details"})]})]}),e.jsx(On,{asChild:!0,children:e.jsx(Ae,{variant:"ghost",size:"icon",className:"w-10 h-10 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:e.jsx(Nt,{size:20})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-3",children:[e.jsx("div",{className:"w-full sm:w-48 shrink-0",children:e.jsxs(rt,{value:o.league,onValueChange:x=>c({...o,league:x}),children:[e.jsx(st,{className:"h-11 bg-white dark:bg-black border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm pl-4 text-xs font-bold",children:e.jsx(nt,{placeholder:""})}),e.jsx(at,{className:"rounded-xl border-zinc-200 dark:border-zinc-800 shadow-xl",children:d.leagues.map(x=>e.jsx(it,{value:x,className:"text-xs transition-colors",children:x},x))})]})}),e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none transition-transform group-focus-within:scale-110",children:e.jsx(Xn,{size:16,className:"text-amber-500 fill-amber-500/10"})}),e.jsx(et,{placeholder:"",value:o.match,onChange:x=>w(x.target.value),className:"pl-11 h-11 bg-white dark:bg-black border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white focus:border-transparent text-xs font-medium transition-all"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 sm:p-8 space-y-8",children:[e.jsx("div",{className:"relative bg-white dark:bg-[#0a0a0b] rounded-[2rem] border border-zinc-200 dark:border-zinc-800 shadow-xl p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsxs("div",{className:"flex-1 w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(Zn,{size:14,className:"text-zinc-400"}),e.jsx(bt,{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Home Team"})]}),e.jsx(et,{value:o.teamA,onChange:x=>c({...o,teamA:x.target.value}),placeholder:"",className:"h-12 text-center text-lg font-bold bg-zinc-50 dark:bg-zinc-900/50 border-none transition-all rounded-2xl focus:bg-white dark:focus:bg-black ring-1 ring-zinc-100 dark:ring-zinc-800 focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white"})]}),e.jsxs("div",{className:"relative shrink-0 flex items-center justify-center w-14 h-14",children:[e.jsx("div",{className:"absolute inset-0 bg-zinc-100 dark:bg-zinc-800 rounded-full animate-pulse opacity-50"}),e.jsx("div",{className:"relative w-12 h-12 rounded-full bg-white dark:bg-zinc-900 flex items-center justify-center border-2 border-zinc-100 dark:border-zinc-800 text-zinc-900 dark:text-white font-black text-xs shadow-inner italic",children:"VS"})]}),e.jsxs("div",{className:"flex-1 w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 px-1",children:[e.jsx(bt,{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400 text-right",children:"Away Team"}),e.jsx(gs,{size:14,className:"text-zinc-400"})]}),e.jsx(et,{value:o.teamB,onChange:x=>c({...o,teamB:x.target.value}),placeholder:"",className:"h-12 text-center text-lg font-bold bg-zinc-50 dark:bg-zinc-900/50 border-none transition-all rounded-2xl focus:bg-white dark:focus:bg-black ring-1 ring-zinc-100 dark:ring-zinc-800 focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(Qt,{icon:ur,title:"Broadcast Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(dt,{label:"Date",icon:on,children:e.jsxs(ht,{children:[e.jsx(ft,{asChild:!0,children:e.jsx(Ae,{variant:"outline",className:V("w-full h-11 justify-start rounded-xl border-zinc-200 dark:border-zinc-800 px-4 text-xs font-bold",!o.startDate&&"text-muted-foreground"),children:o.startDate?Ie(Ft(o.startDate),"dd MMM yyyy"):""})}),e.jsx(gt,{className:"w-auto p-0 rounded-2xl border-zinc-200 dark:border-zinc-800 shadow-2xl",align:"start",children:e.jsx(or,{mode:"single",selected:o.startDate?Ft(o.startDate):void 0,onSelect:x=>x&&c({...o,startDate:Ie(x,"yyyy-MM-dd")}),initialFocus:!0,className:"rounded-2xl"})})]})}),e.jsx(dt,{label:"Time (UTC+7)",icon:Tt,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(rt,{value:o.startTime?.split(":")[0]||"19",onValueChange:x=>c({...o,startTime:`${x}:${o.startTime?.split(":")[1]||"00"}`}),children:[e.jsx(st,{className:"h-11 rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold",children:e.jsx(nt,{placeholder:""})}),e.jsx(at,{className:"h-64 rounded-xl",children:Array.from({length:24},(x,T)=>T.toString().padStart(2,"0")).map(x=>e.jsx(it,{value:x,className:"text-xs",children:x},x))})]}),e.jsx("span",{className:"text-zinc-300 font-bold",children:":"}),e.jsxs(rt,{value:o.startTime?.split(":")[1]||"00",onValueChange:x=>c({...o,startTime:`${o.startTime?.split(":")[0]||"00"}:${x}`}),children:[e.jsx(st,{className:"h-11 rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold",children:e.jsx(nt,{placeholder:""})}),e.jsx(at,{className:"h-64 rounded-xl",children:["00","05","10","15","20","25","30","35","40","45","50","55"].map(x=>e.jsx(it,{value:x,className:"text-xs",children:x},x))})]})]})})]}),e.jsx(dt,{label:"Source Channel",icon:Vt,children:e.jsxs(ht,{open:m,onOpenChange:h,children:[e.jsx(ft,{asChild:!0,children:e.jsxs(Ae,{variant:"outline",role:"combobox",className:"w-full h-11 justify-between rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold text-zinc-700 dark:text-zinc-300 transition-all hover:bg-zinc-50 dark:hover:bg-zinc-900",children:[o.channel?o.channel:"",e.jsx(Vt,{className:"ml-2 h-4 w-4 shrink-0 opacity-40"})]})}),e.jsx(gt,{className:"w-[300px] p-0 rounded-2xl border-zinc-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:e.jsxs(Za,{className:"bg-white dark:bg-zinc-950",children:[e.jsx(Ja,{placeholder:"",className:"h-11 text-xs"}),e.jsxs(ei,{className:"max-h-[240px] custom-scrollbar",children:[e.jsx(ti,{className:"py-6 text-xs text-zinc-500 text-center uppercase tracking-widest font-black",children:"No results found"}),e.jsx(ri,{children:d.channels.map(x=>e.jsxs(ni,{value:x,className:"flex items-center gap-2 py-2.5 px-4 cursor-pointer",onSelect:T=>{c({...o,channel:T===o.channel?"":T}),h(!1)},children:[e.jsx("div",{className:V("w-4 h-4 rounded-full border-2 flex items-center justify-center transition-all",o.channel===x?"border-zinc-900 dark:border-white bg-zinc-900 dark:bg-white":"border-zinc-200 dark:border-zinc-800"),children:e.jsx(we,{className:V("h-2.5 w-2.5",o.channel===x?"text-white dark:text-black":"opacity-0")})}),e.jsx("span",{className:"text-xs font-medium",children:x})]},x))})]})]})})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Qt,{icon:ar,title:"Cloud Platform"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.cdnOptions.map(x=>e.jsxs("button",{type:"button",onClick:()=>c({...o,cdn:x.id}),className:V("relative flex flex-col items-start gap-4 p-4 rounded-2xl border-2 transition-all group overflow-hidden",o.cdn===x.id?"border-zinc-900 dark:border-white bg-zinc-50 dark:bg-zinc-900":"border-zinc-100 dark:border-zinc-900 bg-white dark:bg-black/40 hover:border-zinc-200 dark:hover:border-zinc-800"),children:[o.cdn===x.id&&e.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 bg-zinc-900 dark:bg-white rounded-bl-xl flex items-center justify-center text-white dark:text-black",children:e.jsx(we,{size:14,strokeWidth:3})}),e.jsx("div",{className:V("w-8 h-8 rounded-xl flex items-center justify-center transition-all",o.cdn===x.id?"bg-white dark:bg-zinc-800 shadow-sm":"bg-zinc-50 dark:bg-zinc-900"),children:e.jsx("div",{className:V("w-2 h-2 rounded-full",x.color||"bg-zinc-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:V("text-[10px] font-black uppercase tracking-widest",o.cdn===x.id?"text-zinc-900 dark:text-zinc-100":"text-zinc-400"),children:"CDN Node"}),e.jsx("p",{className:V("text-xs font-bold leading-none mt-1",o.cdn===x.id?"text-zinc-900 dark:text-zinc-100":"text-zinc-500"),children:x.label})]})]},x.id))})]})]})]}),e.jsxs(qn,{className:"shrink-0 p-6 sm:px-10 bg-white dark:bg-black border-t border-zinc-100 dark:border-zinc-800 flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:[e.jsx(Ae,{type:"button",variant:"outline",onClick:n,disabled:l,className:"h-12 border-none bg-zinc-100 dark:bg-zinc-900 hover:bg-zinc-200 dark:hover:bg-zinc-800 text-zinc-600 dark:text-zinc-400 rounded-2xl font-bold transition-all px-8 order-2 sm:order-1",children:"Cancel"}),e.jsxs(Ae,{type:"submit",disabled:l||!f,className:V("h-12 min-w-[180px] rounded-2xl font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 flex items-center justify-center gap-3 order-1 sm:order-2",i?"bg-emerald-500 hover:bg-emerald-600 text-white shadow-emerald-200 dark:shadow-none":"bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-black dark:hover:bg-zinc-100 shadow-zinc-200 dark:shadow-none"),children:[l?e.jsx(tr,{className:"h-5 w-5 animate-spin"}):i?e.jsx(we,{size:20,strokeWidth:3}):e.jsx(mt,{size:20}),l?"Synchronizing...":i?"Save Changes":"Publish Entry"]})]})]})})})}const ai=({className:t})=>{const[n,r]=a.useState(new Date);return a.useEffect(()=>{const i=setInterval(()=>r(new Date),1e3);return()=>clearInterval(i)},[]),e.jsxs("div",{className:V("flex items-center gap-2 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-sm font-mono text-zinc-700 dark:text-zinc-300 font-bold",t),children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),e.jsx("span",{className:"min-w-[64px] text-center",children:Ie(n,"HH:mm:ss")})]})},ii=a.memo(({match:t,onClick:n,onEdit:r,onDelete:i,canEdit:s})=>{const[l,u]=a.useState(!1),o=t.isLiveTime,c=t.isFinished,d=o?"bg-red-500":c?"bg-zinc-400 dark:bg-zinc-600":"bg-emerald-500",p=o?"bg-red-50 dark:bg-red-950/30":c?"bg-zinc-50 dark:bg-zinc-900/70":"bg-white dark:bg-zinc-900",m=c?"text-zinc-500 dark:text-zinc-500":"text-zinc-900 dark:text-zinc-50",h=o?"text-red-600 dark:text-red-500":c?"text-zinc-500 dark:text-zinc-500":"text-zinc-900 dark:text-zinc-50";return e.jsxs("div",{onClick:n,className:`relative group rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.005] hover:border-zinc-300 dark:hover:border-zinc-700 ${p}`,children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${d}`}),e.jsx("div",{className:"p-4 pl-5",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center min-w-[3.5rem] pt-1",children:[e.jsx("span",{className:`text-xl font-black tracking-tight ${h}`,children:t.startTime}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${o?"bg-red-500 animate-pulse":c?"bg-zinc-400 dark:bg-zinc-600":"bg-emerald-500"}`}),e.jsx("span",{className:"text-[9px] font-bold uppercase text-zinc-500 dark:text-zinc-400",children:o?"LIVE":c?"END":"SOON"})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm md:text-base font-bold truncate pr-2 ${m}`,children:t.teamA}),(o||c)&&e.jsx("span",{className:"text-lg font-black font-mono w-8 text-center bg-zinc-100 dark:bg-zinc-800 rounded text-zinc-900 dark:text-zinc-100",children:t.scoreA})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm md:text-base font-bold truncate pr-2 ${m}`,children:t.teamB}),(o||c)&&e.jsx("span",{className:"text-lg font-black font-mono w-8 text-center bg-zinc-100 dark:bg-zinc-800 rounded text-zinc-900 dark:text-zinc-100",children:t.scoreB})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("button",{onClick:w=>{w.stopPropagation(),u(!l)},className:"md:hidden p-1 text-zinc-500 dark:text-zinc-400",children:l?e.jsx(lr,{size:20}):e.jsx(Pt,{size:20})}),e.jsx("div",{className:"hidden md:flex items-center gap-1",children:s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w=>{w.stopPropagation(),r(t)},className:"p-1.5 text-zinc-500 dark:text-zinc-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-950/30 transition-colors",children:e.jsx(Vn,{size:14})}),e.jsx("button",{onClick:w=>{w.stopPropagation(),i(t.id)},className:"p-1.5 text-zinc-500 dark:text-zinc-400 hover:text-red-600 dark:hover:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors",children:e.jsx(Ue,{size:14})})]})})]})]})}),e.jsxs("div",{className:`bg-zinc-50/80 dark:bg-zinc-900/70 border-t border-zinc-100 dark:border-zinc-800 px-4 py-2 text-xs text-zinc-600 dark:text-zinc-400 flex flex-wrap items-center gap-x-4 gap-y-2 ${l?"block":"hidden md:flex"}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[40%]",children:[e.jsx(Jn,{size:12,className:"shrink-0"}),e.jsx("span",{className:"truncate font-medium",children:t.league})]}),e.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[40%]",children:[e.jsx(ur,{size:12,className:"shrink-0"}),e.jsx("span",{className:"truncate font-medium",children:t.channel||"No Channel"})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-3 shrink-0",children:[e.jsx(Yt,{active:t.hasStartStat,label:"S",title:"Start Stats"}),e.jsx(Yt,{active:t.hasEndStat,label:"E",title:"End Stats"})]}),l&&s&&e.jsxs("div",{className:"w-full flex justify-end gap-3 pt-2 mt-2 border-t border-zinc-200 dark:border-zinc-700 md:hidden",children:[e.jsx("button",{onClick:w=>{w.stopPropagation(),r(t)},className:"text-[10px] font-bold uppercase text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950/30 px-3 py-1.5 rounded-md",children:"Edit"}),e.jsx("button",{onClick:w=>{w.stopPropagation(),i(t.id)},className:"text-[10px] font-bold uppercase text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-950/30 px-3 py-1.5 rounded-md",children:"Delete"})]})]})]})}),Yt=({active:t,label:n,title:r})=>e.jsxs("div",{className:"flex items-center gap-1",title:r,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-zinc-300 dark:bg-zinc-600"}`}),e.jsx("span",{className:"text-[9px] font-black text-zinc-500 dark:text-zinc-400",children:n})]}),Fe=a.memo(({label:t,icon:n,count:r,active:i,onClick:s,isLive:l})=>{const u=n;return e.jsxs("button",{onClick:s,className:V("flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all whitespace-nowrap border select-none",i?l?"bg-red-500 text-white border-red-500 shadow-sm":"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-300 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:[e.jsx(u,{size:14,className:l&&i?"animate-pulse":""}),e.jsx("span",{className:"hidden sm:inline",children:t}),e.jsx("span",{className:V("px-1.5 py-0.5 rounded-md text-[9px] min-w-[18px] text-center font-bold",i?"bg-white/20 dark:bg-black/20":"bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300"),children:r})]})});function Gi(){const{currentUser:t}=Ct(),n=ln(t,[Dt.LEAD,Dt.ENGINEER]),{selectedDate:r,setSelectedDate:i,matches:s,allMatches:l,loading:u,stats:o,searchQuery:c,setSearchQuery:d,filterType:p,setFilterType:m,selectedMatch:h,setSelectedMatch:w,isManualModalOpen:y,setIsManualModalOpen:f,editingMatch:x,setEditingMatch:T,saving:N,deleteConfirm:R,setDeleteConfirm:F,isDataPreviewOpen:M,setIsDataPreviewOpen:P,handlePrevDay:I,handleNextDay:G,handleGoToday:U,handleSaveMatch:X,handleDeleteMatch:W}=Ns(),[$,Z]=a.useState(!0),O=$?s.filter(D=>!D.isFinished):s,H=$?s.filter(D=>D.isFinished).length:0;return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-black overflow-hidden relative",children:[e.jsx("header",{className:"shrink-0 sticky top-0 z-10 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-xl border-b border-zinc-200 dark:border-zinc-800 px-4 py-3 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ai,{className:"text-xs md:text-sm text-zinc-700 dark:text-zinc-200"}),e.jsx("div",{className:"hidden sm:block h-8 w-px bg-zinc-200 dark:bg-zinc-800"}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("h1",{className:"text-lg font-black tracking-tight text-zinc-900 dark:text-zinc-50 uppercase leading-none",children:"Match Stat"})})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-zinc-100 dark:bg-zinc-900 p-1 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[e.jsx("button",{onClick:I,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-all",children:e.jsx(es,{size:16})}),e.jsxs(ht,{children:[e.jsx(ft,{asChild:!0,children:e.jsx("button",{className:"px-3 py-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-xs font-black uppercase tracking-wider dark:text-zinc-300 transition-all",children:Lt(r)?"Today":Ie(r,"dd MMM yyyy")})}),e.jsx(gt,{className:"w-auto p-0 border-zinc-200 dark:border-zinc-800",align:"center",children:e.jsx(or,{mode:"single",selected:r,onSelect:D=>D&&i(D),initialFocus:!0,className:"bg-white dark:bg-zinc-950"})})]}),e.jsx("button",{onClick:G,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-all",children:e.jsx(ts,{size:16})}),!Lt(r)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-4 bg-zinc-300 dark:bg-zinc-700 mx-1"}),e.jsx("button",{onClick:U,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 text-blue-500 hover:text-blue-600 rounded-lg transition-all",title:"Go to Today",children:e.jsx(rs,{size:16})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>Z(!$),className:V("h-9 px-4 items-center gap-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg active:scale-95 flex",$?"bg-orange-500 hover:bg-orange-600 text-white shadow-orange-500/20":"bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-800 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300 shadow-zinc-500/10"),title:$?`${H} matches hidden`:"Show all matches including finished",children:[$?e.jsx(ns,{size:16}):e.jsx(ss,{size:16}),e.jsx("span",{className:"hidden md:inline",children:$?`Hidden (${H})`:"Show All"})]}),e.jsxs("button",{onClick:()=>P(!0),disabled:u||l?.length===0,className:"h-9 px-4 items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-emerald-500/20 active:scale-95 flex disabled:opacity-50 disabled:pointer-events-none",children:[e.jsx(dn,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Data Preview"})]}),n&&e.jsxs("button",{onClick:()=>{T(null),f(!0)},className:"h-9 px-4 items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-indigo-500/20 active:scale-95 flex",children:[e.jsx(Mt,{size:16})," ",e.jsx("span",{className:"hidden md:inline",children:"Manual Add"})]})]})]})}),e.jsx("div",{className:"shrink-0 bg-white dark:bg-zinc-950 border-b border-zinc-100 dark:border-zinc-900 px-4 py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 overflow-x-auto no-scrollbar",children:[e.jsx(Fe,{label:"All Matches",icon:Cn,count:o.total,active:p==="ALL",onClick:()=>m("ALL")}),e.jsx(Fe,{label:"Live Now",icon:un,count:o.live,active:p==="LIVE",onClick:()=>m("LIVE"),isLive:!0}),e.jsx(Fe,{label:"Upcoming",icon:cs,count:o.pending,active:p==="UPCOMING",onClick:()=>m("UPCOMING")}),e.jsx(Fe,{label:"Finished",icon:xt,count:o.finished,active:p==="FINISHED",onClick:()=>m("FINISHED")}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-indigo-500 transition-colors",size:14}),e.jsx("input",{type:"text",placeholder:"Search...",value:c,onChange:D=>d(D.target.value),className:"h-9 pl-9 pr-4 bg-zinc-100 dark:bg-zinc-900 border-transparent rounded-xl text-xs font-medium outline-none focus:bg-white dark:focus:bg-zinc-950 focus:ring-2 focus:ring-indigo-500/20 transition-all w-32 md:w-48 placeholder:text-zinc-400"})]})})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto h-full",children:u?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(D=>e.jsx("div",{className:"h-28 bg-zinc-100 dark:bg-zinc-900 rounded-xl animate-pulse"},D))}):O.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] gap-4 opacity-60",children:[e.jsx(as,{size:48,className:"text-zinc-300",strokeWidth:1}),e.jsx("p",{className:"text-sm font-medium text-zinc-500",children:"No matches found"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-20",children:O.map((D,Q)=>e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-backwards",style:{animationDelay:`${Q*50}ms`},children:e.jsx(ii,{match:D,onClick:()=>w(D),onEdit:Y=>{T(Y),f(!0)},onDelete:Y=>F({isOpen:!0,id:Y}),canEdit:n})},D.id))})})}),e.jsx(As,{isOpen:!!h,onClose:()=>w(null),matchData:h,canEdit:n}),e.jsx(si,{isOpen:y,onClose:()=>f(!1),onSubmit:X,initialData:x,saving:N}),e.jsx(Tn,{data:l||[],isOpen:M,onClose:()=>P(!1)}),e.jsx(er,{isOpen:R.isOpen,onClose:()=>F({isOpen:!1,id:null}),title:"Delete Match",message:"Are you sure you want to remove this match? This cannot be undone.",onConfirm:W,isDanger:!0})]})}export{Gi as default};
