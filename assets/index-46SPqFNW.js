(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function oS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zp={exports:{}},$c={};var f1;function CN(){if(f1)return $c;f1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return $c.Fragment=e,$c.jsx=t,$c.jsxs=t,$c}var m1;function NN(){return m1||(m1=1,zp.exports=CN()),zp.exports}var u=NN(),jp={exports:{}},je={};var g1;function RN(){if(g1)return je;g1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function z(O,Z,ue){this.props=O,this.context=Z,this.refs=N,this.updater=ue||A}z.prototype.isReactComponent={},z.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function P(){}P.prototype=z.prototype;function q(O,Z,ue){this.props=O,this.context=Z,this.refs=N,this.updater=ue||A}var L=q.prototype=new P;L.constructor=q,R(L,z.prototype),L.isPureReactComponent=!0;var X=Array.isArray;function F(){}var C={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(O,Z,ue){var he=ue.ref;return{$$typeof:n,type:O,key:Z,ref:he!==void 0?he:null,props:ue}}function U(O,Z){return j(O.type,Z,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function H(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return Z[ue]})}var V=/\/+/g;function Se(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?H(""+O.key):Z.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(F,F):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function re(O,Z,ue,he,Ee){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(ve){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case n:case e:Re=!0;break;case b:return Re=O._init,re(Re(O._payload),Z,ue,he,Ee)}}if(Re)return Ee=Ee(O),Re=he===""?"."+Se(O,0):he,X(Ee)?(ue="",Re!=null&&(ue=Re.replace(V,"$&/")+"/"),re(Ee,Z,ue,"",function(fe){return fe})):Ee!=null&&(M(Ee)&&(Ee=U(Ee,ue+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+Re)),Z.push(Ee)),1;Re=0;var mt=he===""?".":he+":";if(X(O))for(var Ye=0;Ye<O.length;Ye++)he=O[Ye],ve=mt+Se(he,Ye),Re+=re(he,Z,ue,ve,Ee);else if(Ye=E(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(he=O.next()).done;)he=he.value,ve=mt+Se(he,Ye++),Re+=re(he,Z,ue,ve,Ee);else if(ve==="object"){if(typeof O.then=="function")return re(De(O),Z,ue,he,Ee);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(O,Z,ue){if(O==null)return O;var he=[],Ee=0;return re(O,he,"","",function(ve){return Z.call(ue,ve,Ee++)}),he}function pe(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var _e=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},de={map:ae,forEach:function(O,Z,ue){ae(O,function(){Z.apply(this,arguments)},ue)},count:function(O){var Z=0;return ae(O,function(){Z++}),Z},toArray:function(O){return ae(O,function(Z){return Z})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return je.Activity=v,je.Children=de,je.Component=z,je.Fragment=t,je.Profiler=a,je.PureComponent=q,je.StrictMode=r,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,je.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},je.cache=function(O){return function(){return O.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(O,Z,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=R({},O.props),Ee=O.key;if(Z!=null)for(ve in Z.key!==void 0&&(Ee=""+Z.key),Z)!k.call(Z,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Z.ref===void 0||(he[ve]=Z[ve]);var ve=arguments.length-2;if(ve===1)he.children=ue;else if(1<ve){for(var Re=Array(ve),mt=0;mt<ve;mt++)Re[mt]=arguments[mt+2];he.children=Re}return j(O.type,Ee,he)},je.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},je.createElement=function(O,Z,ue){var he,Ee={},ve=null;if(Z!=null)for(he in Z.key!==void 0&&(ve=""+Z.key),Z)k.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=Z[he]);var Re=arguments.length-2;if(Re===1)Ee.children=ue;else if(1<Re){for(var mt=Array(Re),Ye=0;Ye<Re;Ye++)mt[Ye]=arguments[Ye+2];Ee.children=mt}if(O&&O.defaultProps)for(he in Re=O.defaultProps,Re)Ee[he]===void 0&&(Ee[he]=Re[he]);return j(O,ve,Ee)},je.createRef=function(){return{current:null}},je.forwardRef=function(O){return{$$typeof:h,render:O}},je.isValidElement=M,je.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:pe}},je.memo=function(O,Z){return{$$typeof:g,type:O,compare:Z===void 0?null:Z}},je.startTransition=function(O){var Z=C.T,ue={};C.T=ue;try{var he=O(),Ee=C.S;Ee!==null&&Ee(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(F,_e)}catch(ve){_e(ve)}finally{Z!==null&&ue.types!==null&&(Z.types=ue.types),C.T=Z}},je.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},je.use=function(O){return C.H.use(O)},je.useActionState=function(O,Z,ue){return C.H.useActionState(O,Z,ue)},je.useCallback=function(O,Z){return C.H.useCallback(O,Z)},je.useContext=function(O){return C.H.useContext(O)},je.useDebugValue=function(){},je.useDeferredValue=function(O,Z){return C.H.useDeferredValue(O,Z)},je.useEffect=function(O,Z){return C.H.useEffect(O,Z)},je.useEffectEvent=function(O){return C.H.useEffectEvent(O)},je.useId=function(){return C.H.useId()},je.useImperativeHandle=function(O,Z,ue){return C.H.useImperativeHandle(O,Z,ue)},je.useInsertionEffect=function(O,Z){return C.H.useInsertionEffect(O,Z)},je.useLayoutEffect=function(O,Z){return C.H.useLayoutEffect(O,Z)},je.useMemo=function(O,Z){return C.H.useMemo(O,Z)},je.useOptimistic=function(O,Z){return C.H.useOptimistic(O,Z)},je.useReducer=function(O,Z,ue){return C.H.useReducer(O,Z,ue)},je.useRef=function(O){return C.H.useRef(O)},je.useState=function(O){return C.H.useState(O)},je.useSyncExternalStore=function(O,Z,ue){return C.H.useSyncExternalStore(O,Z,ue)},je.useTransition=function(){return C.H.useTransition()},je.version="19.2.3",je}var p1;function cb(){return p1||(p1=1,jp.exports=RN()),jp.exports}var I=cb();const Lr=oS(I);var Mp={exports:{}},Qc={},Ip={exports:{}},Op={};var b1;function DN(){return b1||(b1=1,(function(n){function e(re,ae){var pe=re.length;re.push(ae);e:for(;0<pe;){var _e=pe-1>>>1,de=re[_e];if(0<a(de,ae))re[_e]=ae,re[pe]=de,pe=_e;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ae=re[0],pe=re.pop();if(pe!==ae){re[0]=pe;e:for(var _e=0,de=re.length,O=de>>>1;_e<O;){var Z=2*(_e+1)-1,ue=re[Z],he=Z+1,Ee=re[he];if(0>a(ue,pe))he<de&&0>a(Ee,ue)?(re[_e]=Ee,re[he]=pe,_e=he):(re[_e]=ue,re[Z]=pe,_e=Z);else if(he<de&&0>a(Ee,pe))re[_e]=Ee,re[he]=pe,_e=he;else break e}}return ae}function a(re,ae){var pe=re.sortIndex-ae.sortIndex;return pe!==0?pe:re.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],b=1,v=null,x=3,E=!1,A=!1,R=!1,N=!1,z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function L(re){for(var ae=t(g);ae!==null;){if(ae.callback===null)r(g);else if(ae.startTime<=re)r(g),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(g)}}function X(re){if(R=!1,L(re),!A)if(t(f)!==null)A=!0,F||(F=!0,H());else{var ae=t(g);ae!==null&&De(X,ae.startTime-re)}}var F=!1,C=-1,k=5,j=-1;function U(){return N?!0:!(n.unstable_now()-j<k)}function M(){if(N=!1,F){var re=n.unstable_now();j=re;var ae=!0;try{e:{A=!1,R&&(R=!1,P(C),C=-1),E=!0;var pe=x;try{t:{for(L(re),v=t(f);v!==null&&!(v.expirationTime>re&&U());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,x=v.priorityLevel;var de=_e(v.expirationTime<=re);if(re=n.unstable_now(),typeof de=="function"){v.callback=de,L(re),ae=!0;break t}v===t(f)&&r(f),L(re)}else r(f);v=t(f)}if(v!==null)ae=!0;else{var O=t(g);O!==null&&De(X,O.startTime-re),ae=!1}}break e}finally{v=null,x=pe,E=!1}ae=void 0}}finally{ae?H():F=!1}}}var H;if(typeof q=="function")H=function(){q(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Se=V.port2;V.port1.onmessage=M,H=function(){Se.postMessage(null)}}else H=function(){z(M,0)};function De(re,ae){C=z(function(){re(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(re){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var pe=x;x=ae;try{return re()}finally{x=pe}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=x;x=re;try{return ae()}finally{x=pe}},n.unstable_scheduleCallback=function(re,ae,pe){var _e=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?_e+pe:_e):pe=_e,re){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=pe+de,re={id:b++,callback:ae,priorityLevel:re,startTime:pe,expirationTime:de,sortIndex:-1},pe>_e?(re.sortIndex=pe,e(g,re),t(f)===null&&re===t(g)&&(R?(P(C),C=-1):R=!0,De(X,pe-_e))):(re.sortIndex=de,e(f,re),A||E||(A=!0,F||(F=!0,H()))),re},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(re){var ae=x;return function(){var pe=x;x=ae;try{return re.apply(this,arguments)}finally{x=pe}}}})(Op)),Op}var y1;function zN(){return y1||(y1=1,Ip.exports=DN()),Ip.exports}var Vp={exports:{}},yn={};var v1;function jN(){if(v1)return yn;v1=1;var n=cb();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:g,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(f,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(f,g,null,b)},yn.flushSync=function(f){var g=c.T,b=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=g,r.p=b,r.d.f()}},yn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(f,g))},yn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},yn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var b=g.as,v=h(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:E}):b==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=h(g.as,g.crossOrigin);r.d.M(f,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(f)},yn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=h(b,g.crossOrigin);r.d.L(f,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(f,g){if(typeof f=="string")if(g){var b=h(g.as,g.crossOrigin);r.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(f)},yn.requestFormReset=function(f){r.d.r(f)},yn.unstable_batchedUpdates=function(f,g){return f(g)},yn.useFormState=function(f,g,b){return c.H.useFormState(f,g,b)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var x1;function cS(){if(x1)return Vp.exports;x1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vp.exports=jN(),Vp.exports}var _1;function MN(){if(_1)return Qc;_1=1;var n=zN(),e=cb(),t=cS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,d=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return f(p),i;if(y===d)return f(p),s;y=y.sibling}throw Error(r(188))}if(o.return!==d.return)o=p,d=y;else{for(var w=!1,T=p.child;T;){if(T===o){w=!0,o=p,d=y;break}if(T===d){w=!0,d=p,o=y;break}T=T.sibling}if(!w){for(T=y.child;T;){if(T===o){w=!0,o=y,d=p;break}if(T===d){w=!0,d=y,o=p;break}T=T.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==d)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function b(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=b(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),q=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case z:return"Profiler";case N:return"StrictMode";case X:return"Suspense";case F:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case q:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case L:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:Se(i.type)||"Memo";case k:s=i._payload,i=i._init;try{return Se(i(s))}catch{}}return null}var De=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},_e=[],de=-1;function O(i){return{current:i}}function Z(i){0>de||(i.current=_e[de],_e[de]=null,de--)}function ue(i,s){de++,_e[de]=i.current,i.current=s}var he=O(null),Ee=O(null),ve=O(null),Re=O(null);function mt(i,s){switch(ue(ve,s),ue(Ee,i),ue(he,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?O_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=O_(s),i=V_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(he),ue(he,i)}function Ye(){Z(he),Z(Ee),Z(ve)}function fe(i){i.memoizedState!==null&&ue(Re,i);var s=he.current,o=V_(s,i.type);s!==o&&(ue(Ee,i),ue(he,o))}function Ze(i){Ee.current===i&&(Z(he),Z(Ee)),Re.current===i&&(Z(Re),Hc._currentValue=pe)}var Lt,ht;function jt(i){if(Lt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Lt=s&&s[1]||"",ht=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+i+ht}var kr=!1;function is(i,s){if(!i||kr)return"";kr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var K=te}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(te){K=te}i.call(oe.prototype)}}else{try{throw Error()}catch(te){K=te}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&K&&typeof te.stack=="string")return[te.stack,K.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),w=y[0],T=y[1];if(w&&T){var B=w.split(`
`),W=T.split(`
`);for(p=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(d===B.length||p===W.length)for(d=B.length-1,p=W.length-1;1<=d&&0<=p&&B[d]!==W[p];)p--;for(;1<=d&&0<=p;d--,p--)if(B[d]!==W[p]){if(d!==1||p!==1)do if(d--,p--,0>p||B[d]!==W[p]){var ie=`
`+B[d].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=d&&0<=p);break}}}finally{kr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?jt(o):""}function fa(i,s){switch(i.tag){case 26:case 27:case 5:return jt(i.type);case 16:return jt("Lazy");case 13:return i.child!==s&&s!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return is(i.type,!1);case 11:return is(i.type.render,!1);case 1:return is(i.type,!0);case 31:return jt("Activity");default:return""}}function Ti(i){try{var s="",o=null;do s+=fa(i,o),o=i,i=i.return;while(i);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Tt=Object.prototype.hasOwnProperty,Kt=n.unstable_scheduleCallback,ss=n.unstable_cancelCallback,Mm=n.unstable_shouldYield,id=n.unstable_requestPaint,An=n.unstable_now,ma=n.unstable_getCurrentPriorityLevel,Go=n.unstable_ImmediatePriority,$o=n.unstable_UserBlockingPriority,as=n.unstable_NormalPriority,Im=n.unstable_LowPriority,sd=n.unstable_IdlePriority,ad=n.log,ld=n.unstable_setDisableYieldValue,Ar=null,on=null;function lr(i){if(typeof ad=="function"&&ld(i),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Ar,i)}catch{}}var Mt=Math.clz32?Math.clz32:cd,od=Math.log,pl=Math.LN2;function cd(i){return i>>>=0,i===0?32:31-(od(i)/pl|0)|0}var Gr=256,ga=262144,Ut=4194304;function $r(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qr(i,s,o){var d=i.pendingLanes;if(d===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var T=d&134217727;return T!==0?(d=T&~y,d!==0?p=$r(d):(w&=T,w!==0?p=$r(w):o||(o=T&~i,o!==0&&(p=$r(o))))):(T=d&~y,T!==0?p=$r(T):w!==0?p=$r(w):o||(o=d&~i,o!==0&&(p=$r(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function Tr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Om(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ud(){var i=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),i}function Yr(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function pa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Vm(i,s,o,d,p,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var T=i.entanglements,B=i.expirationTimes,W=i.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-Mt(o),oe=1<<ie;T[ie]=0,B[ie]=-1;var K=W[ie];if(K!==null)for(W[ie]=null,ie=0;ie<K.length;ie++){var te=K[ie];te!==null&&(te.lane&=-536870913)}o&=~oe}d!==0&&ba(i,d,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~s))}function ba(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-Mt(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|o&261930}function Qo(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var d=31-Mt(o),p=1<<d;p&s|i[d]&s&&(i[d]|=s),o&=~p}}function Yo(i,s){var o=s&-s;return o=(o&42)!==0?1:ya(o),(o&(i.suspendedLanes|s))!==0?0:o}function ya(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ci(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function dd(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:a1(i.type))}function Cr(i,s){var o=ae.p;try{return ae.p=i,s()}finally{ae.p=o}}var Nr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Nr,en="__reactProps$"+Nr,Wr="__reactContainer$"+Nr,bl="__reactEvents$"+Nr,Pm="__reactListeners$"+Nr,hd="__reactHandles$"+Nr,fd="__reactResources$"+Nr,Xr="__reactMarker$"+Nr;function yl(i){delete i[Bt],delete i[en],delete i[bl],delete i[Pm],delete i[hd]}function Kr(i){var s=i[Bt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Wr]||o[Bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=q_(i);i!==null;){if(o=i[Bt])return o;i=q_(i)}return s}i=o,o=i.parentNode}return null}function or(i){if(i=i[Bt]||i[Wr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Gn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Zr(i){var s=i[fd];return s||(s=i[fd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ht(i){i[Xr]=!0}var Wo=new Set,Xo={};function Jr(i,s){ei(i,s),ei(i+"Capture",s)}function ei(i,s){for(Xo[i]=s,i=0;i<s.length;i++)Wo.add(s[i])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Jo={};function md(i){return Tt.call(Jo,i)?!0:Tt.call(Zo,i)?!1:Ko.test(i)?Jo[i]=!0:(Zo[i]=!0,!1)}function vl(i,s,o){if(md(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function $n(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ft(i,s,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+d)}}function tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ls(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ec(i,s,o){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,y=d.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function rt(i){if(!i._valueTracker){var s=ls(i)?"checked":"value";i._valueTracker=ec(i,s,""+i[s])}}function va(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return i&&(d=ls(i)?i.checked?"true":"false":i.value),i=d,i!==o?(s.setValue(i),!0):!1}function ti(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xa=/[\n"\\]/g;function zn(i){return i.replace(xa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xl(i,s,o,d,p,y,w,T){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+tn(s)):i.value!==""+tn(s)&&(i.value=""+tn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?tc(i,w,tn(s)):o!=null?tc(i,w,tn(o)):d!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+tn(T):i.removeAttribute("name")}function gd(i,s,o,d,p,y,w,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){rt(i);return}o=o!=null?""+tn(o):"",s=s!=null?""+tn(s):o,T||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=T?i.checked:!!d,i.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),rt(i)}function tc(i,s,o){s==="number"&&ti(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function os(i,s,o,d){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&d&&(i[o].defaultSelected=!0)}else{for(o=""+tn(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function pd(i,s,o){if(s!=null&&(s=""+tn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+tn(o):""}function cs(i,s,o,d){if(s==null){if(d!=null){if(o!=null)throw Error(r(92));if(De(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),s=o}o=tn(s),i.defaultValue=o,d=i.textContent,d===o&&d!==""&&d!==null&&(i.value=d),rt(i)}function jn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var bd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(i,s,o){var d=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,o):typeof o!="number"||o===0||bd.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function rc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&o[p]!==d&&nc(i,p,d)}else for(var y in s)s.hasOwnProperty(y)&&nc(i,y,s[y])}function _l(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(i){return us.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Rr(){}var ic=null;function cr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ds=null,ni=null;function _a(i){var s=or(i);if(s&&(i=s.stateNode)){var o=i[en]||null;e:switch(i=s.stateNode,s.type){case"input":if(xl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==i&&d.form===i.form){var p=d[en]||null;if(!p)throw Error(r(90));xl(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)d=o[s],d.form===i.form&&va(d)}break e;case"textarea":pd(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&os(i,!!o.multiple,s,!1)}}}var El=!1;function hs(i,s,o){if(El)return i(s,o);El=!0;try{var d=i(s);return d}finally{if(El=!1,(ds!==null||ni!==null)&&(dh(),ds&&(s=ds,i=ni,ni=ds=null,_a(s),i)))for(s=0;s<i.length;s++)_a(i[s])}}function Dr(i,s){var o=i.stateNode;if(o===null)return null;var d=o[en]||null;if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(ur)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){wa=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{wa=!1}var ri=null,sc=null,Ea=null;function ac(){if(Ea)return Ea;var i,s=sc,o=s.length,d,p="value"in ri?ri.value:ri.textContent,y=p.length;for(i=0;i<o&&s[i]===p[i];i++);var w=o-i;for(d=1;d<=w&&s[o-d]===p[y-d];d++);return Ea=p.slice(i,1<d?1-d:void 0)}function Sa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ni(){return!0}function zr(){return!1}function cn(i){function s(o,d,p,y,w){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(o=i[T],this[T]=o?o(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ni:zr,this.isPropagationStopped=zr,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),s}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=cn(Ri),fs=v({},Ri,{view:0,detail:0}),lc=cn(fs),ms,Sl,si,kl=v({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==si&&(si&&i.type==="mousemove"?(ms=i.screenX-si.screenX,Sl=i.screenY-si.screenY):Sl=ms=0,si=i),ms)},movementY:function(i){return"movementY"in i?i.movementY:Sl}}),oc=cn(kl),ka=v({},kl,{dataTransfer:0}),vd=cn(ka),xd=v({},fs,{relatedTarget:0}),Aa=cn(xd),cc=v({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),_d=cn(cc),Al=v({},Ri,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wd=cn(Al),Ed=v({},Ri,{data:0}),ai=cn(Ed),Sd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ad={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Td(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ad[i])?!!s[i]:!1}function gs(){return Td}var Tn=v({},fs,{key:function(i){if(i.key){var s=Sd[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(i){return i.type==="keypress"?Sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Cd=cn(Tn),Nd=v({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=cn(Nd),m=v({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),_=cn(m),S=v({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=cn(S),Q=v({},kl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=cn(Q),ge=v({},Ri,{newState:0,oldState:0}),Oe=cn(ge),It=[9,13,27,32],Je=ur&&"CompositionEvent"in window,vt=null;ur&&"documentMode"in document&&(vt=document.documentMode);var dr=ur&&"TextEvent"in window&&!vt,li=ur&&(!Je||vt&&8<vt&&11>=vt),jr=" ",Mr=!1;function Ta(i,s){switch(i){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cl=!1;function Z2(i,s){switch(i){case"compositionend":return Tl(s);case"keypress":return s.which!==32?null:(Mr=!0,jr);case"textInput":return i=s.data,i===jr&&Mr?null:i;default:return null}}function J2(i,s){if(Cl)return i==="compositionend"||!Je&&Ta(i,s)?(i=ac(),Ea=sc=ri=null,Cl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return li&&s.locale!=="ko"?null:s.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!eC[i.type]:s==="textarea"}function Yy(i,s,o,d){ds?ni?ni.push(d):ni=[d]:ds=d,s=yh(s,"onChange"),0<s.length&&(o=new ii("onChange","change",null,o,d),i.push({event:o,listeners:s}))}var uc=null,dc=null;function tC(i){R_(i,0)}function Rd(i){var s=Gn(i);if(va(s))return i}function Wy(i,s){if(i==="change")return s}var Xy=!1;if(ur){var Lm;if(ur){var Um="oninput"in document;if(!Um){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),Um=typeof Ky.oninput=="function"}Lm=Um}else Lm=!1;Xy=Lm&&(!document.documentMode||9<document.documentMode)}function Zy(){uc&&(uc.detachEvent("onpropertychange",Jy),dc=uc=null)}function Jy(i){if(i.propertyName==="value"&&Rd(dc)){var s=[];Yy(s,dc,i,cr(i)),hs(tC,s)}}function nC(i,s,o){i==="focusin"?(Zy(),uc=s,dc=o,uc.attachEvent("onpropertychange",Jy)):i==="focusout"&&Zy()}function rC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rd(dc)}function iC(i,s){if(i==="click")return Rd(s)}function sC(i,s){if(i==="input"||i==="change")return Rd(s)}function aC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Qn=typeof Object.is=="function"?Object.is:aC;function hc(i,s){if(Qn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!Tt.call(s,p)||!Qn(i[p],s[p]))return!1}return!0}function ev(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tv(i,s){var o=ev(i);i=0;for(var d;o;){if(o.nodeType===3){if(d=i+o.textContent.length,i<=s&&d>=s)return{node:o,offset:s-i};i=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ev(o)}}function nv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?nv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function rv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ti(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=ti(i.document)}return s}function Bm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var lC=ur&&"documentMode"in document&&11>=document.documentMode,Nl=null,Hm=null,fc=null,Fm=!1;function iv(i,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fm||Nl==null||Nl!==ti(d)||(d=Nl,"selectionStart"in d&&Bm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fc&&hc(fc,d)||(fc=d,d=yh(Hm,"onSelect"),0<d.length&&(s=new ii("onSelect","select",null,s,o),i.push({event:s,listeners:d}),s.target=Nl)))}function Ca(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Rl={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},qm={},sv={};ur&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Na(i){if(qm[i])return qm[i];if(!Rl[i])return i;var s=Rl[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in sv)return qm[i]=s[o];return i}var av=Na("animationend"),lv=Na("animationiteration"),ov=Na("animationstart"),oC=Na("transitionrun"),cC=Na("transitionstart"),uC=Na("transitioncancel"),cv=Na("transitionend"),uv=new Map,Gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gm.push("scrollEnd");function Ir(i,s){uv.set(i,s),Jr(s,[i])}var Dd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},hr=[],Dl=0,$m=0;function zd(){for(var i=Dl,s=$m=Dl=0;s<i;){var o=hr[s];hr[s++]=null;var d=hr[s];hr[s++]=null;var p=hr[s];hr[s++]=null;var y=hr[s];if(hr[s++]=null,d!==null&&p!==null){var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}y!==0&&dv(o,p,y)}}function jd(i,s,o,d){hr[Dl++]=i,hr[Dl++]=s,hr[Dl++]=o,hr[Dl++]=d,$m|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Qm(i,s,o,d){return jd(i,s,o,d),Md(i)}function Ra(i,s){return jd(i,null,null,s),Md(i)}function dv(i,s,o){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-Mt(o),i=y.hiddenUpdates,d=i[p],d===null?i[p]=[s]:d.push(s),s.lane=o|536870912),y):null}function Md(i){if(50<Ic)throw Ic=0,np=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var zl={};function dC(i,s,o,d){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(i,s,o,d){return new dC(i,s,o,d)}function Ym(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zi(i,s){var o=i.alternate;return o===null?(o=Yn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function hv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Id(i,s,o,d,p,y){var w=0;if(d=i,typeof i=="function")Ym(i)&&(w=1);else if(typeof i=="string")w=pN(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=Yn(31,o,s,p),i.elementType=j,i.lanes=y,i;case R:return Da(o.children,p,y,s);case N:w=8,p|=24;break;case z:return i=Yn(12,o,s,p|2),i.elementType=z,i.lanes=y,i;case X:return i=Yn(13,o,s,p),i.elementType=X,i.lanes=y,i;case F:return i=Yn(19,o,s,p),i.elementType=F,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:w=10;break e;case P:w=9;break e;case L:w=11;break e;case C:w=14;break e;case k:w=16,d=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=Yn(w,o,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function Da(i,s,o,d){return i=Yn(7,i,d,s),i.lanes=o,i}function Wm(i,s,o){return i=Yn(6,i,null,s),i.lanes=o,i}function fv(i){var s=Yn(18,null,null,0);return s.stateNode=i,s}function Xm(i,s,o){return s=Yn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var mv=new WeakMap;function fr(i,s){if(typeof i=="object"&&i!==null){var o=mv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ti(s)},mv.set(i,s),s)}return{value:i,source:s,stack:Ti(s)}}var jl=[],Ml=0,Od=null,mc=0,mr=[],gr=0,ps=null,oi=1,ci="";function ji(i,s){jl[Ml++]=mc,jl[Ml++]=Od,Od=i,mc=s}function gv(i,s,o){mr[gr++]=oi,mr[gr++]=ci,mr[gr++]=ps,ps=i;var d=oi;i=ci;var p=32-Mt(d)-1;d&=~(1<<p),o+=1;var y=32-Mt(s)+p;if(30<y){var w=p-p%5;y=(d&(1<<w)-1).toString(32),d>>=w,p-=w,oi=1<<32-Mt(s)+p|o<<p|d,ci=y+i}else oi=1<<y|o<<p|d,ci=i}function Km(i){i.return!==null&&(ji(i,1),gv(i,1,0))}function Zm(i){for(;i===Od;)Od=jl[--Ml],jl[Ml]=null,mc=jl[--Ml],jl[Ml]=null;for(;i===ps;)ps=mr[--gr],mr[gr]=null,ci=mr[--gr],mr[gr]=null,oi=mr[--gr],mr[gr]=null}function pv(i,s){mr[gr++]=oi,mr[gr++]=ci,mr[gr++]=ps,oi=s.id,ci=s.overflow,ps=i}var un=null,gt=null,Ge=!1,bs=null,pr=!1,Jm=Error(r(519));function ys(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gc(fr(s,i)),Jm}function bv(i){var s=i.stateNode,o=i.type,d=i.memoizedProps;switch(s[Bt]=i,s[en]=d,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<Vc.length;o++)Ue(Vc[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),gd(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),cs(s,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||d.suppressHydrationWarning===!0||M_(s.textContent,o)?(d.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),d.onScroll!=null&&Ue("scroll",s),d.onScrollEnd!=null&&Ue("scrollend",s),d.onClick!=null&&(s.onclick=Rr),s=!0):s=!1,s||ys(i,!0)}function yv(i){for(un=i.return;un;)switch(un.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:un=un.return}}function Il(i){if(i!==un)return!1;if(!Ge)return yv(i),Ge=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||bp(i.type,i.memoizedProps)),o=!o),o&&gt&&ys(i),yv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));gt=F_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));gt=F_(i)}else s===27?(s=gt,zs(i.type)?(i=wp,wp=null,gt=i):gt=s):gt=un?yr(i.stateNode.nextSibling):null;return!0}function za(){gt=un=null,Ge=!1}function eg(){var i=bs;return i!==null&&(Vn===null?Vn=i:Vn.push.apply(Vn,i),bs=null),i}function gc(i){bs===null?bs=[i]:bs.push(i)}var tg=O(null),ja=null,Mi=null;function vs(i,s,o){ue(tg,s._currentValue),s._currentValue=o}function Ii(i){i._currentValue=tg.current,Z(tg)}function ng(i,s,o){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===o)break;i=i.return}}function rg(i,s,o,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=p;for(var B=0;B<s.length;B++)if(T.context===s[B]){y.lanes|=o,T=y.alternate,T!==null&&(T.lanes|=o),ng(y.return,o,i),d||(w=null);break e}y=T.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),ng(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Ol(i,s,o,d){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var T=p.type;Qn(p.pendingProps.value,w.value)||(i!==null?i.push(T):i=[T])}}else if(p===Re.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Hc):i=[Hc])}p=p.return}i!==null&&rg(s,i,o,d),s.flags|=262144}function Vd(i){for(i=i.firstContext;i!==null;){if(!Qn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ma(i){ja=i,Mi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function dn(i){return vv(ja,i)}function Pd(i,s){return ja===null&&Ma(i),vv(i,s)}function vv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Mi===null){if(i===null)throw Error(r(308));Mi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Mi=Mi.next=s;return o}var hC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},fC=n.unstable_scheduleCallback,mC=n.unstable_NormalPriority,qt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new hC,data:new Map,refCount:0}}function pc(i){i.refCount--,i.refCount===0&&fC(mC,function(){i.controller.abort()})}var bc=null,sg=0,Vl=0,Pl=null;function gC(i,s){if(bc===null){var o=bc=[];sg=0,Vl=op(),Pl={status:"pending",value:void 0,then:function(d){o.push(d)}}}return sg++,s.then(xv,xv),s}function xv(){if(--sg===0&&bc!==null){Pl!==null&&(Pl.status="fulfilled");var i=bc;bc=null,Vl=0,Pl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function pC(i,s){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var _v=re.S;re.S=function(i,s){i_=An(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&gC(i,s),_v!==null&&_v(i,s)};var Ia=O(null);function ag(){var i=Ia.current;return i!==null?i:dt.pooledCache}function Ld(i,s){s===null?ue(Ia,Ia.current):ue(Ia,s.pool)}function wv(){var i=ag();return i===null?null:{parent:qt._currentValue,pool:i}}var Ll=Error(r(460)),lg=Error(r(474)),Ud=Error(r(542)),Bd={then:function(){}};function Ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Sv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Rr,Rr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Av(i),i;default:if(typeof s.status=="string")s.then(Rr,Rr);else{if(i=dt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Av(i),i}throw Va=s,Ll}}function Oa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Va=o,Ll):o}}var Va=null;function kv(){if(Va===null)throw Error(r(459));var i=Va;return Va=null,i}function Av(i){if(i===Ll||i===Ud)throw Error(r(483))}var Ul=null,yc=0;function Hd(i){var s=yc;return yc+=1,Ul===null&&(Ul=[]),Sv(Ul,i,s)}function vc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Fd(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Tv(i){function s($,G){if(i){var Y=$.deletions;Y===null?($.deletions=[G],$.flags|=16):Y.push(G)}}function o($,G){if(!i)return null;for(;G!==null;)s($,G),G=G.sibling;return null}function d($){for(var G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function p($,G){return $=zi($,G),$.index=0,$.sibling=null,$}function y($,G,Y){return $.index=Y,i?(Y=$.alternate,Y!==null?(Y=Y.index,Y<G?($.flags|=67108866,G):Y):($.flags|=67108866,G)):($.flags|=1048576,G)}function w($){return i&&$.alternate===null&&($.flags|=67108866),$}function T($,G,Y,le){return G===null||G.tag!==6?(G=Wm(Y,$.mode,le),G.return=$,G):(G=p(G,Y),G.return=$,G)}function B($,G,Y,le){var ke=Y.type;return ke===R?ie($,G,Y.props.children,le,Y.key):G!==null&&(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&Oa(ke)===G.type)?(G=p(G,Y.props),vc(G,Y),G.return=$,G):(G=Id(Y.type,Y.key,Y.props,null,$.mode,le),vc(G,Y),G.return=$,G)}function W($,G,Y,le){return G===null||G.tag!==4||G.stateNode.containerInfo!==Y.containerInfo||G.stateNode.implementation!==Y.implementation?(G=Xm(Y,$.mode,le),G.return=$,G):(G=p(G,Y.children||[]),G.return=$,G)}function ie($,G,Y,le,ke){return G===null||G.tag!==7?(G=Da(Y,$.mode,le,ke),G.return=$,G):(G=p(G,Y),G.return=$,G)}function oe($,G,Y){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Wm(""+G,$.mode,Y),G.return=$,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return Y=Id(G.type,G.key,G.props,null,$.mode,Y),vc(Y,G),Y.return=$,Y;case A:return G=Xm(G,$.mode,Y),G.return=$,G;case k:return G=Oa(G),oe($,G,Y)}if(De(G)||H(G))return G=Da(G,$.mode,Y,null),G.return=$,G;if(typeof G.then=="function")return oe($,Hd(G),Y);if(G.$$typeof===q)return oe($,Pd($,G),Y);Fd($,G)}return null}function K($,G,Y,le){var ke=G!==null?G.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ke!==null?null:T($,G,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===ke?B($,G,Y,le):null;case A:return Y.key===ke?W($,G,Y,le):null;case k:return Y=Oa(Y),K($,G,Y,le)}if(De(Y)||H(Y))return ke!==null?null:ie($,G,Y,le,null);if(typeof Y.then=="function")return K($,G,Hd(Y),le);if(Y.$$typeof===q)return K($,G,Pd($,Y),le);Fd($,Y)}return null}function te($,G,Y,le,ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(Y)||null,T(G,$,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case E:return $=$.get(le.key===null?Y:le.key)||null,B(G,$,le,ke);case A:return $=$.get(le.key===null?Y:le.key)||null,W(G,$,le,ke);case k:return le=Oa(le),te($,G,Y,le,ke)}if(De(le)||H(le))return $=$.get(Y)||null,ie(G,$,le,ke,null);if(typeof le.then=="function")return te($,G,Y,Hd(le),ke);if(le.$$typeof===q)return te($,G,Y,Pd(G,le),ke);Fd(G,le)}return null}function xe($,G,Y,le){for(var ke=null,We=null,we=G,Pe=G=0,He=null;we!==null&&Pe<Y.length;Pe++){we.index>Pe?(He=we,we=null):He=we.sibling;var Xe=K($,we,Y[Pe],le);if(Xe===null){we===null&&(we=He);break}i&&we&&Xe.alternate===null&&s($,we),G=y(Xe,G,Pe),We===null?ke=Xe:We.sibling=Xe,We=Xe,we=He}if(Pe===Y.length)return o($,we),Ge&&ji($,Pe),ke;if(we===null){for(;Pe<Y.length;Pe++)we=oe($,Y[Pe],le),we!==null&&(G=y(we,G,Pe),We===null?ke=we:We.sibling=we,We=we);return Ge&&ji($,Pe),ke}for(we=d(we);Pe<Y.length;Pe++)He=te(we,$,Pe,Y[Pe],le),He!==null&&(i&&He.alternate!==null&&we.delete(He.key===null?Pe:He.key),G=y(He,G,Pe),We===null?ke=He:We.sibling=He,We=He);return i&&we.forEach(function(Vs){return s($,Vs)}),Ge&&ji($,Pe),ke}function Ce($,G,Y,le){if(Y==null)throw Error(r(151));for(var ke=null,We=null,we=G,Pe=G=0,He=null,Xe=Y.next();we!==null&&!Xe.done;Pe++,Xe=Y.next()){we.index>Pe?(He=we,we=null):He=we.sibling;var Vs=K($,we,Xe.value,le);if(Vs===null){we===null&&(we=He);break}i&&we&&Vs.alternate===null&&s($,we),G=y(Vs,G,Pe),We===null?ke=Vs:We.sibling=Vs,We=Vs,we=He}if(Xe.done)return o($,we),Ge&&ji($,Pe),ke;if(we===null){for(;!Xe.done;Pe++,Xe=Y.next())Xe=oe($,Xe.value,le),Xe!==null&&(G=y(Xe,G,Pe),We===null?ke=Xe:We.sibling=Xe,We=Xe);return Ge&&ji($,Pe),ke}for(we=d(we);!Xe.done;Pe++,Xe=Y.next())Xe=te(we,$,Pe,Xe.value,le),Xe!==null&&(i&&Xe.alternate!==null&&we.delete(Xe.key===null?Pe:Xe.key),G=y(Xe,G,Pe),We===null?ke=Xe:We.sibling=Xe,We=Xe);return i&&we.forEach(function(TN){return s($,TN)}),Ge&&ji($,Pe),ke}function ut($,G,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var ke=Y.key;G!==null;){if(G.key===ke){if(ke=Y.type,ke===R){if(G.tag===7){o($,G.sibling),le=p(G,Y.props.children),le.return=$,$=le;break e}}else if(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&Oa(ke)===G.type){o($,G.sibling),le=p(G,Y.props),vc(le,Y),le.return=$,$=le;break e}o($,G);break}else s($,G);G=G.sibling}Y.type===R?(le=Da(Y.props.children,$.mode,le,Y.key),le.return=$,$=le):(le=Id(Y.type,Y.key,Y.props,null,$.mode,le),vc(le,Y),le.return=$,$=le)}return w($);case A:e:{for(ke=Y.key;G!==null;){if(G.key===ke)if(G.tag===4&&G.stateNode.containerInfo===Y.containerInfo&&G.stateNode.implementation===Y.implementation){o($,G.sibling),le=p(G,Y.children||[]),le.return=$,$=le;break e}else{o($,G);break}else s($,G);G=G.sibling}le=Xm(Y,$.mode,le),le.return=$,$=le}return w($);case k:return Y=Oa(Y),ut($,G,Y,le)}if(De(Y))return xe($,G,Y,le);if(H(Y)){if(ke=H(Y),typeof ke!="function")throw Error(r(150));return Y=ke.call(Y),Ce($,G,Y,le)}if(typeof Y.then=="function")return ut($,G,Hd(Y),le);if(Y.$$typeof===q)return ut($,G,Pd($,Y),le);Fd($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,G!==null&&G.tag===6?(o($,G.sibling),le=p(G,Y),le.return=$,$=le):(o($,G),le=Wm(Y,$.mode,le),le.return=$,$=le),w($)):o($,G)}return function($,G,Y,le){try{yc=0;var ke=ut($,G,Y,le);return Ul=null,ke}catch(we){if(we===Ll||we===Ud)throw we;var We=Yn(29,we,null,$.mode);return We.lanes=le,We.return=$,We}finally{}}}var Pa=Tv(!0),Cv=Tv(!1),xs=!1;function og(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function _s(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ws(i,s,o){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(et&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=Md(i),dv(i,null,o),s}return jd(i,d,s,o),Md(i)}function xc(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,o|=d,s.lanes=o,Qo(i,o)}}function ug(i,s){var o=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var dg=!1;function _c(){if(dg){var i=Pl;if(i!==null)throw i}}function wc(i,s,o,d){dg=!1;var p=i.updateQueue;xs=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var B=T,W=B.next;B.next=null,w===null?y=W:w.next=W,w=B;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==w&&(T===null?ie.firstBaseUpdate=W:T.next=W,ie.lastBaseUpdate=B))}if(y!==null){var oe=p.baseState;w=0,ie=W=B=null,T=y;do{var K=T.lane&-536870913,te=K!==T.lane;if(te?(Be&K)===K:(d&K)===K){K!==0&&K===Vl&&(dg=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var xe=i,Ce=T;K=s;var ut=o;switch(Ce.tag){case 1:if(xe=Ce.payload,typeof xe=="function"){oe=xe.call(ut,oe,K);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ce.payload,K=typeof xe=="function"?xe.call(ut,oe,K):xe,K==null)break e;oe=v({},oe,K);break e;case 2:xs=!0}}K=T.callback,K!==null&&(i.flags|=64,te&&(i.flags|=8192),te=p.callbacks,te===null?p.callbacks=[K]:te.push(K))}else te={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(W=ie=te,B=oe):ie=ie.next=te,w|=K;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;te=T,T=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ie===null&&(B=oe),p.baseState=B,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),Ts|=w,i.lanes=w,i.memoizedState=oe}}function Nv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Rv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Nv(o[i],s)}var Bl=O(null),qd=O(0);function Dv(i,s){i=qi,ue(qd,i),ue(Bl,s),qi=i|s.baseLanes}function hg(){ue(qd,qi),ue(Bl,Bl.current)}function fg(){qi=qd.current,Z(Bl),Z(qd)}var Wn=O(null),br=null;function Es(i){var s=i.alternate;ue(Ot,Ot.current&1),ue(Wn,i),br===null&&(s===null||Bl.current!==null||s.memoizedState!==null)&&(br=i)}function mg(i){ue(Ot,Ot.current),ue(Wn,i),br===null&&(br=i)}function zv(i){i.tag===22?(ue(Ot,Ot.current),ue(Wn,i),br===null&&(br=i)):Ss()}function Ss(){ue(Ot,Ot.current),ue(Wn,Wn.current)}function Xn(i){Z(Wn),br===i&&(br=null),Z(Ot)}var Ot=O(0);function Gd(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||xp(o)||_p(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Oi=0,Ve=null,ot=null,Gt=null,$d=!1,Hl=!1,La=!1,Qd=0,Ec=0,Fl=null,bC=0;function Ct(){throw Error(r(321))}function gg(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Qn(i[o],s[o]))return!1;return!0}function pg(i,s,o,d,p,y){return Oi=y,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,re.H=i===null||i.memoizedState===null?gx:Dg,La=!1,y=o(d,p),La=!1,Hl&&(y=Mv(s,o,d,p)),jv(i),y}function jv(i){re.H=Ac;var s=ot!==null&&ot.next!==null;if(Oi=0,Gt=ot=Ve=null,$d=!1,Ec=0,Fl=null,s)throw Error(r(300));i===null||$t||(i=i.dependencies,i!==null&&Vd(i)&&($t=!0))}function Mv(i,s,o,d){Ve=i;var p=0;do{if(Hl&&(Fl=null),Ec=0,Hl=!1,25<=p)throw Error(r(301));if(p+=1,Gt=ot=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}re.H=px,y=s(o,d)}while(Hl);return y}function yC(){var i=re.H,s=i.useState()[0];return s=typeof s.then=="function"?Sc(s):s,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(Ve.flags|=1024),s}function bg(){var i=Qd!==0;return Qd=0,i}function yg(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function vg(i){if($d){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}$d=!1}Oi=0,Gt=ot=Ve=null,Hl=!1,Ec=Qd=0,Fl=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ve.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function Vt(){if(ot===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var s=Gt===null?Ve.memoizedState:Gt.next;if(s!==null)Gt=s,ot=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Gt===null?Ve.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function Yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(i){var s=Ec;return Ec+=1,Fl===null&&(Fl=[]),i=Sv(Fl,i,s),s=Ve,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,re.H=s===null||s.memoizedState===null?gx:Dg),i}function Wd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sc(i);if(i.$$typeof===q)return dn(i)}throw Error(r(438,String(i)))}function xg(i){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var d=Ve.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Yd(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),d=0;d<i;d++)o[d]=U;return s.index++,o}function Vi(i,s){return typeof s=="function"?s(i):s}function Xd(i){var s=Vt();return _g(s,ot,i)}function _g(i,s,o){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var p=i.baseQueue,y=d.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}s.baseQueue=p=y,d.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var T=w=null,B=null,W=s,ie=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(Be&oe)===oe:(Oi&oe)===oe){var K=W.revertLane;if(K===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===Vl&&(ie=!0);else if((Oi&K)===K){W=W.next,K===Vl&&(ie=!0);continue}else oe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(T=B=oe,w=y):B=B.next=oe,Ve.lanes|=K,Ts|=K;oe=W.action,La&&o(y,oe),y=W.hasEagerState?W.eagerState:o(y,oe)}else K={lane:oe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(T=B=K,w=y):B=B.next=K,Ve.lanes|=oe,Ts|=oe;W=W.next}while(W!==null&&W!==s);if(B===null?w=y:B.next=T,!Qn(y,i.memoizedState)&&($t=!0,ie&&(o=Pl,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=B,d.lastRenderedState=y}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function wg(i){var s=Vt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var d=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Qn(y,s.memoizedState)||($t=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,d]}function Iv(i,s,o){var d=Ve,p=Vt(),y=Ge;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!Qn((ot||p).memoizedState,o);if(w&&(p.memoizedState=o,$t=!0),p=p.queue,kg(Pv.bind(null,d,p,i),[i]),p.getSnapshot!==s||w||Gt!==null&&Gt.memoizedState.tag&1){if(d.flags|=2048,ql(9,{destroy:void 0},Vv.bind(null,d,p,o,s),null),dt===null)throw Error(r(349));y||(Oi&127)!==0||Ov(d,s,o)}return o}function Ov(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=Yd(),Ve.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Vv(i,s,o,d){s.value=o,s.getSnapshot=d,Lv(s)&&Uv(i)}function Pv(i,s,o){return o(function(){Lv(s)&&Uv(i)})}function Lv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Qn(i,o)}catch{return!0}}function Uv(i){var s=Ra(i,2);s!==null&&Pn(s,i,2)}function Eg(i){var s=Cn();if(typeof i=="function"){var o=i;if(i=o(),La){lr(!0);try{o()}finally{lr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:i},s}function Bv(i,s,o,d){return i.baseState=o,_g(i,ot,typeof d=="function"?d:Vi)}function vC(i,s,o,d,p){if(Jd(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};re.T!==null?o(!0):y.isTransition=!1,d(y),o=s.pending,o===null?(y.next=s.pending=y,Hv(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Hv(i,s){var o=s.action,d=s.payload,p=i.state;if(s.isTransition){var y=re.T,w={};re.T=w;try{var T=o(p,d),B=re.S;B!==null&&B(w,T),Fv(i,s,T)}catch(W){Sg(i,s,W)}finally{y!==null&&w.types!==null&&(y.types=w.types),re.T=y}}else try{y=o(p,d),Fv(i,s,y)}catch(W){Sg(i,s,W)}}function Fv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){qv(i,s,d)},function(d){return Sg(i,s,d)}):qv(i,s,o)}function qv(i,s,o){s.status="fulfilled",s.value=o,Gv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Hv(i,o)))}function Sg(i,s,o){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=o,Gv(s),s=s.next;while(s!==d)}i.action=null}function Gv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function $v(i,s){return s}function Qv(i,s){if(Ge){var o=dt.formState;if(o!==null){e:{var d=Ve;if(Ge){if(gt){t:{for(var p=gt,y=pr;p.nodeType!==8;){if(!y){p=null;break t}if(p=yr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){gt=yr(p.nextSibling),d=p.data==="F!";break e}}ys(d)}d=!1}d&&(s=o[0])}}return o=Cn(),o.memoizedState=o.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:s},o.queue=d,o=hx.bind(null,Ve,d),d.dispatch=o,d=Eg(!1),y=Rg.bind(null,Ve,!1,d.queue),d=Cn(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,o=vC.bind(null,Ve,p,y,o),p.dispatch=o,d.memoizedState=i,[s,o,!1]}function Yv(i){var s=Vt();return Wv(s,ot,i)}function Wv(i,s,o){if(s=_g(i,s,$v)[0],i=Xd(Vi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Sc(s)}catch(w){throw w===Ll?Ud:w}else d=s;s=Vt();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(Ve.flags|=2048,ql(9,{destroy:void 0},xC.bind(null,p,o),null)),[d,y,i]}function xC(i,s){i.action=s}function Xv(i){var s=Vt(),o=ot;if(o!==null)return Wv(s,o,i);Vt(),s=s.memoizedState,o=Vt();var d=o.queue.dispatch;return o.memoizedState=i,[s,d,!1]}function ql(i,s,o,d){return i={tag:i,create:o,deps:d,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=Yd(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(d=o.next,o.next=i,i.next=d,s.lastEffect=i),i}function Kv(){return Vt().memoizedState}function Kd(i,s,o,d){var p=Cn();Ve.flags|=i,p.memoizedState=ql(1|s,{destroy:void 0},o,d===void 0?null:d)}function Zd(i,s,o,d){var p=Vt();d=d===void 0?null:d;var y=p.memoizedState.inst;ot!==null&&d!==null&&gg(d,ot.memoizedState.deps)?p.memoizedState=ql(s,y,o,d):(Ve.flags|=i,p.memoizedState=ql(1|s,y,o,d))}function Zv(i,s){Kd(8390656,8,i,s)}function kg(i,s){Zd(2048,8,i,s)}function _C(i){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=Yd(),Ve.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function Jv(i){var s=Vt().memoizedState;return _C({ref:s,nextImpl:i}),function(){if((et&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ex(i,s){return Zd(4,2,i,s)}function tx(i,s){return Zd(4,4,i,s)}function nx(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function rx(i,s,o){o=o!=null?o.concat([i]):null,Zd(4,4,nx.bind(null,s,i),o)}function Ag(){}function ix(i,s){var o=Vt();s=s===void 0?null:s;var d=o.memoizedState;return s!==null&&gg(s,d[1])?d[0]:(o.memoizedState=[i,s],i)}function sx(i,s){var o=Vt();s=s===void 0?null:s;var d=o.memoizedState;if(s!==null&&gg(s,d[1]))return d[0];if(d=i(),La){lr(!0);try{i()}finally{lr(!1)}}return o.memoizedState=[d,s],d}function Tg(i,s,o){return o===void 0||(Oi&1073741824)!==0&&(Be&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=a_(),Ve.lanes|=i,Ts|=i,o)}function ax(i,s,o,d){return Qn(o,s)?o:Bl.current!==null?(i=Tg(i,o,d),Qn(i,s)||($t=!0),i):(Oi&42)===0||(Oi&1073741824)!==0&&(Be&261930)===0?($t=!0,i.memoizedState=o):(i=a_(),Ve.lanes|=i,Ts|=i,s)}function lx(i,s,o,d,p){var y=ae.p;ae.p=y!==0&&8>y?y:8;var w=re.T,T={};re.T=T,Rg(i,!1,s,o);try{var B=p(),W=re.S;if(W!==null&&W(T,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=pC(B,d);kc(i,s,ie,Jn(i))}else kc(i,s,d,Jn(i))}catch(oe){kc(i,s,{then:function(){},status:"rejected",reason:oe},Jn())}finally{ae.p=y,w!==null&&T.types!==null&&(w.types=T.types),re.T=w}}function wC(){}function Cg(i,s,o,d){if(i.tag!==5)throw Error(r(476));var p=ox(i).queue;lx(i,p,s,pe,o===null?wC:function(){return cx(i),o(d)})}function ox(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:pe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function cx(i){var s=ox(i);s.next===null&&(s=i.alternate.memoizedState),kc(i,s.next.queue,{},Jn())}function Ng(){return dn(Hc)}function ux(){return Vt().memoizedState}function dx(){return Vt().memoizedState}function EC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Jn();i=_s(o);var d=ws(s,i,o);d!==null&&(Pn(d,s,o),xc(d,s,o)),s={cache:ig()},i.payload=s;return}s=s.return}}function SC(i,s,o){var d=Jn();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Jd(i)?fx(s,o):(o=Qm(i,s,o,d),o!==null&&(Pn(o,i,d),mx(o,s,d)))}function hx(i,s,o){var d=Jn();kc(i,s,o,d)}function kc(i,s,o,d){var p={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jd(i))fx(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,T=y(w,o);if(p.hasEagerState=!0,p.eagerState=T,Qn(T,w))return jd(i,s,p,0),dt===null&&zd(),!1}catch{}finally{}if(o=Qm(i,s,p,d),o!==null)return Pn(o,i,d),mx(o,s,d),!0}return!1}function Rg(i,s,o,d){if(d={lane:2,revertLane:op(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Jd(i)){if(s)throw Error(r(479))}else s=Qm(i,o,d,2),s!==null&&Pn(s,i,2)}function Jd(i){var s=i.alternate;return i===Ve||s!==null&&s===Ve}function fx(i,s){Hl=$d=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function mx(i,s,o){if((o&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,o|=d,s.lanes=o,Qo(i,o)}}var Ac={readContext:dn,use:Wd,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Ac.useEffectEvent=Ct;var gx={readContext:dn,use:Wd,useCallback:function(i,s){return Cn().memoizedState=[i,s===void 0?null:s],i},useContext:dn,useEffect:Zv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Kd(4194308,4,nx.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Kd(4194308,4,i,s)},useInsertionEffect:function(i,s){Kd(4,2,i,s)},useMemo:function(i,s){var o=Cn();s=s===void 0?null:s;var d=i();if(La){lr(!0);try{i()}finally{lr(!1)}}return o.memoizedState=[d,s],d},useReducer:function(i,s,o){var d=Cn();if(o!==void 0){var p=o(s);if(La){lr(!0);try{o(s)}finally{lr(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=SC.bind(null,Ve,i),[d.memoizedState,i]},useRef:function(i){var s=Cn();return i={current:i},s.memoizedState=i},useState:function(i){i=Eg(i);var s=i.queue,o=hx.bind(null,Ve,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Ag,useDeferredValue:function(i,s){var o=Cn();return Tg(o,i,s)},useTransition:function(){var i=Eg(!1);return i=lx.bind(null,Ve,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var d=Ve,p=Cn();if(Ge){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),dt===null)throw Error(r(349));(Be&127)!==0||Ov(d,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,Zv(Pv.bind(null,d,y,i),[i]),d.flags|=2048,ql(9,{destroy:void 0},Vv.bind(null,d,y,o,s),null),o},useId:function(){var i=Cn(),s=dt.identifierPrefix;if(Ge){var o=ci,d=oi;o=(d&~(1<<32-Mt(d)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Qd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=bC++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Ng,useFormState:Qv,useActionState:Qv,useOptimistic:function(i){var s=Cn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Rg.bind(null,Ve,!0,o),o.dispatch=s,[i,s]},useMemoCache:xg,useCacheRefresh:function(){return Cn().memoizedState=EC.bind(null,Ve)},useEffectEvent:function(i){var s=Cn(),o={impl:i};return s.memoizedState=o,function(){if((et&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Dg={readContext:dn,use:Wd,useCallback:ix,useContext:dn,useEffect:kg,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:sx,useReducer:Xd,useRef:Kv,useState:function(){return Xd(Vi)},useDebugValue:Ag,useDeferredValue:function(i,s){var o=Vt();return ax(o,ot.memoizedState,i,s)},useTransition:function(){var i=Xd(Vi)[0],s=Vt().memoizedState;return[typeof i=="boolean"?i:Sc(i),s]},useSyncExternalStore:Iv,useId:ux,useHostTransitionStatus:Ng,useFormState:Yv,useActionState:Yv,useOptimistic:function(i,s){var o=Vt();return Bv(o,ot,i,s)},useMemoCache:xg,useCacheRefresh:dx};Dg.useEffectEvent=Jv;var px={readContext:dn,use:Wd,useCallback:ix,useContext:dn,useEffect:kg,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:sx,useReducer:wg,useRef:Kv,useState:function(){return wg(Vi)},useDebugValue:Ag,useDeferredValue:function(i,s){var o=Vt();return ot===null?Tg(o,i,s):ax(o,ot.memoizedState,i,s)},useTransition:function(){var i=wg(Vi)[0],s=Vt().memoizedState;return[typeof i=="boolean"?i:Sc(i),s]},useSyncExternalStore:Iv,useId:ux,useHostTransitionStatus:Ng,useFormState:Xv,useActionState:Xv,useOptimistic:function(i,s){var o=Vt();return ot!==null?Bv(o,ot,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:xg,useCacheRefresh:dx};px.useEffectEvent=Jv;function zg(i,s,o,d){s=i.memoizedState,o=o(d,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var jg={enqueueSetState:function(i,s,o){i=i._reactInternals;var d=Jn(),p=_s(d);p.payload=s,o!=null&&(p.callback=o),s=ws(i,p,d),s!==null&&(Pn(s,i,d),xc(s,i,d))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var d=Jn(),p=_s(d);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ws(i,p,d),s!==null&&(Pn(s,i,d),xc(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Jn(),d=_s(o);d.tag=2,s!=null&&(d.callback=s),s=ws(i,d,o),s!==null&&(Pn(s,i,o),xc(s,i,o))}};function bx(i,s,o,d,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,w):s.prototype&&s.prototype.isPureReactComponent?!hc(o,d)||!hc(p,y):!0}function yx(i,s,o,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==i&&jg.enqueueReplaceState(s,s.state,null)}function Ua(i,s){var o=s;if("ref"in s){o={};for(var d in s)d!=="ref"&&(o[d]=s[d])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function vx(i){Dd(i)}function xx(i){console.error(i)}function _x(i){Dd(i)}function eh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function wx(i,s,o){try{var d=i.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Mg(i,s,o){return o=_s(o),o.tag=3,o.payload={element:null},o.callback=function(){eh(i,s)},o}function Ex(i){return i=_s(i),i.tag=3,i}function Sx(i,s,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=d.value;i.payload=function(){return p(y)},i.callback=function(){wx(s,o,d)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){wx(s,o,d),typeof p!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function kC(i,s,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=o.alternate,s!==null&&Ol(s,o,p,!0),o=Wn.current,o!==null){switch(o.tag){case 31:case 13:return br===null?hh():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===Bd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([d]):s.add(d),sp(i,d,p)),!1;case 22:return o.flags|=65536,d===Bd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([d]):o.add(d)),sp(i,d,p)),!1}throw Error(r(435,o.tag))}return sp(i,d,p),hh(),!1}if(Ge)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==Jm&&(i=Error(r(422),{cause:d}),gc(fr(i,o)))):(d!==Jm&&(s=Error(r(423),{cause:d}),gc(fr(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=fr(d,o),p=Mg(i.stateNode,d,p),ug(i,p),Nt!==4&&(Nt=2)),!1;var y=Error(r(520),{cause:d});if(y=fr(y,o),Mc===null?Mc=[y]:Mc.push(y),Nt!==4&&(Nt=2),s===null)return!0;d=fr(d,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Mg(o.stateNode,d,i),ug(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Cs===null||!Cs.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ex(p),Sx(p,i,o,d),ug(o,p),!1}o=o.return}while(o!==null);return!1}var Ig=Error(r(461)),$t=!1;function hn(i,s,o,d){s.child=i===null?Cv(s,null,o,d):Pa(s,i.child,o,d)}function kx(i,s,o,d,p){o=o.render;var y=s.ref;if("ref"in d){var w={};for(var T in d)T!=="ref"&&(w[T]=d[T])}else w=d;return Ma(s),d=pg(i,s,o,w,y,p),T=bg(),i!==null&&!$t?(yg(i,s,p),Pi(i,s,p)):(Ge&&T&&Km(s),s.flags|=1,hn(i,s,d,p),s.child)}function Ax(i,s,o,d,p){if(i===null){var y=o.type;return typeof y=="function"&&!Ym(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Tx(i,s,y,d,p)):(i=Id(o.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Fg(i,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:hc,o(w,d)&&i.ref===s.ref)return Pi(i,s,p)}return s.flags|=1,i=zi(y,d),i.ref=s.ref,i.return=s,s.child=i}function Tx(i,s,o,d,p){if(i!==null){var y=i.memoizedProps;if(hc(y,d)&&i.ref===s.ref)if($t=!1,s.pendingProps=d=y,Fg(i,p))(i.flags&131072)!==0&&($t=!0);else return s.lanes=i.lanes,Pi(i,s,p)}return Og(i,s,o,d,p)}function Cx(i,s,o,d){var p=d.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(d=s.child=i.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~y}else d=0,s.child=null;return Nx(i,s,y,o,d)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ld(s,y!==null?y.cachePool:null),y!==null?Dv(s,y):hg(),zv(s);else return d=s.lanes=536870912,Nx(i,s,y!==null?y.baseLanes|o:o,o,d)}else y!==null?(Ld(s,y.cachePool),Dv(s,y),Ss(),s.memoizedState=null):(i!==null&&Ld(s,null),hg(),Ss());return hn(i,s,p,o),s.child}function Tc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Nx(i,s,o,d,p){var y=ag();return y=y===null?null:{parent:qt._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},i!==null&&Ld(s,null),hg(),zv(s),i!==null&&Ol(i,s,d,!0),s.childLanes=p,null}function th(i,s){return s=rh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Rx(i,s,o){return Pa(s,i.child,null,o),i=th(s,s.pendingProps),i.flags|=2,Xn(s),s.memoizedState=null,i}function AC(i,s,o){var d=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ge){if(d.mode==="hidden")return i=th(s,d),s.lanes=536870912,Tc(null,i);if(mg(s),(i=gt)?(i=H_(i,pr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ps!==null?{id:oi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},o=fv(i),o.return=s,s.child=o,un=s,gt=null)):i=null,i===null)throw ys(s);return s.lanes=536870912,null}return th(s,d)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(mg(s),p)if(s.flags&256)s.flags&=-257,s=Rx(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if($t||Ol(i,s,o,!1),p=(o&i.childLanes)!==0,$t||p){if(d=dt,d!==null&&(w=Yo(d,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,Ra(i,w),Pn(d,i,w),Ig;hh(),s=Rx(i,s,o)}else i=y.treeContext,gt=yr(w.nextSibling),un=s,Ge=!0,bs=null,pr=!1,i!==null&&pv(s,i),s=th(s,d),s.flags|=4096;return s}return i=zi(i.child,{mode:d.mode,children:d.children}),i.ref=s.ref,s.child=i,i.return=s,i}function nh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Og(i,s,o,d,p){return Ma(s),o=pg(i,s,o,d,void 0,p),d=bg(),i!==null&&!$t?(yg(i,s,p),Pi(i,s,p)):(Ge&&d&&Km(s),s.flags|=1,hn(i,s,o,p),s.child)}function Dx(i,s,o,d,p,y){return Ma(s),s.updateQueue=null,o=Mv(s,d,o,p),jv(i),d=bg(),i!==null&&!$t?(yg(i,s,y),Pi(i,s,y)):(Ge&&d&&Km(s),s.flags|=1,hn(i,s,o,y),s.child)}function zx(i,s,o,d,p){if(Ma(s),s.stateNode===null){var y=zl,w=o.contextType;typeof w=="object"&&w!==null&&(y=dn(w)),y=new o(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=jg,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},og(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?dn(w):zl,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(zg(s,o,w,d),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&jg.enqueueReplaceState(y,y.state,null),wc(s,d,y,p),_c(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){y=s.stateNode;var T=s.memoizedProps,B=Ua(o,T);y.props=B;var W=y.context,ie=o.contextType;w=zl,typeof ie=="object"&&ie!==null&&(w=dn(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||W!==w)&&yx(s,y,d,w),xs=!1;var K=s.memoizedState;y.state=K,wc(s,d,y,p),_c(),W=s.memoizedState,T||K!==W||xs?(typeof oe=="function"&&(zg(s,o,oe,d),W=s.memoizedState),(B=xs||bx(s,o,B,d,K,W,w))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=W),y.props=d,y.state=W,y.context=w,d=B):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,cg(i,s),w=s.memoizedProps,ie=Ua(o,w),y.props=ie,oe=s.pendingProps,K=y.context,W=o.contextType,B=zl,typeof W=="object"&&W!==null&&(B=dn(W)),T=o.getDerivedStateFromProps,(W=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==oe||K!==B)&&yx(s,y,d,B),xs=!1,K=s.memoizedState,y.state=K,wc(s,d,y,p),_c();var te=s.memoizedState;w!==oe||K!==te||xs||i!==null&&i.dependencies!==null&&Vd(i.dependencies)?(typeof T=="function"&&(zg(s,o,T,d),te=s.memoizedState),(ie=xs||bx(s,o,ie,d,K,te,B)||i!==null&&i.dependencies!==null&&Vd(i.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,te,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,te,B)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=te),y.props=d,y.state=te,y.context=B,d=ie):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),d=!1)}return y=d,nh(i,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&d?(s.child=Pa(s,i.child,null,p),s.child=Pa(s,null,o,p)):hn(i,s,o,p),s.memoizedState=y.state,i=s.child):i=Pi(i,s,p),i}function jx(i,s,o,d){return za(),s.flags|=256,hn(i,s,o,d),s.child}var Vg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(i){return{baseLanes:i,cachePool:wv()}}function Lg(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Zn),i}function Mx(i,s,o){var d=s.pendingProps,p=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(Ot.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ge){if(p?Es(s):Ss(),(i=gt)?(i=H_(i,pr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ps!==null?{id:oi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},o=fv(i),o.return=s,s.child=o,un=s,gt=null)):i=null,i===null)throw ys(s);return _p(i)?s.lanes=32:s.lanes=536870912,null}var T=d.children;return d=d.fallback,p?(Ss(),p=s.mode,T=rh({mode:"hidden",children:T},p),d=Da(d,p,o,null),T.return=s,d.return=s,T.sibling=d,s.child=T,d=s.child,d.memoizedState=Pg(o),d.childLanes=Lg(i,w,o),s.memoizedState=Vg,Tc(null,d)):(Es(s),Ug(s,T))}var B=i.memoizedState;if(B!==null&&(T=B.dehydrated,T!==null)){if(y)s.flags&256?(Es(s),s.flags&=-257,s=Bg(i,s,o)):s.memoizedState!==null?(Ss(),s.child=i.child,s.flags|=128,s=null):(Ss(),T=d.fallback,p=s.mode,d=rh({mode:"visible",children:d.children},p),T=Da(T,p,o,null),T.flags|=2,d.return=s,T.return=s,d.sibling=T,s.child=d,Pa(s,i.child,null,o),d=s.child,d.memoizedState=Pg(o),d.childLanes=Lg(i,w,o),s.memoizedState=Vg,s=Tc(null,d));else if(Es(s),_p(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var W=w.dgst;w=W,d=Error(r(419)),d.stack="",d.digest=w,gc({value:d,source:null,stack:null}),s=Bg(i,s,o)}else if($t||Ol(i,s,o,!1),w=(o&i.childLanes)!==0,$t||w){if(w=dt,w!==null&&(d=Yo(w,o),d!==0&&d!==B.retryLane))throw B.retryLane=d,Ra(i,d),Pn(w,i,d),Ig;xp(T)||hh(),s=Bg(i,s,o)}else xp(T)?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,gt=yr(T.nextSibling),un=s,Ge=!0,bs=null,pr=!1,i!==null&&pv(s,i),s=Ug(s,d.children),s.flags|=4096);return s}return p?(Ss(),T=d.fallback,p=s.mode,B=i.child,W=B.sibling,d=zi(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&65011712,W!==null?T=zi(W,T):(T=Da(T,p,o,null),T.flags|=2),T.return=s,d.return=s,d.sibling=T,s.child=d,Tc(null,d),d=s.child,T=i.child.memoizedState,T===null?T=Pg(o):(p=T.cachePool,p!==null?(B=qt._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=wv(),T={baseLanes:T.baseLanes|o,cachePool:p}),d.memoizedState=T,d.childLanes=Lg(i,w,o),s.memoizedState=Vg,Tc(i.child,d)):(Es(s),o=i.child,i=o.sibling,o=zi(o,{mode:"visible",children:d.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function Ug(i,s){return s=rh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function rh(i,s){return i=Yn(22,i,null,s),i.lanes=0,i}function Bg(i,s,o){return Pa(s,i.child,null,o),i=Ug(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Ix(i,s,o){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),ng(i.return,s,o)}function Hg(i,s,o,d,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function Ox(i,s,o){var d=s.pendingProps,p=d.revealOrder,y=d.tail;d=d.children;var w=Ot.current,T=(w&2)!==0;if(T?(w=w&1|2,s.flags|=128):w&=1,ue(Ot,w),hn(i,s,d,o),d=Ge?mc:0,!T&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ix(i,o,s);else if(i.tag===19)Ix(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&Gd(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Hg(s,!1,p,o,y,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Gd(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Hg(s,!0,o,null,y,d);break;case"together":Hg(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Pi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Ts|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Ol(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=zi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=zi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Fg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Vd(i)))}function TC(i,s,o){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),vs(s,qt,i.memoizedState.cache),za();break;case 27:case 5:fe(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,mg(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Es(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Mx(i,s,o):(Es(s),i=Pi(i,s,o),i!==null?i.sibling:null);Es(s);break;case 19:var p=(i.flags&128)!==0;if(d=(o&s.childLanes)!==0,d||(Ol(i,s,o,!1),d=(o&s.childLanes)!==0),p){if(d)return Ox(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(Ot,Ot.current),d)break;return null;case 22:return s.lanes=0,Cx(i,s,o,s.pendingProps);case 24:vs(s,qt,i.memoizedState.cache)}return Pi(i,s,o)}function Vx(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)$t=!0;else{if(!Fg(i,o)&&(s.flags&128)===0)return $t=!1,TC(i,s,o);$t=(i.flags&131072)!==0}else $t=!1,Ge&&(s.flags&1048576)!==0&&gv(s,mc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(i=Oa(s.elementType),s.type=i,typeof i=="function")Ym(i)?(d=Ua(i,d),s.tag=1,s=zx(null,s,i,d,o)):(s.tag=0,s=Og(null,s,i,d,o));else{if(i!=null){var p=i.$$typeof;if(p===L){s.tag=11,s=kx(null,s,i,d,o);break e}else if(p===C){s.tag=14,s=Ax(null,s,i,d,o);break e}}throw s=Se(i)||i,Error(r(306,s,""))}}return s;case 0:return Og(i,s,s.type,s.pendingProps,o);case 1:return d=s.type,p=Ua(d,s.pendingProps),zx(i,s,d,p,o);case 3:e:{if(mt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));d=s.pendingProps;var y=s.memoizedState;p=y.element,cg(i,s),wc(s,d,null,o);var w=s.memoizedState;if(d=w.cache,vs(s,qt,d),d!==y.cache&&rg(s,[qt],o,!0),_c(),d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=jx(i,s,d,o);break e}else if(d!==p){p=fr(Error(r(424)),s),gc(p),s=jx(i,s,d,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=yr(i.firstChild),un=s,Ge=!0,bs=null,pr=!0,o=Cv(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(za(),d===p){s=Pi(i,s,o);break e}hn(i,s,d,o)}s=s.child}return s;case 26:return nh(i,s),i===null?(o=Y_(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ge||(o=s.type,i=s.pendingProps,d=vh(ve.current).createElement(o),d[Bt]=s,d[en]=i,fn(d,o,i),Ht(d),s.stateNode=d):s.memoizedState=Y_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return fe(s),i===null&&Ge&&(d=s.stateNode=G_(s.type,s.pendingProps,ve.current),un=s,pr=!0,p=gt,zs(s.type)?(wp=p,gt=yr(d.firstChild)):gt=p),hn(i,s,s.pendingProps.children,o),nh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ge&&((p=d=gt)&&(d=rN(d,s.type,s.pendingProps,pr),d!==null?(s.stateNode=d,un=s,gt=yr(d.firstChild),pr=!1,p=!0):p=!1),p||ys(s)),fe(s),p=s.type,y=s.pendingProps,w=i!==null?i.memoizedProps:null,d=y.children,bp(p,y)?d=null:w!==null&&bp(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=pg(i,s,yC,null,null,o),Hc._currentValue=p),nh(i,s),hn(i,s,d,o),s.child;case 6:return i===null&&Ge&&((i=o=gt)&&(o=iN(o,s.pendingProps,pr),o!==null?(s.stateNode=o,un=s,gt=null,i=!0):i=!1),i||ys(s)),null;case 13:return Mx(i,s,o);case 4:return mt(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Pa(s,null,d,o):hn(i,s,d,o),s.child;case 11:return kx(i,s,s.type,s.pendingProps,o);case 7:return hn(i,s,s.pendingProps,o),s.child;case 8:return hn(i,s,s.pendingProps.children,o),s.child;case 12:return hn(i,s,s.pendingProps.children,o),s.child;case 10:return d=s.pendingProps,vs(s,s.type,d.value),hn(i,s,d.children,o),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,Ma(s),p=dn(p),d=d(p),s.flags|=1,hn(i,s,d,o),s.child;case 14:return Ax(i,s,s.type,s.pendingProps,o);case 15:return Tx(i,s,s.type,s.pendingProps,o);case 19:return Ox(i,s,o);case 31:return AC(i,s,o);case 22:return Cx(i,s,o,s.pendingProps);case 24:return Ma(s),d=dn(qt),i===null?(p=ag(),p===null&&(p=dt,y=ig(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:d,cache:p},og(s),vs(s,qt,p)):((i.lanes&o)!==0&&(cg(i,s),wc(s,null,null,o),_c()),p=i.memoizedState,y=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),vs(s,qt,d)):(d=y.cache,vs(s,qt,d),d!==p.cache&&rg(s,[qt],o,!0))),hn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Li(i){i.flags|=4}function qg(i,s,o,d,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(u_())i.flags|=8192;else throw Va=Bd,lg}else i.flags&=-16777217}function Px(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J_(s))if(u_())i.flags|=8192;else throw Va=Bd,lg}function ih(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ud():536870912,i.lanes|=s,Yl|=s)}function Cc(i,s){if(!Ge)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function pt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,d=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=o,s}function CC(i,s,o){var d=s.pendingProps;switch(Zm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ii(qt),Ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Il(s)?Li(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,eg())),pt(s),null;case 26:var p=s.type,y=s.memoizedState;return i===null?(Li(s),y!==null?(pt(s),Px(s,y)):(pt(s),qg(s,p,null,d,o))):y?y!==i.memoizedState?(Li(s),pt(s),Px(s,y)):(pt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==d&&Li(s),pt(s),qg(s,p,i,d,o)),null;case 27:if(Ze(s),o=ve.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Li(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return pt(s),null}i=he.current,Il(s)?bv(s):(i=G_(p,d,o),s.stateNode=i,Li(s))}return pt(s),null;case 5:if(Ze(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Li(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return pt(s),null}if(y=he.current,Il(s))bv(s);else{var w=vh(ve.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?w.createElement(p,{is:d.is}):w.createElement(p)}}y[Bt]=s,y[en]=d;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=y;e:switch(fn(y,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Li(s)}}return pt(s),qg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Li(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=ve.current,Il(s)){if(i=s.stateNode,o=s.memoizedProps,d=null,p=un,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[Bt]=s,i=!!(i.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||M_(i.nodeValue,o)),i||ys(s,!0)}else i=vh(i).createTextNode(d),i[Bt]=s,s.stateNode=i}return pt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(d=Il(s),o!==null){if(i===null){if(!d)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Bt]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),i=!1}else o=eg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Xn(s),s):(Xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return pt(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Il(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Bt]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),p=!1}else p=eg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Xn(s),s):(Xn(s),null)}return Xn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=d!==null,i=i!==null&&i.memoizedState!==null,o&&(d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),ih(s,s.updateQueue),pt(s),null);case 4:return Ye(),i===null&&hp(s.stateNode.containerInfo),pt(s),null;case 10:return Ii(s.type),pt(s),null;case 19:if(Z(Ot),d=s.memoizedState,d===null)return pt(s),null;if(p=(s.flags&128)!==0,y=d.rendering,y===null)if(p)Cc(d,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Gd(i),y!==null){for(s.flags|=128,Cc(d,!1),i=y.updateQueue,s.updateQueue=i,ih(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)hv(o,i),o=o.sibling;return ue(Ot,Ot.current&1|2),Ge&&ji(s,d.treeForkCount),s.child}i=i.sibling}d.tail!==null&&An()>ch&&(s.flags|=128,p=!0,Cc(d,!1),s.lanes=4194304)}else{if(!p)if(i=Gd(y),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,ih(s,i),Cc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ge)return pt(s),null}else 2*An()-d.renderingStartTime>ch&&o!==536870912&&(s.flags|=128,p=!0,Cc(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(i=d.last,i!==null?i.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=An(),i.sibling=null,o=Ot.current,ue(Ot,p?o&1|2:o&1),Ge&&ji(s,d.treeForkCount),i):(pt(s),null);case 22:case 23:return Xn(s),fg(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&ih(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048),i!==null&&Z(Ia),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ii(qt),pt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function NC(i,s){switch(Zm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ii(qt),Ye(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ze(s),null;case 31:if(s.memoizedState!==null){if(Xn(s),s.alternate===null)throw Error(r(340));za()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Xn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));za()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Z(Ot),null;case 4:return Ye(),null;case 10:return Ii(s.type),null;case 22:case 23:return Xn(s),fg(),i!==null&&Z(Ia),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ii(qt),null;case 25:return null;default:return null}}function Lx(i,s){switch(Zm(s),s.tag){case 3:Ii(qt),Ye();break;case 26:case 27:case 5:Ze(s);break;case 4:Ye();break;case 31:s.memoizedState!==null&&Xn(s);break;case 13:Xn(s);break;case 19:Z(Ot);break;case 10:Ii(s.type);break;case 22:case 23:Xn(s),fg(),i!==null&&Z(Ia);break;case 24:Ii(qt)}}function Nc(i,s){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&i)===i){d=void 0;var y=o.create,w=o.inst;d=y(),w.destroy=d}o=o.next}while(o!==p)}}catch(T){st(s,s.return,T)}}function ks(i,s,o){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&i)===i){var w=d.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,p=s;var B=o,W=T;try{W()}catch(ie){st(p,B,ie)}}}d=d.next}while(d!==y)}}catch(ie){st(s,s.return,ie)}}function Ux(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Rv(s,o)}catch(d){st(i,i.return,d)}}}function Bx(i,s,o){o.props=Ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(d){st(i,s,d)}}function Rc(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof o=="function"?i.refCleanup=o(d):o.current=d}}catch(p){st(i,s,p)}}function ui(i,s){var o=i.ref,d=i.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){st(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){st(i,s,p)}else o.current=null}function Hx(i){var s=i.type,o=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){st(i,i.return,p)}}function Gg(i,s,o){try{var d=i.stateNode;KC(d,i.type,o,s),d[en]=s}catch(p){st(i,i.return,p)}}function Fx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zs(i.type)||i.tag===4}function $g(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Fx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qg(i,s,o){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Rr));else if(d!==4&&(d===27&&zs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Qg(i,s,o),i=i.sibling;i!==null;)Qg(i,s,o),i=i.sibling}function sh(i,s,o){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(d!==4&&(d===27&&zs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(sh(i,s,o),i=i.sibling;i!==null;)sh(i,s,o),i=i.sibling}function qx(i){var s=i.stateNode,o=i.memoizedProps;try{for(var d=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);fn(s,d,o),s[Bt]=i,s[en]=o}catch(y){st(i,i.return,y)}}var Ui=!1,Qt=!1,Yg=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,nn=null;function RC(i,s){if(i=i.containerInfo,gp=Ah,i=rv(i),Bm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,T=-1,B=-1,W=0,ie=0,oe=i,K=null;t:for(;;){for(var te;oe!==o||p!==0&&oe.nodeType!==3||(T=w+p),oe!==y||d!==0&&oe.nodeType!==3||(B=w+d),oe.nodeType===3&&(w+=oe.nodeValue.length),(te=oe.firstChild)!==null;)K=oe,oe=te;for(;;){if(oe===i)break t;if(K===o&&++W===p&&(T=w),K===y&&++ie===d&&(B=w),(te=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=te}o=T===-1||B===-1?null:{start:T,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:i,selectionRange:o},Ah=!1,nn=s;nn!==null;)if(s=nn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,nn=i;else for(;nn!==null;){switch(s=nn,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var xe=Ua(o.type,p);i=d.getSnapshotBeforeUpdate(xe,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){st(o,o.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)vp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,nn=i;break}nn=s.return}}function $x(i,s,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Hi(i,o),d&4&&Nc(5,o);break;case 1:if(Hi(i,o),d&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){st(o,o.return,w)}else{var p=Ua(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){st(o,o.return,w)}}d&64&&Ux(o),d&512&&Rc(o,o.return);break;case 3:if(Hi(i,o),d&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Rv(i,s)}catch(w){st(o,o.return,w)}}break;case 27:s===null&&d&4&&qx(o);case 26:case 5:Hi(i,o),s===null&&d&4&&Hx(o),d&512&&Rc(o,o.return);break;case 12:Hi(i,o);break;case 31:Hi(i,o),d&4&&Wx(i,o);break;case 13:Hi(i,o),d&4&&Xx(i,o),d&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=LC.bind(null,o),sN(i,o))));break;case 22:if(d=o.memoizedState!==null||Ui,!d){s=s!==null&&s.memoizedState!==null||Qt,p=Ui;var y=Qt;Ui=d,(Qt=s)&&!y?Fi(i,o,(o.subtreeFlags&8772)!==0):Hi(i,o),Ui=p,Qt=y}break;case 30:break;default:Hi(i,o)}}function Qx(i){var s=i.alternate;s!==null&&(i.alternate=null,Qx(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&yl(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,Mn=!1;function Bi(i,s,o){for(o=o.child;o!==null;)Yx(i,s,o),o=o.sibling}function Yx(i,s,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ar,o)}catch{}switch(o.tag){case 26:Qt||ui(o,s),Bi(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qt||ui(o,s);var d=xt,p=Mn;zs(o.type)&&(xt=o.stateNode,Mn=!1),Bi(i,s,o),Lc(o.stateNode),xt=d,Mn=p;break;case 5:Qt||ui(o,s);case 6:if(d=xt,p=Mn,xt=null,Bi(i,s,o),xt=d,Mn=p,xt!==null)if(Mn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(y){st(o,s,y)}else try{xt.removeChild(o.stateNode)}catch(y){st(o,s,y)}break;case 18:xt!==null&&(Mn?(i=xt,U_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),no(i)):U_(xt,o.stateNode));break;case 4:d=xt,p=Mn,xt=o.stateNode.containerInfo,Mn=!0,Bi(i,s,o),xt=d,Mn=p;break;case 0:case 11:case 14:case 15:ks(2,o,s),Qt||ks(4,o,s),Bi(i,s,o);break;case 1:Qt||(ui(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Bx(o,s,d)),Bi(i,s,o);break;case 21:Bi(i,s,o);break;case 22:Qt=(d=Qt)||o.memoizedState!==null,Bi(i,s,o),Qt=d;break;default:Bi(i,s,o)}}function Wx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{no(i)}catch(o){st(s,s.return,o)}}}function Xx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{no(i)}catch(o){st(s,s.return,o)}}function DC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Gx),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Gx),s;default:throw Error(r(435,i.tag))}}function ah(i,s){var o=DC(i);s.forEach(function(d){if(!o.has(d)){o.add(d);var p=UC.bind(null,i,d);d.then(p,p)}})}function In(i,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],y=i,w=s,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(zs(T.type)){xt=T.stateNode,Mn=!1;break e}break;case 5:xt=T.stateNode,Mn=!1;break e;case 3:case 4:xt=T.stateNode.containerInfo,Mn=!0;break e}T=T.return}if(xt===null)throw Error(r(160));Yx(y,w,p),xt=null,Mn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Kx(s,i),s=s.sibling}var Or=null;function Kx(i,s){var o=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(s,i),On(i),d&4&&(ks(3,i,i.return),Nc(3,i),ks(5,i,i.return));break;case 1:In(s,i),On(i),d&512&&(Qt||o===null||ui(o,o.return)),d&64&&Ui&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=Or;if(In(s,i),On(i),d&512&&(Qt||o===null||ui(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=i.memoizedState,o===null)if(d===null)if(i.stateNode===null){e:{d=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Xr]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(d),p.head.insertBefore(y,p.querySelector("head > title"))),fn(y,d,o),y[Bt]=i,Ht(y),d=y;break e;case"link":var w=K_("link","href",p).get(d+(o.href||""));if(w){for(var T=0;T<w.length;T++)if(y=w[T],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(T,1);break t}}y=p.createElement(d),fn(y,d,o),p.head.appendChild(y);break;case"meta":if(w=K_("meta","content",p).get(d+(o.content||""))){for(T=0;T<w.length;T++)if(y=w[T],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(T,1);break t}}y=p.createElement(d),fn(y,d,o),p.head.appendChild(y);break;default:throw Error(r(468,d))}y[Bt]=i,Ht(y),d=y}i.stateNode=d}else Z_(p,i.type,i.stateNode);else i.stateNode=X_(p,d,i.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?Z_(p,i.type,i.stateNode):X_(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Gg(i,i.memoizedProps,o.memoizedProps)}break;case 27:In(s,i),On(i),d&512&&(Qt||o===null||ui(o,o.return)),o!==null&&d&4&&Gg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(In(s,i),On(i),d&512&&(Qt||o===null||ui(o,o.return)),i.flags&32){p=i.stateNode;try{jn(p,"")}catch(xe){st(i,i.return,xe)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,Gg(i,p,o!==null?o.memoizedProps:p)),d&1024&&(Yg=!0);break;case 6:if(In(s,i),On(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,o=i.stateNode;try{o.nodeValue=d}catch(xe){st(i,i.return,xe)}}break;case 3:if(wh=null,p=Or,Or=xh(s.containerInfo),In(s,i),Or=p,On(i),d&4&&o!==null&&o.memoizedState.isDehydrated)try{no(s.containerInfo)}catch(xe){st(i,i.return,xe)}Yg&&(Yg=!1,Zx(i));break;case 4:d=Or,Or=xh(i.stateNode.containerInfo),In(s,i),On(i),Or=d;break;case 12:In(s,i),On(i);break;case 31:In(s,i),On(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,ah(i,d)));break;case 13:In(s,i),On(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(oh=An()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,ah(i,d)));break;case 22:p=i.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,W=Ui,ie=Qt;if(Ui=W||p,Qt=ie||B,In(s,i),Qt=ie,Ui=W,On(i),d&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||B||Ui||Qt||Ba(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){B=o=s;try{if(y=B.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=B.stateNode;var oe=B.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(xe){st(B,B.return,xe)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(xe){st(B,B.return,xe)}}}else if(s.tag===18){if(o===null){B=s;try{var te=B.stateNode;p?B_(te,!0):B_(B.stateNode,!1)}catch(xe){st(B,B.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,ah(i,o))));break;case 19:In(s,i),On(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,ah(i,d)));break;case 30:break;case 21:break;default:In(s,i),On(i)}}function On(i){var s=i.flags;if(s&2){try{for(var o,d=i.return;d!==null;){if(Fx(d)){o=d;break}d=d.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=$g(i);sh(i,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(jn(w,""),o.flags&=-33);var T=$g(i);sh(i,T,w);break;case 3:case 4:var B=o.stateNode.containerInfo,W=$g(i);Qg(i,W,B);break;default:throw Error(r(161))}}catch(ie){st(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Zx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Zx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Hi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)$x(i,s.alternate,s),s=s.sibling}function Ba(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ks(4,s,s.return),Ba(s);break;case 1:ui(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Bx(s,s.return,o),Ba(s);break;case 27:Lc(s.stateNode);case 26:case 5:ui(s,s.return),Ba(s);break;case 22:s.memoizedState===null&&Ba(s);break;case 30:Ba(s);break;default:Ba(s)}i=i.sibling}}function Fi(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Fi(p,y,o),Nc(4,y);break;case 1:if(Fi(p,y,o),d=y,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){st(d,d.return,W)}if(d=y,p=d.updateQueue,p!==null){var T=d.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)Nv(B[p],T)}catch(W){st(d,d.return,W)}}o&&w&64&&Ux(y),Rc(y,y.return);break;case 27:qx(y);case 26:case 5:Fi(p,y,o),o&&d===null&&w&4&&Hx(y),Rc(y,y.return);break;case 12:Fi(p,y,o);break;case 31:Fi(p,y,o),o&&w&4&&Wx(p,y);break;case 13:Fi(p,y,o),o&&w&4&&Xx(p,y);break;case 22:y.memoizedState===null&&Fi(p,y,o),Rc(y,y.return);break;case 30:break;default:Fi(p,y,o)}s=s.sibling}}function Wg(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&pc(o))}function Xg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&pc(i))}function Vr(i,s,o,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Jx(i,s,o,d),s=s.sibling}function Jx(i,s,o,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(i,s,o,d),p&2048&&Nc(9,s);break;case 1:Vr(i,s,o,d);break;case 3:Vr(i,s,o,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&pc(i)));break;case 12:if(p&2048){Vr(i,s,o,d),i=s.stateNode;try{var y=s.memoizedProps,w=y.id,T=y.onPostCommit;typeof T=="function"&&T(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){st(s,s.return,B)}}else Vr(i,s,o,d);break;case 31:Vr(i,s,o,d);break;case 13:Vr(i,s,o,d);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Vr(i,s,o,d):Dc(i,s):y._visibility&2?Vr(i,s,o,d):(y._visibility|=2,Gl(i,s,o,d,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Wg(w,s);break;case 24:Vr(i,s,o,d),p&2048&&Xg(s.alternate,s);break;default:Vr(i,s,o,d)}}function Gl(i,s,o,d,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,w=s,T=o,B=d,W=w.flags;switch(w.tag){case 0:case 11:case 15:Gl(y,w,T,B,p),Nc(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?Gl(y,w,T,B,p):Dc(y,w):(ie._visibility|=2,Gl(y,w,T,B,p)),p&&W&2048&&Wg(w.alternate,w);break;case 24:Gl(y,w,T,B,p),p&&W&2048&&Xg(w.alternate,w);break;default:Gl(y,w,T,B,p)}s=s.sibling}}function Dc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,d=s,p=d.flags;switch(d.tag){case 22:Dc(o,d),p&2048&&Wg(d.alternate,d);break;case 24:Dc(o,d),p&2048&&Xg(d.alternate,d);break;default:Dc(o,d)}s=s.sibling}}var zc=8192;function $l(i,s,o){if(i.subtreeFlags&zc)for(i=i.child;i!==null;)e_(i,s,o),i=i.sibling}function e_(i,s,o){switch(i.tag){case 26:$l(i,s,o),i.flags&zc&&i.memoizedState!==null&&bN(o,Or,i.memoizedState,i.memoizedProps);break;case 5:$l(i,s,o);break;case 3:case 4:var d=Or;Or=xh(i.stateNode.containerInfo),$l(i,s,o),Or=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=zc,zc=16777216,$l(i,s,o),zc=d):$l(i,s,o));break;default:$l(i,s,o)}}function t_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function jc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var d=s[o];nn=d,r_(d,i)}t_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n_(i),i=i.sibling}function n_(i){switch(i.tag){case 0:case 11:case 15:jc(i),i.flags&2048&&ks(9,i,i.return);break;case 3:jc(i);break;case 12:jc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,lh(i)):jc(i);break;default:jc(i)}}function lh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var d=s[o];nn=d,r_(d,i)}t_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ks(8,s,s.return),lh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,lh(s));break;default:lh(s)}i=i.sibling}}function r_(i,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ks(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:pc(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,nn=d;else e:for(o=i;nn!==null;){d=nn;var p=d.sibling,y=d.return;if(Qx(d),d===o){nn=null;break e}if(p!==null){p.return=y,nn=p;break e}nn=y}}}var zC={getCacheForType:function(i){var s=dn(qt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return dn(qt).controller.signal}},jC=typeof WeakMap=="function"?WeakMap:Map,et=0,dt=null,Le=null,Be=0,it=0,Kn=null,As=!1,Ql=!1,Kg=!1,qi=0,Nt=0,Ts=0,Ha=0,Zg=0,Zn=0,Yl=0,Mc=null,Vn=null,Jg=!1,oh=0,i_=0,ch=1/0,uh=null,Cs=null,Zt=0,Ns=null,Wl=null,Gi=0,ep=0,tp=null,s_=null,Ic=0,np=null;function Jn(){return(et&2)!==0&&Be!==0?Be&-Be:re.T!==null?op():dd()}function a_(){if(Zn===0)if((Be&536870912)===0||Ge){var i=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),Zn=i}else Zn=536870912;return i=Wn.current,i!==null&&(i.flags|=32),Zn}function Pn(i,s,o){(i===dt&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Xl(i,0),Rs(i,Be,Zn,!1)),pa(i,o),((et&2)===0||i!==dt)&&(i===dt&&((et&2)===0&&(Ha|=o),Nt===4&&Rs(i,Be,Zn,!1)),di(i))}function l_(i,s,o){if((et&6)!==0)throw Error(r(327));var d=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Tr(i,s),p=d?OC(i,s):ip(i,s,!0),y=d;do{if(p===0){Ql&&!d&&Rs(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!MC(o)){p=ip(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var T=i;p=Mc;var B=T.current.memoizedState.isDehydrated;if(B&&(Xl(T,w).flags|=256),w=ip(T,w,!1),w!==2){if(Kg&&!B){T.errorRecoveryDisabledLanes|=y,Ha|=y,p=4;break e}y=Vn,Vn=p,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Xl(i,0),Rs(i,s,0,!0);break}e:{switch(d=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Rs(d,s,Zn,!As);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=oh+300-An(),10<p)){if(Rs(d,s,Zn,!As),Qr(d,0,!0)!==0)break e;Gi=s,d.timeoutHandle=P_(o_.bind(null,d,o,Vn,uh,Jg,s,Zn,Ha,Yl,As,y,"Throttled",-0,0),p);break e}o_(d,o,Vn,uh,Jg,s,Zn,Ha,Yl,As,y,null,-0,0)}}break}while(!0);di(i)}function o_(i,s,o,d,p,y,w,T,B,W,ie,oe,K,te){if(i.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rr},e_(s,y,oe);var xe=(y&62914560)===y?oh-An():(y&4194048)===y?i_-An():0;if(xe=yN(oe,xe),xe!==null){Gi=y,i.cancelPendingCommit=xe(p_.bind(null,i,s,y,o,d,p,w,T,B,ie,oe,null,K,te)),Rs(i,y,w,!W);return}}p_(i,s,y,o,d,p,w,T,B)}function MC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],y=p.getSnapshot;p=p.value;try{if(!Qn(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Rs(i,s,o,d){s&=~Zg,s&=~Ha,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var y=31-Mt(p),w=1<<y;d[y]=-1,p&=~w}o!==0&&ba(i,o,s)}function dh(){return(et&6)===0?(Oc(0),!1):!0}function rp(){if(Le!==null){if(it===0)var i=Le.return;else i=Le,Mi=ja=null,vg(i),Ul=null,yc=0,i=Le;for(;i!==null;)Lx(i.alternate,i),i=i.return;Le=null}}function Xl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,eN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Gi=0,rp(),dt=i,Le=o=zi(i.current,null),Be=s,it=0,Kn=null,As=!1,Ql=Tr(i,s),Kg=!1,Yl=Zn=Zg=Ha=Ts=Nt=0,Vn=Mc=null,Jg=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-Mt(d),y=1<<p;s|=i[p],d&=~y}return qi=s,zd(),o}function c_(i,s){Ve=null,re.H=Ac,s===Ll||s===Ud?(s=kv(),it=3):s===lg?(s=kv(),it=4):it=s===Ig?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,Le===null&&(Nt=1,eh(i,fr(s,i.current)))}function u_(){var i=Wn.current;return i===null?!0:(Be&4194048)===Be?br===null:(Be&62914560)===Be||(Be&536870912)!==0?i===br:!1}function d_(){var i=re.H;return re.H=Ac,i===null?Ac:i}function h_(){var i=re.A;return re.A=zC,i}function hh(){Nt=4,As||(Be&4194048)!==Be&&Wn.current!==null||(Ql=!0),(Ts&134217727)===0&&(Ha&134217727)===0||dt===null||Rs(dt,Be,Zn,!1)}function ip(i,s,o){var d=et;et|=2;var p=d_(),y=h_();(dt!==i||Be!==s)&&(uh=null,Xl(i,s)),s=!1;var w=Nt;e:do try{if(it!==0&&Le!==null){var T=Le,B=Kn;switch(it){case 8:rp(),w=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var W=it;if(it=0,Kn=null,Kl(i,T,B,W),o&&Ql){w=0;break e}break;default:W=it,it=0,Kn=null,Kl(i,T,B,W)}}IC(),w=Nt;break}catch(ie){c_(i,ie)}while(!0);return s&&i.shellSuspendCounter++,Mi=ja=null,et=d,re.H=p,re.A=y,Le===null&&(dt=null,Be=0,zd()),w}function IC(){for(;Le!==null;)f_(Le)}function OC(i,s){var o=et;et|=2;var d=d_(),p=h_();dt!==i||Be!==s?(uh=null,ch=An()+500,Xl(i,s)):Ql=Tr(i,s);e:do try{if(it!==0&&Le!==null){s=Le;var y=Kn;t:switch(it){case 1:it=0,Kn=null,Kl(i,s,y,1);break;case 2:case 9:if(Ev(y)){it=0,Kn=null,m_(s);break}s=function(){it!==2&&it!==9||dt!==i||(it=7),di(i)},y.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Ev(y)?(it=0,Kn=null,m_(s)):(it=0,Kn=null,Kl(i,s,y,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var T=Le;if(w?J_(w):T.stateNode.complete){it=0,Kn=null;var B=T.sibling;if(B!==null)Le=B;else{var W=T.return;W!==null?(Le=W,fh(W)):Le=null}break t}}it=0,Kn=null,Kl(i,s,y,5);break;case 6:it=0,Kn=null,Kl(i,s,y,6);break;case 8:rp(),Nt=6;break e;default:throw Error(r(462))}}VC();break}catch(ie){c_(i,ie)}while(!0);return Mi=ja=null,re.H=d,re.A=p,et=o,Le!==null?0:(dt=null,Be=0,zd(),Nt)}function VC(){for(;Le!==null&&!Mm();)f_(Le)}function f_(i){var s=Vx(i.alternate,i,qi);i.memoizedProps=i.pendingProps,s===null?fh(i):Le=s}function m_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Dx(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=Dx(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:vg(s);default:Lx(o,s),s=Le=hv(s,qi),s=Vx(o,s,qi)}i.memoizedProps=i.pendingProps,s===null?fh(i):Le=s}function Kl(i,s,o,d){Mi=ja=null,vg(s),Ul=null,yc=0;var p=s.return;try{if(kC(i,p,s,o,Be)){Nt=1,eh(i,fr(o,i.current)),Le=null;return}}catch(y){if(p!==null)throw Le=p,y;Nt=1,eh(i,fr(o,i.current)),Le=null;return}s.flags&32768?(Ge||d===1?i=!0:Ql||(Be&536870912)!==0?i=!1:(As=i=!0,(d===2||d===9||d===3||d===6)&&(d=Wn.current,d!==null&&d.tag===13&&(d.flags|=16384))),g_(s,i)):fh(s)}function fh(i){var s=i;do{if((s.flags&32768)!==0){g_(s,As);return}i=s.return;var o=CC(s.alternate,s,qi);if(o!==null){Le=o;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=i}while(s!==null);Nt===0&&(Nt=5)}function g_(i,s){do{var o=NC(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);Nt=6,Le=null}function p_(i,s,o,d,p,y,w,T,B){i.cancelPendingCommit=null;do mh();while(Zt!==0);if((et&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=$m,Vm(i,o,y,w,T,B),i===dt&&(Le=dt=null,Be=0),Wl=s,Ns=i,Gi=o,ep=y,tp=p,s_=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BC(as,function(){return __(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=re.T,re.T=null,p=ae.p,ae.p=2,w=et,et|=4;try{RC(i,s,o)}finally{et=w,ae.p=p,re.T=d}}Zt=1,b_(),y_(),v_()}}function b_(){if(Zt===1){Zt=0;var i=Ns,s=Wl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=re.T,re.T=null;var d=ae.p;ae.p=2;var p=et;et|=4;try{Kx(s,i);var y=pp,w=rv(i.containerInfo),T=y.focusedElem,B=y.selectionRange;if(w!==T&&T&&T.ownerDocument&&nv(T.ownerDocument.documentElement,T)){if(B!==null&&Bm(T)){var W=B.start,ie=B.end;if(ie===void 0&&(ie=W),"selectionStart"in T)T.selectionStart=W,T.selectionEnd=Math.min(ie,T.value.length);else{var oe=T.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var te=K.getSelection(),xe=T.textContent.length,Ce=Math.min(B.start,xe),ut=B.end===void 0?Ce:Math.min(B.end,xe);!te.extend&&Ce>ut&&(w=ut,ut=Ce,Ce=w);var $=tv(T,Ce),G=tv(T,ut);if($&&G&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var Y=oe.createRange();Y.setStart($.node,$.offset),te.removeAllRanges(),Ce>ut?(te.addRange(Y),te.extend(G.node,G.offset)):(Y.setEnd(G.node,G.offset),te.addRange(Y))}}}}for(oe=[],te=T;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var le=oe[T];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Ah=!!gp,pp=gp=null}finally{et=p,ae.p=d,re.T=o}}i.current=s,Zt=2}}function y_(){if(Zt===2){Zt=0;var i=Ns,s=Wl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=re.T,re.T=null;var d=ae.p;ae.p=2;var p=et;et|=4;try{$x(i,s.alternate,s)}finally{et=p,ae.p=d,re.T=o}}Zt=3}}function v_(){if(Zt===4||Zt===3){Zt=0,id();var i=Ns,s=Wl,o=Gi,d=s_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,Wl=Ns=null,x_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Cs=null),Ci(o),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ar,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=re.T,p=ae.p,ae.p=2,re.T=null;try{for(var y=i.onRecoverableError,w=0;w<d.length;w++){var T=d[w];y(T.value,{componentStack:T.stack})}}finally{re.T=s,ae.p=p}}(Gi&3)!==0&&mh(),di(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===np?Ic++:(Ic=0,np=i):Ic=0,Oc(0)}}function x_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,pc(s)))}function mh(){return b_(),y_(),v_(),__()}function __(){if(Zt!==5)return!1;var i=Ns,s=ep;ep=0;var o=Ci(Gi),d=re.T,p=ae.p;try{ae.p=32>o?32:o,re.T=null,o=tp,tp=null;var y=Ns,w=Gi;if(Zt=0,Wl=Ns=null,Gi=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,n_(y.current),Jx(y,y.current,w,o),et=T,Oc(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ar,y)}catch{}return!0}finally{ae.p=p,re.T=d,x_(i,s)}}function w_(i,s,o){s=fr(o,s),s=Mg(i.stateNode,s,2),i=ws(i,s,2),i!==null&&(pa(i,2),di(i))}function st(i,s,o){if(i.tag===3)w_(i,i,o);else for(;s!==null;){if(s.tag===3){w_(s,i,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Cs===null||!Cs.has(d))){i=fr(o,i),o=Ex(2),d=ws(s,o,2),d!==null&&(Sx(o,d,s,i),pa(d,2),di(d));break}}s=s.return}}function sp(i,s,o){var d=i.pingCache;if(d===null){d=i.pingCache=new jC;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(o)||(Kg=!0,p.add(o),i=PC.bind(null,i,s,o),s.then(i,i))}function PC(i,s,o){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,dt===i&&(Be&o)===o&&(Nt===4||Nt===3&&(Be&62914560)===Be&&300>An()-oh?(et&2)===0&&Xl(i,0):Zg|=o,Yl===Be&&(Yl=0)),di(i)}function E_(i,s){s===0&&(s=ud()),i=Ra(i,s),i!==null&&(pa(i,s),di(i))}function LC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),E_(i,o)}function UC(i,s){var o=0;switch(i.tag){case 31:case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),E_(i,o)}function BC(i,s){return Kt(i,s)}var gh=null,Zl=null,ap=!1,ph=!1,lp=!1,Ds=0;function di(i){i!==Zl&&i.next===null&&(Zl===null?gh=Zl=i:Zl=Zl.next=i),ph=!0,ap||(ap=!0,FC())}function Oc(i,s){if(!lp&&ph){lp=!0;do for(var o=!1,d=gh;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var y=0;else{var w=d.suspendedLanes,T=d.pingedLanes;y=(1<<31-Mt(42|i)+1)-1,y&=p&~(w&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,T_(d,y))}else y=Be,y=Qr(d,d===dt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Tr(d,y)||(o=!0,T_(d,y));d=d.next}while(o);lp=!1}}function HC(){S_()}function S_(){ph=ap=!1;var i=0;Ds!==0&&JC()&&(i=Ds);for(var s=An(),o=null,d=gh;d!==null;){var p=d.next,y=k_(d,s);y===0?(d.next=null,o===null?gh=p:o.next=p,p===null&&(Zl=o)):(o=d,(i!==0||(y&3)!==0)&&(ph=!0)),d=p}Zt!==0&&Zt!==5||Oc(i),Ds!==0&&(Ds=0)}function k_(i,s){for(var o=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Mt(y),T=1<<w,B=p[w];B===-1?((T&o)===0||(T&d)!==0)&&(p[w]=Om(T,s)):B<=s&&(i.expiredLanes|=T),y&=~T}if(s=dt,o=Be,o=Qr(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,o===0||i===s&&(it===2||it===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&ss(d),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Tr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(d!==null&&ss(d),Ci(o)){case 2:case 8:o=$o;break;case 32:o=as;break;case 268435456:o=sd;break;default:o=as}return d=A_.bind(null,i),o=Kt(o,d),i.callbackPriority=s,i.callbackNode=o,s}return d!==null&&d!==null&&ss(d),i.callbackPriority=2,i.callbackNode=null,2}function A_(i,s){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(mh()&&i.callbackNode!==o)return null;var d=Be;return d=Qr(i,i===dt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(l_(i,d,s),k_(i,An()),i.callbackNode!=null&&i.callbackNode===o?A_.bind(null,i):null)}function T_(i,s){if(mh())return null;l_(i,s,!0)}function FC(){tN(function(){(et&6)!==0?Kt(Go,HC):S_()})}function op(){if(Ds===0){var i=Vl;i===0&&(i=Gr,Gr<<=1,(Gr&261888)===0&&(Gr=256)),Ds=i}return Ds}function C_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wl(""+i)}function N_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function qC(i,s,o,d,p){if(s==="submit"&&o&&o.stateNode===p){var y=C_((p[en]||null).action),w=d.submitter;w&&(s=(s=w[en]||null)?C_(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var T=new ii("action","action",null,d,p);i.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ds!==0){var B=w?N_(p,w):new FormData(p);Cg(o,{pending:!0,data:B,method:p.method,action:y},null,B)}}else typeof y=="function"&&(T.preventDefault(),B=w?N_(p,w):new FormData(p),Cg(o,{pending:!0,data:B,method:p.method,action:y},y,B))},currentTarget:p}]})}}for(var cp=0;cp<Gm.length;cp++){var up=Gm[cp],GC=up.toLowerCase(),$C=up[0].toUpperCase()+up.slice(1);Ir(GC,"on"+$C)}Ir(av,"onAnimationEnd"),Ir(lv,"onAnimationIteration"),Ir(ov,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(oC,"onTransitionRun"),Ir(cC,"onTransitionStart"),Ir(uC,"onTransitionCancel"),Ir(cv,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function R_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var d=i[o],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var w=d.length-1;0<=w;w--){var T=d[w],B=T.instance,W=T.currentTarget;if(T=T.listener,B!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=W;try{y(p)}catch(ie){Dd(ie)}p.currentTarget=null,y=B}else for(w=0;w<d.length;w++){if(T=d[w],B=T.instance,W=T.currentTarget,T=T.listener,B!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=W;try{y(p)}catch(ie){Dd(ie)}p.currentTarget=null,y=B}}}}function Ue(i,s){var o=s[bl];o===void 0&&(o=s[bl]=new Set);var d=i+"__bubble";o.has(d)||(D_(s,i,2,!1),o.add(d))}function dp(i,s,o){var d=0;s&&(d|=4),D_(o,i,d,s)}var bh="_reactListening"+Math.random().toString(36).slice(2);function hp(i){if(!i[bh]){i[bh]=!0,Wo.forEach(function(o){o!=="selectionchange"&&(QC.has(o)||dp(o,!1,i),dp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[bh]||(s[bh]=!0,dp("selectionchange",!1,s))}}function D_(i,s,o,d){switch(a1(s)){case 2:var p=_N;break;case 8:p=wN;break;default:p=Tp}o=p.bind(null,s,o,i),p=void 0,!wa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function fp(i,s,o,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var T=d.stateNode.containerInfo;if(T===p)break;if(w===4)for(w=d.return;w!==null;){var B=w.tag;if((B===3||B===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;T!==null;){if(w=Kr(T),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){d=y=w;continue e}T=T.parentNode}}d=d.return}hs(function(){var W=y,ie=cr(o),oe=[];e:{var K=uv.get(i);if(K!==void 0){var te=ii,xe=i;switch(i){case"keypress":if(Sa(o)===0)break e;case"keydown":case"keyup":te=Cd;break;case"focusin":xe="focus",te=Aa;break;case"focusout":xe="blur",te=Aa;break;case"beforeblur":case"afterblur":te=Aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_;break;case av:case lv:case ov:te=_d;break;case cv:te=D;break;case"scroll":case"scrollend":te=lc;break;case"wheel":te=J;break;case"copy":case"cut":case"paste":te=wd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Di;break;case"toggle":case"beforetoggle":te=Oe}var Ce=(s&4)!==0,ut=!Ce&&(i==="scroll"||i==="scrollend"),$=Ce?K!==null?K+"Capture":null:K;Ce=[];for(var G=W,Y;G!==null;){var le=G;if(Y=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Y===null||$===null||(le=Dr(G,$),le!=null&&Ce.push(Pc(G,le,Y))),ut)break;G=G.return}0<Ce.length&&(K=new te(K,xe,null,o,ie),oe.push({event:K,listeners:Ce}))}}if((s&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",K&&o!==ic&&(xe=o.relatedTarget||o.fromElement)&&(Kr(xe)||xe[Wr]))break e;if((te||K)&&(K=ie.window===ie?ie:(K=ie.ownerDocument)?K.defaultView||K.parentWindow:window,te?(xe=o.relatedTarget||o.toElement,te=W,xe=xe?Kr(xe):null,xe!==null&&(ut=l(xe),Ce=xe.tag,xe!==ut||Ce!==5&&Ce!==27&&Ce!==6)&&(xe=null)):(te=null,xe=W),te!==xe)){if(Ce=oc,le="onMouseLeave",$="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Di,le="onPointerLeave",$="onPointerEnter",G="pointer"),ut=te==null?K:Gn(te),Y=xe==null?K:Gn(xe),K=new Ce(le,G+"leave",te,o,ie),K.target=ut,K.relatedTarget=Y,le=null,Kr(ie)===W&&(Ce=new Ce($,G+"enter",xe,o,ie),Ce.target=Y,Ce.relatedTarget=ut,le=Ce),ut=le,te&&xe)t:{for(Ce=YC,$=te,G=xe,Y=0,le=$;le;le=Ce(le))Y++;le=0;for(var ke=G;ke;ke=Ce(ke))le++;for(;0<Y-le;)$=Ce($),Y--;for(;0<le-Y;)G=Ce(G),le--;for(;Y--;){if($===G||G!==null&&$===G.alternate){Ce=$;break t}$=Ce($),G=Ce(G)}Ce=null}else Ce=null;te!==null&&z_(oe,K,te,Ce,!1),xe!==null&&ut!==null&&z_(oe,ut,xe,Ce,!0)}}e:{if(K=W?Gn(W):window,te=K.nodeName&&K.nodeName.toLowerCase(),te==="select"||te==="input"&&K.type==="file")var We=Wy;else if(Qy(K))if(Xy)We=sC;else{We=rC;var we=nC}else te=K.nodeName,!te||te.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&_l(W.elementType)&&(We=Wy):We=iC;if(We&&(We=We(i,W))){Yy(oe,We,o,ie);break e}we&&we(i,K,W),i==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&tc(K,"number",K.value)}switch(we=W?Gn(W):window,i){case"focusin":(Qy(we)||we.contentEditable==="true")&&(Nl=we,Hm=W,fc=null);break;case"focusout":fc=Hm=Nl=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,iv(oe,o,ie);break;case"selectionchange":if(lC)break;case"keydown":case"keyup":iv(oe,o,ie)}var Pe;if(Je)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Cl?Ta(i,o)&&(He="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(He="onCompositionStart");He&&(li&&o.locale!=="ko"&&(Cl||He!=="onCompositionStart"?He==="onCompositionEnd"&&Cl&&(Pe=ac()):(ri=ie,sc="value"in ri?ri.value:ri.textContent,Cl=!0)),we=yh(W,He),0<we.length&&(He=new ai(He,i,null,o,ie),oe.push({event:He,listeners:we}),Pe?He.data=Pe:(Pe=Tl(o),Pe!==null&&(He.data=Pe)))),(Pe=dr?Z2(i,o):J2(i,o))&&(He=yh(W,"onBeforeInput"),0<He.length&&(we=new ai("onBeforeInput","beforeinput",null,o,ie),oe.push({event:we,listeners:He}),we.data=Pe)),qC(oe,i,W,o,ie)}R_(oe,s)})}function Pc(i,s,o){return{instance:i,listener:s,currentTarget:o}}function yh(i,s){for(var o=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Dr(i,o),p!=null&&d.unshift(Pc(i,p,y)),p=Dr(i,s),p!=null&&d.push(Pc(i,p,y))),i.tag===3)return d;i=i.return}return[]}function YC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function z_(i,s,o,d,p){for(var y=s._reactName,w=[];o!==null&&o!==d;){var T=o,B=T.alternate,W=T.stateNode;if(T=T.tag,B!==null&&B===d)break;T!==5&&T!==26&&T!==27||W===null||(B=W,p?(W=Dr(o,y),W!=null&&w.unshift(Pc(o,W,B))):p||(W=Dr(o,y),W!=null&&w.push(Pc(o,W,B)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var WC=/\r\n?/g,XC=/\u0000|\uFFFD/g;function j_(i){return(typeof i=="string"?i:""+i).replace(WC,`
`).replace(XC,"")}function M_(i,s){return s=j_(s),j_(i)===s}function ct(i,s,o,d,p,y){switch(o){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||jn(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&jn(i,""+d);break;case"className":$n(i,"class",d);break;case"tabIndex":$n(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(i,o,d);break;case"style":rc(i,d,y);break;case"data":if(s!=="object"){$n(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(o);break}d=wl(""+d),i.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&ct(i,s,"name",p.name,p,null),ct(i,s,"formEncType",p.formEncType,p,null),ct(i,s,"formMethod",p.formMethod,p,null),ct(i,s,"formTarget",p.formTarget,p,null)):(ct(i,s,"encType",p.encType,p,null),ct(i,s,"method",p.method,p,null),ct(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(o);break}d=wl(""+d),i.setAttribute(o,d);break;case"onClick":d!=null&&(i.onclick=Rr);break;case"onScroll":d!=null&&Ue("scroll",i);break;case"onScrollEnd":d!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}o=wl(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,""+d):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":d===!0?i.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,d):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(o,d):i.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(o):i.setAttribute(o,d);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),vl(i,"popover",d);break;case"xlinkActuate":Ft(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ft(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ft(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ft(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ft(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ft(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vl(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=yd.get(o)||o,vl(i,o,d))}}function mp(i,s,o,d,p,y){switch(o){case"style":rc(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof d=="string"?jn(i,d):(typeof d=="number"||typeof d=="bigint")&&jn(i,""+d);break;case"onScroll":d!=null&&Ue("scroll",i);break;case"onScrollEnd":d!=null&&Ue("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=i[en]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof d=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,d,p);break e}o in i?i[o]=d:d===!0?i.setAttribute(o,""):vl(i,o,d)}}}function fn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var d=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,y,w,o,null)}}p&&ct(i,s,"srcSet",o.srcSet,o,null),d&&ct(i,s,"src",o.src,o,null);return;case"input":Ue("invalid",i);var T=y=w=p=null,B=null,W=null;for(d in o)if(o.hasOwnProperty(d)){var ie=o[d];if(ie!=null)switch(d){case"name":p=ie;break;case"type":w=ie;break;case"checked":B=ie;break;case"defaultChecked":W=ie;break;case"value":y=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ct(i,s,d,ie,o,null)}}gd(i,y,T,B,W,w,p,!1);return;case"select":Ue("invalid",i),d=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(T=o[p],T!=null))switch(p){case"value":y=T;break;case"defaultValue":w=T;break;case"multiple":d=T;default:ct(i,s,p,T,o,null)}s=y,o=w,i.multiple=!!d,s!=null?os(i,!!d,s,!1):o!=null&&os(i,!!d,o,!0);return;case"textarea":Ue("invalid",i),y=p=d=null;for(w in o)if(o.hasOwnProperty(w)&&(T=o[w],T!=null))switch(w){case"value":d=T;break;case"defaultValue":p=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ct(i,s,w,T,o,null)}cs(i,d,p,y);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(d=o[B],d!=null))switch(B){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ct(i,s,B,d,o,null)}return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(d=0;d<Vc.length;d++)Ue(Vc[d],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(d=o[W],d!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,W,d,o,null)}return;default:if(_l(s)){for(ie in o)o.hasOwnProperty(ie)&&(d=o[ie],d!==void 0&&mp(i,s,ie,d,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(d=o[T],d!=null&&ct(i,s,T,d,o,null))}function KC(i,s,o,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,T=null,B=null,W=null,ie=null;for(te in o){var oe=o[te];if(o.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=oe;default:d.hasOwnProperty(te)||ct(i,s,te,null,d,oe)}}for(var K in d){var te=d[K];if(oe=o[K],d.hasOwnProperty(K)&&(te!=null||oe!=null))switch(K){case"type":y=te;break;case"name":p=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==oe&&ct(i,s,K,te,d,oe)}}xl(i,w,T,B,W,ie,y,p);return;case"select":te=w=T=K=null;for(y in o)if(B=o[y],o.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":te=B;default:d.hasOwnProperty(y)||ct(i,s,y,null,d,B)}for(p in d)if(y=d[p],B=o[p],d.hasOwnProperty(p)&&(y!=null||B!=null))switch(p){case"value":K=y;break;case"defaultValue":T=y;break;case"multiple":w=y;default:y!==B&&ct(i,s,p,y,d,B)}s=T,o=w,d=te,K!=null?os(i,!!o,K,!1):!!d!=!!o&&(s!=null?os(i,!!o,s,!0):os(i,!!o,o?[]:"",!1));return;case"textarea":te=K=null;for(T in o)if(p=o[T],o.hasOwnProperty(T)&&p!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ct(i,s,T,null,d,p)}for(w in d)if(p=d[w],y=o[w],d.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":K=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&ct(i,s,w,p,d,y)}pd(i,K,te);return;case"option":for(var xe in o)if(K=o[xe],o.hasOwnProperty(xe)&&K!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:ct(i,s,xe,null,d,K)}for(B in d)if(K=d[B],te=o[B],d.hasOwnProperty(B)&&K!==te&&(K!=null||te!=null))switch(B){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ct(i,s,B,K,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)K=o[Ce],o.hasOwnProperty(Ce)&&K!=null&&!d.hasOwnProperty(Ce)&&ct(i,s,Ce,null,d,K);for(W in d)if(K=d[W],te=o[W],d.hasOwnProperty(W)&&K!==te&&(K!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:ct(i,s,W,K,d,te)}return;default:if(_l(s)){for(var ut in o)K=o[ut],o.hasOwnProperty(ut)&&K!==void 0&&!d.hasOwnProperty(ut)&&mp(i,s,ut,void 0,d,K);for(ie in d)K=d[ie],te=o[ie],!d.hasOwnProperty(ie)||K===te||K===void 0&&te===void 0||mp(i,s,ie,K,d,te);return}}for(var $ in o)K=o[$],o.hasOwnProperty($)&&K!=null&&!d.hasOwnProperty($)&&ct(i,s,$,null,d,K);for(oe in d)K=d[oe],te=o[oe],!d.hasOwnProperty(oe)||K===te||K==null&&te==null||ct(i,s,oe,K,d,te)}function I_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var p=o[d],y=p.transferSize,w=p.initiatorType,T=p.duration;if(y&&T&&I_(w)){for(w=0,T=p.responseEnd,d+=1;d<o.length;d++){var B=o[d],W=B.startTime;if(W>T)break;var ie=B.transferSize,oe=B.initiatorType;ie&&I_(oe)&&(B=B.responseEnd,w+=ie*(B<T?1:(T-W)/(B-W)))}if(--d,s+=8*(y+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var gp=null,pp=null;function vh(i){return i.nodeType===9?i:i.ownerDocument}function O_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function bp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yp=null;function JC(){var i=window.event;return i&&i.type==="popstate"?i===yp?!1:(yp=i,!0):(yp=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,eN=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,tN=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(i){return L_.resolve(null).then(i).catch(nN)}:P_;function nN(i){setTimeout(function(){throw i})}function zs(i){return i==="head"}function U_(i,s){var o=s,d=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(d===0){i.removeChild(p),no(s);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Lc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Lc(o);for(var y=o.firstChild;y;){var w=y.nextSibling,T=y.nodeName;y[Xr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&Lc(i.ownerDocument.body);o=p}while(o);no(s)}function B_(i,s){var o=i;i=0;do{var d=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=d}while(o)}function vp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vp(o),yl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function rN(i,s,o,d){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Xr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=yr(i.nextSibling),i===null)break}return null}function iN(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yr(i.nextSibling),i===null))return null;return i}function H_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=yr(i.nextSibling),i===null))return null;return i}function xp(i){return i.data==="$?"||i.data==="$~"}function _p(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function sN(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var d=function(){s(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function yr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var wp=null;function F_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return yr(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function q_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function G_(i,s,o){switch(s=vh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Lc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);yl(i)}var vr=new Map,$_=new Set;function xh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var $i=ae.d;ae.d={f:aN,r:lN,D:oN,C:cN,L:uN,m:dN,X:fN,S:hN,M:mN};function aN(){var i=$i.f(),s=dh();return i||s}function lN(i){var s=or(i);s!==null&&s.tag===5&&s.type==="form"?cx(s):$i.r(i)}var Jl=typeof document>"u"?null:document;function Q_(i,s,o){var d=Jl;if(d&&typeof s=="string"&&s){var p=zn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),$_.has(p)||($_.add(p),i={rel:i,crossOrigin:o,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),fn(s,"link",i),Ht(s),d.head.appendChild(s)))}}function oN(i){$i.D(i),Q_("dns-prefetch",i,null)}function cN(i,s){$i.C(i,s),Q_("preconnect",i,s)}function uN(i,s,o){$i.L(i,s,o);var d=Jl;if(d&&i&&s){var p='link[rel="preload"][as="'+zn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+zn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+zn(o.imageSizes)+'"]')):p+='[href="'+zn(i)+'"]';var y=p;switch(s){case"style":y=eo(i);break;case"script":y=to(i)}vr.has(y)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),vr.set(y,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Uc(y))||s==="script"&&d.querySelector(Bc(y))||(s=d.createElement("link"),fn(s,"link",i),Ht(s),d.head.appendChild(s)))}}function dN(i,s){$i.m(i,s);var o=Jl;if(o&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+zn(d)+'"][href="'+zn(i)+'"]',y=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=to(i)}if(!vr.has(y)&&(i=v({rel:"modulepreload",href:i},s),vr.set(y,i),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bc(y)))return}d=o.createElement("link"),fn(d,"link",i),Ht(d),o.head.appendChild(d)}}}function hN(i,s,o){$i.S(i,s,o);var d=Jl;if(d&&i){var p=Zr(d).hoistableStyles,y=eo(i);s=s||"default";var w=p.get(y);if(!w){var T={loading:0,preload:null};if(w=d.querySelector(Uc(y)))T.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=vr.get(y))&&Ep(i,o);var B=w=d.createElement("link");Ht(B),fn(B,"link",i),B._p=new Promise(function(W,ie){B.onload=W,B.onerror=ie}),B.addEventListener("load",function(){T.loading|=1}),B.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_h(w,s,d)}w={type:"stylesheet",instance:w,count:1,state:T},p.set(y,w)}}}function fN(i,s){$i.X(i,s);var o=Jl;if(o&&i){var d=Zr(o).hoistableScripts,p=to(i),y=d.get(p);y||(y=o.querySelector(Bc(p)),y||(i=v({src:i,async:!0},s),(s=vr.get(p))&&Sp(i,s),y=o.createElement("script"),Ht(y),fn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function mN(i,s){$i.M(i,s);var o=Jl;if(o&&i){var d=Zr(o).hoistableScripts,p=to(i),y=d.get(p);y||(y=o.querySelector(Bc(p)),y||(i=v({src:i,async:!0,type:"module"},s),(s=vr.get(p))&&Sp(i,s),y=o.createElement("script"),Ht(y),fn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function Y_(i,s,o,d){var p=(p=ve.current)?xh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=eo(o.href),o=Zr(p).hoistableStyles,d=o.get(s),d||(d={type:"style",instance:null,count:0,state:null},o.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=eo(o.href);var y=Zr(p).hoistableStyles,w=y.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=p.querySelector(Uc(i)))&&!y._p&&(w.instance=y,w.state.loading=5),vr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},vr.set(i,o),y||gN(p,i,o,w.state))),s&&d===null)throw Error(r(528,""));return w}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=to(o),o=Zr(p).hoistableScripts,d=o.get(s),d||(d={type:"script",instance:null,count:0,state:null},o.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function eo(i){return'href="'+zn(i)+'"'}function Uc(i){return'link[rel="stylesheet"]['+i+"]"}function W_(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function gN(i,s,o,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),fn(s,"link",o),Ht(s),i.head.appendChild(s))}function to(i){return'[src="'+zn(i)+'"]'}function Bc(i){return"script[async]"+i}function X_(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+zn(o.href)+'"]');if(d)return s.instance=d,Ht(d),d;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ht(d),fn(d,"style",p),_h(d,o.precedence,i),s.instance=d;case"stylesheet":p=eo(o.href);var y=i.querySelector(Uc(p));if(y)return s.state.loading|=4,s.instance=y,Ht(y),y;d=W_(o),(p=vr.get(p))&&Ep(d,p),y=(i.ownerDocument||i).createElement("link"),Ht(y);var w=y;return w._p=new Promise(function(T,B){w.onload=T,w.onerror=B}),fn(y,"link",d),s.state.loading|=4,_h(y,o.precedence,i),s.instance=y;case"script":return y=to(o.src),(p=i.querySelector(Bc(y)))?(s.instance=p,Ht(p),p):(d=o,(p=vr.get(y))&&(d=v({},o),Sp(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ht(p),fn(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,_h(d,o.precedence,i));return s.instance}function _h(i,s,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,y=p,w=0;w<d.length;w++){var T=d[w];if(T.dataset.precedence===s)y=T;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Ep(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Sp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var wh=null;function K_(i,s,o){if(wh===null){var d=new Map,p=wh=new Map;p.set(o,d)}else p=wh,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(i))return d;for(d.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[Xr]||y[Bt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=i+w;var T=d.get(w);T?T.push(y):d.set(w,[y])}}return d}function Z_(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function pN(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function J_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function bN(i,s,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=eo(d.href),y=s.querySelector(Uc(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Eh.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=y,Ht(y);return}y=s.ownerDocument||s,d=W_(d),(p=vr.get(p))&&Ep(d,p),y=y.createElement("link"),Ht(y);var w=y;w._p=new Promise(function(T,B){w.onload=T,w.onerror=B}),fn(y,"link",d),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Eh.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var kp=0;function yN(i,s){return i.stylesheets&&i.count===0&&kh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var d=setTimeout(function(){if(i.stylesheets&&kh(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&kp===0&&(kp=62500*ZC());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&kh(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>kp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function Eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sh=null;function kh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sh=new Map,s.forEach(vN,i),Sh=null,Eh.call(i))}function vN(i,s){if(!(s.state.loading&4)){var o=Sh.get(i);if(o)var d=o.get(null);else{o=new Map,Sh.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),d=w)}d&&o.set(null,d)}p=s.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||d,y===d&&o.set(null,p),o.set(w,p),this.count++,d=Eh.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Hc={$$typeof:q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function xN(i,s,o,d,p,y,w,T,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function e1(i,s,o,d,p,y,w,T,B,W,ie,oe){return i=new xN(i,s,o,w,B,W,ie,oe,T),s=1,y===!0&&(s|=24),y=Yn(3,null,null,s),i.current=y,y.stateNode=i,s=ig(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:s},og(y),i}function t1(i){return i?(i=zl,i):zl}function n1(i,s,o,d,p,y){p=t1(p),d.context===null?d.context=p:d.pendingContext=p,d=_s(s),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=ws(i,d,s),o!==null&&(Pn(o,i,s),xc(o,i,s))}function r1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Ap(i,s){r1(i,s),(i=i.alternate)&&r1(i,s)}function i1(i){if(i.tag===13||i.tag===31){var s=Ra(i,67108864);s!==null&&Pn(s,i,67108864),Ap(i,67108864)}}function s1(i){if(i.tag===13||i.tag===31){var s=Jn();s=ya(s);var o=Ra(i,s);o!==null&&Pn(o,i,s),Ap(i,s)}}var Ah=!0;function _N(i,s,o,d){var p=re.T;re.T=null;var y=ae.p;try{ae.p=2,Tp(i,s,o,d)}finally{ae.p=y,re.T=p}}function wN(i,s,o,d){var p=re.T;re.T=null;var y=ae.p;try{ae.p=8,Tp(i,s,o,d)}finally{ae.p=y,re.T=p}}function Tp(i,s,o,d){if(Ah){var p=Cp(d);if(p===null)fp(i,s,d,Th,o),l1(i,d);else if(SN(p,i,s,o,d))d.stopPropagation();else if(l1(i,d),s&4&&-1<EN.indexOf(i)){for(;p!==null;){var y=or(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=$r(y.pendingLanes);if(w!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var B=1<<31-Mt(w);T.entanglements[1]|=B,w&=~B}di(y),(et&6)===0&&(ch=An()+500,Oc(0))}}break;case 31:case 13:T=Ra(y,2),T!==null&&Pn(T,y,2),dh(),Ap(y,2)}if(y=Cp(d),y===null&&fp(i,s,d,Th,o),y===p)break;p=y}p!==null&&d.stopPropagation()}else fp(i,s,d,null,o)}}function Cp(i){return i=cr(i),Np(i)}var Th=null;function Np(i){if(Th=null,i=Kr(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Th=i,null}function a1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case Go:return 2;case $o:return 8;case as:case Im:return 32;case sd:return 268435456;default:return 32}default:return 32}}var Rp=!1,js=null,Ms=null,Is=null,Fc=new Map,qc=new Map,Os=[],EN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l1(i,s){switch(i){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Fc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(s.pointerId)}}function Gc(i,s,o,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=or(s),s!==null&&i1(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function SN(i,s,o,d,p){switch(s){case"focusin":return js=Gc(js,i,s,o,d,p),!0;case"dragenter":return Ms=Gc(Ms,i,s,o,d,p),!0;case"mouseover":return Is=Gc(Is,i,s,o,d,p),!0;case"pointerover":var y=p.pointerId;return Fc.set(y,Gc(Fc.get(y)||null,i,s,o,d,p)),!0;case"gotpointercapture":return y=p.pointerId,qc.set(y,Gc(qc.get(y)||null,i,s,o,d,p)),!0}return!1}function o1(i){var s=Kr(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Cr(i.priority,function(){s1(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,Cr(i.priority,function(){s1(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ch(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Cp(i.nativeEvent);if(o===null){o=i.nativeEvent;var d=new o.constructor(o.type,o);ic=d,o.target.dispatchEvent(d),ic=null}else return s=or(o),s!==null&&i1(s),i.blockedOn=o,!1;s.shift()}return!0}function c1(i,s,o){Ch(i)&&o.delete(s)}function kN(){Rp=!1,js!==null&&Ch(js)&&(js=null),Ms!==null&&Ch(Ms)&&(Ms=null),Is!==null&&Ch(Is)&&(Is=null),Fc.forEach(c1),qc.forEach(c1)}function Nh(i,s){i.blockedOn===s&&(i.blockedOn=null,Rp||(Rp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kN)))}var Rh=null;function u1(i){Rh!==i&&(Rh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rh===i&&(Rh=null);for(var s=0;s<i.length;s+=3){var o=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(Np(d||o)===null)continue;break}var y=or(o);y!==null&&(i.splice(s,3),s-=3,Cg(y,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function no(i){function s(B){return Nh(B,i)}js!==null&&Nh(js,i),Ms!==null&&Nh(Ms,i),Is!==null&&Nh(Is,i),Fc.forEach(s),qc.forEach(s);for(var o=0;o<Os.length;o++){var d=Os[o];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Os.length&&(o=Os[0],o.blockedOn===null);)o1(o),o.blockedOn===null&&Os.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],y=o[d+1],w=p[en]||null;if(typeof y=="function")w||u1(o);else if(w){var T=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[en]||null)T=w.formAction;else if(Np(p)!==null)continue}else T=w.action;typeof T=="function"?o[d+1]=T:(o.splice(d,3),d-=3),u1(o)}}}function d1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Dp(i){this._internalRoot=i}Dh.prototype.render=Dp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,d=Jn();n1(o,d,i,s,null,null)},Dh.prototype.unmount=Dp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;n1(i.current,2,null,i,null,null),dh(),s[Wr]=null}};function Dh(i){this._internalRoot=i}Dh.prototype.unstable_scheduleHydration=function(i){if(i){var s=dd();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Os.length&&s!==0&&s<Os[o].priority;o++);Os.splice(o,0,i),o===0&&o1(i)}};var h1=e.version;if(h1!=="19.2.3")throw Error(r(527,h1,"19.2.3"));ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var AN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Ar=zh.inject(AN),on=zh}catch{}}return Qc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,d="",p=vx,y=xx,w=_x;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=e1(i,1,!1,null,null,o,d,null,p,y,w,d1),i[Wr]=s.current,hp(i),new Dp(s)},Qc.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var d=!1,p="",y=vx,w=xx,T=_x,B=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),s=e1(i,1,!0,s,o??null,d,p,B,y,w,T,d1),s.context=t1(null),o=s.current,d=Jn(),d=ya(d),p=_s(d),p.callback=null,ws(o,p,d),o=d,s.current.lanes=o,pa(s,o),di(s),i[Wr]=s.current,hp(i),new Dh(s)},Qc.version="19.2.3",Qc}var w1;function IN(){if(w1)return Mp.exports;w1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mp.exports=MN(),Mp.exports}var ON=IN();const VN=oS(ON);function zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Br(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _0({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function uS(n,e,t="/"){return PN(n,e,t,!1)}function PN(n,e,t,r){let a=typeof e=="string"?Wf(e):e,l=Ks(a.pathname||"/",t);if(l==null)return null;let c=dS(n);LN(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=XN(l);h=YN(c[f],g,r)}return h}function dS(n,e=[],t=[],r="",a=!1){let l=(c,h,f=a,g)=>{let b={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&f)return;zt(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let v=Yi([r,b.relativePath]),x=t.concat(b);c.children&&c.children.length>0&&(zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),dS(c.children,e,x,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:$N(v,c.index),routesMeta:x})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let f of hS(c.path))l(c,h,!0,f)}),e}function hS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=hS(r.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function LN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:QN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var UN=/^:[\w-]+$/,BN=3,HN=2,FN=1,qN=10,GN=-2,E1=n=>n==="*";function $N(n,e){let t=n.split("/"),r=t.length;return t.some(E1)&&(r+=GN),e&&(r+=HN),t.filter(a=>!E1(a)).reduce((a,l)=>a+(UN.test(l)?BN:l===""?FN:qN),r)}function QN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function YN(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],g=h===r.length-1,b=l==="/"?e:e.slice(l.length)||"/",v=uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},b),x=f.route;if(!v&&g&&t&&!r[r.length-1].route.index&&(v=uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Yi([l,v.pathname]),pathnameBase:eR(Yi([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Yi([l,v.pathnameBase]))}return c}function uf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=WN(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((g,{paramName:b,isOptional:v},x)=>{if(b==="*"){let A=h[x]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const E=h[x];return v&&!E?g[b]=void 0:g[b]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function WN(n,e=!1,t=!0){Br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function XN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ks(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KN=n=>fS.test(n);function ZN(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Wf(n):n,l;if(t)if(KN(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=S1(t.substring(1),"/"):l=S1(t,e)}else l=e;return{pathname:l,search:tR(r),hash:nR(a)}}function S1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Pp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ub(n){let e=JN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function db(n,e,t,r=!1){let a;typeof n=="string"?a=Wf(n):(a={...n},zt(!a.pathname||!a.pathname.includes("?"),Pp("?","pathname","search",a)),zt(!a.pathname||!a.pathname.includes("#"),Pp("#","pathname","hash",a)),zt(!a.search||!a.search.includes("#"),Pp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=t;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}h=v>=0?e[v]:"/"}let f=ZN(a,h),g=c&&c!=="/"&&c.endsWith("/"),b=(l||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||b)&&(f.pathname+="/"),f}var Yi=n=>n.join("/").replace(/\/\/+/g,"/"),eR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,rR=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function iR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function sR(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gS(n,e){let t=n;if(typeof t!="string"||!fS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(mS)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),h=Ks(c.pathname,e);c.origin===l.origin&&h!=null?t=h+c.search+c.hash:a=!0}catch{Br(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pS=["POST","PUT","PATCH","DELETE"];new Set(pS);var aR=["GET",...pS];new Set(aR);var jo=I.createContext(null);jo.displayName="DataRouter";var Xf=I.createContext(null);Xf.displayName="DataRouterState";var lR=I.createContext(!1),bS=I.createContext({isTransitioning:!1});bS.displayName="ViewTransition";var oR=I.createContext(new Map);oR.displayName="Fetchers";var cR=I.createContext(null);cR.displayName="Await";var Er=I.createContext(null);Er.displayName="Navigation";var Kf=I.createContext(null);Kf.displayName="Location";var Ai=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var hb=I.createContext(null);hb.displayName="RouteError";var yS="REACT_ROUTER_ERROR",uR="REDIRECT",dR="ROUTE_ERROR_RESPONSE";function hR(n){if(n.startsWith(`${yS}:${uR}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fR(n){if(n.startsWith(`${yS}:${dR}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rR(e.status,e.statusText,e.data)}catch{}}function mR(n,{relative:e}={}){zt(Lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=I.useContext(Er),{hash:a,pathname:l,search:c}=Uu(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Yi([t,l])),r.createHref({pathname:h,search:c,hash:a})}function Lu(){return I.useContext(Kf)!=null}function la(){return zt(Lu(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Kf).location}var vS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xS(n){I.useContext(Er).static||I.useLayoutEffect(n)}function Mo(){let{isDataRoute:n}=I.useContext(Ai);return n?TR():gR()}function gR(){zt(Lu(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(jo),{basename:e,navigator:t}=I.useContext(Er),{matches:r}=I.useContext(Ai),{pathname:a}=la(),l=JSON.stringify(ub(r)),c=I.useRef(!1);return xS(()=>{c.current=!0}),I.useCallback((f,g={})=>{if(Br(c.current,vS),!c.current)return;if(typeof f=="number"){t.go(f);return}let b=db(f,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Yi([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,l,a,n])}I.createContext(null);function Uu(n,{relative:e}={}){let{matches:t}=I.useContext(Ai),{pathname:r}=la(),a=JSON.stringify(ub(t));return I.useMemo(()=>db(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function pR(n,e){return _S(n,e)}function _S(n,e,t,r,a){zt(Lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Er),{matches:c}=I.useContext(Ai),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",b=h?h.pathnameBase:"/",v=h&&h.route;{let P=v&&v.path||"";ES(g,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let x=la(),E;if(e){let P=typeof e=="string"?Wf(e):e;zt(b==="/"||P.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${P.pathname}" was given in the \`location\` prop.`),E=P}else E=x;let A=E.pathname||"/",R=A;if(b!=="/"){let P=b.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(P.length).join("/")}let N=uS(n,{pathname:R});Br(v||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Br(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=_R(N&&N.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Yi([b,l.encodeLocation?l.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?b:Yi([b,l.encodeLocation?l.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),c,t,r,a);return e&&z?I.createElement(Kf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},z):z}function bR(){let n=AR(),e=iR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:a},t):null,c)}var yR=I.createElement(bR,null),wS=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=fR(n.digest);t&&(n=t)}let e=n!==void 0?I.createElement(Ai.Provider,{value:this.props.routeContext},I.createElement(hb.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?I.createElement(vR,{error:n},e):e}};wS.contextType=lR;var Lp=new WeakMap;function vR({children:n,error:e}){let{basename:t}=I.useContext(Er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=hR(e.digest);if(r){let a=Lp.get(e);if(a)throw a;let l=gS(r.location,t);if(mS&&!Lp.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Lp.set(e,c),c}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function xR({routeContext:n,match:e,children:t}){let r=I.useContext(jo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ai.Provider,{value:n},t)}function _R(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let b=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);zt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let h=!1,f=-1;if(t)for(let b=0;b<l.length;b++){let v=l[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=b),v.route.id){let{loaderData:x,errors:E}=t,A=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let g=t&&r?(b,v)=>{r(b,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:sR(t.matches),errorInfo:v})}:void 0;return l.reduceRight((b,v,x)=>{let E,A=!1,R=null,N=null;t&&(E=c&&v.route.id?c[v.route.id]:void 0,R=v.route.errorElement||yR,h&&(f<0&&x===0?(ES("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):f===x&&(A=!0,N=v.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,x+1)),P=()=>{let q;return E?q=R:A?q=N:v.route.Component?q=I.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=b,I.createElement(xR,{match:v,routeContext:{outlet:b,matches:z,isDataRoute:t!=null},children:q})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?I.createElement(wS,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:P(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):P()},null)}function fb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wR(n){let e=I.useContext(jo);return zt(e,fb(n)),e}function ER(n){let e=I.useContext(Xf);return zt(e,fb(n)),e}function SR(n){let e=I.useContext(Ai);return zt(e,fb(n)),e}function mb(n){let e=SR(n),t=e.matches[e.matches.length-1];return zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function kR(){return mb("useRouteId")}function AR(){let n=I.useContext(hb),e=ER("useRouteError"),t=mb("useRouteError");return n!==void 0?n:e.errors?.[t]}function TR(){let{router:n}=wR("useNavigate"),e=mb("useNavigate"),t=I.useRef(!1);return xS(()=>{t.current=!0}),I.useCallback(async(a,l={})=>{Br(t.current,vS),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var k1={};function ES(n,e,t){!e&&!k1[n]&&(k1[n]=!0,Br(!1,t))}I.memo(CR);function CR({routes:n,future:e,state:t,onError:r}){return _S(n,void 0,t,r,e)}function SS({to:n,replace:e,state:t,relative:r}){zt(Lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Er);Br(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Ai),{pathname:c}=la(),h=Mo(),f=db(n,ub(l),c,r==="path"),g=JSON.stringify(f);return I.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:r})},[h,g,r,e,t]),null}function hi(n){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NR({children:n,location:e}){return pR(w0(n),e)}function w0(n,e=[]){let t=[];return I.Children.forEach(n,(r,a)=>{if(!I.isValidElement(r))return;let l=[...e,a];if(r.type===I.Fragment){t.push.apply(t,w0(r.props.children,l));return}zt(r.type===hi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=w0(r.props.children,l)),t.push(c)}),t}var Xh="get",Kh="application/x-www-form-urlencoded";function Zf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function RR(n){return Zf(n)&&n.tagName.toLowerCase()==="button"}function DR(n){return Zf(n)&&n.tagName.toLowerCase()==="form"}function zR(n){return Zf(n)&&n.tagName.toLowerCase()==="input"}function jR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MR(n,e){return n.button===0&&(!e||e==="_self")&&!jR(n)}var jh=null;function IR(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var OR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Up(n){return n!=null&&!OR.has(n)?(Br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kh}"`),null):n}function VR(n,e){let t,r,a,l,c;if(DR(n)){let h=n.getAttribute("action");r=h?Ks(h,e):null,t=n.getAttribute("method")||Xh,a=Up(n.getAttribute("enctype"))||Kh,l=new FormData(n)}else if(RR(n)||zR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ks(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Xh,a=Up(n.getAttribute("formenctype"))||Up(h.getAttribute("enctype"))||Kh,l=new FormData(h,n),!IR()){let{name:g,type:b,value:v}=n;if(b==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,v)}}else{if(Zf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xh,r=null,a=Kh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function PR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ks(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function LR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await LR(l,t);return c.links?c.links():[]}return[]}));return GR(r.flat(1).filter(UR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function A1(n,e,t,r,a,l){let c=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>t[g].pathname!==f.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):l==="data"?e.filter((f,g)=>{let b=r.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function HR(n,e,{includeHydrateFallback:t}={}){return FR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function FR(n){return[...new Set(n)]}function qR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function GR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(qR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function kS(){let n=I.useContext(jo);return gb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $R(){let n=I.useContext(Xf);return gb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pb=I.createContext(void 0);pb.displayName="FrameworkContext";function AS(){let n=I.useContext(pb);return gb(n,"You must render this element inside a <HydratedRouter> element"),n}function QR(n,e){let t=I.useContext(pb),[r,a]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:b,onTouchStart:v}=e,x=I.useRef(null);I.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let R=z=>{z.forEach(P=>{c(P.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[n]),I.useEffect(()=>{if(r){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[r]);let E=()=>{a(!0)},A=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:Yc(h,E),onBlur:Yc(f,A),onMouseEnter:Yc(g,E),onMouseLeave:Yc(b,A),onTouchStart:Yc(v,E)}]:[!1,x,{}]}function Yc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function YR({page:n,...e}){let{router:t}=kS(),r=I.useMemo(()=>uS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?I.createElement(XR,{page:n,matches:r,...e}):null}function WR(n){let{manifest:e,routeModules:t}=AS(),[r,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return BR(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function XR({page:n,matches:e,...t}){let r=la(),{manifest:a,routeModules:l}=AS(),{basename:c}=kS(),{loaderData:h,matches:f}=$R(),g=I.useMemo(()=>A1(n,e,f,a,r,"data"),[n,e,f,a,r]),b=I.useMemo(()=>A1(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,R=!1;if(e.forEach(z=>{let P=a.routes[z.route.id];!P||!P.hasLoader||(!g.some(q=>q.route.id===z.route.id)&&z.route.id in h&&l[z.route.id]?.shouldRevalidate||P.hasClientLoader?R=!0:A.add(z.route.id))}),A.size===0)return[];let N=PR(n,c,"data");return R&&A.size>0&&N.searchParams.set("_routes",e.filter(z=>A.has(z.route.id)).map(z=>z.route.id).join(",")),[N.pathname+N.search]},[c,h,r,a,g,e,n,l]),x=I.useMemo(()=>HR(b,a),[b,a]),E=WR(b);return I.createElement(I.Fragment,null,v.map(A=>I.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),x.map(A=>I.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),E.map(({key:A,link:R})=>I.createElement("link",{key:A,nonce:t.nonce,...R})))}function KR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZR&&(window.__reactRouterVersion="7.11.0")}catch{}var TS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bb=I.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x,...E},A){let{basename:R,unstable_useTransitions:N}=I.useContext(Er),z=typeof g=="string"&&TS.test(g),P=gS(g,R);g=P.to;let q=mR(g,{relative:a}),[L,X,F]=QR(r,E),C=tD(g,{replace:c,state:h,target:f,preventScrollReset:b,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function k(U){e&&e(U),U.defaultPrevented||C(U)}let j=I.createElement("a",{...E,...F,href:P.absoluteURL||q,onClick:P.isExternal||l?e:k,ref:KR(A,X),target:f,"data-discover":!z&&t==="render"?"true":void 0});return L&&!z?I.createElement(I.Fragment,null,j,I.createElement(YR,{page:q})):j});bb.displayName="Link";var CS=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...g},b){let v=Uu(c,{relative:g.relative}),x=la(),E=I.useContext(Xf),{navigator:A,basename:R}=I.useContext(Er),N=E!=null&&aD(v)&&h===!0,z=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,P=x.pathname,q=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(P=P.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&R&&(q=Ks(q,R)||q);const L=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let X=P===z||!a&&P.startsWith(z)&&P.charAt(L)==="/",F=q!=null&&(q===z||!a&&q.startsWith(z)&&q.charAt(z.length)==="/"),C={isActive:X,isPending:F,isTransitioning:N},k=X?e:void 0,j;typeof r=="function"?j=r(C):j=[r,X?"active":null,F?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(C):l;return I.createElement(bb,{...g,"aria-current":k,className:j,ref:b,style:U,to:c,viewTransition:h},typeof f=="function"?f(C):f)});CS.displayName="NavLink";var JR=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Xh,action:h,onSubmit:f,relative:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x,...E},A)=>{let{unstable_useTransitions:R}=I.useContext(Er),N=iD(),z=sD(h,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&TS.test(h),L=X=>{if(f&&f(X),X.defaultPrevented)return;X.preventDefault();let F=X.nativeEvent.submitter,C=F?.getAttribute("formmethod")||c,k=()=>N(F||X.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:a,state:l,relative:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x});R&&t!==!1?I.startTransition(()=>k()):k()};return I.createElement("form",{ref:A,method:P,action:z,onSubmit:r?f:L,...E,"data-discover":!q&&n==="render"?"true":void 0})});JR.displayName="Form";function eD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NS(n){let e=I.useContext(jo);return zt(e,eD(n)),e}function tD(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let g=Mo(),b=la(),v=Uu(n,{relative:l});return I.useCallback(x=>{if(MR(x,e)){x.preventDefault();let E=t!==void 0?t:_0(b)===_0(v),A=()=>g(n,{replace:E,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});f?I.startTransition(()=>A()):A()}},[b,g,v,t,r,e,n,a,l,c,h,f])}var nD=0,rD=()=>`__${String(++nD)}__`;function iD(){let{router:n}=NS("useSubmit"),{basename:e}=I.useContext(Er),t=kR(),r=n.fetch,a=n.navigate;return I.useCallback(async(l,c={})=>{let{action:h,method:f,encType:g,formData:b,body:v}=VR(l,e);if(c.navigate===!1){let x=c.fetcherKey||rD();await r(x,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||f,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||f,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,t])}function sD(n,{relative:e}={}){let{basename:t}=I.useContext(Er),r=I.useContext(Ai);zt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Uu(n||".",{relative:e})},c=la();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(b=>b==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let b=h.toString();l.search=b?`?${b}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Yi([t,l.pathname])),_0(l)}function aD(n,{relative:e}={}){let t=I.useContext(bS);zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NS("useViewTransitionState"),a=Uu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Ks(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Ks(t.nextLocation.pathname,r)||t.nextLocation.pathname;return uf(a.pathname,c)!=null||uf(a.pathname,l)!=null}var E0=cS();const T1=n=>{let e;const t=new Set,r=(g,b)=>{const v=typeof g=="function"?g(e):g;if(!Object.is(v,e)){const x=e;e=b??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(E=>E(e,x))}},a=()=>e,h={setState:r,getState:a,getInitialState:()=>f,subscribe:g=>(t.add(g),()=>t.delete(g))},f=e=n(r,a,h);return h},lD=(n=>n?T1(n):T1),oD=n=>n;function cD(n,e=oD){const t=Lr.useSyncExternalStore(n.subscribe,Lr.useCallback(()=>e(n.getState()),[n,e]),Lr.useCallback(()=>e(n.getInitialState()),[n,e]));return Lr.useDebugValue(t),t}const C1=n=>{const e=lD(n),t=r=>cD(e,r);return Object.assign(t,e),t},uD=(n=>n?C1(n):C1);function dD(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var l;const c=f=>f===null?null:JSON.parse(f,void 0),h=(l=t.getItem(a))!=null?l:null;return h instanceof Promise?h.then(c):c(h)},setItem:(a,l)=>t.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>t.removeItem(a)}}const S0=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return S0(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return S0(r)(t)}}}},hD=(n,e)=>(t,r,a)=>{let l={storage:dD(()=>localStorage),partialize:R=>R,version:0,merge:(R,N)=>({...N,...R}),...e},c=!1;const h=new Set,f=new Set;let g=l.storage;if(!g)return n((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...R)},r,a);const b=()=>{const R=l.partialize({...r()});return g.setItem(l.name,{state:R,version:l.version})},v=a.setState;a.setState=(R,N)=>(v(R,N),b());const x=n((...R)=>(t(...R),b()),r,a);a.getInitialState=()=>x;let E;const A=()=>{var R,N;if(!g)return;c=!1,h.forEach(P=>{var q;return P((q=r())!=null?q:x)});const z=((N=l.onRehydrateStorage)==null?void 0:N.call(l,(R=r())!=null?R:x))||void 0;return S0(g.getItem.bind(g))(l.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==l.version){if(l.migrate){const q=l.migrate(P.state,P.version);return q instanceof Promise?q.then(L=>[!0,L]):[!0,q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var q;const[L,X]=P;if(E=l.merge(X,(q=r())!=null?q:x),t(E,!0),L)return b()}).then(()=>{z?.(E,void 0),E=r(),c=!0,f.forEach(P=>P(E))}).catch(P=>{z?.(void 0,P)})};return a.persist={setOptions:R=>{l={...l,...R},R.storage&&(g=R.storage)},clearStorage:()=>{g?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>A(),hasHydrated:()=>c,onHydrate:R=>(h.add(R),()=>{h.delete(R)}),onFinishHydration:R=>(f.add(R),()=>{f.delete(R)})},l.skipHydration||A(),E||x},fD=hD,qn=uD(fD(n=>({nocMembers:[{id:"NOC-1",name:"Mekin S.",role:"NOC Lead"},{id:"NOC-2",name:"Akkapol P.",role:"NOC Engineer"},{id:"NOC-3",name:"Nawapat R.",role:"NOC Engineer"},{id:"NOC-4",name:"Watcharapol P.",role:"NOC Engineer"},{id:"NOC-5",name:"Supporter",role:"Support"}],currentUser:"Mekin S.",setCurrentUser:e=>n({currentUser:e}),logout:()=>n({currentUser:null}),darkMode:!1,toggleDarkMode:()=>n(e=>{const t=!e.darkMode;return t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{darkMode:t}})}),{name:"noc-storage"}));const mD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),N1=n=>{const e=gD(n);return e.charAt(0).toUpperCase()+e.slice(1)},RS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),pD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var bD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yD=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},f)=>I.createElement("svg",{ref:f,...bD,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:RS("lucide",a),...!l&&!pD(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,b])=>I.createElement(g,b)),...Array.isArray(l)?l:[l]]));const me=(n,e)=>{const t=I.forwardRef(({className:r,...a},l)=>I.createElement(yD,{ref:l,iconNode:e,className:RS(`lucide-${mD(N1(n))}`,`lucide-${n}`,r),...a}));return t.displayName=N1(n),t};const vD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tr=me("activity",vD);const xD=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],_D=me("archive",xD);const wD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ED=me("arrow-left",wD);const SD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vu=me("arrow-right",SD);const kD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],AD=me("bell-off",kD);const TD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],CD=me("bell",TD);const ND=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],RD=me("calendar-range",ND);const DD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sr=me("calendar",DD);const zD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DS=me("chart-column",zD);const jD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bu=me("check",jD);const MD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xu=me("chevron-down",MD);const ID=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],R1=me("chevron-left",ID);const OD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k0=me("chevron-right",OD);const VD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zS=me("chevron-up",VD);const PD=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],LD=me("chevrons-up-down",PD);const UD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wr=me("circle-alert",UD);const BD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yb=me("circle-check-big",BD);const HD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ar=me("circle-check",HD);const FD=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vb=me("circle-play",FD);const qD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jS=me("circle-question-mark",qD);const GD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xb=me("circle-x",GD);const $D=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pn=me("clock",$D);const QD=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],A0=me("cloud-download",QD);const YD=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],WD=me("cloud-upload",YD);const XD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_u=me("copy",XD);const KD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_b=me("download",KD);const ZD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],JD=me("ellipsis-vertical",ZD);const ez=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tz=me("external-link",ez);const nz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rz=me("eye-off",nz);const iz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],df=me("eye",iz);const sz=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],az=me("file-plus-corner",sz);const lz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],MS=me("file-spreadsheet",lz);const oz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_i=me("file-text",oz);const cz=[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]],uz=me("folder-archive",cz);const dz=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],hz=me("folder-kanban",dz);const fz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wu=me("funnel",fz);const mz=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],hf=me("gauge",mz);const gz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Eu=me("globe",gz);const pz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],wb=me("hash",pz);const bz=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],IS=me("image-plus",bz);const yz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vz=me("image",yz);const xz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],OS=me("info",xz);const _z=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],VS=me("layers",_z);const wz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ez=me("layout-dashboard",wz);const Sz=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],PS=me("layout-grid",Sz);const kz=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],D1=me("layout-list",kz);const Az=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],z1=me("link",Az);const Tz=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Cz=me("list",Tz);const Nz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zs=me("loader-circle",Nz);const Rz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dz=me("log-out",Rz);const zz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jz=me("menu",zz);const Mz=[["path",{d:"M5 12h14",key:"1ays0h"}]],Bp=me("minus",Mz);const Iz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Jf=me("moon",Iz);const Oz=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],Vz=me("mouse-pointer-2",Oz);const Pz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],Lz=me("panel-left-close",Pz);const Uz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],Bz=me("panel-left-open",Uz);const Hz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Eb=me("pencil",Hz);const Fz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vo=me("plus",Fz);const qz=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Sb=me("radio",qz);const Gz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],LS=me("refresh-cw",Gz);const $z=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],em=me("save",$z);const Qz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Su=me("search",Qz);const Yz=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],tm=me("server",Yz);const Wz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j1=me("settings",Wz);const Xz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kz=me("shield-check",Xz);const Zz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Jz=me("shield",Zz);const ej=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tj=me("sparkles",ej);const nj=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mh=me("square-check-big",nj);const rj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ih=me("square",rj);const ij=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nm=me("sun",ij);const sj=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],aj=me("swords",sj);const lj=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],oj=me("table-2",lj);const cj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],US=me("tag",cj);const uj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oa=me("trash-2",uj);const dj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],T0=me("trending-up",dj);const hj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ki=me("triangle-alert",hj);const fj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ff=me("trophy",fj);const mj=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],mf=me("tv",mj);const gj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pj=me("upload",gj);const bj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BS=me("user",bj);const yj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],au=me("users",yj);const vj=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],xj=me("wand-sparkles",vj);const _j=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],HS=me("wifi",_j);const wj=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Ej=me("workflow",wj);const Sj=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],kj=me("wrench",Sj);const Aj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kn=me("x",Aj),Wc=({to:n,icon:e,label:t,isCollapsed:r,handleLinkClick:a})=>u.jsxs(CS,{to:n,onClick:a,title:r?t:"",className:({isActive:l})=>`
      flex items-center rounded-xl transition-all duration-200 group relative
      ${r?"justify-center w-10 h-10 mx-auto px-0":"gap-3 px-3 py-2.5"}
      ${l?"bg-zinc-900 text-white shadow-md dark:bg-white dark:text-black":"text-zinc-500 hover:text-black hover:bg-zinc-100 dark:text-zinc-400 dark:hover:text-white dark:hover:bg-zinc-900"}
    `,children:[u.jsx(e,{size:20,strokeWidth:2.5,className:`${r?"":"group-hover:scale-105"} transition-transform shrink-0`}),u.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest whitespace-nowrap overflow-hidden transition-all duration-300 ${r?"w-0 opacity-0 hidden":"w-auto opacity-100 block"}`,children:t})]});function Tj({onCloseMobile:n,isCollapsed:e=!1,toggleCollapse:t,onLogoutClick:r}){const{currentUser:a,darkMode:l,toggleDarkMode:c}=qn(),h=()=>{n&&n()},f=!e;return u.jsxs("aside",{className:"w-full h-full flex flex-col py-4 overflow-hidden relative",children:[u.jsxs("div",{className:`flex items-center mb-6 px-4 transition-all ${e?"justify-center flex-col gap-4 px-0":"justify-between"}`,children:[u.jsx(bb,{to:"/",onClick:h,className:"group block text-center",children:e?u.jsx("div",{className:"w-10 h-10 bg-black dark:bg-white text-white dark:text-black rounded-xl flex items-center justify-center font-black italic text-sm shadow-md mx-auto",children:"N"}):u.jsxs("div",{className:"text-left",children:[u.jsxs("h1",{className:"text-xl font-black italic tracking-tighter uppercase dark:text-white transition-opacity group-hover:opacity-80 whitespace-nowrap leading-none",children:["NOC ",u.jsx("span",{className:"text-zinc-300 dark:text-zinc-600",children:"NTT"})]}),u.jsx("p",{className:"text-[8px] font-bold text-zinc-400 uppercase tracking-[0.2em] mt-1 whitespace-nowrap",children:"System Management"})]})}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:t,className:"hidden md:flex p-1.5 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-900 rounded-lg transition-colors justify-center mx-auto",children:e?u.jsx(Bz,{size:18}):u.jsx(Lz,{size:18})}),u.jsx("button",{onClick:n,className:"md:hidden p-2 text-zinc-400 hover:text-black dark:hover:text-white bg-zinc-100 dark:bg-zinc-900 rounded-lg transition-colors",children:u.jsx(kn,{size:20})})]})]}),u.jsxs("nav",{className:"flex-1 space-y-1 overflow-y-auto custom-scrollbar px-3",children:[u.jsx("div",{className:`mt-2 mb-2 px-3 text-[9px] font-black text-zinc-300 dark:text-zinc-700 uppercase tracking-widest whitespace-nowrap transition-all duration-300 ${e?"opacity-0 h-0 overflow-hidden mt-0 mb-0":"opacity-100 h-auto"}`,children:"Schedule"}),u.jsx(Wc,{to:"/schedule/today",icon:tr,label:"Live Desk",isCollapsed:e,handleLinkClick:h}),u.jsx(Wc,{to:"/schedule/history",icon:sr,label:"Archive",isCollapsed:e,handleLinkClick:h}),u.jsx("div",{className:`mt-6 mb-2 px-3 text-[9px] font-black text-zinc-300 dark:text-zinc-700 uppercase tracking-widest whitespace-nowrap transition-all duration-300 ${e?"opacity-0 h-0 overflow-hidden mt-0 mb-0":"opacity-100 h-auto"}`,children:"Controls"}),u.jsx(Wc,{to:"/tickets",icon:_D,label:"Ticket Log",isCollapsed:e,handleLinkClick:h}),u.jsx(Wc,{to:"/incidents",icon:Ki,label:"Incidents",isCollapsed:e,handleLinkClick:h}),u.jsx(Wc,{to:"/handover",icon:_i,label:"Handover",isCollapsed:e,handleLinkClick:h})]}),u.jsxs("div",{className:"mt-auto pt-4 px-3 border-t border-zinc-100 dark:border-zinc-900 space-y-3",children:[u.jsxs("button",{onClick:c,className:`w-full flex items-center rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-500 hover:text-black dark:text-zinc-400 dark:hover:text-white transition-colors ${e?"justify-center w-10 h-10 mx-auto px-0":"justify-between px-3 py-2.5"}`,title:"Toggle Theme",children:[u.jsxs("div",{className:`flex items-center ${e?"justify-center":"gap-3"}`,children:[l?u.jsx(Jf,{size:18}):u.jsx(nm,{size:18}),f&&u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Appearance"})]}),f&&u.jsx("span",{className:"text-[9px] font-black bg-zinc-200 dark:bg-zinc-800 px-1.5 py-0.5 rounded uppercase text-zinc-600 dark:text-zinc-300",children:l?"Dark":"Light"})]}),u.jsxs("div",{className:`flex items-center rounded-2xl border border-zinc-100 dark:border-zinc-900 bg-white dark:bg-black transition-all ${e?"justify-center border-none bg-transparent p-0 w-10 h-10 mx-auto":"gap-3 p-2"} `,children:[u.jsx("div",{className:"w-8 h-8 shrink-0 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-black flex items-center justify-center font-black text-xs shadow-sm",children:a?a.charAt(0).toUpperCase():"U"}),f&&u.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[u.jsx("p",{className:"text-xs font-bold truncate dark:text-white",children:a||"Guest"}),u.jsx("p",{className:"text-[9px] text-zinc-400 font-medium truncate uppercase tracking-wider",children:"Operator"})]}),f&&u.jsx("button",{onClick:r,className:"p-2 text-zinc-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-950/30 rounded-lg transition-colors",title:"Sign Out",children:u.jsx(Dz,{size:16})})]})]})]})}function Hu({isOpen:n,onClose:e,title:t,message:r,onConfirm:a,isDanger:l=!1}){return n?u.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white w-full max-w-sm rounded-xl shadow-2xl border border-gray-200 overflow-hidden dark:bg-[#111] dark:border-[#333]",children:[u.jsxs("div",{className:`px-4 py-3 flex items-center gap-3 border-b border-gray-200 ${l?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-[#000]"}`,children:[u.jsx("div",{className:`p-2 rounded-full ${l?"bg-red-100 text-red-600":"bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]"}`,children:l?u.jsx(Ki,{size:20}):u.jsx(jS,{size:20})}),u.jsx("h3",{className:`font-bold text-lg ${l?"text-red-700 dark:text-red-400":"text-[#1F2937] dark:text-[#F2F2F2]"}`,children:t})]}),u.jsx("div",{className:"p-5",children:u.jsx("p",{className:"text-gray-700 dark:text-[#F2F2F2] text-sm leading-relaxed font-medium",children:r})}),u.jsxs("div",{className:"p-3 bg-gray-50 flex justify-end gap-2 border-t border-gray-200 dark:bg-[#000] dark:border-[#333]",children:[u.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-500 hover:bg-gray-200 dark:hover:bg-[#222] dark:hover:text-[#F2F2F2] transition-colors",children:"Cancel"}),u.jsx("button",{onClick:a,className:`px-4 py-2 rounded-lg text-sm font-bold text-white shadow-md transition-transform active:scale-95 ${l?"bg-red-600 hover:bg-red-700":"bg-[#1F2937] hover:bg-black dark:bg-[#F2F2F2] dark:text-[#000000] dark:hover:bg-[#ccc]"}`,children:"Confirm"})]})]})}):null}function Cj({children:n}){const e=Mo(),{logout:t}=qn(),[r,a]=I.useState(!1),[l,c]=I.useState(!1),[h,f]=I.useState(!1),g=()=>{t(),e("/login"),f(!1)};return u.jsxs("div",{className:"flex h-screen w-full bg-zinc-50 dark:bg-black text-zinc-900 dark:text-white overflow-hidden relative",children:[u.jsx(Hu,{isOpen:h,onClose:()=>f(!1),title:"Sign Out?",message:"Are you sure you want to log out?",onConfirm:g,isDanger:!0}),r&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden",onClick:()=>a(!1)}),u.jsx("div",{className:`
        fixed inset-y-0 left-0 z-50 bg-white dark:bg-black border-r border-zinc-200 dark:border-zinc-900 
        transition-all duration-300 ease-in-out shadow-2xl md:shadow-none overflow-hidden
        w-64 ${r?"translate-x-0":"-translate-x-full"}
        md:translate-x-0 md:relative 
        ${l?"md:w-[70px]":"md:w-64"}
      `,children:u.jsx(Tj,{onCloseMobile:()=>a(!1),isCollapsed:l,toggleCollapse:()=>c(!l),onLogoutClick:()=>f(!0)})}),u.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative transition-all duration-300",children:[u.jsxs("div",{className:"md:hidden flex items-center justify-between px-4 py-3 bg-white dark:bg-[#050505] border-b border-zinc-200 dark:border-zinc-800 shrink-0 z-30",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("h1",{className:"text-xl font-black italic tracking-tighter uppercase dark:text-white",children:["NOC",u.jsx("span",{className:"text-zinc-400",children:"TT"})]})}),u.jsx("button",{onClick:()=>a(!0),className:"p-2 -mr-2 text-zinc-500 hover:text-black dark:text-zinc-400 dark:hover:text-white rounded-lg transition-colors",children:u.jsx(jz,{size:24})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative w-full h-full",children:n})]})]})}function Nj(){const n=Mo(),{nocMembers:e,setCurrentUser:t}=qn(),r=a=>{t(a),n("/")};return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-zinc-50 dark:bg-black p-4 transition-colors duration-500",children:u.jsxs("div",{className:"w-full max-w-2xl animate-in fade-in zoom-in-95 duration-500 flex flex-col items-center",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h1",{className:"text-4xl md:text-6xl font-black italic tracking-tighter uppercase dark:text-white mb-4",children:["NOCNTT ",u.jsx("span",{className:"text-zinc-300 dark:text-zinc-700",children:"Management"})]}),u.jsx("p",{className:"text-sm font-bold text-zinc-400 uppercase tracking-[0.3em] mb-6",children:"System Access"}),u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[u.jsx(Kz,{size:14,className:"text-zinc-400"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500 dark:text-zinc-400",children:"Who is operating?"})]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 md:gap-12",children:e.map(a=>u.jsxs("button",{onClick:()=>r(a.name),className:"group flex flex-col items-center gap-4 transition-all duration-300 hover:-translate-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center text-3xl md:text-4xl font-black text-zinc-500 dark:text-zinc-400 group-hover:bg-black group-hover:text-white dark:group-hover:bg-white dark:group-hover:text-black transition-all duration-300 shadow-lg group-hover:shadow-2xl group-hover:scale-105 border-4 border-transparent group-hover:border-zinc-200 dark:group-hover:border-zinc-700",children:a.name.charAt(0)}),u.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black text-[9px] font-black uppercase tracking-widest rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:a.role})]}),u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-sm md:text-base font-bold text-zinc-500 dark:text-zinc-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:a.name})})]},a.id))})]})})}const Rj=()=>{};var M1={};const FS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Dj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,b=l>>2,v=(l&3)<<4|h>>4;let x=(h&15)<<2|g>>6,E=g&63;f||(E=64,c||(x=64)),r.push(t[b],t[v],t[x],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Dj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||g==null||v==null)throw new zj;const x=l<<2|h>>4;if(r.push(x),g!==64){const E=h<<4&240|g>>2;if(r.push(E),v!==64){const A=g<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jj=function(n){const e=FS(n);return qS.encodeByteArray(e,!0)},gf=function(n){return jj(n).replace(/\./g,"")},Mj=function(n){try{return qS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ij(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Oj=()=>Ij().__FIREBASE_DEFAULTS__,Vj=()=>{if(typeof process>"u"||typeof M1>"u")return;const n=M1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Pj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Mj(n[1]);return e&&JSON.parse(e)},kb=()=>{try{return Rj()||Oj()||Vj()||Pj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Lj=n=>kb()?.emulatorHosts?.[n],GS=n=>{const e=Lj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$S=()=>kb()?.config;class Uj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Fu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QS(n){return(await fetch(n,{credentials:"include"})).ok}function YS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gf(JSON.stringify(t)),gf(JSON.stringify(c)),""].join(".")}const lu={};function Bj(){const n={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?n.emulator.push(e):n.prod.push(e);return n}function Hj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let I1=!1;function WS(n,e){if(typeof window>"u"||typeof document>"u"||!Fu(window.location.host)||lu[n]===e||lu[n]||I1)return;lu[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",l=Bj().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{I1=!0,c()},x}function b(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=Hj(r),E=t("text"),A=document.getElementById(E)||document.createElement("span"),R=t("learnmore"),N=document.getElementById(R)||document.createElement("a"),z=t("preprendIcon"),P=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const q=x.element;h(q),b(N,R);const L=g();f(P,z),q.append(P,A,N,L),document.body.appendChild(q)}l?(A.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Fj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qj(){const n=kb()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gj(){return!qj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $j(){try{return typeof indexedDB=="object"}catch{return!1}}function Qj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const Yj="FirebaseError";class ll extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Yj,Object.setPrototypeOf(this,ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,XS.prototype.create)}}class XS{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Wj(l,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new ll(a,h,r)}}function Wj(n,e){return n.replace(Xj,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Xj=/\{\$([^}]+)}/g;function xo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(O1(l)&&O1(c)){if(!xo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function O1(n){return n!==null&&typeof n=="object"}function Sn(n){return n&&n._delegate?n._delegate:n}class _o{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class Kj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Uj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jj(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zj(n){return n===Fa?void 0:n}function Jj(n){return n.instantiationMode==="EAGER"}class e4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Kj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const t4={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},n4=Qe.INFO,r4={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},i4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=r4[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class KS{constructor(e){this.name=e,this._logLevel=n4,this._logHandler=i4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const s4=(n,e)=>e.some(t=>n instanceof t);let V1,P1;function a4(){return V1||(V1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l4(){return P1||(P1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZS=new WeakMap,C0=new WeakMap,JS=new WeakMap,Hp=new WeakMap,Ab=new WeakMap;function o4(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Gs(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ZS.set(t,n)}).catch(()=>{}),Ab.set(e,n),e}function c4(n){if(C0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});C0.set(n,e)}let N0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return C0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function u4(n){N0=n(N0)}function d4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Fp(this),e,...t);return JS.set(r,e.sort?e.sort():[e]),Gs(r)}:l4().includes(n)?function(...e){return n.apply(Fp(this),e),Gs(ZS.get(this))}:function(...e){return Gs(n.apply(Fp(this),e))}}function h4(n){return typeof n=="function"?d4(n):(n instanceof IDBTransaction&&c4(n),s4(n,a4())?new Proxy(n,N0):n)}function Gs(n){if(n instanceof IDBRequest)return o4(n);if(Hp.has(n))return Hp.get(n);const e=h4(n);return e!==n&&(Hp.set(n,e),Ab.set(e,n)),e}const Fp=n=>Ab.get(n);function f4(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=Gs(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Gs(c.result),f.oldVersion,f.newVersion,Gs(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const m4=["get","getKey","getAll","getAllKeys","count"],g4=["put","add","delete","clear"],qp=new Map;function L1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=g4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||m4.includes(t)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),a&&f.done]))[0]};return qp.set(e,l),l}u4(n=>({...n,get:(e,t,r)=>L1(e,t)||n.get(e,t,r),has:(e,t)=>!!L1(e,t)||n.has(e,t)}));class p4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function b4(n){return n.getComponent()?.type==="VERSION"}const R0="@firebase/app",U1="0.14.6";const Zi=new KS("@firebase/app"),y4="@firebase/app-compat",v4="@firebase/analytics-compat",x4="@firebase/analytics",_4="@firebase/app-check-compat",w4="@firebase/app-check",E4="@firebase/auth",S4="@firebase/auth-compat",k4="@firebase/database",A4="@firebase/data-connect",T4="@firebase/database-compat",C4="@firebase/functions",N4="@firebase/functions-compat",R4="@firebase/installations",D4="@firebase/installations-compat",z4="@firebase/messaging",j4="@firebase/messaging-compat",M4="@firebase/performance",I4="@firebase/performance-compat",O4="@firebase/remote-config",V4="@firebase/remote-config-compat",P4="@firebase/storage",L4="@firebase/storage-compat",U4="@firebase/firestore",B4="@firebase/ai",H4="@firebase/firestore-compat",F4="firebase",q4="12.6.0";const D0="[DEFAULT]",G4={[R0]:"fire-core",[y4]:"fire-core-compat",[x4]:"fire-analytics",[v4]:"fire-analytics-compat",[w4]:"fire-app-check",[_4]:"fire-app-check-compat",[E4]:"fire-auth",[S4]:"fire-auth-compat",[k4]:"fire-rtdb",[A4]:"fire-data-connect",[T4]:"fire-rtdb-compat",[C4]:"fire-fn",[N4]:"fire-fn-compat",[R4]:"fire-iid",[D4]:"fire-iid-compat",[z4]:"fire-fcm",[j4]:"fire-fcm-compat",[M4]:"fire-perf",[I4]:"fire-perf-compat",[O4]:"fire-rc",[V4]:"fire-rc-compat",[P4]:"fire-gcs",[L4]:"fire-gcs-compat",[U4]:"fire-fst",[H4]:"fire-fst-compat",[B4]:"fire-vertex","fire-js":"fire-js",[F4]:"fire-js-all"};const pf=new Map,$4=new Map,z0=new Map;function B1(n,e){try{n.container.addComponent(e)}catch(t){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ku(n){const e=n.name;if(z0.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;z0.set(e,n);for(const t of pf.values())B1(t,n);for(const t of $4.values())B1(t,n);return!0}function ek(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tk(n){return n==null?!1:n.settings!==void 0}const Q4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new XS("app","Firebase",Q4);class Y4{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const nk=q4;function rk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:D0,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw $s.create("bad-app-name",{appName:String(a)});if(t||(t=$S()),!t)throw $s.create("no-options");const l=pf.get(a);if(l){if(xo(t,l.options)&&xo(r,l.config))return l;throw $s.create("duplicate-app",{appName:a})}const c=new e4(a);for(const f of z0.values())c.addComponent(f);const h=new Y4(t,r,c);return pf.set(a,h),h}function ik(n=D0){const e=pf.get(n);if(!e&&n===D0&&$S())return rk();if(!e)throw $s.create("no-app",{appName:n});return e}function Qs(n,e,t){let r=G4[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(c.join(" "));return}ku(new _o(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const W4="firebase-heartbeat-database",X4=1,Au="firebase-heartbeat-store";let Gp=null;function sk(){return Gp||(Gp=f4(W4,X4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(n=>{throw $s.create("idb-open",{originalErrorMessage:n.message})})),Gp}async function K4(n){try{const t=(await sk()).transaction(Au),r=await t.objectStore(Au).get(ak(n));return await t.done,r}catch(e){if(e instanceof ll)Zi.warn(e.message);else{const t=$s.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(t.message)}}}async function H1(n,e){try{const r=(await sk()).transaction(Au,"readwrite");await r.objectStore(Au).put(e,ak(n)),await r.done}catch(t){if(t instanceof ll)Zi.warn(t.message);else{const r=$s.create("idb-set",{originalErrorMessage:t?.message});Zi.warn(r.message)}}}function ak(n){return`${n.name}!${n.options.appId}`}const Z4=1024,J4=30;class eM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=F1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>J4){const a=rM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F1(),{heartbeatsToSend:t,unsentEntries:r}=tM(this._heartbeatsCache.heartbeats),a=gf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zi.warn(e),""}}}function F1(){return new Date().toISOString().substring(0,10)}function tM(n,e=Z4){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),q1(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),q1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class nM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $j()?Qj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await K4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return H1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return H1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function q1(n){return gf(JSON.stringify({version:2,heartbeats:n})).length}function rM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function iM(n){ku(new _o("platform-logger",e=>new p4(e),"PRIVATE")),ku(new _o("heartbeat",e=>new eM(e),"PRIVATE")),Qs(R0,U1,n),Qs(R0,U1,"esm2020"),Qs("fire-js","")}iM("");var G1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,lk;(function(){var n;function e(C,k){function j(){}j.prototype=k.prototype,C.F=k.prototype,C.prototype=new j,C.prototype.constructor=C,C.D=function(U,M,H){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return k.prototype[M].apply(U,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,k,j){j||(j=0);const U=Array(16);if(typeof k=="string")for(var M=0;M<16;++M)U[M]=k.charCodeAt(j++)|k.charCodeAt(j++)<<8|k.charCodeAt(j++)<<16|k.charCodeAt(j++)<<24;else for(M=0;M<16;++M)U[M]=k[j++]|k[j++]<<8|k[j++]<<16|k[j++]<<24;k=C.g[0],j=C.g[1],M=C.g[2];let H=C.g[3],V;V=k+(H^j&(M^H))+U[0]+3614090360&4294967295,k=j+(V<<7&4294967295|V>>>25),V=H+(M^k&(j^M))+U[1]+3905402710&4294967295,H=k+(V<<12&4294967295|V>>>20),V=M+(j^H&(k^j))+U[2]+606105819&4294967295,M=H+(V<<17&4294967295|V>>>15),V=j+(k^M&(H^k))+U[3]+3250441966&4294967295,j=M+(V<<22&4294967295|V>>>10),V=k+(H^j&(M^H))+U[4]+4118548399&4294967295,k=j+(V<<7&4294967295|V>>>25),V=H+(M^k&(j^M))+U[5]+1200080426&4294967295,H=k+(V<<12&4294967295|V>>>20),V=M+(j^H&(k^j))+U[6]+2821735955&4294967295,M=H+(V<<17&4294967295|V>>>15),V=j+(k^M&(H^k))+U[7]+4249261313&4294967295,j=M+(V<<22&4294967295|V>>>10),V=k+(H^j&(M^H))+U[8]+1770035416&4294967295,k=j+(V<<7&4294967295|V>>>25),V=H+(M^k&(j^M))+U[9]+2336552879&4294967295,H=k+(V<<12&4294967295|V>>>20),V=M+(j^H&(k^j))+U[10]+4294925233&4294967295,M=H+(V<<17&4294967295|V>>>15),V=j+(k^M&(H^k))+U[11]+2304563134&4294967295,j=M+(V<<22&4294967295|V>>>10),V=k+(H^j&(M^H))+U[12]+1804603682&4294967295,k=j+(V<<7&4294967295|V>>>25),V=H+(M^k&(j^M))+U[13]+4254626195&4294967295,H=k+(V<<12&4294967295|V>>>20),V=M+(j^H&(k^j))+U[14]+2792965006&4294967295,M=H+(V<<17&4294967295|V>>>15),V=j+(k^M&(H^k))+U[15]+1236535329&4294967295,j=M+(V<<22&4294967295|V>>>10),V=k+(M^H&(j^M))+U[1]+4129170786&4294967295,k=j+(V<<5&4294967295|V>>>27),V=H+(j^M&(k^j))+U[6]+3225465664&4294967295,H=k+(V<<9&4294967295|V>>>23),V=M+(k^j&(H^k))+U[11]+643717713&4294967295,M=H+(V<<14&4294967295|V>>>18),V=j+(H^k&(M^H))+U[0]+3921069994&4294967295,j=M+(V<<20&4294967295|V>>>12),V=k+(M^H&(j^M))+U[5]+3593408605&4294967295,k=j+(V<<5&4294967295|V>>>27),V=H+(j^M&(k^j))+U[10]+38016083&4294967295,H=k+(V<<9&4294967295|V>>>23),V=M+(k^j&(H^k))+U[15]+3634488961&4294967295,M=H+(V<<14&4294967295|V>>>18),V=j+(H^k&(M^H))+U[4]+3889429448&4294967295,j=M+(V<<20&4294967295|V>>>12),V=k+(M^H&(j^M))+U[9]+568446438&4294967295,k=j+(V<<5&4294967295|V>>>27),V=H+(j^M&(k^j))+U[14]+3275163606&4294967295,H=k+(V<<9&4294967295|V>>>23),V=M+(k^j&(H^k))+U[3]+4107603335&4294967295,M=H+(V<<14&4294967295|V>>>18),V=j+(H^k&(M^H))+U[8]+1163531501&4294967295,j=M+(V<<20&4294967295|V>>>12),V=k+(M^H&(j^M))+U[13]+2850285829&4294967295,k=j+(V<<5&4294967295|V>>>27),V=H+(j^M&(k^j))+U[2]+4243563512&4294967295,H=k+(V<<9&4294967295|V>>>23),V=M+(k^j&(H^k))+U[7]+1735328473&4294967295,M=H+(V<<14&4294967295|V>>>18),V=j+(H^k&(M^H))+U[12]+2368359562&4294967295,j=M+(V<<20&4294967295|V>>>12),V=k+(j^M^H)+U[5]+4294588738&4294967295,k=j+(V<<4&4294967295|V>>>28),V=H+(k^j^M)+U[8]+2272392833&4294967295,H=k+(V<<11&4294967295|V>>>21),V=M+(H^k^j)+U[11]+1839030562&4294967295,M=H+(V<<16&4294967295|V>>>16),V=j+(M^H^k)+U[14]+4259657740&4294967295,j=M+(V<<23&4294967295|V>>>9),V=k+(j^M^H)+U[1]+2763975236&4294967295,k=j+(V<<4&4294967295|V>>>28),V=H+(k^j^M)+U[4]+1272893353&4294967295,H=k+(V<<11&4294967295|V>>>21),V=M+(H^k^j)+U[7]+4139469664&4294967295,M=H+(V<<16&4294967295|V>>>16),V=j+(M^H^k)+U[10]+3200236656&4294967295,j=M+(V<<23&4294967295|V>>>9),V=k+(j^M^H)+U[13]+681279174&4294967295,k=j+(V<<4&4294967295|V>>>28),V=H+(k^j^M)+U[0]+3936430074&4294967295,H=k+(V<<11&4294967295|V>>>21),V=M+(H^k^j)+U[3]+3572445317&4294967295,M=H+(V<<16&4294967295|V>>>16),V=j+(M^H^k)+U[6]+76029189&4294967295,j=M+(V<<23&4294967295|V>>>9),V=k+(j^M^H)+U[9]+3654602809&4294967295,k=j+(V<<4&4294967295|V>>>28),V=H+(k^j^M)+U[12]+3873151461&4294967295,H=k+(V<<11&4294967295|V>>>21),V=M+(H^k^j)+U[15]+530742520&4294967295,M=H+(V<<16&4294967295|V>>>16),V=j+(M^H^k)+U[2]+3299628645&4294967295,j=M+(V<<23&4294967295|V>>>9),V=k+(M^(j|~H))+U[0]+4096336452&4294967295,k=j+(V<<6&4294967295|V>>>26),V=H+(j^(k|~M))+U[7]+1126891415&4294967295,H=k+(V<<10&4294967295|V>>>22),V=M+(k^(H|~j))+U[14]+2878612391&4294967295,M=H+(V<<15&4294967295|V>>>17),V=j+(H^(M|~k))+U[5]+4237533241&4294967295,j=M+(V<<21&4294967295|V>>>11),V=k+(M^(j|~H))+U[12]+1700485571&4294967295,k=j+(V<<6&4294967295|V>>>26),V=H+(j^(k|~M))+U[3]+2399980690&4294967295,H=k+(V<<10&4294967295|V>>>22),V=M+(k^(H|~j))+U[10]+4293915773&4294967295,M=H+(V<<15&4294967295|V>>>17),V=j+(H^(M|~k))+U[1]+2240044497&4294967295,j=M+(V<<21&4294967295|V>>>11),V=k+(M^(j|~H))+U[8]+1873313359&4294967295,k=j+(V<<6&4294967295|V>>>26),V=H+(j^(k|~M))+U[15]+4264355552&4294967295,H=k+(V<<10&4294967295|V>>>22),V=M+(k^(H|~j))+U[6]+2734768916&4294967295,M=H+(V<<15&4294967295|V>>>17),V=j+(H^(M|~k))+U[13]+1309151649&4294967295,j=M+(V<<21&4294967295|V>>>11),V=k+(M^(j|~H))+U[4]+4149444226&4294967295,k=j+(V<<6&4294967295|V>>>26),V=H+(j^(k|~M))+U[11]+3174756917&4294967295,H=k+(V<<10&4294967295|V>>>22),V=M+(k^(H|~j))+U[2]+718787259&4294967295,M=H+(V<<15&4294967295|V>>>17),V=j+(H^(M|~k))+U[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(M+(V<<21&4294967295|V>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+H&4294967295}r.prototype.v=function(C,k){k===void 0&&(k=C.length);const j=k-this.blockSize,U=this.C;let M=this.h,H=0;for(;H<k;){if(M==0)for(;H<=j;)a(this,C,H),H+=this.blockSize;if(typeof C=="string"){for(;H<k;)if(U[M++]=C.charCodeAt(H++),M==this.blockSize){a(this,U),M=0;break}}else for(;H<k;)if(U[M++]=C[H++],M==this.blockSize){a(this,U),M=0;break}}this.h=M,this.o+=k},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;k=this.o*8;for(var j=C.length-8;j<C.length;++j)C[j]=k&255,k/=256;for(this.v(C),C=Array(16),k=0,j=0;j<4;++j)for(let U=0;U<32;U+=8)C[k++]=this.g[j]>>>U&255;return C};function l(C,k){var j=h;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=k(C)}function c(C,k){this.h=k;const j=[];let U=!0;for(let M=C.length-1;M>=0;M--){const H=C[M]|0;U&&H==k||(j[M]=H,U=!1)}this.g=j}var h={};function f(C){return-128<=C&&C<128?l(C,function(k){return new c([k|0],k<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return N(g(-C));const k=[];let j=1;for(let U=0;C>=j;U++)k[U]=C/j|0,j*=4294967296;return new c(k,0)}function b(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return N(b(C.substring(1),k));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=g(Math.pow(k,8));let U=v;for(let H=0;H<C.length;H+=8){var M=Math.min(8,C.length-H);const V=parseInt(C.substring(H,H+M),k);M<8?(M=g(Math.pow(k,M)),U=U.j(M).add(g(V))):(U=U.j(j),U=U.add(g(V)))}return U}var v=f(0),x=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(R(this))return-N(this).m();let C=0,k=1;for(let j=0;j<this.g.length;j++){const U=this.i(j);C+=(U>=0?U:4294967296+U)*k,k*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(R(this))return"-"+N(this).toString(C);const k=g(Math.pow(C,6));var j=this;let U="";for(;;){const M=L(j,k).g;j=z(j,M.j(k));let H=((j.g.length>0?j.g[0]:j.h)>>>0).toString(C);if(j=M,A(j))return H+U;for(;H.length<6;)H="0"+H;U=H+U}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(let k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function R(C){return C.h==-1}n.l=function(C){return C=z(this,C),R(C)?-1:A(C)?0:1};function N(C){const k=C.g.length,j=[];for(let U=0;U<k;U++)j[U]=~C.g[U];return new c(j,~C.h).add(x)}n.abs=function(){return R(this)?N(this):this},n.add=function(C){const k=Math.max(this.g.length,C.g.length),j=[];let U=0;for(let M=0;M<=k;M++){let H=U+(this.i(M)&65535)+(C.i(M)&65535),V=(H>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);U=V>>>16,H&=65535,V&=65535,j[M]=V<<16|H}return new c(j,j[j.length-1]&-2147483648?-1:0)};function z(C,k){return C.add(N(k))}n.j=function(C){if(A(this)||A(C))return v;if(R(this))return R(C)?N(this).j(N(C)):N(N(this).j(C));if(R(C))return N(this.j(N(C)));if(this.l(E)<0&&C.l(E)<0)return g(this.m()*C.m());const k=this.g.length+C.g.length,j=[];for(var U=0;U<2*k;U++)j[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<C.g.length;M++){const H=this.i(U)>>>16,V=this.i(U)&65535,Se=C.i(M)>>>16,De=C.i(M)&65535;j[2*U+2*M]+=V*De,P(j,2*U+2*M),j[2*U+2*M+1]+=H*De,P(j,2*U+2*M+1),j[2*U+2*M+1]+=V*Se,P(j,2*U+2*M+1),j[2*U+2*M+2]+=H*Se,P(j,2*U+2*M+2)}for(C=0;C<k;C++)j[C]=j[2*C+1]<<16|j[2*C];for(C=k;C<2*k;C++)j[C]=0;return new c(j,0)};function P(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function q(C,k){this.g=C,this.h=k}function L(C,k){if(A(k))throw Error("division by zero");if(A(C))return new q(v,v);if(R(C))return k=L(N(C),k),new q(N(k.g),N(k.h));if(R(k))return k=L(C,N(k)),new q(N(k.g),k.h);if(C.g.length>30){if(R(C)||R(k))throw Error("slowDivide_ only works with positive integers.");for(var j=x,U=k;U.l(C)<=0;)j=X(j),U=X(U);var M=F(j,1),H=F(U,1);for(U=F(U,2),j=F(j,2);!A(U);){var V=H.add(U);V.l(C)<=0&&(M=M.add(j),H=V),U=F(U,1),j=F(j,1)}return k=z(C,M.j(k)),new q(M,k)}for(M=v;C.l(k)>=0;){for(j=Math.max(1,Math.floor(C.m()/k.m())),U=Math.ceil(Math.log(j)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),H=g(j),V=H.j(k);R(V)||V.l(C)>0;)j-=U,H=g(j),V=H.j(k);A(H)&&(H=x),M=M.add(H),C=z(C,V)}return new q(M,C)}n.B=function(C){return L(this,C).h},n.and=function(C){const k=Math.max(this.g.length,C.g.length),j=[];for(let U=0;U<k;U++)j[U]=this.i(U)&C.i(U);return new c(j,this.h&C.h)},n.or=function(C){const k=Math.max(this.g.length,C.g.length),j=[];for(let U=0;U<k;U++)j[U]=this.i(U)|C.i(U);return new c(j,this.h|C.h)},n.xor=function(C){const k=Math.max(this.g.length,C.g.length),j=[];for(let U=0;U<k;U++)j[U]=this.i(U)^C.i(U);return new c(j,this.h^C.h)};function X(C){const k=C.g.length+1,j=[];for(let U=0;U<k;U++)j[U]=C.i(U)<<1|C.i(U-1)>>>31;return new c(j,C.h)}function F(C,k){const j=k>>5;k%=32;const U=C.g.length-j,M=[];for(let H=0;H<U;H++)M[H]=k>0?C.i(H+j)>>>k|C.i(H+j+1)<<32-k:C.i(H+j);return new c(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lk=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=b,Ys=c}).apply(typeof G1<"u"?G1:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ok,nu,ck,Zh,j0,uk,dk,hk;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var _=0;_<m.length;++_){var S=m[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(m,_){if(_)e:{var S=r;m=m.split(".");for(var D=0;D<m.length-1;D++){var Q=m[D];if(!(Q in S))break e;S=S[Q]}m=m[m.length-1],D=S[m],_=_(D),_!=D&&_!=null&&e(S,m,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(_){var S=[],D;for(D in _)Object.prototype.hasOwnProperty.call(_,D)&&S.push([D,_[D]]);return S}});var l=l||{},c=this||self;function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function f(m,_,S){return m.call.apply(m.bind,arguments)}function g(m,_,S){return g=f,g.apply(null,arguments)}function b(m,_){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function v(m,_){function S(){}S.prototype=_.prototype,m.Z=_.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(D,Q,J){for(var ge=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ge[Oe-2]=arguments[Oe];return _.prototype[Q].apply(D,ge)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const _=m.length;if(_>0){const S=Array(_);for(let D=0;D<_;D++)S[D]=m[D];return S}return[]}function A(m,_){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var S=typeof Q;if(S=S!="object"?S:Q?Array.isArray(Q)?"array":S:"null",S=="array"||S=="object"&&typeof Q.length=="number"){S=m.length||0;const J=Q.length||0;m.length=S+J;for(let ge=0;ge<J;ge++)m[S+ge]=Q[ge]}else m.push(Q)}}class R{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(m){c.setTimeout(()=>{throw m},0)}function z(){var m=C;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class P{constructor(){this.h=this.g=null}add(_,S){const D=q.get();D.set(_,S),this.h?this.h.next=D:this.g=D,this.h=D}}var q=new R(()=>new L,m=>m.reset());class L{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let X,F=!1,C=new P,k=()=>{const m=Promise.resolve(void 0);X=()=>{m.then(j)}};function j(){for(var m;m=z();){try{m.h.call(m.g)}catch(S){N(S)}var _=q;_.j(m),_.h<100&&(_.h++,m.next=_.g,_.g=m)}F=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return m})();function V(m){return/^[\s\xa0]*$/.test(m)}function Se(m,_){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,_)}v(Se,M),Se.prototype.init=function(m,_){const S=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget,_||(S=="mouseover"?_=m.fromElement:S=="mouseout"&&(_=m.toElement)),this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),re=0;function ae(m,_,S,D,Q){this.listener=m,this.proxy=null,this.src=_,this.type=S,this.capture=!!D,this.ha=Q,this.key=++re,this.da=this.fa=!1}function pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function _e(m,_,S){for(const D in m)_.call(S,m[D],D,m)}function de(m,_){for(const S in m)_.call(void 0,m[S],S,m)}function O(m){const _={};for(const S in m)_[S]=m[S];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(m,_){let S,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(S in D)m[S]=D[S];for(let J=0;J<Z.length;J++)S=Z[J],Object.prototype.hasOwnProperty.call(D,S)&&(m[S]=D[S])}}function he(m){this.src=m,this.g={},this.h=0}he.prototype.add=function(m,_,S,D,Q){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const ge=ve(m,_,D,Q);return ge>-1?(_=m[ge],S||(_.fa=!1)):(_=new ae(_,this.src,J,!!D,Q),_.fa=S,m.push(_)),_};function Ee(m,_){const S=_.type;if(S in m.g){var D=m.g[S],Q=Array.prototype.indexOf.call(D,_,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(D,Q,1),J&&(pe(_),m.g[S].length==0&&(delete m.g[S],m.h--))}}function ve(m,_,S,D){for(let Q=0;Q<m.length;++Q){const J=m[Q];if(!J.da&&J.listener==_&&J.capture==!!S&&J.ha==D)return Q}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),mt={};function Ye(m,_,S,D,Q){if(Array.isArray(_)){for(let J=0;J<_.length;J++)Ye(m,_[J],S,D,Q);return null}return S=Ti(S),m&&m[De]?m.J(_,S,h(D)?!!D.capture:!1,Q):fe(m,_,S,!1,D,Q)}function fe(m,_,S,D,Q,J){if(!_)throw Error("Invalid event type");const ge=h(Q)?!!Q.capture:!!Q;let Oe=is(m);if(Oe||(m[Re]=Oe=new he(m)),S=Oe.add(_,S,D,ge,J),S.proxy)return S;if(D=Ze(),S.proxy=D,D.src=m,D.listener=S,m.addEventListener)H||(Q=ge),Q===void 0&&(Q=!1),m.addEventListener(_.toString(),D,Q);else if(m.attachEvent)m.attachEvent(jt(_.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ze(){function m(S){return _.call(m.src,m.listener,S)}const _=kr;return m}function Lt(m,_,S,D,Q){if(Array.isArray(_))for(var J=0;J<_.length;J++)Lt(m,_[J],S,D,Q);else D=h(D)?!!D.capture:!!D,S=Ti(S),m&&m[De]?(m=m.i,J=String(_).toString(),J in m.g&&(_=m.g[J],S=ve(_,S,D,Q),S>-1&&(pe(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete m.g[J],m.h--)))):m&&(m=is(m))&&(_=m.g[_.toString()],m=-1,_&&(m=ve(_,S,D,Q)),(S=m>-1?_[m]:null)&&ht(S))}function ht(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[De])Ee(_.i,m);else{var S=m.type,D=m.proxy;_.removeEventListener?_.removeEventListener(S,D,m.capture):_.detachEvent?_.detachEvent(jt(S),D):_.addListener&&_.removeListener&&_.removeListener(D),(S=is(_))?(Ee(S,m),S.h==0&&(S.src=null,_[Re]=null)):pe(m)}}}function jt(m){return m in mt?mt[m]:mt[m]="on"+m}function kr(m,_){if(m.da)m=!0;else{_=new Se(_,this);const S=m.listener,D=m.ha||m.src;m.fa&&ht(m),m=S.call(D,_)}return m}function is(m){return m=m[Re],m instanceof he?m:null}var fa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ti(m){return typeof m=="function"?m:(m[fa]||(m[fa]=function(_){return m.handleEvent(_)}),m[fa])}function Tt(){U.call(this),this.i=new he(this),this.M=this,this.G=null}v(Tt,U),Tt.prototype[De]=!0,Tt.prototype.removeEventListener=function(m,_,S,D){Lt(this,m,_,S,D)};function Kt(m,_){var S,D=m.G;if(D)for(S=[];D;D=D.G)S.push(D);if(m=m.M,D=_.type||_,typeof _=="string")_=new M(_,m);else if(_ instanceof M)_.target=_.target||m;else{var Q=_;_=new M(D,m),ue(_,Q)}Q=!0;let J,ge;if(S)for(ge=S.length-1;ge>=0;ge--)J=_.g=S[ge],Q=ss(J,D,!0,_)&&Q;if(J=_.g=m,Q=ss(J,D,!0,_)&&Q,Q=ss(J,D,!1,_)&&Q,S)for(ge=0;ge<S.length;ge++)J=_.g=S[ge],Q=ss(J,D,!1,_)&&Q}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var m=this.i;for(const _ in m.g){const S=m.g[_];for(let D=0;D<S.length;D++)pe(S[D]);delete m.g[_],m.h--}}this.G=null},Tt.prototype.J=function(m,_,S,D){return this.i.add(String(m),_,!1,S,D)},Tt.prototype.K=function(m,_,S,D){return this.i.add(String(m),_,!0,S,D)};function ss(m,_,S,D){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let J=0;J<_.length;++J){const ge=_[J];if(ge&&!ge.da&&ge.capture==S){const Oe=ge.listener,It=ge.ha||ge.src;ge.fa&&Ee(m.i,ge),Q=Oe.call(It,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Mm(m,_){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(m,_||0)}function id(m){m.g=Mm(()=>{m.g=null,m.i&&(m.i=!1,id(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class An extends U{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:id(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(m){U.call(this),this.h=m,this.g={}}v(ma,U);var Go=[];function $o(m){_e(m.g,function(_,S){this.g.hasOwnProperty(S)&&ht(_)},m),m.g={}}ma.prototype.N=function(){ma.Z.N.call(this),$o(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=c.JSON.stringify,Im=c.JSON.parse,sd=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function ad(){}function ld(){}var Ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){M.call(this,"d")}v(on,M);function lr(){M.call(this,"c")}v(lr,M);var Mt={},od=null;function pl(){return od=od||new Tt}Mt.Ia="serverreachability";function cd(m){M.call(this,Mt.Ia,m)}v(cd,M);function Gr(m){const _=pl();Kt(_,new cd(_))}Mt.STAT_EVENT="statevent";function ga(m,_){M.call(this,Mt.STAT_EVENT,m),this.stat=_}v(ga,M);function Ut(m){const _=pl();Kt(_,new ga(_,m))}Mt.Ja="timingevent";function $r(m,_){M.call(this,Mt.Ja,m),this.size=_}v($r,M);function Qr(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},_)}function Tr(){this.g=!0}Tr.prototype.ua=function(){this.g=!1};function Om(m,_,S,D,Q,J){m.info(function(){if(m.g)if(J){var ge="",Oe=J.split("&");for(let Je=0;Je<Oe.length;Je++){var It=Oe[Je].split("=");if(It.length>1){const vt=It[0];It=It[1];const dr=vt.split("_");ge=dr.length>=2&&dr[1]=="type"?ge+(vt+"="+It+"&"):ge+(vt+"=redacted&")}}}else ge=null;else ge=J;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+_+`
`+S+`
`+ge})}function ud(m,_,S,D,Q,J,ge){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+_+`
`+S+`
`+J+" "+ge})}function Yr(m,_,S,D){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Vm(m,S)+(D?" "+D:"")})}function pa(m,_){m.info(function(){return"TIMEOUT: "+_})}Tr.prototype.info=function(){};function Vm(m,_){if(!m.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var S=J[m];if(!(S.length<2)){var D=S[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ge=1;ge<D.length;ge++)D[ge]=""}}}}return as(J)}catch{return _}}var ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yo;function ya(){}v(ya,ad),ya.prototype.g=function(){return new XMLHttpRequest},Yo=new ya;function Ci(m){return encodeURIComponent(String(m))}function dd(m){var _=1;m=m.split(":");const S=[];for(;_>0&&m.length;)S.push(m.shift()),_--;return m.length&&S.push(m.join(":")),S}function Cr(m,_,S,D){this.j=m,this.i=_,this.l=S,this.S=D||1,this.V=new ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nr}function Nr(){this.i=null,this.g="",this.h=!1}var Bt={},en={};function Wr(m,_,S){m.M=1,m.A=va(Ft(_)),m.u=S,m.R=!0,bl(m,null)}function bl(m,_){m.F=Date.now(),Xr(m),m.B=Ft(m.A);var S=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),_l(S.i,"t",D),m.C=0,S=m.j.L,m.h=new Nr,m.g=Ad(m.j,S?_:null,!m.u),m.P>0&&(m.O=new An(g(m.Y,m,m.g),m.P)),_=m.V,S=m.g,D=m.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Go[0]=Q.toString()),Q=Go);for(let J=0;J<Q.length;J++){const ge=Ye(S,Q[J],D||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=m.J?O(m.J):{},m.u?(m.v||(m.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,_)):(m.v="GET",m.g.ea(m.B,m.v,null,_)),Gr(),Om(m.i,m.v,m.B,m.l,m.S,m.u)}Cr.prototype.ba=function(m){m=m.target;const _=this.O;_&&zr(m)==3?_.j():this.Y(m)},Cr.prototype.Y=function(m){try{if(m==this.g)e:{const Oe=zr(this.g),It=this.g.ya(),Je=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Oe!=4||It==7||(It==8||Je<=0?Gr(3):Gr(2)),Kr(this);var _=this.g.ca();this.X=_;var S=Pm(this);if(this.o=_==200,ud(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(D)){var J=D;break t}}J=null}if(m=J)Yr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zr(this,m);else{this.o=!1,this.m=3,Ut(12),Gn(this),or(this);break e}}if(this.R){m=!0;let vt;for(;!this.K&&this.C<S.length;)if(vt=fd(this,S),vt==en){Oe==4&&(this.m=4,Ut(14),m=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Bt){this.m=4,Ut(15),Yr(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else Yr(this.i,this.l,vt,null),Zr(this,vt);if(hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||S.length!=0||this.h.h||(this.m=1,Ut(16),m=!1),this.o=this.o&&m,!m)Yr(this.i,this.l,S,"[Invalid Chunked Response]"),Gn(this),or(this);else if(S.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),cc(ge),ge.P=!0,Ut(11))}}else Yr(this.i,this.l,S,null),Zr(this,S);Oe==4&&Gn(this),this.o&&!this.K&&(Oe==4?wd(this.j,this):(this.o=!1,Xr(this)))}else Ri(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Gn(this),or(this)}}}catch{}finally{}};function Pm(m){if(!hd(m))return m.g.la();const _=cn(m.g);if(_==="")return"";let S="";const D=_.length,Q=zr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Gn(m),or(m),"";m.h.i=new c.TextDecoder}for(let J=0;J<D;J++)m.h.h=!0,S+=m.h.i.decode(_[J],{stream:!(Q&&J==D-1)});return _.length=0,m.h.g+=S,m.C=0,m.h.g}function hd(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function fd(m,_){var S=m.C,D=_.indexOf(`
`,S);return D==-1?en:(S=Number(_.substring(S,D)),isNaN(S)?Bt:(D+=1,D+S>_.length?en:(_=_.slice(D,D+S),m.C=D+S,_)))}Cr.prototype.cancel=function(){this.K=!0,Gn(this)};function Xr(m){m.T=Date.now()+m.H,yl(m,m.H)}function yl(m,_){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Qr(g(m.aa,m),_)}function Kr(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Cr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(pa(this.i,this.B),this.M!=2&&(Gr(),Ut(17)),Gn(this),this.m=2,or(this)):yl(this,this.T-m)};function or(m){m.j.I==0||m.K||wd(m.j,m)}function Gn(m){Kr(m);var _=m.O;_&&typeof _.dispose=="function"&&_.dispose(),m.O=null,$o(m.V),m.g&&(_=m.g,m.g=null,_.abort(),_.dispose())}function Zr(m,_){try{var S=m.j;if(S.I!=0&&(S.g==m||ei(S.h,m))){if(!m.L&&ei(S.h,m)&&S.I==3){try{var D=S.Ba.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)Al(S),ms(S);else break e;Aa(S),Ut(18)}}else S.xa=Q[1],0<S.xa-S.K&&Q[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Qr(g(S.Va,S),6e3));Jr(S.h)<=1&&S.ta&&(S.ta=void 0)}else ai(S,11)}else if((m.L||S.g==m)&&Al(S),!V(_))for(Q=S.Ba.g.parse(_),_=0;_<Q.length;_++){let Je=Q[_];const vt=Je[0];if(!(vt<=S.K))if(S.K=vt,Je=Je[1],S.I==2)if(Je[0]=="c"){S.M=Je[1],S.ba=Je[2];const dr=Je[3];dr!=null&&(S.ka=dr,S.j.info("VER="+S.ka));const li=Je[4];li!=null&&(S.za=li,S.j.info("SVER="+S.za));const jr=Je[5];jr!=null&&typeof jr=="number"&&jr>0&&(D=1.5*jr,S.O=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const Mr=m.g;if(Mr){const Ta=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var J=D.h;J.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ko(J,J.h),J.h=null))}if(D.G){const Tl=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(D.wa=Tl,rt(D.J,D.G,Tl))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),D=S;var ge=m;if(D.na=kd(D,D.L?D.ba:null,D.W),ge.L){Zo(D.h,ge);var Oe=ge,It=D.O;It&&(Oe.H=It),Oe.D&&(Kr(Oe),Xr(Oe)),D.g=ge}else xd(D);S.i.length>0&&si(S)}else Je[0]!="stop"&&Je[0]!="close"||ai(S,7);else S.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ai(S,7):lc(S):Je[0]!="noop"&&S.l&&S.l.qa(Je),S.A=0)}}Gr(4)}catch{}}var Ht=class{constructor(m,_){this.g=m,this.map=_}};function Wo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Jr(m){return m.h?1:m.g?m.g.size:0}function ei(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Ko(m,_){m.g?m.g.add(_):m.h=_}function Zo(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Wo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Jo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const S of m.g.values())_=_.concat(S.G);return _}return E(m.i)}var md=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vl(m,_){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const D=m[S].indexOf("=");let Q,J=null;D>=0?(Q=m[S].substring(0,D),J=m[S].substring(D+1)):Q=m[S],_(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function $n(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;m instanceof $n?(this.l=m.l,tn(this,m.j),this.o=m.o,this.g=m.g,ls(this,m.u),this.h=m.h,ec(this,yd(m.i)),this.m=m.m):m&&(_=String(m).match(md))?(this.l=!1,tn(this,_[1]||"",!0),this.o=ti(_[2]||""),this.g=ti(_[3]||"",!0),ls(this,_[4]),this.h=ti(_[5]||"",!0),ec(this,_[6]||"",!0),this.m=ti(_[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}$n.prototype.toString=function(){const m=[];var _=this.j;_&&m.push(xa(_,xl,!0),":");var S=this.g;return(S||_=="file")&&(m.push("//"),(_=this.o)&&m.push(xa(_,xl,!0),"@"),m.push(Ci(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(xa(S,S.charAt(0)=="/"?tc:gd,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",xa(S,pd)),m.join("")},$n.prototype.resolve=function(m){const _=Ft(this);let S=!!m.j;S?tn(_,m.j):S=!!m.o,S?_.o=m.o:S=!!m.g,S?_.g=m.g:S=m.u!=null;var D=m.h;if(S)ls(_,m.u);else if(S=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(D=_.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let ge=0;ge<Q.length;){const Oe=Q[ge++];Oe=="."?D&&ge==Q.length&&J.push(""):Oe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),D&&ge==Q.length&&J.push("")):(J.push(Oe),D=!0)}D=J.join("/")}else D=Q}return S?_.h=D:S=m.i.toString()!=="",S?ec(_,yd(m.i)):S=!!m.m,S&&(_.m=m.m),_};function Ft(m){return new $n(m)}function tn(m,_,S){m.j=S?ti(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function ls(m,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);m.u=_}else m.u=null}function ec(m,_,S){_ instanceof cs?(m.i=_,wl(m.i,m.l)):(S||(_=xa(_,os)),m.i=new cs(_,m.l))}function rt(m,_,S){m.i.set(_,S)}function va(m){return rt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ti(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function xa(m,_,S){return typeof m=="string"?(m=encodeURI(m).replace(_,zn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var xl=/[#\/\?@]/g,gd=/[#\?:]/g,tc=/[#\?]/g,os=/[#\?@]/g,pd=/#/g;function cs(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function jn(m){m.g||(m.g=new Map,m.h=0,m.i&&vl(m.i,function(_,S){m.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=cs.prototype,n.add=function(m,_){jn(this),this.i=null,m=us(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(_),this.h+=1,this};function bd(m,_){jn(m),_=us(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function nc(m,_){return jn(m),_=us(m,_),m.g.has(_)}n.forEach=function(m,_){jn(this),this.g.forEach(function(S,D){S.forEach(function(Q){m.call(_,Q,D,this)},this)},this)};function rc(m,_){jn(m);let S=[];if(typeof _=="string")nc(m,_)&&(S=S.concat(m.g.get(us(m,_))));else for(m=Array.from(m.g.values()),_=0;_<m.length;_++)S=S.concat(m[_]);return S}n.set=function(m,_){return jn(this),this.i=null,m=us(this,m),nc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=rc(this,m),m.length>0?String(m[0]):_):_};function _l(m,_,S){bd(m,_),S.length>0&&(m.i=null,m.g.set(us(m,_),E(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(let D=0;D<_.length;D++){var S=_[D];const Q=Ci(S);S=rc(this,S);for(let J=0;J<S.length;J++){let ge=Q;S[J]!==""&&(ge+="="+Ci(S[J])),m.push(ge)}}return this.i=m.join("&")};function yd(m){const _=new cs;return _.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),_}function us(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function wl(m,_){_&&!m.j&&(jn(m),m.i=null,m.g.forEach(function(S,D){const Q=D.toLowerCase();D!=Q&&(bd(this,D),_l(this,Q,S))},m)),m.j=_}function Rr(m,_){const S=new Tr;if(c.Image){const D=new Image;D.onload=b(cr,S,"TestLoadImage: loaded",!0,_,D),D.onerror=b(cr,S,"TestLoadImage: error",!1,_,D),D.onabort=b(cr,S,"TestLoadImage: abort",!1,_,D),D.ontimeout=b(cr,S,"TestLoadImage: timeout",!1,_,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else _(!1)}function ic(m,_){const S=new Tr,D=new AbortController,Q=setTimeout(()=>{D.abort(),cr(S,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:D.signal}).then(J=>{clearTimeout(Q),J.ok?cr(S,"TestPingServer: ok",!0,_):cr(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),cr(S,"TestPingServer: error",!1,_)})}function cr(m,_,S,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(S)}catch{}}function ds(){this.g=new sd}function ni(m){this.i=m.Sb||null,this.h=m.ab||!1}v(ni,ad),ni.prototype.g=function(){return new _a(this.i,this.h)};function _a(m,_){Tt.call(this),this.H=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(_a,Tt),n=_a.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=_,this.readyState=1,Dr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(_.body=m),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;El(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function El(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?hs(this):Dr(this),this.readyState==3&&El(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,hs(this))},n.Na=function(m){this.g&&(this.response=m,hs(this))},n.ga=function(){this.g&&hs(this)};function hs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Dr(m)}n.setRequestHeader=function(m,_){this.A.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=_.next();return m.join(`\r
`)};function Dr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ur(m){let _="";return _e(m,function(S,D){_+=D,_+=":",_+=S,_+=`\r
`}),_}function wa(m,_,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=ur(S),typeof m=="string"?S!=null&&Ci(S):rt(m,_,S))}function lt(m){Tt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(lt,Tt);var ri=/^https?$/i,sc=["POST","PUT"];n=lt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,_,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(J){Ea(this,J);return}if(m=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)S.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())S.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),Q=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(sc,_,void 0)>=0)||D||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of S)this.g.setRequestHeader(J,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){Ea(this,J)}};function Ea(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.o=5,ac(m),Ni(m)}function ac(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Kt(this,"complete"),Kt(this,"abort"),Ni(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},n.Xa=function(){Sa(this)};function Sa(m){if(m.h&&typeof l<"u"){if(m.v&&zr(m)==4)setTimeout(m.Ca.bind(m),0);else if(Kt(m,"readystatechange"),zr(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var D;if(D=J===0){let ge=String(m.D).match(md)[1]||null;!ge&&c.self&&c.self.location&&(ge=c.self.location.protocol.slice(0,-1)),D=!ri.test(ge?ge.toLowerCase():"")}S=D}if(S)Kt(m,"complete"),Kt(m,"success");else{m.o=6;try{var Q=zr(m)>2?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.ca()+"]",ac(m)}}finally{Ni(m)}}}}function Ni(m,_){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,_||Kt(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function zr(m){return m.g?m.g.readyState:0}n.ca=function(){try{return zr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Im(_)}};function cn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(m){const _={};m=(m.g&&zr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(V(m[D]))continue;var S=dd(m[D]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=_[Q]||[];_[Q]=J,J.push(S)}de(_,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(m,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||_}function fs(m){this.za=0,this.i=[],this.j=new Tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ii("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ii("baseRetryDelayMs",5e3,m),this.Za=ii("retryDelaySeedMs",1e4,m),this.Ta=ii("forwardChannelMaxRetries",2,m),this.va=ii("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(m&&m.concurrentRequestLimit),this.Ba=new ds,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=fs.prototype,n.ka=8,n.I=1,n.connect=function(m,_,S,D){Ut(0),this.W=m,this.H=_||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.J=kd(this,null,this.W),si(this)};function lc(m){if(Sl(m),m.I==3){var _=m.V++,S=Ft(m.J);if(rt(S,"SID",m.M),rt(S,"RID",_),rt(S,"TYPE","terminate"),ka(m,S),_=new Cr(m,m.j,_),_.M=2,_.A=va(Ft(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.A,S=!0),S||(_.g=Ad(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Xr(_)}Sd(m)}function ms(m){m.g&&(cc(m),m.g.cancel(),m.g=null)}function Sl(m){ms(m),m.v&&(c.clearTimeout(m.v),m.v=null),Al(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function si(m){if(!Xo(m.h)&&!m.m){m.m=!0;var _=m.Ea;X||k(),F||(X(),F=!0),C.add(_,m),m.D=0}}function kl(m,_){return Jr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=_.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Qr(g(m.Ea,m,_),Ed(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Q=new Cr(this,this.j,m);let J=this.o;if(this.U&&(J?(J=O(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=vd(this,Q,_),S=Ft(this.J),rt(S,"RID",m),rt(S,"CVER",22),this.G&&rt(S,"X-HTTP-Session-Id",this.G),ka(this,S),J&&(this.R?_="headers="+Ci(ur(J))+"&"+_:this.u&&wa(S,this.u,J)),Ko(this.h,Q),this.Ra&&rt(S,"TYPE","init"),this.S?(rt(S,"$req",_),rt(S,"SID","null"),Q.U=!0,Wr(Q,S,null)):Wr(Q,S,_),this.I=2}}else this.I==3&&(m?oc(this,m):this.i.length==0||Xo(this.h)||oc(this))};function oc(m,_){var S;_?S=_.l:S=m.V++;const D=Ft(m.J);rt(D,"SID",m.M),rt(D,"RID",S),rt(D,"AID",m.K),ka(m,D),m.u&&m.o&&wa(D,m.u,m.o),S=new Cr(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),_&&(m.i=_.G.concat(m.i)),_=vd(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Ko(m.h,S),Wr(S,D,_)}function ka(m,_){m.H&&_e(m.H,function(S,D){rt(_,D,S)}),m.l&&_e({},function(S,D){rt(_,D,S)})}function vd(m,_,S){S=Math.min(m.i.length,S);const D=m.l?g(m.l.Ka,m.l,m):null;e:{var Q=m.i;let Oe=-1;for(;;){const It=["count="+S];Oe==-1?S>0?(Oe=Q[0].g,It.push("ofs="+Oe)):Oe=0:It.push("ofs="+Oe);let Je=!0;for(let vt=0;vt<S;vt++){var J=Q[vt].g;const dr=Q[vt].map;if(J-=Oe,J<0)Oe=Math.max(0,Q[vt].g-100),Je=!1;else try{J="req"+J+"_"||"";try{var ge=dr instanceof Map?dr:Object.entries(dr);for(const[li,jr]of ge){let Mr=jr;h(jr)&&(Mr=as(jr)),It.push(J+li+"="+encodeURIComponent(Mr))}}catch(li){throw It.push(J+"type="+encodeURIComponent("_badmap")),li}}catch{D&&D(dr)}}if(Je){ge=It.join("&");break e}}ge=void 0}return m=m.i.splice(0,S),_.G=m,ge}function xd(m){if(!m.g&&!m.v){m.Y=1;var _=m.Da;X||k(),F||(X(),F=!0),C.add(_,m),m.A=0}}function Aa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Qr(g(m.Da,m),Ed(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,_d(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Qr(g(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),ms(this),_d(this))};function cc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function _d(m){m.g=new Cr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var _=Ft(m.na);rt(_,"RID","rpc"),rt(_,"SID",m.M),rt(_,"AID",m.K),rt(_,"CI",m.F?"0":"1"),!m.F&&m.ia&&rt(_,"TO",m.ia),rt(_,"TYPE","xmlhttp"),ka(m,_),m.u&&m.o&&wa(_,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=va(Ft(_)),S.u=null,S.R=!0,bl(S,m)}n.Va=function(){this.C!=null&&(this.C=null,ms(this),Aa(this),Ut(19))};function Al(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function wd(m,_){var S=null;if(m.g==_){Al(m),cc(m),m.g=null;var D=2}else if(ei(m.h,_))S=_.G,Zo(m.h,_),D=1;else return;if(m.I!=0){if(_.o)if(D==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var Q=m.D;D=pl(),Kt(D,new $r(D,S)),si(m)}else xd(m);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(D==1&&kl(m,_)||D==2&&Aa(m)))switch(S&&S.length>0&&(_=m.h,_.i=_.i.concat(S)),Q){case 1:ai(m,5);break;case 4:ai(m,10);break;case 3:ai(m,6);break;default:ai(m,2)}}}function Ed(m,_){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*_}function ai(m,_){if(m.j.info("Error code "+_),_==2){var S=g(m.bb,m),D=m.Ua;const Q=!D;D=new $n(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tn(D,"https"),va(D),Q?Rr(D.toString(),S):ic(D.toString(),S)}else Ut(2);m.I=0,m.l&&m.l.pa(_),Sd(m),Sl(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Sd(m){if(m.I=0,m.ja=[],m.l){const _=Jo(m.h);(_.length!=0||m.i.length!=0)&&(A(m.ja,_),A(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function kd(m,_,S){var D=S instanceof $n?Ft(S):new $n(S);if(D.g!="")_&&(D.g=_+"."+D.g),ls(D,D.u);else{var Q=c.location;D=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new $n(null);D&&tn(J,D),_&&(J.g=_),Q&&ls(J,Q),S&&(J.h=S),D=J}return S=m.G,_=m.wa,S&&_&&rt(D,S,_),rt(D,"VER",m.ka),ka(m,D),D}function Ad(m,_,S){if(_&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Aa&&!m.ma?new lt(new ni({ab:S})):new lt(m.ma),_.Fa(m.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Td(){}n=Td.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function gs(){}gs.prototype.g=function(m,_){return new Tn(m,_)};function Tn(m,_){Tt.call(this),this.g=new fs(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(m?m["X-WebChannel-Client-Profile"]=_.sa:m={"X-WebChannel-Client-Profile":_.sa}),this.g.U=m,(m=_&&_.Qb)&&!V(m)&&(this.g.u=m),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Di(this)}v(Tn,Tt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){lc(this.g)},Tn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=as(m),m=S);_.i.push(new Ht(_.Ya++,m)),_.I==3&&si(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,Tn.Z.N.call(this)};function Cd(m){on.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const S in _){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}v(Cd,on);function Nd(){lr.call(this),this.status=1}v(Nd,lr);function Di(m){this.g=m}v(Di,Td),Di.prototype.ra=function(){Kt(this.g,"a")},Di.prototype.qa=function(m){Kt(this.g,new Cd(m))},Di.prototype.pa=function(m){Kt(this.g,new Nd)},Di.prototype.oa=function(){Kt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,hk=function(){return new gs},dk=function(){return pl()},uk=Mt,j0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,Zh=ba,Qo.COMPLETE="complete",ck=Qo,ld.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,nu=ld,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,ok=lt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const $1="@firebase/firestore",Q1="4.9.3";class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Io="12.7.0";const tl=new KS("@firebase/firestore");function lo(){return tl.logLevel}function ye(n,...e){if(tl.logLevel<=Qe.DEBUG){const t=e.map(Tb);tl.debug(`Firestore (${Io}): ${n}`,...t)}}function Ji(n,...e){if(tl.logLevel<=Qe.ERROR){const t=e.map(Tb);tl.error(`Firestore (${Io}): ${n}`,...t)}}function wo(n,...e){if(tl.logLevel<=Qe.WARN){const t=e.map(Tb);tl.warn(`Firestore (${Io}): ${n}`,...t)}}function Tb(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,fk(n,r,t)}function fk(n,e,t){let r=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ji(r),new Error(r)}function nt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||fk(e,a,r)}function Ie(n,e){return n}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends ll{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class mk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xn.UNAUTHENTICATED)))}shutdown(){}}class aM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lM{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let l=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new mk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class oM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tk(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const r=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Cb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=dM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function M0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return $p(a)===$p(l)?Fe(a,l):$p(a)?1:-1}return Fe(n.length,e.length)}const hM=55296,fM=57343;function $p(n){const e=n.charCodeAt(0);return e>=hM&&e<=fM}function Eo(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const W1="__name__";class fi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=fi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Fe(e.length,t.length)}static compareSegments(e,t){const r=fi.isNumericId(e),a=fi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?fi.extractNumericId(e).compare(fi.extractNumericId(t)):M0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class ft extends fi{construct(e,t,r){return new ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ft(t)}static emptyPath(){return new ft([])}}const mM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends fi{construct(e,t,r){return new gn(e,t,r)}static isValidIdentifier(e){return mM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W1}static keyField(){return new gn([W1])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new be(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new be(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(l(),a++)}if(l(),c)throw new be(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ft.fromString(e))}static fromName(e){return new Ae(ft.fromString(e).popFirst(5))}static empty(){return new Ae(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ft(e.slice()))}}function gk(n,e,t){if(!t)throw new be(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gM(n,e,t,r){if(e===!0&&r===!0)throw new be(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function X1(n){if(!Ae.isDocumentKey(n))throw new be(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K1(n){if(Ae.isDocumentKey(n))throw new be(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pk(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function Rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rm(n);throw new be(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pM(n,e){if(e<=0)throw new be(se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Xt(n,e){const t={typeString:n};return e&&(t.value=e),t}function qu(n,e){if(!pk(n))throw new be(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new be(se.INVALID_ARGUMENT,t);return!0}const Z1=-62135596800,J1=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*J1);return new bt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Z1)throw new be(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J1}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Xt("string",bt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new bt(0,0))}static max(){return new ze(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function bM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new Js(a,Ae.empty(),e)}function yM(n){return new Js(n.readTime,n.key,Tu)}class Js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Js(ze.min(),Ae.empty(),Tu)}static max(){return new Js(ze.max(),Ae.empty(),Tu)}}function vM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}const xM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oo(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==xM)throw n;ye("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,r)=>{t(e)}))}static reject(e){return new ce(((t,r)=>{r(e)}))}static waitFor(e){return new ce(((t,r)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&t()}),(f=>r(f)))})),c=!0,l===a&&t()}))}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next((a=>a?ce.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ce(((r,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const g=f;t(e[g]).next((b=>{c[g]=b,++h,h===l&&r(c)}),(b=>a(b)))}}))}static doWhile(e,t){return new ce(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function wM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(n){return n.name==="IndexedDbTransactionError"}class im{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}im.ce=-1;const Nb=-1;function sm(n){return n==null}function bf(n){return n===0&&1/n==-1/0}function EM(n){return typeof n=="number"&&Number.isInteger(n)&&!bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const bk="";function SM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ew(e)),e=kM(n.get(t),e);return ew(e)}function kM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case bk:t+="";break;default:t+=l}}return t}function ew(n){return n+bk+""}function tw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ca(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class St{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??mn.RED,this.left=a??mn.EMPTY,this.right=l??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new mn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return mn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nw(this.data.getIterator())}getIteratorFrom(e){return new nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nr{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new nr([])}unionWith(e){let t=new Jt(gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class vk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new vk("Invalid base64 string: "+l):l}})(e);return new bn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const AM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=AM.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ta(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}const xk="server_timestamp",_k="__type__",wk="__previous_value__",Ek="__local_write_time__";function Rb(n){return(n?.mapValue?.fields||{})[_k]?.stringValue===xk}function am(n){const e=n.mapValue.fields[wk];return Rb(e)?am(e):e}function Cu(n){const e=ea(n.mapValue.fields[Ek].timestampValue);return new bt(e.seconds,e.nanos)}class TM{constructor(e,t,r,a,l,c,h,f,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=b}}const yf="(default)";class Nu{constructor(e,t){this.projectId=e,this.database=t||yf}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===yf}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}const Sk="__type__",CM="__max__",Ph={mapValue:{}},kk="__vector__",vf="value";function na(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rb(n)?4:RM(n)?9007199254740991:NM(n)?10:11:Ne(28295,{value:n})}function wi(n,e){if(n===e)return!0;const t=na(n);if(t!==na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cu(n).isEqual(Cu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ea(a.timestampValue),h=ea(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return ta(a.bytesValue).isEqual(ta(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Pt(a.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Pt(a.integerValue)===Pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pt(a.doubleValue),h=Pt(l.doubleValue);return c===h?bf(c)===bf(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Eo(n.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(tw(c)!==tw(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!wi(c[f],h[f])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function Ru(n,e){return(n.values||[]).find((t=>wi(t,e)))!==void 0}function So(n,e){if(n===e)return 0;const t=na(n),r=na(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Pt(l.integerValue||l.doubleValue),f=Pt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return rw(n.timestampValue,e.timestampValue);case 4:return rw(Cu(n),Cu(e));case 5:return M0(n.stringValue,e.stringValue);case 6:return(function(l,c){const h=ta(l),f=ta(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const b=Fe(h[g],f[g]);if(b!==0)return b}return Fe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Fe(Pt(l.latitude),Pt(c.latitude));return h!==0?h:Fe(Pt(l.longitude),Pt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return iw(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},f=c.fields||{},g=h[vf]?.arrayValue,b=f[vf]?.arrayValue,v=Fe(g?.values?.length||0,b?.values?.length||0);return v!==0?v:iw(g,b)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ph.mapValue&&c===Ph.mapValue)return 0;if(l===Ph.mapValue)return 1;if(c===Ph.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),g=c.fields||{},b=Object.keys(g);f.sort(),b.sort();for(let v=0;v<f.length&&v<b.length;++v){const x=M0(f[v],b[v]);if(x!==0)return x;const E=So(h[f[v]],g[b[v]]);if(E!==0)return E}return Fe(f.length,b.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function rw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=ea(n),r=ea(e),a=Fe(t.seconds,r.seconds);return a!==0?a:Fe(t.nanos,r.nanos)}function iw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=So(t[a],r[a]);if(l)return l}return Fe(t.length,r.length)}function ko(n){return I0(n)}function I0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ea(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ta(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=I0(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${I0(t.fields[c])}`;return a+"}"})(n.mapValue):Ne(61005,{value:n})}function Jh(n){switch(na(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=am(n);return e?16+Jh(e):16;case 5:return 2*n.stringValue.length;case 6:return ta(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Jh(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ca(r.fields,((l,c)=>{a+=l.length+Jh(c)})),a})(n.mapValue);default:throw Ne(13486,{value:n})}}function sw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function O0(n){return!!n&&"integerValue"in n}function Db(n){return!!n&&"arrayValue"in n}function aw(n){return!!n&&"nullValue"in n}function lw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ef(n){return!!n&&"mapValue"in n}function NM(n){return(n?.mapValue?.fields||{})[Sk]?.stringValue===kk}function ou(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ca(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ou(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ou(n.arrayValue.values[t]);return e}return{...n}}function RM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CM}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(t)}setAll(e){let t=gn.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}c?r[h.lastSegment()]=ou(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ef(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ca(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Bn(ou(this.value))}}function Ak(n){const e=[];return ca(n.fields,((t,r)=>{const a=new gn([t]);if(ef(r)){const l=Ak(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new nr(e)}class wn{constructor(e,t,r,a,l,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new wn(e,0,ze.min(),ze.min(),ze.min(),Bn.empty(),0)}static newFoundDocument(e,t,r,a){return new wn(e,1,t,ze.min(),r,a,0)}static newNoDocument(e,t){return new wn(e,2,t,ze.min(),ze.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,ze.min(),ze.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xf{constructor(e,t){this.position=e,this.inclusive=t}}function ow(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=Ae.comparator(Ae.fromName(c.referenceValue),t.key):r=So(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function cw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wi(n.position[t],e.position[t]))return!1;return!0}class Du{constructor(e,t="asc"){this.field=e,this.dir=t}}function DM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Tk{}class Wt extends Tk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jM(e,t,r):t==="array-contains"?new OM(e,r):t==="in"?new VM(e,r):t==="not-in"?new PM(e,r):t==="array-contains-any"?new LM(e,r):new Wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new MM(e,r):new IM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(So(t,this.value)):t!==null&&na(this.value)===na(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends Tk{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Hr(e,t)}matches(e){return Ck(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ck(n){return n.op==="and"}function Nk(n){return zM(n)&&Ck(n)}function zM(n){for(const e of n.filters)if(e instanceof Hr)return!1;return!0}function V0(n){if(n instanceof Wt)return n.field.canonicalString()+n.op.toString()+ko(n.value);if(Nk(n))return n.filters.map((e=>V0(e))).join(",");{const e=n.filters.map((t=>V0(t))).join(",");return`${n.op}(${e})`}}function Rk(n,e){return n instanceof Wt?(function(r,a){return a instanceof Wt&&r.op===a.op&&r.field.isEqual(a.field)&&wi(r.value,a.value)})(n,e):n instanceof Hr?(function(r,a){return a instanceof Hr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,h)=>l&&Rk(c,a.filters[h])),!0):!1})(n,e):void Ne(19439)}function Dk(n){return n instanceof Wt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ko(t.value)}`})(n):n instanceof Hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Dk).join(" ,")+"}"})(n):"Filter"}class jM extends Wt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class MM extends Wt{constructor(e,t){super(e,"in",t),this.keys=zk("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class IM extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=zk("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function zk(n,e){return(e.arrayValue?.values||[]).map((t=>Ae.fromName(t.referenceValue)))}class OM extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Db(t)&&Ru(t.arrayValue,this.value)}}class VM extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ru(this.value.arrayValue,t)}}class PM extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ru(this.value.arrayValue,t)}}class LM extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Db(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ru(this.value.arrayValue,r)))}}class UM{constructor(e,t=null,r=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function uw(n,e=null,t=[],r=[],a=null,l=null,c=null){return new UM(n,e,t,r,a,l,c)}function zb(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>V0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),sm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ko(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ko(r))).join(",")),e.Te=t}return e.Te}function jb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Rk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cw(n.startAt,e.startAt)&&cw(n.endAt,e.endAt)}function P0(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Po{constructor(e,t=null,r=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BM(n,e,t,r,a,l,c,h){return new Po(n,e,t,r,a,l,c,h)}function lm(n){return new Po(n)}function dw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jk(n){return n.collectionGroup!==null}function cu(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Jt(gn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Du(l,r))})),t.has(gn.keyField().canonicalString())||e.Ie.push(new Du(gn.keyField(),r))}return e.Ie}function bi(n){const e=Ie(n);return e.Ee||(e.Ee=HM(e,cu(n))),e.Ee}function HM(n,e){if(n.limitType==="F")return uw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Du(a.field,l)}));const t=n.endAt?new xf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xf(n.startAt.position,n.startAt.inclusive):null;return uw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function L0(n,e){const t=n.filters.concat([e]);return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _f(n,e,t){return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function om(n,e){return jb(bi(n),bi(e))&&n.limitType===e.limitType}function Mk(n){return`${zb(bi(n))}|lt:${n.limitType}`}function oo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>Dk(a))).join(", ")}]`),sm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>ko(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>ko(a))).join(",")),`Target(${r})`})(bi(n))}; limitType=${n.limitType})`}function cm(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ae.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of cu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,f){const g=ow(c,h,f);return c.inclusive?g<=0:g<0})(r.startAt,cu(r),a)||r.endAt&&!(function(c,h,f){const g=ow(c,h,f);return c.inclusive?g>=0:g>0})(r.endAt,cu(r),a))})(n,e)}function FM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ik(n){return(e,t)=>{let r=!1;for(const a of cu(n)){const l=qM(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function qM(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(l,c,h){const f=c.data.field(l),g=h.data.field(l);return f!==null&&g!==null?So(f,g):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:n.dir})}}class ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return yk(this.inner)}size(){return this.innerSize}}const GM=new St(Ae.comparator);function es(){return GM}const Ok=new St(Ae.comparator);function ru(...n){let e=Ok;for(const t of n)e=e.insert(t.key,t);return e}function Vk(n){let e=Ok;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ya(){return uu()}function Pk(){return uu()}function uu(){return new ol((n=>n.toString()),((n,e)=>n.isEqual(e)))}const $M=new St(Ae.comparator),QM=new Jt(Ae.comparator);function qe(...n){let e=QM;for(const t of n)e=e.add(t);return e}const YM=new Jt(Fe);function WM(){return YM}function Mb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function Lk(n){return{integerValue:""+n}}function XM(n,e){return EM(e)?Lk(e):Mb(n,e)}class um{constructor(){this._=void 0}}function KM(n,e,t){return n instanceof zu?(function(a,l){const c={fields:{[_k]:{stringValue:xk},[Ek]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Rb(l)&&(l=am(l)),l&&(c.fields[wk]=l),{mapValue:c}})(t,e):n instanceof Ao?Bk(n,e):n instanceof To?Hk(n,e):(function(a,l){const c=Uk(a,l),h=hw(c)+hw(a.Ae);return O0(c)&&O0(a.Ae)?Lk(h):Mb(a.serializer,h)})(n,e)}function ZM(n,e,t){return n instanceof Ao?Bk(n,e):n instanceof To?Hk(n,e):t}function Uk(n,e){return n instanceof wf?(function(r){return O0(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class zu extends um{}class Ao extends um{constructor(e){super(),this.elements=e}}function Bk(n,e){const t=Fk(e);for(const r of n.elements)t.some((a=>wi(a,r)))||t.push(r);return{arrayValue:{values:t}}}class To extends um{constructor(e){super(),this.elements=e}}function Hk(n,e){let t=Fk(e);for(const r of n.elements)t=t.filter((a=>!wi(a,r)));return{arrayValue:{values:t}}}class wf extends um{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function hw(n){return Pt(n.integerValue||n.doubleValue)}function Fk(n){return Db(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ib{constructor(e,t){this.field=e,this.transform=t}}function JM(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Ao&&a instanceof Ao||r instanceof To&&a instanceof To?Eo(r.elements,a.elements,wi):r instanceof wf&&a instanceof wf?wi(r.Ae,a.Ae):r instanceof zu&&a instanceof zu})(n.transform,e.transform)}class eI{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dm{}function qk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hm(n.key,Dn.none()):new Gu(n.key,n.data,Dn.none());{const t=n.data,r=Bn.empty();let a=new Jt(gn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new ua(n.key,r,new nr(a.toArray()),Dn.none())}}function tI(n,e,t){n instanceof Gu?(function(a,l,c){const h=a.value.clone(),f=mw(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ua?(function(a,l,c){if(!tf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=mw(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(Gk(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function du(n,e,t,r){return n instanceof Gu?(function(l,c,h,f){if(!tf(l.precondition,c))return h;const g=l.value.clone(),b=gw(l.fieldTransforms,f,c);return g.setAll(b),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof ua?(function(l,c,h,f){if(!tf(l.precondition,c))return h;const g=gw(l.fieldTransforms,f,c),b=c.data;return b.setAll(Gk(l)),b.setAll(g),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(l,c,h){return tf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function nI(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=Uk(r.transform,a||null);l!=null&&(t===null&&(t=Bn.empty()),t.set(r.field,l))}return t||null}function fw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Eo(r,a,((l,c)=>JM(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gu extends dm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ua extends dm{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Gk(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function mw(n,e,t){const r=new Map;nt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);r.set(l.field,ZM(c,h,t[a]))}return r}function gw(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,KM(l,c,e))}return r}class hm extends dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rI extends dm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iI{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&tI(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Pk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const f=qk(c,h);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((t,r)=>fw(t,r)))&&Eo(this.baseMutations,e.baseMutations,((t,r)=>fw(t,r)))}}class Ob{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return $M})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Ob(e,t,r,a)}}class sI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aI{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yt,$e;function lI(n){switch(n){case se.OK:return Ne(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function $k(n){if(n===void 0)return Ji("GRPC error has no .code"),se.UNKNOWN;switch(n){case Yt.OK:return se.OK;case Yt.CANCELLED:return se.CANCELLED;case Yt.UNKNOWN:return se.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return se.INTERNAL;case Yt.UNAVAILABLE:return se.UNAVAILABLE;case Yt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Yt.NOT_FOUND:return se.NOT_FOUND;case Yt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Yt.ABORTED:return se.ABORTED;case Yt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Yt.DATA_LOSS:return se.DATA_LOSS;default:return Ne(39323,{code:n})}}($e=Yt||(Yt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function oI(){return new TextEncoder}const cI=new Ys([4294967295,4294967295],0);function pw(n){const e=oI().encode(n),t=new lk;return t.update(e),new Uint8Array(t.digest())}function bw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ys([t,r],0),new Ys([a,l],0)]}class Vb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ys.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Ys.fromNumber(r)));return a.compare(cI)===1&&(a=new Ys([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=pw(e),[r,a]=bw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Vb(l,a,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=pw(e),[r,a]=bw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fm{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new fm(ze.min(),a,new St(Fe),es(),qe())}}class $u{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $u(r,t,qe(),qe(),qe())}}class nf{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class Qk{constructor(e,t){this.targetId=e,this.Ce=t}}class Yk{constructor(e,t,r=bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class yw{constructor(){this.ve=0,this.Fe=vw(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),t=qe(),r=qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ne(38017,{changeType:l})}})),new $u(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=vw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uI{constructor(e){this.Ge=e,this.ze=new Map,this.je=es(),this.Je=Lh(),this.He=Lh(),this.Ye=new St(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(P0(l))if(r===0){const c=new Ae(l.path);this.et(t,c,wn.newNoDocument(c,ze.min()))}else nt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=ta(r).toUint8Array()}catch(f){if(f instanceof vk)return wo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Vb(c,a,l)}catch(f){return wo(f instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&P0(h.target)){const f=new Ae(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,wn.newNoDocument(f,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=qe();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new fm(e,t,this.Ye,this.je,r);return this.je=es(),this.Je=Lh(),this.He=Lh(),this.Ye=new St(Fe),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new yw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Jt(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Jt(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Lh(){return new St(Ae.comparator)}function vw(){return new St(Ae.comparator)}const dI={asc:"ASCENDING",desc:"DESCENDING"},hI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fI={and:"AND",or:"OR"};class mI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function U0(n,e){return n.useProto3Json||sm(e)?e:{value:e}}function Ef(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gI(n,e){return Ef(n,e.toTimestamp())}function yi(n){return nt(!!n,49232),ze.fromTimestamp((function(t){const r=ea(t);return new bt(r.seconds,r.nanos)})(n))}function Pb(n,e){return B0(n,e).canonicalString()}function B0(n,e){const t=(function(a){return new ft(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Xk(n){const e=ft.fromString(n);return nt(tA(e),10190,{key:e.toString()}),e}function H0(n,e){return Pb(n.databaseId,e.path)}function Qp(n,e){const t=Xk(e);if(t.get(1)!==n.databaseId.projectId)throw new be(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(Zk(t))}function Kk(n,e){return Pb(n.databaseId,e)}function pI(n){const e=Xk(n);return e.length===4?ft.emptyPath():Zk(e)}function F0(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Zk(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xw(n,e,t){return{name:H0(n,e),fields:t.value.mapValue.fields}}function bI(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,b){return g.useProto3Json?(nt(b===void 0||typeof b=="string",58123),bn.fromBase64String(b||"")):(nt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),bn.fromUint8Array(b||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const b=g.code===void 0?se.UNKNOWN:$k(g.code);return new be(b,g.message||"")})(c);t=new Yk(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Qp(n,r.document.name),l=yi(r.document.updateTime),c=r.document.createTime?yi(r.document.createTime):ze.min(),h=new Bn({mapValue:{fields:r.document.fields}}),f=wn.newFoundDocument(a,l,c,h),g=r.targetIds||[],b=r.removedTargetIds||[];t=new nf(g,b,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Qp(n,r.document),l=r.readTime?yi(r.readTime):ze.min(),c=wn.newNoDocument(a,l),h=r.removedTargetIds||[];t=new nf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Qp(n,r.document),l=r.removedTargetIds||[];t=new nf([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new aI(a,l),h=r.targetId;t=new Qk(h,c)}}return t}function yI(n,e){let t;if(e instanceof Gu)t={update:xw(n,e.key,e.value)};else if(e instanceof hm)t={delete:H0(n,e.key)};else if(e instanceof ua)t={update:xw(n,e.key,e.data),updateMask:TI(e.fieldMask)};else{if(!(e instanceof rI))return Ne(16599,{Vt:e.type});t={verify:H0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof zu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ao)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof To)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:gI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(n,e.precondition)),t}function vI(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?yi(a.updateTime):yi(l);return c.isEqual(ze.min())&&(c=yi(l)),new eI(c,a.transformResults||[])})(t,e)))):[]}function xI(n,e){return{documents:[Kk(n,e.path)]}}function _I(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Kk(n,a);const l=(function(g){if(g.length!==0)return eA(Hr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((b=>(function(x){return{field:co(x.field),direction:SI(x.dir)}})(b)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=U0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function wI(n){let e=pI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){nt(r===1,65062);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=(function(v){const x=Jk(v);return x instanceof Hr&&Nk(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((x=>(function(A){return new Du(uo(A.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let x;return x=typeof v=="object"?v.value:v,sm(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(v){const x=!!v.before,E=v.values||[];return new xf(E,x)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const x=!v.before,E=v.values||[];return new xf(E,x)})(t.endAt)),BM(e,a,c,l,h,"F",f,g)}function EI(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Jk(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=uo(t.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=uo(t.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=uo(t.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=uo(t.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Wt.create(uo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Hr.create(t.compositeFilter.filters.map((r=>Jk(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function SI(n){return dI[n]}function kI(n){return hI[n]}function AI(n){return fI[n]}function co(n){return{fieldPath:n.canonicalString()}}function uo(n){return gn.fromServerFormat(n.fieldPath)}function eA(n){return n instanceof Wt?(function(t){if(t.op==="=="){if(lw(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NAN"}};if(aw(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lw(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NAN"}};if(aw(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(t.field),op:kI(t.op),value:t.value}}})(n):n instanceof Hr?(function(t){const r=t.getFilters().map((a=>eA(a)));return r.length===1?r[0]:{compositeFilter:{op:AI(t.op),filters:r}}})(n):Ne(54877,{filter:n})}function TI(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Us{constructor(e,t,r,a,l=ze.min(),c=ze.min(),h=bn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CI{constructor(e){this.yt=e}}function NI(n){const e=wI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_f(e,e.limit,"L"):e}class RI{constructor(){this.Cn=new DI}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Js.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class DI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Jt(ft.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Jt(ft.comparator)).toArray()}}const _w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nA=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(nA,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Co(0)}static cr(){return new Co(-1)}}const ww="LruGarbageCollector",zI=1048576;function Ew([n,e],[t,r]){const a=Fe(n,t);return a===0?Fe(e,r):a}class jI{constructor(e){this.Ir=e,this.buffer=new Jt(Ew),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ew(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(ww,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?ye(ww,"Ignoring IndexedDB error during garbage collection: ",t):await Oo(t)}await this.Vr(3e5)}))}}class II{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(im.ce);const r=new jI(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(_w)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_w):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,h,f,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,t)))).next((v=>(l=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(g=Date.now(),lo()<=Qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-b}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function OI(n,e){return new II(n,e)}class VI{constructor(){this.changes=new ol((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LI{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&du(r.mutation,a,nr.empty(),bt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=qe()){const a=Ya();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=ru();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ya();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,qe())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,a){let l=es();const c=uu(),h=(function(){return uu()})();return t.forEach(((f,g)=>{const b=r.get(g.key);a.has(g.key)&&(b===void 0||b.mutation instanceof ua)?l=l.insert(g.key,g):b!==void 0?(c.set(g.key,b.mutation.getFieldMask()),du(b.mutation,g,b.mutation.getFieldMask(),bt.now())):c.set(g.key,nr.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((g,b)=>c.set(g,b))),t.forEach(((g,b)=>h.set(g,new PI(b,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=uu();let a=new St(((c,h)=>c-h)),l=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=t.get(f);if(g===null)return;let b=r.get(f)||nr.empty();b=h.applyToLocalView(g,b),r.set(f,b);const v=(a.get(h.batchId)||qe()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,b=f.value,v=Pk();b.forEach((x=>{if(!l.has(x)){const E=qk(t.get(x),r.get(x));E!==null&&v.set(x,E),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ce.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ce.resolve(Ya());let h=Tu,f=l;return c.next((g=>ce.forEach(g,((b,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(b)?ce.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{f=f.insert(b,x)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,f,g,qe()))).next((b=>({batchId:h,changes:Vk(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((r=>{let a=ru();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(e,l).next((h=>ce.forEach(h,(f=>{const g=(function(v,x){return new Po(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((b=>{b.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((f,g)=>{const b=g.getKey();c.get(b)===null&&(c=c.insert(b,wn.newInvalidDocument(b)))}));let h=ru();return c.forEach(((f,g)=>{const b=l.get(f);b!==void 0&&du(b.mutation,g,nr.empty(),bt.now()),cm(t,g)&&(h=h.insert(f,g))})),h}))}}class UI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:yi(a.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:NI(a.bundledQuery),readTime:yi(a.readTime)}})(t)),ce.resolve()}}class BI{constructor(){this.overlays=new St(Ae.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ya();return ce.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),ce.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const a=Ya(),l=t.length+1,c=new Ae(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&f.largestBatchId>r&&a.set(f.getKey(),f)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new St(((g,b)=>g-b));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let b=l.get(g.largestBatchId);b===null&&(b=Ya(),l=l.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const h=Ya(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,b)=>h.set(g,b))),!(h.size()>=a)););return ce.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new sI(t,r));let l=this.qr.get(t);l===void 0&&(l=qe(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class HI{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}class Lb{constructor(){this.Qr=new Jt(rn.$r),this.Ur=new Jt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new rn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new rn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ae(new ft([])),r=new rn(t,e),a=new rn(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ft([])),r=new rn(t,e),a=new rn(t,e+1);let l=qe();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new rn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}class FI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(rn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iI(l,t,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new rn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Nb:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);l.push(h)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jt(Fe);return t.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{r=r.add(h.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Ae.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Ae(l),0);let h=new Jt(Fe);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Yr)),!0)}),c),ce.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){nt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new rn(t,0),a=this.Zr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qI{constructor(e){this.ri=e,this.docs=(function(){return new St(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=es();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():wn.newInvalidDocument(a))})),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=es();const c=t.path,h=new Ae(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:b}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||vM(yM(b),r)<=0||(a.has(b.key)||cm(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ne(9500)}ii(e,t){return ce.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new GI(this)}getSize(e){return ce.resolve(this.size)}}class GI extends VI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class $I{constructor(e){this.persistence=e,this.si=new ol((t=>zb(t)),jb),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Lb,this.targetCount=0,this.ai=Co.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Co(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}class rA{constructor(e,t){this.ui={},this.overlays={},this.ci=new im(0),this.li=!1,this.li=!0,this.hi=new HI,this.referenceDelegate=e(this),this.Pi=new $I(this),this.indexManager=new RI,this.remoteDocumentCache=(function(a){return new qI(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new CI(t),this.Ii=new UI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new FI(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const a=new QI(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class QI extends _M{constructor(e){super(),this.currentSequenceNumber=e}}class Ub{constructor(e){this.persistence=e,this.Ri=new Lb,this.Vi=null}static mi(e){return new Ub(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const a=Ae.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ze.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Sf{constructor(e,t){this.persistence=e,this.pi=new ol((r=>SM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=OI(this,t)}static mi(e,t){return new Sf(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ce.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ce.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((h=>{h||(r++,l.removeEntry(c,ze.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jh(e.data.value)),t}br(e,t,r){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ce.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bb{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=qe(),a=qe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Bb(e,t.fromCache,r,a)}}class YI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Gj()?8:wM(Fj())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new YI;return this.Ss(e,t,c).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(lo()<=Qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(lo()<=Qe.DEBUG&&ye("QueryEngine","Query:",oo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(lo()<=Qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):ce.resolve())}ys(e,t){if(dw(t))return ce.resolve(null);let r=bi(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=_f(t,null,"F"),r=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=qe(...l);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const g=this.Ds(t,h);return this.Cs(t,g,c,f.readTime)?this.ys(e,_f(t,null,"F")):this.vs(e,g,t,f)}))))})))))}ws(e,t,r,a){return dw(t)||a.isEqual(ze.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?ce.resolve(null):(lo()<=Qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),oo(t)),this.vs(e,c,t,bM(a,Tu)).next((h=>h)))}))}Ds(e,t){let r=new Jt(Ik(e));return t.forEach(((a,l)=>{cm(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return lo()<=Qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",oo(t)),this.ps.getDocumentsMatchingQuery(e,t,Js.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Hb="LocalStore",XI=3e8;class KI{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new St(Fe),this.xs=new ol((l=>zb(l)),jb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ZI(n,e,t,r){return new KI(n,e,t,r)}async function iA(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let f=qe();for(const g of a){c.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}for(const g of l){h.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}return t.localDocuments.getDocuments(r,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function JI(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,b){const v=g.batch,x=v.keys();let E=ce.resolve();return x.forEach((A=>{E=E.next((()=>b.getEntry(f,A))).next((R=>{const N=g.docVersions.get(A);nt(N!==null,48541),R.version.compareTo(N)<0&&(v.applyToRemoteDocument(R,g),R.isValidDocument()&&(R.setReadTime(g.commitVersion),b.addEntry(R)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=qe();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function sA(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function e5(n,e){const t=Ie(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((b,v)=>{const x=a.get(v);if(!x)return;h.push(t.Pi.removeMatchingKeys(l,b.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,b.addedDocuments,v))));let E=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(bn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):b.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(b.resumeToken,r)),a=a.insert(v,E),(function(R,N,z){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=XI?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(x,E,b)&&h.push(t.Pi.updateTargetData(l,E))}));let f=es(),g=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))})),h.push(t5(l,c,e.documentUpdates).next((b=>{f=b.ks,g=b.qs}))),!r.isEqual(ze.min())){const b=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(b)}return ce.waitFor(h).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,f,g))).next((()=>f))})).then((l=>(t.Ms=a,l)))}function t5(n,e,t){let r=qe(),a=qe();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=es();return t.forEach(((h,f)=>{const g=l.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ye(Hb,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function n5(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Nb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function r5(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,ce.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new Us(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function q0(n,e,t){const r=Ie(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Vo(c))throw c;ye(Hb,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Sw(n,e,t){const r=Ie(n);let a=ze.min(),l=qe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,b){const v=Ie(f),x=v.xs.get(b);return x!==void 0?ce.resolve(v.Ms.get(x)):v.Pi.getTargetData(g,b)})(r,c,bi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:ze.min(),t?l:qe()))).next((h=>(i5(r,FM(e),h),{documents:h,Qs:l})))))}function i5(n,e,t){let r=n.Os.get(e)||ze.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class kw{constructor(){this.activeTargetIds=WM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s5{constructor(){this.Mo=new kw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class a5{Oo(e){}shutdown(){}}const Aw="ConnectivityMonitor";class Tw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Aw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Aw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uh=null;function G0(){return Uh===null?Uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uh++,"0x"+Uh.toString(16)}const Yp="RestConnection",l5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===yf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=G0(),h=this.zo(e,t.toUriEncodedString());ye(Yp,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:g}=new URL(h),b=Fu(g);return this.Jo(e,h,f,r,b).then((v=>(ye(Yp,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw wo(Yp,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",r),v}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=l5[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class c5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class u5 extends o5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=G0();return new Promise(((h,f)=>{const g=new ok;g.setWithCredentials(!0),g.listenOnce(ck.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Zh.NO_ERROR:const v=g.getResponseJson();ye(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case Zh.TIMEOUT:ye(vn,`RPC '${e}' ${c} timed out`),f(new be(se.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const x=g.getStatus();if(ye(vn,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E?.error;if(A&&A.status&&A.message){const R=(function(z){const P=z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(P)>=0?P:se.UNKNOWN})(A.status);f(new be(R,A.message))}else f(new be(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new be(se.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(vn,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);ye(vn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",b,r,15)}))}T_(e,t,r){const a=G0(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=hk(),h=dk(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const b=l.join("");ye(vn,`Creating RPC '${e}' stream ${a}: ${b}`,f);const v=c.createWebChannel(b,f);this.I_(v);let x=!1,E=!1;const A=new c5({Yo:N=>{E?ye(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(x||(ye(vn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),ye(vn,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Zo:()=>v.close()}),R=(N,z,P)=>{N.listen(z,(q=>{try{P(q)}catch(L){setTimeout((()=>{throw L}),0)}}))};return R(v,nu.EventType.OPEN,(()=>{E||(ye(vn,`RPC '${e}' stream ${a} transport opened.`),A.o_())})),R(v,nu.EventType.CLOSE,(()=>{E||(E=!0,ye(vn,`RPC '${e}' stream ${a} transport closed`),A.a_(),this.E_(v))})),R(v,nu.EventType.ERROR,(N=>{E||(E=!0,wo(vn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),A.a_(new be(se.UNAVAILABLE,"The operation could not be completed")))})),R(v,nu.EventType.MESSAGE,(N=>{if(!E){const z=N.data[0];nt(!!z,16349);const P=z,q=P?.error||P[0]?.error;if(q){ye(vn,`RPC '${e}' stream ${a} received error:`,q);const L=q.status;let X=(function(k){const j=Yt[k];if(j!==void 0)return $k(j)})(L),F=q.message;X===void 0&&(X=se.INTERNAL,F="Unknown error status: "+L+" with message "+q.message),E=!0,A.a_(new be(X,F)),v.close()}else ye(vn,`RPC '${e}' stream ${a} received:`,z),A.u_(z)}})),R(h,uk.STAT_EVENT,(N=>{N.stat===j0.PROXY?ye(vn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===j0.NOPROXY&&ye(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Wp(){return typeof document<"u"?document:null}function mm(n){return new mI(n,!0)}class aA{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Cw="PersistentStream";class lA{constructor(e,t,r,a,l,c,h,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ji(t.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new be(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(Cw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(Cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class d5 extends lA{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=bI(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?yi(c.readTime):ze.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=F0(this.serializer),t.addTarget=(function(l,c){let h;const f=c.target;if(h=P0(f)?{documents:xI(l,f)}:{query:_I(l,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Wk(l,c.resumeToken);const g=U0(l,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=Ef(l,c.snapshotVersion.toTimestamp());const g=U0(l,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=EI(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=F0(this.serializer),t.removeTarget=e,this.q_(t)}}class h5 extends lA{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vI(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=F0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>yI(this.serializer,r)))};this.q_(t)}}class f5{}class m5 extends f5{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,B0(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(se.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,B0(t,r),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nl="RemoteStore";class p5{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{cl(this)&&(ye(nl,"Restarting streams for network reachability change."),await(async function(f){const g=Ie(f);g.Ea.add(4),await Qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await gm(g)})(this))}))})),this.Ra=new g5(r,a)}}async function gm(n){if(cl(n))for(const e of n.da)await e(!0)}async function Qu(n){for(const e of n.da)await e(!1)}function oA(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),$b(t)?Gb(t):Lo(t).O_()&&qb(t,e))}function Fb(n,e){const t=Ie(n),r=Lo(t);t.Ia.delete(e),r.O_()&&cA(t,e),t.Ia.size===0&&(r.O_()?r.L_():cl(t)&&t.Ra.set("Unknown"))}function qb(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lo(n).Y_(e)}function cA(n,e){n.Va.Ue(e),Lo(n).Z_(e)}function Gb(n){n.Va=new uI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Lo(n).start(),n.Ra.ua()}function $b(n){return cl(n)&&!Lo(n).x_()&&n.Ia.size>0}function cl(n){return Ie(n).Ea.size===0}function uA(n){n.Va=void 0}async function b5(n){n.Ra.set("Online")}async function y5(n){n.Ia.forEach(((e,t)=>{qb(n,e)}))}async function v5(n,e){uA(n),$b(n)?(n.Ra.ha(e),Gb(n)):n.Ra.set("Unknown")}async function x5(n,e,t){if(n.Ra.set("Online"),e instanceof Yk&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(r){ye(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kf(n,r)}else if(e instanceof nf?n.Va.Ze(e):e instanceof Qk?n.Va.st(e):n.Va.tt(e),!t.isEqual(ze.min()))try{const r=await sA(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const b=l.Ia.get(g);b&&l.Ia.set(g,b.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const b=l.Ia.get(f);if(!b)return;l.Ia.set(f,b.withResumeToken(bn.EMPTY_BYTE_STRING,b.snapshotVersion)),cA(l,f);const v=new Us(b.target,f,g,b.sequenceNumber);qb(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ye(nl,"Failed to raise snapshot:",r),await kf(n,r)}}async function kf(n,e,t){if(!Vo(e))throw e;n.Ea.add(1),await Qu(n),n.Ra.set("Offline"),t||(t=()=>sA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(nl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await gm(n)}))}function dA(n,e){return e().catch((t=>kf(n,t,e)))}async function pm(n){const e=Ie(n),t=ra(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nb;for(;_5(e);)try{const a=await n5(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,w5(e,a)}catch(a){await kf(e,a)}hA(e)&&fA(e)}function _5(n){return cl(n)&&n.Ta.length<10}function w5(n,e){n.Ta.push(e);const t=ra(n);t.O_()&&t.X_&&t.ea(e.mutations)}function hA(n){return cl(n)&&!ra(n).x_()&&n.Ta.length>0}function fA(n){ra(n).start()}async function E5(n){ra(n).ra()}async function S5(n){const e=ra(n);for(const t of n.Ta)e.ea(t.mutations)}async function k5(n,e,t){const r=n.Ta.shift(),a=Ob.from(r,e,t);await dA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await pm(n)}async function A5(n,e){e&&ra(n).X_&&await(async function(r,a){if((function(c){return lI(c)&&c!==se.ABORTED})(a.code)){const l=r.Ta.shift();ra(r).B_(),await dA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await pm(r)}})(n,e),hA(n)&&fA(n)}async function Nw(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ye(nl,"RemoteStore received new credentials");const r=cl(t);t.Ea.add(3),await Qu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await gm(t)}async function T5(n,e){const t=Ie(n);e?(t.Ea.delete(2),await gm(t)):e||(t.Ea.add(2),await Qu(t),t.Ra.set("Unknown"))}function Lo(n){return n.ma||(n.ma=(function(t,r,a){const l=Ie(t);return l.sa(),new d5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:b5.bind(null,n),t_:y5.bind(null,n),r_:v5.bind(null,n),H_:x5.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),$b(n)?Gb(n):n.Ra.set("Unknown")):(await n.ma.stop(),uA(n))}))),n.ma}function ra(n){return n.fa||(n.fa=(function(t,r,a){const l=Ie(t);return l.sa(),new h5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:E5.bind(null,n),r_:A5.bind(null,n),ta:S5.bind(null,n),na:k5.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await pm(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(nl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Qb{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,h=new Qb(e,t,c,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yb(n,e){if(Ji("AsyncQueue",`${e}: ${n}`),Vo(n))return new be(se.UNAVAILABLE,`${e}: ${n}`);throw n}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=ru(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Rw{constructor(){this.ga=new St(Ae.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class No{constructor(e,t,r,a,l,c,h,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new No(e,t,go.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class C5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class N5{constructor(){this.queries=Dw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ie(t),l=a.queries;a.queries=Dw(),l.forEach(((c,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new be(se.ABORTED,"Firestore shutting down"))}}function Dw(){return new ol((n=>Mk(n)),om)}async function Wb(n,e){const t=Ie(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new C5,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=Yb(c,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Kb(t)}async function Xb(n,e){const t=Ie(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function R5(n,e){const t=Ie(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&Kb(t)}function D5(n,e,t){const r=Ie(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function Kb(n){n.Ca.forEach((e=>{e.next()}))}var $0,zw;(zw=$0||($0={})).Ma="default",zw.Cache="cache";class Zb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new No(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$0.Cache}}class mA{constructor(e){this.key=e}}class gA{constructor(e){this.key=e}}class z5{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Ik(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Rw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,v)=>{const x=a.get(b),E=cm(this.query,v)?v:null,A=!!x&&this.mutatedKeys.has(x.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;x&&E?x.data.isEqual(E.data)?A!==R&&(r.track({type:3,doc:E}),N=!0):this.su(x,E)||(r.track({type:2,doc:E}),N=!0,(f&&this.eu(E,f)>0||g&&this.eu(E,g)<0)&&(h=!0)):!x&&E?(r.track({type:0,doc:E}),N=!0):x&&!E&&(r.track({type:1,doc:x}),N=!0,(f||g)&&(h=!0)),N&&(E?(c=c.add(E),l=R?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),r.track({type:1,doc:b})}return{tu:c,iu:r,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,v)=>(function(E,A){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:N})}};return R(E)-R(A)})(b.type,v.type)||this.eu(b.doc,v.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new No(this.query,e.tu,l,c,e.mutatedKeys,f===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new gA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new mA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jb="SyncEngine";class j5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class M5{constructor(e){this.key=e,this.hu=!1}}class I5{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ol((h=>Mk(h)),om),this.Iu=new Map,this.Eu=new Set,this.du=new St(Ae.comparator),this.Au=new Map,this.Ru=new Lb,this.Vu={},this.mu=new Map,this.fu=Co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O5(n,e,t=!0){const r=_A(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await pA(r,e,t,!0),a}async function V5(n,e){const t=_A(n);await pA(t,e,!0,!1)}async function pA(n,e,t,r){const a=await r5(n.localStore,bi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return r&&(h=await P5(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&oA(n.remoteStore,a),h}async function P5(n,e,t,r,a){n.pu=(v,x,E)=>(async function(R,N,z,P){let q=N.view.ru(z);q.Cs&&(q=await Sw(R.localStore,N.query,!1).then((({documents:C})=>N.view.ru(C,q))));const L=P&&P.targetChanges.get(N.targetId),X=P&&P.targetMismatches.get(N.targetId)!=null,F=N.view.applyChanges(q,R.isPrimaryClient,L,X);return Mw(R,N.targetId,F.au),F.snapshot})(n,v,x,E);const l=await Sw(n.localStore,e,!0),c=new z5(e,l.Qs),h=c.ru(l.documents),f=$u.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),g=c.applyChanges(h,n.isPrimaryClient,f);Mw(n,t,g.au);const b=new j5(e,t,c);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function L5(n,e,t){const r=Ie(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!om(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await q0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Fb(r.remoteStore,a.targetId),Q0(r,a.targetId)})).catch(Oo)):(Q0(r,a.targetId),await q0(r.localStore,a.targetId,!0))}async function U5(n,e){const t=Ie(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Fb(t.remoteStore,r.targetId))}async function B5(n,e,t){const r=Y5(n);try{const a=await(function(c,h){const f=Ie(c),g=bt.now(),b=h.reduce(((E,A)=>E.add(A.key)),qe());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let A=es(),R=qe();return f.Ns.getEntries(E,b).next((N=>{A=N,A.forEach(((z,P)=>{P.isValidDocument()||(R=R.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,A))).next((N=>{v=N;const z=[];for(const P of h){const q=nI(P,v.get(P.key).overlayedDocument);q!=null&&z.push(new ua(P.key,q,Ak(q.value.mapValue),Dn.exists(!0)))}return f.mutationQueue.addMutationBatch(E,g,z,h)})).next((N=>{x=N;const z=N.applyToLocalDocumentSet(v,R);return f.documentOverlayCache.saveOverlays(E,N.batchId,z)}))})).then((()=>({batchId:x.batchId,changes:Vk(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new St(Fe)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,t),await Yu(r,a.changes),await pm(r.remoteStore)}catch(a){const l=Yb(a,"Failed to persist write");t.reject(l)}}async function bA(n,e){const t=Ie(n);try{const r=await e5(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?nt(c.hu,14607):a.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await Yu(t,r,e)}catch(r){await Oo(r)}}function jw(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Ie(c);f.onlineState=h;let g=!1;f.queries.forEach(((b,v)=>{for(const x of v.Sa)x.va(h)&&(g=!0)})),g&&Kb(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H5(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new St(Ae.comparator);c=c.insert(l,wn.newNoDocument(l,ze.min()));const h=qe().add(l),f=new fm(ze.min(),new Map,new St(Fe),c,h);await bA(r,f),r.du=r.du.remove(l),r.Au.delete(e),ey(r)}else await q0(r.localStore,e,!1).then((()=>Q0(r,e,t))).catch(Oo)}async function F5(n,e){const t=Ie(n),r=e.batch.batchId;try{const a=await JI(t.localStore,e);vA(t,r,null),yA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Yu(t,a)}catch(a){await Oo(a)}}async function q5(n,e,t){const r=Ie(n);try{const a=await(function(c,h){const f=Ie(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return f.mutationQueue.lookupMutationBatch(g,h).next((v=>(nt(v!==null,37113),b=v.keys(),f.mutationQueue.removeMutationBatch(g,v)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,b,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>f.localDocuments.getDocuments(g,b)))}))})(r.localStore,e);vA(r,e,t),yA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Yu(r,a)}catch(a){await Oo(a)}}function yA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function vA(n,e,t){const r=Ie(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Q0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||xA(n,r)}))}function xA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Fb(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ey(n))}function Mw(n,e,t){for(const r of t)r instanceof mA?(n.Ru.addReference(r.key,e),G5(n,r)):r instanceof gA?(ye(Jb,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||xA(n,r.key)):Ne(19791,{wu:r})}function G5(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ye(Jb,"New document in limbo: "+t),n.Eu.add(r),ey(n))}function ey(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(ft.fromString(e)),r=n.fu.next();n.Au.set(r,new M5(t)),n.du=n.du.insert(t,r),oA(n.remoteStore,new Us(bi(lm(t.path)),r,"TargetPurposeLimboResolution",im.ce))}}async function Yu(n,e,t){const r=Ie(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const b=g?!g.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(g){a.push(g);const b=Bb.As(f.targetId,g);l.push(b)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,g){const b=Ie(f);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ce.forEach(g,(x=>ce.forEach(x.Es,(E=>b.persistence.referenceDelegate.addReference(v,x.targetId,E))).next((()=>ce.forEach(x.ds,(E=>b.persistence.referenceDelegate.removeReference(v,x.targetId,E)))))))))}catch(v){if(!Vo(v))throw v;ye(Hb,"Failed to update sequence numbers: "+v)}for(const v of g){const x=v.targetId;if(!v.fromCache){const E=b.Ms.get(x),A=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(A);b.Ms=b.Ms.insert(x,R)}}})(r.localStore,l))}async function $5(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ye(Jb,"User change. New user:",e.toKey());const r=await iA(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new be(se.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yu(t,r.Ls)}}function Q5(n,e){const t=Ie(n),r=t.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let a=qe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function _A(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H5.bind(null,e),e.Pu.H_=R5.bind(null,e.eventManager),e.Pu.yu=D5.bind(null,e.eventManager),e}function Y5(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q5.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ZI(this.persistence,new WI,e.initialUser,this.serializer)}Cu(e){return new rA(Ub.mi,this.serializer)}Du(e){return new s5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class W5 extends Af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nt(this.persistence.referenceDelegate instanceof Sf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new rA((r=>Sf.mi(r,t)),this.serializer)}}class Y0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$5.bind(null,this.syncEngine),await T5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new N5})()}createDatastore(e){const t=mm(e.databaseInfo.databaseId),r=(function(l){return new u5(l)})(e.databaseInfo);return(function(l,c,h,f){return new m5(l,c,h,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,h){return new p5(r,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>jw(this.syncEngine,t,0)),(function(){return Tw.v()?new Tw:new a5})())}createSyncEngine(e,t){return(function(a,l,c,h,f,g,b){const v=new I5(a,l,c,h,f,g);return b&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ie(t);ye(nl,"RemoteStore shutting down."),r.Ea.add(5),await Qu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Y0.provider={build:()=>new Y0};class ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ia="FirestoreClient";class X5{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=xn.UNAUTHENTICATED,this.clientId=Cb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ye(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Yb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(ia,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await iA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Iw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await K5(n);ye(ia,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Nw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>Nw(e.remoteStore,a))),n._onlineComponents=e}async function K5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(ia,"Using user provided OfflineComponentProvider");try{await Xp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;wo("Error using user provided cache. Falling back to memory cache: "+t),await Xp(n,new Af)}}else ye(ia,"Using default OfflineComponentProvider"),await Xp(n,new W5(void 0));return n._offlineComponents}async function wA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(ia,"Using user provided OnlineComponentProvider"),await Iw(n,n._uninitializedComponentsProvider._online)):(ye(ia,"Using default OnlineComponentProvider"),await Iw(n,new Y0))),n._onlineComponents}function Z5(n){return wA(n).then((e=>e.syncEngine))}async function Tf(n){const e=await wA(n),t=e.eventManager;return t.onListen=O5.bind(null,e.syncEngine),t.onUnlisten=L5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=V5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U5.bind(null,e.syncEngine),t}function J5(n,e,t={}){const r=new Wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,g){const b=new ty({next:x=>{b.Nu(),c.enqueueAndForget((()=>Xb(l,v)));const E=x.docs.has(h);!E&&x.fromCache?g.reject(new be(se.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&f&&f.source==="server"?g.reject(new be(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new Zb(lm(h.path),b,{includeMetadataChanges:!0,qa:!0});return Wb(l,v)})(await Tf(n),n.asyncQueue,e,t,r))),r.promise}function eO(n,e,t={}){const r=new Wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,g){const b=new ty({next:x=>{b.Nu(),c.enqueueAndForget((()=>Xb(l,v))),x.fromCache&&f.source==="server"?g.reject(new be(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new Zb(h,b,{includeMetadataChanges:!0,qa:!0});return Wb(l,v)})(await Tf(n),n.asyncQueue,e,t,r))),r.promise}function EA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Ow=new Map;const SA="firestore.googleapis.com",Vw=!0;class Pw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=Vw}else this.host=e.host,this.ssl=e.ssl??Vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zI)throw new be(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new sM;switch(r.type){case"firstParty":return new cM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Ow.get(t);r&&(ye("ComponentProvider","Removing Datastore"),Ow.delete(t),r.terminate())})(this),Promise.resolve()}}function tO(n,e,t,r={}){n=Rn(n,bm);const a=Fu(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(QS(`https://${h}`),WS("Firestore",!0)),l.host!==SA&&l.host!==h&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:r};if(!xo(f,c)&&(n._setSettings(f),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=xn.MOCK_USER;else{g=YS(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new xn(v)}n._authCredentials=new aM(new mk(g,b))}}class ns{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(qu(t,Dt._jsonSchema))return new Dt(e,r||null,new Ae(ft.fromString(t.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Xt("string",Dt._jsonSchemaVersion),referencePath:Xt("string")};class Ws extends ns{constructor(e,t,r){super(e,t,lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new Ae(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function sn(n,e,...t){if(n=Sn(n),gk("collection","path",e),n instanceof bm){const r=ft.fromString(e,...t);return K1(r),new Ws(n,null,r)}{if(!(n instanceof Dt||n instanceof Ws))throw new be(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return K1(r),new Ws(n.firestore,null,r)}}function _t(n,e,...t){if(n=Sn(n),arguments.length===1&&(e=Cb.newId()),gk("doc","path",e),n instanceof bm){const r=ft.fromString(e,...t);return X1(r),new Dt(n,null,new Ae(r))}{if(!(n instanceof Dt||n instanceof Ws))throw new be(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return X1(r),new Dt(n.firestore,n instanceof Ws?n.converter:null,new Ae(r))}}const Lw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aA(this,"async_queue_retry"),this._c=()=>{const r=Wp();r&&ye(Lw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Wp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Wp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;ye(Lw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",Bw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Qb.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:Bw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Bw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Hw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Ei extends bm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Uw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function nO(n,e){const t=typeof n=="object"?n:ik(),r=typeof n=="string"?n:yf,a=ek(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=GS("firestore");l&&tO(a,...l)}return a}function Wu(n){if(n._terminated)throw new be(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rO(n),n._firestoreClient}function rO(n){const e=n._freezeSettings(),t=(function(a,l,c,h){return new TM(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,EA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new X5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class _r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _r(bn.fromBase64String(e))}catch(t){throw new be(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _r(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,_r._jsonSchema))return _r.fromBase64String(e.bytes)}}_r._jsonSchemaVersion="firestore/bytes/1.0",_r._jsonSchema={type:Xt("string",_r._jsonSchemaVersion),bytes:Xt("string")};class Xu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uo{constructor(e){this._methodName=e}}class vi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(qu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Xt("string",vi._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class xi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new xi(e.vectorValues);throw new be(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Xt("string",xi._jsonSchemaVersion),vectorValues:Xt("object")};const iO=/^__.*__$/;class sO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gu(e,this.data,t,this.fieldTransforms)}}class kA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class ym{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AA(this.Ac)&&iO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mm(e)}Cc(e,t,r,a=!1){return new ym({Ac:e,methodName:t,Dc:r,path:gn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(n){const e=n._freezeSettings(),t=mm(n._databaseId);return new aO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ny(n,e,t,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);ay("Data must be an object, but it was:",c,r);const h=RA(r,c);let f,g;if(l.merge)f=new nr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const v of l.mergeFields){const x=W0(e,v,t);if(!c.contains(x))throw new be(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);zA(b,x)||b.push(x)}f=new nr(b),g=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,g=c.fieldTransforms;return new sO(new Bn(h),f,g)}class vm extends Uo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}function TA(n,e,t){return new ym({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ry extends Uo{_toFieldTransform(e){return new Ib(e.path,new zu)}isEqual(e){return e instanceof ry}}class iy extends Uo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=TA(this,e,!0),r=this.vc.map((l=>ul(l,t))),a=new Ao(r);return new Ib(e.path,a)}isEqual(e){return e instanceof iy&&xo(this.vc,e.vc)}}class sy extends Uo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=TA(this,e,!0),r=this.vc.map((l=>ul(l,t))),a=new To(r);return new Ib(e.path,a)}isEqual(e){return e instanceof sy&&xo(this.vc,e.vc)}}function CA(n,e,t,r){const a=n.Cc(1,e,t);ay("Data must be an object, but it was:",a,r);const l=[],c=Bn.empty();ca(r,((f,g)=>{const b=ly(e,f,t);g=Sn(g);const v=a.yc(b);if(g instanceof vm)l.push(b);else{const x=ul(g,v);x!=null&&(l.push(b),c.set(b,x))}}));const h=new nr(l);return new kA(c,h,a.fieldTransforms)}function NA(n,e,t,r,a,l){const c=n.Cc(1,e,t),h=[W0(e,r,t)],f=[a];if(l.length%2!=0)throw new be(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(W0(e,l[x])),f.push(l[x+1]);const g=[],b=Bn.empty();for(let x=h.length-1;x>=0;--x)if(!zA(g,h[x])){const E=h[x];let A=f[x];A=Sn(A);const R=c.yc(E);if(A instanceof vm)g.push(E);else{const N=ul(A,R);N!=null&&(g.push(E),b.set(E,N))}}const v=new nr(g);return new kA(b,v,c.fieldTransforms)}function lO(n,e,t,r=!1){return ul(t,n.Cc(r?4:3,e))}function ul(n,e){if(DA(n=Sn(n)))return ay("Unsupported field value:",e,n),RA(n,e);if(n instanceof Uo)return(function(r,a){if(!AA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const h of r){let f=ul(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=bt.fromDate(r);return{timestampValue:Ef(a.serializer,l)}}if(r instanceof bt){const l=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ef(a.serializer,l)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _r)return{bytesValue:Wk(a.serializer,r._byteString)};if(r instanceof Dt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pb(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof xi)return(function(c,h){return{mapValue:{fields:{[Sk]:{stringValue:kk},[vf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Mb(h.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${rm(r)}`)})(n,e)}function RA(n,e){const t={};return yk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(n,((r,a)=>{const l=ul(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function DA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof vi||n instanceof _r||n instanceof Dt||n instanceof Uo||n instanceof xi)}function ay(n,e,t){if(!DA(t)||!pk(t)){const r=rm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function W0(n,e,t){if((e=Sn(e))instanceof Xu)return e._internalPath;if(typeof e=="string")return ly(n,e);throw Cf("Field path arguments must be of type string or ",n,!1,void 0,t)}const oO=new RegExp("[~\\*/\\[\\]]");function ly(n,e,t){if(e.search(oO)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xu(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cf(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new be(se.INVALID_ARGUMENT,h+n+f)}function zA(n,e){return n.some((t=>t.isEqual(e)))}class jA{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cO extends jA{data(){return super.data()}}function xm(n,e){return typeof e=="string"?ly(n,e):e instanceof Xu?e._internalPath:e._delegate._internalPath}function MA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class cy extends oy{}function Si(n,e,...t){let r=[];e instanceof oy&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((f=>f instanceof uy)).length,h=l.filter((f=>f instanceof _m)).length;if(c>1||c>0&&h>0)throw new be(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class _m extends cy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _m(e,t,r)}_apply(e){const t=this._parse(e);return OA(e._query,t),new ns(e.firestore,e.converter,L0(e._query,t))}_parse(e){const t=Ku(e.firestore);return(function(l,c,h,f,g,b,v){let x;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new be(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){qw(v,b);const A=[];for(const R of v)A.push(Fw(f,l,R));x={arrayValue:{values:A}}}else x=Fw(f,l,v)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||qw(v,b),x=lO(h,c,v,b==="in"||b==="not-in");return Wt.create(g,b,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Nf(n,e,t){const r=e,a=xm("where",n);return _m._create(a,r,t)}class uy extends oy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)OA(c,f),c=L0(c,f)})(e._query,t),new ns(e.firestore,e.converter,L0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dy extends cy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dy(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new be(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(l,c)})(e._query,this._field,this._direction);return new ns(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Po(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function Hn(n,e="asc"){const t=e,r=xm("orderBy",n);return dy._create(r,t)}class hy extends cy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new hy(e,t,r)}_apply(e){return new ns(e.firestore,e.converter,_f(e._query,this._limit,this._limitType))}}function IA(n){return pM("limit",n),hy._create("limit",n,"F")}function Fw(n,e,t){if(typeof(t=Sn(t))=="string"){if(t==="")throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jk(e)&&t.indexOf("/")!==-1)throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ft.fromString(t));if(!Ae.isDocumentKey(r))throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sw(n,new Ae(r))}if(t instanceof Dt)return sw(n,t._key);throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(t)}.`)}function qw(n,e){if(!Array.isArray(n)||n.length===0)throw new be(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(n,e){const t=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new be(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class uO{convertValue(e,t="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ca(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[vf].arrayValue?.values?.map((r=>Pt(r.doubleValue)));return new xi(t)}convertGeoPoint(e){return new vi(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=am(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const t=ea(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ft.fromString(e);nt(tA(r),9688,{name:e});const a=new Nu(r.get(1),r.get(3)),l=new Ae(r.popFirst(5));return a.isEqual(t)||Ji(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function fy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends jA{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ka._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:Xt("string",Ka._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class rf extends Ka{data(e={}){return super.data(e)}}class Za{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new su(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new rf(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new rf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new su(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new rf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new su(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,b=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),b=c.indexOf(h.doc.key)),{type:dO(h.type),doc:f,oldIndex:g,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}function Rf(n){n=Rn(n,Dt);const e=Rn(n.firestore,Ei);return J5(Wu(e),n._key).then((t=>PA(e,n,t)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Xt("string",Za._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class my extends uO{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function VA(n){n=Rn(n,ns);const e=Rn(n.firestore,Ei),t=Wu(e),r=new my(e);return MA(n._query),eO(t,n._query).then((a=>new Za(e,r,n,a)))}function hO(n,e,t){n=Rn(n,Dt);const r=Rn(n.firestore,Ei),a=fy(n.converter,e,t);return Zu(r,[ny(Ku(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Dn.none())])}function gi(n,e,t,...r){n=Rn(n,Dt);const a=Rn(n.firestore,Ei),l=Ku(a);let c;return c=typeof(e=Sn(e))=="string"||e instanceof Xu?NA(l,"updateDoc",n._key,e,t,r):CA(l,"updateDoc",n._key,e),Zu(a,[c.toMutation(n._key,Dn.exists(!0))])}function wm(n){return Zu(Rn(n.firestore,Ei),[new hm(n._key,Dn.none())])}function ju(n,e){const t=Rn(n.firestore,Ei),r=_t(n),a=fy(n.converter,e);return Zu(t,[ny(Ku(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Dn.exists(!1))]).then((()=>r))}function rl(n,...e){n=Sn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Hw(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Hw(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let l,c,h;if(n instanceof Dt)c=Rn(n.firestore,Ei),h=lm(n._key.path),l={next:f=>{e[r]&&e[r](PA(c,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Rn(n,ns);c=Rn(f.firestore,Ei),h=f._query;const g=new my(c);l={next:b=>{e[r]&&e[r](new Za(c,g,f,b))},error:e[r+1],complete:e[r+2]},MA(n._query)}return(function(g,b,v,x){const E=new ty(x),A=new Zb(b,E,v);return g.asyncQueue.enqueueAndForget((async()=>Wb(await Tf(g),A))),()=>{E.Nu(),g.asyncQueue.enqueueAndForget((async()=>Xb(await Tf(g),A)))}})(Wu(c),h,a,l)}function Zu(n,e){return(function(r,a){const l=new Wi;return r.asyncQueue.enqueueAndForget((async()=>B5(await Z5(r),a,l))),l.promise})(Wu(n),e)}function PA(n,e,t){const r=t.docs.get(e._key),a=new my(n);return new Ka(n,a,e._key,r,new su(t.hasPendingWrites,t.fromCache),e.converter)}class fO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,t,r){this._verifyNotCommitted();const a=Kp(e,this._firestore),l=fy(a.converter,t,r),c=ny(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Dn.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=Kp(e,this._firestore);let c;return c=typeof(t=Sn(t))=="string"||t instanceof Xu?NA(this._dataReader,"WriteBatch.update",l._key,t,r,a):CA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kp(e,this._firestore);return this._mutations=this._mutations.concat(new hm(t._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kp(n,e){if((n=Sn(n)).firestore!==e)throw new be(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Wa(){return new ry("serverTimestamp")}function mO(...n){return new iy("arrayUnion",n)}function gO(...n){return new sy("arrayRemove",n)}function Df(n){return Wu(n=Rn(n,Ei)),new fO(n,(e=>Zu(n,e)))}(function(e,t=!0){(function(a){Io=a})(nk),ku(new _o("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new Ei(new lM(r.getProvider("auth-internal")),new uM(c,r.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new be(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,b)})(c,a),c);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Qs($1,Q1,e),Qs($1,Q1,"esm2020")})();var pO="firebase",bO="12.7.0";Qs(pO,bO,"app");const LA="firebasestorage.googleapis.com",UA="storageBucket",yO=120*1e3,vO=600*1e3,xO=1e3;class kt extends ll{constructor(e,t,r=0){super(Zp(e),`Firebase Storage: ${t} (${Zp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Zp(n){return"storage/"+n}function gy(){const n="An unknown error occurred, please check the error payload for server response.";return new kt(yt.UNKNOWN,n)}function _O(n){return new kt(yt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function wO(n){return new kt(yt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(yt.UNAUTHENTICATED,n)}function SO(){return new kt(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kO(n){return new kt(yt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function BA(){return new kt(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HA(){return new kt(yt.CANCELED,"User canceled the upload/download.")}function AO(n){return new kt(yt.INVALID_URL,"Invalid URL '"+n+"'.")}function TO(n){return new kt(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function CO(){return new kt(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UA+"' property when initializing the app?")}function FA(){return new kt(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NO(){return new kt(yt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function RO(){return new kt(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DO(n){return new kt(yt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function X0(n){return new kt(yt.INVALID_ARGUMENT,n)}function qA(){return new kt(yt.APP_DELETED,"The Firebase app was deleted.")}function zO(n){return new kt(yt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hu(n,e){return new kt(yt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Xc(n){throw new kt(yt.INTERNAL_ERROR,"Internal error: "+n)}class rr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rr.makeFromUrl(e,t)}catch{return new rr(e,"")}if(r.path==="")return r;throw TO(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function g(L){L.path_=decodeURIComponent(L.path)}const b="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${b}/b/${a}/o${x}`,"i"),A={bucket:1,path:3},R=t===LA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",z=new RegExp(`^https?://${R}/${a}/${N}`,"i"),q=[{regex:h,indices:f,postModify:l},{regex:E,indices:A,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let L=0;L<q.length;L++){const X=q[L],F=X.regex.exec(e);if(F){const C=F[X.indices.bucket];let k=F[X.indices.path];k||(k=""),r=new rr(C,k),X.postModify(r);break}}if(r==null)throw AO(e);return r}}class jO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function MO(n,e,t){let r=1,a=null,l=null,c=!1,h=0;function f(){return h===2}let g=!1;function b(...N){g||(g=!0,e.apply(null,N))}function v(N){a=setTimeout(()=>{a=null,n(E,f())},N)}function x(){l&&clearTimeout(l)}function E(N,...z){if(g){x();return}if(N){x(),b.call(null,N,...z);return}if(f()||c){x(),b.call(null,N,...z);return}r<64&&(r*=2);let q;h===1?(h=2,q=0):q=(r+Math.random())*1e3,v(q)}let A=!1;function R(N){A||(A=!0,x(),!g&&(a!==null?(N||(h=2),clearTimeout(a),v(0)):N||(h=1)))}return v(0),l=setTimeout(()=>{c=!0,R(!0)},t),R}function IO(n){n(!1)}function OO(n){return n!==void 0}function VO(n){return typeof n=="function"}function PO(n){return typeof n=="object"&&!Array.isArray(n)}function Em(n){return typeof n=="string"||n instanceof String}function Gw(n){return py()&&n instanceof Blob}function py(){return typeof Blob<"u"}function $w(n,e,t,r){if(r<e)throw X0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw X0(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ju(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function GA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ja;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ja||(Ja={}));function $A(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class LO{constructor(e,t,r,a,l,c,h,f,g,b,v,x=!0,E=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,R)=>{this.resolve_=A,this.reject_=R,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Bh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Ja.NO_ERROR,f=l.getStatus();if(!h||$A(f,this.additionalRetryCodes_)&&this.retry){const b=l.getErrorCode()===Ja.ABORT;r(!1,new Bh(!1,null,b));return}const g=this.successCodes_.indexOf(f)!==-1;r(!0,new Bh(g,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());OO(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=gy();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?qA():HA();c(f)}else{const f=BA();c(f)}};this.canceled_?t(!1,new Bh(!1,null,!0)):this.backoffId_=MO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function UO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function BO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function FO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function qO(n,e,t,r,a,l,c=!0,h=!1){const f=GA(n.urlParams),g=n.url+f,b=Object.assign({},n.headers);return HO(b,e),UO(b,t),BO(b,l),FO(b,r),new LO(g,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,h)}function GO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $O(...n){const e=GO();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(py())return new Blob(n);throw new kt(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function QO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function YO(n){if(typeof atob>"u")throw DO("base-64");return atob(n)}const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jp{constructor(e,t){this.data=e,this.contentType=t||null}}function WO(n,e){switch(n){case pi.RAW:return new Jp(QA(e));case pi.BASE64:case pi.BASE64URL:return new Jp(YA(n,e));case pi.DATA_URL:return new Jp(KO(e),ZO(e))}throw gy()}function QA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,c=n.charCodeAt(++t);r=65536|(l&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XO(n){let e;try{e=decodeURIComponent(n)}catch{throw hu(pi.DATA_URL,"Malformed data URL.")}return QA(e)}function YA(n,e){switch(n){case pi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw hu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw hu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=YO(e)}catch(a){throw a.message.includes("polyfill")?a:hu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class WA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw hu(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=JO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function KO(n){const e=new WA(n);return e.base64?YA(pi.BASE64,e.rest):XO(e.rest)}function ZO(n){return new WA(n).contentType}function JO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ls{constructor(e,t){let r=0,a="";Gw(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Gw(this.data_)){const r=this.data_,a=QO(r,e,t);return a===null?null:new Ls(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ls(r,!0)}}static getBlob(...e){if(py()){const t=e.map(r=>r instanceof Ls?r.data_:r);return new Ls($O.apply(null,t))}else{const t=e.map(c=>Em(c)?WO(pi.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)a[l++]=c[h]}),new Ls(a,!0)}}uploadData(){return this.data_}}function XA(n){let e;try{e=JSON.parse(n)}catch{return null}return PO(e)?e:null}function e3(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function t3(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function KA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function n3(n,e){return e}class Nn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||n3}}let Hh=null;function r3(n){return!Em(n)||n.length<2?n:KA(n)}function ZA(){if(Hh)return Hh;const n=[];n.push(new Nn("bucket")),n.push(new Nn("generation")),n.push(new Nn("metageneration")),n.push(new Nn("name","fullPath",!0));function e(l,c){return r3(c)}const t=new Nn("name");t.xform=e,n.push(t);function r(l,c){return c!==void 0?Number(c):c}const a=new Nn("size");return a.xform=r,n.push(a),n.push(new Nn("timeCreated")),n.push(new Nn("updated")),n.push(new Nn("md5Hash",null,!0)),n.push(new Nn("cacheControl",null,!0)),n.push(new Nn("contentDisposition",null,!0)),n.push(new Nn("contentEncoding",null,!0)),n.push(new Nn("contentLanguage",null,!0)),n.push(new Nn("contentType",null,!0)),n.push(new Nn("metadata","customMetadata",!0)),Hh=n,Hh}function i3(n,e){function t(){const r=n.bucket,a=n.fullPath,l=new rr(r,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function s3(n,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return i3(r,n),r}function JA(n,e,t){const r=XA(e);return r===null?null:s3(n,r,t)}function a3(n,e,t,r){const a=XA(e);if(a===null||!Em(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const b=n.bucket,v=n.fullPath,x="/b/"+c(b)+"/o/"+c(v),E=Ju(x,t,r),A=GA({alt:"media",token:g});return E+A})[0]}function eT(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Bo{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xi(n){if(!n)throw gy()}function by(n,e){function t(r,a){const l=JA(n,a,e);return Xi(l!==null),l}return t}function l3(n,e){function t(r,a){const l=JA(n,a,e);return Xi(l!==null),a3(l,a,n.host,n._protocol)}return t}function ed(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=SO():a=EO():t.getStatus()===402?a=wO(n.bucket):t.getStatus()===403?a=kO(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function tT(n){const e=ed(n);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=_O(n.path)),l.serverResponse=a.serverResponse,l}return t}function o3(n,e,t){const r=e.fullServerUrl(),a=Ju(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,h=new Bo(a,l,by(n,t),c);return h.errorHandler=tT(e),h}function c3(n,e,t){const r=e.fullServerUrl(),a=Ju(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,h=new Bo(a,l,l3(n,t),c);return h.errorHandler=tT(e),h}function u3(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function nT(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=u3(null,e)),r}function d3(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let q="";for(let L=0;L<2;L++)q=q+Math.random().toString().slice(2);return q}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const g=nT(e,r,a),b=eT(g,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+f+`\r
Content-Type: `+g.contentType+`\r
\r
`,x=`\r
--`+f+"--",E=Ls.getBlob(v,r,x);if(E===null)throw FA();const A={name:g.fullPath},R=Ju(l,n.host,n._protocol),N="POST",z=n.maxUploadRetryTime,P=new Bo(R,N,by(n,t),z);return P.urlParams=A,P.headers=c,P.body=E.uploadData(),P.errorHandler=ed(e),P}class zf{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function yy(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xi(!1)}return Xi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function h3(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c=nT(e,r,a),h={name:c.fullPath},f=Ju(l,n.host,n._protocol),g="POST",b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},v=eT(c,t),x=n.maxUploadRetryTime;function E(R){yy(R);let N;try{N=R.getResponseHeader("X-Goog-Upload-URL")}catch{Xi(!1)}return Xi(Em(N)),N}const A=new Bo(f,g,E,x);return A.urlParams=h,A.headers=b,A.body=v,A.errorHandler=ed(e),A}function f3(n,e,t,r){const a={"X-Goog-Upload-Command":"query"};function l(g){const b=yy(g,["active","final"]);let v=null;try{v=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xi(!1)}v||Xi(!1);const x=Number(v);return Xi(!isNaN(x)),new zf(x,r.size(),b==="final")}const c="POST",h=n.maxUploadRetryTime,f=new Bo(t,c,l,h);return f.headers=a,f.errorHandler=ed(e),f}const Qw=256*1024;function m3(n,e,t,r,a,l,c,h){const f=new zf(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw NO();const g=f.total-f.current;let b=g;a>0&&(b=Math.min(b,a));const v=f.current,x=v+b;let E="";b===0?E="finalize":g===b?E="upload, finalize":E="upload";const A={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${f.current}`},R=r.slice(v,x);if(R===null)throw FA();function N(L,X){const F=yy(L,["active","final"]),C=f.current+b,k=r.size();let j;return F==="final"?j=by(e,l)(L,X):j=null,new zf(C,k,F==="final",j)}const z="POST",P=e.maxUploadRetryTime,q=new Bo(t,z,N,P);return q.headers=A,q.body=R.uploadData(),q.progressCallback=h||null,q.errorHandler=ed(n),q}const Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function e0(n){switch(n){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;case"error":return Un.ERROR;default:return Un.ERROR}}class g3{constructor(e,t,r){if(VO(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function ro(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class p3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw Xc("cannot .send() more than once");if(Fu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class b3 extends p3{initXhr(){this.xhr_.responseType="text"}}function ho(){return new b3}class y3{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=ZA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(yt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if($A(a.status,[]))if(l)a=BA();else{this.sleepTime=Math.max(this.sleepTime*2,xO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(yt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=h3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,ho,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=f3(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,ho,t,r);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Qw*this._chunkMultiplier,t=new zf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=m3(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const h=this._ref.storage._makeRequest(c,ho,a,l,!1);this._request=h,h.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Qw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=o3(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,ho,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=d3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,ho,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=HA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=e0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const l=new g3(t||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(e0(this._state)){case Un.SUCCESS:ro(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:const t=this._reject;ro(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(e0(this._state)){case Un.RUNNING:case Un.PAUSED:e.next&&ro(e.next.bind(e,this.snapshot))();break;case Un.SUCCESS:e.complete&&ro(e.complete.bind(e))();break;case Un.CANCELED:case Un.ERROR:e.error&&ro(e.error.bind(e,this._error))();break;default:e.error&&ro(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class il{constructor(e,t){this._service=e,t instanceof rr?this._location=t:this._location=rr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new il(e,t)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KA(this._location.path)}get storage(){return this._service}get parent(){const e=e3(this._location.path);if(e===null)return null;const t=new rr(this._location.bucket,e);return new il(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw zO(e)}}function v3(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new y3(n,new Ls(e),t)}function x3(n){n._throwIfRoot("getDownloadURL");const e=c3(n.storage,n._location,ZA());return n.storage.makeRequestWithTokens(e,ho).then(t=>{if(t===null)throw RO();return t})}function _3(n,e){const t=t3(n._location.path,e),r=new rr(n._location.bucket,t);return new il(n.storage,r)}function w3(n){return/^[A-Za-z]+:\/\//.test(n)}function E3(n,e){return new il(n,e)}function rT(n,e){if(n instanceof vy){const t=n;if(t._bucket==null)throw CO();const r=new il(t,t._bucket);return e!=null?rT(r,e):r}else return e!==void 0?_3(n,e):n}function S3(n,e){if(e&&w3(e)){if(n instanceof vy)return E3(n,e);throw X0("To use ref(service, url), the first argument must be a Storage instance.")}else return rT(n,e)}function Yw(n,e){const t=e?.[UA];return t==null?null:rr.makeFromBucketSpec(t,n)}function k3(n,e,t,r={}){n.host=`${e}:${t}`;const a=Fu(e);a&&(QS(`https://${n.host}/b`),WS("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:YS(l,n.app.options.projectId))}class vy{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=LA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yO,this._maxUploadRetryTime=vO,this._requests=new Set,a!=null?this._bucket=rr.makeFromBucketSpec(a,this._host):this._bucket=Yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=Yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$w("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$w("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(tk(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new il(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new jO(qA());{const c=qO(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const Ww="@firebase/storage",Xw="0.14.0";const iT="storage";function A3(n,e,t){return n=Sn(n),v3(n,e,t)}function T3(n){return n=Sn(n),x3(n)}function C3(n,e){return n=Sn(n),S3(n,e)}function N3(n=ik(),e){n=Sn(n);const r=ek(n,iT).getImmediate({identifier:e}),a=GS("storage");return a&&R3(r,...a),r}function R3(n,e,t,r={}){k3(n,e,t,r)}function D3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new vy(t,r,a,e,nk)}function z3(){ku(new _o(iT,D3,"PUBLIC").setMultipleInstances(!0)),Qs(Ww,Xw,""),Qs(Ww,Xw,"esm2020")}z3();const j3={apiKey:"AIzaSyBdcEGmCXwYX8y4vZ6xWSvqhpKeBzG3sjI",authDomain:"noc-timeline.firebaseapp.com",projectId:"noc-timeline",storageBucket:"noc-timeline.firebasestorage.app",messagingSenderId:"41507495114",appId:"1:41507495114:web:4d2118a77fb4be05142833"},sT=rk(j3),Me=nO(sT),M3=N3(sT),I3=(n=null)=>{const[e,t]=I.useState({total:0,startDone:0,endDone:0,matches:[]}),[r,a]=I.useState(0),[l,c]=I.useState(!0),h=qn(g=>g.currentUser),f=n||new Date().toISOString().split("T")[0];return I.useEffect(()=>{if(!h){t({total:0,startDone:0,endDone:0,matches:[]}),a(0),c(!1);return}c(!0);const g=Si(sn(Me,"schedules"),Nf("startDate","==",f),Hn("startTime","asc")),b=rl(g,x=>{const E=x.docs.map(A=>({id:A.id,...A.data()}));t({total:E.length,startDone:E.filter(A=>A.hasStartStat).length,endDone:E.filter(A=>A.hasEndStat).length,matches:E}),c(!1)},x=>{x.code!=="permission-denied"&&console.error("Error fetching day matches:",x),c(!1)});return(async()=>{try{const x=Si(sn(Me,"incidents"),Nf("status","!=","Closed")),E=await VA(x);a(E.size)}catch(x){x.code!=="permission-denied"&&console.error("Error fetching incidents:",x)}})(),()=>b()},[f,h]),{daySummary:e,todaySummary:e,activeIncidents:r,loading:l,selectedDate:f}};function O3(){const n=Mo(),e=qn(a=>a.currentUser),{todaySummary:t,activeIncidents:r}=I3();return u.jsx("div",{className:"h-full bg-zinc-50 dark:bg-black p-8 md:p-12 overflow-y-auto custom-scrollbar flex flex-col justify-center",children:u.jsxs("div",{className:"max-w-5xl mx-auto w-full space-y-12",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-5xl md:text-7xl font-black italic uppercase tracking-tighter dark:text-white mb-4 leading-[0.9]",children:["NOC ",u.jsx("span",{className:"text-zinc-300 dark:text-zinc-700",children:"NTT"})," ",u.jsx("br",{}),u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-zinc-900 to-zinc-500 dark:from-white dark:to-zinc-600",children:"Management System"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500"})]}),u.jsxs("p",{className:"text-sm font-bold text-zinc-500 uppercase tracking-[0.2em]",children:["System Operational  Welcome, ",e]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{onClick:()=>n("/schedule/today"),className:"group bg-white dark:bg-[#111] p-8 rounded-[2.5rem] border border-zinc-200 dark:border-zinc-800 hover:border-black dark:hover:border-white transition-all cursor-pointer",children:[u.jsxs("div",{className:"flex justify-between items-start mb-10",children:[u.jsx("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl text-zinc-900 dark:text-white",children:u.jsx(sr,{size:28})}),u.jsx(vu,{className:"text-zinc-300 group-hover:text-black dark:group-hover:text-white transition-colors"})]}),u.jsx("div",{className:"text-5xl font-black dark:text-white mb-2",children:t.total}),u.jsx("div",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Matches Scheduled Today"})]}),u.jsxs("div",{onClick:()=>n("/incidents"),className:"group bg-white dark:bg-[#111] p-8 rounded-[2.5rem] border border-zinc-200 dark:border-zinc-800 hover:border-red-500 dark:hover:border-red-500 transition-all cursor-pointer relative overflow-hidden",children:[r>0&&u.jsx("div",{className:"absolute top-0 right-0 p-4",children:u.jsx("span",{className:"flex h-4 w-4 rounded-full bg-red-500 animate-pulse"})}),u.jsxs("div",{className:"flex justify-between items-start mb-10",children:[u.jsx("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl text-red-500",children:u.jsx(Ki,{size:28})}),u.jsx(vu,{className:"text-zinc-300 group-hover:text-red-500 transition-colors"})]}),u.jsx("div",{className:"text-5xl font-black dark:text-white mb-2",children:r}),u.jsx("div",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Active Incidents"})]})]})]})})}const er="incidents",io="events",Qi={subscribeIncidents:(n,e=100)=>{const t=Si(sn(Me,er),Hn("createdAt","desc"),IA(e));return rl(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data(),status:l.data().status||"Open",type:l.data().type||"Incident",project:l.data().project||"General"}));n(a)},r=>{console.error("Incidents subscription error:",r),n([])})},subscribeEvents:(n,e)=>{const t=Si(sn(Me,er,n,io),Hn("order","asc"),Hn("date","asc"),Hn("time","asc"));return rl(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data(),imageUrls:l.data().imageUrls||[]}));e(a)},r=>{console.error("Events subscription error:",r),e([])})},createIncident:async n=>{try{const e={...n,status:n.status||"Open",type:n.type||"Incident",priority:n.priority||"Medium",project:n.project||"General",eventCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await ju(sn(Me,er),e)}catch(e){throw console.error("Create incident error:",e),new Error("Failed to create incident")}},updateIncident:async(n,e)=>{try{await gi(_t(Me,er,n),{...e,updatedAt:new Date().toISOString()})}catch(t){throw console.error("Update incident error:",t),new Error("Failed to update incident")}},deleteIncident:async n=>{try{const e=sn(Me,er,n,io),t=await VA(e),r=Df(Me);t.docs.forEach(a=>{r.delete(a.ref)}),r.delete(_t(Me,er,n)),await r.commit()}catch(e){throw console.error("Delete incident error:",e),new Error("Failed to delete incident")}},createEvent:async(n,e)=>{try{const t=await ju(sn(Me,er,n,io),{...e,order:e.order||0,imageUrls:e.imageUrls||[],createdAt:new Date().toISOString()});return await gi(_t(Me,er,n),{updatedAt:new Date().toISOString()}),t}catch(t){throw console.error("Create event error:",t),new Error("Failed to create event")}},updateEvent:async(n,e,t)=>{try{await gi(_t(Me,er,n,io,e),{...t,updatedAt:new Date().toISOString()}),await gi(_t(Me,er,n),{updatedAt:new Date().toISOString()})}catch(r){throw console.error("Update event error:",r),new Error("Failed to update event")}},deleteEvent:async(n,e)=>{try{await wm(_t(Me,er,n,io,e)),await gi(_t(Me,er,n),{updatedAt:new Date().toISOString()})}catch(t){throw console.error("Delete event error:",t),new Error("Failed to delete event")}},reorderEvents:async(n,e)=>{try{const t=Df(Me);e.forEach(r=>{const a=_t(Me,er,n,io,r.id);t.update(a,{order:r.order})}),await t.commit()}catch(t){throw console.error("Reorder events error:",t),new Error("Failed to reorder events")}}},V3=()=>{const[n,e]=I.useState([]),[t,r]=I.useState(null),[a,l]=I.useState(!0),[c,h]=I.useState(""),[f,g]=I.useState("All"),[b,v]=I.useState("All"),x=qn(P=>P.currentUser);I.useEffect(()=>{if(!x){e([]),l(!1);return}l(!0);const P=Qi.subscribeIncidents(q=>{e(q),l(!1)});return()=>P()},[x]);const E=I.useMemo(()=>n.filter(P=>{const q=c.toLowerCase(),L=!q||(P.subject||"").toLowerCase().includes(q)||(P.project||"").toLowerCase().includes(q)||(P.ticket||"").toLowerCase().includes(q)||(P.createdBy||"").toLowerCase().includes(q),X=f==="All"||P.status===f,F=b==="All"||P.type===b;return L&&X&&F}),[n,c,f,b]),A=I.useMemo(()=>{const P=n.length,q=n.filter(k=>k.status==="Open").length,L=n.filter(k=>k.status==="In Progress").length,X=n.filter(k=>k.status==="Monitoring").length,F=n.filter(k=>k.status==="Resolved").length,C=n.filter(k=>k.status==="Closed").length;return{total:P,open:q,inProgress:L,monitoring:X,resolved:F,closed:C}},[n]),R=I.useMemo(()=>[{status:"Open",count:A.open,color:"#ef4444"},{status:"In Progress",count:A.inProgress,color:"#3b82f6"},{status:"Monitoring",count:A.monitoring,color:"#f97316"},{status:"Resolved",count:A.resolved,color:"#10b981"},{status:"Closed",count:A.closed,color:"#6b7280"}].filter(P=>P.count>0),[A]),N=I.useCallback(()=>{h(""),g("All"),v("All")},[]);return{incidents:n,filteredIncidents:E,selectedId:t,setSelectedId:r,loading:a,searchTerm:c,setSearchTerm:h,filterStatus:f,setFilterStatus:g,filterType:b,setFilterType:v,clearFilters:N,hasActiveFilters:c||f!=="All"||b!=="All",stats:A,statusDistribution:R}},P3=n=>{const[e,t]=I.useState([]),[r,a]=I.useState(!1),[l,c]=I.useState(null),h=qn(b=>b.currentUser);I.useEffect(()=>{if(!h||!n){t([]),c(null),a(!1);return}a(!0),c(null);const b=Qi.subscribeEvents(n,v=>{t(v),a(!1)});return()=>b()},[n,h]);const f=[...e].sort((b,v)=>{if(typeof b.order=="number"&&typeof v.order=="number"&&b.order!==v.order)return b.order-v.order;const x=new Date(`${b.date||"1970-01-01"}T${b.time||"00:00"}`).getTime(),E=new Date(`${v.date||"1970-01-01"}T${v.time||"00:00"}`).getTime();return x-E}),g={total:e.length,withImages:e.filter(b=>b.imageUrls&&b.imageUrls.length>0).length,dateRange:e.length>0?{start:f[0]?.date,end:f[f.length-1]?.date}:null};return{events:e,sortedEvents:f,loading:r,error:l,stats:g}},L3=n=>{switch(n){case"Open":return{color:"bg-red-500",bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-600 dark:text-red-400",icon:wr,gradient:"from-red-500 to-rose-600"};case"In Progress":return{color:"bg-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-600 dark:text-blue-400",icon:vb,gradient:"from-blue-500 to-indigo-600"};case"Monitoring":return{color:"bg-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",textColor:"text-orange-600 dark:text-orange-400",icon:pn,gradient:"from-orange-500 to-amber-600"};case"Resolved":return{color:"bg-emerald-500",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-600 dark:text-emerald-400",icon:ar,gradient:"from-emerald-500 to-teal-600"};case"Closed":return{color:"bg-zinc-400",bgColor:"bg-zinc-100 dark:bg-zinc-800",textColor:"text-zinc-500 dark:text-zinc-400",icon:xb,gradient:"from-zinc-400 to-zinc-500"};default:return{color:"bg-zinc-400",bgColor:"bg-zinc-100 dark:bg-zinc-800",textColor:"text-zinc-600 dark:text-zinc-400",icon:wr,gradient:"from-zinc-400 to-zinc-500"}}};function U3({incident:n,isSelected:e,onClick:t,onDelete:r}){const{color:a,bgColor:l,textColor:c,icon:h,gradient:f}=L3(n.status),g=n.createdAt?new Date(n.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}):"-";return u.jsxs("div",{onClick:t,className:`
        group relative p-5 rounded-2xl border transition-all duration-300 cursor-pointer overflow-hidden
        ${e?"bg-white dark:bg-[#0a0a0a] border-zinc-900 dark:border-zinc-500 shadow-xl scale-[1.01] z-10":"bg-white dark:bg-[#111] border-transparent hover:border-zinc-300 dark:hover:border-zinc-700 hover:shadow-lg hover:-translate-y-0.5"}
      `,children:[e&&u.jsx("div",{className:`absolute top-0 bottom-0 left-0 w-1.5 bg-gradient-to-b ${f}`}),u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${a} ${n.status==="Open"?"animate-pulse shadow-[0_0_8px_currentColor]":""}`}),u.jsx("span",{className:"text-[9px] font-black uppercase text-zinc-500 dark:text-zinc-400 tracking-wider",children:n.project||"SYSTEM"})]}),u.jsx("span",{className:`text-[8px] font-black uppercase px-2 py-1 rounded-full border border-transparent ${n.type==="Incident"?"bg-red-50 text-red-600 dark:bg-red-900/10 dark:text-red-400 dark:border-red-900/20":n.type==="Request"?"bg-blue-50 text-blue-600 dark:bg-blue-900/10 dark:text-blue-400 dark:border-blue-900/20":"bg-amber-50 text-amber-600 dark:bg-amber-900/10 dark:text-amber-400 dark:border-amber-900/20"}`,children:n.type||"Incident"})]}),!e&&u.jsx("button",{onClick:b=>{b.stopPropagation(),r(n.id)},className:"text-zinc-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transform translate-x-2 group-hover:translate-x-0",title:"Delete incident",children:u.jsx(oa,{size:14})})]}),u.jsx("h3",{className:`font-black text-sm leading-snug mb-4 line-clamp-2 min-h-[2.5rem] transition-colors ${e?"text-black dark:text-white":"text-zinc-700 dark:text-zinc-300 group-hover:text-black dark:group-hover:text-white"}`,children:n.subject||"Untitled Incident"}),u.jsxs("div",{className:"flex items-center gap-4 mb-4 text-[10px] text-zinc-400 font-bold uppercase tracking-wider",children:[n.createdBy&&u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(BS,{size:12,className:"text-zinc-300"})," ",n.createdBy.split(" ")[0]]}),u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(sr,{size:12,className:"text-zinc-300"})," ",g]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-zinc-100 dark:border-zinc-800/50",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-zinc-400",children:[u.jsx(wb,{size:12}),u.jsx("span",{className:"text-[10px] font-mono font-bold",children:n.ticket||"NO-TICKET"})]}),u.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full ${l}`,children:[u.jsx(h,{size:12,className:c}),u.jsx("span",{className:`text-[9px] font-black uppercase tracking-wide ${c}`,children:n.status})]})]})]})}function B3({filteredIncidents:n,selectedId:e,onSelect:t,onAddIncident:r,onDeleteIncident:a,onExportCSV:l,stats:c,searchTerm:h,setSearchTerm:f,filterStatus:g,setFilterStatus:b,filterType:v,setFilterType:x,clearFilters:E,hasActiveFilters:A,loading:R}){const N=z=>{b(z===g?"All":z)};return u.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-black border-r border-zinc-200 dark:border-zinc-800 relative",children:[u.jsxs("div",{className:"p-5 flex flex-col gap-4 shrink-0 z-10 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(Ez,{size:20,className:"text-zinc-400"}),"INCIDENTS"]}),u.jsxs("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest pl-1 mt-1",children:[n?.length||0," of ",c?.total||0," cases"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>l(n),className:"h-9 w-9 flex items-center justify-center rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",title:"Export CSV",children:u.jsx(_b,{size:18})}),u.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 h-9 rounded-xl text-[10px] font-black uppercase tracking-widest bg-black dark:bg-white text-white dark:text-black hover:opacity-80 transition-opacity shadow-sm",children:[u.jsx(az,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"New"})]})]})]}),c&&u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1 [&::-webkit-scrollbar]:hidden",children:[{status:"Open",count:c.open,color:"bg-red-500",icon:wr},{status:"In Progress",count:c.inProgress,color:"bg-blue-500",icon:vb},{status:"Monitoring",count:c.monitoring,color:"bg-orange-500",icon:pn},{status:"Resolved",count:c.resolved,color:"bg-emerald-500",icon:ar},{status:"Closed",count:c.closed,color:"bg-zinc-400",icon:xb}].filter(z=>z.count>0).map(z=>u.jsxs("button",{onClick:()=>N(z.status),className:`flex items-center gap-1.5 px-2 py-1 rounded-lg text-[9px] font-bold shrink-0 transition-all ${g===z.status?"bg-black dark:bg-white text-white dark:text-black shadow-md":"bg-zinc-100 dark:bg-zinc-800 text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${z.color}`}),u.jsx("span",{className:"uppercase",children:z.status.split(" ")[0]}),u.jsx("span",{className:"font-mono",children:z.count})]},z.status))}),u.jsxs("div",{className:"relative",children:[u.jsx(Su,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400"}),u.jsx("input",{type:"text",placeholder:"Search tickets, subjects...",value:h,onChange:z=>f(z.target.value),className:"w-full h-10 pl-10 pr-8 rounded-xl text-xs font-bold outline-none border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white focus:border-black dark:focus:border-white transition-all placeholder-zinc-400 dark:placeholder-zinc-600"}),h&&u.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-red-500 transition-colors",children:u.jsx(kn,{size:14})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsxs("select",{value:g,onChange:z=>b(z.target.value),className:"w-full h-9 pl-3 pr-8 bg-zinc-100 dark:bg-zinc-800 border-none rounded-lg text-[10px] font-black uppercase text-zinc-600 dark:text-zinc-300 appearance-none outline-none cursor-pointer hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"In Progress",children:"In Progress"}),u.jsx("option",{value:"Monitoring",children:"Monitoring"}),u.jsx("option",{value:"Resolved",children:"Resolved"}),u.jsx("option",{value:"Closed",children:"Closed"})]}),u.jsx(wu,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]}),u.jsxs("div",{className:"relative flex-1",children:[u.jsxs("select",{value:v,onChange:z=>x(z.target.value),className:"w-full h-9 pl-3 pr-8 bg-zinc-100 dark:bg-zinc-800 border-none rounded-lg text-[10px] font-black uppercase text-zinc-600 dark:text-zinc-300 appearance-none outline-none cursor-pointer hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:[u.jsx("option",{value:"All",children:"All Types"}),u.jsx("option",{value:"Incident",children:"Incident"}),u.jsx("option",{value:"Request",children:"Request"}),u.jsx("option",{value:"Maintenance",children:"Maint."})]}),u.jsx(wu,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]}),A&&u.jsx("button",{onClick:E,className:"h-9 w-9 flex items-center justify-center rounded-lg bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"Clear all filters",children:u.jsx(LS,{size:14})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar bg-zinc-50 dark:bg-[#050505]",children:R?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-3",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-zinc-300 border-t-black dark:border-zinc-700 dark:border-t-white rounded-full animate-spin"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Loading..."})]}):n?.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 space-y-3",children:[u.jsx(Su,{size:32,className:"text-zinc-300 dark:text-zinc-700"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:A?"No matching cases":"No incidents yet"}),A&&u.jsx("button",{onClick:E,className:"text-[10px] font-bold text-blue-500 hover:underline",children:"Clear Filters"})]}):n.map(z=>u.jsx(U3,{incident:z,isSelected:e===z.id,onClick:()=>t(z.id),onDelete:a},z.id))})]})}const aT=n=>{if(!n)return"";try{if(n.includes("drive.google.com")||n.includes("docs.google.com")){let e="";const t=n.match(/\/d\/(.+?)\//);if(t&&t[1]?e=t[1]:e=new URLSearchParams(new URL(n).search).get("id"),e)return`https://lh3.googleusercontent.com/d/${e}`}if(n.includes("dropbox.com")){const e=new URL(n);return e.searchParams.set("raw","1"),e.searchParams.delete("dl"),e.toString()}return n}catch(e){return console.warn("Error parsing image URL:",e),n}};function H3({event:n,index:e,isLastItem:t,showDateHeader:r,dateLabel:a,onMove:l,onEdit:c,onDelete:h}){let f=n.imageUrls||[];!f.length&&n.image&&(f=[n.image]),!f.length&&n.imageUrl&&(f=[n.imageUrl]);const g=n.desc&&n.desc.trim().length>0,b=f.length>0;return u.jsxs("div",{className:"relative flex items-start gap-3 md:gap-4 mb-6 z-10 group/item animate-in fade-in slide-in-from-left-2 duration-300",children:[u.jsxs("div",{className:"flex-none flex flex-col items-center w-16 pt-[6px]",children:[u.jsx("div",{className:`
          w-3 h-3 rounded-full bg-white dark:bg-zinc-900 border-[3px] border-black dark:border-white shadow-sm z-20 transition-all
          ${e===0?"ring-4 ring-black/10 dark:ring-white/10":""}
          group-hover/item:scale-125
        `}),u.jsx("div",{className:"mt-1.5",children:u.jsx("span",{className:"font-mono text-[10px] font-bold text-gray-500 dark:text-zinc-500 bg-gray-100 dark:bg-zinc-900 px-1.5 py-0.5 rounded",children:n.time})}),b&&u.jsx("div",{className:"mt-1 text-zinc-400",children:u.jsx(vz,{size:10})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[r&&u.jsx("div",{className:"mb-3 -mt-2",children:u.jsx("span",{className:"inline-block text-[9px] font-black text-white dark:text-black uppercase tracking-widest bg-gradient-to-r from-black to-zinc-700 dark:from-white dark:to-zinc-300 px-3 py-1 rounded-full shadow-sm",children:a})}),u.jsxs("div",{className:"bg-white dark:bg-[#111] p-3 md:p-4 rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-sm flex gap-3 relative hover:border-black dark:hover:border-white transition-all group-hover/item:shadow-md",children:[u.jsxs("div",{className:"flex flex-col gap-1 justify-center border-r pr-2 border-gray-100 dark:border-zinc-800 opacity-100 lg:opacity-0 lg:group-hover/item:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>l(e,"up"),disabled:e===0,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-zinc-800 rounded transition-colors",title:"Move up",children:u.jsx(zS,{size:14})}),u.jsx("button",{onClick:()=>l(e,"down"),disabled:t,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-zinc-800 rounded transition-colors",title:"Move down",children:u.jsx(xu,{size:14})})]}),u.jsxs("div",{className:"flex-1 min-w-0 relative pr-12 md:pr-14",children:[u.jsxs("div",{className:"absolute top-0 right-0 flex gap-1 opacity-100 lg:opacity-0 lg:group-hover/item:opacity-100 transition-opacity bg-white dark:bg-[#111] pl-2 pb-2 rounded-bl-xl",children:[u.jsx("button",{onClick:()=>c(n),className:"p-1.5 text-gray-400 hover:text-blue-500 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Edit event",children:u.jsx(Eb,{size:12})}),u.jsx("button",{onClick:()=>h(n.id),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete event",children:u.jsx(oa,{size:12})})]}),u.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap pt-0.5",children:g?n.desc:u.jsx("span",{className:"text-gray-400 dark:text-zinc-600 italic font-normal",children:"No details provided."})}),b&&u.jsx("div",{className:`grid gap-2 mt-3 ${f.length===1?"grid-cols-1 max-w-[200px]":f.length===2?"grid-cols-2 max-w-[400px]":"grid-cols-2 sm:grid-cols-3"}`,children:f.map((v,x)=>u.jsxs("div",{className:"relative group/image rounded-lg overflow-hidden border border-gray-200 dark:border-zinc-800 bg-gray-50 dark:bg-zinc-900 aspect-video",children:[u.jsx("img",{src:aT(v),className:"w-full h-full object-cover transition-transform duration-500 group-hover/image:scale-110",alt:`Evidence ${x+1}`,loading:"lazy",onError:E=>{E.target.onerror=null,E.target.src="https://placehold.co/300x200/222/fff?text=Image+Error"}}),u.jsx("a",{href:v,target:"_blank",rel:"noreferrer",className:"absolute inset-0 bg-black/0 hover:bg-black/30 transition-colors flex items-center justify-center opacity-0 hover:opacity-100",children:u.jsx(tz,{size:16,className:"text-white drop-shadow-lg"})}),f.length>1&&u.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[8px] font-bold px-1.5 py-0.5 rounded",children:[x+1,"/",f.length]})]},x))})]})]})]})]})}function F3({value:n,onChange:e,folder:t="uploads",placeholder:r="Paste image URL..."}){const[a,l]=I.useState("url"),[c,h]=I.useState(!1),[f,g]=I.useState(0),[b,v]=I.useState(""),x=I.useRef(null);I.useEffect(()=>{n||(g(0),v(""))},[n]);const E=async N=>{const z=N.target.files[0];if(z){if(!z.type.startsWith("image/")){v("Please select an image file only.");return}if(z.size>2*1024*1024){v("Image size should be less than 2MB.");return}v(""),h(!0);try{const P=C3(M3,`${t}/${Date.now()}_${z.name}`),q=A3(P,z);q.on("state_changed",L=>{const X=L.bytesTransferred/L.totalBytes*100;g(Math.round(X))},L=>{console.error(L),L.message.includes("billing")||L.code==="storage/unauthorized"?v("Storage not enabled. Please use URL mode."):v("Upload failed. Try URL mode."),h(!1)},async()=>{const L=await T3(q.snapshot.ref);e(L),h(!1)})}catch(P){console.error(P),v("Error starting upload."),h(!1)}}},A=N=>{e(N.target.value),v("")},R=()=>{e(""),g(0),v(""),x.current&&(x.current.value="")};return u.jsxs("div",{className:"space-y-3",children:[!n&&u.jsxs("div",{className:"flex bg-zinc-200/50 dark:bg-zinc-800 p-1 rounded-xl",children:[u.jsxs("button",{type:"button",onClick:()=>l("url"),className:`flex-1 py-2 text-[10px] font-black uppercase rounded-lg flex items-center justify-center gap-2 transition-all duration-200 ${a==="url"?"bg-white dark:bg-zinc-700 text-black dark:text-white shadow-sm scale-100":"text-zinc-400 hover:text-zinc-600 hover:bg-black/5 dark:hover:bg-white/5 scale-95"}`,children:[u.jsx(z1,{size:14})," Link URL"]}),u.jsxs("button",{type:"button",onClick:()=>l("upload"),className:`flex-1 py-2 text-[10px] font-black uppercase rounded-lg flex items-center justify-center gap-2 transition-all duration-200 ${a==="upload"?"bg-white dark:bg-zinc-700 text-black dark:text-white shadow-sm scale-100":"text-zinc-400 hover:text-zinc-600 hover:bg-black/5 dark:hover:bg-white/5 scale-95"}`,children:[u.jsx(WD,{size:14})," Upload"]})]}),n?u.jsxs("div",{className:"relative flex items-center gap-3 p-2 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-sm animate-in fade-in zoom-in-95",children:[u.jsx("div",{className:"h-10 w-10 shrink-0 rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700",children:u.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate",children:n}),u.jsxs("p",{className:"text-[9px] font-bold text-green-500 flex items-center gap-1",children:[u.jsx(Bu,{size:10})," Image Ready"]})]}),u.jsx("button",{type:"button",onClick:R,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-red-500 transition-all hover:rotate-90 active:scale-90",children:u.jsx(kn,{size:16})})]}):a==="upload"?u.jsxs("div",{onClick:()=>!c&&x.current?.click(),className:`
              relative border-2 border-dashed rounded-xl h-14 flex items-center justify-center cursor-pointer transition-all duration-200 group
              ${c?"bg-zinc-50 border-zinc-300 cursor-wait":"border-zinc-300 hover:border-violet-500 hover:bg-violet-50 dark:border-zinc-700 dark:hover:border-violet-500 dark:hover:bg-violet-900/10 active:scale-[0.99]"}
            `,children:[c?u.jsxs("div",{className:"flex items-center gap-3 text-violet-600",children:[u.jsx(Zs,{size:18,className:"animate-spin"}),u.jsxs("span",{className:"text-xs font-bold",children:["Uploading... ",f,"%"]})]}):u.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 group-hover:text-violet-600 transition-colors",children:[u.jsx(IS,{size:18}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Choose File"})]}),u.jsx("input",{type:"file",ref:x,onChange:E,accept:"image/*",className:"hidden",disabled:c})]}):u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"text",placeholder:r,onChange:A,className:"w-full h-14 px-4 rounded-xl border-2 border-zinc-200 dark:border-zinc-800 bg-transparent text-sm font-medium outline-none focus:border-violet-500 focus:bg-violet-50/10 transition-all placeholder:text-zinc-400"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none group-focus-within:text-violet-500 transition-colors",children:u.jsx(z1,{size:16})})]}),b&&u.jsxs("p",{className:"text-[10px] font-bold text-red-500 flex items-center gap-1.5 animate-pulse ml-1",children:[u.jsx(wr,{size:12})," ",b]})]})}function q3({isOpen:n,onClose:e,onSubmit:t,initialData:r,saving:a=!1}){const[l,c]=I.useState({date:"",time:"",desc:"",imageUrls:[]}),[h,f]=I.useState(""),[g,b]=I.useState({});I.useEffect(()=>{const z=P=>{P.key==="Escape"&&!a&&e()};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e,a]),I.useEffect(()=>{if(n){if(r){let z=r.imageUrls||[];!z.length&&r.image&&(z=[r.image]),c({...r,imageUrls:z})}else{const z=new Date;c({date:z.toISOString().split("T")[0],time:`${String(z.getHours()).padStart(2,"0")}:${String(z.getMinutes()).padStart(2,"0")}`,desc:"",imageUrls:[]})}f(""),b({})}},[n,r]);const v=()=>{h&&!l.imageUrls.includes(h)&&(c(z=>({...z,imageUrls:[...z.imageUrls,h]})),f(""))},x=z=>{c(P=>({...P,imageUrls:P.imageUrls.filter((q,L)=>L!==z)}))},E=()=>{const z={};return l.date||(z.date="Required"),l.time||(z.time="Required"),l.desc?.trim()||(z.desc="Description is required"),b(z),Object.keys(z).length===0},A=z=>{if(z.preventDefault(),!E())return;let P=[...l.imageUrls];h&&!P.includes(h)&&P.push(h);const q=l.title||l.desc.trim().split(`
`)[0].substring(0,50)+(l.desc.length>50?"...":"")||"Log Update";t({...l,title:q,imageUrls:P,image:null})};if(!n)return null;const R=`
    w-full bg-zinc-50 dark:bg-zinc-800/50 
    border border-zinc-200 dark:border-zinc-700 
    rounded-xl p-3.5 text-sm font-medium 
    text-zinc-900 dark:text-zinc-100
    outline-none transition-all duration-200 ease-out
    focus:bg-white dark:focus:bg-zinc-800 
    focus:border-black dark:focus:border-zinc-500
    focus:ring-4 focus:ring-zinc-100 dark:focus:ring-zinc-800/50
    focus:shadow-sm
    placeholder:text-zinc-400
  `,N="text-[10px] font-bold text-zinc-400 uppercase tracking-wider mb-2 flex items-center gap-1.5 ml-1";return u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[u.jsx("div",{className:"absolute inset-0 bg-zinc-900/40 dark:bg-black/80 backdrop-blur-md transition-opacity duration-300",onClick:e}),u.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-[#121212] rounded-[2rem] shadow-2xl ring-1 ring-zinc-900/5 dark:ring-white/10 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 ease-out",children:[u.jsxs("div",{className:"px-6 py-5 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-white/80 dark:bg-[#121212]/80 backdrop-blur-xl z-10 sticky top-0",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white tracking-tight flex items-center gap-2",children:[r?u.jsx(_i,{className:"text-blue-500",size:20}):u.jsx(pn,{className:"text-violet-500",size:20}),r?"Edit Event":"New Event"]}),u.jsx("p",{className:"text-xs text-zinc-500 font-medium mt-0.5 ml-7",children:r?"Update incident timeline details":"Record a new update to timeline"})]}),u.jsx("button",{onClick:e,disabled:a,className:"p-2.5 -mr-2 text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-all duration-200 hover:rotate-90 active:scale-90",children:u.jsx(kn,{size:22})})]}),u.jsxs("form",{onSubmit:A,className:"flex-1 overflow-y-auto custom-scrollbar",children:[u.jsxs("div",{className:"p-6 space-y-7",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:N,children:[u.jsx(sr,{size:12})," Date"]}),u.jsx("input",{type:"date",className:`${R} ${g.date?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:l.date,onChange:z=>c({...l,date:z.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:N,children:[u.jsx(pn,{size:12})," Time"]}),u.jsx("input",{type:"time",className:`${R} ${g.time?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:l.time,onChange:z=>c({...l,time:z.target.value})})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:N,children:[u.jsx(_i,{size:12})," Description"]}),u.jsx("textarea",{rows:4,placeholder:"What happened? Describe the details...",className:`${R} resize-none leading-relaxed min-h-[120px] ${g.desc?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:l.desc,onChange:z=>c({...l,desc:z.target.value})}),g.desc&&u.jsxs("p",{className:"text-[10px] font-bold text-red-500 mt-1.5 flex items-center gap-1.5 animate-pulse ml-1",children:[u.jsx(wr,{size:10})," ",g.desc]})]}),u.jsxs("div",{className:"space-y-4 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex items-center justify-between px-1",children:[u.jsxs("label",{className:N.replace("mb-2","mb-0"),children:[u.jsx(IS,{size:12})," Attachments"]}),u.jsxs("span",{className:`text-[10px] font-bold px-2 py-1 rounded-md ${l.imageUrls.length>0?"bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-white":"text-zinc-300"}`,children:[l.imageUrls.length," Files"]})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/30 p-2 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 flex gap-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx(F3,{value:h,onChange:f,folder:"incidents",placeholder:"Paste image URL here..."})}),u.jsx("button",{type:"button",onClick:v,disabled:!h,className:"w-14 shrink-0 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-xl hover:bg-black dark:hover:bg-zinc-200 hover:shadow-lg hover:shadow-zinc-300 dark:hover:shadow-none hover:-translate-y-0.5 active:translate-y-0 active:scale-95 transition-all duration-200 disabled:opacity-30 disabled:transform-none disabled:shadow-none flex items-center justify-center",title:"Add Image",children:u.jsx(k0,{size:24,strokeWidth:3})})]}),l.imageUrls.length>0&&u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.imageUrls.map((z,P)=>u.jsxs("div",{className:"group relative aspect-square rounded-xl overflow-hidden bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 shadow-sm hover:shadow-md transition-shadow",children:[u.jsx("img",{src:aT(z),alt:`attachment-${P}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:q=>{q.target.src="https://placehold.co/100?text=Error"}}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center backdrop-blur-[1px]",children:u.jsx("button",{type:"button",onClick:()=>x(P),className:"p-2.5 bg-white/90 text-red-500 rounded-full shadow-lg hover:bg-red-500 hover:text-white hover:scale-110 active:scale-90 transition-all duration-200",title:"Remove Image",children:u.jsx(oa,{size:16})})}),u.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[8px] px-1.5 py-0.5 rounded font-bold backdrop-blur-sm pointer-events-none",children:["#",P+1]})]},P))})]})]}),u.jsx("div",{className:"p-6 pt-4 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 backdrop-blur-sm sticky bottom-0",children:u.jsxs("button",{type:"submit",disabled:a,className:"w-full h-14 bg-gradient-to-r from-zinc-900 to-zinc-800 dark:from-white dark:to-zinc-200 text-white dark:text-black rounded-xl font-black text-sm uppercase tracking-widest shadow-lg shadow-zinc-500/20 dark:shadow-zinc-900/50 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 active:scale-[0.98] transition-all duration-200 disabled:opacity-50 disabled:transform-none disabled:shadow-none flex items-center justify-center gap-3",children:[a?u.jsx(Zs,{size:18,className:"animate-spin"}):u.jsx(em,{size:18}),a?"Saving...":"Save Timeline Event"]})})]})]})]})}function G3({isOpen:n,onClose:e,text:t,incident:r}){const[a,l]=Lr.useState(!1),[c,h]=Lr.useState("preview"),f=I.useMemo(()=>{if(r){const R=(r.events||[]).map(N=>({date:N.date?new Date(N.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}):"-",time:N.time,desc:N.desc||N.title,originalDate:N.date}));return{meta:{Project:r.project||"-",Subject:r.subject||"-",Status:r.status||"-",Ticket:r.ticket||"-"},details:{Impact:r.impact||"-","Root Cause":r.root_cause||"-","Action Taken":r.action||"-"},timeline:R}}if(!t)return null;const v={meta:{},details:{},timeline:[]},x=t.split(`
`);let E=!1,A="";return x.forEach(R=>{const N=R.trim();if(!N)return;const z=R.indexOf(":");if(!E&&z!==-1&&z<20){const P=R.substring(0,z).trim(),q=R.substring(z+1).trim();["Project","Subject","Status","Ticket"].includes(P)?v.meta[P]=q:(["Impact","Root Cause","Action Taken"].includes(P),v.details[P]=q)}else if(E=!0,N.length<20&&/\d/.test(N)&&!N.includes("-"))A=N;else{const q=N.match(/^(\d{1,2}:\d{2})(?:\s*:|\s*-|\s*\.)?\s*(.*)/);q?v.timeline.push({date:A,time:q[1],desc:q[2]||""}):v.timeline.push({date:A,time:null,desc:N})}}),v},[t,r]),g=async()=>{try{await navigator.clipboard.writeText(t),l(!0),setTimeout(()=>{l(!1),e()},1e3)}catch(v){console.error("Failed to copy:",v);const x=document.createElement("textarea");x.value=t,document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),l(!0),setTimeout(()=>{l(!1),e()},1e3)}},b=()=>{const v=new Blob([t],{type:"text/plain;charset=utf-8"}),x=URL.createObjectURL(v),E=document.createElement("a");E.href=x,E.download=`Incident_Report_${f?.meta.Ticket||"Draft"}.txt`,E.click(),URL.revokeObjectURL(x)};return Lr.useEffect(()=>{const v=x=>{x.key==="Escape"&&n&&e()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[n,e]),n?u.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 transition-all",onClick:e,children:u.jsxs("div",{className:"bg-white dark:bg-[#09090b] w-full max-w-3xl h-[85vh] rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 relative",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center px-6 py-5 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 backdrop-blur-md",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-sm",children:u.jsx(_i,{size:24,className:"text-zinc-900 dark:text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-lg text-zinc-900 dark:text-white uppercase tracking-tight",children:"Report Preview"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("button",{onClick:()=>h("preview"),className:`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-md transition-all ${c==="preview"?"bg-zinc-900 text-white dark:bg-white dark:text-black":"text-zinc-400 hover:text-zinc-600"}`,children:"Visual"}),u.jsx("div",{className:"w-[1px] h-3 bg-zinc-300 dark:bg-zinc-700"}),u.jsx("button",{onClick:()=>h("raw"),className:`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-md transition-all ${c==="raw"?"bg-zinc-900 text-white dark:bg-white dark:text-black":"text-zinc-400 hover:text-zinc-600"}`,children:"Raw Text"})]})]})]}),u.jsx("button",{onClick:e,className:"p-2 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors",children:u.jsx(kn,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white dark:bg-[#09090b]",children:c==="raw"?u.jsx("textarea",{readOnly:!0,value:t,className:"w-full h-full p-6 font-mono text-xs font-medium text-zinc-600 dark:text-zinc-300 bg-transparent resize-none border-none outline-none leading-relaxed"}):u.jsxs("div",{className:"p-6 space-y-8",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f?.meta&&Object.entries(f.meta).map(([v,x])=>u.jsxs("div",{className:"p-4 rounded-2xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400 block mb-1",children:v}),u.jsx("span",{className:"text-sm font-bold text-zinc-900 dark:text-white block truncate",children:x})]},v))}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"text-xs font-black uppercase tracking-widest text-zinc-400 flex items-center gap-2",children:[u.jsx(tr,{size:14})," Incident Details"]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:f?.details&&Object.entries(f.details).map(([v,x])=>{let E=tr;return v.includes("Impact")&&(E=Ki),v.includes("Root")&&(E=Ej),v.includes("Action")&&(E=kj),u.jsxs("div",{className:"relative pl-4 border-l-2 border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(E,{size:12,className:"text-zinc-400"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:v})]}),u.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 font-medium whitespace-pre-wrap leading-relaxed",children:x==="-"?u.jsx("span",{className:"text-zinc-300 italic",children:"No description provided"}):x})]},v)})})]}),u.jsxs("div",{className:"space-y-4 pt-4 border-t border-zinc-100 dark:border-zinc-900",children:[u.jsxs("h4",{className:"text-xs font-black uppercase tracking-widest text-zinc-400 flex items-center gap-2",children:[u.jsx(pn,{size:14})," Timeline"]}),u.jsxs("div",{className:"relative space-y-6",children:[u.jsx("div",{className:"absolute top-2 bottom-2 left-[7px] w-[2px] bg-zinc-100 dark:bg-zinc-800"}),f?.timeline.map((v,x)=>u.jsxs("div",{className:"relative pl-8",children:[u.jsx("div",{className:"absolute left-[2px] top-[6px] w-3 h-3 rounded-full border-2 border-white dark:border-black bg-zinc-300 dark:bg-zinc-700 z-10"}),(x===0||v.date!==f.timeline[x-1].date)&&u.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[u.jsx(sr,{size:12,className:"text-zinc-400"}),u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:v.date})]}),u.jsxs("div",{className:"p-3 rounded-xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[v.time&&u.jsx("span",{className:"block text-xs font-black text-zinc-900 dark:text-white mb-0.5",children:v.time}),u.jsx("span",{className:"block text-xs text-zinc-600 dark:text-zinc-400",children:v.desc})]})]},x)),f?.timeline.length===0&&u.jsx("div",{className:"text-center py-8 text-zinc-400 text-xs italic",children:"No timeline events recorded."})]})]})]})}),u.jsxs("div",{className:"p-5 border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-[#09090b] flex justify-end gap-3 z-10",children:[u.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest bg-zinc-100 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:[u.jsx(_b,{size:16})," Download"]}),u.jsx("button",{onClick:g,disabled:a,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all shadow-lg hover:-translate-y-0.5 active:translate-y-0 ${a?"bg-emerald-500 text-white shadow-emerald-500/20":"bg-zinc-900 dark:bg-white text-white dark:text-black hover:shadow-xl"}`,children:a?u.jsxs(u.Fragment,{children:[u.jsx(Bu,{size:16})," Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(_u,{size:16})," Copy to Clipboard"]})})]})]})}):null}function $3({incident:n,onUpdate:e,onBack:t,onGenerateReport:r}){const a=b=>{switch(b){case"Open":return{bg:"bg-red-50 dark:bg-red-900/10",text:"text-red-600 dark:text-red-400",border:"border-red-100 dark:border-red-900/30",icon:wr};case"In Progress":return{bg:"bg-blue-50 dark:bg-blue-900/10",text:"text-blue-600 dark:text-blue-400",border:"border-blue-100 dark:border-blue-900/30",icon:vb};case"Monitoring":return{bg:"bg-orange-50 dark:bg-orange-900/10",text:"text-orange-600 dark:text-orange-400",border:"border-orange-100 dark:border-orange-900/30",icon:pn};case"Resolved":return{bg:"bg-emerald-50 dark:bg-emerald-900/10",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-100 dark:border-emerald-900/30",icon:ar};case"Closed":return{bg:"bg-zinc-100 dark:bg-zinc-800",text:"text-zinc-500 dark:text-zinc-400",border:"border-zinc-200 dark:border-zinc-700",icon:xb};default:return{bg:"bg-zinc-50",text:"text-zinc-700",border:"border-zinc-200",icon:wr}}},l=b=>{switch(b){case"Critical":return{color:"text-red-600",icon:Ki,bg:"bg-red-100 dark:bg-red-900/20"};case"High":return{color:"text-orange-500",icon:Ki,bg:"bg-orange-100 dark:bg-orange-900/20"};case"Medium":return{color:"text-yellow-500",icon:Bp,bg:"bg-yellow-100 dark:bg-yellow-900/20"};case"Low":return{color:"text-blue-500",icon:Bp,bg:"bg-blue-100 dark:bg-blue-900/20"};default:return{color:"text-zinc-500",icon:Bp,bg:"bg-zinc-100 dark:bg-zinc-800"}}},c=a(n.status),h=c.icon,f=l(n.priority||"Medium"),g=f.icon;return u.jsxs("div",{className:"relative px-6 py-6 border-b border-zinc-200 dark:border-zinc-800 z-20 shrink-0 bg-white dark:bg-[#080808]",children:[u.jsx("div",{className:"lg:hidden mb-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-zinc-500 hover:text-black dark:hover:text-white font-black uppercase text-[10px] tracking-widest px-3 py-2 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:[u.jsx(ED,{size:14})," BACK TO LIST"]})}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${c.bg} ${c.border} border transition-colors`,children:[u.jsx(h,{size:14,className:c.text}),u.jsx("select",{value:n.status||"Open",onChange:b=>e({status:b.target.value}),className:`bg-transparent font-black uppercase text-[10px] tracking-widest cursor-pointer outline-none ${c.text}`,children:["Open","In Progress","Monitoring","Resolved","Closed"].map(b=>u.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:b,children:b},b))}),u.jsx(xu,{size:12,className:`opacity-50 ${c.text} pointer-events-none`})]}),u.jsx("div",{className:"h-4 w-[1px] bg-zinc-200 dark:bg-zinc-800"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${f.bg} transition-colors`,children:[u.jsx(g,{size:14,className:f.color}),u.jsx("select",{value:n.priority||"Medium",onChange:b=>e({priority:b.target.value}),className:`bg-transparent font-bold uppercase text-[10px] tracking-wider cursor-pointer outline-none ${f.color}`,children:["Critical","High","Medium","Low"].map(b=>u.jsxs("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:b,children:[b," Priority"]},b))}),u.jsx(xu,{size:12,className:`opacity-50 ${f.color} pointer-events-none`})]}),u.jsx("div",{className:"hidden sm:block h-4 w-[1px] bg-zinc-200 dark:bg-zinc-800"}),u.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-zinc-400",children:[u.jsx(sr,{size:14}),u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-GB"):"-"})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 text-zinc-500 hover:text-blue-500 bg-zinc-50 dark:bg-zinc-800/50 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Generate Report",children:[u.jsx(_i,{size:16})," ",u.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Report"})]})})]}),u.jsx("div",{children:u.jsx("input",{type:"text",className:"w-full text-2xl md:text-3xl font-black text-zinc-900 dark:text-white placeholder-zinc-300 dark:placeholder-zinc-700 border-none bg-transparent p-0 focus:ring-0 leading-tight transition-colors",value:n.subject||"",onChange:b=>e({subject:b.target.value}),placeholder:"Incident Subject..."})})]})}function Q3({incident:n,onUpdate:e}){const t="w-full bg-transparent border-b border-zinc-200 dark:border-zinc-800 hover:border-zinc-400 dark:hover:border-zinc-600 focus:border-black dark:focus:border-white font-bold text-xs text-zinc-900 dark:text-white transition-all pb-1 placeholder-zinc-400 dark:placeholder-zinc-600 outline-none",r="block text-[9px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2 flex items-center gap-1.5";return u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 px-6 py-4 bg-zinc-50/50 dark:bg-zinc-900/20 border-b border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:r,children:[u.jsx(hz,{size:10})," Project"]}),u.jsx("input",{type:"text",className:t,value:n.project||"",onChange:a=>e({project:a.target.value}),placeholder:"Project Name"})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:r,children:[u.jsx(US,{size:10})," Type"]}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:n.type||"Incident",onChange:a=>e({type:a.target.value}),className:`${t} appearance-none cursor-pointer`,children:[u.jsx("option",{className:"dark:bg-zinc-800",value:"Incident",children:"Incident"}),u.jsx("option",{className:"dark:bg-zinc-800",value:"Request",children:"Request"}),u.jsx("option",{className:"dark:bg-zinc-800",value:"Maintenance",children:"Maint."})]}),u.jsx(xu,{size:12,className:"absolute right-0 top-1 text-zinc-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:r,children:[u.jsx(wb,{size:10})," Ticket ID"]}),u.jsx("input",{type:"text",className:`${t} font-mono text-blue-600 dark:text-blue-400`,value:n.ticket||"",onChange:a=>e({ticket:a.target.value}),placeholder:"NO-TICKET"})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:r,children:[u.jsx(BS,{size:10})," Reporter"]}),u.jsx("div",{className:"flex items-center gap-2 py-0.5 border-b border-zinc-200 dark:border-zinc-800 opacity-70",children:u.jsx("span",{className:"text-xs font-bold text-zinc-900 dark:text-white truncate",children:n.createdBy||"Unknown"})})]})]})}function Y3({incident:n,onUpdate:e}){const t="block text-[9px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2",r="w-full text-xs font-medium text-zinc-700 dark:text-zinc-300 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl p-3 border border-zinc-200 dark:border-zinc-800 focus:bg-white dark:focus:bg-zinc-900 focus:border-black dark:focus:border-white transition-all resize-none placeholder-zinc-400 outline-none min-h-[80px]";return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 px-6 py-6 border-b border-zinc-200 dark:border-zinc-800",children:["impact","root_cause","action"].map(a=>u.jsxs("div",{className:"relative group",children:[u.jsx("label",{className:t,children:a.replace("_"," ")}),u.jsx("textarea",{className:r,value:n[a]||"",onChange:l=>e({[a]:l.target.value}),placeholder:`Describe ${a.replace("_"," ")}...`})]},a))})}function W3({incident:n,isLoading:e,onUpdateIncident:t,onAddEvent:r,onDeleteEvent:a,onUpdateEvent:l,onReorderEvent:c,onBack:h}){const[f,g]=I.useState(!1),[b,v]=I.useState(null),[x,E]=I.useState(!1),[A,R]=I.useState("");if(!n)return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-zinc-50 dark:bg-[#050505] transition-colors",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-zinc-100 to-zinc-200 dark:from-zinc-800 dark:to-zinc-900 flex items-center justify-center mb-6 shadow-inner",children:u.jsx(vu,{size:32,className:"text-zinc-300 dark:text-zinc-600"})}),u.jsx("p",{className:"font-black text-zinc-400 dark:text-zinc-600 uppercase tracking-widest text-xs",children:"Select an incident to view details"})]});const N=[...n.events||[]].sort((L,X)=>{if(typeof L.order=="number"&&typeof X.order=="number"&&L.order!==X.order)return L.order-X.order;const F=new Date(`${L.date||"1970-01-01"}T${L.time||"00:00"}`).getTime(),C=new Date(`${X.date||"1970-01-01"}T${X.time||"00:00"}`).getTime();return F-C}),z=(L,X)=>{const F=[...N],C=X==="up"?L-1:L+1;if(C<0||C>=F.length)return;[F[L],F[C]]=[F[C],F[L]];const k=F.map((j,U)=>({...j,order:U}));c&&c(n.id,k)},P=L=>{t(n.id,L)},q=()=>{const X=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"2-digit"}).replace(/ /g,"-").toLowerCase(),F={};N.forEach(k=>{const U=(k.date?new Date(k.date):new Date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"});F[U]||(F[U]=[]),F[U].push(k)});let C=`Project: ${n.project||"-"}
Subject: ${n.type||"Incident"} | ${n.subject||"-"} | ${X}
Status: ${n.status||"-"}
Ticket: ${n.ticket||"-"}
Impact: ${n.impact||"-"}
Root Cause: ${n.root_cause||"-"}
Action Taken: ${n.action||"-"}

`;Object.keys(F).forEach(k=>{C+=`${k}
`,F[k].forEach(j=>C+=`${j.time} - ${j.desc||j.title}
`),C+=`
`}),R(C),E(!0)};return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-[#080808] relative transition-colors duration-300 overflow-hidden",children:[u.jsx($3,{incident:n,onUpdate:P,onBack:h,onGenerateReport:q}),u.jsx(Q3,{incident:n,onUpdate:P}),u.jsx(Y3,{incident:n,onUpdate:P}),u.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-8 custom-scrollbar bg-zinc-50/50 dark:bg-black relative min-h-0",children:e?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400 gap-4",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-zinc-200 border-t-black dark:border-t-white rounded-full animate-spin"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] animate-pulse",children:"Loading Timeline..."})]}):N.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-300 dark:text-zinc-700 pb-20",children:[u.jsx(pn,{size:48,className:"mb-4 opacity-50"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"No timeline events recorded"}),u.jsx("button",{onClick:()=>{v(null),g(!0)},className:"mt-6 px-6 py-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase shadow-sm hover:shadow-md hover:border-black dark:hover:border-white transition-all",children:"Start Logging"})]}):u.jsxs("div",{className:"flex flex-col pb-24 relative max-w-3xl mx-auto",children:[u.jsx("div",{className:"absolute top-0 bottom-0 left-[31px] w-[2px] bg-zinc-200 dark:bg-zinc-800 z-0"}),N.map((L,X)=>{const F=X===0||L.date!==N[X-1].date,C=L.date?new Date(L.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}):"-";return u.jsx(H3,{event:L,index:X,isLastItem:X===N.length-1,showDateHeader:F,dateLabel:C,onMove:z,onEdit:k=>{v(k),g(!0)},onDelete:k=>a(n.id,k)},L.id)})]})}),u.jsx("button",{onClick:()=>{v(null),g(!0)},className:"absolute bottom-8 right-8 bg-black dark:bg-white text-white dark:text-black w-14 h-14 rounded-full shadow-2xl hover:shadow-blue-500/20 hover:scale-105 transition-all z-30 flex items-center justify-center active:scale-95 group",children:u.jsx(vo,{size:28,className:"group-hover:rotate-90 transition-transform duration-300"})}),u.jsx(q3,{isOpen:f,onClose:()=>g(!1),initialData:b,onSubmit:L=>{b?l(n.id,b.id,L):r(n.id,L),g(!1)}}),u.jsx(G3,{isOpen:x,onClose:()=>E(!1),text:A,incident:n})]})}I.createContext();function Ho({message:n,type:e="info",onClose:t,className:r=""}){if(!n)return null;const a={success:u.jsx(ar,{size:20}),error:u.jsx(wr,{size:20}),warning:u.jsx(Ki,{size:20}),info:u.jsx(OS,{size:20})},l={success:"bg-emerald-500 text-white border-emerald-600 shadow-emerald-500/25",error:"bg-red-500 text-white border-red-600 shadow-red-500/25",warning:"bg-orange-500 text-white border-orange-600 shadow-orange-500/25",info:"bg-blue-500 text-white border-blue-600 shadow-blue-500/25"};return u.jsxs("div",{className:`
      flex items-center gap-3 px-5 py-3.5 rounded-xl shadow-lg border-2
      ${l[e]||l.info}
      ${r}
    `,children:[u.jsx("div",{className:"shrink-0",children:a[e]}),u.jsx("p",{className:"text-sm font-bold pr-2",children:n}),u.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 transition-colors rounded-lg ml-2",children:u.jsx(kn,{size:16})})]})}function X3(){const{currentUser:n}=qn(),{incidents:e,filteredIncidents:t,selectedId:r,setSelectedId:a,loading:l,stats:c,searchTerm:h,setSearchTerm:f,filterStatus:g,setFilterStatus:b,filterType:v,setFilterType:x,clearFilters:E,hasActiveFilters:A}=V3(),{sortedEvents:R,loading:N}=P3(r),[z,P]=I.useState({isOpen:!1}),[q,L]=I.useState({show:!1,message:"",type:"success"}),[X,F]=I.useState(!1),C=e.find(ae=>ae.id===r),k=I.useCallback((ae,pe="success")=>{L({show:!0,message:ae,type:pe}),setTimeout(()=>L(_e=>({..._e,show:!1})),3e3)},[]),j=async()=>{if(!n){k("Please login first!","error");return}F(!0);try{const ae=await Qi.createIncident({subject:"New Incident",project:"General",status:"Open",type:"Incident",ticket:"",createdBy:n,impact:"",root_cause:"",action:""});a(ae.id),k("Incident created")}catch(ae){console.error("Error creating incident:",ae),k(ae.message||"Failed to create incident","error")}finally{F(!1)}},U=ae=>{P({isOpen:!0,title:"Delete Incident?",message:"This action cannot be undone. All timeline events will be permanently deleted.",isDanger:!0,onConfirm:async()=>{try{await Qi.deleteIncident(ae),r===ae&&a(null),P({isOpen:!1}),k("Incident deleted")}catch(pe){console.error("Error deleting incident:",pe),k(pe.message||"Failed to delete","error")}}})},M=async(ae,pe)=>{try{await Qi.updateIncident(ae,pe)}catch(_e){console.error("Error updating incident:",_e),k(_e.message||"Failed to update","error")}},H=async(ae,pe)=>{try{await Qi.createEvent(ae,pe),k("Event added")}catch(_e){console.error("Error adding event:",_e),k(_e.message||"Failed to add event","error")}},V=async(ae,pe,_e)=>{try{await Qi.updateEvent(ae,pe,_e),k("Event updated")}catch(de){console.error("Error updating event:",de),k(de.message||"Failed to update event","error")}},Se=async(ae,pe)=>{P({isOpen:!0,title:"Delete Event?",message:"This timeline event will be permanently removed.",isDanger:!0,onConfirm:async()=>{try{await Qi.deleteEvent(ae,pe),P({isOpen:!1}),k("Event deleted")}catch(_e){console.error("Error deleting event:",_e),k(_e.message||"Failed to delete event","error")}}})},De=async(ae,pe)=>{try{await Qi.reorderEvents(ae,pe)}catch(_e){console.error("Error reordering events:",_e),k(_e.message||"Failed to reorder","error")}},re=ae=>{if(!ae||ae.length===0){k("No data to export","error");return}const _e=["Date,Project,Ticket,Type,Status,Subject,CreatedBy",...ae.map(Z=>{const ue=Z.createdAt?new Date(Z.createdAt).toLocaleDateString("en-GB"):"-",he=(Z.subject||"").replace(/"/g,'""');return`"${ue}","${Z.project||""}","${Z.ticket||""}","${Z.type||""}","${Z.status}","${he}","${Z.createdBy||""}"`})].join(`
`),de=new Blob(["\uFEFF"+_e],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a");O.href=URL.createObjectURL(de),O.download=`Incidents_Export_${new Date().toISOString().split("T")[0]}.csv`,O.click(),k("CSV exported")};return u.jsxs("div",{className:"w-full h-full flex overflow-hidden bg-zinc-50 dark:bg-black",children:[q.show&&u.jsx(Ho,{message:q.message,type:q.type,onClose:()=>L({...q,show:!1})}),u.jsx(Hu,{isOpen:z.isOpen,onClose:()=>P({isOpen:!1}),...z}),u.jsx("div",{className:`
        h-full border-r border-zinc-200 dark:border-zinc-800 overflow-hidden bg-white dark:bg-[#050505] flex-shrink-0 transition-all duration-300
        ${r?"hidden lg:block lg:w-[350px]":"w-full lg:w-[350px]"}
      `,children:u.jsx(B3,{incidents:e,filteredIncidents:t,selectedId:r,onSelect:a,onAddIncident:j,onDeleteIncident:U,onExportCSV:re,stats:c,searchTerm:h,setSearchTerm:f,filterStatus:g,setFilterStatus:b,filterType:v,setFilterType:x,clearFilters:E,hasActiveFilters:A,loading:l})}),u.jsx("div",{className:`
        h-full flex-1 min-w-0 overflow-hidden bg-white dark:bg-[#09090b] relative
        ${r?"block":"hidden lg:block"}
      `,children:u.jsx(W3,{incident:C?{...C,events:R}:null,isLoading:N,onBack:()=>a(null),onUpdateIncident:M,onAddEvent:H,onUpdateEvent:V,onDeleteEvent:Se,onReorderEvent:De,saving:X})})]})}const Kc="shift_handovers",Zc={subscribeHandovers:(n,e=50)=>{const t=Si(sn(Me,Kc),Hn("date","desc"),Hn("createdAt","desc"),IA(e));return rl(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data(),onDuty:l.data().onDuty||[],acknowledgedBy:l.data().acknowledgedBy||[]}));n(a)},r=>{console.error("Firestore subscription error:",r),n([])})},createHandover:async n=>{try{const e={...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),acknowledgedBy:n.acknowledgedBy||[],onDuty:n.onDuty||[]};return await ju(sn(Me,Kc),e)}catch(e){throw console.error("Create handover error:",e),new Error("Failed to create handover log")}},updateHandover:async(n,e)=>{try{const t={...e,updatedAt:new Date().toISOString()};await gi(_t(Me,Kc,n),t)}catch(t){throw console.error("Update handover error:",t),new Error("Failed to update handover log")}},deleteHandover:async n=>{try{await wm(_t(Me,Kc,n))}catch(e){throw console.error("Delete handover error:",e),new Error("Failed to delete handover log")}},toggleAcknowledge:async(n,e,t)=>{try{const r=_t(Me,Kc,n);await gi(r,{acknowledgedBy:t?gO(e):mO(e),updatedAt:new Date().toISOString()})}catch(r){throw console.error("Toggle acknowledge error:",r),new Error("Failed to update acknowledgment")}}},K3=()=>{const n=qn(M=>M.currentUser),e=qn(M=>M.nocMembers),[t,r]=I.useState([]),[a,l]=I.useState(!0),[c,h]=I.useState(!1),[f,g]=I.useState(""),[b,v]=I.useState("All"),[x,E]=I.useState("All"),[A,R]=I.useState(""),[N,z]=I.useState({show:!1,message:"",type:"success"}),P=I.useCallback((M,H="success")=>{z({show:!0,message:M,type:H}),setTimeout(()=>z(V=>({...V,show:!1})),3e3)},[]);I.useEffect(()=>{if(!n){r([]),l(!1);return}l(!0);const M=Zc.subscribeHandovers(H=>{r(H),l(!1)});return()=>M()},[n]);const q=I.useMemo(()=>t.filter(M=>{const H=A.toLowerCase(),V=M.note?.toLowerCase().includes(H)||!1,Se=(M.onDuty||[]).some(de=>typeof de=="string"&&de.toLowerCase().includes(H)),De=M.status?.toLowerCase().includes(H)||!1,re=!H||V||Se||De,ae=!f||M.date===f,pe=b==="All"||M.shift===b,_e=x==="All"||M.status===x;return re&&ae&&pe&&_e}),[t,A,f,b,x]),L=I.useCallback(M=>{const H=e.length,V=(M.acknowledgedBy||[]).length,Se=H>0?Math.round(V/H*100):0,De=V>=H;return{total:H,acked:V,percentage:Se,isComplete:De}},[e]),X=I.useMemo(()=>{const M=q.length,H=q.filter(Se=>Se.status!=="Normal").length,V=q.filter(Se=>{const{isComplete:De}=L(Se);return De}).length;return{total:M,withIssues:H,fullyAcked:V}},[q,L]);return{filteredHistory:q,loading:a,saving:c,stats:X,filterDate:f,setFilterDate:g,filterShift:b,setFilterShift:v,filterStatus:x,setFilterStatus:E,searchText:A,setSearchText:R,clearFilters:()=>{g(""),v("All"),E("All"),R("")},toast:N,setToast:z,showToast:P,handleSave:async(M,H,V)=>{h(!0);try{return H?(await Zc.updateHandover(V,M),P("Log updated successfully")):(await Zc.createHandover(M),P("Log created successfully")),!0}catch(Se){return P(Se.message||"Save failed","error"),!1}finally{h(!1)}},handleDelete:async M=>{try{await Zc.deleteHandover(M),P("Log deleted")}catch(H){P(H.message||"Delete failed","error")}},handleAcknowledge:async(M,H)=>{if(!n){P("Please login first!","error");return}const V=(M.acknowledgedBy||[]).includes(H);try{await Zc.toggleAcknowledge(M.id,H,V),P(V?"Acknowledgment removed":"Acknowledged ")}catch(Se){P(Se.message||"Failed to update","error")}},handleExportCSV:()=>{const H=["Date,Time,Shift,Status,Team,Acknowledged,Note",...q.map(De=>{const re=new Date(De.date).toLocaleDateString("en-GB"),ae=(De.note||"").replace(/"/g,'""'),pe=(De.onDuty||[]).join("; "),_e=(De.acknowledgedBy||[]).join("; ");return`"${re}","${De.time}","${De.shift}","${De.status}","${pe}","${_e}","${ae}"`})].join(`
`),V=new Blob(["\uFEFF"+H],{type:"text/csv;charset=utf-8;"}),Se=document.createElement("a");Se.href=URL.createObjectURL(V),Se.download=`NOC_Handover_${new Date().toISOString().split("T")[0]}.csv`,Se.click(),P("CSV exported")},getAckStats:L}};function Z3({isOpen:n,onClose:e,onSubmit:t,initialData:r,isEditing:a,currentUser:l,saving:c=!1}){const{nocMembers:h}=qn(),f=Lr.useCallback(()=>{const L=new Date,X=L.getHours(),F=X>=20||X<8,C=L.toTimeString().slice(0,5);return{date:L.toISOString().split("T")[0],time:C,shift:F?"Night":"Morning",onDuty:l?[l]:[],status:"Normal",note:"",acknowledgedBy:[]}},[l]),[g,b]=I.useState(f()),[v,x]=I.useState({});I.useEffect(()=>{n&&(b(r?{...r,onDuty:r.onDuty||[],acknowledgedBy:r.acknowledgedBy||[]}:f()),x({}))},[n,r,f]);const E=L=>{b(X=>X.onDuty.includes(L)?{...X,onDuty:X.onDuty.filter(C=>C!==L)}:{...X,onDuty:[...X.onDuty,L]})},A=()=>{const L={};return g.date||(L.date="Date is required"),g.time||(L.time="Time is required"),(!g.onDuty||g.onDuty.length===0)&&(L.onDuty="At least one staff member required"),x(L),Object.keys(L).length===0},R=L=>{L?.preventDefault(),A()&&t(g)};if(I.useEffect(()=>{const L=X=>{X.key==="Escape"&&n&&e()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[n,e]),!n)return null;const N="block text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2",z="w-full bg-zinc-50 dark:bg-zinc-950 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm font-bold text-zinc-900 dark:text-white focus:border-black dark:focus:border-white outline-none transition-all",P="text-[9px] font-bold text-red-500 mt-1",q=a?h:h.filter(L=>L.name===l);return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-zinc-900/60 dark:bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:e,children:u.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-[#18181b] rounded-[2rem] shadow-2xl border border-zinc-200 dark:border-zinc-700 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",onClick:L=>L.stopPropagation(),children:[u.jsxs("div",{className:"px-8 py-6 border-b border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-white to-zinc-50 dark:from-[#18181b] dark:to-zinc-900 flex justify-between items-center sticky top-0 z-10 shrink-0",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white flex items-center gap-2",children:[a?u.jsx(_i,{size:20,className:"text-zinc-400"}):u.jsx(pn,{size:20,className:"text-zinc-400"}),a?"Edit Log":"New Shift Log"]}),u.jsx("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest mt-1",children:a?"Update handover details":"Record shift handover"})]}),u.jsx("button",{onClick:e,disabled:c,className:"p-2 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:text-black dark:hover:text-white rounded-full transition-colors disabled:opacity-50",children:u.jsx(kn,{size:20})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto space-y-6 bg-white dark:bg-[#18181b] [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:N,children:"Date"}),u.jsx("input",{type:"date",value:g.date,onChange:L=>b({...g,date:L.target.value}),className:`${z} px-2 text-center tracking-tight ${v.date?"border-red-400":""}`}),v.date&&u.jsx("p",{className:P,children:v.date})]}),u.jsxs("div",{children:[u.jsx("label",{className:N,children:"Time"}),u.jsx("input",{type:"time",value:g.time,onChange:L=>b({...g,time:L.target.value}),className:`${z} px-2 text-center ${v.time?"border-red-400":""}`}),v.time&&u.jsx("p",{className:P,children:v.time})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:N,children:"Shift Type"}),u.jsx("div",{className:"flex flex-col gap-2",children:["Morning","Night"].map(L=>u.jsxs("button",{type:"button",onClick:()=>b({...g,shift:L}),className:`flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase transition-all border-2
                      ${g.shift===L?"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white shadow-md":"bg-zinc-50 text-zinc-400 border-zinc-100 dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-500 hover:border-zinc-300 dark:hover:border-zinc-600"}`,children:[L==="Morning"?u.jsx(nm,{size:14}):u.jsx(Jf,{size:14}),L," ",u.jsxs("span",{className:"text-[8px] opacity-60",children:["(",L==="Morning"?"08-20":"20-08",")"]})]},L))})]}),u.jsxs("div",{children:[u.jsx("label",{className:N,children:"On Duty"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(L=>{const X=g.onDuty.includes(L.name);return u.jsx("button",{type:"button",onClick:()=>E(L.name),className:`
                        flex flex-col items-center justify-center p-2 w-full rounded-xl border-2 transition-all
                        ${X?"bg-zinc-50 dark:bg-zinc-800 border-black dark:border-white opacity-100 shadow-sm":"bg-white dark:bg-transparent border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-600 opacity-60 hover:opacity-100"}
                      `,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`
                          w-6 h-6 rounded-full flex items-center justify-center text-[9px] font-black transition-colors
                          ${X?"bg-black text-white dark:bg-white dark:text-black":"bg-zinc-200 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400"}
                        `,children:L.name.charAt(0)}),u.jsx("span",{className:`text-[10px] font-bold uppercase truncate ${X?"text-black dark:text-white":"text-zinc-400"}`,children:L.name.split(" ")[0]})]})},L.id)})}),v.onDuty&&u.jsx("p",{className:P,children:v.onDuty}),l&&g.onDuty.includes(l)&&!a&&u.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-[9px] text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/30 py-1.5 px-2 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[u.jsx(ar,{size:10})," Will auto-acknowledge"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:N,children:"Shift Status"}),u.jsx("div",{className:"flex gap-3 p-1.5 bg-zinc-50 dark:bg-zinc-950 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:["Normal","Issues"].map(L=>u.jsxs("button",{type:"button",onClick:()=>b({...g,status:L}),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase transition-all
                    ${g.status===L?L==="Normal"?"bg-emerald-500 text-white shadow-lg ring-2 ring-emerald-200 dark:ring-emerald-900":"bg-red-500 text-white shadow-lg ring-2 ring-red-200 dark:ring-red-900":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}
                  `,children:[L==="Normal"?u.jsx(ar,{size:16}):u.jsx(Ki,{size:16}),L]},L))})]}),u.jsxs("div",{children:[u.jsx("label",{className:N,children:"Handover Remarks"}),u.jsx("textarea",{rows:4,placeholder:"Summary of events, pending tasks, or issues to hand over...",value:g.note,onChange:L=>b({...g,note:L.target.value}),className:`${z} resize-none min-h-[100px] leading-relaxed`}),u.jsxs("div",{className:"text-[9px] text-zinc-400 mt-1 text-right",children:[(g.note||"").length," characters"]})]})]}),u.jsxs("div",{className:"p-6 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-[#18181b]/50 flex gap-3 shrink-0",children:[u.jsx("button",{type:"button",onClick:e,disabled:c,className:"flex-1 py-3.5 rounded-xl border-2 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400 font-black uppercase text-[10px] tracking-widest hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors disabled:opacity-50",children:"Cancel"}),u.jsx("button",{onClick:R,disabled:c,className:"flex-[2] py-3.5 bg-black dark:bg-white text-white dark:text-black rounded-xl font-black uppercase text-[10px] tracking-widest hover:opacity-90 transition-opacity shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:c?u.jsxs(u.Fragment,{children:[u.jsx(Zs,{size:16,className:"animate-spin"})," Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(em,{size:16})," Save Log"]})})]})]})})}function J3({log:n,isOpen:e,onClose:t,nocMembers:r}){if(!e||!n)return null;const a=r.length,l=(n.acknowledgedBy||[]).length,c=a>0?Math.round(l/a*100):0,h=l>=a;return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-zinc-900/60 dark:bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-[#18181b] rounded-[2rem] shadow-2xl border border-zinc-200 dark:border-zinc-700 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",onClick:f=>f.stopPropagation(),children:[u.jsx("div",{className:"px-8 py-6 border-b border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-zinc-50 to-white dark:from-zinc-900 dark:to-[#18181b]",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[n.shift==="Morning"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-gradient-to-r from-orange-100 to-amber-100 dark:from-orange-900/30 dark:to-amber-900/30 text-orange-600 dark:text-orange-400 px-2.5 py-1 rounded-full",children:[u.jsx(nm,{size:12})," Morning Shift"]}):u.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-600 dark:text-indigo-400 px-2.5 py-1 rounded-full",children:[u.jsx(Jf,{size:12})," Night Shift"]}),n.status==="Normal"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 px-2.5 py-1 rounded-full",children:[u.jsx(ar,{size:12})," Normal"]}):u.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2.5 py-1 rounded-full animate-pulse",children:[u.jsx(Ki,{size:12})," Issues"]})]}),u.jsx("h2",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white",children:"Shift Log Details"})]}),u.jsx("button",{onClick:t,className:"p-2 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:text-black dark:hover:text-white rounded-full transition-colors hover:bg-zinc-200 dark:hover:bg-zinc-700",children:u.jsx(kn,{size:20})})]})}),u.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-6",children:[u.jsxs("div",{className:`p-4 rounded-2xl border-2 ${h?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500 flex items-center gap-1",children:[u.jsx(Jz,{size:12})," Acknowledgment Status"]}),u.jsxs("span",{className:`text-sm font-black ${h?"text-emerald-600":"text-amber-600"}`,children:[c,"%"]})]}),u.jsx("div",{className:"w-full h-2 bg-zinc-200 dark:bg-zinc-700 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-700 rounded-full ${h?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${c}%`}})}),u.jsxs("div",{className:"mt-2 text-[10px] font-bold text-zinc-500",children:[l," of ",a," team members acknowledged"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[u.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-1",children:[u.jsx(sr,{size:10,className:"inline mr-1"}),"Date"]}),u.jsx("div",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:new Date(n.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"long",year:"numeric"})})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[u.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-1",children:[u.jsx(pn,{size:10,className:"inline mr-1"}),"Time Logged"]}),u.jsx("div",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:n.time})]})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3 flex items-center gap-1",children:[u.jsx(au,{size:12})," On Duty"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:n.onDuty&&n.onDuty.length>0?n.onDuty.map((f,g)=>u.jsxs("div",{className:"flex items-center gap-2 pl-1 pr-3 py-1.5 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-full shadow-sm",children:[u.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-zinc-800 to-zinc-900 dark:from-white dark:to-zinc-100 text-white dark:text-black flex items-center justify-center text-[10px] font-black",children:f.charAt(0)}),u.jsx("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-200",children:f})]},g)):u.jsx("span",{className:"text-xs text-zinc-400 italic",children:"No staff assigned"})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3",children:"Remarks / Note"}),u.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 p-5 rounded-2xl border border-zinc-100 dark:border-zinc-800 text-sm font-medium text-zinc-700 dark:text-zinc-300 leading-relaxed whitespace-pre-wrap min-h-[80px]",children:n.note||u.jsx("span",{className:"text-zinc-400 italic",children:"No additional remarks."})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3",children:"Acknowledged By"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((f,g)=>{const b=(n.acknowledgedBy||[]).includes(f.name);return u.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-[10px] font-bold border transition-all ${b?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800":"bg-zinc-50 dark:bg-zinc-800 text-zinc-400 border-zinc-200 dark:border-zinc-700 opacity-60"}`,children:[b?u.jsx(ar,{size:12}):u.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"}),f.name]},f.id||g)})})]})]}),u.jsx("div",{className:"px-8 py-4 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50",children:u.jsx("button",{onClick:t,className:"w-full py-3 rounded-xl border-2 border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400 font-black uppercase text-[10px] tracking-widest hover:bg-white dark:hover:bg-zinc-800 transition-colors",children:"Close"})})]})})}function e6({log:n,currentUser:e,nocMembers:t,onView:r,onEdit:a,onDelete:l,onAck:c,getAckStats:h}){const f=h?h(n):{total:t.length,acked:(n.acknowledgedBy||[]).length,percentage:0,isComplete:!1};!f.percentage&&t.length>0&&(f.percentage=Math.round(f.acked/f.total*100),f.isComplete=f.acked>=f.total);const g=n.shift==="Morning",b=g?"from-orange-500/10 to-amber-500/10 dark:from-orange-500/20 dark:to-amber-500/20 border-l-orange-500":"from-indigo-500/10 to-violet-500/10 dark:from-indigo-500/20 dark:to-violet-500/20 border-l-indigo-500";return u.jsxs("div",{onClick:r,className:`group relative bg-white dark:bg-[#0a0a0a] rounded-2xl border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden border-l-4 ${b}`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${g?"from-orange-500":"from-indigo-500"} opacity-[0.03] rounded-bl-full pointer-events-none`}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-zinc-100 dark:bg-zinc-800",children:u.jsx("div",{className:`h-full transition-all duration-500 ${f.isComplete?"bg-emerald-500":f.percentage>50?"bg-blue-500":f.percentage>0?"bg-amber-500":"bg-zinc-300 dark:bg-zinc-700"}`,style:{width:`${f.percentage}%`}})}),u.jsxs("div",{className:"flex flex-col md:flex-row p-5 gap-6 relative",children:[u.jsxs("div",{className:"flex md:flex-col items-center md:items-start gap-3 md:w-32 shrink-0 border-b md:border-b-0 md:border-r border-zinc-100 dark:border-zinc-800 pb-4 md:pb-0 md:pr-4",children:[u.jsx("div",{className:`p-2.5 rounded-xl shrink-0 ${g?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400"}`,children:g?u.jsx(nm,{size:18}):u.jsx(Jf,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-black uppercase text-zinc-900 dark:text-white tracking-wide",children:new Date(n.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})}),u.jsx("span",{className:"block text-[10px] font-bold text-zinc-400 font-mono mt-0.5",children:n.time}),u.jsxs("div",{className:`mt-2 text-[9px] font-bold uppercase tracking-wider ${f.isComplete?"text-emerald-500":"text-zinc-400"}`,children:[f.acked,"/",f.total," Ack"]})]})]}),u.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[u.jsxs("div",{className:"mb-3",children:[n.status!=="Normal"&&u.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 text-[9px] font-black text-red-600 dark:text-red-400 uppercase tracking-wide mb-2",children:[u.jsx(wr,{size:10})," Issue Reported"]}),u.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 line-clamp-2 leading-relaxed",children:n.note||u.jsx("span",{className:"text-zinc-400 italic",children:"No remarks recorded."})})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[u.jsx("div",{className:"flex -space-x-1.5",children:n.onDuty&&n.onDuty.length>0?n.onDuty.map((v,x)=>u.jsx("div",{title:v,className:"w-5 h-5 rounded-full bg-zinc-100 dark:bg-zinc-800 border border-white dark:border-black flex items-center justify-center text-[8px] font-black text-zinc-500 uppercase",children:v.charAt(0)},x)):u.jsx("span",{className:"text-[10px] text-zinc-300",children:"-"})}),u.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider pl-1",children:"On Duty"})]})]}),u.jsxs("div",{className:"flex flex-row md:flex-col items-center justify-between md:justify-center gap-4 pl-0 md:pl-4 border-t md:border-t-0 md:border-l border-zinc-100 dark:border-zinc-800 pt-4 md:pt-0",children:[u.jsx("div",{className:"flex md:grid md:grid-cols-2 gap-1.5",children:t.map((v,x)=>{const E=(n.acknowledgedBy||[]).includes(v.name),A=e===v.name;return u.jsx("div",{onClick:R=>{R.stopPropagation(),A&&c(n,v.name)},className:`
                    w-7 h-7 rounded-full border flex items-center justify-center text-[9px] font-black transition-all duration-200
                    ${A?"cursor-pointer hover:scale-110 shadow-sm":"cursor-default"}
                    ${E?"bg-zinc-900 text-white dark:bg-white dark:text-black border-transparent":"bg-zinc-50 dark:bg-zinc-900 text-zinc-400 border-zinc-200 dark:border-zinc-800"}
                    ${A&&!E?"ring-2 ring-blue-500/50 animate-pulse":""}
                  `,title:`${v.name} ${E?"(Acknowledged)":"(Pending)"}`,children:E?u.jsx(Bu,{size:10,strokeWidth:4}):v.name.charAt(0)},v.id||x)})}),u.jsxs("div",{className:"flex gap-1 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200",children:[u.jsx("button",{onClick:v=>{v.stopPropagation(),a(n)},className:"p-1.5 text-zinc-400 hover:text-blue-500 transition-colors bg-zinc-50 dark:bg-zinc-900 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Edit",children:u.jsx(Eb,{size:12})}),u.jsx("button",{onClick:v=>{v.stopPropagation(),l(n.id)},className:"p-1.5 text-zinc-400 hover:text-red-500 transition-colors bg-zinc-50 dark:bg-zinc-900 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete",children:u.jsx(oa,{size:12})})]})]})]})]})}function t6(){const{currentUser:n,nocMembers:e}=qn(),{filteredHistory:t,loading:r,saving:a,stats:l,searchText:c,setSearchText:h,filterShift:f,setFilterShift:g,filterStatus:b,setFilterStatus:v,clearFilters:x,handleSave:E,handleDelete:A,handleAcknowledge:R,handleExportCSV:N,toast:z,setToast:P,getAckStats:q}=K3(),[L,X]=I.useState(!1),[F,C]=I.useState(!1),[k,j]=I.useState(null),[U,M]=I.useState(!1),[H,V]=I.useState({isOpen:!1}),[Se,De]=I.useState(!1),re=(de=null)=>{M(!!de),j(de),X(!0)},ae=async de=>{let O={...de};U||(O.timestamp=new Date().toISOString(),n&&(!O.onDuty||O.onDuty.length===0?O.onDuty=[n]:O.onDuty.includes(n)||(O.onDuty=[...O.onDuty,n]),O.acknowledgedBy=[n])),await E(O,U,k?.id)&&X(!1)},pe=async de=>{await A(de),V({isOpen:!1})},_e=c||f!=="All"||b!=="All";return u.jsxs("div",{className:"h-full flex flex-col bg-zinc-50 dark:bg-black overflow-hidden relative",children:[z.show&&u.jsx(Ho,{message:z.message,type:z.type,onClose:()=>P({...z,show:!1})}),u.jsx(Hu,{isOpen:H.isOpen,onClose:()=>V({isOpen:!1}),...H}),u.jsx(Z3,{isOpen:L,onClose:()=>X(!1),onSubmit:ae,initialData:k,isEditing:U,currentUser:n,saving:a}),u.jsx(J3,{log:k,isOpen:F,onClose:()=>C(!1),nocMembers:e}),u.jsxs("div",{className:"flex-shrink-0 relative overflow-hidden bg-white dark:bg-[#050505] border-b border-zinc-200 dark:border-zinc-800 z-10 transition-all duration-300",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-indigo-600/5 dark:from-blue-600/10 dark:to-indigo-600/10"}),u.jsxs("div",{className:"relative px-4 md:px-8 py-6",children:[u.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-end gap-6 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/20 text-white",children:u.jsx(_i,{size:32})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight dark:text-white leading-none",children:"Handover"}),u.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mt-1",children:"Shift Logs & Acknowledgment"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 w-full xl:w-auto",children:[u.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm",children:[u.jsx("div",{className:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-zinc-500",children:u.jsx(DS,{size:16})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xl font-black dark:text-white leading-none",children:l.total}),u.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Total Logs"})]})]}),u.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm",children:[u.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg text-emerald-600 dark:text-emerald-400",children:u.jsx(yb,{size:16})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xl font-black text-emerald-600 dark:text-emerald-400 leading-none",children:l.fullyAcked}),u.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Acked"})]})]}),l.withIssues>0&&u.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm ring-1 ring-red-500/20",children:[u.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg text-red-600 dark:text-red-400 animate-pulse",children:u.jsx(wr,{size:16})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xl font-black text-red-600 dark:text-red-400 leading-none",children:l.withIssues}),u.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Issues"})]})]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Su,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),u.jsx("input",{type:"text",placeholder:"Search logs by note, duty staff...",value:c,onChange:de=>h(de.target.value),className:"w-full h-11 pl-10 pr-4 bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl text-xs font-bold outline-none focus:border-blue-500 dark:focus:border-blue-500 transition-all placeholder:text-zinc-400"})]}),u.jsxs("div",{className:"flex gap-2 shrink-0",children:[u.jsxs("button",{onClick:()=>De(!Se),className:`h-11 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all border-2 ${_e?"bg-blue-500 text-white border-blue-500 shadow-lg shadow-blue-500/20":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[u.jsx(wu,{size:14}),u.jsx("span",{className:"hidden sm:inline",children:"Filter"}),_e&&u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),u.jsx("button",{onClick:N,className:"h-11 w-11 flex items-center justify-center bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl text-zinc-500 hover:text-black dark:hover:text-white hover:border-zinc-300 dark:hover:border-zinc-700 transition-all",title:"Export to CSV",children:u.jsx(_b,{size:16})}),u.jsxs("button",{onClick:()=>re(),className:"h-11 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:shadow-lg hover:shadow-blue-500/25 transition-all flex items-center justify-center gap-2 active:scale-95",children:[u.jsx(vo,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"New Log"})]})]})]}),Se&&u.jsx("div",{className:"mt-4 p-4 bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-100 dark:border-zinc-800 rounded-2xl animate-in slide-in-from-top-2 duration-200",children:u.jsxs("div",{className:"flex flex-wrap gap-6 items-center",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("span",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest",children:"Shift Type"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Morning","Night"].map(de=>u.jsx("button",{onClick:()=>g(de),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${f===de?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-700 hover:border-zinc-400"}`,children:de},de))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("span",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest",children:"Status"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Normal","Issues"].map(de=>u.jsx("button",{onClick:()=>v(de),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${b===de?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-700 hover:border-zinc-400"}`,children:de},de))})]}),_e&&u.jsxs("button",{onClick:x,className:"ml-auto px-4 py-2 rounded-xl text-[10px] font-bold text-red-500 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 border border-transparent hover:border-red-200 transition-colors flex items-center gap-1",children:[u.jsx(kn,{size:14})," Clear All Filters"]})]})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-8 py-6 custom-scrollbar",children:u.jsx("div",{className:"max-w-5xl mx-auto space-y-4 pb-20",children:r?u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"inline-block w-8 h-8 border-2 border-zinc-300 border-t-black dark:border-zinc-700 dark:border-t-white rounded-full animate-spin mb-4"}),u.jsx("p",{className:"text-zinc-400 text-xs font-bold uppercase",children:"Loading Logs..."})]}):t.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[u.jsx(_i,{size:48,className:"text-zinc-300 dark:text-zinc-700 mb-4"}),u.jsx("p",{className:"text-zinc-400 text-xs font-bold uppercase tracking-widest mb-4",children:_e?"No matching logs":"No logs found"}),_e&&u.jsx("button",{onClick:x,className:"px-4 py-2 text-[10px] font-bold uppercase bg-zinc-200 dark:bg-zinc-800 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:"Clear Filters"})]}):t.map(de=>u.jsx(e6,{log:de,currentUser:n,nocMembers:e,getAckStats:q,onView:()=>{j(de),C(!0)},onEdit:re,onDelete:O=>V({isOpen:!0,title:"Delete Log?",message:"This action cannot be undone.",isDanger:!0,onConfirm:()=>pe(O)}),onAck:R},de.id))})})]})}const t0="ticket_logs",lT={subscribeLogs:n=>{const e=Si(sn(Me,t0),Hn("date","desc"));return rl(e,t=>{const r=t.docs.map(a=>({id:a.id,...a.data()}));n(r)},t=>{console.error("Error subscribing to ticket logs:",t),n([])})},importLogs:async n=>{try{const e=Df(Me);return n.forEach(t=>{const r=_t(sn(Me,t0));e.set(r,{...t,importedAt:Wa(),updatedAt:Wa()})}),await e.commit()}catch(e){throw console.error("Error importing logs to Firestore:",e),e}},createLog:async n=>{try{const e={...n,createdAt:Wa(),updatedAt:Wa()};return await ju(sn(Me,t0),e)}catch(e){throw console.error("Error creating ticket log:",e),e}}},n6=()=>{const[n,e]=I.useState([]),[t,r]=I.useState(!0),[a,l]=I.useState("");I.useEffect(()=>{r(!0);const f=lT.subscribeLogs(g=>{e(g),r(!1)});return()=>f()},[]);const c=I.useMemo(()=>{const f=a.toLowerCase().trim();return f?n.filter(g=>(g.ticketNumber||"").toLowerCase().includes(f)||(g.shortDesc||"").toLowerCase().includes(f)||(g.assign||"").toLowerCase().includes(f)||(g.category||"").toLowerCase().includes(f)):n},[n,a]),h=I.useMemo(()=>n?{total:n.length,succeed:n.filter(f=>f.status==="Succeed").length,pending:n.filter(f=>f.status!=="Succeed"&&f.status!=="").length,incidents:n.filter(f=>f.type==="Incident").length}:{total:0,succeed:0,pending:0,incidents:0},[n]);return{logs:c,allLogs:n,stats:h,loading:t,searchTerm:a,setSearchTerm:l}},r6=n=>{if(!n)return[];const e=n.split(`
`).filter(t=>t.trim()!=="");return e.length<2?[]:e.slice(1).map(t=>{const a=(t.match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g)||[]).map(l=>l.replace(/^"|"$/g,"").trim());return a.length<5?null:{no:a[1]||"",date:a[2]||"",ticketNumber:a[3]||"",type:a[4]||"Incident",status:a[5]||"Open",severity:a[6]||"",category:a[7]||"",subCategory:a[8]||"",shortDesc:a[9]||"",detail:a[10]||"",action:a[11]||"",resolvedDetail:a[12]||"",assign:a[13]||"",remark:a[14]||""}}).filter(Boolean)};function i6({stats:n={}}){const e=[{label:"Total Tickets",value:n?.total||0,icon:_i,color:"text-blue-500",bg:"bg-blue-50"},{label:"Succeed",value:n?.succeed||0,icon:yb,color:"text-green-500",bg:"bg-green-50"},{label:"Pending",value:n?.pending||0,icon:pn,color:"text-orange-500",bg:"bg-orange-50"},{label:"Incidents",value:n?.incidents||0,icon:wr,color:"text-red-500",bg:"bg-red-50"}];return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((t,r)=>u.jsx("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-2xl ${t.bg} dark:bg-opacity-10 ${t.color}`,children:u.jsx(t.icon,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-400 tracking-widest",children:t.label}),u.jsx("p",{className:"text-2xl font-black dark:text-white leading-none mt-1",children:t.value})]})]})},r))})}function s6({ticket:n,onClose:e}){return n?u.jsxs("div",{className:"fixed inset-y-0 right-0 w-full md:w-[450px] bg-white dark:bg-[#050505] shadow-2xl z-50 border-l border-zinc-200 dark:border-zinc-800 flex flex-col animate-in slide-in-from-right duration-300",children:[u.jsxs("div",{className:"p-6 border-b border-zinc-100 dark:border-zinc-900 flex justify-between items-center",children:[u.jsx("h2",{className:"font-black uppercase tracking-tighter text-xl dark:text-white",children:"Ticket Detail"}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-900 rounded-full transition-colors text-zinc-400",children:u.jsx(kn,{size:20})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-blue-500 uppercase tracking-widest",children:[u.jsx(US,{size:12})," ",n.category||"General"," / ",n.subCategory||"Other"]}),u.jsx("h3",{className:"text-lg font-bold leading-snug dark:text-white",children:n.shortDesc}),u.jsx("p",{className:"text-xs font-mono text-zinc-400 font-bold tracking-tighter uppercase",children:n.ticketNumber})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-zinc-400 tracking-widest border-b border-zinc-100 dark:border-zinc-900 pb-2",children:[u.jsx(OS,{size:14})," Description & Detail"]}),u.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed whitespace-pre-wrap",children:n.detail||""})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-zinc-400 tracking-widest border-b border-zinc-100 dark:border-zinc-900 pb-2",children:[u.jsx(yb,{size:14})," Action & Resolution"]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-black text-zinc-400 uppercase mb-1",children:"Action Taken"}),u.jsx("p",{className:"text-sm dark:text-zinc-200",children:n.action||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-black text-zinc-400 uppercase mb-1",children:"Resolved Detail"}),u.jsx("p",{className:"text-sm dark:text-zinc-200",children:n.resolvedDetail||"-"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-zinc-900 dark:bg-white rounded-2xl text-white dark:text-black",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 dark:bg-zinc-100 flex items-center justify-center font-black",children:n.assign?.charAt(0).toUpperCase()||"U"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-black uppercase opacity-60 tracking-widest",children:"Assigned To"}),u.jsx("p",{className:"text-sm font-bold",children:n.assign||"Unassigned"})]})]})]})]}):null}function a6(){const{logs:n,stats:e,loading:t,searchTerm:r,setSearchTerm:a}=n6(),[l,c]=I.useState(!1),[h,f]=I.useState(null),g=async b=>{const v=b.target.files[0];if(!v)return;c(!0);const x=new FileReader;x.onload=async E=>{try{const A=E.target.result,R=r6(A);R.length>0&&(await lT.importLogs(R),alert(` ${R.length} `))}catch(A){console.error("Import error:",A),alert("")}finally{c(!1),b.target.value=null}},x.readAsText(v)};return u.jsxs("div",{className:"flex h-full bg-zinc-50 dark:bg-black overflow-hidden relative",children:[u.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[u.jsxs("header",{className:"p-6 bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tighter dark:text-white",children:"Ticket Log Management"}),u.jsx("p",{className:"text-xs text-zinc-500 font-medium",children:" NOC"})]}),u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("label",{className:`
              flex items-center gap-2 px-4 py-2.5 bg-black dark:bg-white text-white dark:text-black 
              rounded-xl text-xs font-black uppercase tracking-widest cursor-pointer 
              hover:opacity-80 transition-all shadow-lg shadow-black/10
              ${l?"opacity-50 cursor-not-allowed":""}
            `,children:[u.jsx(pj,{size:16,strokeWidth:3}),u.jsx("span",{children:l?"Processing...":"Import CSV"}),u.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:g,disabled:l})]})})]}),u.jsxs("main",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[u.jsx(i6,{stats:e}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Su,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),u.jsx("input",{type:"text",placeholder:" Ticket,  ...",className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl outline-none focus:ring-2 ring-black dark:ring-white transition-all shadow-sm text-sm",value:r,onChange:b=>a(b.target.value)})]}),u.jsxs("button",{className:"flex items-center justify-center gap-2 px-6 py-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl text-xs font-bold hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[u.jsx(wu,{size:16}),"Filters"]})]}),u.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-[2rem] overflow-hidden shadow-sm flex flex-col",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 bg-zinc-50/50 dark:bg-zinc-800/30 border-b border-zinc-200 dark:border-zinc-800",children:[u.jsx("th",{className:"px-6 py-5",children:"Date / ID"}),u.jsx("th",{className:"px-6 py-5",children:"Subject & Detail"}),u.jsx("th",{className:"px-6 py-5",children:"Status"}),u.jsx("th",{className:"px-6 py-5",children:"Assigned To"}),u.jsx("th",{className:"px-6 py-5 w-10"})]})}),u.jsx("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:t?u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"px-6 py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-zinc-200 border-t-black dark:border-t-white rounded-full animate-spin"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Loading Logs..."})]})})}):n.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"px-6 py-20 text-center text-zinc-400 text-xs font-bold",children:""})}):n.map(b=>u.jsxs("tr",{onClick:()=>f(b),className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/30 transition-all cursor-pointer",children:[u.jsx("td",{className:"px-6 py-6 whitespace-nowrap",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-sm font-bold dark:text-white",children:b.date}),u.jsx("span",{className:"text-[10px] text-zinc-400 font-mono font-bold tracking-tighter uppercase",children:b.ticketNumber})]})}),u.jsx("td",{className:"px-6 py-6",children:u.jsxs("div",{className:"flex flex-col gap-1 max-w-md",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-[9px] font-black bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded uppercase tracking-tighter dark:text-zinc-300",children:b.category})}),u.jsx("p",{className:"text-xs font-bold text-zinc-800 dark:text-zinc-200 line-clamp-1 group-hover:text-blue-500 transition-colors",children:b.shortDesc})]})}),u.jsx("td",{className:"px-6 py-6",children:u.jsxs("div",{className:`
                            inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider
                            ${b.status==="Succeed"?"bg-green-50 text-green-600 dark:bg-green-500/10":"bg-orange-50 text-orange-600 dark:bg-orange-500/10"}
                          `,children:[b.status==="Succeed"?u.jsx(ar,{size:12,strokeWidth:3}):u.jsx(pn,{size:12,strokeWidth:3}),b.status]})}),u.jsx("td",{className:"px-6 py-6 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-[10px] font-black",children:b.assign?.charAt(0).toUpperCase()||"?"}),u.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-400",children:b.assign||"N/A"})]})}),u.jsx("td",{className:"px-6 py-6",children:u.jsx("button",{className:"p-2 text-zinc-300 hover:text-black dark:hover:text-white transition-colors",children:u.jsx(JD,{size:16})})})]},b.id))})]})})})]})]}),u.jsx(s6,{ticket:h,onClose:()=>f(null)})]})}const oT=6048e5,l6=864e5,Kw=Symbol.for("constructDateFrom");function Fr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Kw in n?n[Kw](e):n instanceof Date?new n.constructor(e):new Date(e)}function Sr(n,e){return Fr(e||n,n)}function cT(n,e,t){const r=Sr(n,t?.in);return isNaN(e)?Fr(n,NaN):(e&&r.setDate(r.getDate()+e),r)}let o6={};function Sm(){return o6}function Mu(n,e){const t=Sm(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Sr(n,e?.in),l=a.getDay(),c=(l<r?7:0)+l-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function jf(n,e){return Mu(n,{...e,weekStartsOn:1})}function uT(n,e){const t=Sr(n,e?.in),r=t.getFullYear(),a=Fr(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=jf(a),c=Fr(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const h=jf(c);return t.getTime()>=l.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function Zw(n){const e=Sr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function dT(n,...e){const t=Fr.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Mf(n,e){const t=Sr(n,e?.in);return t.setHours(0,0,0,0),t}function c6(n,e,t){const[r,a]=dT(t?.in,n,e),l=Mf(r),c=Mf(a),h=+l-Zw(l),f=+c-Zw(c);return Math.round((h-f)/l6)}function u6(n,e){const t=uT(n,e),r=Fr(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jf(r)}function d6(n){return Fr(n,Date.now())}function h6(n,e,t){const[r,a]=dT(t?.in,n,e);return+Mf(r)==+Mf(a)}function f6(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function m6(n){return!(!f6(n)&&typeof n!="number"||isNaN(+Sr(n)))}function g6(n,e){const t=Sr(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const p6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b6=(n,e,t)=>{let r;const a=p6[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function n0(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const y6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},v6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},x6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_6={date:n0({formats:y6,defaultWidth:"full"}),time:n0({formats:v6,defaultWidth:"full"}),dateTime:n0({formats:x6,defaultWidth:"full"})},w6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},E6=(n,e,t,r)=>w6[n];function Jc(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=t?.width?String(t.width):c;a=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=t?.width?String(t.width):n.defaultWidth;a=n.values[h]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return a[l]}}const S6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R6=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},D6={ordinalNumber:R6,era:Jc({values:S6,defaultWidth:"wide"}),quarter:Jc({values:k6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Jc({values:A6,defaultWidth:"wide"}),day:Jc({values:T6,defaultWidth:"wide"}),dayPeriod:Jc({values:C6,defaultWidth:"wide",formattingValues:N6,defaultFormattingWidth:"wide"})};function eu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?j6(h,v=>v.test(c)):z6(h,v=>v.test(c));let g;g=n.valueCallback?n.valueCallback(f):f,g=t.valueCallback?t.valueCallback(g):g;const b=e.slice(c.length);return{value:g,rest:b}}}function z6(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function j6(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function M6(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const h=e.slice(a.length);return{value:c,rest:h}}}const I6=/^(\d+)(th|st|nd|rd)?/i,O6=/\d+/i,V6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P6={any:[/^b/i,/^(a|c)/i]},L6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U6={any:[/1/i,/2/i,/3/i,/4/i]},B6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},q6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q6={ordinalNumber:M6({matchPattern:I6,parsePattern:O6,valueCallback:n=>parseInt(n,10)}),era:eu({matchPatterns:V6,defaultMatchWidth:"wide",parsePatterns:P6,defaultParseWidth:"any"}),quarter:eu({matchPatterns:L6,defaultMatchWidth:"wide",parsePatterns:U6,defaultParseWidth:"any",valueCallback:n=>n+1}),month:eu({matchPatterns:B6,defaultMatchWidth:"wide",parsePatterns:H6,defaultParseWidth:"any"}),day:eu({matchPatterns:F6,defaultMatchWidth:"wide",parsePatterns:q6,defaultParseWidth:"any"}),dayPeriod:eu({matchPatterns:G6,defaultMatchWidth:"any",parsePatterns:$6,defaultParseWidth:"any"})},Y6={code:"en-US",formatDistance:b6,formatLong:_6,formatRelative:E6,localize:D6,match:Q6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function W6(n,e){const t=Sr(n,e?.in);return c6(t,g6(t))+1}function X6(n,e){const t=Sr(n,e?.in),r=+jf(t)-+u6(t);return Math.round(r/oT)+1}function hT(n,e){const t=Sr(n,e?.in),r=t.getFullYear(),a=Sm(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Fr(e?.in||n,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const h=Mu(c,e),f=Fr(e?.in||n,0);f.setFullYear(r,0,l),f.setHours(0,0,0,0);const g=Mu(f,e);return+t>=+h?r+1:+t>=+g?r:r-1}function K6(n,e){const t=Sm(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=hT(n,e),l=Fr(e?.in||n,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),Mu(l,e)}function Z6(n,e){const t=Sr(n,e?.in),r=+Mu(t,e)-+K6(t,e);return Math.round(r/oT)+1}function at(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Ps={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return at(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):at(t+1,2)},d(n,e){return at(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return at(n.getHours()%12||12,e.length)},H(n,e){return at(n.getHours(),e.length)},m(n,e){return at(n.getMinutes(),e.length)},s(n,e){return at(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return at(a,e.length)}},so={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jw={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Ps.y(n,e)},Y:function(n,e,t,r){const a=hT(n,r),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return at(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):at(l,e.length)},R:function(n,e){const t=uT(n);return at(t,e.length)},u:function(n,e){const t=n.getFullYear();return at(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return at(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Ps.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=Z6(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):at(a,e.length)},I:function(n,e,t){const r=X6(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):at(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ps.d(n,e)},D:function(n,e,t){const r=W6(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):at(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return at(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return at(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return at(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=so.noon:r===0?a=so.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=so.evening:r>=12?a=so.afternoon:r>=4?a=so.morning:a=so.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Ps.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ps.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ps.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ps.s(n,e)},S:function(n,e){return Ps.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return tE(r);case"XXXX":case"XX":return qa(r);case"XXXXX":case"XXX":default:return qa(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return tE(r);case"xxxx":case"xx":return qa(r);case"xxxxx":case"xxx":default:return qa(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+eE(r,":");case"OOOO":default:return"GMT"+qa(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+eE(r,":");case"zzzz":default:return"GMT"+qa(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return at(r,e.length)},T:function(n,e,t){return at(+n,e.length)}};function eE(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),l=r%60;return l===0?t+String(a):t+String(a)+e+at(l,2)}function tE(n,e){return n%60===0?(n>0?"-":"+")+at(Math.abs(n)/60,2):qa(n,e)}function qa(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=at(Math.trunc(r/60),2),l=at(r%60,2);return t+a+e+l}const nE=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fT=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},J6=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return nE(n,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",nE(r,e)).replace("{{time}}",fT(a,e))},e9={p:fT,P:J6},t9=/^D+$/,n9=/^Y+$/,r9=["D","DD","YY","YYYY"];function i9(n){return t9.test(n)}function s9(n){return n9.test(n)}function a9(n,e,t){const r=l9(n,e,t);if(console.warn(r),r9.includes(n))throw new RangeError(r)}function l9(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u9=/^'([^]*?)'?$/,d9=/''/g,h9=/[a-zA-Z]/;function fu(n,e,t){const r=Sm(),a=r.locale??Y6,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=Sr(n,t?.in);if(!m6(h))throw new RangeError("Invalid time value");let f=e.match(c9).map(b=>{const v=b[0];if(v==="p"||v==="P"){const x=e9[v];return x(b,a.formatLong)}return b}).join("").match(o9).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:f9(b)};if(Jw[v])return{isToken:!0,value:b};if(v.match(h9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(f=a.localize.preprocessor(h,f));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(b=>{if(!b.isToken)return b.value;const v=b.value;(s9(v)||i9(v))&&a9(v,e,String(n));const x=Jw[v[0]];return x(h,v,a.localize,g)}).join("")}function f9(n){const e=n.match(u9);return e?e[1].replace(d9,"'"):n}function rE(n,e){return h6(Fr(n,n),d6(n))}function m9(n,e,t){return cT(n,-1,t)}const mT=n=>{const[e,t]=I.useState([]),[r,a]=I.useState(!0),[l,c]=I.useState([]);return I.useEffect(()=>{a(!0);let h=sn(Me,"schedules");if(n){const g=n instanceof Date?fu(n,"yyyy-MM-dd"):n;h=Si(sn(Me,"schedules"),Nf("startDate","==",g),Hn("startTime","asc"))}else h=Si(sn(Me,"schedules"),Hn("startDate","desc"),Hn("startTime","asc"));const f=rl(h,async g=>{const b=g.docs.map(E=>{const A=E.data();return{id:E.id,...A,hasStartStat:A.hasStartStat||!1,hasEndStat:A.hasEndStat||!1}});t(b);const v=b.reduce((E,A)=>{const R=A.startDate;return E[R]||(E[R]=[]),E[R].push(A),E},{}),x=Object.entries(v).sort((E,A)=>new Date(A[0])-new Date(E[0]));c(x),a(!1)},g=>{console.error("Error fetching realtime matches:",g),a(!1)});return()=>f()},[n]),{matches:e,groupedData:l,loading:r}},r0={subscribeMatches:(n,e)=>{let t=Si(sn(Me,"schedules"),Hn("startDate","desc"),Hn("startTime","asc"));return n&&(t=Si(sn(Me,"schedules"),Nf("startDate","==",n),Hn("startTime","asc"))),rl(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data()}));e(a)})},createMatch:async n=>{try{const e={...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1};return await ju(sn(Me,"schedules"),e)}catch(e){throw console.error("Error creating match:",e),e}},updateMatch:async(n,e)=>{try{const t=_t(Me,"schedules",n);await gi(t,{...e,updatedAt:new Date().toISOString()})}catch(t){throw console.error("Error updating match:",t),t}},deleteMatch:async n=>{try{await wm(_t(Me,"schedules",n))}catch(e){throw console.error("Error deleting match:",e),e}}};function gT({match:n,onClick:e,onEdit:t,onDelete:r,selectable:a,selected:l,onSelect:c}){const f=(()=>{if(n.hasEndStat)return"FINISHED";if(n.hasStartStat&&!n.hasEndStat)return"LIVE";if(n.startTime){const x=new Date,[E,A]=n.startTime.split(":").map(Number),R=new Date;R.setHours(E,A,0,0);const z=(R-x)/(1e3*60);if(z>0&&z<=15)return"SOON"}return"UPCOMING"})(),g=()=>n.endStats?.muxViewerUniq?n.endStats.muxViewerUniq:n.startStats?.muxViewerUniq?n.startStats.muxViewerUniq:0,b=x=>{if(!x)return"0";const E=parseFloat(x.toString().replace(/,/g,""));return isNaN(E)?x:Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(E)},v=g();return u.jsxs("div",{onClick:e,className:`
        group relative bg-white dark:bg-zinc-900 rounded-2xl border-2 transition-all duration-300 
        hover:shadow-2xl hover:scale-[1.02] cursor-pointer overflow-hidden
        ${f==="LIVE"?"border-red-500 shadow-lg shadow-red-500/20":""}
        ${f==="SOON"?"border-orange-400 shadow-lg shadow-orange-500/10":""}
        ${f==="FINISHED"?"border-emerald-500/30 dark:border-emerald-500/20":""}
        ${f==="UPCOMING"?"border-zinc-200 dark:border-zinc-800":""}
      `,children:[u.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${f==="LIVE"?"bg-red-500 animate-pulse":f==="SOON"?"bg-orange-500":f==="FINISHED"?"bg-emerald-500":"bg-zinc-300 dark:bg-zinc-700"}`}),(f==="LIVE"||f==="SOON")&&u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r pointer-events-none ${f==="LIVE"?"from-red-500/5 via-orange-500/5":"from-orange-500/5 via-yellow-500/5"} to-transparent`}),u.jsxs("div",{className:"p-6 pl-8 relative",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[f==="LIVE"&&u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-red-500 text-white rounded-lg shadow-lg shadow-red-500/30",children:[u.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-white"})]}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"LIVE"})]}),f==="SOON"&&u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-orange-500 text-white rounded-lg shadow-md shadow-orange-500/20 animate-pulse",children:[u.jsx(pn,{size:14,className:"stroke-[3]"}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Starting Soon"})]}),f==="FINISHED"&&u.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-500 text-white rounded-lg shadow-md",children:[u.jsx(ar,{size:14}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Finished"})]}),f==="UPCOMING"&&u.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg border-2 border-blue-200 dark:border-blue-800",children:[u.jsx(pn,{size:14}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Scheduled"})]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[t&&u.jsx("button",{onClick:x=>{x.stopPropagation(),t(n)},className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-blue-50 hover:text-blue-600 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 transition-colors",title:"Edit",children:u.jsx(Eb,{size:14})}),r&&u.jsx("button",{onClick:x=>{x.stopPropagation(),r(n.id)},className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/30 dark:hover:text-red-400 transition-colors",title:"Delete",children:u.jsx(oa,{size:14})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.league&&u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500 dark:text-zinc-400",children:[u.jsx(ff,{size:12,className:"text-zinc-400"}),u.jsx("span",{className:"font-semibold",children:n.league})]}),n.channel&&u.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded text-xs font-bold border border-indigo-100 dark:border-indigo-800",children:[u.jsx(mf,{size:10}),n.channel]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`shrink-0 flex flex-col items-center justify-center w-16 h-16 rounded-xl border transition-colors ${f==="SOON"?"bg-orange-50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800":"bg-zinc-100 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}`,children:f==="LIVE"?u.jsxs(u.Fragment,{children:[u.jsx(Sb,{size:16,className:"text-red-500 mb-1 animate-pulse"}),u.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase",children:"Live"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:`text-xl font-black font-mono leading-none ${f==="SOON"?"text-orange-500":"text-zinc-900 dark:text-white"}`,children:n.startTime?.split(":")[0]||"--"}),u.jsx("span",{className:`text-xs font-mono ${f==="SOON"?"text-orange-400":"text-zinc-400"}`,children:n.startTime?.split(":")[1]||"--"})]})}),u.jsx("div",{className:"flex-1 min-w-0",children:n.teamA&&n.teamB?u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:n.teamA}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-px flex-1 bg-zinc-200 dark:bg-zinc-700"}),u.jsx("span",{className:"text-xs font-bold text-zinc-400",children:"VS"}),u.jsx("div",{className:"h-px flex-1 bg-zinc-200 dark:bg-zinc-700"})]}),u.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:n.teamB})]}):u.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:n.title||n.match||"Match Event"})})]}),(f==="LIVE"||f==="FINISHED")&&v&&u.jsx("div",{className:"flex items-center gap-2 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:u.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg text-xs font-semibold text-zinc-600 dark:text-zinc-400",children:[u.jsx(df,{size:14,className:"text-violet-500"}),u.jsxs("span",{children:[b(v)," Viewers"]})]})})]})]}),u.jsx("button",{onClick:e,className:"absolute bottom-4 right-4 p-2 rounded-lg bg-zinc-900 dark:bg-white text-white dark:text-black opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",title:"View Details",children:u.jsx(df,{size:16})})]})}function g9({form:n,setForm:e,isMultiCdnMode:t,toggleCdnMode:r,cdnList:a,onAdd:l,onRemove:c,onUpdate:h,onAutoFix:f}){return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-xl",children:u.jsx(hf,{size:20,className:"text-orange-600 dark:text-orange-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-black text-zinc-900 dark:text-white",children:"Configuration"}),u.jsx("p",{className:"text-xs text-zinc-500",children:"Manage Time Range & CDN Strategy"})]})]}),f&&u.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-lg text-xs font-black uppercase tracking-wider hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:[u.jsx(j1,{size:14})," Auto Calc Time"]})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 p-6 space-y-6 shadow-sm",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-6 border-b border-zinc-100 dark:border-zinc-800",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Range Start"}),u.jsx("input",{type:"time",value:n.rangeStart,onChange:g=>e({...n,rangeStart:g.target.value}),className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold dark:text-white focus:ring-2 ring-orange-500 outline-none transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Range End"}),u.jsx("input",{type:"time",value:n.rangeEnd,onChange:g=>e({...n,rangeEnd:g.target.value}),className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold dark:text-white focus:ring-2 ring-orange-500 outline-none transition-all"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest flex items-center gap-2",children:"CDN Strategy"}),u.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${t?"bg-black text-white border-black dark:bg-white dark:text-black":"bg-zinc-100 text-zinc-500 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700"}`,children:[u.jsx(VS,{size:14})," ",t?"Multi-CDN Mode: ON":"Single Provider"]})]}),t?u.jsxs("div",{className:"space-y-3 animate-in slide-in-from-top-2 duration-300",children:[a.map((g,b)=>u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 transition-all hover:border-orange-300 dark:hover:border-orange-700/50",children:[u.jsxs("div",{className:"w-1/3",children:[u.jsx("label",{className:"text-[9px] font-bold text-zinc-400 mb-1.5 block uppercase tracking-wide",children:b===0?"Primary Provider":`Provider #${b+1}`}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:g.provider,onChange:v=>h(g.id,"provider",v.target.value),className:"w-full p-2.5 rounded-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-600 text-xs font-bold outline-none focus:ring-1 ring-orange-500 appearance-none cursor-pointer",children:[u.jsx("option",{value:"Select Provider",children:"Select Provider"}),u.jsx("option",{value:"AWS",children:"AWS"}),u.jsx("option",{value:"Tencent",children:"Tencent"}),u.jsx("option",{value:"Huawei",children:"Huawei"}),u.jsx("option",{value:"BytePlus",children:"BytePlus"}),u.jsx("option",{value:"Wangsu",children:"Wangsu"}),u.jsx("option",{value:"Akamai",children:"Akamai"})]}),u.jsx(Eu,{size:12,className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-[9px] font-bold text-zinc-400 mb-1.5 block uppercase tracking-wide",children:"Channel / Config Key"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"e.g. sport-1-hd",value:g.key||"",onChange:v=>h(g.id,"key",v.target.value),className:"w-full pl-8 pr-3 py-2.5 rounded-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-600 text-xs font-bold outline-none focus:ring-1 ring-orange-500"}),u.jsx(j1,{size:12,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-zinc-400"})]})]}),a.length>1&&u.jsx("div",{className:"pt-6",children:u.jsx("button",{onClick:()=>c(g.id),className:"p-2 text-zinc-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Remove CDN",children:u.jsx(oa,{size:16})})})]},g.id)),u.jsxs("button",{onClick:l,className:"w-full py-3 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-xl text-zinc-400 font-bold text-xs uppercase flex items-center justify-center gap-2 hover:border-orange-400 hover:text-orange-500 transition-all",children:[u.jsx(vo,{size:16})," Add CDN Provider"]})]}):u.jsx("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in duration-300",children:["AWS","Tencent","Huawei","BytePlus","Wangsu","Akamai"].map(g=>u.jsxs("button",{onClick:()=>e({...n,cdn:g}),className:`p-4 rounded-xl border-2 font-black uppercase text-sm transition-all flex flex-col items-center justify-center gap-2 ${n.cdn===g?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black border-zinc-900 dark:border-zinc-100 shadow-lg scale-[1.02]":"bg-zinc-50 dark:bg-zinc-800 text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-300"}`,children:[u.jsx(Eu,{size:24,className:n.cdn===g?"opacity-100":"opacity-50"})," ",g]},g))})]}),u.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Live Channel ID"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:n.liveChannel,onChange:g=>e({...n,liveChannel:g.target.value}),onFocus:()=>document.getElementById("custom-dropdown").classList.remove("hidden"),onBlur:()=>setTimeout(()=>document.getElementById("custom-dropdown")?.classList.add("hidden"),200),placeholder:"Select or Type Channel ID",className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold focus:ring-2 ring-orange-500 outline-none"}),u.jsx("div",{id:"custom-dropdown",className:"hidden absolute top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-xl z-50",children:[...Array.from({length:24},(g,b)=>`Sport ${b+1}`),"Thaileague","Sport-T 101","Sport-T 102",...Array.from({length:21},(g,b)=>`TL${b+1}`)].filter(g=>g.toLowerCase().includes((n.liveChannel||"").toLowerCase())).map(g=>u.jsx("div",{onMouseDown:()=>e({...n,liveChannel:g}),className:"px-4 py-2 hover:bg-orange-50 dark:hover:bg-orange-900/20 cursor-pointer text-sm font-semibold text-zinc-700 dark:text-zinc-300 transition-colors",children:g},g))})]})]})]})]})}function p9({isOpen:n,onClose:e,data:t,headers:r}){const[a,l]=I.useState(!1),[c,h]=I.useState(!1);if(!n)return null;const f=()=>{let g="";Array.isArray(t)&&Array.isArray(t[0])?g=t.map(b=>b.join("	")).join(`
`):g=t.join("	"),navigator.clipboard.writeText(g).then(()=>{l(!0),h(!0),setTimeout(()=>{l(!1)},3e3)})};return u.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:[c&&u.jsx(Ho,{message:"Copied to clipboard successfully!",type:"success",duration:3e3,onClose:()=>h(!1)}),u.jsxs("div",{className:"bg-white dark:bg-[#121212] w-full max-w-5xl rounded-3xl shadow-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden flex flex-col max-h-[85vh]",children:[u.jsxs("div",{className:"p-6 bg-zinc-50 dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-xl text-green-600 dark:text-green-400",children:u.jsx(MS,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-black uppercase text-zinc-900 dark:text-white",children:"Data Preview"}),u.jsx("p",{className:"text-xs text-zinc-500",children:Array.isArray(t)&&Array.isArray(t[0])?`Ready to copy ${t.length} rows`:"Ready to copy single row"})]})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-full transition-colors",children:u.jsx(kn,{size:20,className:"text-zinc-500"})})]}),u.jsx("div",{className:"p-6 overflow-x-auto custom-scrollbar bg-zinc-50/50 dark:bg-black/50 flex-1",children:u.jsx("div",{className:"inline-block min-w-full align-middle",children:u.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden bg-white dark:bg-black",children:u.jsxs("table",{className:"min-w-full divide-y divide-zinc-200 dark:divide-zinc-800",children:[u.jsx("thead",{className:"bg-zinc-100 dark:bg-zinc-900",children:u.jsx("tr",{children:r.map((g,b)=>u.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black uppercase tracking-widest text-zinc-500 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:g},b))})}),u.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:Array.isArray(t)&&Array.isArray(t[0])?t.map((g,b)=>u.jsx("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors",children:g.map((v,x)=>u.jsx("td",{className:"px-4 py-3 text-xs font-mono text-zinc-700 dark:text-zinc-300 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:v},x))},b)):u.jsx("tr",{children:t.map((g,b)=>u.jsx("td",{className:"px-4 py-3 text-xs font-mono text-zinc-700 dark:text-zinc-300 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:g},b))})})]})})})}),u.jsxs("div",{className:"p-6 border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 flex justify-end gap-3 z-10",children:[u.jsx("button",{onClick:e,className:"px-6 py-3 text-xs font-black uppercase text-zinc-500 hover:text-black dark:hover:text-white transition-colors",children:"Close"}),u.jsxs("button",{onClick:f,className:`px-8 py-3 rounded-xl text-xs font-black uppercase flex items-center gap-2 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transform ${a?"bg-emerald-500 text-white":"bg-black dark:bg-white text-white dark:text-black"}`,children:[a?u.jsx(Bu,{size:16}):u.jsx(_u,{size:16}),a?"Copied!":"Copy Data to Clipboard"]})]})]})]})}const Bs=(n,e)=>{if(!n||isNaN(n))return 0;const t=parseFloat(n);return e==="TB"?t*1024:e==="MB"?t/1024:t},Pr=n=>{if(!n)return 0;if(typeof n=="object"&&n.val!==void 0){const r=parseFloat(n.val);if(isNaN(r))return 0;const a=(n.unit||"").toLowerCase();return a==="m"?r*1e6:a==="k"?r*1e3:a==="b"?r*1e9:r}const e=n.toString().toLowerCase().trim(),t=parseFloat(e);return isNaN(t)?0:e.endsWith("m")?t*1e6:e.endsWith("k")?t*1e3:e.endsWith("b")?t*1e9:t},xr=(n,e=0)=>n==null||n===""?"0":parseFloat(n).toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}),po=(n,e=2)=>!n||isNaN(n)?"0 %":`${parseFloat(n).toFixed(e)} %`,ao="schedules",iE={ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:"",rangeStart:"",rangeEnd:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},cdn:"AWS",liveChannel:""};function b9(n,e){const[t,r]=I.useState("START"),[a,l]=I.useState(!0),[c,h]=I.useState(!1),[f,g]=I.useState(!1),[b,v]=I.useState(!1),[x,E]=I.useState(iE),[A,R]=I.useState([]),[N,z]=I.useState(!1),[P,q]=I.useState("Unknown"),[L,X]=I.useState({show:!1,message:"",type:"success"}),[F,C]=I.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[k,j]=I.useState({show:!1,data:[]}),U=I.useCallback((de,O="success")=>{de&&(X({show:!0,message:de,type:O}),setTimeout(()=>X(Z=>({...Z,show:!1})),3e3))},[]),M=I.useCallback(async()=>{if(n?.id){h(!0);try{const de=_t(Me,ao,n.id),O=t==="START"?"start_stat":"end_stat",Z=_t(Me,ao,n.id,"statistics",O),[ue,he]=await Promise.all([Rf(de),Rf(Z)]),Ee=ue.exists()?ue.data():{};if(he.exists()){const ve=he.data();E(Re=>({...Re,...ve,liveChannel:ve.liveChannel||Ee.liveChannel||Ee.channel||n.channel||"",reqTotal:ve.reqTotal||{val:"",unit:"k"},bwPeakGbps:ve.bwPeakGbps||{val:"",unit:"GB"},bandwidth:ve.bandwidth||{val:"",unit:"GB"}})),ve.cdnDetails?.length>0?(R(ve.cdnDetails),z(!0)):(z(ve.cdn==="Multi CDN"),R([])),q(ve.reporter||"Unknown")}else{const ve=Ee.cdn||"AWS",Re=ve==="Multi CDN";E({...iE,liveChannel:Ee.liveChannel||Ee.channel||n.channel||"",cdn:ve}),z(Re),R(Re?[{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}]:[])}}catch(de){console.error("Fetch Error:",de),U("","error")}finally{h(!1),l(!1)}}},[n,t,U]);return I.useEffect(()=>{M()},[M]),{state:{statType:t,loading:a,fetching:c,saving:f,isSuccess:b,form:x,cdnList:A,isMultiCdnMode:N,reporterName:P,toast:L,confirmModal:F,preview:k},actions:{setStatType:r,setForm:E,toggleCdnMode:()=>{z(de=>!de),!N&&A.length===0&&R([{id:Date.now(),provider:"AWS",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}]),E(de=>({...de,cdn:N?"AWS":"Multi CDN"}))},handleAddCdn:()=>{R(de=>[...de,{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}])},handleRemoveCdn:de=>{A.length>1&&R(O=>O.filter(Z=>Z.id!==de))},handleUpdateCdnRow:(de,O,Z)=>{R(ue=>ue.map(he=>he.id===de?{...he,[O]:Z}:he))},handleAutoFixTime:()=>{let de=n?.startTime||n?.start_time||n?.time;if(!de){U("","error");return}try{const Z=(ve=>{let Re=String(ve).toLowerCase().trim().replace(".",":"),mt=Re.replace(/[a-z]/g,"").trim(),[Ye,fe]=mt.split(":"),Ze=parseInt(Ye,10),Lt=parseInt(fe||"0",10);return isNaN(Ze)?null:(Re.includes("pm")&&Ze<12&&(Ze+=12),{h:Ze,m:Lt})})(de);if(!Z){U("","error");return}const ue=(ve,Re,mt)=>{let Ye=ve*60+Re+mt;return Ye=(Ye%1440+1440)%1440,`${String(Math.floor(Ye/60)).padStart(2,"0")}:${String(Ye%60).padStart(2,"0")}`},he=ue(Z.h,Z.m,15),Ee=ue(Z.h,Z.m,120);E(ve=>({...ve,rangeStart:he,rangeEnd:Ee})),U(`: ${he} - ${Ee}`,"success")}catch{U("","error")}},handleSmartSave:async de=>{if(n?.id){g(!0);try{const O=t==="START"?"start_stat":"end_stat",Z=_t(Me,ao,n.id),ue=_t(Me,ao,n.id,"statistics",O),he={...x,cdn:N?"Multi CDN":x.cdn,cdnDetails:N?A:null,updatedAt:Wa(),statType:t,bwPeakGbps:x.bwPeakGbps||{val:"",unit:"GB"},bandwidth:x.bandwidth||{val:"",unit:"GB"},reqTotal:x.reqTotal||{val:"",unit:"k"}};await hO(ue,he),await gi(Z,{[t==="START"?"hasStartStat":"hasEndStat"]:!0,[t==="START"?"startStats":"endStats"]:he,updatedAt:Wa()}),U("","success"),v(!0),setTimeout(()=>v(!1),2e3),de&&de()}catch{U("","error")}finally{g(!1)}}},requestDelete:()=>{C({isOpen:!0,title:`Reset ${t} Stats?`,message:`Are you sure you want to delete ${t} data? Match status will be reverted.`,isDanger:!0,onConfirm:async()=>{C(de=>({...de,isOpen:!1})),g(!0);try{const de=t==="START"?"start_stat":"end_stat";await wm(_t(Me,ao,n.id,"statistics",de)),await gi(_t(Me,ao,n.id),{[t==="START"?"hasStartStat":"hasEndStat"]:!1,[t==="START"?"startStats":"endStats"]:null,updatedAt:Wa()}),U("","success"),setTimeout(e,1e3)}catch{U("","error")}finally{g(!1)}}})},handlePreview:()=>{const de=O=>{if(!O)return 0;if(typeof O=="object"&&O.val!==void 0){const Z=parseFloat(O.val||0),ue=(O.unit||"k").toLowerCase();return ue==="m"?Z*1e6:ue==="b"?Z*1e9:Z*1e3}return Pr(O)};try{const O={no:"1",league:n?.league||"-",title:n?.title||n?.match||"-",time:n?.startTime||"-",ecsSport:po(x.ecsSport,2),ecsEnt:po(x.ecsEntitlement,2),api:po(x.apiHuawei,2),reqPeak:xr(Pr(x.requestPeak)),viewers:xr(Pr(x.muxViewerUniq)),score:x.muxScore,start:x.rangeStart||"-",end:x.rangeEnd||"-"},Z=N&&A.length>0?A.map(ue=>[O.no,O.league,O.title,O.time,O.ecsSport,O.ecsEnt,O.api,O.reqPeak,ue.provider||"-",ue.key||"-",xr(Pr(ue.reqPeakMin)),xr(de(ue.reqTotal)),Bs(ue.bwPeakGbps?.val||ue.bwPeakGbps,ue.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),Bs(ue.bandwidth?.val||ue.bandwidth,ue.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),O.viewers,O.score,O.start,O.end]):[[O.no,O.league,O.title,O.time,O.ecsSport,O.ecsEnt,O.api,O.reqPeak,x.cdn||"-",x.liveChannel||"-",xr(Pr(x.reqPeakMin)),xr(de(x.reqTotal)),Bs(x.bwPeakGbps?.val||x.bwPeakGbps,x.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),Bs(x.bandwidth?.val||x.bandwidth,x.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),O.viewers,O.score,O.start,O.end]];j({show:!0,data:Z})}catch{U("Preview Error","error")}},closeToast:()=>X(de=>({...de,show:!1})),closeConfirm:()=>C(de=>({...de,isOpen:!1})),closePreview:()=>j(de=>({...de,show:!1}))}}}function _n({label:n,value:e,unit:t,onChange:r,onUnitChange:a,placeholder:l,icon:c,color:h="blue",type:f="number",tooltip:g,previousValue:b}){const v={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-100 dark:border-blue-800",text:"text-blue-600 dark:text-blue-400",accent:"bg-blue-500"},emerald:{bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-100 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",accent:"bg-emerald-500"},orange:{bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-100 dark:border-orange-800",text:"text-orange-600 dark:text-orange-400",accent:"bg-orange-500"},purple:{bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-100 dark:border-purple-800",text:"text-purple-600 dark:text-purple-400",accent:"bg-purple-500"},pink:{bg:"bg-pink-50 dark:bg-pink-900/20",border:"border-pink-100 dark:border-pink-800",text:"text-pink-600 dark:text-pink-400",accent:"bg-pink-500"},cyan:{bg:"bg-cyan-50 dark:bg-cyan-900/20",border:"border-cyan-100 dark:border-cyan-800",text:"text-cyan-600 dark:text-cyan-400",accent:"bg-cyan-500"}},x=v[h]||v.blue,A=(()=>{if(!e||isNaN(e))return null;const R=parseFloat(e);let N=R,z="";if(a&&t)switch(t){case"TB":N=R*1024,z="GB";break;case"MB":N=R/1024,z="GB";break;case"KB":N=R/(1024*1024),z="GB";break;case"GB":N=R,z="GB";break;case"k":N=R*1e3,z="";break;case"m":N=R*1e6,z="";break;default:N=R}else if(f==="abbrev")return null;const P=N.toLocaleString(void 0,{minimumFractionDigits:z==="GB"?2:0,maximumFractionDigits:z==="GB"?4:2});return z?`${P} ${z}`:P})();return u.jsxs("div",{className:`relative group rounded-2xl border-2 ${x.border} ${x.bg} p-4 transition-all hover:shadow-lg`,children:[u.jsx("div",{className:`absolute top-0 left-4 right-4 h-1 ${x.accent} rounded-b-full opacity-60`}),u.jsx("div",{className:"flex items-start justify-between mb-3 pt-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[c&&u.jsx("div",{className:`p-2 rounded-xl ${x.bg} ${x.text}`,children:u.jsx(c,{size:16})}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-500 dark:text-zinc-400 uppercase tracking-widest block",children:n}),g&&u.jsxs("div",{className:"flex items-center gap-1 text-[8px] text-zinc-400 mt-0.5",children:[u.jsx(jS,{size:8}),u.jsx("span",{children:g})]})]})]})}),u.jsxs("div",{className:"flex rounded-xl overflow-hidden border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 shadow-sm",children:[u.jsx("input",{type:f==="abbrev"?"text":"number",step:"any",value:e,onChange:R=>r(R.target.value),placeholder:l||"0",className:"flex-1 px-4 py-3 text-lg font-bold bg-transparent outline-none dark:text-white placeholder-zinc-300 dark:placeholder-zinc-600 min-w-0"}),a?u.jsxs("select",{value:t,onChange:R=>a(R.target.value),className:"bg-zinc-50 dark:bg-zinc-800 border-l border-zinc-200 dark:border-zinc-700 px-2 text-xs font-black uppercase outline-none dark:text-zinc-400 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors text-center w-[70px]",children:[u.jsxs("optgroup",{label:"Count",children:[u.jsx("option",{value:"k",children:"k"}),u.jsx("option",{value:"m",children:"m"})]}),u.jsxs("optgroup",{label:"Data",children:[u.jsx("option",{value:"GB",children:"GB"}),u.jsx("option",{value:"TB",children:"TB"}),u.jsx("option",{value:"MB",children:"MB"}),u.jsx("option",{value:"KB",children:"KB"})]})]}):f==="percentage"&&u.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-800 border-l border-zinc-200 dark:border-zinc-700 px-4 flex items-center",children:u.jsx("span",{className:"text-sm font-black text-zinc-500",children:"%"})})]}),A&&u.jsxs("div",{className:"mt-2 flex items-center justify-end gap-1",children:[u.jsx("span",{className:"text-[9px] font-black text-zinc-400",children:""}),u.jsx("span",{className:`text-[10px] font-black ${x.text}`,children:A})]})]})}const xy=({item:n,index:e,icon:t,onRemove:r,isRemovable:a})=>u.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-zinc-200 dark:border-zinc-700/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-zinc-500",children:u.jsx(t,{size:16})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-black text-zinc-900 dark:text-white uppercase",children:n.provider||`Provider ${e+1}`}),u.jsx("p",{className:"text-[10px] text-zinc-400 font-bold uppercase",children:n.key||"No Key Configured"})]})]}),a&&u.jsx("button",{onClick:r,className:"text-zinc-400 hover:text-red-500 transition-colors",children:u.jsx(oa,{size:16})})]}),_y=({onClick:n})=>u.jsxs("button",{onClick:n,className:"w-full py-4 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-2xl flex justify-center gap-2 text-zinc-400 font-bold text-xs uppercase hover:text-orange-500 hover:border-orange-400 transition-all",children:[u.jsx(vo,{size:16})," Add Provider"]}),y9=({data:n,onChange:e,isMulti:t,cdnList:r,onUpdateCdn:a,onRemoveCdn:l,onAddCdn:c})=>t?u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((h,f)=>u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[u.jsx(xy,{item:h,index:f,icon:tm,onRemove:()=>l(h.id),isRemovable:r.length>1}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(_n,{label:"ECS Sport",value:h.ecsSport,onChange:g=>a(h.id,"ecsSport",g),type:"percentage",icon:tr,color:"blue",placeholder:"0"}),u.jsx(_n,{label:"ECS Entitlement",value:h.ecsEntitlement,onChange:g=>a(h.id,"ecsEntitlement",g),type:"percentage",icon:tr,color:"purple",placeholder:"0"}),u.jsx(_n,{label:"API Huawei",value:h.apiHuawei,onChange:g=>a(h.id,"apiHuawei",g),type:"percentage",icon:T0,color:"orange",placeholder:"0"}),u.jsx(_n,{label:"WWW & API Peak",value:h.requestPeak,onChange:g=>a(h.id,"requestPeak",g),type:"number",icon:Eu,color:"emerald",placeholder:"0"})]})]},h.id)),u.jsx(_y,{onClick:c})]}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsx(_n,{label:"ECS Sport",value:n.ecsSport,onChange:h=>e("ecsSport",h),type:"percentage",icon:tr,color:"blue",placeholder:"0"}),u.jsx(_n,{label:"ECS Entitlement",value:n.ecsEntitlement,onChange:h=>e("ecsEntitlement",h),type:"percentage",icon:tr,color:"purple",placeholder:"0"}),u.jsx(_n,{label:"API Huawei",value:n.apiHuawei,onChange:h=>e("apiHuawei",h),type:"percentage",icon:T0,color:"orange",placeholder:"0"}),u.jsx(_n,{label:"WWW & API Peak",value:n.requestPeak,onChange:h=>e("requestPeak",h),type:"number",icon:Eu,color:"emerald",placeholder:"0"})]}),v9=({data:n,onChange:e,isMulti:t,cdnList:r,onUpdateCdn:a,onRemoveCdn:l,onAddCdn:c})=>{const h=(f,g)=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(_n,{label:"Req Peak (Min)",value:f.reqPeakMin,onChange:b=>g("reqPeakMin",b),type:"number",icon:T0,color:"blue",placeholder:"0"}),u.jsx(_n,{label:"Req Total",value:f.reqTotal?.val,unit:f.reqTotal?.unit||"k",onChange:b=>g("reqTotal",{...f.reqTotal,val:b}),onUnitChange:b=>g("reqTotal",{...f.reqTotal,unit:b}),type:"number",icon:DS,color:"cyan",placeholder:"0"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(_n,{label:"BW Peak (Gb/s)",value:f.bwPeakGbps?.val,unit:f.bwPeakGbps?.unit||"GB",onChange:b=>g("bwPeakGbps",{...f.bwPeakGbps,val:b}),onUnitChange:b=>g("bwPeakGbps",{...f.bwPeakGbps,unit:b}),type:"number",icon:tr,color:"red",placeholder:"0"}),u.jsx(_n,{label:"BW Total (GB)",value:f.bandwidth?.val,unit:f.bandwidth?.unit||"GB",onChange:b=>g("bandwidth",{...f.bandwidth,val:b}),onUnitChange:b=>g("bandwidth",{...f.bandwidth,unit:b}),type:"number",icon:tr,color:"orange",placeholder:"0"})]})]});return t?u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((f,g)=>u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[u.jsx(xy,{item:f,index:g,icon:HS,onRemove:()=>l(f.id),isRemovable:r.length>1}),u.jsx("div",{className:"space-y-4",children:h(f,(b,v)=>a(f.id,b,v))})]},f.id)),u.jsx(_y,{onClick:c})]}):u.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:h(n,(f,g)=>e(f,g))})},x9=({data:n,onChange:e,isMulti:t,cdnList:r,onUpdateCdn:a,onRemoveCdn:l,onAddCdn:c})=>t?u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((h,f)=>u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[u.jsx(xy,{item:h,index:f,icon:au,onRemove:()=>l(h.id),isRemovable:r.length>1}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(_n,{label:"Live Viewers",value:h.muxViewerUniq,onChange:g=>a(h.id,"muxViewerUniq",g),type:"number",icon:au,color:"purple",placeholder:"0"}),u.jsx(_n,{label:"Engagement Score",value:h.muxScore,onChange:g=>a(h.id,"muxScore",g),type:"number",icon:hf,color:"pink",placeholder:"0"})]})]},h.id)),u.jsx(_y,{onClick:c})]}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsx(_n,{label:"Live Viewers",value:n.muxViewerUniq,onChange:h=>e("muxViewerUniq",h),type:"number",icon:au,color:"purple",placeholder:"0"}),u.jsx(_n,{label:"Engagement Score",value:n.muxScore,onChange:h=>e("muxScore",h),type:"number",icon:hf,color:"pink",placeholder:"0"})]}),_9=({label:n,icon:e,active:t,onClick:r})=>u.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-6 py-3 rounded-full text-xs font-black uppercase tracking-wider transition-all duration-300 ${t?"bg-black text-white dark:bg-white dark:text-black shadow-lg scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-800 hover:text-black dark:hover:text-white"}`,children:[u.jsx(e,{size:14,className:t?"animate-pulse":""}),u.jsx("span",{children:n})]}),w9=()=>u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-pulse p-2",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-zinc-200 dark:bg-zinc-800/50"}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsx("div",{className:"h-8 w-2/3 bg-zinc-200 dark:bg-zinc-800/50 rounded-xl"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"h-5 w-24 bg-zinc-200 dark:bg-zinc-800/50 rounded-lg"}),u.jsx("div",{className:"h-5 w-24 bg-zinc-200 dark:bg-zinc-800/50 rounded-lg"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(n=>u.jsx("div",{className:"h-32 rounded-3xl bg-zinc-100 dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800/50 relative overflow-hidden",children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 dark:via-white/5 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"})},n))})]});function E9({isOpen:n,onClose:e,matchData:t}){const[r,a]=I.useState("system"),{state:l,actions:c}=b9(t,e);if(!n)return null;const h=[{id:"system",label:"System",icon:tm},{id:"traffic",label:"Traffic",icon:HS},{id:"viewer",label:"Viewer",icon:au},{id:"config",label:"Config",icon:hf}];return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed z-[200]",children:u.jsx(Hu,{isOpen:l.confirmModal.isOpen,onClose:c.closeConfirm,...l.confirmModal})}),l.toast.show&&u.jsx("div",{className:"fixed bottom-4 right-4 z-[300]",children:u.jsx(Ho,{message:l.toast.message,type:l.toast.type,onClose:c.closeToast})}),u.jsx(p9,{isOpen:l.preview.show,onClose:c.closePreview,data:l.preview.data,headers:["#","League","Match","Time","ECS Sport","ECS Ent","API Huawei","WWW & API Peak/Min","CDN","Key","Req Peak","Req Total","BW Peak","BW Total","Viewers","Score","Start","End"]}),u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",onClick:l.loading?void 0:e,children:u.jsxs("div",{className:"bg-zinc-50 dark:bg-[#0a0a0a] w-full max-w-5xl h-[92vh] rounded-3xl shadow-2xl overflow-hidden flex flex-col border border-zinc-200 dark:border-zinc-800 animate-in zoom-in-95 duration-300",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"relative shrink-0 overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.statType==="START"?"from-orange-500 via-orange-600 to-red-600":"from-emerald-500 via-emerald-600 to-teal-600"}`}),u.jsx("div",{className:"relative p-6 md:p-8 text-white",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex flex-col items-center justify-center border-2 border-white/20 bg-white/10 backdrop-blur-md shadow-lg",children:u.jsx("span",{className:"text-2xl font-black leading-none",children:l.reporterName.charAt(0).toUpperCase()})}),u.jsx("div",{className:"absolute -bottom-2 -right-2 bg-white text-black text-[9px] font-black px-2 py-0.5 rounded-full uppercase shadow-md",children:l.statType})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-black uppercase tracking-tight leading-none drop-shadow-sm mb-2 max-w-md truncate",children:t?.teamA&&t?.teamB?`${t.teamA} vs ${t.teamB}`:t?.title||t?.match||"Match Stats"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg bg-black/20 backdrop-blur-md border border-white/10 text-[10px] font-bold uppercase tracking-wider",children:[u.jsx(pn,{size:10})," ",t?.startTime||t?.start_time||t?.time||"--:--"]}),u.jsxs("button",{onClick:c.toggleCdnMode,className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg border transition-all text-[10px] font-bold uppercase tracking-wider ${l.isMultiCdnMode?"bg-white text-black border-white shadow-lg":"bg-black/20 text-white/80 border-white/10 hover:bg-black/30"}`,children:[u.jsx(VS,{size:10})," ",l.isMultiCdnMode?"Multi-CDN":"Single CDN"]})]})]})]}),u.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[u.jsxs("button",{onClick:()=>c.setStatType(l.statType==="START"?"END":"START"),className:"flex-1 md:flex-none h-10 px-4 flex items-center justify-center gap-2 bg-black/20 hover:bg-black/30 border border-white/10 rounded-xl text-[10px] font-black uppercase backdrop-blur-sm transition-all text-white",children:[u.jsx(vu,{size:14})," Switch Phase"]}),u.jsxs("button",{onClick:c.handlePreview,className:"flex-1 md:flex-none h-10 px-4 flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 border border-white/20 rounded-xl text-[10px] font-black uppercase backdrop-blur-sm transition-all text-white",children:[u.jsx(df,{size:14})," Preview"]}),u.jsx("button",{onClick:e,className:"h-10 w-10 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-xl text-white transition-all",children:u.jsx(kn,{size:18})})]})]})})]}),u.jsx("div",{className:"shrink-0 p-2 bg-white dark:bg-[#0a0a0a] border-b border-zinc-200 dark:border-zinc-800",children:u.jsx("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-[1.25rem] overflow-x-auto custom-scrollbar gap-1",children:h.map(f=>u.jsx(_9,{id:f.id,label:f.label,icon:f.icon,active:r===f.id,onClick:()=>a(f.id)},f.id))})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar bg-white dark:bg-[#0a0a0a]",children:l.fetching?u.jsx(w9,{}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[r==="system"&&u.jsx(y9,{data:l.form,onChange:(f,g)=>c.setForm({...l.form,[f]:g}),isMulti:l.isMultiCdnMode,cdnList:l.cdnList,onUpdateCdn:c.handleUpdateCdnRow,onRemoveCdn:c.handleRemoveCdn,onAddCdn:c.handleAddCdn}),r==="traffic"&&u.jsx(v9,{data:l.form,onChange:(f,g)=>c.setForm({...l.form,[f]:g}),isMulti:l.isMultiCdnMode,cdnList:l.cdnList,onUpdateCdn:c.handleUpdateCdnRow,onRemoveCdn:c.handleRemoveCdn,onAddCdn:c.handleAddCdn}),r==="viewer"&&u.jsx(x9,{data:l.form,onChange:(f,g)=>c.setForm({...l.form,[f]:g}),isMulti:l.isMultiCdnMode,cdnList:l.cdnList,onUpdateCdn:c.handleUpdateCdnRow,onRemoveCdn:c.handleRemoveCdn,onAddCdn:c.handleAddCdn}),r==="config"&&u.jsx(g9,{form:l.form,setForm:c.setForm,isMultiCdnMode:l.isMultiCdnMode,toggleCdnMode:c.toggleCdnMode,cdnList:l.cdnList,onAdd:c.handleAddCdn,onRemove:c.handleRemoveCdn,onUpdate:c.handleUpdateCdnRow,onAutoFix:c.handleAutoFixTime})]})}),u.jsxs("div",{className:"p-4 md:p-6 bg-white dark:bg-[#0a0a0a] border-t border-zinc-200 dark:border-zinc-800 flex flex-col-reverse md:flex-row gap-4 shrink-0 z-10 relative",children:[u.jsx("div",{className:"absolute -top-10 left-0 right-0 h-10 bg-gradient-to-t from-white dark:from-[#0a0a0a] to-transparent pointer-events-none"}),u.jsxs("button",{onClick:c.requestDelete,disabled:l.loading,className:"px-4 py-4 rounded-xl text-xs font-black uppercase tracking-widest text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors flex items-center gap-2",children:[u.jsx(oa,{size:18})," ",u.jsx("span",{className:"hidden md:inline",children:"Reset Phase"})]}),u.jsx("button",{onClick:e,disabled:l.loading,className:"px-6 py-4 rounded-xl text-xs font-black uppercase tracking-widest text-zinc-500 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:"Discard"}),u.jsx("button",{onClick:()=>c.handleSmartSave(),disabled:l.loading||l.isSuccess,className:`flex-1 py-4 rounded-2xl font-black uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl transition-all ${l.isSuccess?"bg-green-500 text-white":l.statType==="START"?"bg-gradient-to-r from-orange-600 to-red-600 text-white":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white"}`,children:l.loading?u.jsxs(u.Fragment,{children:[u.jsx(Zs,{size:20,className:"animate-spin"})," Saving..."]}):l.isSuccess?u.jsxs(u.Fragment,{children:[u.jsx(Bu,{size:20})," Success!"]}):u.jsxs(u.Fragment,{children:[u.jsx(em,{size:20})," Save Statistics"]})})]})]})})]})}function S9({isOpen:n,onClose:e,onSubmit:t,initialData:r,selectedDate:a,saving:l}){const[c,h]=I.useState({league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:"",channel:"",cdn:"AWS"});I.useEffect(()=>{n&&h(r?{league:r.league||"",match:r.match||r.title||"",teamA:r.teamA||"",teamB:r.teamB||"",startTime:r.startTime||"",startDate:r.startDate||"",channel:r.channel||r.liveChannel||"",cdn:r.cdn||"AWS"}:{league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:a||new Date().toISOString().split("T")[0],channel:"",cdn:"AWS"})},[n,r,a]);const f=v=>{let x={...c,match:v};const A=[" vs "," VS "," Vs "," - "," v "].find(R=>v.includes(R));if(A){const R=v.split(A);R.length>=2&&(x.teamA=R[0].trim(),x.teamB=R.slice(1).join(A).trim())}h(x)},g=v=>{v.preventDefault(),t(c)};if(!n)return null;const b=c.teamA&&c.teamB&&c.league&&c.startDate&&c.startTime;return u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:e}),u.jsxs("div",{className:"relative w-full max-w-3xl bg-white dark:bg-zinc-900 rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] border-2 border-zinc-100 dark:border-zinc-800",children:[u.jsx("div",{className:"px-8 py-6 border-b-2 border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-zinc-50 to-white dark:from-zinc-900 dark:to-zinc-900",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/25",children:u.jsx(ff,{size:24,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-white",children:r?"Edit Match":"New Match"}),u.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mt-0.5",children:r?"Update match details":"Add a new match to the schedule"})]})]}),u.jsx("button",{onClick:e,disabled:l,className:"p-2 rounded-xl text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors disabled:opacity-50",children:u.jsx(kn,{size:24})})]})}),u.jsxs("form",{onSubmit:g,className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl opacity-0 group-hover:opacity-20 blur-xl transition-opacity"}),u.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-2xl p-6 border-2 border-blue-200 dark:border-blue-800/30",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500 text-white rounded-lg shadow-md",children:[u.jsx(tj,{size:14}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Smart Input"})]}),u.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-semibold",children:"Auto-fill teams instantly"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:'Type "Arsenal vs Chelsea" to auto-fill both teams',className:"w-full h-14 bg-white dark:bg-zinc-900 border-2 border-blue-300 dark:border-blue-700 rounded-xl px-5 pr-12 text-base font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 dark:focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:c.match,onChange:v=>f(v.target.value),autoFocus:!r}),u.jsx(xj,{size:20,className:"absolute right-4 top-1/2 -translate-y-1/2 text-blue-500"})]})]})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/30 rounded-2xl p-6 border-2 border-zinc-100 dark:border-zinc-800",children:[u.jsx("div",{className:"flex items-center justify-center mb-5",children:u.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-white dark:bg-zinc-800 rounded-lg border-2 border-zinc-200 dark:border-zinc-700",children:[u.jsx(aj,{size:16,className:"text-zinc-400"}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider text-zinc-600 dark:text-zinc-400",children:"Matchup"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr,auto,1fr] gap-6 items-end",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(D1,{size:14}),"Home Team"]}),u.jsx("input",{type:"text",placeholder:"Home Team",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-base font-bold text-zinc-900 dark:text-white text-center md:text-left outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:c.teamA,onChange:v=>h({...c,teamA:v.target.value}),required:!0})]}),u.jsx("div",{className:"hidden md:flex items-center justify-center pb-3",children:u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-zinc-900 to-zinc-700 dark:from-white dark:to-zinc-200 flex items-center justify-center shadow-lg",children:u.jsx("span",{className:"text-white dark:text-black font-black text-sm",children:"VS"})})}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3 md:justify-end",children:[u.jsx(D1,{size:14}),"Away Team"]}),u.jsx("input",{type:"text",placeholder:"Away Team",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-base font-bold text-zinc-900 dark:text-white text-center md:text-right outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:c.teamB,onChange:v=>h({...c,teamB:v.target.value}),required:!0})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(ff,{size:14}),"League / Competition"]}),u.jsxs("select",{className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all cursor-pointer appearance-none",value:c.league,onChange:v=>h({...c,league:v.target.value}),required:!0,children:[u.jsx("option",{value:"",children:"Select League"}),u.jsx("option",{value:"Premier League",children:"Premier League"}),u.jsx("option",{value:"EFL",children:"EFL"}),u.jsx("option",{value:"Thai League 1",children:"Thai League 1"}),u.jsx("option",{value:"Thai League 2",children:"Thai League 2"}),u.jsx("option",{value:"Thai League 3",children:"Thai League 3"}),u.jsx("option",{value:"French League",children:"French League"}),u.jsx("option",{value:"Carabao Cup",children:"Carabao Cup"}),u.jsx("option",{value:"UEFA European",children:"UEFA European"}),u.jsx("option",{value:"Thai Women League 2",children:"Thai Women League 2"}),u.jsx("option",{value:"U21",children:"U21"}),u.jsx("option",{value:"Chang FA Cup",children:"Chang FA Cup"}),u.jsx("option",{value:"SV League WM_Volleyball",children:"SV League WM_Volleyball"}),u.jsx("option",{value:"SV League M_Volleyball",children:"SV League M_Volleyball"}),u.jsx("option",{value:"The Emirates FA Cup",children:"The Emirates FA Cup"}),u.jsx("option",{value:"MUANGTHAI CUP",children:"MUANGTHAI CUP"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(mf,{size:14}),"Broadcast Channel"]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Select or Type Channel",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400",value:c.channel,onChange:v=>h({...c,channel:v.target.value}),onFocus:()=>document.getElementById("new-match-channel-dropdown").classList.remove("hidden"),onBlur:()=>setTimeout(()=>document.getElementById("new-match-channel-dropdown")?.classList.add("hidden"),200)}),u.jsx("div",{id:"new-match-channel-dropdown",className:"hidden absolute bottom-full left-0 right-0 mb-1 max-h-48 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-xl z-50",children:[...Array.from({length:24},(v,x)=>`Sport ${x+1}`),"Thaileague","Sport-T 101","Sport-T 102",...Array.from({length:21},(v,x)=>`TL${x+1}`)].filter(v=>v.toLowerCase().includes((c.channel||"").toLowerCase())).map(v=>u.jsx("div",{onMouseDown:()=>h({...c,channel:v}),className:"px-4 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer text-sm font-semibold text-zinc-700 dark:text-zinc-300 transition-colors",children:v},v))})]})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(sr,{size:14}),"Date"]}),u.jsx("input",{type:"date",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-3 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all",value:c.startDate,onChange:v=>h({...c,startDate:v.target.value}),required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(pn,{size:14}),"Time"]}),u.jsx("input",{type:"time",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-3 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all",value:c.startTime,onChange:v=>h({...c,startTime:v.target.value}),required:!0})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(tm,{size:14}),"CDN Provider"]}),u.jsxs("select",{className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all cursor-pointer",value:c.cdn,onChange:v=>h({...c,cdn:v.target.value}),children:[u.jsx("option",{value:"",children:"Select Provider"}),u.jsx("option",{value:"AWS",children:"AWS"}),u.jsx("option",{value:"Tencent",children:"Tencent"}),u.jsx("option",{value:"Huawei",children:"Huawei"}),u.jsx("option",{value:"BytePlus",children:"BytePlus"}),u.jsx("option",{value:"Wangsu",children:"Wangsu"}),u.jsx("option",{value:"Akamai",children:"Akamai"}),u.jsx("option",{value:"Multi CDN",children:"Multi CDN"})]})]})]})]})]}),u.jsx("div",{className:"p-6 border-t-2 border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:e,disabled:l,className:"flex-1 h-12 bg-white dark:bg-zinc-800 border-2 border-zinc-200 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 rounded-xl font-bold text-sm hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors disabled:opacity-50",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:l||!b,className:"flex-1 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-bold text-sm hover:shadow-lg hover:shadow-blue-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?u.jsxs(u.Fragment,{children:[u.jsx(Zs,{size:18,className:"animate-spin"}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(ar,{size:18}),u.jsx("span",{children:"Save Match"})]})})]})})]})]})]})}const k9=["#","League","Match","Time","ECS Sport","ECS Entitlement","API Huawei","WWW & API Peak/Min","CDN","Channel","Req Peak (Min)","Req Total","BW Peak (Gb/s)","BW Total (GB)","Viewers","Score","Start","End"];function A9({matches:n,isOpen:e,onClose:t}){const[r,a]=I.useState(new Set),[l,c]=I.useState("end_stat"),[h,f]=I.useState(!1),[g,b]=I.useState(""),[v,x]=I.useState(!0),[E,A]=I.useState("table");I.useEffect(()=>{e&&n?.length>0&&a(new Set(n.map(F=>F.id)))},[e]),I.useEffect(()=>{e&&a(F=>{const C=new Set(n.map(j=>j.id)),k=new Set([...F].filter(j=>C.has(j)));return k.size===F.size?F:k})},[n,e]);const R=I.useMemo(()=>n?n.map(F=>{const C=l==="start_stat"?"startStats":"endStats",k=F[C]||{},j=!!F[C];return{...F,...k,hasStats:j}}):[],[n,l]),N=(F,C)=>{const k={no:C+1,league:F.league||F.calendar||"-",title:F.teamA&&F.teamB?`${F.teamA} vs ${F.teamB}`:F.title||F.match||"-",time:F.startTime||"-",ecsSport:po(F.ecsSport,2)||"0.00 %",ecsEnt:po(F.ecsEntitlement,2)||"0.00 %",api:po(F.apiHuawei,2)||"0.00 %",reqPeak:xr(Pr(F.requestPeak))||"0",viewers:xr(Pr(F.muxViewerUniq))||"0",score:F.muxScore||"0",start:F.rangeStart||"-",end:F.rangeEnd||"-"},j=[];return F.cdn==="Multi CDN"&&Array.isArray(F.cdnDetails)&&F.cdnDetails.length>0?F.cdnDetails.forEach((M,H)=>{j.push({id:`${F.id}-cdn-${H}`,matchId:F.id,hasStats:F.hasStats,cells:[k.no,k.league,k.title,k.time,k.ecsSport,k.ecsEnt,k.api,k.reqPeak,M.provider||"Unknown",M.key||"-",xr(Pr(M.reqPeakMin))||"0",xr(Pr(M.reqTotal))||"0",Bs(M.bwPeakGbps?.val||M.bwPeakGbps,M.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",Bs(M.bandwidth?.val||M.bandwidth,M.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",k.viewers,k.score,k.start,k.end]})}):j.push({id:F.id,matchId:F.id,hasStats:F.hasStats,cells:[k.no,k.league,k.title,k.time,k.ecsSport,k.ecsEnt,k.api,k.reqPeak,F.cdn||"-",F.liveChannel||F.channel||"-",xr(Pr(F.reqPeakMin))||"0",xr(Pr(F.reqTotal))||"0",Bs(F.bwPeakGbps?.val||F.bwPeakGbps,F.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",Bs(F.bandwidth?.val||F.bandwidth,F.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",k.viewers,k.score,k.start,k.end]}),j},z=I.useMemo(()=>{let F=0;return R.flatMap(C=>{const k=N(C,F);return F++,k})},[R]),P=I.useMemo(()=>z.filter(F=>r.has(F.matchId)),[z,r]),q=F=>{const C=new Set(r);C.has(F)?C.delete(F):C.add(F),a(C)},L=()=>{r.size===n.length?a(new Set):a(new Set(n.map(F=>F.id)))},X=(F=!1)=>{const C=F?z:P;if(C.length===0){b("No data to copy"),f(!0);return}const k=C.map(j=>j.cells.join("	")).join(`
`);navigator.clipboard.writeText(k).then(()=>{b(`Copied ${C.length} rows to clipboard!`),f(!0)})};return e?u.jsxs(u.Fragment,{children:[h&&u.jsx(Ho,{message:g,type:"success",duration:3e3,onClose:()=>f(!1)}),u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-[#0f0f0f] w-full max-w-7xl rounded-3xl shadow-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"shrink-0 p-4 md:p-6 bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/10 dark:to-purple-900/10 border-b border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl text-white shadow-lg shadow-violet-500/30",children:u.jsx(MS,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-zinc-900 dark:text-white",children:"Data Preview"}),u.jsxs("p",{className:"text-xs text-zinc-500 mt-0.5",children:[n?.length||0," matches  ",z.length," rows  ",P.length," selected"]})]})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:u.jsx(kn,{size:20,className:"text-zinc-500"})})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1 p-1 bg-zinc-100 dark:bg-zinc-800 rounded-xl",children:[u.jsx("button",{onClick:()=>c("start_stat"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${l==="start_stat"?"bg-white dark:bg-zinc-700 text-violet-600 dark:text-violet-400 shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"Start Stats"}),u.jsx("button",{onClick:()=>c("end_stat"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${l==="end_stat"?"bg-white dark:bg-zinc-700 text-violet-600 dark:text-violet-400 shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"End Stats"})]}),u.jsxs("div",{className:"flex items-center gap-1 p-1 bg-zinc-100 dark:bg-zinc-800 rounded-xl",children:[u.jsx("button",{onClick:()=>A("table"),className:`p-2 rounded-lg transition-all ${E==="table"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-400 hover:text-zinc-600"}`,title:"Table View",children:u.jsx(oj,{size:16})}),u.jsx("button",{onClick:()=>A("compact"),className:`p-2 rounded-lg transition-all ${E==="compact"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-400 hover:text-zinc-600"}`,title:"Compact View",children:u.jsx(PS,{size:16})})]}),u.jsx("div",{className:"h-6 w-[1px] bg-zinc-200 dark:bg-zinc-700 hidden md:block"}),u.jsx("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-xs font-bold uppercase text-zinc-600 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all",children:r.size===n?.length?u.jsxs(u.Fragment,{children:[u.jsx(Mh,{size:16,className:"text-violet-500"})," Deselect All"]}):u.jsxs(u.Fragment,{children:[u.jsx(Ih,{size:16})," Select All"]})}),u.jsx("div",{className:"flex-1"}),u.jsxs("button",{onClick:()=>x(!v),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors",children:[v?u.jsx(rz,{size:16}):u.jsx(df,{size:16}),v?"Collapse":"Expand"]})]})]}),v&&u.jsx("div",{className:"flex-1 overflow-hidden flex flex-col min-h-0",children:E==="table"?u.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-4",children:u.jsx("div",{className:"inline-block min-w-full align-middle",children:u.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden bg-white dark:bg-zinc-900/50",children:u.jsxs("table",{className:"min-w-full divide-y divide-zinc-200 dark:divide-zinc-800",children:[u.jsx("thead",{className:"bg-zinc-100 dark:bg-zinc-800/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-3 text-left w-10",children:u.jsx("button",{onClick:L,className:"flex items-center justify-center",children:r.size===n?.length?u.jsx(Mh,{size:16,className:"text-violet-500"}):r.size>0?u.jsx("div",{className:"w-4 h-4 border-2 border-violet-500 rounded bg-violet-500/20"}):u.jsx(Ih,{size:16,className:"text-zinc-400"})})}),k9.map((F,C)=>u.jsx("th",{className:"px-3 py-3 text-left text-[10px] font-black uppercase tracking-widest text-zinc-500 whitespace-nowrap",children:F},C))]})}),u.jsx("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:z.map((F,C)=>{const k=r.has(F.matchId);return u.jsxs("tr",{onClick:()=>q(F.matchId),className:`cursor-pointer transition-all ${k?"bg-violet-50 dark:bg-violet-900/10 hover:bg-violet-100 dark:hover:bg-violet-900/20":"hover:bg-zinc-50 dark:hover:bg-zinc-800/50"}`,children:[u.jsx("td",{className:"px-3 py-2",children:k?u.jsx(Mh,{size:16,className:"text-violet-500"}):u.jsx(Ih,{size:16,className:"text-zinc-300 dark:text-zinc-600"})}),F.cells.map((j,U)=>u.jsx("td",{className:`px-3 py-2 text-xs font-mono whitespace-nowrap ${k?"text-zinc-800 dark:text-zinc-200":"text-zinc-600 dark:text-zinc-400"}`,children:j},U))]},F.id)})})]})})})}):u.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-4",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:R.map(F=>{const C=r.has(F.id);return u.jsxs("div",{onClick:()=>q(F.id),className:`p-4 rounded-2xl border-2 cursor-pointer transition-all ${C?"border-violet-500 bg-violet-50 dark:bg-violet-900/10 shadow-lg shadow-violet-500/10":"border-zinc-100 dark:border-zinc-800 bg-white dark:bg-zinc-900/50 hover:border-zinc-200 dark:hover:border-zinc-700"}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white truncate",children:F.teamA&&F.teamB?`${F.teamA} vs ${F.teamB}`:F.title||F.match||"-"}),u.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold mt-0.5 truncate",children:F.league||F.calendar||"-"})]}),C?u.jsx(Mh,{size:20,className:"text-violet-500 shrink-0"}):u.jsx(Ih,{size:20,className:"text-zinc-300 dark:text-zinc-600 shrink-0"})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[u.jsx("span",{className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-[10px] font-bold text-zinc-600 dark:text-zinc-400",children:F.startTime||"-"}),u.jsx("span",{className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-[10px] font-bold text-zinc-600 dark:text-zinc-400",children:F.cdn||"-"}),F.hasStats&&u.jsx("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900/20 rounded-lg text-[10px] font-bold text-emerald-600 dark:text-emerald-400",children:"Has Stats"})]})]},F.id)})})})}),u.jsx("div",{className:"shrink-0 p-4 md:p-6 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-xs font-bold text-zinc-400",children:[P.length," of ",z.length," rows selected"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:t,className:"px-6 py-3 text-xs font-black uppercase text-zinc-500 hover:text-black dark:hover:text-white transition-colors rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-800",children:"Cancel"}),u.jsxs("button",{onClick:()=>X(!0),disabled:z.length===0,className:"px-6 py-3 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-xs font-black uppercase text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u.jsx(_u,{size:16}),"Copy All (",z.length,")"]}),u.jsxs("button",{onClick:()=>X(!1),disabled:P.length===0,className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl text-xs font-black uppercase text-white shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center gap-2 active:translate-y-0",children:[u.jsx(_u,{size:16}),"Copy Selected (",P.length,")"]})]})]})})]})})]}):null}const T9=()=>{const[n,e]=I.useState(new Date);return I.useEffect(()=>{const t=setInterval(()=>e(new Date),1e3);return()=>clearInterval(t)},[]),u.jsxs("div",{className:"w-full md:w-auto bg-white text-black px-4 md:px-6 py-2.5 rounded-xl font-mono text-lg md:text-xl font-bold shadow-lg flex items-center justify-center md:justify-start gap-3",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500 animate-pulse"}),fu(n,"HH:mm:ss")]})};function C9(){const[n,e]=I.useState(new Date),t=fu(n,"yyyy-MM-dd"),{matches:r,loading:a}=mT(n),[l,c]=I.useState(null),[h,f]=I.useState(!1),[g,b]=I.useState(null),[v,x]=I.useState(!1),[E,A]=I.useState({isOpen:!1,id:null}),[R,N]=I.useState([]),[z,P]=I.useState(!1),[q,L]=I.useState(""),[X,F]=I.useState("ALL"),[C,k]=I.useState(1),j=6,[U,M]=I.useState(!1),[H,V]=I.useState(new Set),[Se,De]=I.useState(new Set),re=I.useRef(new Map),ae=(fe,Ze="success")=>{const Lt=Date.now();N(ht=>[...ht,{id:Lt,message:fe,type:Ze}]),setTimeout(()=>{N(ht=>ht.filter(jt=>jt.id!==Lt))},3e3)},pe=fe=>{N(Ze=>Ze.filter(Lt=>Lt.id!==fe))},_e=()=>e(fe=>m9(fe)),de=()=>e(fe=>cT(fe,1)),O=()=>e(new Date),Z=fe=>{fe.target.value&&e(new Date(fe.target.value))};I.useEffect(()=>{"Notification"in window&&Notification.permission==="granted"&&M(!0)},[]);const ue=async()=>{if(!("Notification"in window)){ae("Browser does not support notifications","error");return}await Notification.requestPermission()==="granted"&&(M(!0),new Notification(" System Ready",{body:"Notifications enabled for matches!"}),ae("Notifications enabled successfully!"))};I.useEffect(()=>{if(!U||r.length===0)return;const fe=()=>{const Lt=new Date;r.forEach(ht=>{const jt=`time-${ht.id}`;if(H.has(jt))return;const kr=ht.startDate||t,fa=new Date(`${kr}T${ht.startTime}`)-Lt,Ti=Math.floor(fa/6e4);Ti<=15&&Ti>0&&(new Notification(" Match Starting Soon!",{body:`${ht.teamA||"Match"} vs ${ht.teamB||""} starts in ${Ti} mins!`}),V(Tt=>new Set(Tt).add(jt)))})};fe();const Ze=setInterval(fe,6e4);return()=>clearInterval(Ze)},[r,U,H,t]),I.useEffect(()=>{!U||r.length===0||r.forEach(fe=>{const Ze=fe.teamA&&fe.teamB?`${fe.teamA} vs ${fe.teamB}`:fe.title||fe.match||"Match",Lt=`${fe.hasStartStat}-${fe.hasEndStat}`,ht=re.current.get(fe.id);if(ht&&ht!==Lt){if(fe.hasStartStat&&!fe.hasEndStat&&!ht.startsWith("true")){const jt=`live-${fe.id}`;Se.has(jt)||(new Notification(" LIVE: Match Started!",{body:`${Ze} is now LIVE!`,icon:"/favicon.ico"}),De(kr=>new Set(kr).add(jt)),ae(` ${Ze} is LIVE!`,"success"))}if(fe.hasEndStat&&!ht.endsWith("true")){const jt=`finished-${fe.id}`;Se.has(jt)||(new Notification(" Match Finished!",{body:`${Ze} has finished!`,icon:"/favicon.ico"}),De(kr=>new Set(kr).add(jt)),ae(` ${Ze} finished!`,"success"))}}re.current.set(fe.id,Lt)})},[r,U,Se,ae]);const he=I.useMemo(()=>r.filter(fe=>{const Lt=`${fe.league||""} ${fe.teamA||""} ${fe.teamB||""} ${fe.match||""}`.toLowerCase().includes(q.toLowerCase());let ht=!0;return X==="LIVE"&&(ht=fe.hasStartStat&&!fe.hasEndStat),X==="FINISHED"&&(ht=fe.hasEndStat),X==="PENDING"&&(ht=!fe.hasStartStat),Lt&&ht}),[r,q,X]),Ee=I.useMemo(()=>({total:r.length,live:r.filter(fe=>fe.hasStartStat&&!fe.hasEndStat).length,finished:r.filter(fe=>fe.hasEndStat).length,pending:r.filter(fe=>!fe.hasStartStat).length}),[r]),ve=Math.ceil(he.length/j),Re=I.useMemo(()=>{const fe=(C-1)*j;return he.slice(fe,fe+j)},[he,C]);I.useEffect(()=>{k(1)},[X,q,r]);const mt=async fe=>{x(!0);try{g?await r0.updateMatch(g.id,fe):await r0.createMatch(fe),b(null),f(!1),ae(g?"Match updated successfully!":"Match created successfully!")}catch(Ze){ae("Failed to save match: "+Ze.message,"error")}finally{x(!1)}},Ye=async()=>{if(E.id)try{await r0.deleteMatch(E.id),A({isOpen:!1,id:null}),ae("Match deleted successfully!")}catch(fe){ae("Failed to delete match: "+fe.message,"error")}};return u.jsxs("div",{className:"flex flex-col h-full w-full bg-gradient-to-br from-zinc-50 via-white to-zinc-50 dark:from-black dark:via-zinc-900 dark:to-black overflow-hidden",children:[l&&u.jsx(E9,{isOpen:!!l,onClose:()=>c(null),matchData:l}),u.jsx(S9,{isOpen:h,onClose:()=>{f(!1),b(null)},onSubmit:mt,initialData:g,selectedDate:t,saving:v}),u.jsx(Hu,{isOpen:E.isOpen,onClose:()=>A({isOpen:!1,id:null}),title:"Delete Match?",message:"Are you sure you want to delete this match? This action cannot be undone.",onConfirm:Ye,isDanger:!0}),u.jsx("div",{className:"fixed bottom-4 right-4 z-[200] flex flex-col-reverse gap-2",children:R.map((fe,Ze)=>u.jsx("div",{className:"animate-in slide-in-from-right-5 fade-in duration-300",style:{animationDelay:`${Ze*50}ms`},children:u.jsx(Ho,{message:fe.message,type:fe.type,onClose:()=>pe(fe.id)})},fe.id))}),u.jsx(A9,{matches:he,isOpen:z,onClose:()=>P(!1)}),u.jsx("header",{className:"shrink-0 bg-zinc-950 border-b border-zinc-800 pb-6 transition-all",children:u.jsxs("div",{className:"px-4 md:px-6 pt-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-red-500/20 shrink-0",children:u.jsx(Sb,{size:24,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white tracking-tight",children:"Live Desk"}),u.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:"Monitor and manage live matches"})]})]}),u.jsx(T9,{})]}),u.jsx("div",{className:"flex flex-col xl:flex-row items-stretch xl:items-center justify-between gap-4",children:u.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-3 w-full xl:w-auto",children:[u.jsxs("div",{className:"flex items-center bg-zinc-900 border border-zinc-800 rounded-2xl p-1.5 flex-1 justify-between",children:[u.jsx("button",{onClick:_e,className:"w-12 h-12 flex items-center justify-center rounded-xl text-zinc-400 hover:bg-zinc-800 hover:text-white transition-colors shrink-0",children:u.jsx(R1,{size:24,strokeWidth:2.5})}),u.jsxs("div",{className:"relative mx-2 flex-1 flex justify-center",children:[u.jsxs("div",{className:"h-12 w-full flex items-center justify-center px-2 bg-zinc-800/50 rounded-xl cursor-pointer hover:bg-zinc-800 transition-colors border border-zinc-700/50 group overflow-hidden",children:[u.jsx(sr,{size:18,className:"text-zinc-400 mr-2 md:mr-3 group-hover:text-red-500 transition-colors shrink-0"}),u.jsx("span",{className:"text-sm md:text-lg font-bold text-white tracking-wide whitespace-nowrap truncate",children:fu(n,"EEEE, dd MMM yyyy")})]}),u.jsx("input",{type:"date",className:"absolute inset-0 opacity-0 cursor-pointer",value:t,onChange:Z})]}),u.jsx("button",{onClick:de,className:"w-12 h-12 flex items-center justify-center rounded-xl text-zinc-400 hover:bg-zinc-800 hover:text-white transition-colors shrink-0",children:u.jsx(k0,{size:24,strokeWidth:2.5})})]}),u.jsxs("div",{className:"flex bg-zinc-800 rounded-2xl border border-zinc-700 p-1.5 h-14 lg:h-[62px] items-center w-full lg:w-auto",children:[u.jsxs("div",{className:"relative h-full aspect-square shrink-0",children:[u.jsx("button",{className:"w-full h-full flex items-center justify-center rounded-xl bg-zinc-700 text-zinc-300 hover:bg-zinc-600 hover:text-white transition-all",title:"Select Date",children:u.jsx(sr,{size:22})}),u.jsx("input",{type:"date",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",value:t,onChange:Z})]}),u.jsx("div",{className:"w-px h-6 lg:h-8 bg-zinc-700 mx-2"}),u.jsx("button",{onClick:O,disabled:rE(n),className:`h-full flex-1 lg:flex-none px-4 lg:px-6 rounded-xl font-bold text-sm transition-all whitespace-nowrap flex items-center justify-center ${rE(n)?"text-zinc-500 cursor-default bg-transparent":"bg-red-600 text-white hover:bg-red-500 shadow-lg shadow-red-900/20"}`,children:"Today"})]})]})}),u.jsxs("div",{className:"flex flex-col xl:flex-row items-center justify-between gap-4 mt-4 pt-6 border-t border-zinc-900",children:[u.jsx("div",{className:"flex items-center gap-2 overflow-x-auto w-full xl:w-auto no-scrollbar pb-1 xl:pb-0",children:[{id:"ALL",label:"All",count:Ee.total},{id:"LIVE",label:"Live",count:Ee.live,isLive:!0},{id:"PENDING",label:"Scheduled",count:Ee.pending},{id:"FINISHED",label:"Finished",count:Ee.finished}].map(fe=>u.jsxs("button",{onClick:()=>F(fe.id),className:`h-12 px-4 md:px-5 rounded-xl border-2 font-bold text-sm flex items-center gap-2 transition-all whitespace-nowrap shrink-0 ${X===fe.id?"bg-white border-white text-black shadow-lg shadow-white/10":"bg-zinc-900 border-zinc-800 text-zinc-400 hover:border-zinc-700 hover:text-zinc-200"}`,children:[u.jsx("span",{children:fe.label}),u.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-xs ${X===fe.id?"bg-black text-white":"bg-zinc-800 text-zinc-500"}`,children:fe.count}),fe.isLive&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse ml-1"})]},fe.id))}),u.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr] md:flex gap-3 w-full xl:w-auto",children:[u.jsx("button",{onClick:ue,disabled:U,className:`h-12 w-12 flex items-center justify-center rounded-xl border transition-all ${U?"bg-emerald-500 border-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-zinc-900 border-zinc-700 text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:U?u.jsx(CD,{size:20}):u.jsx(AD,{size:20})}),u.jsxs("button",{onClick:()=>P(!0),disabled:he.length===0,className:"h-12 px-4 md:px-6 bg-zinc-800 border border-zinc-700 text-violet-400 hover:text-violet-300 hover:bg-zinc-700 rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[u.jsx(_i,{size:18}),u.jsx("span",{children:"Preview"})]}),u.jsxs("button",{onClick:()=>{b(null),f(!0)},className:"h-12 px-4 md:px-6 bg-white text-black hover:bg-zinc-200 rounded-xl font-bold text-sm shadow-xl transition-all flex items-center justify-center gap-2",children:[u.jsx(vo,{size:18,strokeWidth:3}),u.jsx("span",{children:"Add Match"})]})]})]})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[1,2,3,4,5,6].map(fe=>u.jsx("div",{className:"h-48 bg-white dark:bg-zinc-900 rounded-2xl animate-pulse border-2 border-zinc-100 dark:border-zinc-800"},fe))}):he.length===0?u.jsxs("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center",children:[u.jsx("div",{className:"p-6 bg-white dark:bg-zinc-900 rounded-3xl shadow-lg border-2 border-zinc-100 dark:border-zinc-800 mb-4",children:u.jsx(wu,{size:48,className:"text-zinc-300 dark:text-zinc-700"})}),u.jsx("h3",{className:"text-xl font-black text-zinc-800 dark:text-zinc-200 mb-2",children:"No matches found"}),u.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mb-6 max-w-md text-center",children:q?`No matches found for "${q}". Try a different search term.`:`No matches scheduled for ${fu(n,"dd MMM yyyy")}. Add a new match to get started.`}),u.jsxs("button",{onClick:()=>{b(null),f(!0)},className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all",children:[u.jsx(vo,{size:20}),"Add Match"]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:Re.map(fe=>u.jsx(gT,{match:fe,onClick:()=>c(fe),onEdit:Ze=>{b(Ze),f(!0)},onDelete:Ze=>A({isOpen:!0,id:Ze})},fe.id))}),ve>1&&u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-2xl border-2 border-zinc-100 dark:border-zinc-800",children:[u.jsxs("span",{className:"text-sm font-semibold text-zinc-600 dark:text-zinc-400",children:["Showing ",(C-1)*j+1," - ",Math.min(C*j,he.length)," of ",he.length]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>k(fe=>Math.max(fe-1,1)),disabled:C===1,className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 disabled:opacity-30 transition-colors",children:u.jsx(R1,{size:18})}),u.jsxs("div",{className:"px-4 py-2 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-lg text-sm font-bold",children:[C," / ",ve]}),u.jsx("button",{onClick:()=>k(fe=>Math.min(fe+1,ve)),disabled:C===ve,className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 disabled:opacity-30 transition-colors",children:u.jsx(k0,{size:18})})]})]})]})})]})}var km,Te,pT,bT,Ro,Qa,sE,yT,vT,If={},xT=[],N9=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Hs(n,e){for(var t in e)n[t]=e[t];return n}function _T(n){var e=n.parentNode;e&&e.removeChild(n)}function ne(n,e,t){var r,a,l,c={};for(l in e)l=="key"?r=e[l]:l=="ref"?a=e[l]:c[l]=e[l];if(arguments.length>2&&(c.children=arguments.length>3?km.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(l in n.defaultProps)c[l]===void 0&&(c[l]=n.defaultProps[l]);return sf(n,c,r,a,null)}function sf(n,e,t,r,a){var l={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++pT};return a==null&&Te.vnode!=null&&Te.vnode(l),l}function ts(){return{current:null}}function Rt(n){return n.children}function R9(n,e,t,r,a){var l;for(l in t)l==="children"||l==="key"||l in e||Of(n,l,null,t[l],r);for(l in e)a&&typeof e[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||t[l]===e[l]||Of(n,l,e[l],t[l],r)}function aE(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||N9.test(e)?t:t+"px"}function Of(n,e,t,r,a){var l;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||aE(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||aE(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")l=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+l]=t,t?r||n.addEventListener(e,l?oE:lE,l):n.removeEventListener(e,l?oE:lE,l);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function lE(n){Ro=!0;try{return this.l[n.type+!1](Te.event?Te.event(n):n)}finally{Ro=!1}}function oE(n){Ro=!0;try{return this.l[n.type+!0](Te.event?Te.event(n):n)}finally{Ro=!1}}function ir(n,e){this.props=n,this.context=e}function Iu(n,e){if(e==null)return n.__?Iu(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Iu(n):null}function wT(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return wT(n)}}function D9(n){Ro?setTimeout(n):yT(n)}function K0(n){(!n.__d&&(n.__d=!0)&&Qa.push(n)&&!Vf.__r++||sE!==Te.debounceRendering)&&((sE=Te.debounceRendering)||D9)(Vf)}function Vf(){var n,e,t,r,a,l,c,h;for(Qa.sort(function(f,g){return f.__v.__b-g.__v.__b});n=Qa.shift();)n.__d&&(e=Qa.length,r=void 0,a=void 0,c=(l=(t=n).__v).__e,(h=t.__P)&&(r=[],(a=Hs({},l)).__v=l.__v+1,wy(h,l,a,t.__n,h.ownerSVGElement!==void 0,l.__h!=null?[c]:null,r,c??Iu(l),l.__h),TT(r,l),l.__e!=c&&wT(l)),Qa.length>e&&Qa.sort(function(f,g){return f.__v.__b-g.__v.__b}));Vf.__r=0}function ET(n,e,t,r,a,l,c,h,f,g){var b,v,x,E,A,R,N,z=r&&r.__k||xT,P=z.length;for(t.__k=[],b=0;b<e.length;b++)if((E=t.__k[b]=(E=e[b])==null||typeof E=="boolean"?null:typeof E=="string"||typeof E=="number"||typeof E=="bigint"?sf(null,E,null,null,E):Array.isArray(E)?sf(Rt,{children:E},null,null,null):E.__b>0?sf(E.type,E.props,E.key,E.ref?E.ref:null,E.__v):E)!=null){if(E.__=t,E.__b=t.__b+1,(x=z[b])===null||x&&E.key==x.key&&E.type===x.type)z[b]=void 0;else for(v=0;v<P;v++){if((x=z[v])&&E.key==x.key&&E.type===x.type){z[v]=void 0;break}x=null}wy(n,E,x=x||If,a,l,c,h,f,g),A=E.__e,(v=E.ref)&&x.ref!=v&&(N||(N=[]),x.ref&&N.push(x.ref,null,E),N.push(v,E.__c||A,E)),A!=null?(R==null&&(R=A),typeof E.type=="function"&&E.__k===x.__k?E.__d=f=ST(E,f,n):f=kT(n,E,x,z,A,f),typeof t.type=="function"&&(t.__d=f)):f&&x.__e==f&&f.parentNode!=n&&(f=Iu(x))}for(t.__e=R,b=P;b--;)z[b]!=null&&(typeof t.type=="function"&&z[b].__e!=null&&z[b].__e==t.__d&&(t.__d=AT(r).nextSibling),NT(z[b],z[b]));if(N)for(b=0;b<N.length;b++)CT(N[b],N[++b],N[++b])}function ST(n,e,t){for(var r,a=n.__k,l=0;a&&l<a.length;l++)(r=a[l])&&(r.__=n,e=typeof r.type=="function"?ST(r,e,t):kT(t,r,r,a,r.__e,e));return e}function Pf(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Pf(t,e)}):e.push(n)),e}function kT(n,e,t,r,a,l){var c,h,f;if(e.__d!==void 0)c=e.__d,e.__d=void 0;else if(t==null||a!=l||a.parentNode==null)e:if(l==null||l.parentNode!==n)n.appendChild(a),c=null;else{for(h=l,f=0;(h=h.nextSibling)&&f<r.length;f+=1)if(h==a)break e;n.insertBefore(a,l),c=l}return c!==void 0?c:a.nextSibling}function AT(n){var e,t,r;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(r=AT(t)))return r}return null}function wy(n,e,t,r,a,l,c,h,f){var g,b,v,x,E,A,R,N,z,P,q,L,X,F,C,k=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(f=t.__h,h=e.__e=t.__e,e.__h=null,l=[h]),(g=Te.__b)&&g(e);try{e:if(typeof k=="function"){if(N=e.props,z=(g=k.contextType)&&r[g.__c],P=g?z?z.props.value:g.__:r,t.__c?R=(b=e.__c=t.__c).__=b.__E:("prototype"in k&&k.prototype.render?e.__c=b=new k(N,P):(e.__c=b=new ir(N,P),b.constructor=k,b.render=j9),z&&z.sub(b),b.props=N,b.state||(b.state={}),b.context=P,b.__n=r,v=b.__d=!0,b.__h=[],b._sb=[]),b.__s==null&&(b.__s=b.state),k.getDerivedStateFromProps!=null&&(b.__s==b.state&&(b.__s=Hs({},b.__s)),Hs(b.__s,k.getDerivedStateFromProps(N,b.__s))),x=b.props,E=b.state,b.__v=e,v)k.getDerivedStateFromProps==null&&b.componentWillMount!=null&&b.componentWillMount(),b.componentDidMount!=null&&b.__h.push(b.componentDidMount);else{if(k.getDerivedStateFromProps==null&&N!==x&&b.componentWillReceiveProps!=null&&b.componentWillReceiveProps(N,P),!b.__e&&b.shouldComponentUpdate!=null&&b.shouldComponentUpdate(N,b.__s,P)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(b.props=N,b.state=b.__s,b.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(j){j&&(j.__=e)}),q=0;q<b._sb.length;q++)b.__h.push(b._sb[q]);b._sb=[],b.__h.length&&c.push(b);break e}b.componentWillUpdate!=null&&b.componentWillUpdate(N,b.__s,P),b.componentDidUpdate!=null&&b.__h.push(function(){b.componentDidUpdate(x,E,A)})}if(b.context=P,b.props=N,b.__P=n,L=Te.__r,X=0,"prototype"in k&&k.prototype.render){for(b.state=b.__s,b.__d=!1,L&&L(e),g=b.render(b.props,b.state,b.context),F=0;F<b._sb.length;F++)b.__h.push(b._sb[F]);b._sb=[]}else do b.__d=!1,L&&L(e),g=b.render(b.props,b.state,b.context),b.state=b.__s;while(b.__d&&++X<25);b.state=b.__s,b.getChildContext!=null&&(r=Hs(Hs({},r),b.getChildContext())),v||b.getSnapshotBeforeUpdate==null||(A=b.getSnapshotBeforeUpdate(x,E)),C=g!=null&&g.type===Rt&&g.key==null?g.props.children:g,ET(n,Array.isArray(C)?C:[C],e,t,r,a,l,c,h,f),b.base=e.__e,e.__h=null,b.__h.length&&c.push(b),R&&(b.__E=b.__=null),b.__e=!1}else l==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=z9(t.__e,e,t,r,a,l,c,f);(g=Te.diffed)&&g(e)}catch(j){e.__v=null,(f||l!=null)&&(e.__e=h,e.__h=!!f,l[l.indexOf(h)]=null),Te.__e(j,e,t)}}function TT(n,e){Te.__c&&Te.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){Te.__e(r,t.__v)}})}function z9(n,e,t,r,a,l,c,h){var f,g,b,v=t.props,x=e.props,E=e.type,A=0;if(E==="svg"&&(a=!0),l!=null){for(;A<l.length;A++)if((f=l[A])&&"setAttribute"in f==!!E&&(E?f.localName===E:f.nodeType===3)){n=f,l[A]=null;break}}if(n==null){if(E===null)return document.createTextNode(x);n=a?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,x.is&&x),l=null,h=!1}if(E===null)v===x||h&&n.data===x||(n.data=x);else{if(l=l&&km.call(n.childNodes),g=(v=t.props||If).dangerouslySetInnerHTML,b=x.dangerouslySetInnerHTML,!h){if(l!=null)for(v={},A=0;A<n.attributes.length;A++)v[n.attributes[A].name]=n.attributes[A].value;(b||g)&&(b&&(g&&b.__html==g.__html||b.__html===n.innerHTML)||(n.innerHTML=b&&b.__html||""))}if(R9(n,x,v,a,h),b)e.__k=[];else if(A=e.props.children,ET(n,Array.isArray(A)?A:[A],e,t,r,a&&E!=="foreignObject",l,c,l?l[0]:t.__k&&Iu(t,0),h),l!=null)for(A=l.length;A--;)l[A]!=null&&_T(l[A]);h||("value"in x&&(A=x.value)!==void 0&&(A!==n.value||E==="progress"&&!A||E==="option"&&A!==v.value)&&Of(n,"value",A,v.value,!1),"checked"in x&&(A=x.checked)!==void 0&&A!==n.checked&&Of(n,"checked",A,v.checked,!1))}return n}function CT(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){Te.__e(r,t)}}function NT(n,e,t){var r,a;if(Te.unmount&&Te.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||CT(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){Te.__e(l,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(a=0;a<r.length;a++)r[a]&&NT(r[a],e,t||typeof n.type!="function");t||n.__e==null||_T(n.__e),n.__=n.__e=n.__d=void 0}function j9(n,e,t){return this.constructor(n,t)}function Ou(n,e,t){var r,a,l;Te.__&&Te.__(n,e),a=(r=!1)?null:e.__k,l=[],wy(e,n=e.__k=ne(Rt,null,[n]),a||If,If,e.ownerSVGElement!==void 0,a?null:e.firstChild?km.call(e.childNodes):null,l,a?a.__e:e.firstChild,r),TT(l,n)}function M9(n,e){var t={__c:e="__cC"+vT++,__:n,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,l;return this.getChildContext||(a=[],(l={})[e]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&a.some(function(h){h.__e=!0,K0(h)})},this.sub=function(c){a.push(c);var h=c.componentWillUnmount;c.componentWillUnmount=function(){a.splice(a.indexOf(c),1),h&&h.call(c)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}km=xT.slice,Te={__e:function(n,e,t,r){for(var a,l,c;e=e.__;)if((a=e.__c)&&!a.__)try{if((l=a.constructor)&&l.getDerivedStateFromError!=null&&(a.setState(l.getDerivedStateFromError(n)),c=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(n,r||{}),c=a.__d),c)return a.__E=a}catch(h){n=h}throw n}},pT=0,bT=function(n){return n!=null&&n.constructor===void 0},Ro=!1,ir.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Hs({},this.state),typeof n=="function"&&(n=n(Hs({},t),this.props)),n&&Hs(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),K0(this))},ir.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),K0(this))},ir.prototype.render=Rt,Qa=[],yT=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vf.__r=0,vT=0;var mi,i0,cE,RT=[],s0=[],uE=Te.__b,dE=Te.__r,hE=Te.diffed,fE=Te.__c,mE=Te.unmount;function I9(){for(var n;n=RT.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(af),n.__H.__h.forEach(Z0),n.__H.__h=[]}catch(e){n.__H.__h=[],Te.__e(e,n.__v)}}Te.__b=function(n){mi=null,uE&&uE(n)},Te.__r=function(n){dE&&dE(n);var e=(mi=n.__c).__H;e&&(i0===mi?(e.__h=[],mi.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=s0,t.__N=t.i=void 0})):(e.__h.forEach(af),e.__h.forEach(Z0),e.__h=[])),i0=mi},Te.diffed=function(n){hE&&hE(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(RT.push(e)!==1&&cE===Te.requestAnimationFrame||((cE=Te.requestAnimationFrame)||O9)(I9)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==s0&&(t.__=t.__V),t.i=void 0,t.__V=s0})),i0=mi=null},Te.__c=function(n,e){e.some(function(t){try{t.__h.forEach(af),t.__h=t.__h.filter(function(r){return!r.__||Z0(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Te.__e(r,t.__v)}}),fE&&fE(n,e)},Te.unmount=function(n){mE&&mE(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{af(r)}catch(a){e=a}}),t.__H=void 0,e&&Te.__e(e,t.__v))};var gE=typeof requestAnimationFrame=="function";function O9(n){var e,t=function(){clearTimeout(r),gE&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);gE&&(e=requestAnimationFrame(t))}function af(n){var e=mi,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),mi=e}function Z0(n){var e=mi;n.__c=n.__(),mi=e}function V9(n,e){for(var t in e)n[t]=e[t];return n}function pE(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function bE(n){this.props=n}(bE.prototype=new ir).isPureReactComponent=!0,bE.prototype.shouldComponentUpdate=function(n,e){return pE(this.props,n)||pE(this.state,e)};var yE=Te.__b;Te.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),yE&&yE(n)};var P9=Te.__e;Te.__e=function(n,e,t,r){if(n.then){for(var a,l=e;l=l.__;)if((a=l.__c)&&a.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),a.__c(n,e)}P9(n,e,t,r)};var vE=Te.unmount;function DT(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=V9({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return DT(r,e,t)})),n}function zT(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return zT(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function a0(){this.__u=0,this.t=null,this.__b=null}function jT(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Fh(){this.u=null,this.o=null}Te.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),vE&&vE(n)},(a0.prototype=new ir).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var a=jT(r.__v),l=!1,c=function(){l||(l=!0,t.__R=null,a?a(h):h())};t.__R=c;var h=function(){if(!--r.__u){if(r.state.__a){var g=r.state.__a;r.__v.__k[0]=zT(g,g.__c.__P,g.__c.__O)}var b;for(r.setState({__a:r.__b=null});b=r.t.pop();)b.forceUpdate()}},f=e.__h===!0;r.__u++||f||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(c,c)},a0.prototype.componentWillUnmount=function(){this.t=[]},a0.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=DT(this.__b,t,r.__O=r.__P)}this.__b=null}var a=e.__a&&ne(Rt,null,n.fallback);return a&&(a.__h=null),[ne(Rt,null,e.__a?null:n.children),a]};var xE=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function L9(n){return this.getChildContext=function(){return n.context},n.children}function U9(n){var e=this,t=n.i;e.componentWillUnmount=function(){Ou(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,a){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Ou(ne(L9,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function B9(n,e){var t=ne(U9,{__v:n,i:e});return t.containerInfo=e,t}(Fh.prototype=new ir).__a=function(n){var e=this,t=jT(e.__v),r=e.o.get(n);return r[0]++,function(a){var l=function(){e.props.revealOrder?(r.push(a),xE(e,n,r)):a()};t?t(l):l()}},Fh.prototype.render=function(n){this.u=null,this.o=new Map;var e=Pf(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Fh.prototype.componentDidUpdate=Fh.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){xE(n,t,e)})};var H9=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,F9=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,q9=typeof document<"u",G9=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ir.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ir.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var _E=Te.event;function $9(){}function Q9(){return this.cancelBubble}function Y9(){return this.defaultPrevented}Te.event=function(n){return _E&&(n=_E(n)),n.persist=$9,n.isPropagationStopped=Q9,n.isDefaultPrevented=Y9,n.nativeEvent=n};var wE={configurable:!0,get:function(){return this.class}},EE=Te.vnode;Te.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var l in r={},t){var c=t[l];q9&&l==="children"&&e==="noscript"||l==="value"&&"defaultValue"in t&&c==null||(l==="defaultValue"&&"value"in t&&t.value==null?l="value":l==="download"&&c===!0?c="":/ondoubleclick/i.test(l)?l="ondblclick":/^onchange(textarea|input)/i.test(l+e)&&!G9(t.type)?l="oninput":/^onfocus$/i.test(l)?l="onfocusin":/^onblur$/i.test(l)?l="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(l)?l=l.toLowerCase():a&&F9.test(l)?l=l.replace(/[A-Z0-9]/g,"-$&").toLowerCase():c===null&&(c=void 0),/^oninput$/i.test(l)&&(l=l.toLowerCase(),r[l]&&(l="oninputCapture")),r[l]=c)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Pf(t.children).forEach(function(h){h.props.selected=r.value.indexOf(h.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Pf(t.children).forEach(function(h){h.props.selected=r.multiple?r.defaultValue.indexOf(h.props.value)!=-1:r.defaultValue==h.props.value})),n.props=r,t.class!=t.className&&(wE.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",wE))}n.$$typeof=H9,EE&&EE(n)};var SE=Te.__r;Te.__r=function(n){SE&&SE(n),n.__c};const MT=[],J0=new Map;function IT(n){MT.push(n),J0.forEach(e=>{VT(e,n)})}function W9(n){n.isConnected&&n.getRootNode&&OT(n.getRootNode())}function OT(n){let e=J0.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=K9();t&&(e.nonce=t);const r=n===document?document.head:n,a=n===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,a)}J0.set(n,e),X9(e)}}function X9(n){for(const e of MT)VT(n,e)}function VT(n,e){const{sheet:t}=n,r=t.cssRules.length;e.split("}").forEach((a,l)=>{a=a.trim(),a&&t.insertRule(a+"}",r+l)})}let l0;function K9(){return l0===void 0&&(l0=Z9()),l0}function Z9(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&OT(document);var J9=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';IT(J9);class Ey{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:r}=this;e in r&&(t?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Sy(n){n.parentNode&&n.parentNode.removeChild(n)}function En(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(eV(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function eV(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function tV(n,e){let t=n instanceof HTMLElement?[n]:n,r=[];for(let a=0;a<t.length;a+=1){let l=t[a].querySelectorAll(e);for(let c=0;c<l.length;c+=1)r.push(l[c])}return r}const nV=/(top|left|right|bottom|width|height)$/i;function mu(n,e){for(let t in e)PT(n,t,e[t])}function PT(n,e,t){t==null?n.style[e]="":typeof t=="number"&&nV.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function LT(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let kE=0;function Am(){return kE+=1,"fc-dom-"+kE}function Tm(n){n.preventDefault()}function rV(n,e){return t=>{let r=En(t.target,n);r&&e.call(r,t,r)}}function UT(n,e,t,r){let a=rV(t,r);return n.addEventListener(e,a),()=>{n.removeEventListener(e,a)}}function iV(n,e,t,r){let a;return UT(n,"mouseover",e,(l,c)=>{if(c!==a){a=c,t(l,c);let h=f=>{a=null,r(f,c),c.removeEventListener("mouseleave",h)};c.addEventListener("mouseleave",h)}})}const AE=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function sV(n,e){let t=r=>{e(r),AE.forEach(a=>{n.removeEventListener(a,t)})};AE.forEach(r=>{n.addEventListener(r,t)})}function BT(n){return Object.assign({onClick:n},HT(n))}function HT(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let TE=0;function dl(){return TE+=1,String(TE)}function ky(){document.body.classList.add("fc-not-allowed")}function Ay(){document.body.classList.remove("fc-not-allowed")}function aV(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Tm)}function lV(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Tm)}function oV(n){n.addEventListener("contextmenu",Tm)}function cV(n){n.removeEventListener("contextmenu",Tm)}function uV(n){let e=[],t=[],r,a;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)a=t[r],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function dV(n,e,t){let r,a;for(r=0;r<t.length;r+=1)if(a=hV(n,e,t[r]),a)return a;return 0}function hV(n,e,t){return t.func?t.func(n,e):fV(n[t.field],e[t.field])*(t.order||1)}function fV(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function o0(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function gu(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((r,a,l)=>r.replace("$"+l,a||""),n):t}function mV(n,e){return n-e}function c0(n){return n%1===0}function gV(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const pV=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function tt(n,e){return typeof n=="string"?bV(n):typeof n=="object"&&n?CE(n):typeof n=="number"?CE({[e||"milliseconds"]:n}):null}function bV(n){let e=pV.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function CE(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function yV(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function vV(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function xV(n){return bo(n)/365}function _V(n){return bo(n)/30}function bo(n){return Vu(n)/864e5}function Vu(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function eb(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function sa(n,e,t){if(n===e)return!0;let r=n.length,a;if(r!==e.length)return!1;for(a=0;a<r;a+=1)if(!(t?t(n[a],e[a]):n[a]===e[a]))return!1;return!0}const wV=["sun","mon","tue","wed","thu","fri","sat"];function NE(n,e){let t=Fs(n);return t[2]+=e*7,Fn(t)}function ln(n,e){let t=Fs(n);return t[2]+=e,Fn(t)}function aa(n,e){let t=Fs(n);return t[6]+=e,Fn(t)}function EV(n,e){return Fo(n,e)/7}function Fo(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function SV(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function kV(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function AV(n,e){return(e.valueOf()-n.valueOf())/1e3}function TV(n,e){let t=wt(n),r=wt(e);return{years:0,months:0,days:Math.round(Fo(t,r)),milliseconds:e.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}function CV(n,e){let t=Lf(n,e);return t!==null&&t%7===0?t/7:null}function Lf(n,e){return qs(n)===qs(e)?Math.round(Fo(n,e)):null}function wt(n){return Fn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function NV(n){return Fn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function RV(n){return Fn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function DV(n){return Fn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function zV(n,e,t){let r=n.getUTCFullYear(),a=u0(n,r,e,t);if(a<1)return u0(n,r-1,e,t);let l=u0(n,r+1,e,t);return l>=1?Math.min(a,l):a}function u0(n,e,t,r){let a=Fn([e,0,1+jV(e,t,r)]),l=wt(n),c=Math.round(Fo(a,l));return Math.floor(c/7)+1}function jV(n,e,t){let r=7+e-t;return-((7+Fn([n,0,r]).getUTCDay()-e)%7)+r-1}function RE(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function DE(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Fs(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Fn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function FT(n){return!isNaN(n.valueOf())}function qs(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function MV(n,e,t=!1){let r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",Cy(e,!0)))),r}function Ty(n){return n.toISOString().replace(/T.*$/,"")}function IV(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function Cy(n,e=!1){let t=n<0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),l=Math.round(r%60);return e?`${t+o0(a,2)}:${o0(l,2)}`:`GMT${t}${a}${l?`:${o0(l,2)}`:""}`}function Ke(n,e,t){let r,a;return function(...l){if(!r)a=n.apply(this,l);else if(!sa(r,l)){let c=n.apply(this,l);(!e||!e(c,a))&&(a=c)}return r=l,a}}function lf(n,e,t){let r,a;return l=>(r?qr(r,l)||(a=n.call(this,l)):a=n.call(this,l),r=l,a)}const d0={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Uf={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},qh=/\s*([ap])\.?m\.?/i,OV=/,/g,VV=/\s+/g,PV=/\u200e/g,LV=/UTC|GMT/;class UV{constructor(e){let t={},r={},a=9;for(let l in e)l in d0?(r[l]=e[l],d0[l]<9&&(a=Math.min(d0[l],a))):(t[l]=e[l],l in Uf&&(a=Math.min(Uf[l],a)));this.standardDateProps=t,this.extendedSettings=r,this.smallestUnitNum=a,this.buildFormattingFunc=Ke(zE)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,r,a){let{standardDateProps:l,extendedSettings:c}=this,h=$V(e.marker,t.marker,r.calendarSystem);if(!h)return this.format(e,r);let f=h;f>1&&(l.year==="numeric"||l.year==="2-digit")&&(l.month==="numeric"||l.month==="2-digit")&&(l.day==="numeric"||l.day==="2-digit")&&(f=1);let g=this.format(e,r),b=this.format(t,r);if(g===b)return g;let v=QV(l,f),x=zE(v,c,r),E=x(e),A=x(t),R=YV(g,E,b,A),N=c.separator||a||r.defaultSeparator||"";return R?R.before+E+N+A+R.after:g+N+b}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function zE(n,e,t){let r=Object.keys(n).length;return r===1&&n.timeZoneName==="short"?a=>Cy(a.timeZoneOffset):r===0&&e.week?a=>GV(t.computeWeekNumber(a.marker),t.weekText,t.weekTextLong,t.locale,e.week):BV(n,e,t)}function BV(n,e,t){n=Object.assign({},n),e=Object.assign({},e),HV(n,e),n.timeZone="UTC";let r=new Intl.DateTimeFormat(t.locale.codes,n),a;if(e.omitZeroMinute){let l=Object.assign({},n);delete l.minute,a=new Intl.DateTimeFormat(t.locale.codes,l)}return l=>{let{marker:c}=l,h;a&&!c.getUTCMinutes()?h=a:h=r;let f=h.format(c);return FV(f,l,n,e,t)}}function HV(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function FV(n,e,t,r,a){return n=n.replace(PV,""),t.timeZoneName==="short"&&(n=qV(n,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Cy(e.timeZoneOffset))),r.omitCommas&&(n=n.replace(OV,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),r.meridiem===!1?n=n.replace(qh,"").trim():r.meridiem==="narrow"?n=n.replace(qh,(l,c)=>c.toLocaleLowerCase()):r.meridiem==="short"?n=n.replace(qh,(l,c)=>`${c.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(n=n.replace(qh,l=>l.toLocaleLowerCase())),n=n.replace(VV," "),n=n.trim(),n}function qV(n,e){let t=!1;return n=n.replace(LV,()=>(t=!0,e)),t||(n+=` ${e}`),n}function GV(n,e,t,r,a){let l=[];return a==="long"?l.push(t):(a==="short"||a==="narrow")&&l.push(e),(a==="long"||a==="short")&&l.push(" "),l.push(r.simpleNumberFormat.format(n)),r.options.direction==="rtl"&&l.reverse(),l.join("")}function $V(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:qs(n)!==qs(e)?1:0}function QV(n,e){let t={};for(let r in n)(!(r in Uf)||Uf[r]<=e)&&(t[r]=n[r]);return t}function YV(n,e,t,r){let a=0;for(;a<n.length;){let l=n.indexOf(e,a);if(l===-1)break;let c=n.substr(0,l);a=l+e.length;let h=n.substr(a),f=0;for(;f<t.length;){let g=t.indexOf(r,f);if(g===-1)break;let b=t.substr(0,g);f=g+r.length;let v=t.substr(f);if(c===b&&h===v)return{before:c,after:h}}}return null}function jE(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Bf(n,e,t,r){let a=jE(n,t.calendarSystem),l=e?jE(e,t.calendarSystem):null;return{date:a,start:a,end:l,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}class WV{constructor(e){this.cmdStr=e}format(e,t,r){return t.cmdFormatter(this.cmdStr,Bf(e,null,t,r))}formatRange(e,t,r,a){return r.cmdFormatter(this.cmdStr,Bf(e,t,r,a))}}class XV{constructor(e){this.func=e}format(e,t,r){return this.func(Bf(e,null,t,r))}formatRange(e,t,r,a){return this.func(Bf(e,t,r,a))}}function an(n){return typeof n=="object"&&n?new UV(n):typeof n=="string"?new WV(n):typeof n=="function"?new XV(n):null}const ME={navLinkDayClick:ee,navLinkWeekClick:ee,duration:tt,bootstrapFontAwesome:ee,buttonIcons:ee,customButtons:ee,defaultAllDayEventDuration:tt,defaultTimedEventDuration:tt,nextDayThreshold:tt,scrollTime:tt,scrollTimeReset:Boolean,slotMinTime:tt,slotMaxTime:tt,dayPopoverFormat:an,slotDuration:tt,snapDuration:tt,headerToolbar:ee,footerToolbar:ee,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:an,dayHeaderClassNames:ee,dayHeaderContent:ee,dayHeaderDidMount:ee,dayHeaderWillUnmount:ee,dayCellClassNames:ee,dayCellContent:ee,dayCellDidMount:ee,dayCellWillUnmount:ee,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ee,weekNumbers:Boolean,weekNumberClassNames:ee,weekNumberContent:ee,weekNumberDidMount:ee,weekNumberWillUnmount:ee,editable:Boolean,viewClassNames:ee,viewDidMount:ee,viewWillUnmount:ee,nowIndicator:Boolean,nowIndicatorSnap:ee,nowIndicatorClassNames:ee,nowIndicatorContent:ee,nowIndicatorDidMount:ee,nowIndicatorWillUnmount:ee,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ee,locale:ee,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ee,eventOrder:uV,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ee,contentHeight:ee,direction:String,weekNumberFormat:an,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ee,initialDate:ee,now:ee,eventDataTransform:ee,stickyHeaderDates:ee,stickyFooterScrollbar:ee,viewHeight:ee,defaultAllDay:Boolean,eventSourceFailure:ee,eventSourceSuccess:ee,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ee,eventConstraint:ee,eventAllow:ee,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ee,eventContent:ee,eventDidMount:ee,eventWillUnmount:ee,selectConstraint:ee,selectOverlap:ee,selectAllow:ee,droppable:Boolean,unselectCancel:String,slotLabelFormat:ee,slotLaneClassNames:ee,slotLaneContent:ee,slotLaneDidMount:ee,slotLaneWillUnmount:ee,slotLabelClassNames:ee,slotLabelContent:ee,slotLabelDidMount:ee,slotLabelWillUnmount:ee,dayMaxEvents:ee,dayMaxEventRows:ee,dayMinWidth:Number,slotLabelInterval:tt,allDayText:String,allDayClassNames:ee,allDayContent:ee,allDayDidMount:ee,allDayWillUnmount:ee,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:an,rerenderDelay:Number,moreLinkText:ee,moreLinkHint:ee,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ee,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:tt,hiddenDays:ee,fixedWeekCount:Boolean,validRange:ee,visibleRange:ee,titleFormat:ee,eventInteractive:Boolean,noEventsText:String,viewHint:ee,navLinkHint:ee,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ee,moreLinkClassNames:ee,moreLinkContent:ee,moreLinkDidMount:ee,moreLinkWillUnmount:ee,monthStartFormat:an,handleCustomRendering:ee,customRenderingMetaMap:ee,customRenderingReplaces:Boolean},pu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},IE={datesSet:ee,eventsSet:ee,eventAdd:ee,eventChange:ee,eventRemove:ee,windowResize:ee,eventClick:ee,eventMouseEnter:ee,eventMouseLeave:ee,select:ee,unselect:ee,loading:ee,_unmount:ee,_beforeprint:ee,_afterprint:ee,_noEventDrop:ee,_noEventResize:ee,_resize:ee,_scrollRequest:ee},OE={buttonText:ee,buttonHints:ee,views:ee,plugins:ee,initialEvents:ee,events:ee,eventSources:ee},Ga={headerToolbar:$a,footerToolbar:$a,buttonText:$a,buttonHints:$a,buttonIcons:$a,dateIncrement:$a,plugins:Gh,events:Gh,eventSources:Gh,resources:Gh};function $a(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?qr(n,e):n===e}function Gh(n,e){return Array.isArray(n)&&Array.isArray(e)?sa(n,e):n===e}const KV={type:String,component:ee,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ee,usesMinMaxTime:Boolean,classNames:ee,content:ee,didMount:ee,willUnmount:ee};function h0(n){return Ry(n,Ga)}function Ny(n,e){let t={},r={};for(let a in e)a in n&&(t[a]=e[a](n[a]));for(let a in n)a in e||(r[a]=n[a]);return{refined:t,extra:r}}function ee(n){return n}const{hasOwnProperty:Hf}=Object.prototype;function Ry(n,e){let t={};if(e){for(let r in e)if(e[r]===$a){let a=[];for(let l=n.length-1;l>=0;l-=1){let c=n[l][r];if(typeof c=="object"&&c)a.unshift(c);else if(c!==void 0){t[r]=c;break}}a.length&&(t[r]=Ry(a))}}for(let r=n.length-1;r>=0;r-=1){let a=n[r];for(let l in a)l in t||(t[l]=a[l])}return t}function sl(n,e){let t={};for(let r in n)e(n[r],r)&&(t[r]=n[r]);return t}function hl(n,e){let t={};for(let r in n)t[r]=e(n[r],r);return t}function qT(n){let e={};for(let t of n)e[t]=!0;return e}function Dy(n){let e=[];for(let t in n)e.push(n[t]);return e}function qr(n,e){if(n===e)return!0;for(let t in n)if(Hf.call(n,t)&&!(t in e))return!1;for(let t in e)if(Hf.call(e,t)&&n[t]!==e[t])return!1;return!0}const ZV=/^on[A-Z]/;function JV(n,e){const t=eP(n,e);for(let r of t)if(!ZV.test(r))return!1;return!0}function eP(n,e){let t=[];for(let r in n)Hf.call(n,r)&&(r in e||t.push(r));for(let r in e)Hf.call(e,r)&&n[r]!==e[r]&&t.push(r);return t}function f0(n,e,t={}){if(n===e)return!0;for(let r in e)if(!(r in n&&tP(n[r],e[r],t[r])))return!1;for(let r in n)if(!(r in e))return!1;return!0}function tP(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function nP(n,e=0,t,r=1){let a=[];t==null&&(t=Object.keys(n).length);for(let l=e;l<t;l+=r){let c=n[l];c!==void 0&&a.push(c)}return a}let GT={};function rP(n,e){GT[n]=e}function iP(n){return new GT[n]}class sP{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Fn(e)}markerToArray(e){return Fs(e)}}rP("gregory",sP);const aP=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function lP(n){let e=aP.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(FT(t)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class oP{constructor(e){let t=this.timeZone=e.timeZone,r=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=iP(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Fn(RE(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Fn(e)),t===null||!FT(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=lP(e);if(t===null)return null;let{marker:r}=t,a=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-t.timeZoneOffset*60*1e3):a=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t,this.calendarSystem.arrayToMarker(r)}addMonths(e,t){let r=this.calendarSystem.markerToArray(e);return r[1]+=t,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,t){let{calendarSystem:r}=this;return qs(e)===qs(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)&&r.getMarkerMonth(e)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:r}=this;return qs(e)===qs(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(e)+(r.getMarkerYear(t)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let r=this.diffWholeYears(e,t);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,t),r!==null?{unit:"month",value:r}:(r=CV(e,t),r!==null?{unit:"week",value:r}:(r=Lf(e,t),r!==null?{unit:"day",value:r}:(r=SV(e,t),c0(r)?{unit:"hour",value:r}:(r=kV(e,t),c0(r)?{unit:"minute",value:r}:(r=AV(e,t),c0(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,r){let a;return r.years&&(a=this.diffWholeYears(e,t),a!==null)?a/xV(r):r.months&&(a=this.diffWholeMonths(e,t),a!==null)?a/_V(r):r.days&&(a=Lf(e,t),a!==null)?a/bo(r):(t.valueOf()-e.valueOf())/Vu(r)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?wt(e):t==="hour"?NV(e):t==="minute"?RV(e):t==="second"?DV(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):zV(e,this.weekDow,this.weekDoy)}format(e,t,r={}){return t.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,r,a={}){return a.isEndExclusive&&(t=aa(t,-1)),r.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(t)},this,a.defaultSeparator)}formatIso(e,t={}){let r=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?r=t.forcedTzo:r=this.offsetForMarker(e)),MV(e,r,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Fn(RE(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Fn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-DE(Fs(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Fs(e)):null}toDate(e,t){return this.timeZone==="local"?DE(Fs(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Fs(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class td{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,r;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(r in e)t[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let r;return t&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}td.prototype.classes={};td.prototype.iconClasses={};td.prototype.baseIconClass="";td.prototype.iconOverridePrefix="";function Ff(n){n();let e=Te.debounceRendering,t=[];function r(a){t.push(a)}for(Te.debounceRendering=r,Ou(ne(cP,{}),document.createElement("div"));t.length;)t.shift()();Te.debounceRendering=e}class cP extends ir{render(){return ne("div",{})}componentDidMount(){this.setState({})}}function $T(n){let e=M9(n),t=e.Provider;return e.Provider=function(){let r=!this.getChildContext,a=t.apply(this,arguments);if(r){let l=[];this.shouldComponentUpdate=c=>{this.props.value!==c.value&&l.forEach(h=>{h.context=c.value,h.forceUpdate()})},this.sub=c=>{l.push(c);let h=c.componentWillUnmount;c.componentWillUnmount=()=>{l.splice(l.indexOf(c),1),h&&h.call(c)}}}return a},e}class uP{constructor(e,t,r,a){this.execFunc=e,this.emitter=t,this.scrollTime=r,this.scrollTimeReset=a,this.handleScrollRequest=l=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},l),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const fl=$T({});function dP(n,e,t,r,a,l,c,h,f,g,b,v,x,E){return{dateEnv:a,nowManager:l,options:t,pluginHooks:h,emitter:b,dispatch:f,getCurrentData:g,calendarApi:v,viewSpec:n,viewApi:e,dateProfileGenerator:r,theme:c,isRtl:t.direction==="rtl",addResizeHandler(A){b.on("_resize",A)},removeResizeHandler(A){b.off("_resize",A)},createScrollResponder(A){return new uP(A,b,tt(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:x,unregisterInteractiveComponent:E}}class ml extends ir{shouldComponentUpdate(e,t){return!f0(this.props,e,this.propEquality)||!f0(this.state,t,this.stateEquality)}safeSetState(e){f0(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}ml.addPropsEquality=hP;ml.addStateEquality=fP;ml.contextType=fl;ml.prototype.propEquality={};ml.prototype.stateEquality={};class At extends ml{}At.contextType=fl;function hP(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function fP(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function ki(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class zy extends At{constructor(){super(...arguments),this.id=dl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:r}=this.props;(!t.customRenderingReplaces||!tb(r,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ki(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:r}=t,{customGenerator:a,defaultGenerator:l,renderProps:c}=e,h=QT(e,[],this.handleEl);let f=!1,g,b=[],v;if(a!=null){const x=typeof a=="function"?a(c,ne):a;if(x===!0)f=!0;else{const E=x&&typeof x=="object";E&&"html"in x?h.dangerouslySetInnerHTML={__html:x.html}:E&&"domNodes"in x?b=Array.prototype.slice.call(x.domNodes):(E?bT(x):typeof x!="function")?g=x:v=x}}else f=!tb(e.generatorName,r);return f&&l&&(g=l(c)),this.queuedDomNodes=b,this.currentGeneratorMeta=v,ne(e.elTag,h,g)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:r,context:a}=this,{handleCustomRendering:l,customRenderingMetaMap:c}=a.options;if(l){const h=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:c?.[r.generatorName];h&&l(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:h},r),{elClasses:(r.elClasses||[]).filter(mP)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,r=this.base;if(!sa(e,t)){t.forEach(Sy);for(let a of e)r.appendChild(a);this.currentDomNodes=e}}}zy.addPropsEquality({elClasses:sa,elStyle:qr,elAttrs:JV,renderProps:qr});function tb(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function QT(n,e,t){const r=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(r.className=(n.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),n.elStyle&&(r.style=n.elStyle),r}function mP(n){return!!n}const YT=$T(0);class rs extends ir{constructor(){super(...arguments),this.InnerContent=gP.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ki(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=pP(e.classNameGenerator,e.renderProps);if(e.children){const r=QT(e,t,this.handleEl),a=e.children(this.InnerContent,e.renderProps,r);return e.elTag?ne(e.elTag,r,a):a}else return ne(zy,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}rs.contextType=YT;function gP(n,e){const t=n.props;return ne(zy,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function pP(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class VE extends At{render(){let{props:e,context:t}=this,{options:r}=t,a={view:t.viewApi};return ne(rs,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...WT(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function WT(n){return[`fc-${n.type}-view`,"fc-view"]}function bP(n,e){let t=null,r=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(r=e.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}function PE(n,e){let t=[],{start:r}=e,a,l;for(n.sort(yP),a=0;a<n.length;a+=1)l=n[a],l.start>r&&t.push({start:r,end:l.start}),l.end>r&&(r=l.end);return r<e.end&&t.push({start:r,end:e.end}),t}function yP(n,e){return n.start.valueOf()-e.start.valueOf()}function Do(n,e){let{start:t,end:r}=n,a=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(t===null||r===null||t<r)&&(a={start:t,end:r}),a}function vP(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function jy(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Cm(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Xs(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function xP(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function XT(n){let e=Math.floor(Fo(n.start,n.end))||1,t=wt(n.start),r=ln(t,e);return{start:t,end:r}}function KT(n,e=tt(0)){let t=null,r=null;if(n.end){r=wt(n.end);let a=n.end.valueOf()-r.valueOf();a&&a>=Vu(e)&&(r=ln(r,1))}return n.start&&(t=wt(n.start),r&&r<=t&&(r=ln(t,1))),{start:t,end:r}}function mo(n,e,t,r){return r==="year"?tt(t.diffWholeYears(n,e),"year"):r==="month"?tt(t.diffWholeMonths(n,e),"month"):TV(n,e)}class ZT{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,r){let{dateEnv:a}=this.props,l=a.subtract(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(l,-1,r)}buildNext(e,t,r){let{dateEnv:a}=this.props,l=a.add(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(l,1,r)}build(e,t,r=!0){let{props:a}=this,l,c,h,f,g,b;return l=this.buildValidRange(),l=this.trimHiddenDays(l),r&&(e=xP(e,l)),c=this.buildCurrentRangeInfo(e,t),h=/^(year|month|week|day)$/.test(c.unit),f=this.buildRenderRange(this.trimHiddenDays(c.range),c.unit,h),f=this.trimHiddenDays(f),g=f,a.showNonCurrentDates||(g=Do(g,c.range)),g=this.adjustActiveRange(g),g=Do(g,l),b=jy(c.range,l),Xs(f,e)||(e=f.start),{currentDate:e,validRange:l,currentRange:c.range,currentRangeUnit:c.unit,isRangeAllDay:h,activeRange:g,renderRange:f,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:b,dateIncrement:this.buildDateIncrement(c.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:r}=this,a=null,l=null,c=null,h;return r.duration?(a=r.duration,l=r.durationUnit,c=this.buildRangeFromDuration(e,t,a,l)):(h=this.props.dayCount)?(l="day",c=this.buildRangeFromDayCount(e,t,h)):(c=this.buildCustomVisibleRange(e))?l=r.dateEnv.greatestWholeUnit(c.start,c.end).unit:(a=this.getFallbackDuration(),l=eb(a).unit,c=this.buildRangeFromDuration(e,t,a,l)),{duration:a,unit:l,range:c}}getFallbackDuration(){return tt({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:r,slotMinTime:a,slotMaxTime:l}=this.props,{start:c,end:h}=e;return r&&(bo(a)<0&&(c=wt(c),c=t.add(c,a)),bo(l)>1&&(h=wt(h),h=ln(h,-1),h=t.add(h,l))),{start:c,end:h}}buildRangeFromDuration(e,t,r,a){let{dateEnv:l,dateAlignment:c}=this.props,h,f,g;if(!c){let{dateIncrement:v}=this.props;v&&Vu(v)<Vu(r)?c=eb(v).unit:c=a}bo(r)<=1&&this.isHiddenDay(h)&&(h=this.skipHiddenDays(h,t),h=wt(h));function b(){h=l.startOf(e,c),f=l.add(h,r),g={start:h,end:f}}return b(),this.trimHiddenDays(g)||(e=this.skipHiddenDays(e,t),b()),g}buildRangeFromDayCount(e,t,r){let{dateEnv:a,dateAlignment:l}=this.props,c=0,h=e,f;l&&(h=a.startOf(h,l)),h=wt(h),h=this.skipHiddenDays(h,t),f=h;do f=ln(f,1),this.isHiddenDay(f)||(c+=1);while(c<r);return{start:h,end:f}}buildCustomVisibleRange(e){let{props:t}=this,r=t.visibleRangeInput,a=typeof r=="function"?r.call(t.calendarApi,t.dateEnv.toDate(e)):r,l=this.refineRange(a);return l&&(l.start==null||l.end==null)?null:l}buildRenderRange(e,t,r){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,r;return t||((r=this.props.dateAlignment)?tt(1,r):e||tt({days:1}))}refineRange(e){if(e){let t=bP(e,this.props.dateEnv);return t&&(t=KT(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],r=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(t[a]=e.indexOf(a)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:r}=e;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),t==null||r==null||t<r?{start:t,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?t:0)+7)%7];)e=ln(e,t);return e}}function My(n,e,t,r){return{instanceId:dl(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:r??null}}function _P(n,e,t,r){for(let a=0;a<r.length;a+=1){let l=r[a].parse(n,t);if(l){let{allDay:c}=n;return c==null&&(c=e,c==null&&(c=l.allDayGuess,c==null&&(c=!1))),{allDay:c,duration:l.duration,typeData:l.typeData,typeId:a}}}return null}function al(n,e,t){let{dateEnv:r,pluginHooks:a,options:l}=t,{defs:c,instances:h}=n;h=sl(h,f=>!c[f.defId].recurringDef);for(let f in c){let g=c[f];if(g.recurringDef){let{duration:b}=g.recurringDef;b||(b=g.allDay?l.defaultAllDayEventDuration:l.defaultTimedEventDuration);let v=wP(g,b,e,r,a.recurringTypes);for(let x of v){let E=My(f,{start:x,end:r.add(x,b)});h[E.instanceId]=E}}}return{defs:c,instances:h}}function wP(n,e,t,r,a){let c=a[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,e),end:t.end},r);return n.allDay&&(c=c.map(wt)),c}const of={id:String,groupId:String,title:String,url:String,interactive:Boolean},JT={start:ee,end:ee,date:ee,allDay:Boolean},EP=Object.assign(Object.assign(Object.assign({},of),JT),{extendedProps:ee});function e2(n,e,t,r,a=Iy(t),l,c){let{refined:h,extra:f}=t2(n,t,a),g=kP(e,t),b=_P(h,g,t.dateEnv,t.pluginHooks.recurringTypes);if(b){let x=nb(h,f,e?e.sourceId:"",b.allDay,!!b.duration,t,l);return x.recurringDef={typeId:b.typeId,typeData:b.typeData,duration:b.duration},{def:x,instance:null}}let v=SP(h,g,t,r);if(v){let x=nb(h,f,e?e.sourceId:"",v.allDay,v.hasEnd,t,l),E=My(x.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return c&&x.publicId&&c[x.publicId]&&(E.instanceId=c[x.publicId]),{def:x,instance:E}}return null}function t2(n,e,t=Iy(e)){return Ny(n,t)}function Iy(n){return Object.assign(Object.assign(Object.assign({},qf),EP),n.pluginHooks.eventRefiners)}function nb(n,e,t,r,a,l,c){let h={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(c&&n.id?c[n.id]:"")||dl(),sourceId:t,allDay:r,hasEnd:a,interactive:n.interactive,ui:Gf(n,l),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let f of l.pluginHooks.eventDefMemberAdders)Object.assign(h,f(n));return Object.freeze(h.ui.classNames),Object.freeze(h.extendedProps),h}function SP(n,e,t,r){let{allDay:a}=n,l,c=null,h=!1,f,g=null,b=n.start!=null?n.start:n.date;if(l=t.dateEnv.createMarkerMeta(b),l)c=l.marker;else if(!r)return null;return n.end!=null&&(f=t.dateEnv.createMarkerMeta(n.end)),a==null&&(e!=null?a=e:a=(!l||l.isTimeUnspecified)&&(!f||f.isTimeUnspecified)),a&&c&&(c=wt(c)),f&&(g=f.marker,a&&(g=wt(g)),c&&g<=c&&(g=null)),g?h=!0:r||(h=t.options.forceEventDuration||!1,g=t.dateEnv.add(c,a?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:a,hasEnd:h,range:{start:c,end:g},forcedStartTzo:l?l.forcedTzo:null,forcedEndTzo:f?f.forcedTzo:null}}function kP(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Pu(n,e,t,r,a,l){let c=Ur(),h=Iy(t);for(let f of n){let g=e2(f,e,t,r,h,a,l);g&&rb(g,c)}return c}function rb(n,e=Ur()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Oy(n,e){let t=n.instances[e];if(t){let r=n.defs[t.defId],a=Nm(n,l=>AP(r,l));return a.defs[r.defId]=r,a.instances[t.instanceId]=t,a}return Ur()}function AP(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Ur(){return{defs:{},instances:{}}}function Vy(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Nm(n,e){let t=sl(n.defs,e),r=sl(n.instances,a=>t[a.defId]);return{defs:t,instances:r}}function TP(n,e){let{defs:t,instances:r}=n,a={},l={};for(let c in t)e.defs[c]||(a[c]=t[c]);for(let c in r)!e.instances[c]&&a[r[c].defId]&&(l[c]=r[c]);return{defs:a,instances:l}}function CP(n,e){return Array.isArray(n)?Pu(n,null,e,!0):typeof n=="object"&&n?Pu([n],null,e,!0):n!=null?String(n):null}function LE(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const qf={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ee,overlap:ee,allow:ee,className:LE,classNames:LE,color:String,backgroundColor:String,borderColor:String,textColor:String},NP={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Gf(n,e){let t=CP(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function RP(n){return n.reduce(DP,NP)}function DP(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const zP={id:String,defaultAllDay:Boolean,url:String,format:String,events:ee,eventDataTransform:ee,success:ee,failure:ee};function n2(n,e,t=r2(e)){let r;if(typeof n=="string"?r={url:n}:typeof n=="function"||Array.isArray(n)?r={events:n}:typeof n=="object"&&n&&(r=n),r){let{refined:a,extra:l}=Ny(r,t),c=jP(a,e);if(c)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:dl(),sourceDefId:c.sourceDefId,meta:c.meta,ui:Gf(a,e),extendedProps:l}}return null}function r2(n){return Object.assign(Object.assign(Object.assign({},qf),zP),n.pluginHooks.eventSourceRefiners)}function jP(n,e){let t=e.pluginHooks.eventSourceDefs;for(let r=t.length-1;r>=0;r-=1){let l=t[r].parseMeta(n);if(l)return{sourceDefId:r,meta:l}}return null}function MP(n,e,t,r,a){switch(e.type){case"RECEIVE_EVENTS":return IP(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return OP(n,t[e.sourceId],e.rawEvents,r.activeRange,a);case"ADD_EVENTS":return VP(n,e.eventStore,r?r.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Vy(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?al(n,r.activeRange,a):n;case"REMOVE_EVENTS":return TP(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return s2(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Nm(n,l=>!l.sourceId);case"REMOVE_ALL_EVENTS":return Ur();default:return n}}function IP(n,e,t,r,a,l){if(e&&t===e.latestFetchId){let c=Pu(i2(a,e,l),e,l);return r&&(c=al(c,r,l)),Vy(s2(n,e.sourceId),c)}return n}function OP(n,e,t,r,a){const{defIdMap:l,instanceIdMap:c}=LP(n);let h=Pu(i2(t,e,a),e,a,!1,l,c);return al(h,r,a)}function i2(n,e,t){let r=t.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(n=UE(n,a)),r&&(n=UE(n,r)),n}function UE(n,e){let t;if(!e)t=n;else{t=[];for(let r of n){let a=e(r);a?t.push(a):a==null&&t.push(r)}}return t}function VP(n,e,t,r){return t&&(e=al(e,t,r)),Vy(n,e)}function BE(n,e,t){let{defs:r}=n,a=hl(n.instances,l=>r[l.defId].allDay?l:Object.assign(Object.assign({},l),{range:{start:t.createMarker(e.toDate(l.range.start,l.forcedStartTzo)),end:t.createMarker(e.toDate(l.range.end,l.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:l.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:l.forcedEndTzo}));return{defs:r,instances:a}}function s2(n,e){return Nm(n,t=>t.sourceId!==e)}function PP(n,e){return{defs:n.defs,instances:sl(n.instances,t=>!e[t.instanceId])}}function LP(n){const{defs:e,instances:t}=n,r={},a={};for(let l in e){const c=e[l],{publicId:h}=c;h&&(r[h]=l)}for(let l in t){const c=t[l],h=e[c.defId],{publicId:f}=h;f&&(a[f]=l)}return{defIdMap:r,instanceIdMap:a}}class Rm{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){UP(this.handlers,e,t)}off(e,t){BP(this.handlers,e,t)}trigger(e,...t){let r=this.handlers[e]||[],a=this.options&&this.options[e],l=[].concat(a||[],r);for(let c of l)c.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function UP(n,e,t){(n[e]||(n[e]=[])).push(t)}function BP(n,e,t){t?n[e]&&(n[e]=n[e].filter(r=>r!==t)):delete n[e]}const HP={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function FP(n,e){return Pu(qP(n),null,e)}function qP(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},HP),t)),e}function a2(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Py(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function GP(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Py(n,e){let t={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(t,r(n,e));return Object.assign(t,aL(n,e.dateEnv)),t}function HE(n,e,t){let{dateEnv:r,options:a}=t,l=e;return n?(l=wt(l),l=r.add(l,a.defaultAllDayEventDuration)):l=r.add(l,a.defaultTimedEventDuration),l}function Ly(n,e,t,r){let a=$f(n.defs,e),l=Ur();for(let c in n.defs){let h=n.defs[c];l.defs[c]=$P(h,a[c],t,r)}for(let c in n.instances){let h=n.instances[c],f=l.defs[h.defId];l.instances[c]=QP(h,f,a[h.defId],t,r)}return l}function $P(n,e,t,r){let a=t.standardProps||{};a.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(a.hasEnd=!0);let l=Object.assign(Object.assign(Object.assign({},n),a),{ui:Object.assign(Object.assign({},n.ui),a.ui)});t.extendedProps&&(l.extendedProps=Object.assign(Object.assign({},l.extendedProps),t.extendedProps));for(let c of r.pluginHooks.eventDefMutationAppliers)c(l,t,r);return!l.hasEnd&&r.options.forceEventDuration&&(l.hasEnd=!0),l}function QP(n,e,t,r,a){let{dateEnv:l}=a,c=r.standardProps&&r.standardProps.allDay===!0,h=r.standardProps&&r.standardProps.hasEnd===!1,f=Object.assign({},n);return c&&(f.range=XT(f.range)),r.datesDelta&&t.startEditable&&(f.range={start:l.add(f.range.start,r.datesDelta),end:l.add(f.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(f.range={start:l.add(f.range.start,r.startDelta),end:f.range.end}),r.endDelta&&t.durationEditable&&(f.range={start:f.range.start,end:l.add(f.range.end,r.endDelta)}),h&&(f.range={start:f.range.start,end:HE(e.allDay,f.range.start,a)}),e.allDay&&(f.range={start:wt(f.range.start),end:wt(f.range.end)}),f.range.end<f.range.start&&(f.range.end=HE(e.allDay,f.range.start,a)),f}class fo{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Et{constructor(e,t,r){this._context=e,this._def=t,this._instance=r||null}setProp(e,t){if(e in JT)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=of[e](t),this.mutate({standardProps:{publicId:t}});else if(e in of)t=of[e](t),this.mutate({standardProps:{[e]:t}});else if(e in qf){let r=qf[e](t);e==="color"?r={backgroundColor:t,borderColor:t}:e==="editable"?r={startEditable:t,durationEditable:t}:r={[e]:t},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:r}=this._context,a=r.createMarker(e);if(a&&this._instance){let l=this._instance.range,c=mo(l.start,a,r,t.granularity);t.maintainDuration?this.mutate({datesDelta:c}):this.mutate({startDelta:c})}}setEnd(e,t={}){let{dateEnv:r}=this._context,a;if(!(e!=null&&(a=r.createMarker(e),!a))&&this._instance)if(a){let l=mo(this._instance.range.end,a,r,t.granularity);this.mutate({endDelta:l})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,r={}){let{dateEnv:a}=this._context,l={allDay:r.allDay},c=a.createMarker(e),h;if(c&&!(t!=null&&(h=a.createMarker(t),!h))&&this._instance){let f=this._instance.range;r.allDay===!0&&(f=XT(f));let g=mo(f.start,c,a,r.granularity);if(h){let b=mo(f.end,h,a,r.granularity);yV(g,b)?this.mutate({datesDelta:g,standardProps:l}):this.mutate({startDelta:g,endDelta:b,standardProps:l})}else l.hasEnd=!1,this.mutate({datesDelta:g,standardProps:l})}}moveStart(e){let t=tt(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=tt(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=tt(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let r={allDay:e},{maintainDuration:a}=t;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=a),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:t}=this._context,r=this._instance,a=an(e);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,a,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,a,{forcedTzo:r.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let r=this._def,a=this._context,{eventStore:l}=a.getCurrentData(),c=Oy(l,t.instanceId);c=Ly(c,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let f=new Et(a,r,t);this._def=c.defs[r.defId],this._instance=c.instances[t.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:c}),a.emitter.trigger("eventChange",{oldEvent:f,event:this,relatedEvents:el(c,a,t),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:l})}})}}remove(){let e=this._context,t=l2(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new fo(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:r}=t,{startStr:a,endStr:l}=this,c={allDay:t.allDay};return t.title&&(c.title=t.title),a&&(c.start=a),l&&(c.end=l),t.publicId&&(c.id=t.publicId),t.groupId&&(c.groupId=t.groupId),t.url&&(c.url=t.url),r.display&&r.display!=="auto"&&(c.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?c.color=r.backgroundColor:(r.backgroundColor&&(c.backgroundColor=r.backgroundColor),r.borderColor&&(c.borderColor=r.borderColor)),r.textColor&&(c.textColor=r.textColor),r.classNames.length&&(c.classNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(c,t.extendedProps):c.extendedProps=t.extendedProps),c}toJSON(){return this.toPlainObject()}}function l2(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function el(n,e,t){let{defs:r,instances:a}=n,l=[],c=t?t.instanceId:"";for(let h in a){let f=a[h],g=r[f.defId];f.instanceId!==c&&l.push(new Et(e,g,f))}return l}function FE(n,e,t,r){let a={},l={},c={},h=[],f=[],g=$f(n.defs,e);for(let b in n.defs){let v=n.defs[b];g[v.defId].display==="inverse-background"&&(v.groupId?(a[v.groupId]=[],c[v.groupId]||(c[v.groupId]=v)):l[b]=[])}for(let b in n.instances){let v=n.instances[b],x=n.defs[v.defId],E=g[x.defId],A=v.range,R=!x.allDay&&r?KT(A,r):A,N=Do(R,t);N&&(E.display==="inverse-background"?x.groupId?a[x.groupId].push(N):l[v.defId].push(N):E.display!=="none"&&(E.display==="background"?h:f).push({def:x,ui:E,instance:v,range:N,isStart:R.start&&R.start.valueOf()===N.start.valueOf(),isEnd:R.end&&R.end.valueOf()===N.end.valueOf()}))}for(let b in a){let v=a[b],x=PE(v,t);for(let E of x){let A=c[b],R=g[A.defId];h.push({def:A,ui:R,instance:null,range:E,isStart:!1,isEnd:!1})}}for(let b in l){let v=l[b],x=PE(v,t);for(let E of x)h.push({def:n.defs[b],ui:g[b],instance:null,range:E,isStart:!1,isEnd:!1})}return{bg:h,fg:f}}function qE(n,e){n.fcSeg=e}function zo(n){return n.fcSeg||n.parentNode.fcSeg||null}function $f(n,e){return hl(n,t=>o2(t,e))}function o2(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),RP(t)}function YP(n,e){let t=n.map(WP);return t.sort((r,a)=>dV(r,a,e)),t.map(r=>r._seg)}function WP(n){let{eventRange:e}=n,t=e.def,r=e.instance?e.instance.range:e.range,a=r.start?r.start.valueOf():0,l=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:a,end:l,duration:l-a,allDay:Number(t.allDay),_seg:n})}function XP(n,e){let{pluginHooks:t}=e,r=t.isDraggableTransformers,{def:a,ui:l}=n.eventRange,c=l.startEditable;for(let h of r)c=h(c,a,l,e);return c}function KP(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function ZP(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function c2(n,e,t,r,a,l,c){let{dateEnv:h,options:f}=t,{displayEventTime:g,displayEventEnd:b}=f,v=n.eventRange.def,x=n.eventRange.instance;g==null&&(g=r!==!1),b==null&&(b=a!==!1);let E=x.range.start,A=x.range.end,R=n.start||n.eventRange.range.start,N=n.end||n.eventRange.range.end,z=wt(E).valueOf()===wt(R).valueOf(),P=wt(aa(A,-1)).valueOf()===wt(aa(N,-1)).valueOf();return g&&!v.allDay&&(z||P)?(R=z?E:R,N=P?A:N,b&&v.hasEnd?h.formatRange(R,N,e,{forcedStartTzo:x.forcedStartTzo,forcedEndTzo:x.forcedEndTzo}):h.format(R,e,{forcedTzo:x.forcedStartTzo})):""}function bu(n,e,t){let r=n.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&Xs(e,r.start)}}function JP(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function eL(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function u2(n,e){let{def:t,instance:r}=n.eventRange,{url:a}=t;if(a)return{href:a};let{emitter:l,options:c}=e,{eventInteractive:h}=c;return h==null&&(h=t.interactive,h==null&&(h=!!l.hasHandlers("eventClick"))),h?HT(f=>{l.trigger("eventClick",{el:f.target,event:new Et(e,t,r),jsEvent:f,view:e.viewApi})}):{}}const tL={start:ee,end:ee,allDay:Boolean};function nL(n,e,t){let r=rL(n,e),{range:a}=r;if(!a.start)return null;if(!a.end){if(t==null)return null;a.end=e.add(a.start,t)}return r}function rL(n,e){let{refined:t,extra:r}=Ny(n,tL),a=t.start?e.createMarkerMeta(t.start):null,l=t.end?e.createMarkerMeta(t.end):null,{allDay:c}=t;return c==null&&(c=a&&a.isTimeUnspecified&&(!l||l.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:l?l.marker:null},allDay:c},r)}function iL(n,e){return vP(n.range,e.range)&&n.allDay===e.allDay&&sL(n,e)}function sL(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function aL(n,e){return Object.assign(Object.assign({},h2(n.range,e,n.allDay)),{allDay:n.allDay})}function d2(n,e,t){return Object.assign(Object.assign({},h2(n,e,t)),{timeZone:e.timeZone})}function h2(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function lL(n,e,t){let r=t2({editable:!1},t),a=nb(r.refined,r.extra,"",n.allDay,!0,t);return{def:a,ui:o2(a,e),instance:My(a.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function oL(n,e,t){let r=!1,a=function(h){r||(r=!0,e(h))},l=function(h){r||(r=!0,t(h))},c=n(a,l);c&&typeof c.then=="function"&&c.then(a,l)}class GE extends Error{constructor(e,t){super(e),this.response=t}}function cL(n,e,t){n=n.toUpperCase();const r={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(r.body=new URLSearchParams(t),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(a=>{if(a.ok)return a.json().then(l=>[l,a],()=>{throw new GE("Failure parsing JSON",a)});throw new GE("Request failed",a)})}let m0;function f2(){return m0==null&&(m0=uL()),m0}function uL(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class dL extends At{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Ff(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Ff(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:r}=this.state,a=r||t.height==="auto"||t.contentHeight==="auto",l=!a&&t.height!=null?t.height:"",c=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return f2()||c.push("fc-liquid-hack"),e.children(c,l,a,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class qo{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function hL(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Uy(n){return{[n.component.uid]:n}}const ib={};class Dm extends ir{constructor(e,t){super(e,t),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,r=t.nowManager.getDateMarker(),{nowIndicatorSnap:a}=t.options;a==="auto"&&(a=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let l,c;return a?(l=t.dateEnv.startOf(r,e.unit),c=t.dateEnv.add(l,tt(1,e.unit)).valueOf()-r.valueOf()):(l=r,c=1e3*60),c=Math.min(1e3*60*60*24,c),{state:{nowDate:l,todayRange:fL(l)},waitMs:c}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Dm.contextType=fl;function fL(n){let e=wt(n),t=ln(e,1);return{start:e,end:t}}class mL{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let r=this.getCurrentData(),a;t=t||"day",a=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:r}=this.getCurrentData(),a=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),l,c;for(let h in t)a.push(h);for(l=0;l<a.length;l+=1)if(c=t[a[l]],c&&c.singleUnit===e)return c;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),r=tt(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),an(t))}formatRange(e,t,r){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(t),an(r),r)}formatIso(e,t){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:t})}select(e,t){let r;t==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:t};let a=this.getCurrentData(),l=nL(r,a.dateEnv,tt({days:1}));l&&(this.dispatch({type:"SELECT_DATES",selection:l}),a2(l,null,a))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),GP(e,t))}addEvent(e,t){if(e instanceof Et){let c=e._def,h=e._instance;return this.getCurrentData().eventStore.defs[c.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:rb({def:c,instance:h})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),a;if(t instanceof fo)a=t.internalEventSource;else if(typeof t=="boolean")t&&([a]=Dy(r.eventSources));else if(t!=null){let c=this.getEventSourceById(t);if(!c)return console.warn(`Could not find an event source with ID "${t}"`),null;a=c.internalEventSource}let l=e2(e,a,r,!1);if(l){let c=new Et(r,l.def,l.def.recurringDef?null:l.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:rb(l)}),this.triggerEventAdd(c),c}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:l2(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:r,instances:a}=t.eventStore;e=String(e);for(let l in r){let c=r[l];if(c.publicId===e){if(c.recurringDef)return new Et(t,c,null);for(let h in a){let f=a[h];if(f.defId===c.defId)return new Et(t,c,f)}}}return null}getEvents(){let e=this.getCurrentData();return el(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,r=[];for(let a in t)r.push(new fo(e,t[a]));return r}getEventSourceById(e){let t=this.getCurrentData(),r=t.eventSources;e=String(e);for(let a in r)if(r[a].publicId===e)return new fo(t,r[a]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof fo)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=n2(e,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new fo(t,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=tt(e);t&&this.trigger("_scrollRequest",{time:t})}}function gL(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function m2(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function pL(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function bL(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function yL(n,e){return{left:n.left-e.left,top:n.top-e.top}}function g2(n,e,t,r){return{dow:n.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Xs(r.activeRange,n))),isOther:!!(r&&!Xs(r.currentRange,n)),isToday:!!(e&&Xs(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function By(n,e){let t=["fc-day",`fc-day-${wV[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const vL=an({year:"numeric",month:"long",day:"numeric"}),xL=an({week:"long"});function sb(n,e,t="day",r=!0){const{dateEnv:a,options:l,calendarApi:c}=n;let h=a.format(e,t==="week"?xL:vL);if(l.navLinks){let f=a.toDate(e);const g=b=>{let v=t==="day"?l.navLinkDayClick:t==="week"?l.navLinkWeekClick:null;typeof v=="function"?v.call(c,a.toDate(e),b):(typeof v=="string"&&(t=v),c.zoomTo(e,t))};return Object.assign({title:gu(l.navLinkHint,[h,f],h),"data-navlink":""},r?BT(g):{onClick:g})}return{"aria-label":h}}let g0=null;function _L(){return g0===null&&(g0=wL()),g0}function wL(){let n=document.createElement("div");mu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Sy(n),t}let p0;function EL(){return p0||(p0=SL()),p0}function SL(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=p2(n);return document.body.removeChild(n),e}function p2(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function kL(n,e=!1){let t=window.getComputedStyle(n),r=parseInt(t.borderLeftWidth,10)||0,a=parseInt(t.borderRightWidth,10)||0,l=parseInt(t.borderTopWidth,10)||0,c=parseInt(t.borderBottomWidth,10)||0,h=p2(n),f=h.y-r-a,g=h.x-l-c,b={borderLeft:r,borderRight:a,borderTop:l,borderBottom:c,scrollbarBottom:g,scrollbarLeft:0,scrollbarRight:0};return _L()&&t.direction==="rtl"?b.scrollbarLeft=f:b.scrollbarRight=f,e&&(b.paddingLeft=parseInt(t.paddingLeft,10)||0,b.paddingRight=parseInt(t.paddingRight,10)||0,b.paddingTop=parseInt(t.paddingTop,10)||0,b.paddingBottom=parseInt(t.paddingBottom,10)||0),b}function AL(n,e=!1,t){let r=Hy(n),a=kL(n,e),l={left:r.left+a.borderLeft+a.scrollbarLeft,right:r.right-a.borderRight-a.scrollbarRight,top:r.top+a.borderTop,bottom:r.bottom-a.borderBottom-a.scrollbarBottom};return e&&(l.left+=a.paddingLeft,l.right-=a.paddingRight,l.top+=a.paddingTop,l.bottom-=a.paddingBottom),l}function Hy(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function TL(n){let e=b2(n),t=n.getBoundingClientRect();for(let r of e){let a=m2(t,r.getBoundingClientRect());if(a)t=a;else return null}return t}function b2(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class Qf{constructor(e,t,r,a){this.els=t;let l=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(l.left),a&&this.buildElVerticals(l.top)}buildElHorizontals(e){let t=[],r=[];for(let a of this.els){let l=a.getBoundingClientRect();t.push(l.left-e),r.push(l.right-e)}this.lefts=t,this.rights=r}buildElVerticals(e){let t=[],r=[];for(let a of this.els){let l=a.getBoundingClientRect();t.push(l.top-e),r.push(l.bottom-e)}this.tops=t,this.bottoms=r}leftToIndex(e){let{lefts:t,rights:r}=this,a=t.length,l;for(l=0;l<a;l+=1)if(e>=t[l]&&e<r[l])return l}topToIndex(e){let{tops:t,bottoms:r}=this,a=t.length,l;for(l=0;l<a;l+=1)if(e>=t[l]&&e<r[l])return l}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return $h(this.tops||[],e.tops||[])&&$h(this.bottoms||[],e.bottoms||[])&&$h(this.lefts||[],e.lefts||[])&&$h(this.rights||[],e.rights||[])}}function $h(n,e){const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(Math.round(n[r])!==Math.round(e[r]))return!1;return!0}class Fy{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class CL extends Fy{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class NL extends Fy{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class gl extends At{constructor(){super(...arguments),this.uid=dl()}prepareHits(){}queryHit(e,t,r,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!En(e,".fc-event-mirror")}isValidDateDownEl(e){return!En(e,".fc-event:not(.fc-bg-event)")&&!En(e,".fc-more-link")&&!En(e,"a[data-navlink]")&&!En(e,".fc-popover")}}class RL{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let r of e)this.insertEntry(r,t);return t}insertEntry(e,t){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,r){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},t),{span:y2(t.span,e.touchingEntry.span)});r.push(a),this.splitEntry(t,e.touchingEntry,r)}else r.push(t)}splitEntry(e,t,r){let a=e.span,l=t.span;a.start<l.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:l.start}},r),a.end>l.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:l.end,end:a.end}},r)}insertEntryAt(e,t){let{entriesByLevel:r,levelCoords:a}=this;t.lateral===-1?(b0(a,t.level,t.levelCoord),b0(r,t.level,[e])):b0(r[t.level],t.lateral,e),this.stackCnts[yu(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:r,strictOrder:a,stackCnts:l}=this,c=t.length,h=0,f=-1,g=-1,b=null,v=0;for(let A=0;A<c;A+=1){const R=t[A];if(!a&&R>=h+this.getEntryThickness(e))break;let N=r[A],z,P=QE(N,e.span.start,$E),q=P[0]+P[1];for(;(z=N[q])&&z.span.start<e.span.end;){let L=R+this.getEntryThickness(z);L>h&&(h=L,b=z,f=A,g=q),L===h&&(v=Math.max(v,l[yu(z)]+1)),q+=1}}let x=0;if(b)for(x=f+1;x<c&&t[x]<h;)x+=1;let E=-1;return x<c&&t[x]===h&&(E=QE(r[x],e.span.end,$E)[0]),{touchingLevel:f,touchingLateral:g,touchingEntry:b,stackCnt:v,levelCoord:h,level:x,lateral:E}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,r=e.length,a=[];for(let l=0;l<r;l+=1){let c=e[l],h=t[l];for(let f of c)a.push(Object.assign(Object.assign({},f),{thickness:this.getEntryThickness(f),levelCoord:h}))}return a}}function $E(n){return n.span.end}function yu(n){return n.index+":"+n.span.start}function y2(n,e){let t=Math.max(n.start,e.start),r=Math.min(n.end,e.end);return t<r?{start:t,end:r}:null}function b0(n,e,t){n.splice(e,0,t)}function QE(n,e,t){let r=0,a=n.length;if(!a||e<t(n[r]))return[0,0];if(e>t(n[a-1]))return[a,0];for(;r<a;){let l=Math.floor(r+(a-r)/2),c=t(n[l]);if(e<c)a=l;else if(e>c)r=l+1;else return[l,1]}return[r,0]}class DL{constructor(e,t){this.emitter=new Rm}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const qy={};function zL(n,e){return!n||e>10?an({weekday:"short"}):e>1?an({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):an({weekday:"long"})}const v2="fc-col-header-cell";function x2(n){return n.text}class jL extends At{render(){let{dateEnv:e,options:t,theme:r,viewApi:a}=this.context,{props:l}=this,{date:c,dateProfile:h}=l,f=g2(c,l.todayRange,null,h),g=[v2].concat(By(f,r)),b=e.format(c,l.dayHeaderFormat),v=!f.isDisabled&&l.colCnt>1?sb(this.context,c):{},x=e.toDate(c);e.namedTimeZoneImpl&&(x=aa(x,36e5));let E=Object.assign(Object.assign(Object.assign({date:x,view:a},l.extraRenderProps),{text:b}),f);return ne(rs,{elTag:"th",elClasses:g,elAttrs:Object.assign({role:"columnheader",colSpan:l.colSpan,"data-date":f.isDisabled?void 0:Ty(c)},l.extraDataAttrs),renderProps:E,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:x2,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},A=>ne("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&ne(A,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",l.isSticky&&"fc-sticky"]})))}}const ML=an({weekday:"long"});class IL extends At{render(){let{props:e}=this,{dateEnv:t,theme:r,viewApi:a,options:l}=this.context,c=ln(new Date(2592e5),e.dow),h={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=t.format(c,e.dayHeaderFormat),g=Object.assign(Object.assign(Object.assign(Object.assign({date:c},h),{view:a}),e.extraRenderProps),{text:f});return ne(rs,{elTag:"th",elClasses:[v2,...By(h,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:g,generatorName:"dayHeaderContent",customGenerator:l.dayHeaderContent,defaultGenerator:x2,classNameGenerator:l.dayHeaderClassNames,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},b=>ne("div",{className:"fc-scrollgrid-sync-inner"},ne(b,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(c,ML)}})))}}class OL extends At{constructor(){super(...arguments),this.createDayHeaderFormatter=Ke(VL)}render(){let{context:e}=this,{dates:t,dateProfile:r,datesRepDistinctDays:a,renderIntro:l}=this.props,c=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,t.length);return ne(Dm,{unit:"day"},(h,f)=>ne("tr",{role:"row"},l&&l("day"),t.map(g=>a?ne(jL,{key:g.toISOString(),date:g,dateProfile:r,todayRange:f,colCnt:t.length,dayHeaderFormat:c}):ne(IL,{key:g.getUTCDay(),dow:g.getUTCDay(),dayHeaderFormat:c}))))}}function VL(n,e,t){return n||zL(e,t)}class PL{constructor(e,t){let r=e.start,{end:a}=e,l=[],c=[],h=-1;for(;r<a;)t.isHiddenDay(r)?l.push(h+.5):(h+=1,l.push(h),c.push(r)),r=ln(r,1);this.dates=c,this.indices=l,this.cnt=c.length}sliceRange(e){let t=this.getDateDayIndex(e.start),r=this.getDateDayIndex(ln(e.end,-1)),a=Math.max(0,t),l=Math.min(this.cnt-1,r);return a=Math.ceil(a),l=Math.floor(l),a<=l?{firstIndex:a,lastIndex:l,isStart:t===a,isEnd:r===l}:null}getDateDayIndex(e){let{indices:t}=this,r=Math.floor(Fo(this.dates[0],e));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]}}class LL{constructor(e,t){let{dates:r}=e,a,l,c;if(t){for(l=r[0].getUTCDay(),a=1;a<r.length&&r[a].getUTCDay()!==l;a+=1);c=Math.ceil(r.length/a)}else c=1,a=r.length;this.rowCnt=c,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let r=[];for(let a=0;a<this.colCnt;a+=1)r.push(this.buildCell(t,a));e.push(r)}return e}buildCell(e,t){let r=this.daySeries.dates[e*this.colCnt+t];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,r=this.daySeries.sliceRange(e),a=[];if(r){let{firstIndex:l,lastIndex:c}=r,h=l;for(;h<=c;){let f=Math.floor(h/t),g=Math.min((f+1)*t,c+1);a.push({row:f,firstCol:h%t,lastCol:(g-1)%t,isStart:r.isStart&&h===l,isEnd:r.isEnd&&g-1===c}),h=g}}return a}}class UL{constructor(){this.sliceBusinessHours=Ke(this._sliceBusinessHours),this.sliceDateSelection=Ke(this._sliceDateSpan),this.sliceEventStore=Ke(this._sliceEventStore),this.sliceEventDrag=Ke(this._sliceInteraction),this.sliceEventResize=Ke(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,r,a,...l){let{eventUiBases:c}=e,h=this.sliceEventStore(e.eventStore,c,t,r,...l);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,r,c,a,...l),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,r,a,...l),fgEventSegs:h.fg,bgEventSegs:h.bg,eventDrag:this.sliceEventDrag(e.eventDrag,c,t,r,...l),eventResize:this.sliceEventResize(e.eventResize,c,t,r,...l),eventSelection:e.eventSelection}}sliceNowDate(e,t,r,a,...l){return this._sliceDateSpan({range:{start:e,end:aa(e,1)},allDay:!1},t,r,{},a,...l)}_sliceBusinessHours(e,t,r,a,...l){return e?this._sliceEventStore(al(e,Qh(t,!!r),a),{},t,r,...l).bg:[]}_sliceEventStore(e,t,r,a,...l){if(e){let c=FE(e,t,Qh(r,!!a),a);return{bg:this.sliceEventRanges(c.bg,l),fg:this.sliceEventRanges(c.fg,l)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,r,a,...l){if(!e)return null;let c=FE(e.mutatedEvents,t,Qh(r,!!a),a);return{segs:this.sliceEventRanges(c.fg,l),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,r,a,l,...c){if(!e)return[];let h=Qh(t,!!r),f=Do(e.range,h);if(f){e=Object.assign(Object.assign({},e),{range:f});let g=lL(e,a,l),b=this.sliceRange(e.range,...c);for(let v of b)v.eventRange=g;return b}return[]}sliceEventRanges(e,t){let r=[];for(let a of e)r.push(...this.sliceEventRange(a,t));return r}sliceEventRange(e,t){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:ln(r.start,1)});let a=this.sliceRange(r,...t);for(let l of a)l.eventRange=e,l.isStart=e.isStart&&l.isStart,l.isEnd=e.isEnd&&l.isEnd;return a}}function Qh(n,e){let t=n.activeRange;return e?t:{start:aa(t.start,n.slotMinTime.milliseconds),end:aa(t.end,n.slotMaxTime.milliseconds-864e5)}}function _2(n,e,t){let{instances:r}=n.mutatedEvents;for(let a in r)if(!Cm(e.validRange,r[a].range))return!1;return w2({eventDrag:n},t)}function BL(n,e,t){return Cm(e.validRange,n.range)?w2({dateSelection:n},t):!1}function w2(n,e){let t=e.getCurrentData(),r=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||HL)(r,e)}function HL(n,e,t={},r){return!(n.eventDrag&&!FL(n,e,t,r)||n.dateSelection&&!qL(n,e,t,r))}function FL(n,e,t,r){let a=e.getCurrentData(),l=n.eventDrag,c=l.mutatedEvents,h=c.defs,f=c.instances,g=$f(h,l.isEvent?n.eventUiBases:{"":a.selectionConfig});r&&(g=hl(g,r));let b=PP(n.eventStore,l.affectedEvents.instances),v=b.defs,x=b.instances,E=$f(v,n.eventUiBases);for(let A in f){let R=f[A],N=R.range,z=g[R.defId],P=h[R.defId];if(!E2(z.constraints,N,b,n.businessHours,e))return!1;let{eventOverlap:q}=e.options,L=typeof q=="function"?q:null;for(let F in x){let C=x[F];if(jy(N,C.range)&&(E[C.defId].overlap===!1&&l.isEvent||z.overlap===!1||L&&!L(new Et(e,v[C.defId],C),new Et(e,P,R))))return!1}let X=a.eventStore;for(let F of z.allows){let C=Object.assign(Object.assign({},t),{range:R.range,allDay:P.allDay}),k=X.defs[P.defId],j=X.instances[A],U;if(k?U=new Et(e,k,j):U=new Et(e,P),!F(Py(C,e),U))return!1}}return!0}function qL(n,e,t,r){let a=n.eventStore,l=a.defs,c=a.instances,h=n.dateSelection,f=h.range,{selectionConfig:g}=e.getCurrentData();if(r&&(g=r(g)),!E2(g.constraints,f,a,n.businessHours,e))return!1;let{selectOverlap:b}=e.options,v=typeof b=="function"?b:null;for(let x in c){let E=c[x];if(jy(f,E.range)&&(g.overlap===!1||v&&!v(new Et(e,l[E.defId],E),null)))return!1}for(let x of g.allows){let E=Object.assign(Object.assign({},t),h);if(!x(Py(E,e),null))return!1}return!0}function E2(n,e,t,r,a){for(let l of n)if(!$L(GL(l,e,t,r,a),e))return!1;return!0}function GL(n,e,t,r,a){return n==="businessHours"?y0(al(r,e,a)):typeof n=="string"?y0(Nm(t,l=>l.groupId===n)):typeof n=="object"&&n?y0(al(n,e,a)):[]}function y0(n){let{instances:e}=n,t=[];for(let r in e)t.push(e[r].range);return t}function $L(n,e){for(let t of n)if(Cm(t,e))return!0;return!1}const Yh=/^(visible|hidden)$/;class QL extends At{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ki(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:r}=e,a=t&&r,l=["fc-scroller"];return t&&(r?l.push("fc-scroller-liquid-absolute"):l.push("fc-scroller-liquid")),ne("div",{ref:this.handleEl,className:l.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Yh.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Yh.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Yh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Yh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Xa{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,r)=>{let{depths:a,currentMap:l}=this,c=!1,h=!1;t!==null?(c=r in l,l[r]=t,a[r]=(a[r]||0)+1,h=!0):(a[r]-=1,a[r]||(delete l[r],delete this.callbackMap[r],c=!0)),this.masterCallback&&(c&&this.masterCallback(null,String(r)),h&&this.masterCallback(t,String(r)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),t}collect(e,t,r){return nP(this.currentMap,e,t,r)}getAll(){return Dy(this.currentMap)}}function YL(n){let e=tV(n,".fc-scrollgrid-shrink"),t=0;for(let r of e)t=Math.max(t,gV(r));return Math.ceil(t)}function S2(n,e){return n.liquid&&e.liquid}function WL(n,e){return e.maxHeight!=null||S2(n,e)}function XL(n,e,t,r){let{expandRows:a}=t;return typeof e.content=="function"?e.content(t):ne("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:a?t.clientHeight:""}},t.tableColGroupNode,ne(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function KL(n,e){return sa(n,e,qr)}function ZL(n,e){let t=[];for(let r of n){let a=r.span||1;for(let l=0;l<a;l+=1)t.push(ne("col",{style:{width:r.width==="shrink"?JL(e):r.width||"",minWidth:r.minWidth||""}}))}return ne("colgroup",{},...t)}function JL(n){return n??4}function e8(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function t8(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function n8(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function r8(n){return ne("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function YE(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function i8(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class k2 extends At{constructor(){super(...arguments),this.processCols=Ke(e=>e,KL),this.renderMicroColGroup=Ke(ZL),this.scrollerRefs=new Xa,this.scrollerElRefs=new Xa(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:r}=this,a=e.sections||[],l=this.processCols(e.cols),c=this.renderMicroColGroup(l,t.shrinkWidth),h=t8(e.liquid,r);e.collapsibleWidth&&h.push("fc-scrollgrid-collapsible");let f=a.length,g=0,b,v=[],x=[],E=[];for(;g<f&&(b=a[g]).type==="header";)v.push(this.renderSection(b,c,!0)),g+=1;for(;g<f&&(b=a[g]).type==="body";)x.push(this.renderSection(b,c,!1)),g+=1;for(;g<f&&(b=a[g]).type==="footer";)E.push(this.renderSection(b,c,!0)),g+=1;let A=!f2();const R={role:"rowgroup"};return ne("table",{role:"grid",className:h.join(" "),style:{height:e.height}},!!(!A&&v.length)&&ne("thead",R,...v),!!(!A&&x.length)&&ne("tbody",R,...x),!!(!A&&E.length)&&ne("tfoot",R,...E),A&&ne("tbody",R,...v,...x,...E))}renderSection(e,t,r){return"outerContent"in e?ne(Rt,{key:e.key},e.outerContent):ne("tr",{key:e.key,role:"presentation",className:n8(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,r))}renderChunkTd(e,t,r,a){if("outerContent"in r)return r.outerContent;let{props:l}=this,{forceYScrollbars:c,scrollerClientWidths:h,scrollerClientHeights:f}=this.state,g=WL(l,e),b=S2(l,e),v=l.liquid?c?"scroll":g?"auto":"hidden":"visible",x=e.key,E=XL(e,r,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!l.collapsibleWidth&&h[x]!==void 0?h[x]:null,clientHeight:f[x]!==void 0?f[x]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return ne(a?"th":"td",{ref:r.elRef,role:"presentation"},ne("div",{className:`fc-scroller-harness${b?" fc-scroller-harness-liquid":""}`},ne(QL,{ref:this.scrollerRefs.createRef(x),elRef:this.scrollerElRefs.createRef(x),overflowY:v,overflowX:l.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:b,liquidIsAbsolute:!0},E)))}_handleScrollerEl(e,t){let r=s8(this.props.sections,t);r&&ki(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return e8(this.props.cols)?YL(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=EL(),{scrollerRefs:t,scrollerElRefs:r}=this,a=!1,l={},c={};for(let h in t.currentMap){let f=t.currentMap[h];if(f&&f.needsYScrolling()){a=!0;break}}for(let h of this.props.sections){let f=h.key,g=r.currentMap[f];if(g){let b=g.parentNode;l[f]=Math.floor(b.getBoundingClientRect().width-(a?e.y:0)),c[f]=Math.floor(b.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:c}}}k2.addStateEquality({scrollerClientWidths:qr,scrollerClientHeights:qr});function s8(n,e){for(let t of n)if(t.key===e)return t;return null}class Gy extends At{constructor(){super(...arguments),this.buildPublicEvent=Ke((e,t,r)=>new Et(e,t,r)),this.handleEl=e=>{this.el=e,ki(this.props.elRef,e),e&&qE(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:r}=t,{seg:a}=e,{eventRange:l}=a,{ui:c}=l,h={event:this.buildPublicEvent(t,l.def,l.instance),view:t.viewApi,timeText:e.timeText,textColor:c.textColor,backgroundColor:c.backgroundColor,borderColor:c.borderColor,isDraggable:!e.disableDragging&&XP(a,t),isStartResizable:!e.disableResizing&&KP(a,t),isEndResizable:!e.disableResizing&&ZP(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ne(rs,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...JP(h),...a.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:h,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&qE(this.el,this.props.seg)}}class A2 extends At{render(){let{props:e,context:t}=this,{options:r}=t,{seg:a}=e,{ui:l}=a.eventRange,c=r.eventTimeFormat||e.defaultTimeFormat,h=c2(a,c,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ne(Gy,Object.assign({},e,{elTag:"a",elStyle:{borderColor:l.borderColor,backgroundColor:l.backgroundColor},elAttrs:u2(a,t),defaultGenerator:a8,timeText:h}),(f,g)=>ne(Rt,null,ne(f,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:g.textColor}}),!!g.isStartResizable&&ne("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!g.isEndResizable&&ne("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}A2.addPropsEquality({seg:qr});function a8(n){return ne("div",{className:"fc-event-main-frame"},n.timeText&&ne("div",{className:"fc-event-time"},n.timeText),ne("div",{className:"fc-event-title-container"},ne("div",{className:"fc-event-title fc-sticky"},n.event.title||ne(Rt,null,""))))}const l8=an({day:"numeric"});class T2 extends At{constructor(){super(...arguments),this.refineRenderProps=lf(o8)}render(){let{props:e,context:t}=this,{options:r}=t,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:r.monthStartFormat});return ne(rs,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":Ty(e.date)}),elClasses:[...By(a,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function C2(n){return!!(n.dayCellContent||tb("dayCellContent",n))}function o8(n){let{date:e,dateEnv:t,dateProfile:r,isMonthStart:a}=n,l=g2(e,n.todayRange,null,r),c=n.showDayNumber?t.format(e,a?n.monthStartFormat:l8):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},l),{isMonthStart:a,dayNumberText:c}),n.extraRenderProps)}class c8 extends At{render(){let{props:e}=this,{seg:t}=e;return ne(Gy,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:u8,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function u8(n){let{title:e}=n.event;return e&&ne("div",{className:"fc-event-title"},n.event.title)}function d8(n){return ne("div",{className:`fc-${n}`})}const h8=n=>ne(fl.Consumer,null,e=>{let{dateEnv:t,options:r}=e,{date:a}=n,l=r.weekNumberFormat||n.defaultFormat,c=t.computeWeekNumber(a),h=t.format(a,l),f={num:c,text:h,date:a};return ne(rs,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:f,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:f8,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},n.children)});function f8(n){return n.text}const v0=10;class m8 extends At{constructor(){super(...arguments),this.state={titleId:Am()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ki(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=LT(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:r,state:a}=this,l=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return B9(ne("div",Object.assign({},r.extraAttrs,{id:r.id,className:l.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),ne("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ne("span",{className:"fc-popover-title",id:a.titleId},r.title),ne("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),ne("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:r}=this.props,{rootEl:a}=this,l=TL(t);if(l){let c=a.getBoundingClientRect(),h=r?En(t,".fc-scrollgrid").getBoundingClientRect().top:l.top,f=e?l.right-c.width:l.left;h=Math.max(h,v0),f=Math.min(f,document.documentElement.clientWidth-v0-c.width),f=Math.max(f,v0);let g=a.offsetParent.getBoundingClientRect();mu(a,{top:h-g.top,left:f-g.left})}}}class g8 extends gl{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:r}=this,{startDate:a,todayRange:l,dateProfile:c}=r,h=t.format(a,e.dayPopoverFormat);return ne(T2,{elRef:this.handleRootEl,date:a,dateProfile:c,todayRange:l},(f,g,b)=>ne(m8,{elRef:b.ref,id:r.id,title:h,extraClassNames:["fc-more-popover"].concat(b.className||[]),extraAttrs:b,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},C2(e)&&ne(f,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,t,r,a){let{rootEl:l,props:c}=this;return e>=0&&e<r&&t>=0&&t<a?{dateProfile:c.dateProfile,dateSpan:Object.assign({allDay:!c.forceTimed,range:{start:c.startDate,end:c.endDate}},c.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:r,bottom:a},layer:1}:null}}class p8 extends At{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Am()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ki(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:r}=this,{moreLinkClick:a}=r.options,l=WE(t).start;function c(h){let{def:f,instance:g,range:b}=h.eventRange;return{event:new Et(r,f,g),start:r.dateEnv.toDate(b.start),end:r.dateEnv.toDate(b.end),isStart:h.isStart,isEnd:h.isEnd}}typeof a=="function"&&(a=a({date:l,allDay:!!t.allDayDate,allSegs:t.allSegs.map(c),hiddenSegs:t.hiddenSegs.map(c),jsEvent:e,view:r.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&r.calendarApi.zoomTo(l,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return ne(fl.Consumer,null,r=>{let{viewApi:a,options:l,calendarApi:c}=r,{moreLinkText:h}=l,{moreCnt:f}=e,g=WE(e),b=typeof h=="function"?h.call(c,f):`+${f} ${h}`,v=gu(l.moreLinkHint,[f],b),x={num:f,shortText:`+${f}`,text:b,view:a};return ne(Rt,null,!!e.moreCnt&&ne(rs,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),BT(this.handleClick)),{title:v,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:x,generatorName:"moreLinkContent",customGenerator:l.moreLinkContent,defaultGenerator:e.defaultGenerator||b8,classNameGenerator:l.moreLinkClassNames,didMount:l.moreLinkDidMount,willUnmount:l.moreLinkWillUnmount},e.children),t.isPopoverOpen&&ne(g8,{id:t.popoverId,startDate:g.start,endDate:g.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=En(this.linkEl,".fc-view-harness"))}}function b8(n){return n.text}function WE(n){if(n.allDayDate)return{start:n.allDayDate,end:ln(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:y8(e),end:x8(e)}}function y8(n){return n.reduce(v8).eventRange.range.start}function v8(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function x8(n){return n.reduce(_8).eventRange.range.end}function _8(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class w8{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class E8 extends w8{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let r=!1;e.isActive?(t.set(e.id,e),r=!0):t.has(e.id)&&(t.delete(e.id),r=!0),r&&this.set(t)}}const S8=[],N2={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},R2=Object.assign(Object.assign({},N2),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function k8(n){let e=n.length>0?n[0].code:"en",t=S8.concat(n),r={en:R2};for(let a of t)r[a.code]=a;return{map:r,defaultCode:e}}function D2(n,e){return typeof n=="object"&&!Array.isArray(n)?z2(n.code,[n.code],n):A8(n,e)}function A8(n,e){let t=[].concat(n||[]),r=T8(t,e)||R2;return z2(n,t,r)}function T8(n,e){for(let t=0;t<n.length;t+=1){let r=n[t].toLocaleLowerCase().split("-");for(let a=r.length;a>0;a-=1){let l=r.slice(0,a).join("-");if(e[l])return e[l]}}return null}function z2(n,e,t){let r=Ry([N2,t],["buttonText"]);delete r.code;let{week:a}=r;return delete r.week,{codeArg:n,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}function da(n){return{id:dl(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function C8(n,e){let t={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(l){for(let c of l){const h=c.name,f=t[h];f===void 0?(t[h]=c.id,a(c.deps),r=R8(r,c)):f!==c.id&&console.warn(`Duplicate plugin '${h}'`)}}return n&&a(n),a(e),r}function N8(){let n=[],e=[],t;return(r,a)=>((!t||!sa(r,n)||!sa(a,e))&&(t=C8(r,a)),n=r,e=a,t)}function R8(n,e){return{premiumReleaseDate:D8(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function D8(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class ha extends td{}ha.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ha.prototype.baseIconClass="fc-icon";ha.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ha.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ha.prototype.iconOverrideOption="buttonIcons";ha.prototype.iconOverrideCustomButtonOption="icon";ha.prototype.iconOverridePrefix="fc-icon-";function z8(n,e){let t={},r;for(r in n)ab(r,t,n,e);for(r in e)ab(r,t,n,e);return t}function ab(n,e,t,r){if(e[n])return e[n];let a=j8(n,e,t,r);return a&&(e[n]=a),a}function j8(n,e,t,r){let a=t[n],l=r[n],c=b=>a&&a[b]!==null?a[b]:l&&l[b]!==null?l[b]:null,h=c("component"),f=c("superType"),g=null;if(f){if(f===n)throw new Error("Can't have a custom view type that references itself");g=ab(f,e,t,r)}return!h&&g&&(h=g.component),h?{type:n,component:h,defaults:Object.assign(Object.assign({},g?g.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},g?g.overrides:{}),l?l.rawOptions:{})}:null}function XE(n){return hl(n,M8)}function M8(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=KE(e):t&&!(t.prototype instanceof At)&&(t=KE(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function KE(n){return e=>ne(fl.Consumer,null,t=>ne(rs,{elTag:"div",elClasses:WT(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function I8(n,e,t,r){let a=XE(n),l=XE(e.views),c=z8(a,l);return hl(c,h=>O8(h,l,e,t,r))}function O8(n,e,t,r,a){let l=n.overrides.duration||n.defaults.duration||r.duration||t.duration,c=null,h="",f="",g={};if(l&&(c=V8(l),c)){let x=eb(c);h=x.unit,x.value===1&&(f=h,g=e[h]?e[h].rawOptions:{})}let b=x=>{let E=x.buttonText||{},A=n.defaults.buttonTextKey;return A!=null&&E[A]!=null?E[A]:E[n.type]!=null?E[n.type]:E[f]!=null?E[f]:null},v=x=>{let E=x.buttonHints||{},A=n.defaults.buttonTextKey;return A!=null&&E[A]!=null?E[A]:E[n.type]!=null?E[n.type]:E[f]!=null?E[f]:null};return{type:n.type,component:n.component,duration:c,durationUnit:h,singleUnit:f,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},g),n.overrides),buttonTextOverride:b(r)||b(t)||n.overrides.buttonText,buttonTextDefault:b(a)||n.defaults.buttonText||b(pu)||n.type,buttonTitleOverride:v(r)||v(t)||n.overrides.buttonHint,buttonTitleDefault:v(a)||n.defaults.buttonHint||v(pu)}}let ZE={};function V8(n){let e=JSON.stringify(n),t=ZE[e];return t===void 0&&(t=tt(n),ZE[e]=t),t}function P8(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function L8(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function U8(n,e,t){let r=n.initialDate;return r!=null?e.createMarker(r):t.getDateMarker()}function B8(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function H8(n,e,t,r){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||t);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(a=r.buildPrev(n,t),a.isValid)return a;break;case"NEXT":if(a=r.buildNext(n,t),a.isValid)return a;break}return n}function F8(n,e,t){let r=e?e.activeRange:null;return M2({},X8(n,t),r,t)}function q8(n,e,t,r){let a=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return M2(n,e.sources,a,r);case"REMOVE_EVENT_SOURCE":return $8(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?I2(n,a,r):n;case"FETCH_EVENT_SOURCES":return $y(n,e.sourceIds?qT(e.sourceIds):O2(n,r),a,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return W8(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function G8(n,e,t){let r=e?e.activeRange:null;return $y(n,O2(n,t),r,!0,t)}function j2(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function M2(n,e,t,r){let a={};for(let l of e)a[l.sourceId]=l;return t&&(a=I2(a,t,r)),Object.assign(Object.assign({},n),a)}function $8(n,e){return sl(n,t=>t.sourceId!==e)}function I2(n,e,t){return $y(n,sl(n,r=>Q8(r,e,t)),e,!1,t)}function Q8(n,e,t){return V2(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function $y(n,e,t,r,a){let l={};for(let c in n){let h=n[c];e[c]?l[c]=Y8(h,t,r,a):l[c]=h}return l}function Y8(n,e,t,r){let{options:a,calendarApi:l}=r,c=r.pluginHooks.eventSourceDefs[n.sourceDefId],h=dl();return c.fetch({eventSource:n,range:e,isRefetch:t,context:r},f=>{let{rawEvents:g}=f;a.eventSourceSuccess&&(g=a.eventSourceSuccess.call(l,g,f.response)||g),n.success&&(g=n.success.call(l,g,f.response)||g),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:h,fetchRange:e,rawEvents:g})},f=>{let g=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(l,f),g=!0),n.failure&&(n.failure(f),g=!0),g||console.warn(f.message,f),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:h,fetchRange:e,error:f})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:h})}function W8(n,e,t,r){let a=n[e];return a&&t===a.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:r})}):n}function O2(n,e){return sl(n,t=>V2(t,e))}function X8(n,e){let t=r2(e),r=[].concat(n.eventSources||[]),a=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(let l of r){let c=n2(l,e,t);c&&a.push(c)}return a}function V2(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function K8(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function Z8(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function J8(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function eU(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function tU(n,e,t,r,a){let l=n.headerToolbar?JE(n.headerToolbar,n,e,t,r,a):null,c=n.footerToolbar?JE(n.footerToolbar,n,e,t,r,a):null;return{header:l,footer:c}}function JE(n,e,t,r,a,l){let c={},h=[],f=!1;for(let g in n){let b=n[g],v=nU(b,e,t,r,a,l);c[g]=v.widgets,h.push(...v.viewsWithButtons),f=f||v.hasTitle}return{sectionWidgets:c,viewsWithButtons:h,hasTitle:f}}function nU(n,e,t,r,a,l){let c=e.direction==="rtl",h=e.customButtons||{},f=t.buttonText||{},g=e.buttonText||{},b=t.buttonHints||{},v=e.buttonHints||{},x=n?n.split(" "):[],E=[],A=!1;return{widgets:x.map(N=>N.split(",").map(z=>{if(z==="title")return A=!0,{buttonName:z};let P,q,L,X,F,C;if(P=h[z])L=k=>{P.click&&P.click.call(k.target,k,k.target)},(X=r.getCustomButtonIconClass(P))||(X=r.getIconClass(z,c))||(F=P.text),C=P.hint||P.text;else if(q=a[z]){E.push(z),L=()=>{l.changeView(z)},(F=q.buttonTextOverride)||(X=r.getIconClass(z,c))||(F=q.buttonTextDefault);let k=q.buttonTextOverride||q.buttonTextDefault;C=gu(q.buttonTitleOverride||q.buttonTitleDefault||e.viewHint,[k,z],k)}else if(l[z])if(L=()=>{l[z]()},(F=f[z])||(X=r.getIconClass(z,c))||(F=g[z]),z==="prevYear"||z==="nextYear"){let k=z==="prevYear"?"prev":"next";C=gu(b[k]||v[k],[g.year||"year","year"],g[z])}else C=k=>gu(b[z]||v[z],[g[k]||k,k],g[z]);return{buttonName:z,buttonClick:L,buttonIcon:X,buttonText:F,buttonHint:C}})),viewsWithButtons:E,hasTitle:A}}class rU{constructor(e,t,r){this.type=e,this.getCurrentData=t,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let iU={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const sU=da({name:"array-event-source",eventSourceDefs:[iU]});let aU={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:r}=n.context,a=n.eventSource.meta;oL(a.bind(null,d2(n.range,r)),l=>e({rawEvents:l}),t)}};const lU=da({name:"func-event-source",eventSourceDefs:[aU]}),oU={method:String,extraParams:ee,startParam:String,endParam:String,timeZoneParam:String};let cU={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:r}=n.eventSource,a=dU(r,n.range,n.context);cL(r.method,r.url,a).then(([l,c])=>{e({rawEvents:l,response:c})},t)}};const uU=da({name:"json-event-source",eventSourceRefiners:oU,eventSourceDefs:[cU]});function dU(n,e,t){let{dateEnv:r,options:a}=t,l,c,h,f,g={};return l=n.startParam,l==null&&(l=a.startParam),c=n.endParam,c==null&&(c=a.endParam),h=n.timeZoneParam,h==null&&(h=a.timeZoneParam),typeof n.extraParams=="function"?f=n.extraParams():f=n.extraParams||{},Object.assign(g,f),g[l]=r.formatIso(e.start),g[c]=r.formatIso(e.end),r.timeZone!=="local"&&(g[h]=r.timeZone),g}const hU={daysOfWeek:ee,startTime:tt,endTime:tt,duration:tt,startRecur:ee,endRecur:ee};let fU={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},r;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=vV(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:r,typeData:t}}return null},expand(n,e,t){let r=Do(e,{start:n.startRecur,end:n.endRecur});return r?gU(n.daysOfWeek,n.startTime,n.dateEnv,t,r):[]}};const mU=da({name:"simple-recurring-event",recurringTypes:[fU],eventRefiners:hU});function gU(n,e,t,r,a){let l=n?qT(n):null,c=wt(a.start),h=a.end,f=[];for(e&&(e.milliseconds<0?h=ln(h,1):e.milliseconds>=1e3*60*60*24&&(c=ln(c,-1)));c<h;){let g;(!l||l[c.getUTCDay()])&&(e?g=r.add(c,e):g=c,f.push(r.createMarker(t.toDate(g)))),c=ln(c,1)}return f}const pU=da({name:"change-handler",optionChangeHandlers:{events(n,e){eS([n],e)},eventSources:eS}});function eS(n,e){let t=Dy(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let r=[];for(let a of n){let l=!1;for(let c=0;c<t.length;c+=1)if(t[c]._raw===a){t.splice(c,1),l=!0;break}l||r.push(a)}for(let a of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of r)e.calendarApi.addEventSource(a)}function bU(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},d2(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function yU(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",el(n,e))}const vU=[sU,lU,uU,mU,pU,da({name:"misc",isLoadingFuncs:[n=>j2(n.eventSources)],propSetHandlers:{dateProfile:bU,eventStore:yU}})];class xU{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ey(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],r;for(;r=e.shift();)this.runTask(r),t.push(r);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function _U(n,e,t){let r;return/^(year|month)$/.test(n.currentRangeUnit)?r=n.currentRange:r=n.activeRange,t.formatRange(r.start,r.end,an(e.titleFormat||wU(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function wU(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Lf(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class tS{constructor(){this.resetListeners=new Set}handleInput(e,t){const r=this.dateEnv;if(e!==r&&(typeof t=="function"?this.nowFn=t:r||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class EU{constructor(e){this.computeCurrentViewData=Ke(this._computeCurrentViewData),this.organizeRawLocales=Ke(k8),this.buildLocale=Ke(D2),this.buildPluginHooks=N8(),this.buildDateEnv=Ke(SU),this.buildTheme=Ke(kU),this.parseToolbars=Ke(tU),this.buildViewSpecs=Ke(I8),this.buildDateProfileGenerator=lf(AU),this.buildViewApi=Ke(TU),this.buildViewUiProps=lf(RU),this.buildEventUiBySource=Ke(CU,qr),this.buildEventUiBases=Ke(NU),this.parseContextBusinessHours=lf(DU),this.buildTitle=Ke(_U),this.nowManager=new tS,this.emitter=new Rm,this.actionRunner=new xU(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=x=>{this.actionRunner.request(x)},this.props=e,this.actionRunner.pause(),this.nowManager=new tS;let t={},r=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),a=r.calendarOptions.initialView||r.pluginHooks.initialView,l=this.computeCurrentViewData(a,r,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},h=U8(r.calendarOptions,r.dateEnv,this.nowManager),f=l.dateProfileGenerator.build(h);Xs(f.activeRange,h)||(h=f.currentRange.start);for(let x of r.pluginHooks.contextInit)x(c);let g=F8(r.calendarOptions,f,c),b={dynamicOptionOverrides:t,currentViewType:a,currentDate:h,dateProfile:f,businessHours:this.parseContextBusinessHours(c),eventSources:g,eventUiBases:{},eventStore:Ur(),renderableEventStore:Ur(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},v=Object.assign(Object.assign({},c),b);for(let x of r.pluginHooks.reducers)Object.assign(b,x(null,null,v));x0(b,c)&&this.emitter.trigger("loading",!0),this.state=b,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:r}=this;t===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:r,emitter:a}=this,l=B8(r.dynamicOptionOverrides,e),c=this.computeOptionsData(t.optionOverrides,l,t.calendarApi),h=P8(r.currentViewType,e),f=this.computeCurrentViewData(h,c,t.optionOverrides,l);t.calendarApi.currentDataManager=this,a.setThisContext(t.calendarApi),a.setOptions(f.options);let g={nowManager:this.nowManager,dateEnv:c.dateEnv,options:c.calendarOptions,pluginHooks:c.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:b,dateProfile:v}=r;this.data&&this.data.dateProfileGenerator!==f.dateProfileGenerator&&(v=f.dateProfileGenerator.build(b)),b=L8(b,e),v=H8(v,e,b,f.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Xs(v.currentRange,b))&&(b=v.currentRange.start);let x=q8(r.eventSources,e,v,g),E=MP(r.eventStore,e,x,v,g),R=j2(x)&&!f.options.progressiveEventRendering&&r.renderableEventStore||E,{eventUiSingleBase:N,selectionConfig:z}=this.buildViewUiProps(g),P=this.buildEventUiBySource(x),q=this.buildEventUiBases(R.defs,N,P),L={dynamicOptionOverrides:l,currentViewType:h,currentDate:b,dateProfile:v,eventSources:x,eventStore:E,renderableEventStore:R,selectionConfig:z,eventUiBases:q,businessHours:this.parseContextBusinessHours(g),dateSelection:K8(r.dateSelection,e),eventSelection:Z8(r.eventSelection,e),eventDrag:J8(r.eventDrag,e),eventResize:eU(r.eventResize,e)},X=Object.assign(Object.assign({},g),L);for(let k of c.pluginHooks.reducers)Object.assign(L,k(r,e,X));let F=x0(r,g),C=x0(L,g);!F&&C?a.trigger("loading",!0):F&&!C&&a.trigger("loading",!1),this.state=L,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,r=this.data,a=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),l=this.computeCurrentViewData(t.currentViewType,a,e.optionOverrides,t.dynamicOptionOverrides),c=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,l.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),l),t),h=a.pluginHooks.optionChangeHandlers,f=r&&r.calendarOptions,g=a.calendarOptions;if(f&&f!==g){f.timeZone!==g.timeZone&&(t.eventSources=c.eventSources=G8(c.eventSources,t.dateProfile,c),t.eventStore=c.eventStore=BE(c.eventStore,r.dateEnv,c.dateEnv),t.renderableEventStore=c.renderableEventStore=BE(c.renderableEventStore,r.dateEnv,c.dateEnv));for(let b in h)(this.optionsForHandling.indexOf(b)!==-1||f[b]!==g[b])&&h[b](g[b],c)}this.optionsForHandling=[],e.onData&&e.onData(c)}computeOptionsData(e,t,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:l,localeDefaults:c,availableLocaleData:h,extra:f}=this.processRawCalendarOptions(e,t);nS(f);let g=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,l,h,a.defaultRangeSeparator),b=this.buildViewSpecs(l.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,c),v=this.buildTheme(a,l),x=this.parseToolbars(a,this.stableOptionOverrides,v,b,r);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:l,dateEnv:g,viewSpecs:b,theme:v,toolbarConfig:x,localeDefaults:c,availableRawLocales:h.map}}processRawCalendarOptions(e,t){let{locales:r,locale:a}=h0([pu,e,t]),l=this.organizeRawLocales(r),c=l.map,h=this.buildLocale(a||l.defaultCode,c).options,f=this.buildPluginHooks(e.plugins||[],vU),g=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ME),IE),OE),f.listenerRefiners),f.optionRefiners),b={},v=h0([pu,h,e,t]),x={},E=this.currentCalendarOptionsInput,A=this.currentCalendarOptionsRefined,R=!1;for(let N in v)this.optionsForRefining.indexOf(N)===-1&&(v[N]===E[N]||Ga[N]&&N in E&&Ga[N](E[N],v[N]))?x[N]=A[N]:g[N]?(x[N]=g[N](v[N]),R=!0):b[N]=E[N];return R&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=x,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:f,availableLocaleData:l,localeDefaults:h,extra:b}}_computeCurrentViewData(e,t,r,a){let l=t.viewSpecs[e];if(!l)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:c,extra:h}=this.processRawViewOptions(l,t.pluginHooks,t.localeDefaults,r,a);nS(h),this.nowManager.handleInput(t.dateEnv,c.now);let f=this.buildDateProfileGenerator({dateProfileGeneratorClass:l.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:l.duration,durationUnit:l.durationUnit,usesMinMaxTime:l.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,showNonCurrentDates:c.showNonCurrentDates,dayCount:c.dayCount,dateAlignment:c.dateAlignment,dateIncrement:c.dateIncrement,hiddenDays:c.hiddenDays,weekends:c.weekends,validRangeInput:c.validRange,visibleRangeInput:c.visibleRange,fixedWeekCount:c.fixedWeekCount}),g=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:l,options:c,dateProfileGenerator:f,viewApi:g}}processRawViewOptions(e,t,r,a,l){let c=h0([pu,e.optionDefaults,r,a,e.optionOverrides,l]),h=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ME),IE),OE),KV),t.listenerRefiners),t.optionRefiners),f={},g=this.currentViewOptionsInput,b=this.currentViewOptionsRefined,v=!1,x={};for(let E in c)c[E]===g[E]||Ga[E]&&Ga[E](c[E],g[E])?f[E]=b[E]:(c[E]===this.currentCalendarOptionsInput[E]||Ga[E]&&Ga[E](c[E],this.currentCalendarOptionsInput[E])?E in this.currentCalendarOptionsRefined&&(f[E]=this.currentCalendarOptionsRefined[E]):h[E]?f[E]=h[E](c[E]):x[E]=c[E],v=!0);return v&&(this.currentViewOptionsInput=c,this.currentViewOptionsRefined=f),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:x}}}function SU(n,e,t,r,a,l,c,h){let f=D2(e||c.defaultCode,c.map);return new oP({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:l.namedTimeZonedImpl,locale:f,weekNumberCalculation:t,firstDay:r,weekText:a,cmdFormatter:l.cmdFormatter,defaultSeparator:h})}function kU(n,e){let t=e.themeClasses[n.themeSystem]||ha;return new t(n)}function AU(n){let e=n.dateProfileGeneratorClass||ZT;return new e(n)}function TU(n,e,t){return new rU(n,e,t)}function CU(n){return hl(n,e=>e.ui)}function NU(n,e,t){let r={"":e};for(let a in n){let l=n[a];l.sourceId&&t[l.sourceId]&&(r[a]=t[l.sourceId])}return r}function RU(n){let{options:e}=n;return{eventUiSingleBase:Gf({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Gf({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function x0(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function DU(n){return FP(n.options.businessHours,n)}function nS(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class zU extends At{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return ne("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:r}=this.context,a=[],l=!0;for(let c of e){let{buttonName:h,buttonClick:f,buttonText:g,buttonIcon:b,buttonHint:v}=c;if(h==="title")l=!1,a.push(ne("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let x=h===t.activeButton,E=!t.isTodayEnabled&&h==="today"||!t.isPrevEnabled&&h==="prev"||!t.isNextEnabled&&h==="next",A=[`fc-${h}-button`,r.getClass("button")];x&&A.push(r.getClass("buttonActive")),a.push(ne("button",{type:"button",title:typeof v=="function"?v(t.navUnit):v,disabled:E,"aria-pressed":x,className:A.join(" "),onClick:f},g||(b?ne("span",{className:b,role:"img"}):"")))}}if(a.length>1){let c=l&&r.getClass("buttonGroup")||"";return ne("div",{className:c},...a)}return a[0]}}class rS extends At{render(){let{model:e,extraClassName:t}=this.props,r=!1,a,l,c=e.sectionWidgets,h=c.center;return c.left?(r=!0,a=c.left):a=c.start,c.right?(r=!0,l=c.right):l=c.end,ne("div",{className:[t||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",h||[]),this.renderSection("end",l||[]))}renderSection(e,t){let{props:r}=this;return ne(zU,{key:e,widgetGroups:t,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class jU extends At{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ki(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:r}=e,a=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],l="",c="";return r?t.availableWidth!==null?l=t.availableWidth/r:c=`${1/r*100}%`:l=e.height||"",ne("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:l,paddingBottom:c}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class MU extends qo{constructor(e){super(e),this.handleSegClick=(t,r)=>{let{component:a}=this,{context:l}=a,c=zo(r);if(c&&a.isValidSegDownEl(t.target)){let h=En(t.target,".fc-event-forced-url"),f=h?h.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:r,event:new Et(a.context,c.eventRange.def,c.eventRange.instance),jsEvent:t,view:l.viewApi}),f&&!t.defaultPrevented&&(window.location.href=f)}},this.destroy=UT(e.el,"click",".fc-event",this.handleSegClick)}}class IU extends qo{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,r)=>{zo(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",t,r))},this.handleSegLeave=(t,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,r))},this.removeHoverListeners=iV(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,r){let{component:a}=this,{context:l}=a,c=zo(r);(!t||a.isValidSegDownEl(t.target))&&l.emitter.trigger(e,{el:r,event:new Et(l,c.eventRange.def,c.eventRange.instance),jsEvent:t,view:l.viewApi})}}class OU extends ml{constructor(){super(...arguments),this.buildViewContext=Ke(dP),this.buildViewPropTransformers=Ke(PU),this.buildToolbarProps=Ke(VU),this.headerRef=ts(),this.footerRef=ts(),this.interactionsStore={},this.state={viewLabelId:Am()},this.registerInteractiveComponent=(e,t)=>{let r=hL(e,t),c=[MU,IU].concat(this.props.pluginHooks.componentInteractions).map(h=>new h(r));this.interactionsStore[e.uid]=c,ib[e.uid]=r},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let r of t)r.destroy();delete this.interactionsStore[e.uid]}delete ib[e.uid]},this.resizeRunner=new Ey(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:r}=e,a=!1,l="",c;e.isHeightAuto||e.forPrint?l="":r.height!=null?a=!0:r.contentHeight!=null?l=r.contentHeight:c=Math.max(r.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return ne(fl.Provider,{value:h},ne(Dm,{unit:"day"},g=>{let b=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,g,e.viewTitle);return ne(Rt,null,t.header&&ne(rS,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:f},b)),ne(jU,{liquid:a,height:l,aspectRatio:c,labeledById:f},this.renderView(e),this.buildAppendContent()),t.footer&&ne(rS,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},b)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let r in t)t[r](e[r],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:r}=t.pluginHooks;for(let a in r)t[a]!==e[a]&&r[a](t[a],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(r=>r(e));return ne(Rt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:r}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},l=this.buildViewPropTransformers(t.viewPropsTransformers);for(let h of l)Object.assign(a,h.transform(a,e));let c=r.component;return ne(c,Object.assign({},a))}}function VU(n,e,t,r,a,l){let c=t.build(a,void 0,!1),h=t.buildPrev(e,r,!1),f=t.buildNext(e,r,!1);return{title:l,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:c.isValid&&!Xs(e.currentRange,a),isPrevEnabled:h.isValid,isNextEnabled:f.isValid}}function PU(n){return n.map(e=>new e)}class LU extends mL{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Ff(()=>{Ou(ne(dL,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(a,l,c,h)=>(this.setClassNames(a),this.setHeight(l),ne(YT.Provider,{value:this.customContentRenderId},ne(OU,Object.assign({isHeightAuto:c,forPrint:h},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Ou(null,this.el),this.setClassNames([]),this.setHeight(""))},W9(e),this.el=e,this.renderRunner=new Ey(this.handleRenderRequest),new EU({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Ff(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!sa(e,this.currentClassNames)){let{classList:t}=this.el;for(let r of this.currentClassNames)t.remove(r);for(let r of e)t.add(r);this.currentClassNames=e}}setHeight(e){PT(this.el,"height",e)}}const UU=parseInt(String(Lr.version).split(".")[0]),BU=UU<18;class P2 extends I.Component{constructor(){super(...arguments),this.elRef=I.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Lr.createElement(HU,{key:t.id,customRendering:t}));return Lr.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new E8;this.handleCustomRendering=e.handle.bind(e),this.calendar=new LU(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{E0.flushSync(()=>{})});let t;e.subscribe(r=>{const a=Date.now(),l=!t;(BU||l||this.isUpdating||this.isUnmounting||a-t<100?L2:E0.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{t=a,l?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}P2.act=L2;class HU extends I.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,r=typeof t=="function"?t(e.renderProps):t;return E0.createPortal(r,e.containerEl)}}function L2(n){n()}class FU extends gl{constructor(){super(...arguments),this.headerElRef=ts()}renderSimpleLayout(e,t){let{props:r,context:a}=this,l=[],c=YE(a.options);return e&&l.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),ne(VE,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},ne(k2,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:l}))}renderHScrollLayout(e,t,r,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{props:c,context:h}=this,f=!c.forPrint&&YE(h.options),g=!c.forPrint&&i8(h.options),b=[];return e&&b.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),b.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),g&&b.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:r8}]}),ne(VE,{elClasses:["fc-daygrid"],viewSpec:h.viewSpec},ne(l,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:c.forPrint,colGroups:[{cols:[{span:r,minWidth:a}]}],sections:b}))}}function cf(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.row].push(r);return t}function Wh(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.firstCol].push(r);return t}function iS(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}const U2=an({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function B2(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class H2 extends At{render(){let{props:e}=this;return ne(A2,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:U2,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class F2 extends At{render(){let{props:e,context:t}=this,{options:r}=t,{seg:a}=e,l=r.eventTimeFormat||U2,c=c2(a,l,t,!0,e.defaultDisplayEventEnd);return ne(Gy,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:u2(e.seg,t),defaultGenerator:qU,timeText:c,isResizing:!1,isDateSelecting:!1}))}}function qU(n){return ne(Rt,null,ne("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&ne("div",{className:"fc-event-time"},n.timeText),ne("div",{className:"fc-event-title"},n.event.title||ne(Rt,null,"")))}class GU extends At{constructor(){super(...arguments),this.compileSegs=Ke($U)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return ne(p8,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ne(Rt,null,t.map(l=>{let c=l.eventRange.instance.instanceId;return ne("div",{className:"fc-daygrid-event-harness",key:c,style:{visibility:a[c]?"hidden":""}},B2(l)?ne(F2,Object.assign({seg:l,isDragging:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},bu(l,e.todayRange))):ne(H2,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},bu(l,e.todayRange))))}))}})}}function $U(n){let e=[],t=[];for(let r of n)e.push(r.seg),r.isVisible||t.push(r.seg);return{allSegs:e,invisibleSegs:t}}const QU=an({week:"narrow"});class YU extends gl{constructor(){super(...arguments),this.rootElRef=ts(),this.state={dayNumberId:Am()},this.handleRootEl=e=>{ki(this.rootElRef,e),ki(this.props.elRef,e)}}render(){let{context:e,props:t,state:r,rootElRef:a}=this,{options:l,dateEnv:c}=e,{date:h,dateProfile:f}=t;const g=t.showDayNumber&&XU(h,f.currentRange,c);return ne(T2,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:WU,date:h,dateProfile:f,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:g,extraRenderProps:t.extraRenderProps},(b,v)=>ne("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&ne(h8,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:sb(e,h,"week"),date:h,defaultFormat:QU}),!v.isDisabled&&(t.showDayNumber||C2(l)||t.forceDayTop)?ne("div",{className:"fc-daygrid-day-top"},ne(b,{elTag:"a",elClasses:["fc-daygrid-day-number",g&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},sb(e,h)),{id:r.dayNumberId})})):t.showDayNumber?ne("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ne("a",{className:"fc-daygrid-day-number"},"")):void 0,ne("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,ne("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},ne(GU,{allDayDate:h,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),ne("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function WU(n){return n.dayNumberText||ne(Rt,null,"")}function XU(n,e,t){const{start:r,end:a}=e,l=aa(a,-1),c=t.getYear(r),h=t.getMonth(r),f=t.getYear(l),g=t.getMonth(l);return!(c===f&&h===g)&&(n.valueOf()===r.valueOf()||t.getDay(n)===1&&n.valueOf()<a.valueOf())}function q2(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function G2(n){return q2(n)+":"+n.lastCol}function KU(n,e,t,r,a,l,c){let h=new eB(z=>{let P=n[z.index].eventRange.instance.instanceId+":"+z.span.start+":"+(z.span.end-1);return a[P]||1});h.allowReslicing=!0,h.strictOrder=r,e===!0||t===!0?(h.maxCoord=l,h.hiddenConsumes=!0):typeof e=="number"?h.maxStackCnt=e:typeof t=="number"&&(h.maxStackCnt=t,h.hiddenConsumes=!0);let f=[],g=[];for(let z=0;z<n.length;z+=1){let P=n[z],q=G2(P);a[q]!=null?f.push({index:z,span:{start:P.firstCol,end:P.lastCol+1}}):g.push(P)}let b=h.addSegs(f),v=h.toRects(),{singleColPlacements:x,multiColPlacements:E,leftoverMargins:A}=ZU(v,n,c),R=[],N=[];for(let z of g){E[z.firstCol].push({seg:z,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let P=z.firstCol;P<=z.lastCol;P+=1)x[P].push({seg:yo(z,P,P+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let z=0;z<c.length;z+=1)R.push(0);for(let z of b){let P=n[z.index],q=z.span;E[q.start].push({seg:yo(P,q.start,q.end,c),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let L=q.start;L<q.end;L+=1)R[L]+=1,x[L].push({seg:yo(P,L,L+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let z=0;z<c.length;z+=1)N.push(A[z]);return{singleColPlacements:x,multiColPlacements:E,moreCnts:R,moreMarginTops:N}}function ZU(n,e,t){let r=JU(n,t.length),a=[],l=[],c=[];for(let h=0;h<t.length;h+=1){let f=r[h],g=[],b=0,v=0;for(let E of f){let A=e[E.index];g.push({seg:yo(A,h,h+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:E.levelCoord,marginTop:E.levelCoord-b}),b=E.levelCoord+E.thickness}let x=[];b=0,v=0;for(let E of f){let A=e[E.index],R=E.span.end-E.span.start>1,N=E.span.start===h;v+=E.levelCoord-b,b=E.levelCoord+E.thickness,R?(v+=E.thickness,N&&x.push({seg:yo(A,E.span.start,E.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:E.levelCoord,marginTop:0})):N&&(x.push({seg:yo(A,E.span.start,E.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:E.levelCoord,marginTop:v}),v=0)}a.push(g),l.push(x),c.push(v)}return{singleColPlacements:a,multiColPlacements:l,leftoverMargins:c}}function JU(n,e){let t=[];for(let r=0;r<e;r+=1)t.push([]);for(let r of n)for(let a=r.span.start;a<r.span.end;a+=1)t[a].push(r);return t}function yo(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;let a=n.eventRange,l=a.range,c=Do(l,{start:r[e].date,end:ln(r[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:c},isStart:n.isStart&&c.start.valueOf()===l.start.valueOf(),isEnd:n.isEnd&&c.end.valueOf()===l.end.valueOf()})}class eB extends RL{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:r}=this,a=l=>!this.forceHidden[yu(l)];for(let l=0;l<r.length;l+=1)r[l]=r[l].filter(a);return t}handleInvalidInsertion(e,t,r){const{entriesByLevel:a,forceHidden:l}=this,{touchingEntry:c,touchingLevel:h,touchingLateral:f}=e;if(this.hiddenConsumes&&c){const g=yu(c);if(!l[g])if(this.allowReslicing){const b=Object.assign(Object.assign({},c),{span:y2(c.span,t.span)}),v=yu(b);l[v]=!0,a[h][f]=b,r.push(b),this.splitEntry(c,t,r)}else l[g]=!0,r.push(c)}super.handleInvalidInsertion(e,t,r)}}class $2 extends gl{constructor(){super(...arguments),this.cellElRefs=new Xa,this.frameElRefs=new Xa,this.fgElRefs=new Xa,this.segHarnessRefs=new Xa,this.rootElRef=ts(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:r}=this,{options:a}=r,l=e.cells.length,c=Wh(e.businessHourSegs,l),h=Wh(e.bgEventSegs,l),f=Wh(this.getHighlightSegs(),l),g=Wh(this.getMirrorSegs(),l),{singleColPlacements:b,multiColPlacements:v,moreCnts:x,moreMarginTops:E}=KU(YP(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),A=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ne("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((R,N)=>{let z=this.renderFgSegs(N,e.forPrint?b[N]:v[N],e.todayRange,A),P=this.renderFgSegs(N,tB(g[N],v),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ne(YU,{key:R.key,elRef:this.cellElRefs.createRef(R.key),innerElRef:this.frameElRefs.createRef(R.key),dateProfile:e.dateProfile,date:R.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&N===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:R.extraRenderProps,extraDataAttrs:R.extraDataAttrs,extraClassNames:R.extraClassNames,extraDateSpan:R.extraDateSpan,moreCnt:x[N],moreMarginTop:E[N],singlePlacements:b[N],fgContentElRef:this.fgElRefs.createRef(R.key),fgContent:ne(Rt,null,ne(Rt,null,z),ne(Rt,null,P)),bgContent:ne(Rt,null,this.renderFillSegs(f[N],"highlight"),this.renderFillSegs(c[N],"non-business"),this.renderFillSegs(h[N],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let r=this.props;this.updateSizing(!qr(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,r,a,l,c,h){let{context:f}=this,{eventSelection:g}=this.props,{framePositions:b}=this.state,v=this.props.cells.length===1,x=l||c||h,E=[];if(b)for(let A of t){let{seg:R}=A,{instanceId:N}=R.eventRange.instance,z=A.isVisible&&!a[N],P=A.isAbsolute,q="",L="";P&&(f.isRtl?(L=0,q=b.lefts[R.lastCol]-b.lefts[R.firstCol]):(q=0,L=b.rights[R.firstCol]-b.rights[R.lastCol])),E.push(ne("div",{className:"fc-daygrid-event-harness"+(P?" fc-daygrid-event-harness-abs":""),key:q2(R),ref:x?null:this.segHarnessRefs.createRef(G2(R)),style:{visibility:z?"":"hidden",marginTop:P?"":A.marginTop,top:P?A.absoluteTop:"",left:q,right:L}},B2(R)?ne(F2,Object.assign({seg:R,isDragging:l,isSelected:N===g,defaultDisplayEventEnd:v},bu(R,r))):ne(H2,Object.assign({seg:R,isDragging:l,isResizing:c,isDateSelecting:h,isSelected:N===g,defaultDisplayEventEnd:v},bu(R,r)))))}return E}renderFillSegs(e,t){let{isRtl:r}=this.context,{todayRange:a}=this.props,{framePositions:l}=this.state,c=[];if(l)for(let h of e){let f=r?{right:0,left:l.lefts[h.lastCol]-l.lefts[h.firstCol]}:{left:0,right:l.rights[h.firstCol]-l.rights[h.lastCol]};c.push(ne("div",{key:eL(h.eventRange),className:"fc-daygrid-bg-harness",style:f},t==="bg-event"?ne(c8,Object.assign({seg:h},bu(h,a))):d8(t)))}return ne(Rt,{},...c)}updateSizing(e){let{props:t,state:r,frameElRefs:a}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let f=t.cells.map(g=>a.currentMap[g.key]);if(f.length){let g=this.rootElRef.current,b=new Qf(g,f,!0,!1);(!r.framePositions||!r.framePositions.similarTo(b))&&this.setState({framePositions:new Qf(g,f,!0,!1)})}}const l=this.state.segHeights,c=this.querySegHeights(),h=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},l),c),maxContentHeight:h?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let r in e){let a=Math.round(e[r].getBoundingClientRect().height);t[r]=Math.max(t[r]||0,a)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}$2.addStateEquality({segHeights:qr});function tB(n,e){if(!n.length)return[];let t=nB(e);return n.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}))}function nB(n){let e={};for(let t of n)for(let r of t)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class rB extends gl{constructor(){super(...arguments),this.splitBusinessHourSegs=Ke(cf),this.splitBgEventSegs=Ke(iB),this.splitFgEventSegs=Ke(cf),this.splitDateSelectionSegs=Ke(cf),this.splitEventDrag=Ke(iS),this.splitEventResize=Ke(iS),this.rowRefs=new Xa}render(){let{props:e,context:t}=this,r=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,r),l=this.splitBgEventSegs(e.bgEventSegs,r),c=this.splitFgEventSegs(e.fgEventSegs,r),h=this.splitDateSelectionSegs(e.dateSelectionSegs,r),f=this.splitEventDrag(e.eventDrag,r),g=this.splitEventResize(e.eventResize,r),b=r>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return ne(Dm,{unit:"day"},(v,x)=>ne(Rt,null,e.cells.map((E,A)=>ne($2,{ref:this.rowRefs.createRef(A),key:E.length?E[0].date.toISOString():A,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:x,dateProfile:e.dateProfile,cells:E,renderIntro:e.renderRowIntro,businessHourSegs:a[A],eventSelection:e.eventSelection,bgEventSegs:l[A],fgEventSegs:c[A],dateSelectionSegs:h[A],eventDrag:f[A],eventResize:g[A],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:b,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Qf(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Qf(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:r,rowPositions:a}=this,l=r.leftToIndex(e),c=a.topToIndex(t);if(c!=null&&l!=null){let h=this.props.cells[c][l];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(c,l),allDay:!0},h.extraDateSpan),dayEl:this.getCellEl(c,l),rect:{left:r.lefts[l],right:r.rights[l],top:a.tops[c],bottom:a.bottoms[c]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let r=this.props.cells[e][t].date,a=ln(r,1);return{start:r,end:a}}}function iB(n,e){return cf(n.filter(sB),e)}function sB(n){return n.eventRange.def.allDay}class aB extends gl{constructor(){super(...arguments),this.elRef=ts(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:r,expandRows:a}=e,l=r===!0||t===!0;l&&!a&&(l=!1,t=null,r=null);let c=["fc-daygrid-body",l?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return ne("div",{ref:this.elRef,className:c.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ne("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,ne("tbody",{role:"presentation"},ne(rB,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=lB(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),r=t.closest(".fc-scroller"),a=e.getBoundingClientRect().top-t.getBoundingClientRect().top;r.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function lB(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${IV(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Ty(e.currentDate)}"]`)),t}class oB extends UL{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class cB extends gl{constructor(){super(...arguments),this.slicer=new oB,this.tableRef=ts()}render(){let{props:e,context:t}=this;return ne(aB,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class uB extends FU{constructor(){super(...arguments),this.buildDayTableModel=Ke(dB),this.headerRef=ts(),this.tableRef=ts()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:r}=this,a=this.buildDayTableModel(r.dateProfile,t),l=e.dayHeaders&&ne(OL,{ref:this.headerRef,dateProfile:r.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),c=h=>ne(cB,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:a,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:h.tableColGroupNode,tableMinWidth:h.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:h.clientWidth,clientHeight:h.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(l,c,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(l,c)}}function dB(n,e){let t=new PL(n.renderRange,e);return new LL(t,/year|month|week/.test(n.currentRangeUnit))}class hB extends ZT{buildRenderRange(e,t,r){let a=super.buildRenderRange(e,t,r),{props:l}=this;return fB({currentRange:a,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:l.fixedWeekCount,dateEnv:l.dateEnv})}}function fB(n){let{dateEnv:e,currentRange:t}=n,{start:r,end:a}=t,l;if(n.snapToWeek&&(r=e.startOfWeek(r),l=e.startOfWeek(a),l.valueOf()!==a.valueOf()&&(a=NE(l,1))),n.fixedWeekCount){let c=e.startOfWeek(e.startOfMonth(ln(t.end,-1))),h=Math.ceil(EV(c,a));a=NE(a,6-h)}return{start:r,end:a}}var mB=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';IT(mB);var gB=da({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:uB,dateProfileGeneratorClass:hB},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});qy.touchMouseIgnoreWait=500;let lb=0,Yf=0,ob=!1;class Q2{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&pB(t)&&this.tryStart(t)){let r=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let r=this.createEventFromMouse(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let r=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let a=t.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let r=this.createEventFromTouch(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=t=>{if(this.isDragging){let r=t.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,bB()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:r-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new Rm,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),yB()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),vB()}tryStart(e){let t=this.querySubjectEl(e),r=e.target;return t&&(!this.handleSelector||En(r,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){ob=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?En(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return lb||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ob=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let r=0,a=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:a}}createEventFromTouch(e,t){let r=e.touches,a,l,c=0,h=0;return r&&r.length?(a=r[0].pageX,l=r[0].pageY):(a=e.pageX,l=e.pageY),t?(this.origPageX=a,this.origPageY=l):(c=a-this.origPageX,h=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:l,deltaX:c,deltaY:h}}}function pB(n){return n.button===0&&!n.ctrlKey}function bB(){lb+=1,setTimeout(()=>{lb-=1},qy.touchMouseIgnoreWait)}function yB(){Yf+=1,Yf===1&&window.addEventListener("touchmove",Y2,{passive:!1})}function vB(){Yf-=1,Yf||window.removeEventListener("touchmove",Y2,{passive:!1})}function Y2(n){ob&&n.preventDefault()}class xB{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let r=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,t){let r=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",mu(r,{left:a.left,top:a.top}),sV(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Sy(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&mu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),mu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class W2 extends Fy{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class X2 extends W2{constructor(e,t){super(new CL(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return AL(this.scrollController.el)}}class _B extends W2{constructor(e){super(new NL,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const sS=typeof performance=="function"?performance.now:Date.now;class wB{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=sS();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let r=e-window.scrollX,a=t-window.scrollY,l=this.pointerScreenY===null?0:a-this.pointerScreenY,c=this.pointerScreenX===null?0:r-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),c<0?this.everMovedLeft=!0:c>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(sS()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:r}=e,{edgeThreshold:a}=this,l=a-e.distance,c=l*l/(a*a)*this.maxVelocity*t,h=1;switch(e.name){case"left":h=-1;case"right":r.setScrollLeft(r.getScrollLeft()+c*h);break;case"top":h=-1;case"bottom":r.setScrollTop(r.getScrollTop()+c*h);break}}computeBestEdge(e,t){let{edgeThreshold:r}=this,a=null,l=this.scrollCaches||[];for(let c of l){let h=c.clientRect,f=e-h.left,g=h.right-e,b=t-h.top,v=h.bottom-t;f>=0&&g>=0&&b>=0&&v>=0&&(b<=r&&this.everMovedUp&&c.canScrollUp()&&(!a||a.distance>b)&&(a={scrollCache:c,name:"top",distance:b}),v<=r&&this.everMovedDown&&c.canScrollDown()&&(!a||a.distance>v)&&(a={scrollCache:c,name:"bottom",distance:v}),f<=r&&this.everMovedLeft&&c.canScrollLeft()&&(!a||a.distance>f)&&(a={scrollCache:c,name:"left",distance:f}),g<=r&&this.everMovedRight&&c.canScrollRight()&&(!a||a.distance>g)&&(a={scrollCache:c,name:"right",distance:g}))}return a}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new _B(!1):new X2(t,!1))}queryScrollEls(e){let t=[];for(let r of this.scrollQuery)typeof r=="object"?t.push(r):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return t}}class nd extends DL{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,aV(document.body),oV(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let l=this.minDistance,c,{deltaX:h,deltaY:f}=a;c=h*h+f*f,c>=l*l&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,lV(document.body),cV(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new Q2(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),t&&(r.selector=t),this.mirror=new xB,this.autoScroller=new wB}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class EB{constructor(e){this.el=e,this.origRect=Hy(e),this.scrollCaches=b2(e).map(t=>new X2(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let r={left:e,top:t};for(let a of this.scrollCaches)if(!SB(a.getEventTarget())&&!gL(r,a.clientRect))return!1;return!0}}function SB(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class zm{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):a.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Rm}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},r=t,a=e.subjectEl,l;a instanceof HTMLElement&&(l=Hy(a),r=pL(r,l));let c=this.initialHit=this.queryHitForOffset(r.left,r.top);if(c){if(this.useSubjectCenter&&l){let h=m2(l,c.rect);h&&(r=bL(h))}this.coordAdjust=yL(r,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!jm(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=hl(this.droppableStore,e=>(e.component.prepareHits(),new EB(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:r,offsetTrackers:a}=this,l=null;for(let c in r){let h=r[c].component,f=a[c];if(f&&f.isWithinClipping(e,t)){let g=f.computeLeft(),b=f.computeTop(),v=e-g,x=t-b,{origRect:E}=f,A=E.right-E.left,R=E.bottom-E.top;if(v>=0&&v<A&&x>=0&&x<R){let N=h.queryHit(v,x,A,R);N&&Cm(N.dateProfile.activeRange,N.dateSpan.range)&&(this.disablePointCheck||f.el.contains(f.el.getRootNode().elementFromPoint(v+g-window.scrollX,x+b-window.scrollY)))&&(!l||N.layer>l.layer)&&(N.componentId=c,N.context=h.context,N.rect.left+=g,N.rect.right+=g,N.rect.top+=b,N.rect.bottom+=b,l=N)}}}return l}}function jm(n,e){return!n&&!e?!0:!!n!=!!e?!1:iL(n.dateSpan,e.dateSpan)}function K2(n,e){let t={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(t,r(n,e));return Object.assign(t,kB(n,e.dateEnv)),t}function kB(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class AB extends qo{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:a}=this,l=r.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(l))},this.handleDragEnd=r=>{let{component:a}=this,{pointer:l}=this.dragging;if(!l.wasTouchScroll){let{initialHit:c,finalHit:h}=this.hitDragging;if(c&&h&&jm(c,h)){let{context:f}=a,g=Object.assign(Object.assign({},K2(c.dateSpan,f)),{dayEl:c.dayEl,jsEvent:r.origEvent,view:f.viewApi||f.calendarApi.view});f.emitter.trigger("dateClick",g)}}},this.dragging=new nd(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new zm(this.dragging,Uy(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class TB extends qo{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=c=>{let{component:h,dragging:f}=this,{options:g}=h.context,b=g.selectable&&h.isValidDateDownEl(c.origEvent.target);f.setIgnoreMove(!b),f.delay=c.isTouch?CB(h):null},this.handleDragStart=c=>{this.component.context.calendarApi.unselect(c)},this.handleHitUpdate=(c,h)=>{let{context:f}=this.component,g=null,b=!1;if(c){let v=this.hitDragging.initialHit;c.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,c)||(g=NB(v,c,f.pluginHooks.dateSelectionTransformers)),(!g||!BL(g,c.dateProfile,f))&&(b=!0,g=null)}g?f.dispatch({type:"SELECT_DATES",selection:g}):h||f.dispatch({type:"UNSELECT_DATES"}),b?ky():Ay(),h||(this.dragSelection=g)},this.handlePointerUp=c=>{this.dragSelection&&(a2(this.dragSelection,c,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:r}=t.context,a=this.dragging=new nd(e.el);a.touchScrollAllowed=!1,a.minDistance=r.selectMinDistance||0,a.autoScroller.isEnabled=r.dragScroll;let l=this.hitDragging=new zm(this.dragging,Uy(e));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function CB(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function NB(n,e,t){let r=n.dateSpan,a=e.dateSpan,l=[r.range.start,r.range.end,a.range.start,a.range.end];l.sort(mV);let c={};for(let h of t){let f=h(n,e);if(f===!1)return null;f&&Object.assign(c,f)}return c.range={start:l[0],end:l[3]},c.allDay=r.allDay,c}class rd extends qo{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let h=c.origEvent.target,{component:f,dragging:g}=this,{mirror:b}=g,{options:v}=f.context,x=f.context;this.subjectEl=c.subjectEl;let E=this.subjectSeg=zo(c.subjectEl),R=(this.eventRange=E.eventRange).instance.instanceId;this.relevantEvents=Oy(x.getCurrentData().eventStore,R),g.minDistance=c.isTouch?0:v.eventDragMinDistance,g.delay=c.isTouch&&R!==f.props.eventSelection?DB(f):null,v.fixedMirrorParent?b.parentNode=v.fixedMirrorParent:b.parentNode=En(h,".fc"),b.revertDuration=v.dragRevertDuration;let N=f.isValidSegDownEl(h)&&!En(h,".fc-event-resizer");g.setIgnoreMove(!N),this.isDragging=N&&c.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=c=>{let h=this.component.context,f=this.eventRange,g=f.instance.instanceId;c.isTouch?g!==this.component.props.eventSelection&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:g}):h.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(h.calendarApi.unselect(c),h.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Et(h,f.def,f.instance),jsEvent:c.origEvent,view:h.viewApi}))},this.handleHitUpdate=(c,h)=>{if(!this.isDragging)return;let f=this.relevantEvents,g=this.hitDragging.initialHit,b=this.component.context,v=null,x=null,E=null,A=!1,R={affectedEvents:f,mutatedEvents:Ur(),isEvent:!0};if(c){v=c.context;let N=v.options;b===v||N.editable&&N.droppable?(x=RB(g,c,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),x&&(E=Ly(f,v.getCurrentData().eventUiBases,x,v),R.mutatedEvents=E,_2(R,c.dateProfile,v)||(A=!0,x=null,E=null,R.mutatedEvents=Ur()))):v=null}this.displayDrag(v,R),A?ky():Ay(),h||(b===v&&jm(g,c)&&(x=null),this.dragging.setMirrorNeedsRevert(!x),this.dragging.setMirrorIsVisible(!c||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=x,this.mutatedRelevantEvents=E)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=c=>{if(this.isDragging){let h=this.component.context,f=h.viewApi,{receivingContext:g,validMutation:b}=this,v=this.eventRange.def,x=this.eventRange.instance,E=new Et(h,v,x),A=this.relevantEvents,R=this.mutatedRelevantEvents,{finalHit:N}=this.hitDragging;if(this.clearDrag(),h.emitter.trigger("eventDragStop",{el:this.subjectEl,event:E,jsEvent:c.origEvent,view:f}),b){if(g===h){let z=new Et(h,R.defs[v.defId],x?R.instances[x.instanceId]:null);h.dispatch({type:"MERGE_EVENTS",eventStore:R});let P={oldEvent:E,event:z,relatedEvents:el(R,h,x),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:A})}},q={};for(let L of h.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(q,L(b,h));h.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},P),q),{el:c.subjectEl,delta:b.datesDelta,jsEvent:c.origEvent,view:f})),h.emitter.trigger("eventChange",P)}else if(g){let z={event:E,relatedEvents:el(A,h,x),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:A})}};h.emitter.trigger("eventLeave",Object.assign(Object.assign({},z),{draggedEl:c.subjectEl,view:f})),h.dispatch({type:"REMOVE_EVENTS",eventStore:A}),h.emitter.trigger("eventRemove",z);let P=R.defs[v.defId],q=R.instances[x.instanceId],L=new Et(g,P,q);g.dispatch({type:"MERGE_EVENTS",eventStore:R});let X={event:L,relatedEvents:el(R,g,q),revert(){g.dispatch({type:"REMOVE_EVENTS",eventStore:R})}};g.emitter.trigger("eventAdd",X),c.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:x.instanceId}),g.emitter.trigger("drop",Object.assign(Object.assign({},K2(N.dateSpan,g)),{draggedEl:c.subjectEl,jsEvent:c.origEvent,view:N.context.viewApi})),g.emitter.trigger("eventReceive",Object.assign(Object.assign({},X),{draggedEl:c.subjectEl,view:N.context.viewApi}))}}else h.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:r}=t.context,a=this.dragging=new nd(e.el);a.pointer.selector=rd.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=r.dragScroll;let l=this.hitDragging=new zm(this.dragging,ib);l.useSubjectCenter=e.useEventCenter,l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let r=this.component.context,a=this.receivingContext;a&&a!==e&&(a===r?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Ur(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}rd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function RB(n,e,t,r){let a=n.dateSpan,l=e.dateSpan,c=a.range.start,h=l.range.start,f={};a.allDay!==l.allDay&&(f.allDay=l.allDay,f.hasEnd=e.context.options.allDayMaintainDuration,l.allDay?c=wt(t):c=t);let g=mo(c,h,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);g.milliseconds&&(f.allDay=!1);let b={datesDelta:g,standardProps:f};for(let v of r)v(b,n,e);return b}function DB(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class zB extends qo{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let{component:c}=this,h=this.querySegEl(l),f=zo(h),g=this.eventRange=f.eventRange;this.dragging.minDistance=c.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&this.component.props.eventSelection!==g.instance.instanceId)},this.handleDragStart=l=>{let{context:c}=this.component,h=this.eventRange;this.relevantEvents=Oy(c.getCurrentData().eventStore,this.eventRange.instance.instanceId);let f=this.querySegEl(l);this.draggingSegEl=f,this.draggingSeg=zo(f),c.calendarApi.unselect(),c.emitter.trigger("eventResizeStart",{el:f,event:new Et(c,h.def,h.instance),jsEvent:l.origEvent,view:c.viewApi})},this.handleHitUpdate=(l,c,h)=>{let{context:f}=this.component,g=this.relevantEvents,b=this.hitDragging.initialHit,v=this.eventRange.instance,x=null,E=null,A=!1,R={affectedEvents:g,mutatedEvents:Ur(),isEvent:!0};l&&(l.componentId===b.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(b,l)||(x=jB(b,l,h.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),x&&(E=Ly(g,f.getCurrentData().eventUiBases,x,f),R.mutatedEvents=E,_2(R,l.dateProfile,f)||(A=!0,x=null,E=null,R.mutatedEvents=null)),E?f.dispatch({type:"SET_EVENT_RESIZE",state:R}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),A?ky():Ay(),c||(x&&jm(b,l)&&(x=null),this.validMutation=x,this.mutatedRelevantEvents=E)},this.handleDragEnd=l=>{let{context:c}=this.component,h=this.eventRange.def,f=this.eventRange.instance,g=new Et(c,h,f),b=this.relevantEvents,v=this.mutatedRelevantEvents;if(c.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:g,jsEvent:l.origEvent,view:c.viewApi}),this.validMutation){let x=new Et(c,v.defs[h.defId],f?v.instances[f.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:v});let E={oldEvent:g,event:x,relatedEvents:el(v,c,f),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:b})}};c.emitter.trigger("eventResize",Object.assign(Object.assign({},E),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||tt(0),endDelta:this.validMutation.endDelta||tt(0),jsEvent:l.origEvent,view:c.viewApi})),c.emitter.trigger("eventChange",E)}else c.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,r=this.dragging=new nd(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=t.context.options.dragScroll;let a=this.hitDragging=new zm(this.dragging,Uy(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return En(e.subjectEl,".fc-event")}}function jB(n,e,t,r){let a=n.context.dateEnv,l=n.dateSpan.range.start,c=e.dateSpan.range.start,h=mo(l,c,a,n.largeUnit);if(t){if(a.add(r.start,h)<r.end)return{startDelta:h}}else if(a.add(r.end,h)>r.start)return{endDelta:h};return null}class MB{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let a=this.context.options.unselectCancel,l=LT(r.origEvent);this.matchesCancel=!!En(l,a),this.matchesEvent=!!En(l,rd.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:a}=this,{documentPointer:l}=this,c=a.getCurrentData();if(!l.wasTouchScroll){if(c.dateSelection&&!this.isRecentPointerDateSelect){let h=a.options.unselectAuto;h&&(!h||!this.matchesCancel)&&a.calendarApi.unselect(r)}c.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Q2(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const IB={fixedMirrorParent:ee},OB={dateClick:ee,eventDragStart:ee,eventDragStop:ee,eventDrop:ee,eventResizeStart:ee,eventResizeStop:ee,eventResize:ee,drop:ee,eventReceive:ee,eventLeave:ee};qy.dataAttrPrefix="";var VB=da({name:"@fullcalendar/interaction",componentInteractions:[AB,TB,rd,zB],calendarInteractions:[MB],elementDraggingImpl:nd,optionRefiners:IB,listenerRefiners:OB});const PB=n=>{const e=n.hasStartStat,t=n.hasEndStat;let r={text:"Scheduled",value:"scheduled",icon:pn,colors:{bg:"bg-zinc-100 dark:bg-zinc-800",text:"text-zinc-500 dark:text-zinc-400",border:"border-zinc-200 dark:border-zinc-800",accent:"bg-zinc-400",gradient:"from-blue-500 to-indigo-600",softBg:"bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400"},pulse:!1};return t?r={text:"Completed",value:"completed",icon:ar,colors:{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800/50",accent:"bg-emerald-500",gradient:"from-emerald-500 to-teal-600",softBg:"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"},pulse:!1}:e&&(r={text:"Live",value:"live",icon:Sb,colors:{bg:"bg-orange-50 dark:bg-orange-900/20",text:"text-orange-600 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800/50",accent:"bg-orange-500",gradient:"from-orange-500 to-red-500",softBg:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"},pulse:!0}),r},LB=n=>n?new Date(n).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"-";function UB({isOpen:n,onClose:e,matchData:t}){const[r,a]=I.useState({start:null,end:null,loading:!1});if(I.useEffect(()=>{n&&(async()=>{if(!(!t?.id||!n)){a(v=>({...v,loading:!0}));try{const v=_t(Me,"schedules",t.id,"statistics","start_stat"),x=_t(Me,"schedules",t.id,"statistics","end_stat"),[E,A]=await Promise.all([Rf(v),Rf(x)]);a({start:E.exists()?E.data():null,end:A.exists()?A.data():null,loading:!1})}catch(v){console.error("Error fetching stats:",v),a(x=>({...x,loading:!1}))}}})()},[t?.id,n]),!n||!t)return null;const l=PB(t),c=l.icon,h=b=>{navigator.clipboard.writeText(b)},f=b=>b?.val?`${b.val} ${b.unit||"GB"}`:"-",g=b=>{if(!b?.val)return b||"-";const v=parseFloat(b.val),x=b.unit||"k";let E;switch(x.toLowerCase()){case"m":E=v*1e6;break;case"k":E=v*1e3;break;case"b":E=v*1e9;break;default:E=v}return E.toLocaleString("en-US",{maximumFractionDigits:0})};return r.start,r.end,u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",onClick:e,children:u.jsxs("div",{className:"relative bg-white dark:bg-[#0a0a0a] w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 ring-1 ring-white/10",onClick:b=>b.stopPropagation(),children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-64 overflow-hidden -z-10",children:u.jsx("div",{className:`absolute -top-[50%] -left-[20%] w-[140%] h-[140%] bg-gradient-to-br ${l.colors.gradient} opacity-20 blur-3xl`})}),u.jsxs("div",{className:"relative p-8 pb-0",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-black uppercase tracking-wide shadow-sm ${l.colors.softBg}`,children:[u.jsx(c,{size:12,className:l.pulse?"animate-pulse":""}),l.text]}),u.jsx("button",{onClick:e,className:"p-2 -mr-2 -mt-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors text-zinc-500 dark:text-zinc-400",children:u.jsx(kn,{size:20})})]}),u.jsx("div",{className:"mb-6",children:u.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-zinc-900 dark:text-white leading-tight",children:t.teamA&&t.teamB?u.jsxs("span",{className:"flex flex-col gap-1",children:[u.jsx("span",{children:t.teamA}),u.jsx("span",{className:"text-xl text-zinc-400 font-bold",children:"vs"}),u.jsx("span",{children:t.teamB})]}):t.title||t.match||"Match Details"})}),t.league&&u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-zinc-100 dark:bg-white/5 rounded-lg text-zinc-600 dark:text-zinc-300",children:[u.jsx(ff,{size:14,className:"text-zinc-400"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:t.league})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{onClick:()=>h(t.id),className:"group relative overflow-hidden bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 p-4 transition-all hover:shadow-md cursor-pointer",title:"Click to copy ID",children:[u.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(_u,{size:14,className:"text-zinc-400"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white dark:bg-zinc-800 rounded-xl shadow-sm text-zinc-400 group-hover:text-zinc-900 dark:group-hover:text-white transition-colors",children:u.jsx(wb,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-wider block mb-0.5",children:"Match Reference ID"}),u.jsx("span",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300 tracking-wide group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:t.id})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-100 dark:border-zinc-800/50 flex flex-col items-center text-center gap-2",children:[u.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-full text-blue-500 mb-1",children:u.jsx(sr,{size:16})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block",children:"Date"}),u.jsx("span",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300",children:LB(t.startDate)})]})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-100 dark:border-zinc-800/50 flex flex-col items-center text-center gap-2 relative overflow-hidden",children:[l.value==="live"&&u.jsxs("span",{className:"absolute top-2 right-2 flex h-2 w-2",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),u.jsx("div",{className:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-full text-orange-500 mb-1",children:u.jsx(pn,{size:16})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block",children:"Kick Off"}),u.jsx("span",{className:"text-xl font-black text-zinc-900 dark:text-white",children:t.startTime||"-"})]})]})]}),t.channel&&u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-xl shadow-indigo-500/20",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:u.jsx(mf,{size:64})}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 opacity-80",children:[u.jsx(mf,{size:14}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Broadcast Channel"})]}),u.jsx("div",{className:"text-2xl font-black tracking-tight leading-none break-words",children:t.channel})]})]})]}),u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-2xl overflow-hidden shadow-sm",children:[u.jsxs("div",{className:"p-4 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tr,{size:16,className:"text-zinc-400"}),u.jsx("h4",{className:"text-xs font-black text-zinc-600 dark:text-zinc-300 uppercase tracking-widest",children:"Performance Report"})]}),(l.value==="live"||l.value==="completed")&&u.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${l.value==="live"?"bg-red-100 text-red-600 animate-pulse":"bg-green-100 text-green-600"}`,children:l.text})]}),u.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar bg-zinc-50/30 dark:bg-black/20",children:l.value==="live"||l.value==="completed"?u.jsx(u.Fragment,{children:r.loading?u.jsxs("div",{className:"flex flex-col items-center justify-center h-48 space-y-4",children:[u.jsx(Zs,{className:"w-8 h-8 text-zinc-300 animate-spin"}),u.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest animate-pulse",children:"Fetching Data..."})]}):u.jsxs("div",{className:"space-y-4",children:[r.start&&u.jsx(aS,{title:"Start Phase",range:r.start.rangeStart,data:r.start,color:"indigo",formatBw:f,formatReq:g}),r.end&&u.jsx(aS,{title:"End Phase",range:r.end.rangeEnd,data:r.end,color:"emerald",formatBw:f,formatReq:g}),!r.start&&!r.end&&u.jsxs("div",{className:"text-center py-12 flex flex-col items-center opacity-50",children:[u.jsx(tr,{size:32,className:"text-zinc-300 mb-2"}),u.jsx("p",{className:"text-xs text-zinc-400 font-bold uppercase tracking-wide",children:"No statistics recorded"})]})]})}):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center opacity-50",children:[u.jsx("div",{className:"p-4 bg-zinc-100 dark:bg-zinc-800/50 rounded-full text-zinc-300 dark:text-zinc-600 mb-3",children:u.jsx(tr,{size:32})}),u.jsx("h4",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Awaiting Data"})]})})]})]})}),u.jsx("div",{className:"px-8 pb-8 pt-2",children:u.jsx("button",{onClick:e,className:"w-full py-4 bg-zinc-900 dark:bg-white hover:bg-zinc-800 dark:hover:bg-zinc-200 rounded-2xl text-white dark:text-black text-sm font-black uppercase tracking-widest transition-all shadow-lg hover:shadow-xl active:scale-[0.98]",children:"Close Details"})})]})})}function aS({title:n,range:e,data:t,color:r,formatBw:a,formatReq:l}){const c=t.cdnDetails&&t.cdnDetails.length>0,h={indigo:{text:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/20",border:"border-indigo-100 dark:border-indigo-800/50",gradient:"from-indigo-50 to-white dark:from-indigo-900/10 dark:to-transparent"},emerald:{text:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-100 dark:border-emerald-800/50",gradient:"from-emerald-50 to-white dark:from-emerald-900/10 dark:to-transparent"}}[r]||h.indigo;return u.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:`px-4 py-2 bg-gradient-to-r ${h.gradient} border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-[10px] font-black ${h.text} uppercase tracking-widest`,children:n}),c&&u.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-zinc-100 dark:bg-zinc-800 text-zinc-500 rounded uppercase",children:"Multi-CDN"})]}),u.jsx("span",{className:"text-[10px] font-mono text-zinc-400 bg-white dark:bg-zinc-800 px-1.5 rounded",children:e||"-"})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-2 mb-4",children:[u.jsx(tu,{label:"Total Bandwidth",value:a(t.bandwidth),highlight:!0,color:h.text}),u.jsx(tu,{label:"Total Requests",value:l(t.reqTotal)}),!c&&u.jsxs(u.Fragment,{children:[u.jsx(tu,{label:"Peak Bandwidth",value:a(t.bwPeakGbps)}),u.jsx(tu,{label:"Peak Requests",value:t.reqPeakMin||t.requestPeak||"-"}),u.jsx(tu,{label:"CDN Provider",value:t.cdn||"Single",colSpan:2})]})]}),c&&u.jsxs("div",{className:"space-y-3 pt-3 border-t border-zinc-100 dark:border-zinc-800/50",children:[u.jsxs("h5",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[u.jsx(tm,{size:10})," Provider Breakdown"]}),u.jsx("div",{className:"grid gap-2",children:t.cdnDetails.map((f,g)=>u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-100 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-1.5 bg-white dark:bg-zinc-800 rounded-md shadow-sm",children:u.jsx(Eu,{size:12,className:"text-zinc-400"})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-bold text-zinc-700 dark:text-zinc-300 block leading-none",children:f.provider}),u.jsx("span",{className:"text-[9px] text-zinc-400 font-mono",children:f.key||"-"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] font-bold text-zinc-900 dark:text-white leading-none mb-0.5",children:a(f.bandwidth)}),u.jsx("div",{className:"text-[9px] font-medium text-zinc-400",children:l(f.reqTotal)})]})]},g))})]})]})]})}function tu({label:n,value:e,highlight:t,color:r,colSpan:a}){return u.jsxs("div",{className:`flex flex-col ${a?`col-span-${a}`:""}`,children:[u.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider mb-1",children:n}),u.jsx("span",{className:`font-mono font-bold truncate ${t?`text-lg ${r||"text-zinc-900 dark:text-white"}`:"text-sm text-zinc-700 dark:text-zinc-300"}`,children:e||"-"})]})}const lS="https://script.google.com/macros/s/AKfycbx5ngxY4YuUCQsyGjjudXuuTX5bWU-yZIT-osINDoKQJpO3Jjgs8Yp6hV0GoGUdL0ni/exec";function BB({isOpen:n,onClose:e,onSyncComplete:t}){const[r,a]=I.useState("daily"),[l,c]=I.useState(new Date().toISOString().split("T")[0]),[h,f]=I.useState(new Date().toISOString().slice(0,7)),[g,b]=I.useState(!1),[v,x]=I.useState([]),[E,A]=I.useState(null),[R,N]=I.useState(!1),[z,P]=I.useState(null),q=async()=>{b(!0),A(null),x([]);const X=r==="daily"?l:h;try{console.log(`fetching mode: ${r}, param: ${X}`);const F=await fetch(`${lS}?date=${X}`);if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const C=await F.json();if(Array.isArray(C)&&C.length>0&&C[0].error){A(C[0].error);return}const k=Array.isArray(C)?C:C.data||[];if(k.length===0){A("No matches found for the selected period.");return}const U=k.map(M=>{const H=M.match||M.title||M.Match||M.Title||"";let V=H,Se="";if(H.includes(" vs ")){const De=H.split(" vs ");V=De[0].trim(),Se=De[1]?De[1].trim():""}return{id:M.id,time:M.time||M.startTime||M.Time||"",league:M.league||M.calendar||M.League||"",match:H,teamA:V,teamB:Se,channel:M.channel||M.Channel||"",startDate:M.startDate||(r==="daily"?l:""),status:"Scheduled"}}).filter((M,H,V)=>H===V.findIndex(Se=>Se.startDate===M.startDate&&Se.time===M.time&&Se.match===M.match));U.sort((M,H)=>new Date(`${M.startDate}T${M.time}`)-new Date(`${H.startDate}T${H.time}`)),x(U)}catch(F){console.error("Fetch Error:",F),A(`Failed to fetch: ${F.message}`)}finally{b(!1)}},L=async()=>{if(v.length!==0){N(!0),A(null),P(null);try{const X=Df(Me),F=v.length;v.forEach(C=>{const k=C.id,j=_t(Me,"schedules",k);X.set(j,{...C,title:C.match,startTime:C.time,teamA:C.teamA,teamB:C.teamB,updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1},{merge:!0})}),await X.commit(),P(`Successfully imported ${F} matches!`),x([]),setTimeout(()=>{P(null),t&&t(),e()},1500)}catch(X){console.error("Save error:",X),A("Failed to save to database: "+X.message)}finally{N(!1)}}};return n?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-white dark:bg-[#121212] w-full max-w-2xl rounded-[2rem] border border-zinc-200 dark:border-zinc-800 shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",children:[u.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-indigo-600 sticky top-0 z-10",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4 text-white",children:[u.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl shadow-inner",children:u.jsx(A0,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight leading-none",children:"Sync Matches"}),u.jsx("p",{className:"text-[10px] font-bold opacity-80 uppercase tracking-widest mt-1",children:"Import from Google Sheets"})]})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors text-white",children:u.jsx(kn,{size:20})})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[u.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900/50 p-1.5 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[u.jsxs("button",{onClick:()=>{a("daily"),x([])},className:`flex-1 py-3 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 transition-all ${r==="daily"?"bg-white dark:bg-black shadow-md text-blue-600 dark:text-blue-400":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[u.jsx(Vz,{size:16})," Daily Sync"]}),u.jsxs("button",{onClick:()=>{a("monthly"),x([])},className:`flex-1 py-3 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 transition-all ${r==="monthly"?"bg-white dark:bg-black shadow-md text-indigo-600 dark:text-indigo-400":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[u.jsx(RD,{size:16})," Monthly Sync"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[u.jsxs("div",{className:"flex-1 w-full space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest pl-1",children:r==="daily"?"Select Date":"Select Month"}),u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-zinc-400 group-focus-within:text-blue-500 transition-colors",children:u.jsx(sr,{size:18})}),r==="daily"?u.jsx("input",{type:"date",value:l,onChange:X=>c(X.target.value),className:"w-full bg-zinc-50 dark:bg-[#1a1a1a] border border-zinc-200 dark:border-zinc-800 rounded-xl py-3.5 pl-12 pr-4 font-bold text-zinc-900 dark:text-zinc-100 outline-none focus:ring-2 focus:ring-blue-500/20 transition-all text-sm uppercase cursor-pointer"}):u.jsx("input",{type:"month",value:h,onChange:X=>f(X.target.value),className:"w-full bg-zinc-50 dark:bg-[#1a1a1a] border border-zinc-200 dark:border-zinc-800 rounded-xl py-3.5 pl-12 pr-4 font-bold text-zinc-900 dark:text-zinc-100 outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all text-sm uppercase cursor-pointer"})]})]}),u.jsxs("button",{onClick:q,disabled:g,className:"w-full sm:w-auto h-[50px] px-8 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-xl font-black uppercase tracking-widest text-xs hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg hover:shadow-xl active:scale-95",children:[g?u.jsx(Zs,{size:16,className:"animate-spin"}):u.jsx(LS,{size:16}),g?"Fetching...":"Fetch"]})]}),E&&u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 text-red-600 dark:text-red-400 rounded-xl flex items-center gap-3 text-xs font-bold animate-in slide-in-from-top-2",children:[u.jsx(wr,{size:18,className:"shrink-0"}),E]}),z&&u.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-xl flex items-center gap-3 text-xs font-bold animate-in slide-in-from-top-2",children:[u.jsx(ar,{size:18,className:"shrink-0"}),z]}),u.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-2xl overflow-hidden bg-zinc-50 dark:bg-[#050505] min-h-[250px] shadow-sm relative",children:v.length===0?u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-zinc-300 dark:text-zinc-700",children:[u.jsx(A0,{size:48,className:"mb-4 opacity-20"}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:"No Data Fetched Yet"})]}):u.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-zinc-100 dark:bg-[#151515] text-[10px] font-black uppercase tracking-widest text-zinc-500 sticky top-0 z-10 shadow-sm",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 w-24",children:"Date"}),u.jsx("th",{className:"p-4 w-20",children:"Time"}),u.jsx("th",{className:"p-4",children:"Match"}),u.jsx("th",{className:"p-4 w-32",children:"Channel"})]})}),u.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800 text-xs font-medium text-zinc-700 dark:text-zinc-300",children:v.map((X,F)=>u.jsxs("tr",{className:"hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-colors group",children:[u.jsxs("td",{className:"p-4 text-zinc-500 whitespace-nowrap font-mono",children:[new Date(X.startDate).getDate(),"/",new Date(X.startDate).getMonth()+1]}),u.jsx("td",{className:"p-4 font-mono font-bold",children:X.time}),u.jsx("td",{className:"p-4 font-bold text-zinc-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:X.match}),u.jsx("td",{className:"p-4 text-blue-500 font-bold uppercase text-[10px]",children:X.channel})]},F))})]})})})]}),u.jsxs("div",{className:"p-6 border-t border-zinc-200 dark:border-zinc-800 flex justify-end gap-3 bg-white dark:bg-[#121212] z-10",children:[u.jsx("button",{onClick:e,className:"px-6 py-3.5 rounded-xl font-black uppercase tracking-widest text-xs text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all",children:"Cancel"}),u.jsxs("button",{onClick:L,disabled:v.length===0||R,className:`px-8 py-3.5 rounded-xl font-black uppercase tracking-widest text-xs flex items-center gap-2 shadow-lg transition-all transform active:scale-95 ${v.length>0?"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-blue-500/25":"bg-zinc-200 dark:bg-zinc-800 text-zinc-400 cursor-not-allowed"}`,children:[R?u.jsx(Zs,{size:16,className:"animate-spin"}):u.jsx(em,{size:16}),R?"Importing...":`Import ${v.length} Matches`]})]})]})}):null}function HB(){const n=Mo(),{matches:e,groupedData:t,loading:r}=mT(),[a,l]=I.useState("calendar"),[c,h]=I.useState(null),[f,g]=I.useState(!1),[b,v]=I.useState(!1),[x,E]=I.useState(""),[A,R]=I.useState({}),N=e.some(L=>L.startDate===new Date().toISOString().split("T")[0]),z=I.useMemo(()=>e.map(L=>({id:L.id,title:L.teamA&&L.teamB?`${L.startTime} ${L.teamA} vs ${L.teamB}`:`${L.startTime} ${L.title||"Match"}`,start:L.startDate,extendedProps:{...L,isCompleted:L.hasStartStat&&L.hasEndStat}})),[e]),P=L=>{const{startTime:X,teamA:F,teamB:C,title:k,isCompleted:j}=L.event.extendedProps,U=F&&C?`${F} vs ${C}`:k;return u.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded w-full border-l-2 transition-all hover:bg-zinc-100 dark:hover:bg-zinc-900 overflow-hidden ${j?"border-emerald-500":"border-blue-500"}`,children:[u.jsx("span",{className:"text-[9px] font-black font-mono text-zinc-500 whitespace-nowrap",children:X}),u.jsx("span",{className:"text-[9px] font-bold truncate uppercase text-zinc-700 dark:text-zinc-300",children:U})]})},q=(t||[]).filter(([,L])=>x?L.some(X=>((X.teamA||"")+(X.teamB||"")+(X.match||"")+(X.title||"")+(X.id||"")).toLowerCase().includes(x.toLowerCase())):!0);return u.jsxs("div",{className:"h-full p-4 md:p-6 bg-zinc-50 dark:bg-black overflow-y-auto custom-scrollbar animate-in fade-in",children:[u.jsx(UB,{isOpen:f,onClose:()=>g(!1),matchData:c}),u.jsx(BB,{isOpen:b,onClose:()=>v(!1),onSyncComplete:()=>v(!1)}),u.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20",children:[u.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-white dark:bg-[#0a0a0a] border border-zinc-200 dark:border-zinc-800 shadow-xl shadow-zinc-200/50 dark:shadow-none mb-8 group",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/10 to-orange-600/10 dark:from-amber-500/20 dark:to-orange-600/20 opacity-50 group-hover:opacity-100 transition-opacity duration-500"}),u.jsxs("div",{className:"relative p-6 md:p-10 flex flex-col xl:flex-row justify-between items-start xl:items-end gap-8",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl shadow-lg shadow-orange-500/30 text-white transform group-hover:scale-105 transition-transform duration-500 shrink-0",children:u.jsx(uz,{size:40})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl md:text-5xl font-black italic uppercase tracking-tighter dark:text-white leading-none",children:"Archive"}),u.jsx("p",{className:"text-xs md:text-sm font-bold text-zinc-400 uppercase tracking-[0.2em] mt-2",children:"Historical Data Center"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 w-full xl:w-auto",children:[u.jsxs("button",{onClick:()=>v(!0),className:"flex-1 xl:flex-none h-12 px-6 bg-white dark:bg-black border-2 border-zinc-100 dark:border-zinc-800 hover:border-amber-500 dark:hover:border-amber-500 text-zinc-600 dark:text-zinc-300 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 shadow-sm whitespace-nowrap active:scale-95",children:[u.jsx(A0,{size:18})," Sync Data"]}),u.jsx("div",{className:"flex-1 xl:flex-none h-12 bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-xl flex border border-zinc-200 dark:border-zinc-800 overflow-hidden min-w-[200px]",children:["calendar","list"].map(L=>u.jsxs("button",{onClick:()=>l(L),className:`flex-1 px-4 rounded-lg text-xs font-black uppercase transition-all flex items-center justify-center gap-2 whitespace-nowrap ${a===L?"bg-white dark:bg-black text-black dark:text-white shadow-md":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[L==="calendar"?u.jsx(PS,{size:14}):u.jsx(Cz,{size:14}),u.jsx("span",{children:L})]},L))})]})]})]}),N&&u.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 p-4 rounded-2xl flex flex-col sm:flex-row items-center justify-between gap-4 shadow-sm animate-in fade-in slide-in-from-top-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"p-2.5 bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-500/20",children:u.jsx(tr,{size:20})}),u.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-blue-600 dark:text-blue-400",children:"Live Operation Active"}),u.jsx("p",{className:"text-[10px] text-zinc-500 font-bold uppercase tracking-wide mt-0.5",children:"Today's matches are occurring now"})]})]}),u.jsxs("button",{onClick:()=>n("/schedule/today"),className:"w-full sm:w-auto px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-black uppercase rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-95 group",children:["Go Live Desk ",u.jsx(vu,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})]}),r?u.jsx("div",{className:"text-center py-20 font-black text-zinc-300 animate-pulse uppercase tracking-widest",children:"Loading Archive..."}):a==="calendar"?u.jsx("div",{className:"bg-white dark:bg-[#111] p-6 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:u.jsx(P2,{plugins:[gB,VB],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:""},events:z,eventContent:P,eventClick:L=>{h(L.event.extendedProps),g(!0)},dayMaxEvents:3,height:"auto"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Su,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),u.jsx("input",{type:"text",placeholder:"Search team names...",value:x,onChange:L=>E(L.target.value),className:"w-full h-14 pl-12 rounded-2xl bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 font-bold text-sm outline-none focus:border-black dark:focus:border-white transition-colors"})]}),u.jsxs("div",{className:"flex gap-2 shrink-0",children:[u.jsxs("button",{onClick:()=>{const L={};q.forEach(([X])=>{L[X]=!0}),R(L)},className:"flex-1 md:flex-none px-4 py-3 bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors",children:[u.jsx(LD,{size:14})," Expand All"]}),u.jsxs("button",{onClick:()=>R({}),className:"flex-1 md:flex-none px-4 py-3 bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors",children:[u.jsx(zS,{size:14})," Collapse"]})]})]}),q.length===0?u.jsx("div",{className:"text-center py-20 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl",children:u.jsx("p",{className:"text-zinc-400 font-bold uppercase tracking-widest text-sm",children:"No matches found"})}):q.map(([L,X])=>u.jsxs("div",{className:"bg-white dark:bg-[#111] rounded-3xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[u.jsxs("button",{onClick:()=>R(F=>({...F,[L]:!F[L]})),className:"w-full p-6 flex justify-between items-center hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors group",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-zinc-500 group-hover:bg-zinc-200 dark:group-hover:bg-zinc-700 transition-colors",children:u.jsx(sr,{size:18})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-sm font-black uppercase dark:text-white",children:new Date(L).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}),u.jsxs("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest",children:[X.length," Matches"]})]})]}),u.jsx(xu,{size:16,className:`text-zinc-400 transition-transform duration-300 ${A[L]?"rotate-180":""}`})]}),A[L]&&u.jsxs("div",{className:"p-6 pt-0 space-y-3 border-t border-zinc-100 dark:border-zinc-800 animate-in slide-in-from-top-2 fade-in duration-200",children:[u.jsx("div",{className:"h-2"}),X.map(F=>u.jsx(gT,{match:F,onClick:()=>{h(F),g(!0)}},F.id))]})]},L))]})]})]})}const FB=({children:n})=>qn(t=>t.currentUser)?n:u.jsx(SS,{to:"/login",replace:!0});function qB(){const n=qn(e=>e.darkMode);return I.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),u.jsxs(NR,{children:[u.jsx(hi,{path:"/login",element:u.jsx(Nj,{})}),u.jsxs(hi,{path:"/",element:u.jsx(FB,{children:u.jsx(Cj,{})}),children:[u.jsx(hi,{index:!0,element:u.jsx(O3,{})}),u.jsx(hi,{path:"schedule/today",element:u.jsx(C9,{})}),u.jsx(hi,{path:"schedule/history",element:u.jsx(HB,{})}),u.jsx(hi,{path:"tickets",element:u.jsx(a6,{})}),u.jsx(hi,{path:"incidents",element:u.jsx(X3,{})}),u.jsx(hi,{path:"handover",element:u.jsx(t6,{})}),u.jsx(hi,{path:"*",element:u.jsx(SS,{to:"/",replace:!0})})]})]})}VN.createRoot(document.getElementById("root")).render(u.jsx(HashRouter,{children:u.jsx(qB,{})}));
