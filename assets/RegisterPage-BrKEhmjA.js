import{d as P,u as S,a as E,b as F,r as n,j as e,B as g,L as f,c as v}from"./index-C3czKcPY.js";import{I as d}from"./input-B37jphzs.js";import{A as R}from"./arrow-left-or5DTtCM.js";import{C as L}from"./chromium-CqRzpjHy.js";import{E as z}from"./eye-off-DoR4MZwK.js";import{E as w}from"./eye-DFi5-HYP.js";const I=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],j=P("user-plus",I);function U(){const o=S(),{toast:t}=E(),{setCurrentUser:u}=F(),[s,l]=n.useState({name:"",email:"",password:"",confirmPassword:""}),[i,h]=n.useState(!1),[r,b]=n.useState(!1),[m,k]=n.useState(!1),[x,N]=n.useState(!1),y=async a=>{if(a.preventDefault(),!s.name||!s.email||!s.password){t({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields"});return}const D=["test.com","test","example.com","example","admin.com","admin","demo.com","demo","temp.com","temporary.com","fake.com","sample.com","localhost","dummy.com","mailinator.com","guerrillamail.com","10minutemail.com","throwaway.email","tempmail.com","yopmail.com"],p=s.email.split("@")[1]?.toLowerCase();if(!p||D.includes(p)){t({variant:"destructive",title:"Invalid Email Domain",description:"Please use a valid professional email address. Test emails (e.g., @test, @admin, @example) are not allowed."});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){t({variant:"destructive",title:"Invalid Email Format",description:"Please enter a valid email address (e.g., name@company.com)"});return}if(s.password.length<6){t({variant:"destructive",title:"Weak Password",description:"Password must be at least 6 characters"});return}if(s.password!==s.confirmPassword){t({variant:"destructive",title:"Password Mismatch",description:"Passwords do not match"});return}try{h(!0);const c=await v.register({name:s.name,email:s.email,password:s.password,role:"Viewer"});u(c),t({title:"Registration Successful",description:`Welcome to NOC Operations, ${c.name}!`,className:"bg-emerald-600 text-white border-none"}),o("/")}catch(c){t({variant:"destructive",title:"Registration Failed",description:c.message})}finally{h(!1)}},C=async()=>{try{b(!0);const a=await v.loginWithGoogle();u({uid:a.uid,name:a.name,email:a.email,role:a.role}),t({title:"Registration Successful",description:`Welcome, ${a.name}!`,className:"bg-emerald-600 text-white border-none"}),o("/")}catch(a){a.message!=="Sign-in cancelled"&&t({variant:"destructive",title:"Registration Failed",description:a.message})}finally{b(!1)}};return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-[#f0f4f8] dark:bg-black p-4 font-sans",children:e.jsxs("div",{className:"w-full max-w-[480px] bg-white dark:bg-zinc-900 rounded-lg shadow-sm border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[e.jsxs("div",{className:"relative px-6 py-6 pb-4 bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800",children:[e.jsx("button",{onClick:()=>o("/login"),className:"absolute top-4 left-4 p-1.5 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded transition-colors",children:e.jsx(R,{size:18})}),e.jsxs("div",{className:"text-center pt-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded bg-[#deecf9] text-[#0078D4] mb-3",children:e.jsx(j,{size:24,strokeWidth:2.5})}),e.jsx("h1",{className:"text-xl font-semibold text-zinc-900 dark:text-white tracking-tight",children:"Join NOC Team"}),e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:"Create your account to access the dashboard"})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsx(g,{type:"button",onClick:C,disabled:r||i,variant:"outline",className:"w-full h-10 border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 font-medium rounded-md transition-all mb-5 text-zinc-700 dark:text-zinc-300",children:r?e.jsxs(e.Fragment,{children:[e.jsx(f,{size:16,className:"animate-spin mr-2"}),"Creating account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:18,className:"mr-2 text-zinc-600 dark:text-zinc-400"}),"Sign up with Google"]})}),e.jsxs("div",{className:"relative my-5",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-zinc-200 dark:border-zinc-800"})}),e.jsx("div",{className:"relative flex justify-center text-[10px] uppercase",children:e.jsx("span",{className:"bg-white dark:bg-zinc-900 px-2 text-zinc-400 font-semibold tracking-wider",children:"Or fill in details"})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-zinc-700 dark:text-zinc-300 mb-1.5",children:"Full Name *"}),e.jsx("div",{className:"relative",children:e.jsx(d,{autoComplete:"name",value:s.name,onChange:a=>l({...s,name:a.target.value}),placeholder:"John Doe",className:"w-full h-9 px-3 bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded-md focus:border-[#0078D4] focus:ring-1 focus:ring-[#0078D4] placeholder:text-zinc-400",disabled:i||r})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-zinc-700 dark:text-zinc-300 mb-1.5",children:"Email Address *"}),e.jsx("div",{className:"relative",children:e.jsx(d,{type:"email",autoComplete:"email",value:s.email,onChange:a=>l({...s,email:a.target.value}),placeholder:"name@company.com",className:"w-full h-9 px-3 bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded-md focus:border-[#0078D4] focus:ring-1 focus:ring-[#0078D4] placeholder:text-zinc-400",disabled:i||r})}),e.jsx("p",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 mt-1",children:"Use professional email. No test domains (@test, @admin)."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-zinc-700 dark:text-zinc-300 mb-1.5",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{type:m?"text":"password",autoComplete:"new-password",value:s.password,onChange:a=>l({...s,password:a.target.value}),placeholder:"Minimum 6 characters",className:"w-full h-9 px-3 bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded-md focus:border-[#0078D4] focus:ring-1 focus:ring-[#0078D4] placeholder:text-zinc-400",disabled:i||r}),e.jsx("button",{type:"button",onClick:()=>k(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300",disabled:i||r,children:m?e.jsx(z,{size:16}):e.jsx(w,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-zinc-700 dark:text-zinc-300 mb-1.5",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{type:x?"text":"password",autoComplete:"new-password",value:s.confirmPassword,onChange:a=>l({...s,confirmPassword:a.target.value}),placeholder:"Re-enter password",className:"w-full h-9 px-3 bg-white dark:bg-black border border-zinc-300 dark:border-zinc-700 rounded-md focus:border-[#0078D4] focus:ring-1 focus:ring-[#0078D4] placeholder:text-zinc-400",disabled:i||r}),e.jsx("button",{type:"button",onClick:()=>N(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300",disabled:i||r,children:x?e.jsx(z,{size:16}):e.jsx(w,{size:16})})]})]}),e.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-800 rounded-md p-3",children:e.jsxs("p",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 leading-tight",children:[e.jsx("strong",{className:"text-zinc-700 dark:text-zinc-300",children:"Note:"})," New accounts are created with Viewer role by default."]})}),e.jsx(g,{type:"submit",disabled:i||r,className:"w-full h-9 bg-[#0078D4] hover:bg-[#106EBE] text-white font-medium rounded-md shadow-sm transition-all active:scale-[0.98]",children:i?e.jsxs(e.Fragment,{children:[e.jsx(f,{size:16,className:"animate-spin mr-2"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{size:18,className:"mr-2"}),"Create Account"]})}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("p",{className:"text-xs text-zinc-500",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:()=>o("/login"),className:"font-semibold text-[#0078D4] hover:underline transition-colors",children:"Sign In"})]})})]})]})]})})}export{U as default};
