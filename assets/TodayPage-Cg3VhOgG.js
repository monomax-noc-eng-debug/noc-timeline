import{c as xe,r as a,l as sr,f as ar,j as e,F as ft,X as Ge,a as Et,b as L,p as In,T as $e,C as or,L as ir,q as ye,s as ht,t as lr,P as It,v as H,w as Q,x as cr,y as oe,D as dr,z as Rn,B as An,E as ge,d as ur,V as Dn,G as _n,S as On,e as Ln,h as qn,g as Vt}from"./index-B5gZUy_b.js";import{u as Fn,d as Ht,a as $n,i as Wt,F as Bn,R as Vn}from"./useMatches-D_kR6wu7.js";import{g as pr,b as he,d as de,u as gt,h as Hn,c as et,q as Ut,a as tt,w as Wn,o as Un,i as Gt,n as rt,s as Gn}from"./firebaseConfig-hLvP2kJq.js";import{t as Kn,f as Re}from"./format-B568ns5f.js";import{a as xr}from"./addMonths-C-BMKM1V.js";import{i as Qn}from"./isSameMonth-CRYCS6Ki.js";import{p as Kt}from"./parse-B7oZ5ZXB.js";import{G as Yn}from"./gauge-CToOocwx.js";import{C as Rt}from"./clock-hKLIUH9B.js";import{A as Zn}from"./arrow-right-BDuAE9MA.js";import{C as ke}from"./check-DRiuiuXZ.js";import{G as mr}from"./globe-e-JqAXjx.js";import{S as Xn,u as Jn,I as nt}from"./index-7r9gMqF-.js";import{T as Ke}from"./trash-2-BnvYA_d1.js";import{P as At}from"./plus-BnYRYgUJ.js";import{C as es}from"./copy-DUHLAVYi.js";import{f as fe,a as st,p as ts,c as rs,L as ns,D as ss}from"./DataPreviewPanel-D22jOrVE.js";import{C as bt}from"./circle-check-DyaCxfhJ.js";import{U as fr}from"./users-ByUllLbT.js";import{c as hr}from"./configService-Bpcp19QX.js";import{L as as}from"./layers-HGzSMS0U.js";import{S as vt}from"./save-DSxoUrLg.js";import{c as os,B as _e}from"./button-DqjdshVh.js";import{u as ie,h as gr,R as br,c as vr,d as wr,e as kr,f as is,A as ls,g as cs,i as ds,S as us,P as wt,a as kt,p as Qt,b as yt,C as yr,F as ps}from"./popover-D4UUBEPM.js";import{C as jr,B as xs,P as ms}from"./badge-f5N6yqSJ.js";import{C as Dt}from"./chevron-down-Dt1j9vQ8.js";import{S as Sr}from"./search-C_CHO80W.js";import{Z as fs}from"./zap-DOh-sc34.js";import{T as Nr}from"./tv-7iCudncH.js";import{C as hs}from"./chevron-left-ggRkBnJb.js";import{C as gs}from"./chevron-right-CErjX4nG.js";import{T as bs}from"./trophy-IU8a2D1v.js";import"./useBaseQuery-Bu4CR-PA.js";import"./cloud-download-B-eN11rg.js";import"./addYears-Ds2_z7Vb.js";import"./index-Bc0d1pA3.js";const vs=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],ws=xe("arrow-left-right",vs);const ks=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ys=xe("bell",ks);const js=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Yt=xe("chevrons-up-down",js);const Ss=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Ns=xe("eraser",Ss);const Cs=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],zs=xe("monitor-play",Cs);const Ts=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ps=xe("rotate-ccw",Ts);const Ms=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Cr=xe("server",Ms);const Es=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Is=xe("sword",Es);const Rs=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],zr=xe("wand-sparkles",Rs);const As=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Tr=xe("wifi",As),at={subscribeMatches:(t,n)=>{let r=Ut(et(de,"schedules"),tt("startDate","desc"),tt("startTime","asc"));return t&&(r=Ut(et(de,"schedules"),Wn("startDate","==",t),tt("startTime","asc"))),Un(r,o=>{const s=o.docs.map(i=>({id:i.id,...i.data()}));n(s)})},createMatch:async t=>{try{const n={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1};return await Hn(et(de,"schedules"),n)}catch(n){throw console.error("Error creating match:",n),n}},updateMatch:async(t,n)=>{try{const r=he(de,"schedules",t);await gt(r,{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error updating match:",r),r}},deleteMatch:async t=>{try{await pr(he(de,"schedules",t))}catch(n){throw console.error("Error deleting match:",n),n}}};function He(t,n){const r=Kn(t,n?.in);return r.setSeconds(0,0),r}function Ds(t,n){return+He(t)==+He(n)}function _s(t,n,r){return xr(t,-1,r)}const Os=(t=new Date)=>{const[n,r]=a.useState(t),o=Re(n,"yyyy-MM-dd"),s=Qn(n,new Date),{matches:i,loading:d}=Fn(n,null,s),l=sr(),{toast:c}=ar(),[u,p]=a.useState(null),[f,x]=a.useState(!1),[k,C]=a.useState(null),[h,m]=a.useState(!1),[N,T]=a.useState({isOpen:!1,id:null}),[E,V]=a.useState(!1),[$,z]=a.useState(""),[M,B]=a.useState("ALL"),[U,Y]=a.useState(He(new Date)),[K,F]=a.useState(!1),Z=a.useRef(new Set);a.useEffect(()=>{const b=setInterval(()=>{const P=new Date;Y(S=>Ds(S,P)?S:He(P))},1e3);return()=>clearInterval(b)},[]),a.useEffect(()=>{"Notification"in window&&Notification.permission==="granted"&&F(!0)},[]);const _=async()=>{if(!("Notification"in window))return;await Notification.requestPermission()==="granted"&&F(!0)};a.useEffect(()=>{!K||!s||i.length===0||i.forEach(O=>{if(!O.startTime||O.hasStartStat||Z.current.has(O.id))return;const b=Kt(O.startTime,"HH:mm",n),P=Ht(b,U);P<=15&&P>=0&&(new Notification("Match Alert",{body:`${O.teamA} vs ${O.teamB} starts in ${P} mins!`,icon:"/vite.svg"}),Z.current.add(O.id))})},[i,K,U,n,s]);const W=()=>r(O=>_s(O)),G=()=>r(O=>xr(O,1)),X=()=>r(new Date),te=async O=>{m(!0);try{k?(await at.updateMatch(k.id,O),c({title:"Success",description:"Match updated successfully."})):(await at.createMatch({...O,startDate:o}),c({title:"Success",description:"Match created successfully."})),l.invalidateQueries({queryKey:["matches"]}),x(!1),C(null)}catch(b){c({variant:"destructive",title:"Error",description:b.message||"Something went wrong."})}finally{m(!1)}},re=async()=>{if(N.id)try{await at.deleteMatch(N.id),l.invalidateQueries({queryKey:["matches"]}),c({title:"Success",description:"Match deleted successfully."})}catch{c({variant:"destructive",title:"Error",description:"Failed to delete match."})}finally{T({isOpen:!1,id:null})}},le=a.useMemo(()=>{const O=i.map(S=>{let j="Upcoming",A=null,w=!1,D=!1;if(S.startTime){const g=Kt(S.startTime,"HH:mm",n),y=$n(g,2),v=Ht(g,U);S.hasEndStat?(j="Finished",D=!0):S.hasStartStat?(j="Live",w=!0):U>=g&&U<=y?(j="Live (Time)",w=!0):U>y?(j="Finished (Time)",D=!0):v<=60&&v>0?A=`${v}m`:A=Re(g,"HH:mm")}return{...S,statusDisplay:j,countdown:A,isLiveTime:w,isFinished:D}}),b={total:O.length,live:O.filter(S=>S.isLiveTime).length,finished:O.filter(S=>S.isFinished).length,pending:O.filter(S=>!S.isLiveTime&&!S.isFinished).length};return{matches:O.filter(S=>{const j=$.toLowerCase().trim(),A=!j||(S._searchString||"").includes(j);let w=!0;return M==="LIVE"?w=S.isLiveTime:M==="FINISHED"?w=S.isFinished:M==="UPCOMING"&&(w=!S.isLiveTime&&!S.isFinished),A&&w}),stats:b}},[i,U,n,$,M]);return{selectedDate:n,setSelectedDate:r,dateStr:o,matches:le.matches,allMatches:i,stats:le.stats,loading:d,searchQuery:$,setSearchQuery:z,filterType:M,setFilterType:B,selectedMatch:u,setSelectedMatch:p,isManualModalOpen:f,setIsManualModalOpen:x,editingMatch:k,setEditingMatch:C,saving:h,deleteConfirm:N,setDeleteConfirm:T,isDataPreviewOpen:E,setIsDataPreviewOpen:V,notificationEnabled:K,handlePrevDay:W,handleNextDay:G,handleGoToday:X,handleSaveMatch:te,handleDeleteMatch:re,requestNotifyPermission:_}};function Ls({form:t,setForm:n,isMultiCdnMode:r,toggleCdnMode:o,cdnList:s,onAdd:i,onRemove:d,onUpdate:l,onAutoFix:c,statType:u,masterConfigs:p={channels:[],cdnOptions:[]},canEdit:f=!0}){const[x,k]=a.useState(!1),C=h=>t.cdn===h;return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400",children:[e.jsx(Yn,{size:14,className:"text-orange-500"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Configuration"})]})}),e.jsxs("div",{className:"group bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm overflow-hidden flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x divide-zinc-100 dark:divide-zinc-800",children:[e.jsxs("div",{className:"flex-1 p-2 flex items-center gap-3 relative",children:[e.jsx(Rt,{size:14,className:"text-zinc-400 shrink-0"}),e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none mb-0.5",children:"Start"}),e.jsx("input",{type:"time",value:t.rangeStart,onChange:h=>n({...t,rangeStart:h.target.value}),disabled:!f,className:"bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 w-[60px] h-4 leading-none disabled:opacity-50"})]}),e.jsx(Zn,{size:12,className:"text-zinc-300 dark:text-zinc-700"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none mb-0.5",children:["End ",u==="START"?"(+15m)":"(+2h)"]}),e.jsx("input",{type:"time",value:t.rangeEnd,onChange:h=>n({...t,rangeEnd:h.target.value}),disabled:!f,className:"bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 w-[60px] h-4 leading-none disabled:opacity-50"})]})]}),c&&f&&e.jsx("button",{onClick:c,title:"Auto Calculate Time",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-md text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",children:e.jsx(zr,{size:12})})]}),e.jsxs("div",{className:"flex-[1.5] p-2 flex items-center gap-3 relative",children:[e.jsx(zs,{size:14,className:"text-zinc-400 shrink-0"}),e.jsxs("div",{className:"w-full relative",children:[e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none block mb-0.5",children:"Channel Source"}),e.jsx("input",{type:"text",value:t.liveChannel,onChange:h=>n({...t,liveChannel:h.target.value}),onFocus:()=>f&&k(!0),onBlur:()=>setTimeout(()=>k(!1),200),disabled:!f,placeholder:"Select Channel...",className:"w-full bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 h-4 leading-none placeholder:text-zinc-300 dark:placeholder:text-zinc-700 disabled:opacity-50"}),x&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-3 max-h-40 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-xl z-50 py-1",children:p.channels.length>0?p.channels.filter(h=>h.toLowerCase().includes((t.liveChannel||"").toLowerCase())).map(h=>e.jsxs("div",{onMouseDown:()=>n({...t,liveChannel:h}),className:"px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 cursor-pointer text-xs font-medium text-zinc-700 dark:text-zinc-300 flex items-center justify-between group/item",children:[h,t.liveChannel===h&&e.jsx(ke,{size:12,className:"text-orange-500"})]},h)):e.jsx("div",{className:"px-3 py-2 text-xs text-zinc-400 italic",children:"No channels found"})})]})]})]}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-2 border border-zinc-200/50 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wide pl-1",children:"CDN Distribution"}),e.jsxs("div",{className:"flex bg-zinc-200 dark:bg-zinc-800 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>f&&r&&o(),disabled:!f,className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all flex items-center gap-1.5 ${r?"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400":"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm"} ${!f&&"cursor-not-allowed opacity-50"}`,children:"Single"}),e.jsx("button",{onClick:()=>f&&!r&&o(),disabled:!f,className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all flex items-center gap-1.5 ${r?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400"} ${!f&&"cursor-not-allowed opacity-50"}`,children:"Multi-CDN"})]})]}),r?e.jsxs("div",{className:"space-y-1.5",children:[s.map((h,m)=>e.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-white dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700 shadow-sm group",children:[e.jsx("div",{className:"w-[120px] shrink-0 border-r border-zinc-100 dark:border-zinc-700 pr-2",children:e.jsxs("select",{value:h.provider,onChange:N=>l(h.id,"provider",N.target.value),className:"w-full bg-transparent text-[11px] font-bold text-zinc-700 dark:text-zinc-200 outline-none cursor-pointer py-1",children:[e.jsx("option",{value:"Select Provider",children:"Select Provider"}),p.cdnOptions.filter(N=>N.id!=="Multi CDN").map(N=>e.jsx("option",{value:N.id,children:N.label},N.id))]})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Xn,{size:10,className:"absolute left-0 top-1/2 -translate-y-1/2 text-zinc-300 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Enter Config Key...",value:h.key||"",onChange:N=>l(h.id,"key",N.target.value),className:"w-full pl-4 bg-transparent text-[11px] font-medium text-zinc-600 dark:text-zinc-300 placeholder:text-zinc-300 outline-none border-none p-0 focus:ring-0"})]}),s.length>1&&e.jsx("button",{onClick:()=>d(h.id),className:"opacity-0 group-hover:opacity-100 p-1 text-zinc-300 hover:text-red-500 transition-all",children:e.jsx(Ke,{size:12})})]},h.id)),e.jsxs("button",{onClick:i,className:"w-full py-1.5 mt-2 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-700 hover:border-orange-300 dark:hover:border-orange-900/50 text-[10px] font-bold text-zinc-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all flex items-center justify-center gap-1",children:[e.jsx(At,{size:10})," Add Provider Layer"]})]}):e.jsx("div",{className:"flex flex-wrap gap-2",children:p.cdnOptions.filter(h=>h.id!=="Multi CDN").map(h=>e.jsxs("button",{onClick:()=>n({...t,cdn:h.id}),className:`group relative px-3 py-1.5 rounded-lg border text-[11px] font-bold transition-all flex items-center gap-2 ${C(h.id)?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-[1.02]":"bg-white dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600 hover:bg-white"}`,children:[e.jsx(mr,{size:12,className:C(h.id)?"opacity-100":"opacity-50 group-hover:opacity-100"}),h.label,C(h.id)&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-orange-500 rounded-full border-2 border-white dark:border-zinc-900"})]},h.id))})]})]})}function qs({isOpen:t,onClose:n,data:r,headers:o}){const[s,i]=a.useState(!1);if(!t)return null;const d=async()=>{if(r)try{const l=o.join("	"),c=r.map(p=>Object.values(p).join("	")).join(`
`),u=`${l}
${c}`;await navigator.clipboard.writeText(u),i(!0),setTimeout(()=>i(!1),2e3)}catch(l){console.error("Failed to copy:",l)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:n}),e.jsx("div",{className:"fixed inset-0 z-[201] flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"pointer-events-auto bg-white dark:bg-[#0c0c0e] w-full max-w-6xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-slate-100 dark:border-zinc-800 animate-in zoom-in-95 duration-200",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-zinc-800 flex justify-between items-center bg-white dark:bg-zinc-900",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-xl",children:e.jsx(ft,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Data Preview"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Review data before exporting"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:d,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${s?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"bg-slate-900 text-white hover:bg-slate-800 shadow-md"}`,children:[s?e.jsx(ke,{size:16}):e.jsx(es,{size:16}),s?"Copied!":"Copy Data"]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 dark:hover:bg-zinc-800 rounded-lg text-slate-400 hover:text-rose-500 transition-colors",children:e.jsx(Ge,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar bg-slate-50 dark:bg-[#0c0c0e]",children:!r||r.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 gap-3 min-h-[300px]",children:[e.jsx(ft,{size:48,className:"opacity-20"}),e.jsx("p",{children:"No data available to preview"})]}):e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-100 dark:bg-zinc-900/50 sticky top-0 z-10 shadow-sm",children:e.jsx("tr",{children:o.map((l,c)=>e.jsx("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider whitespace-nowrap border-b border-slate-200 dark:border-zinc-800",children:l},c))})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-zinc-800/50 bg-white dark:bg-zinc-900",children:r.map((l,c)=>e.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-zinc-800/50 transition-colors",children:Object.values(l).map((u,p)=>e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 whitespace-nowrap border-r border-transparent last:border-0",children:u===null||u===""?e.jsx("span",{className:"text-slate-300",children:"-"}):u},p))},c))})]})}),e.jsxs("div",{className:"px-6 py-3 bg-slate-50 dark:bg-zinc-900 border-t border-slate-200 dark:border-zinc-800 text-xs text-slate-400 flex justify-between",children:[e.jsxs("span",{children:["Total Rows: ",r?r.length:0]}),e.jsx("span",{children:"Tab-separated format ready for Excel/Sheets"})]})]})})]})}const Te="schedules",ee=(t,n="")=>{if(!t&&t!==0)return{val:"",unit:n};if(typeof t=="object"&&t.val!==void 0)return t;const r=String(t).toLowerCase();let o=parseFloat(r),s=n;return r.endsWith("m")?s="m":r.endsWith("k")?s="k":r.endsWith("gb")?s="GB":r.endsWith("tb")?s="TB":r.endsWith("mb")&&(s="MB"),{val:isNaN(o)?"":o,unit:s}},Zt={ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:"",rangeStart:"",rangeEnd:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},cdn:"AWS",liveChannel:""};function Fs(t,n){const[r,o]=a.useState("START"),[s,i]=a.useState(!0),[d,l]=a.useState(!1),[c,u]=a.useState(!1),[p,f]=a.useState(!1),[x,k]=a.useState(Zt),[C,h]=a.useState([]),[m,N]=a.useState(!1),[T,E]=a.useState("Unknown"),V=a.useRef(null),[$,z]=a.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[M,B]=a.useState({show:!1,data:[]}),[U,Y]=a.useState({isOpen:!1,data:[]}),K=sr(),{currentUser:F}=Et(),{toast:Z}=ar(),_=a.useCallback((g,y="success")=>{g&&Z({description:g,variant:y})},[Z]),W=t?.id?`draft_stats_${t.id}_${r}`:null,G=a.useCallback(async()=>{if(t?.id){l(!0),V.current=null;try{const g=he(de,Te,t.id),y=r==="START"?"start_stat":"end_stat",v=he(de,Te,t.id,"statistics",y),[I,R]=await Promise.all([Gt(g),Gt(v)]),ne=I.exists()?I.data():{};let ae={...Zt},J=[],se=!1;if(R.exists()){const q=R.data();ae={...ae,...q,liveChannel:q.liveChannel||ne.liveChannel||ne.channel||t.channel||"",requestPeak:ee(q.requestPeak,""),muxViewerUniq:ee(q.muxViewerUniq,""),reqPeakMin:ee(q.reqPeakMin,""),reqTotal:ee(q.reqTotal,""),bwPeakGbps:ee(q.bwPeakGbps,""),bandwidth:ee(q.bandwidth,"")},q.cdnDetails?.length>0?(J=q.cdnDetails.map(me=>({...me,requestPeak:ee(me.requestPeak,""),reqPeakMin:ee(me.reqPeakMin,""),reqTotal:ee(me.reqTotal,""),bwPeakGbps:ee(me.bwPeakGbps,""),bandwidth:ee(me.bandwidth,""),muxViewerUniq:ee(me.muxViewerUniq,"")})),se=!0):se=q.cdn==="Multi CDN",E(q.reporter||"Unknown")}else{const q=ne.cdn||"AWS";se=q==="Multi CDN",ae.cdn=q,ae.liveChannel=ne.liveChannel||ne.channel||t.channel||"",se?J=[{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]:J=[]}const ze=localStorage.getItem(W);if(ze)try{const q=JSON.parse(ze);q.matchId===t.id&&(q.form&&(ae={...ae,...q.form}),q.cdnList&&(J=q.cdnList),q.isMultiCdnMode!==void 0&&(se=q.isMultiCdnMode))}catch(q){console.error("Draft load error",q)}k(ae),h(J),N(se),V.current=t.id}catch(g){console.error("Fetch Error:",g),_("โหลดข้อมูลไม่สำเร็จ","error")}finally{l(!1),i(!1)}}},[t,r,_,W]);a.useEffect(()=>{G()},[G]),a.useEffect(()=>{if(!s&&!d&&W&&V.current===t?.id){const g={matchId:t.id,form:x,cdnList:C,isMultiCdnMode:m,timestamp:Date.now()};localStorage.setItem(W,JSON.stringify(g))}},[x,C,m,W,s,d,t?.id]),a.useEffect(()=>{m&&x.liveChannel&&C.length>0&&(!C[0].key||C[0].key.trim()==="")&&h(g=>g.map((y,v)=>v===0?{...y,key:x.liveChannel}:y))},[x.liveChannel,m]);const X=()=>{N(g=>!g),!m&&C.length===0&&h([{id:Date.now(),provider:"AWS",key:x.liveChannel||"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]),k(g=>({...g,cdn:m?"AWS":"Multi CDN"}))},te=()=>h(g=>[...g,{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]),re=g=>C.length>1&&h(y=>y.filter(v=>v.id!==g)),le=(g,y,v)=>h(I=>I.map(R=>R.id!==g?R:typeof R[y]=="object"&&R[y]!==null?{...R,[y]:{...R[y],...v}}:{...R,[y]:v})),O=()=>{if(C.length<2)return;const g=C[0];h(y=>y.map((v,I)=>I===0?v:{...v,ecsSport:g.ecsSport,ecsEntitlement:g.ecsEntitlement,apiHuawei:g.apiHuawei})),_("Autofilled System Health values","success")},b=g=>{h(y=>y.map(v=>v.id!==g?v:{...v,ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""})),_("Cleared row data","default")},P=g=>{if(!g||!Array.isArray(g)||g.length===0)return;const y=g.map(v=>({id:Date.now()+Math.random(),provider:v.provider||"Select Provider",key:v.key||"",ecsSport:v.ecsSport||"",ecsEntitlement:v.ecsEntitlement||"",apiHuawei:v.apiHuawei||"",requestPeak:ee(v.requestPeak),reqPeakMin:ee(v.reqPeakMin),reqTotal:ee(v.reqTotal),bwPeakGbps:ee(v.bwPeakGbps),bandwidth:ee(v.bandwidth),muxViewerUniq:ee(v.muxViewerUniq),muxScore:v.muxScore||""}));y.length>0&&(h(y),N(!0),Y({isOpen:!1,data:[]}),_(`Imported ${y.length} rows successfully`,"success"))},S=a.useCallback((g=!1)=>{let y=t?.startTime||t?.start_time||t?.time;if(!y){g&&_("Time not found","error");return}try{const I=(J=>{let se=String(J).toLowerCase().trim().replace(".",":"),ze=se.replace(/[a-z]/g,"").trim(),[q,me]=ze.split(":"),Fe=parseInt(q,10),En=parseInt(me||"0",10);return isNaN(Fe)?null:(se.includes("pm")&&Fe<12&&(Fe+=12),{h:Fe,m:En})})(y);if(!I)return;const R=(J,se,ze)=>{let q=J*60+se+ze;return q=(q%1440+1440)%1440,`${String(Math.floor(q/60)).padStart(2,"0")}:${String(q%60).padStart(2,"0")}`},ne=R(I.h,I.m,0),ae=R(I.h,I.m,r==="START"?15:120);V.current===t?.id&&k(J=>J.rangeStart&&J.rangeEnd?J:{...J,rangeStart:ne,rangeEnd:ae})}catch{}},[t,r,_]);a.useEffect(()=>{!d&&!s&&t&&S()},[d,s,t,r,S]);const j=a.useCallback(()=>{const g=[];(!x.rangeStart||!x.rangeEnd)&&g.push("กรุณาระบุเวลา Start/End"),x.liveChannel||g.push("กรุณาระบุ Channel");const y=v=>{const I=typeof v=="object"?v?.val:v;return I===""||I===null||I===void 0};return m?(C.length===0&&g.push("At least one CDN provider is required"),C.forEach((v,I)=>{const R=`CDN #${I+1}`;(!v.provider||v.provider==="Select Provider")&&g.push(`${R}: Provider required`),y(v.ecsSport)&&g.push(`${R}: ECS Sport required`),y(v.muxScore)&&g.push(`${R}: Score required`)})):(y(x.ecsSport)&&g.push("ECS Sport required"),y(x.muxScore)&&g.push("Smoothness Score required")),g.length>0?(_(g[0],"error"),!1):!0},[x,C,m,_]);return{state:{statType:r,loading:s,fetching:d,saving:c,isSuccess:p,form:x,cdnList:C,isMultiCdnMode:m,reporterName:T,confirmModal:$,preview:M,importModal:U},actions:{setStatType:o,setForm:k,toggleCdnMode:X,handleAddCdn:te,handleRemoveCdn:re,handleUpdateCdnRow:le,handleAutoFixTime:()=>S(!0),handleSmartSave:async g=>{if(t?.id&&j()){u(!0);try{const y=r==="START"?"start_stat":"end_stat",v={...x,cdn:m?"Multi CDN":x.cdn,cdnDetails:m?C:null,updatedAt:rt(),statType:r,reporter:typeof F=="object"?F?.name:F||"Unknown"};await Gn(he(de,Te,t.id,"statistics",y),v),await gt(he(de,Te,t.id),{[r==="START"?"hasStartStat":"hasEndStat"]:!0,[r==="START"?"startStats":"endStats"]:v,updatedAt:rt()}),localStorage.removeItem(W),K.invalidateQueries({queryKey:["matches"]}),_("บันทึกข้อมูลเรียบร้อยแล้ว","success"),f(!0),setTimeout(()=>f(!1),2e3),g&&g()}catch{_("บันทึกข้อมูลล้มเหลว","error")}finally{u(!1)}}},requestDelete:()=>{z({isOpen:!0,title:`Reset ${r}?`,message:"Sure to delete?",isDanger:!0,onConfirm:async()=>{z(g=>({...g,isOpen:!1})),u(!0);try{const g=r==="START"?"start_stat":"end_stat";await pr(he(de,Te,t.id,"statistics",g)),await gt(he(de,Te,t.id),{[r==="START"?"hasStartStat":"hasEndStat"]:!1,[r==="START"?"startStats":"endStats"]:null,updatedAt:rt()}),localStorage.removeItem(W),K.invalidateQueries({queryKey:["matches"]}),_("Reset Success","success"),setTimeout(n,1e3)}catch{_("Reset Failed","error")}finally{u(!1)}}})},handlePreview:()=>{const g=v=>{if(!v)return 0;if(typeof v=="object"&&v.val!==void 0){const I=parseFloat(v.val||0),R=(v.unit||"").toLowerCase();return R==="m"?I*1e6:R==="b"?I*1e9:R==="k"?I*1e3:I}return ts(v)},y=v=>{const I=v?.val||0,R=v?.unit||"";return rs(I,R===""?"GB":R)?.toLocaleString("en-US",{maximumFractionDigits:4})};try{const v={no:"1",league:t?.league||"-",title:t?.title||t?.match||"-",time:t?.startTime||"-",ecsSport:st(x.ecsSport,2),ecsEnt:st(x.ecsEntitlement,2),api:st(x.apiHuawei,2),reqPeak:fe(g(x.requestPeak)),viewers:fe(g(x.muxViewerUniq)),score:x.muxScore,start:x.rangeStart||"-",end:x.rangeEnd||"-"},I=m&&C.length>0?C.map(R=>[v.no,v.league,v.title,v.time,v.ecsSport,v.ecsEnt,v.api,fe(g(R.requestPeak)),R.provider||"-",R.key||"-",fe(g(R.reqPeakMin)),fe(g(R.reqTotal)),y(R.bwPeakGbps),y(R.bandwidth),fe(g(R.muxViewerUniq)),v.score,v.start,v.end]):[[v.no,v.league,v.title,v.time,v.ecsSport,v.ecsEnt,v.api,fe(g(x.requestPeak)),x.cdn||"-",x.liveChannel||"-",fe(g(x.reqPeakMin)),fe(g(x.reqTotal)),y(x.bwPeakGbps),y(x.bandwidth),v.viewers,v.score,v.start,v.end]];B({show:!0,data:I})}catch{_("Preview Error","error")}},closeConfirm:()=>z(g=>({...g,isOpen:!1})),closePreview:()=>B(g=>({...g,show:!1})),handleAutofillSystemHealth:O,handleClearCdnRow:b,openImportModal:g=>Y({isOpen:!0,data:g}),closeImportModal:()=>Y({isOpen:!1,data:[]}),handleApplyImport:P}}}function pe({label:t,value:n,unit:r,onChange:o,onUnitChange:s,placeholder:i,icon:d,color:l="blue",type:c="text",tooltip:u,compact:p=!1,max:f,readOnly:x=!1,thresholds:k,thresholdType:C="lower-is-bad"}){let h=l,m=null;if(k&&n!==""&&n!==null&&n!==void 0){const z=parseFloat(n);isNaN(z)||(C==="higher-is-bad"?z>=k.critical?(h="red",m=$e):z>=k.warning?(h="orange",m=$e):(h="emerald",m=bt):z<=k.critical?(h="red",m=$e):z<=k.warning?(h="orange",m=$e):(h="emerald",m=bt))}const N=z=>{if(!x){if(f!==void 0&&z!==""){const M=parseFloat(z);if(!isNaN(M)&&M>f){o(f.toString());return}if(M<0){o("0");return}}o(z)}},T={blue:{bg:"bg-blue-50/50 dark:bg-blue-900/10",border:"border-blue-100/50 dark:border-blue-900/30",text:"text-blue-600 dark:text-blue-400",accent:"bg-blue-500",glow:"shadow-blue-500/10"},emerald:{bg:"bg-emerald-50/50 dark:bg-emerald-900/10",border:"border-emerald-100/50 dark:border-emerald-900/30",text:"text-emerald-600 dark:text-emerald-400",accent:"bg-emerald-500",glow:"shadow-emerald-500/10"},orange:{bg:"bg-orange-50/50 dark:bg-orange-900/10",border:"border-orange-100/50 dark:border-orange-900/30",text:"text-orange-600 dark:text-orange-400",accent:"bg-orange-500",glow:"shadow-orange-500/10"},purple:{bg:"bg-purple-50/50 dark:bg-purple-900/10",border:"border-purple-100/50 dark:border-purple-900/30",text:"text-purple-600 dark:text-purple-400",accent:"bg-purple-500",glow:"shadow-purple-500/10"},violet:{bg:"bg-violet-50/50 dark:bg-violet-900/10",border:"border-violet-100/50 dark:border-violet-900/30",text:"text-violet-600 dark:text-violet-400",accent:"bg-violet-500",glow:"shadow-violet-500/10"},pink:{bg:"bg-pink-50/50 dark:bg-pink-900/10",border:"border-pink-100/50 dark:border-pink-900/30",text:"text-pink-600 dark:text-pink-400",accent:"bg-pink-500",glow:"shadow-pink-500/10"},cyan:{bg:"bg-cyan-50/50 dark:bg-cyan-900/10",border:"border-cyan-100/50 dark:border-cyan-900/30",text:"text-cyan-600 dark:text-cyan-400",accent:"bg-cyan-500",glow:"shadow-cyan-500/10"},red:{bg:"bg-red-50/50 dark:bg-red-900/10",border:"border-red-100/50 dark:border-red-900/30",text:"text-red-600 dark:text-red-400",accent:"bg-red-500",glow:"shadow-red-500/10"}},E=T[h]||T.blue,$=(()=>{if(!n||isNaN(n))return null;const z=parseFloat(n);if(s){if(!r||r==="raw")return z.toLocaleString();let M=z,B="";switch(r){case"TB":M=z*1024,B="GB";break;case"MB":M=z/1024,B="GB";break;case"KB":M=z/(1024*1024),B="GB";break;case"GB":M=z,B="GB";break;case"k":M=z*1e3,B="";break;case"m":M=z*1e6,B="";break;default:M=z}return B?`${M.toLocaleString(void 0,{maximumFractionDigits:2})} ${B}`:M.toLocaleString()}return null})();return e.jsxs("div",{className:L("relative group rounded-2xl border transition-all duration-300",E.border,E.bg,p?"p-3":"p-4","hover:ring-1 hover:ring-current/10 shadow-sm",E.glow,x&&"opacity-80 grayscale-[0.3]"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:L("font-black uppercase tracking-[0.15em] leading-none truncate pr-2 flex items-center gap-1.5",p?"text-[8px]":"text-[9px]","text-zinc-500 dark:text-zinc-400"),children:[m&&e.jsx(m,{size:10,className:E.text}),t]}),u&&e.jsx(In,{size:10,className:"text-zinc-300 cursor-help"})]}),e.jsxs("div",{className:L("flex items-center rounded-xl overflow-hidden bg-white dark:bg-zinc-950 border border-zinc-100 dark:border-zinc-800/50 transition-all",!x&&"focus-within:ring-2 focus-within:ring-offset-1 dark:focus-within:ring-offset-zinc-950",!x&&E.text.replace("text-","focus-within:ring-"),p?"h-10":"h-12"),children:[e.jsx("input",{type:c==="percentage"?"number":c,step:"any",value:n,onChange:z=>N(z.target.value),readOnly:x,placeholder:i||"0",className:L("flex-1 bg-transparent border-none outline-none px-3 font-mono font-black tabular-nums transition-colors min-w-0","placeholder:text-zinc-300 dark:placeholder:text-zinc-800",p?"text-sm":"text-base","dark:text-white",x&&"cursor-not-allowed text-zinc-500",k&&h!=="emerald"&&E.text)}),s?e.jsxs("select",{value:r||"",onChange:z=>!x&&s(z.target.value),disabled:x,className:"h-full w-[60px] shrink-0 bg-zinc-50 dark:bg-zinc-900 border-l border-zinc-100 dark:border-zinc-800 px-1 text-[9px] font-black uppercase text-zinc-500 dark:text-zinc-400 outline-none cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors text-center disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Raw"}),e.jsxs("optgroup",{label:"Count",className:"dark:bg-zinc-900",children:[e.jsx("option",{value:"k",children:"k"}),e.jsx("option",{value:"m",children:"m"})]}),e.jsxs("optgroup",{label:"Data",className:"dark:bg-zinc-900",children:[e.jsx("option",{value:"GB",children:"GB"}),e.jsx("option",{value:"TB",children:"TB"}),e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"KB",children:"KB"})]})]}):c==="percentage"?e.jsx("div",{className:"h-full px-3 flex items-center bg-zinc-50 dark:bg-zinc-900 border-l border-zinc-100 dark:border-zinc-800 shrink-0",children:e.jsx("span",{className:"text-[10px] font-black text-zinc-400",children:"%"})}):null]}),$&&e.jsxs("div",{className:"mt-1.5 flex items-center justify-end gap-1 px-1",children:[e.jsx("span",{className:"text-[7px] font-black text-zinc-300 uppercase",children:"Val"}),e.jsx("span",{className:L("text-[9px] font-black tracking-tight",E.text),children:$})]})]})}const _t=({item:t,index:n,icon:r,onRemove:o,onClear:s,isRemovable:i})=>e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-zinc-100 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-zinc-900 dark:bg-zinc-100 dark:text-black text-white flex items-center justify-center shadow-lg",children:e.jsx(r,{size:14})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-zinc-900 dark:text-white uppercase tracking-[0.2em]",children:t.provider||`Provider ${n+1}`}),e.jsx("p",{className:"text-[9px] text-zinc-400 font-bold uppercase tracking-widest",children:t.key||"Universal Node"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.jsx("button",{onClick:s,className:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",title:"Clear Data",children:e.jsx(Ns,{size:14})}),i&&e.jsx("button",{onClick:o,className:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",children:e.jsx(Ke,{size:16})})]})]}),Ot=({onClick:t})=>e.jsxs("button",{onClick:t,className:"w-full py-4 border-2 border-dashed border-zinc-200 dark:border-zinc-800/50 rounded-2xl flex justify-center items-center gap-2 text-zinc-400 font-black text-[10px] uppercase tracking-[0.2em] hover:text-blue-500 hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-all active:scale-[0.98]",children:[e.jsx(At,{size:14})," Add Provider Layer"]}),Ee=(t,n)=>({...t,val:n}),Ie=(t,n)=>({...t,unit:n}),Pr="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",$s=({data:t,onChange:n,isMulti:r,cdnList:o,onUpdateCdn:s,onRemoveCdn:i,onAddCdn:d,onAutofill:l,onClearRow:c,canEdit:u=!0})=>{const p=(f,x)=>e.jsxs("div",{className:Pr,children:[e.jsx(pe,{label:"ECS Sport",value:f.ecsSport,onChange:k=>x("ecsSport",k),type:"percentage",color:"blue",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!u}),e.jsx(pe,{label:"ECS Entitlement",value:f.ecsEntitlement,onChange:k=>x("ecsEntitlement",k),type:"percentage",color:"purple",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!u}),e.jsx(pe,{label:"API Huawei",value:f.apiHuawei,onChange:k=>x("apiHuawei",k),type:"percentage",color:"orange",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!u}),e.jsx(pe,{label:"WWW & API REQ",value:f.requestPeak?.val,unit:f.requestPeak?.unit,onChange:k=>x("requestPeak",Ee(f.requestPeak,k)),onUnitChange:k=>x("requestPeak",Ie(f.requestPeak,k)),type:"number",color:"emerald",compact:!0,readOnly:!u})]});return r?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o.length>1&&u&&e.jsx("div",{className:"flex justify-end mb-2",children:e.jsxs("button",{onClick:l,className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:[e.jsx(zr,{size:12})," Autofill System Health"]})}),o.map((f,x)=>e.jsxs("div",{className:"group",children:[e.jsx(_t,{item:f,index:x,icon:Cr,onRemove:u?()=>i(f.id):null,onClear:u?()=>c(f.id):null,isRemovable:u&&o.length>1}),p(f,(k,C)=>s(f.id,k,C))]},f.id)),u&&e.jsx(Ot,{onClick:d})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:p(t,n)})},Bs=({data:t,onChange:n,isMulti:r,cdnList:o,onUpdateCdn:s,onRemoveCdn:i,onAddCdn:d,onClearRow:l,canEdit:c=!0})=>{const u=(p,f)=>e.jsxs("div",{className:Pr,children:[e.jsx(pe,{label:"Req Peak",value:p.reqPeakMin?.val,unit:p.reqPeakMin?.unit,onChange:x=>f("reqPeakMin",Ee(p.reqPeakMin,x)),onUnitChange:x=>f("reqPeakMin",Ie(p.reqPeakMin,x)),type:"number",color:"blue",compact:!0,readOnly:!c}),e.jsx(pe,{label:"Req Total",value:p.reqTotal?.val,unit:p.reqTotal?.unit,onChange:x=>f("reqTotal",Ee(p.reqTotal,x)),onUnitChange:x=>f("reqTotal",Ie(p.reqTotal,x)),type:"number",color:"cyan",compact:!0,readOnly:!c}),e.jsx(pe,{label:"BW Peak",value:p.bwPeakGbps?.val,unit:p.bwPeakGbps?.unit,onChange:x=>f("bwPeakGbps",Ee(p.bwPeakGbps,x)),onUnitChange:x=>f("bwPeakGbps",Ie(p.bwPeakGbps,x)),type:"number",color:"red",compact:!0,readOnly:!c}),e.jsx(pe,{label:"BW Total",value:p.bandwidth?.val,unit:p.bandwidth?.unit,onChange:x=>f("bandwidth",Ee(p.bandwidth,x)),onUnitChange:x=>f("bandwidth",Ie(p.bandwidth,x)),type:"number",color:"orange",compact:!0,readOnly:!c})]});return r?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o.map((p,f)=>e.jsxs("div",{className:"group",children:[e.jsx(_t,{item:p,index:f,icon:Tr,onRemove:c?()=>i(p.id):null,onClear:c?()=>l(p.id):null,isRemovable:c&&o.length>1}),u(p,(x,k)=>s(p.id,x,k))]},p.id)),c&&e.jsx(Ot,{onClick:d})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:u(t,n)})},Vs=({data:t,onChange:n,isMulti:r,cdnList:o,onUpdateCdn:s,onRemoveCdn:i,onAddCdn:d,onClearRow:l,canEdit:c=!0})=>{const u=(p,f)=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(pe,{label:"Live Viewers",value:p.muxViewerUniq?.val,unit:p.muxViewerUniq?.unit,onChange:x=>f("muxViewerUniq",Ee(p.muxViewerUniq,x)),onUnitChange:x=>f("muxViewerUniq",Ie(p.muxViewerUniq,x)),type:"number",color:"purple",compact:!0,readOnly:!c}),e.jsx(pe,{label:"Smoothness Score",value:p.muxScore,onChange:x=>f("muxScore",x),type:"number",color:"pink",max:100,thresholdType:"lower-is-bad",thresholds:{warning:80,critical:60},readOnly:!c})]});return r?e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o.map((p,f)=>e.jsxs("div",{className:"group bg-zinc-50 dark:bg-zinc-900/40 p-5 rounded-3xl border border-zinc-100 dark:border-zinc-800/50",children:[e.jsx(_t,{item:p,index:f,icon:fr,onRemove:c?()=>i(p.id):null,onClear:c?()=>l(p.id):null,isRemovable:c&&o.length>1}),u(p,(x,k)=>s(p.id,x,k))]},p.id)),c&&e.jsx(Ot,{onClick:d})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:u(t,n)})},Hs=()=>e.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-6 animate-pulse p-6",children:[e.jsx("div",{className:"h-40 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-64 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"}),e.jsx("div",{className:"h-64 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"})]})]}),Be=({icon:t,title:n,iconColor:r,children:o,className:s=""})=>e.jsxs("div",{className:`bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800/50 rounded-[2rem] shadow-sm overflow-hidden transition-all hover:shadow-md ${s}`,children:[(t||n)&&e.jsx("div",{className:"px-6 py-5 border-b border-zinc-50 dark:border-zinc-800/50 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[t&&e.jsx("div",{className:`p-2 rounded-xl bg-zinc-50 dark:bg-zinc-800 ${r}`,children:e.jsx(t,{size:18})}),e.jsx("h3",{className:"text-sm font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-widest",children:n})]})}),e.jsx("div",{className:"p-6",children:o})]});function Ws({isOpen:t,onClose:n,matchData:r,canEdit:o}){const{state:s,actions:i}=Fs(r,n),[d,l]=a.useState({channels:[],cdnOptions:[]});if(a.useEffect(()=>{if(!t)return;const u=hr.subscribeConfigs(l);return()=>u()},[t]),!t)return null;const c=r?.isLiveTime||r?.hasStartStat&&!r?.hasEndStat;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed z-[200]",children:e.jsx(or,{isOpen:s.confirmModal.isOpen,onClose:i.closeConfirm,...s.confirmModal})}),e.jsx(qs,{isOpen:s.preview.show,onClose:i.closePreview,data:s.preview.data,headers:["#","League","Match","Time","ECS Sport","ECS Entitlement","API Huawei","WWW & API Request","CDN","Key","Req Peak","Req Total","BW Peak","BW Total","Viewers","Score","Start","End"]}),e.jsx("div",{className:"fixed inset-0 z-[100] bg-zinc-950/60 backdrop-blur-md transition-opacity duration-300",onClick:s.loading?void 0:n}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-0 sm:p-6 pointer-events-none",children:e.jsxs("div",{className:"pointer-events-auto w-full h-full sm:h-[90vh] sm:max-w-7xl bg-white dark:bg-[#050505] sm:rounded-[2.5rem] shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-300 border border-zinc-200 dark:border-zinc-800",onClick:u=>u.stopPropagation(),children:[e.jsx("div",{className:"shrink-0 bg-white dark:bg-zinc-900/50 border-b border-zinc-50 dark:border-zinc-800/50 z-20 backdrop-blur-md",children:e.jsxs("div",{className:"px-6 py-5 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1.5",children:[c?e.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-rose-500 text-white shadow-lg shadow-rose-500/30",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]})," LIVE"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-zinc-100 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-700",children:[e.jsx(Rt,{size:12})," ",r?.startTime||"--:--"]}),e.jsxs("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${s.statType==="START"?"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800/50":"bg-purple-50 text-purple-600 border-purple-100 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800/50"}`,children:[s.statType," Phase"]})]}),e.jsx("h2",{className:"text-xl font-black text-zinc-900 dark:text-white tracking-tight truncate",children:r?.teamA&&r?.teamB?e.jsxs("span",{className:"flex items-center gap-2",children:[r.teamA," ",e.jsx("span",{className:"text-zinc-300 dark:text-zinc-800 italic font-medium",children:"vs"})," ",r.teamB]}):r?.title||"Match Operational Record"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:i.toggleCdnMode,className:"hidden md:flex h-11 px-5 items-center gap-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700 border border-zinc-100 dark:border-zinc-700 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-600 dark:text-zinc-300 transition-all active:scale-95",children:[e.jsx(as,{size:14,className:s.isMultiCdnMode?"text-blue-500":"text-zinc-400"}),e.jsx("span",{children:s.isMultiCdnMode?"Multi-CDN":"Single"})]}),e.jsx("button",{onClick:()=>i.setStatType(s.statType==="START"?"END":"START"),className:"h-11 w-11 flex items-center justify-center rounded-xl bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700 text-zinc-500 border border-zinc-100 dark:border-zinc-700 transition-all active:scale-95",title:"Switch Phase",children:e.jsx(ws,{size:18})})]}),e.jsx("div",{className:"w-px h-6 bg-zinc-200 dark:bg-zinc-800 mx-1"}),e.jsx("button",{onClick:n,className:"h-11 w-11 flex items-center justify-center rounded-xl bg-zinc-900 dark:bg-white text-white dark:text-black shadow-lg hover:scale-105 active:scale-90 transition-all",children:e.jsx(Ge,{size:20,strokeWidth:2.5})})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 bg-[#fafafa] dark:bg-[#050505] space-y-8",children:s.fetching?e.jsx(Hs,{}):e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsx(Be,{className:"shadow-sm border-none bg-zinc-50 dark:bg-zinc-900/30",children:e.jsx(Ls,{form:s.form,setForm:i.setForm,isMultiCdnMode:s.isMultiCdnMode,toggleCdnMode:i.toggleCdnMode,cdnList:s.cdnList,onAdd:i.handleAddCdn,onRemove:i.handleRemoveCdn,onUpdate:i.handleUpdateCdnRow,onAutoFix:i.handleAutoFixTime,statType:s.statType,masterConfigs:d,canEdit:o})}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(Be,{title:"System Health",icon:Cr,iconColor:"text-blue-500 bg-blue-50 dark:bg-blue-900/30",children:e.jsx($s,{data:s.form,onChange:(u,p)=>i.setForm({...s.form,[u]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:i.handleUpdateCdnRow,onAddCdn:i.handleAddCdn,onRemoveCdn:i.handleRemoveCdn,canEdit:o})}),e.jsx(Be,{title:"Traffic & Bandwidth",icon:Tr,iconColor:"text-rose-500 bg-rose-50 dark:bg-rose-900/30",children:e.jsx(Bs,{data:s.form,onChange:(u,p)=>i.setForm({...s.form,[u]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:i.handleUpdateCdnRow,onAddCdn:i.handleAddCdn,onRemoveCdn:i.handleRemoveCdn,canEdit:o})}),e.jsx(Be,{title:"Audience & Engagement",icon:fr,iconColor:"text-violet-500 bg-violet-50 dark:bg-violet-900/30",children:e.jsx(Vs,{data:s.form,onChange:(u,p)=>i.setForm({...s.form,[u]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:i.handleUpdateCdnRow,onAddCdn:i.handleAddCdn,onRemoveCdn:i.handleRemoveCdn,canEdit:o})})]})]})}),e.jsx("div",{className:"shrink-0 p-6 bg-white dark:bg-[#0a0a0a] border-t border-zinc-100 dark:border-zinc-900 transition-all",children:e.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto gap-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:i.requestDelete,disabled:s.loading,className:"group flex items-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all disabled:opacity-30",children:[e.jsx(Ke,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Flush Data"})]}),e.jsxs("button",{onClick:i.handlePreview,disabled:s.loading,className:"group flex items-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all disabled:opacity-30",children:[e.jsx(ft,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[e.jsx("button",{onClick:n,disabled:s.loading,className:"px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:"Dismiss"}),o&&e.jsxs("button",{onClick:()=>i.handleSmartSave(),disabled:s.loading||s.isSuccess,className:`flex-1 sm:flex-none h-14 px-10 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-3 shadow-2xl transition-all active:scale-95 ${s.isSuccess?"bg-emerald-500 text-white shadow-emerald-500/30":"bg-zinc-900 dark:bg-white text-white dark:text-black shadow-zinc-900/20 dark:shadow-white/10"} ${s.loading?"opacity-50 cursor-not-allowed cursor-wait":""}`,children:[s.loading?e.jsx(ir,{size:18,className:"animate-spin"}):s.isSuccess?e.jsx(ke,{size:18,strokeWidth:3}):e.jsx(vt,{size:18}),e.jsx("span",{children:s.loading?"Executing...":s.isSuccess?"Finalized":"Commit Changes"})]})]})]})})]})})]})}var Us=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gs=Us.reduce((t,n)=>{const r=os(`Primitive.${n}`),o=a.forwardRef((s,i)=>{const{asChild:d,...l}=s,c=d?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...l,ref:i})});return o.displayName=`Primitive.${n}`,{...t,[n]:o}},{}),Ks="Label",Mr=a.forwardRef((t,n)=>e.jsx(Gs.label,{...t,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Mr.displayName=Ks;var Qs=Mr;function jt({className:t,...n}){return e.jsx(Qs,{"data-slot":"label",className:L("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...n})}function Ys(t){const n=Zs(t),r=a.forwardRef((o,s)=>{const{children:i,...d}=o,l=a.Children.toArray(i),c=l.find(Js);if(c){const u=c.props.children,p=l.map(f=>f===c?a.Children.count(u)>1?a.Children.only(null):a.isValidElement(u)?u.props.children:null:f);return e.jsx(n,{...d,ref:s,children:a.isValidElement(u)?a.cloneElement(u,void 0,p):null})}return e.jsx(n,{...d,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function Zs(t){const n=a.forwardRef((r,o)=>{const{children:s,...i}=r;if(a.isValidElement(s)){const d=ta(s),l=ea(i,s.props);return s.type!==a.Fragment&&(l.ref=o?ye(o,d):d),a.cloneElement(s,l)}return a.Children.count(s)>1?a.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Xs=Symbol("radix.slottable");function Js(t){return a.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xs}function ea(t,n){const r={...n};for(const o in n){const s=t[o],i=n[o];/^on[A-Z]/.test(o)?s&&i?r[o]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[o]=s):o==="style"?r[o]={...s,...i}:o==="className"&&(r[o]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function ta(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Qe="Dialog",[Er]=lr(Qe),[ra,ue]=Er(Qe),Ir=t=>{const{__scopeDialog:n,children:r,open:o,defaultOpen:s,onOpenChange:i,modal:d=!0}=t,l=a.useRef(null),c=a.useRef(null),[u,p]=ht({prop:o,defaultProp:s??!1,onChange:i,caller:Qe});return e.jsx(ra,{scope:n,triggerRef:l,contentRef:c,contentId:ie(),titleId:ie(),descriptionId:ie(),open:u,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(f=>!f),[p]),modal:d,children:r})};Ir.displayName=Qe;var Rr="DialogTrigger",na=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=ue(Rr,r),i=oe(n,s.triggerRef);return e.jsx(H.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ft(s.open),...o,ref:i,onClick:Q(t.onClick,s.onOpenToggle)})});na.displayName=Rr;var Lt="DialogPortal",[sa,Ar]=Er(Lt,{forceMount:void 0}),Dr=t=>{const{__scopeDialog:n,forceMount:r,children:o,container:s}=t,i=ue(Lt,n);return e.jsx(sa,{scope:n,forceMount:r,children:a.Children.map(o,d=>e.jsx(It,{present:r||i.open,children:e.jsx(cr,{asChild:!0,container:s,children:d})}))})};Dr.displayName=Lt;var We="DialogOverlay",_r=a.forwardRef((t,n)=>{const r=Ar(We,t.__scopeDialog),{forceMount:o=r.forceMount,...s}=t,i=ue(We,t.__scopeDialog);return i.modal?e.jsx(It,{present:o||i.open,children:e.jsx(oa,{...s,ref:n})}):null});_r.displayName=We;var aa=Ys("DialogOverlay.RemoveScroll"),oa=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=ue(We,r);return e.jsx(br,{as:aa,allowPinchZoom:!0,shards:[s.contentRef],children:e.jsx(H.div,{"data-state":Ft(s.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),je="DialogContent",Or=a.forwardRef((t,n)=>{const r=Ar(je,t.__scopeDialog),{forceMount:o=r.forceMount,...s}=t,i=ue(je,t.__scopeDialog);return e.jsx(It,{present:o||i.open,children:i.modal?e.jsx(ia,{...s,ref:n}):e.jsx(la,{...s,ref:n})})});Or.displayName=je;var ia=a.forwardRef((t,n)=>{const r=ue(je,t.__scopeDialog),o=a.useRef(null),s=oe(n,r.contentRef,o);return a.useEffect(()=>{const i=o.current;if(i)return gr(i)},[]),e.jsx(Lr,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,i=>{const d=i.detail.originalEvent,l=d.button===0&&d.ctrlKey===!0;(d.button===2||l)&&i.preventDefault()}),onFocusOutside:Q(t.onFocusOutside,i=>i.preventDefault())})}),la=a.forwardRef((t,n)=>{const r=ue(je,t.__scopeDialog),o=a.useRef(!1),s=a.useRef(!1);return e.jsx(Lr,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(o.current||r.triggerRef.current?.focus(),i.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(o.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=i.target;r.triggerRef.current?.contains(d)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Lr=a.forwardRef((t,n)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,...d}=t,l=ue(je,r),c=a.useRef(null),u=oe(n,c);return vr(),e.jsxs(e.Fragment,{children:[e.jsx(wr,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:i,children:e.jsx(dr,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ft(l.open),...d,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(da,{titleId:l.titleId}),e.jsx(pa,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qt="DialogTitle",qr=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=ue(qt,r);return e.jsx(H.h2,{id:s.titleId,...o,ref:n})});qr.displayName=qt;var Fr="DialogDescription",ca=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=ue(Fr,r);return e.jsx(H.p,{id:s.descriptionId,...o,ref:n})});ca.displayName=Fr;var $r="DialogClose",Br=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=ue($r,r);return e.jsx(H.button,{type:"button",...o,ref:n,onClick:Q(t.onClick,()=>s.onOpenChange(!1))})});Br.displayName=$r;function Ft(t){return t?"open":"closed"}var Vr="DialogTitleWarning",[Ti,Hr]=Rn(Vr,{contentName:je,titleName:qt,docsSlug:"dialog"}),da=({titleId:t})=>{const n=Hr(Vr),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return a.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},ua="DialogDescriptionWarning",pa=({contentRef:t,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Hr(ua).contentName}}.`;return a.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");n&&s&&(document.getElementById(n)||console.warn(o))},[o,t,n]),null},Wr=Ir,Ur=Dr,Gr=_r,Kr=Or,xa=qr,Qr=Br;function ma({...t}){return e.jsx(Wr,{"data-slot":"dialog",...t})}function fa({...t}){return e.jsx(Ur,{"data-slot":"dialog-portal",...t})}function ha({...t}){return e.jsx(Qr,{"data-slot":"dialog-close",...t})}function ga({className:t,...n}){return e.jsx(Gr,{"data-slot":"dialog-overlay",className:L("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function ba({className:t,children:n,showCloseButton:r=!0,...o}){return e.jsxs(fa,{"data-slot":"dialog-portal",children:[e.jsx(ga,{}),e.jsxs(Kr,{"data-slot":"dialog-content",className:L("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...o,children:[n,r&&e.jsxs(Qr,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Ge,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function va({className:t,...n}){return e.jsx("div",{"data-slot":"dialog-footer",className:L("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function wa({className:t,...n}){return e.jsx(xa,{"data-slot":"dialog-title",className:L("text-lg leading-none font-semibold",t),...n})}function Xt(t,[n,r]){return Math.min(r,Math.max(n,t))}var ka=a.createContext(void 0);function ya(t){const n=a.useContext(ka);return t||n||"ltr"}function ja(t){const n=Sa(t),r=a.forwardRef((o,s)=>{const{children:i,...d}=o,l=a.Children.toArray(i),c=l.find(Ca);if(c){const u=c.props.children,p=l.map(f=>f===c?a.Children.count(u)>1?a.Children.only(null):a.isValidElement(u)?u.props.children:null:f);return e.jsx(n,{...d,ref:s,children:a.isValidElement(u)?a.cloneElement(u,void 0,p):null})}return e.jsx(n,{...d,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function Sa(t){const n=a.forwardRef((r,o)=>{const{children:s,...i}=r;if(a.isValidElement(s)){const d=Ta(s),l=za(i,s.props);return s.type!==a.Fragment&&(l.ref=o?ye(o,d):d),a.cloneElement(s,l)}return a.Children.count(s)>1?a.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Na=Symbol("radix.slottable");function Ca(t){return a.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Na}function za(t,n){const r={...n};for(const o in n){const s=t[o],i=n[o];/^on[A-Z]/.test(o)?s&&i?r[o]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[o]=s):o==="style"?r[o]={...s,...i}:o==="className"&&(r[o]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function Ta(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Pa=[" ","Enter","ArrowUp","ArrowDown"],Ma=[" ","Enter"],Se="Select",[Ye,Ze,Ea]=An(Se),[Ae]=lr(Se,[Ea,kr]),Xe=kr(),[Ia,ve]=Ae(Se),[Ra,Aa]=Ae(Se),Yr=t=>{const{__scopeSelect:n,children:r,open:o,defaultOpen:s,onOpenChange:i,value:d,defaultValue:l,onValueChange:c,dir:u,name:p,autoComplete:f,disabled:x,required:k,form:C}=t,h=Xe(n),[m,N]=a.useState(null),[T,E]=a.useState(null),[V,$]=a.useState(!1),z=ya(u),[M,B]=ht({prop:o,defaultProp:s??!1,onChange:i,caller:Se}),[U,Y]=ht({prop:d,defaultProp:l,onChange:c,caller:Se}),K=a.useRef(null),F=m?C||!!m.closest("form"):!0,[Z,_]=a.useState(new Set),W=Array.from(Z).map(G=>G.props.value).join(";");return e.jsx(is,{...h,children:e.jsxs(Ia,{required:k,scope:n,trigger:m,onTriggerChange:N,valueNode:T,onValueNodeChange:E,valueNodeHasChildren:V,onValueNodeHasChildrenChange:$,contentId:ie(),value:U,onValueChange:Y,open:M,onOpenChange:B,dir:z,triggerPointerDownPosRef:K,disabled:x,children:[e.jsx(Ye.Provider,{scope:n,children:e.jsx(Ra,{scope:t.__scopeSelect,onNativeOptionAdd:a.useCallback(G=>{_(X=>new Set(X).add(G))},[]),onNativeOptionRemove:a.useCallback(G=>{_(X=>{const te=new Set(X);return te.delete(G),te})},[]),children:r})}),F?e.jsxs(vn,{"aria-hidden":!0,required:k,tabIndex:-1,name:p,autoComplete:f,value:U,onChange:G=>Y(G.target.value),disabled:x,form:C,children:[U===void 0?e.jsx("option",{value:""}):null,Array.from(Z)]},W):null]})})};Yr.displayName=Se;var Zr="SelectTrigger",Xr=a.forwardRef((t,n)=>{const{__scopeSelect:r,disabled:o=!1,...s}=t,i=Xe(r),d=ve(Zr,r),l=d.disabled||o,c=oe(n,d.onTriggerChange),u=Ze(r),p=a.useRef("touch"),[f,x,k]=kn(h=>{const m=u().filter(E=>!E.disabled),N=m.find(E=>E.value===d.value),T=yn(m,h,N);T!==void 0&&d.onValueChange(T.value)}),C=h=>{l||(d.onOpenChange(!0),k()),h&&(d.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return e.jsx(ls,{asChild:!0,...i,children:e.jsx(H.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":wn(d.value)?"":void 0,...s,ref:c,onClick:Q(s.onClick,h=>{h.currentTarget.focus(),p.current!=="mouse"&&C(h)}),onPointerDown:Q(s.onPointerDown,h=>{p.current=h.pointerType;const m=h.target;m.hasPointerCapture(h.pointerId)&&m.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(C(h),h.preventDefault())}),onKeyDown:Q(s.onKeyDown,h=>{const m=f.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&x(h.key),!(m&&h.key===" ")&&Pa.includes(h.key)&&(C(),h.preventDefault())})})})});Xr.displayName=Zr;var Jr="SelectValue",en=a.forwardRef((t,n)=>{const{__scopeSelect:r,className:o,style:s,children:i,placeholder:d="",...l}=t,c=ve(Jr,r),{onValueNodeHasChildrenChange:u}=c,p=i!==void 0,f=oe(n,c.onValueNodeChange);return ge(()=>{u(p)},[u,p]),e.jsx(H.span,{...l,ref:f,style:{pointerEvents:"none"},children:wn(c.value)?e.jsx(e.Fragment,{children:d}):i})});en.displayName=Jr;var Da="SelectIcon",tn=a.forwardRef((t,n)=>{const{__scopeSelect:r,children:o,...s}=t;return e.jsx(H.span,{"aria-hidden":!0,...s,ref:n,children:o||"▼"})});tn.displayName=Da;var _a="SelectPortal",rn=t=>e.jsx(cr,{asChild:!0,...t});rn.displayName=_a;var Ne="SelectContent",nn=a.forwardRef((t,n)=>{const r=ve(Ne,t.__scopeSelect),[o,s]=a.useState();if(ge(()=>{s(new DocumentFragment)},[]),!r.open){const i=o;return i?ur.createPortal(e.jsx(sn,{scope:t.__scopeSelect,children:e.jsx(Ye.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(an,{...t,ref:n})});nn.displayName=Ne;var ce=10,[sn,we]=Ae(Ne),Oa="SelectContentImpl",La=ja("SelectContent.RemoveScroll"),an=a.forwardRef((t,n)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:d,side:l,sideOffset:c,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:x,collisionPadding:k,sticky:C,hideWhenDetached:h,avoidCollisions:m,...N}=t,T=ve(Ne,r),[E,V]=a.useState(null),[$,z]=a.useState(null),M=oe(n,w=>V(w)),[B,U]=a.useState(null),[Y,K]=a.useState(null),F=Ze(r),[Z,_]=a.useState(!1),W=a.useRef(!1);a.useEffect(()=>{if(E)return gr(E)},[E]),vr();const G=a.useCallback(w=>{const[D,...g]=F().map(I=>I.ref.current),[y]=g.slice(-1),v=document.activeElement;for(const I of w)if(I===v||(I?.scrollIntoView({block:"nearest"}),I===D&&$&&($.scrollTop=0),I===y&&$&&($.scrollTop=$.scrollHeight),I?.focus(),document.activeElement!==v))return},[F,$]),X=a.useCallback(()=>G([B,E]),[G,B,E]);a.useEffect(()=>{Z&&X()},[Z,X]);const{onOpenChange:te,triggerPointerDownPosRef:re}=T;a.useEffect(()=>{if(E){let w={x:0,y:0};const D=y=>{w={x:Math.abs(Math.round(y.pageX)-(re.current?.x??0)),y:Math.abs(Math.round(y.pageY)-(re.current?.y??0))}},g=y=>{w.x<=10&&w.y<=10?y.preventDefault():E.contains(y.target)||te(!1),document.removeEventListener("pointermove",D),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",D),document.addEventListener("pointerup",g,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",g,{capture:!0})}}},[E,te,re]),a.useEffect(()=>{const w=()=>te(!1);return window.addEventListener("blur",w),window.addEventListener("resize",w),()=>{window.removeEventListener("blur",w),window.removeEventListener("resize",w)}},[te]);const[le,O]=kn(w=>{const D=F().filter(v=>!v.disabled),g=D.find(v=>v.ref.current===document.activeElement),y=yn(D,w,g);y&&setTimeout(()=>y.ref.current.focus())}),b=a.useCallback((w,D,g)=>{const y=!W.current&&!g;(T.value!==void 0&&T.value===D||y)&&(U(w),y&&(W.current=!0))},[T.value]),P=a.useCallback(()=>E?.focus(),[E]),S=a.useCallback((w,D,g)=>{const y=!W.current&&!g;(T.value!==void 0&&T.value===D||y)&&K(w)},[T.value]),j=o==="popper"?St:on,A=j===St?{side:l,sideOffset:c,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:x,collisionPadding:k,sticky:C,hideWhenDetached:h,avoidCollisions:m}:{};return e.jsx(sn,{scope:r,content:E,viewport:$,onViewportChange:z,itemRefCallback:b,selectedItem:B,onItemLeave:P,itemTextRefCallback:S,focusSelectedItem:X,selectedItemText:Y,position:o,isPositioned:Z,searchRef:le,children:e.jsx(br,{as:La,allowPinchZoom:!0,children:e.jsx(wr,{asChild:!0,trapped:T.open,onMountAutoFocus:w=>{w.preventDefault()},onUnmountAutoFocus:Q(s,w=>{T.trigger?.focus({preventScroll:!0}),w.preventDefault()}),children:e.jsx(dr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:w=>w.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:e.jsx(j,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:w=>w.preventDefault(),...N,...A,onPlaced:()=>_(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Q(N.onKeyDown,w=>{const D=w.ctrlKey||w.altKey||w.metaKey;if(w.key==="Tab"&&w.preventDefault(),!D&&w.key.length===1&&O(w.key),["ArrowUp","ArrowDown","Home","End"].includes(w.key)){let y=F().filter(v=>!v.disabled).map(v=>v.ref.current);if(["ArrowUp","End"].includes(w.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(w.key)){const v=w.target,I=y.indexOf(v);y=y.slice(I+1)}setTimeout(()=>G(y)),w.preventDefault()}})})})})})})});an.displayName=Oa;var qa="SelectItemAlignedPosition",on=a.forwardRef((t,n)=>{const{__scopeSelect:r,onPlaced:o,...s}=t,i=ve(Ne,r),d=we(Ne,r),[l,c]=a.useState(null),[u,p]=a.useState(null),f=oe(n,M=>p(M)),x=Ze(r),k=a.useRef(!1),C=a.useRef(!0),{viewport:h,selectedItem:m,selectedItemText:N,focusSelectedItem:T}=d,E=a.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&h&&m&&N){const M=i.trigger.getBoundingClientRect(),B=u.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),Y=N.getBoundingClientRect();if(i.dir!=="rtl"){const v=Y.left-B.left,I=U.left-v,R=M.left-I,ne=M.width+R,ae=Math.max(ne,B.width),J=window.innerWidth-ce,se=Xt(I,[ce,Math.max(ce,J-ae)]);l.style.minWidth=ne+"px",l.style.left=se+"px"}else{const v=B.right-Y.right,I=window.innerWidth-U.right-v,R=window.innerWidth-M.right-I,ne=M.width+R,ae=Math.max(ne,B.width),J=window.innerWidth-ce,se=Xt(I,[ce,Math.max(ce,J-ae)]);l.style.minWidth=ne+"px",l.style.right=se+"px"}const K=x(),F=window.innerHeight-ce*2,Z=h.scrollHeight,_=window.getComputedStyle(u),W=parseInt(_.borderTopWidth,10),G=parseInt(_.paddingTop,10),X=parseInt(_.borderBottomWidth,10),te=parseInt(_.paddingBottom,10),re=W+G+Z+te+X,le=Math.min(m.offsetHeight*5,re),O=window.getComputedStyle(h),b=parseInt(O.paddingTop,10),P=parseInt(O.paddingBottom,10),S=M.top+M.height/2-ce,j=F-S,A=m.offsetHeight/2,w=m.offsetTop+A,D=W+G+w,g=re-D;if(D<=S){const v=K.length>0&&m===K[K.length-1].ref.current;l.style.bottom="0px";const I=u.clientHeight-h.offsetTop-h.offsetHeight,R=Math.max(j,A+(v?P:0)+I+X),ne=D+R;l.style.height=ne+"px"}else{const v=K.length>0&&m===K[0].ref.current;l.style.top="0px";const R=Math.max(S,W+h.offsetTop+(v?b:0)+A)+g;l.style.height=R+"px",h.scrollTop=D-S+h.offsetTop}l.style.margin=`${ce}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=F+"px",o?.(),requestAnimationFrame(()=>k.current=!0)}},[x,i.trigger,i.valueNode,l,u,h,m,N,i.dir,o]);ge(()=>E(),[E]);const[V,$]=a.useState();ge(()=>{u&&$(window.getComputedStyle(u).zIndex)},[u]);const z=a.useCallback(M=>{M&&C.current===!0&&(E(),T?.(),C.current=!1)},[E,T]);return e.jsx($a,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:k,onScrollButtonChange:z,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:V},children:e.jsx(H.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});on.displayName=qa;var Fa="SelectPopperPosition",St=a.forwardRef((t,n)=>{const{__scopeSelect:r,align:o="start",collisionPadding:s=ce,...i}=t,d=Xe(r);return e.jsx(cs,{...d,...i,ref:n,align:o,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});St.displayName=Fa;var[$a,$t]=Ae(Ne,{}),Nt="SelectViewport",ln=a.forwardRef((t,n)=>{const{__scopeSelect:r,nonce:o,...s}=t,i=we(Nt,r),d=$t(Nt,r),l=oe(n,i.onViewportChange),c=a.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(Ye.Slot,{scope:r,children:e.jsx(H.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,u=>{const p=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:x}=d;if(x?.current&&f){const k=Math.abs(c.current-p.scrollTop);if(k>0){const C=window.innerHeight-ce*2,h=parseFloat(f.style.minHeight),m=parseFloat(f.style.height),N=Math.max(h,m);if(N<C){const T=N+k,E=Math.min(C,T),V=T-E;f.style.height=E+"px",f.style.bottom==="0px"&&(p.scrollTop=V>0?V:0,f.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});ln.displayName=Nt;var cn="SelectGroup",[Ba,Va]=Ae(cn),Ha=a.forwardRef((t,n)=>{const{__scopeSelect:r,...o}=t,s=ie();return e.jsx(Ba,{scope:r,id:s,children:e.jsx(H.div,{role:"group","aria-labelledby":s,...o,ref:n})})});Ha.displayName=cn;var dn="SelectLabel",Wa=a.forwardRef((t,n)=>{const{__scopeSelect:r,...o}=t,s=Va(dn,r);return e.jsx(H.div,{id:s.id,...o,ref:n})});Wa.displayName=dn;var Ue="SelectItem",[Ua,un]=Ae(Ue),pn=a.forwardRef((t,n)=>{const{__scopeSelect:r,value:o,disabled:s=!1,textValue:i,...d}=t,l=ve(Ue,r),c=we(Ue,r),u=l.value===o,[p,f]=a.useState(i??""),[x,k]=a.useState(!1),C=oe(n,T=>c.itemRefCallback?.(T,o,s)),h=ie(),m=a.useRef("touch"),N=()=>{s||(l.onValueChange(o),l.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ua,{scope:r,value:o,disabled:s,textId:h,isSelected:u,onItemTextChange:a.useCallback(T=>{f(E=>E||(T?.textContent??"").trim())},[]),children:e.jsx(Ye.ItemSlot,{scope:r,value:o,disabled:s,textValue:p,children:e.jsx(H.div,{role:"option","aria-labelledby":h,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...d,ref:C,onFocus:Q(d.onFocus,()=>k(!0)),onBlur:Q(d.onBlur,()=>k(!1)),onClick:Q(d.onClick,()=>{m.current!=="mouse"&&N()}),onPointerUp:Q(d.onPointerUp,()=>{m.current==="mouse"&&N()}),onPointerDown:Q(d.onPointerDown,T=>{m.current=T.pointerType}),onPointerMove:Q(d.onPointerMove,T=>{m.current=T.pointerType,s?c.onItemLeave?.():m.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(d.onPointerLeave,T=>{T.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Q(d.onKeyDown,T=>{c.searchRef?.current!==""&&T.key===" "||(Ma.includes(T.key)&&N(),T.key===" "&&T.preventDefault())})})})})});pn.displayName=Ue;var Le="SelectItemText",xn=a.forwardRef((t,n)=>{const{__scopeSelect:r,className:o,style:s,...i}=t,d=ve(Le,r),l=we(Le,r),c=un(Le,r),u=Aa(Le,r),[p,f]=a.useState(null),x=oe(n,N=>f(N),c.onItemTextChange,N=>l.itemTextRefCallback?.(N,c.value,c.disabled)),k=p?.textContent,C=a.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:k},c.value),[c.disabled,c.value,k]),{onNativeOptionAdd:h,onNativeOptionRemove:m}=u;return ge(()=>(h(C),()=>m(C)),[h,m,C]),e.jsxs(e.Fragment,{children:[e.jsx(H.span,{id:c.textId,...i,ref:x}),c.isSelected&&d.valueNode&&!d.valueNodeHasChildren?ur.createPortal(i.children,d.valueNode):null]})});xn.displayName=Le;var mn="SelectItemIndicator",fn=a.forwardRef((t,n)=>{const{__scopeSelect:r,...o}=t;return un(mn,r).isSelected?e.jsx(H.span,{"aria-hidden":!0,...o,ref:n}):null});fn.displayName=mn;var Ct="SelectScrollUpButton",hn=a.forwardRef((t,n)=>{const r=we(Ct,t.__scopeSelect),o=$t(Ct,t.__scopeSelect),[s,i]=a.useState(!1),d=oe(n,o.onScrollButtonChange);return ge(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?e.jsx(bn,{...t,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hn.displayName=Ct;var zt="SelectScrollDownButton",gn=a.forwardRef((t,n)=>{const r=we(zt,t.__scopeSelect),o=$t(zt,t.__scopeSelect),[s,i]=a.useState(!1),d=oe(n,o.onScrollButtonChange);return ge(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<u;i(p)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?e.jsx(bn,{...t,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});gn.displayName=zt;var bn=a.forwardRef((t,n)=>{const{__scopeSelect:r,onAutoScroll:o,...s}=t,i=we("SelectScrollButton",r),d=a.useRef(null),l=Ze(r),c=a.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return a.useEffect(()=>()=>c(),[c]),ge(()=>{l().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(H.div,{"aria-hidden":!0,...s,ref:n,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:Q(s.onPointerMove,()=>{i.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{c()})})}),Ga="SelectSeparator",Ka=a.forwardRef((t,n)=>{const{__scopeSelect:r,...o}=t;return e.jsx(H.div,{"aria-hidden":!0,...o,ref:n})});Ka.displayName=Ga;var Tt="SelectArrow",Qa=a.forwardRef((t,n)=>{const{__scopeSelect:r,...o}=t,s=Xe(r),i=ve(Tt,r),d=we(Tt,r);return i.open&&d.position==="popper"?e.jsx(ds,{...s,...o,ref:n}):null});Qa.displayName=Tt;var Ya="SelectBubbleInput",vn=a.forwardRef(({__scopeSelect:t,value:n,...r},o)=>{const s=a.useRef(null),i=oe(o,s),d=Jn(n);return a.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(d!==n&&p){const f=new Event("change",{bubbles:!0});p.call(l,n),l.dispatchEvent(f)}},[d,n]),e.jsx(H.select,{...r,style:{...Dn,...r.style},ref:i,defaultValue:n})});vn.displayName=Ya;function wn(t){return t===""||t===void 0}function kn(t){const n=_n(t),r=a.useRef(""),o=a.useRef(0),s=a.useCallback(d=>{const l=r.current+d;n(l),(function c(u){r.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>c(""),1e3))})(l)},[n]),i=a.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,s,i]}function yn(t,n,r){const s=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=r?t.indexOf(r):-1;let d=Za(t,Math.max(i,0));s.length===1&&(d=d.filter(u=>u!==r));const c=d.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Za(t,n){return t.map((r,o)=>t[(n+o)%t.length])}var Xa=Yr,Ja=Xr,eo=en,to=tn,ro=rn,no=nn,so=ln,ao=pn,oo=xn,io=fn,lo=hn,co=gn;function ot({...t}){return e.jsx(Xa,{"data-slot":"select",...t})}function it({...t}){return e.jsx(eo,{"data-slot":"select-value",...t})}function lt({className:t,size:n="default",children:r,...o}){return e.jsxs(Ja,{"data-slot":"select-trigger","data-size":n,className:L("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[r,e.jsx(to,{asChild:!0,children:e.jsx(Dt,{className:"size-4 opacity-50"})})]})}function ct({className:t,children:n,position:r="item-aligned",align:o="center",...s}){return e.jsx(ro,{children:e.jsxs(no,{"data-slot":"select-content",className:L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,align:o,...s,children:[e.jsx(uo,{}),e.jsx(so,{className:L("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(po,{})]})})}function dt({className:t,children:n,...r}){return e.jsxs(ao,{"data-slot":"select-item",className:L("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[e.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(io,{children:e.jsx(ke,{className:"size-4"})})}),e.jsx(oo,{children:n})]})}function uo({className:t,...n}){return e.jsx(lo,{"data-slot":"select-scroll-up-button",className:L("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(jr,{className:"size-4"})})}function po({className:t,...n}){return e.jsx(co,{"data-slot":"select-scroll-down-button",className:L("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Dt,{className:"size-4"})})}var Jt=1,xo=.9,mo=.8,fo=.17,ut=.1,pt=.999,ho=.9999,go=.99,bo=/[\\\/_+.#"@\[\(\{&]/,vo=/[\\\/_+.#"@\[\(\{&]/g,wo=/[\s-]/,jn=/[\s-]/g;function Pt(t,n,r,o,s,i,d){if(i===n.length)return s===t.length?Jt:go;var l=`${s},${i}`;if(d[l]!==void 0)return d[l];for(var c=o.charAt(i),u=r.indexOf(c,s),p=0,f,x,k,C;u>=0;)f=Pt(t,n,r,o,u+1,i+1,d),f>p&&(u===s?f*=Jt:bo.test(t.charAt(u-1))?(f*=mo,k=t.slice(s,u-1).match(vo),k&&s>0&&(f*=Math.pow(pt,k.length))):wo.test(t.charAt(u-1))?(f*=xo,C=t.slice(s,u-1).match(jn),C&&s>0&&(f*=Math.pow(pt,C.length))):(f*=fo,s>0&&(f*=Math.pow(pt,u-s))),t.charAt(u)!==n.charAt(i)&&(f*=ho)),(f<ut&&r.charAt(u-1)===o.charAt(i+1)||o.charAt(i+1)===o.charAt(i)&&r.charAt(u-1)!==o.charAt(i))&&(x=Pt(t,n,r,o,u+1,i+2,d),x*ut>f&&(f=x*ut)),f>p&&(p=f),u=r.indexOf(c,u+1);return d[l]=p,p}function er(t){return t.toLowerCase().replace(jn," ")}function ko(t,n,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Pt(t,n,er(t),er(n),0,0,{})}var Oe='[cmdk-group=""]',xt='[cmdk-group-items=""]',yo='[cmdk-group-heading=""]',Sn='[cmdk-item=""]',tr=`${Sn}:not([aria-disabled="true"])`,Mt="cmdk-item-select",Pe="data-value",jo=(t,n,r)=>ko(t,n,r),Nn=a.createContext(void 0),qe=()=>a.useContext(Nn),Cn=a.createContext(void 0),Bt=()=>a.useContext(Cn),zn=a.createContext(void 0),Tn=a.forwardRef((t,n)=>{let r=Me(()=>{var b,P;return{search:"",value:(P=(b=t.value)!=null?b:t.defaultValue)!=null?P:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=Me(()=>new Set),s=Me(()=>new Map),i=Me(()=>new Map),d=Me(()=>new Set),l=Pn(t),{label:c,children:u,value:p,onValueChange:f,filter:x,shouldFilter:k,loop:C,disablePointerSelection:h=!1,vimBindings:m=!0,...N}=t,T=ie(),E=ie(),V=ie(),$=a.useRef(null),z=Ao();Ce(()=>{if(p!==void 0){let b=p.trim();r.current.value=b,M.emit()}},[p]),Ce(()=>{z(6,Z)},[]);let M=a.useMemo(()=>({subscribe:b=>(d.current.add(b),()=>d.current.delete(b)),snapshot:()=>r.current,setState:(b,P,S)=>{var j,A,w,D;if(!Object.is(r.current[b],P)){if(r.current[b]=P,b==="search")F(),Y(),z(1,K);else if(b==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let g=document.getElementById(V);g?g.focus():(j=document.getElementById(T))==null||j.focus()}if(z(7,()=>{var g;r.current.selectedItemId=(g=_())==null?void 0:g.id,M.emit()}),S||z(5,Z),((A=l.current)==null?void 0:A.value)!==void 0){let g=P??"";(D=(w=l.current).onValueChange)==null||D.call(w,g);return}}M.emit()}},emit:()=>{d.current.forEach(b=>b())}}),[]),B=a.useMemo(()=>({value:(b,P,S)=>{var j;P!==((j=i.current.get(b))==null?void 0:j.value)&&(i.current.set(b,{value:P,keywords:S}),r.current.filtered.items.set(b,U(P,S)),z(2,()=>{Y(),M.emit()}))},item:(b,P)=>(o.current.add(b),P&&(s.current.has(P)?s.current.get(P).add(b):s.current.set(P,new Set([b]))),z(3,()=>{F(),Y(),r.current.value||K(),M.emit()}),()=>{i.current.delete(b),o.current.delete(b),r.current.filtered.items.delete(b);let S=_();z(4,()=>{F(),S?.getAttribute("id")===b&&K(),M.emit()})}),group:b=>(s.current.has(b)||s.current.set(b,new Set),()=>{i.current.delete(b),s.current.delete(b)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:T,inputId:V,labelId:E,listInnerRef:$}),[]);function U(b,P){var S,j;let A=(j=(S=l.current)==null?void 0:S.filter)!=null?j:jo;return b?A(b,r.current.search,P):0}function Y(){if(!r.current.search||l.current.shouldFilter===!1)return;let b=r.current.filtered.items,P=[];r.current.filtered.groups.forEach(j=>{let A=s.current.get(j),w=0;A.forEach(D=>{let g=b.get(D);w=Math.max(g,w)}),P.push([j,w])});let S=$.current;W().sort((j,A)=>{var w,D;let g=j.getAttribute("id"),y=A.getAttribute("id");return((w=b.get(y))!=null?w:0)-((D=b.get(g))!=null?D:0)}).forEach(j=>{let A=j.closest(xt);A?A.appendChild(j.parentElement===A?j:j.closest(`${xt} > *`)):S.appendChild(j.parentElement===S?j:j.closest(`${xt} > *`))}),P.sort((j,A)=>A[1]-j[1]).forEach(j=>{var A;let w=(A=$.current)==null?void 0:A.querySelector(`${Oe}[${Pe}="${encodeURIComponent(j[0])}"]`);w?.parentElement.appendChild(w)})}function K(){let b=W().find(S=>S.getAttribute("aria-disabled")!=="true"),P=b?.getAttribute(Pe);M.setState("value",P||void 0)}function F(){var b,P,S,j;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=o.current.size;return}r.current.filtered.groups=new Set;let A=0;for(let w of o.current){let D=(P=(b=i.current.get(w))==null?void 0:b.value)!=null?P:"",g=(j=(S=i.current.get(w))==null?void 0:S.keywords)!=null?j:[],y=U(D,g);r.current.filtered.items.set(w,y),y>0&&A++}for(let[w,D]of s.current)for(let g of D)if(r.current.filtered.items.get(g)>0){r.current.filtered.groups.add(w);break}r.current.filtered.count=A}function Z(){var b,P,S;let j=_();j&&(((b=j.parentElement)==null?void 0:b.firstChild)===j&&((S=(P=j.closest(Oe))==null?void 0:P.querySelector(yo))==null||S.scrollIntoView({block:"nearest"})),j.scrollIntoView({block:"nearest"}))}function _(){var b;return(b=$.current)==null?void 0:b.querySelector(`${Sn}[aria-selected="true"]`)}function W(){var b;return Array.from(((b=$.current)==null?void 0:b.querySelectorAll(tr))||[])}function G(b){let P=W()[b];P&&M.setState("value",P.getAttribute(Pe))}function X(b){var P;let S=_(),j=W(),A=j.findIndex(D=>D===S),w=j[A+b];(P=l.current)!=null&&P.loop&&(w=A+b<0?j[j.length-1]:A+b===j.length?j[0]:j[A+b]),w&&M.setState("value",w.getAttribute(Pe))}function te(b){let P=_(),S=P?.closest(Oe),j;for(;S&&!j;)S=b>0?Io(S,Oe):Ro(S,Oe),j=S?.querySelector(tr);j?M.setState("value",j.getAttribute(Pe)):X(b)}let re=()=>G(W().length-1),le=b=>{b.preventDefault(),b.metaKey?re():b.altKey?te(1):X(1)},O=b=>{b.preventDefault(),b.metaKey?G(0):b.altKey?te(-1):X(-1)};return a.createElement(H.div,{ref:n,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:b=>{var P;(P=N.onKeyDown)==null||P.call(N,b);let S=b.nativeEvent.isComposing||b.keyCode===229;if(!(b.defaultPrevented||S))switch(b.key){case"n":case"j":{m&&b.ctrlKey&&le(b);break}case"ArrowDown":{le(b);break}case"p":case"k":{m&&b.ctrlKey&&O(b);break}case"ArrowUp":{O(b);break}case"Home":{b.preventDefault(),G(0);break}case"End":{b.preventDefault(),re();break}case"Enter":{b.preventDefault();let j=_();if(j){let A=new Event(Mt);j.dispatchEvent(A)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:B.inputId,id:B.labelId,style:_o},c),Je(t,b=>a.createElement(Cn.Provider,{value:M},a.createElement(Nn.Provider,{value:B},b))))}),So=a.forwardRef((t,n)=>{var r,o;let s=ie(),i=a.useRef(null),d=a.useContext(zn),l=qe(),c=Pn(t),u=(o=(r=c.current)==null?void 0:r.forceMount)!=null?o:d?.forceMount;Ce(()=>{if(!u)return l.item(s,d?.id)},[u]);let p=Mn(s,i,[t.value,t.children,i],t.keywords),f=Bt(),x=be(z=>z.value&&z.value===p.current),k=be(z=>u||l.filter()===!1?!0:z.search?z.filtered.items.get(s)>0:!0);a.useEffect(()=>{let z=i.current;if(!(!z||t.disabled))return z.addEventListener(Mt,C),()=>z.removeEventListener(Mt,C)},[k,t.onSelect,t.disabled]);function C(){var z,M;h(),(M=(z=c.current).onSelect)==null||M.call(z,p.current)}function h(){f.setState("value",p.current,!0)}if(!k)return null;let{disabled:m,value:N,onSelect:T,forceMount:E,keywords:V,...$}=t;return a.createElement(H.div,{ref:ye(i,n),...$,id:s,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!x,"data-disabled":!!m,"data-selected":!!x,onPointerMove:m||l.getDisablePointerSelection()?void 0:h,onClick:m?void 0:C},t.children)}),No=a.forwardRef((t,n)=>{let{heading:r,children:o,forceMount:s,...i}=t,d=ie(),l=a.useRef(null),c=a.useRef(null),u=ie(),p=qe(),f=be(k=>s||p.filter()===!1?!0:k.search?k.filtered.groups.has(d):!0);Ce(()=>p.group(d),[]),Mn(d,l,[t.value,t.heading,c]);let x=a.useMemo(()=>({id:d,forceMount:s}),[s]);return a.createElement(H.div,{ref:ye(l,n),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&a.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Je(t,k=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},a.createElement(zn.Provider,{value:x},k))))}),Co=a.forwardRef((t,n)=>{let{alwaysRender:r,...o}=t,s=a.useRef(null),i=be(d=>!d.search);return!r&&!i?null:a.createElement(H.div,{ref:ye(s,n),...o,"cmdk-separator":"",role:"separator"})}),zo=a.forwardRef((t,n)=>{let{onValueChange:r,...o}=t,s=t.value!=null,i=Bt(),d=be(u=>u.search),l=be(u=>u.selectedItemId),c=qe();return a.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),a.createElement(H.input,{ref:n,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?t.value:d,onChange:u=>{s||i.setState("search",u.target.value),r?.(u.target.value)}})}),To=a.forwardRef((t,n)=>{let{children:r,label:o="Suggestions",...s}=t,i=a.useRef(null),d=a.useRef(null),l=be(u=>u.selectedItemId),c=qe();return a.useEffect(()=>{if(d.current&&i.current){let u=d.current,p=i.current,f,x=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let k=u.offsetHeight;p.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return x.observe(u),()=>{cancelAnimationFrame(f),x.unobserve(u)}}},[]),a.createElement(H.div,{ref:ye(i,n),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":o,id:c.listId},Je(t,u=>a.createElement("div",{ref:ye(d,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Po=a.forwardRef((t,n)=>{let{open:r,onOpenChange:o,overlayClassName:s,contentClassName:i,container:d,...l}=t;return a.createElement(Wr,{open:r,onOpenChange:o},a.createElement(Ur,{container:d},a.createElement(Gr,{"cmdk-overlay":"",className:s}),a.createElement(Kr,{"aria-label":t.label,"cmdk-dialog":"",className:i},a.createElement(Tn,{ref:n,...l}))))}),Mo=a.forwardRef((t,n)=>be(r=>r.filtered.count===0)?a.createElement(H.div,{ref:n,...t,"cmdk-empty":"",role:"presentation"}):null),Eo=a.forwardRef((t,n)=>{let{progress:r,children:o,label:s="Loading...",...i}=t;return a.createElement(H.div,{ref:n,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Je(t,d=>a.createElement("div",{"aria-hidden":!0},d)))}),De=Object.assign(Tn,{List:To,Item:So,Input:zo,Group:No,Separator:Co,Dialog:Po,Empty:Mo,Loading:Eo});function Io(t,n){let r=t.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function Ro(t,n){let r=t.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Pn(t){let n=a.useRef(t);return Ce(()=>{n.current=t}),n}var Ce=typeof window>"u"?a.useEffect:a.useLayoutEffect;function Me(t){let n=a.useRef();return n.current===void 0&&(n.current=t()),n}function be(t){let n=Bt(),r=()=>t(n.snapshot());return a.useSyncExternalStore(n.subscribe,r,r)}function Mn(t,n,r,o=[]){let s=a.useRef(),i=qe();return Ce(()=>{var d;let l=(()=>{var u;for(let p of r){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(u=p.current.textContent)==null?void 0:u.trim():s.current}})(),c=o.map(u=>u.trim());i.value(t,l,c),(d=n.current)==null||d.setAttribute(Pe,l),s.current=l}),s}var Ao=()=>{let[t,n]=a.useState(),r=Me(()=>new Map);return Ce(()=>{r.current.forEach(o=>o()),r.current=new Map},[t]),(o,s)=>{r.current.set(o,s),n({})}};function Do(t){let n=t.type;return typeof n=="function"?n(t.props):"render"in n?n.render(t.props):t}function Je({asChild:t,children:n},r){return t&&a.isValidElement(n)?a.cloneElement(Do(n),{ref:n.ref},r(n.props.children)):r(n)}var _o={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Oo({className:t,...n}){return e.jsx(De,{"data-slot":"command",className:L("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...n})}function Lo({className:t,...n}){return e.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[e.jsx(Sr,{className:"size-4 shrink-0 opacity-50"}),e.jsx(De.Input,{"data-slot":"command-input",className:L("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...n})]})}function qo({className:t,...n}){return e.jsx(De.List,{"data-slot":"command-list",className:L("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...n})}function Fo({...t}){return e.jsx(De.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function $o({className:t,...n}){return e.jsx(De.Group,{"data-slot":"command-group",className:L("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...n})}function Bo({className:t,...n}){return e.jsx(De.Item,{"data-slot":"command-item",className:L("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}const rr=({icon:t,title:n})=>e.jsxs("div",{className:"flex items-center gap-2.5 pb-2.5 mb-4 border-b border-zinc-100 dark:border-zinc-800/50",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 flex items-center justify-center text-zinc-500",children:e.jsx(t,{size:16})}),e.jsx("span",{className:"text-sm font-bold tracking-tight text-zinc-900 dark:text-zinc-100",children:n})]}),mt=({label:t,icon:n,children:r})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(jt,{className:"text-[10px] font-black uppercase tracking-[0.1em] text-zinc-400 flex items-center gap-2 ml-1",children:[n&&e.jsx(n,{size:12,className:"text-zinc-400"}),t]}),r]});function Vo({isOpen:t,onClose:n,onSubmit:r,initialData:o,selectedDate:s,saving:i}){const{currentUser:d}=Et(),[l,c]=a.useState({league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:"",channel:"",cdn:"AWS"}),[u,p]=a.useState({leagues:[],channels:[],cdnOptions:[]}),[f,x]=a.useState(!1);a.useEffect(()=>{const m=hr.subscribeConfigs(N=>p(N));return()=>m()},[]),a.useEffect(()=>{t&&c(o?{league:o.league||"",match:o.match||o.title||"",teamA:o.teamA||"",teamB:o.teamB||"",startTime:o.startTime||"",startDate:o.startDate||"",channel:o.channel||o.liveChannel||"",cdn:o.cdn||"AWS"}:{league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:s||new Date().toISOString().split("T")[0],channel:"",cdn:"AWS"})},[t,o,s]);const k=m=>{let N={...l,match:m};const E=[" vs "," VS "," Vs "," - "," v "].find(V=>m.includes(V));if(E){const V=m.split(E);V.length>=2&&(N.teamA=V[0].trim(),N.teamB=V.slice(1).join(E).trim())}c(N)},C=m=>{m.preventDefault();const T=(typeof d=="object"?d?.name:d)||"System",E={...l,...o?{updatedBy:T}:{createdBy:T}};r(E)},h=l.teamA&&l.teamB&&l.startDate&&l.startTime;return e.jsx(ma,{open:t,onOpenChange:n,children:e.jsx(ba,{showCloseButton:!1,className:"max-w-[95vw] sm:max-w-[750px] p-0 gap-0 overflow-hidden bg-white dark:bg-[#09090b] border-zinc-200 dark:border-zinc-800 sm:rounded-[2.5rem] rounded-t-[2.5rem] shadow-2xl block animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("form",{id:"match-form",onSubmit:C,className:"flex flex-col h-full max-h-[95vh]",children:[e.jsxs("div",{className:"shrink-0 px-6 py-6 bg-zinc-50/50 dark:bg-black/20 border-b border-zinc-100 dark:border-zinc-900 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-zinc-900 dark:bg-white text-white dark:text-black flex items-center justify-center shadow-xl shadow-zinc-200 dark:shadow-none",children:o?e.jsx(On,{size:24}):e.jsx(vt,{size:24})}),e.jsxs("div",{children:[e.jsxs(wa,{className:"text-xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[o?"Edit Match":"New Match Entry",o&&e.jsx(xs,{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-none px-2 py-0 text-[10px] uppercase font-bold",children:"Live Sync"})]}),e.jsx("p",{className:"text-xs font-medium text-zinc-500 mt-0.5",children:"Configure tournament and broadcast details"})]})]}),e.jsx(ha,{asChild:!0,children:e.jsx(_e,{variant:"ghost",size:"icon",className:"w-10 h-10 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:e.jsx(Ge,{size:20})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-3",children:[e.jsx("div",{className:"w-full sm:w-48 shrink-0",children:e.jsxs(ot,{value:l.league,onValueChange:m=>c({...l,league:m}),children:[e.jsx(lt,{className:"h-11 bg-white dark:bg-black border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm pl-4 text-xs font-bold",children:e.jsx(it,{placeholder:""})}),e.jsx(ct,{className:"rounded-xl border-zinc-200 dark:border-zinc-800 shadow-xl",children:u.leagues.map(m=>e.jsx(dt,{value:m,className:"text-xs transition-colors",children:m},m))})]})}),e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none transition-transform group-focus-within:scale-110",children:e.jsx(fs,{size:16,className:"text-amber-500 fill-amber-500/10"})}),e.jsx(nt,{placeholder:"",value:l.match,onChange:m=>k(m.target.value),className:"pl-11 h-11 bg-white dark:bg-black border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white focus:border-transparent text-xs font-medium transition-all"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 sm:p-8 space-y-8",children:[e.jsx("div",{className:"relative bg-white dark:bg-[#0a0a0b] rounded-[2rem] border border-zinc-200 dark:border-zinc-800 shadow-xl p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsxs("div",{className:"flex-1 w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(us,{size:14,className:"text-zinc-400"}),e.jsx(jt,{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Home Team"})]}),e.jsx(nt,{value:l.teamA,onChange:m=>c({...l,teamA:m.target.value}),placeholder:"",className:"h-12 text-center text-lg font-bold bg-zinc-50 dark:bg-zinc-900/50 border-none transition-all rounded-2xl focus:bg-white dark:focus:bg-black ring-1 ring-zinc-100 dark:ring-zinc-800 focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white"})]}),e.jsxs("div",{className:"relative shrink-0 flex items-center justify-center w-14 h-14",children:[e.jsx("div",{className:"absolute inset-0 bg-zinc-100 dark:bg-zinc-800 rounded-full animate-pulse opacity-50"}),e.jsx("div",{className:"relative w-12 h-12 rounded-full bg-white dark:bg-zinc-900 flex items-center justify-center border-2 border-zinc-100 dark:border-zinc-800 text-zinc-900 dark:text-white font-black text-xs shadow-inner italic",children:"VS"})]}),e.jsxs("div",{className:"flex-1 w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 px-1",children:[e.jsx(jt,{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400 text-right",children:"Away Team"}),e.jsx(Is,{size:14,className:"text-zinc-400"})]}),e.jsx(nt,{value:l.teamB,onChange:m=>c({...l,teamB:m.target.value}),placeholder:"",className:"h-12 text-center text-lg font-bold bg-zinc-50 dark:bg-zinc-900/50 border-none transition-all rounded-2xl focus:bg-white dark:focus:bg-black ring-1 ring-zinc-100 dark:ring-zinc-800 focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(rr,{icon:Nr,title:"Broadcast Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(mt,{label:"Date",icon:Ln,children:e.jsxs(wt,{children:[e.jsx(kt,{asChild:!0,children:e.jsx(_e,{variant:"outline",className:L("w-full h-11 justify-start rounded-xl border-zinc-200 dark:border-zinc-800 px-4 text-xs font-bold",!l.startDate&&"text-muted-foreground"),children:l.startDate?Re(Qt(l.startDate),"dd MMM yyyy"):""})}),e.jsx(yt,{className:"w-auto p-0 rounded-2xl border-zinc-200 dark:border-zinc-800 shadow-2xl",align:"start",children:e.jsx(yr,{mode:"single",selected:l.startDate?Qt(l.startDate):void 0,onSelect:m=>m&&c({...l,startDate:Re(m,"yyyy-MM-dd")}),initialFocus:!0,className:"rounded-2xl"})})]})}),e.jsx(mt,{label:"Time (UTC+7)",icon:Rt,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ot,{value:l.startTime?.split(":")[0]||"19",onValueChange:m=>c({...l,startTime:`${m}:${l.startTime?.split(":")[1]||"00"}`}),children:[e.jsx(lt,{className:"h-11 rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold",children:e.jsx(it,{placeholder:""})}),e.jsx(ct,{className:"h-64 rounded-xl",children:Array.from({length:24},(m,N)=>N.toString().padStart(2,"0")).map(m=>e.jsx(dt,{value:m,className:"text-xs",children:m},m))})]}),e.jsx("span",{className:"text-zinc-300 font-bold",children:":"}),e.jsxs(ot,{value:l.startTime?.split(":")[1]||"00",onValueChange:m=>c({...l,startTime:`${l.startTime?.split(":")[0]||"00"}:${m}`}),children:[e.jsx(lt,{className:"h-11 rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold",children:e.jsx(it,{placeholder:""})}),e.jsx(ct,{className:"h-64 rounded-xl",children:["00","05","10","15","20","25","30","35","40","45","50","55"].map(m=>e.jsx(dt,{value:m,className:"text-xs",children:m},m))})]})]})})]}),e.jsx(mt,{label:"Source Channel",icon:Yt,children:e.jsxs(wt,{open:f,onOpenChange:x,children:[e.jsx(kt,{asChild:!0,children:e.jsxs(_e,{variant:"outline",role:"combobox",className:"w-full h-11 justify-between rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold text-zinc-700 dark:text-zinc-300 transition-all hover:bg-zinc-50 dark:hover:bg-zinc-900",children:[l.channel?l.channel:"",e.jsx(Yt,{className:"ml-2 h-4 w-4 shrink-0 opacity-40"})]})}),e.jsx(yt,{className:"w-[300px] p-0 rounded-2xl border-zinc-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:e.jsxs(Oo,{className:"bg-white dark:bg-zinc-950",children:[e.jsx(Lo,{placeholder:"",className:"h-11 text-xs"}),e.jsxs(qo,{className:"max-h-[240px] custom-scrollbar",children:[e.jsx(Fo,{className:"py-6 text-xs text-zinc-500 text-center uppercase tracking-widest font-black",children:"No results found"}),e.jsx($o,{children:u.channels.map(m=>e.jsxs(Bo,{value:m,className:"flex items-center gap-2 py-2.5 px-4 cursor-pointer",onSelect:N=>{c({...l,channel:N===l.channel?"":N}),x(!1)},children:[e.jsx("div",{className:L("w-4 h-4 rounded-full border-2 flex items-center justify-center transition-all",l.channel===m?"border-zinc-900 dark:border-white bg-zinc-900 dark:bg-white":"border-zinc-200 dark:border-zinc-800"),children:e.jsx(ke,{className:L("h-2.5 w-2.5",l.channel===m?"text-white dark:text-black":"opacity-0")})}),e.jsx("span",{className:"text-xs font-medium",children:m})]},m))})]})]})})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(rr,{icon:mr,title:"Cloud Platform"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.cdnOptions.map(m=>e.jsxs("button",{type:"button",onClick:()=>c({...l,cdn:m.id}),className:L("relative flex flex-col items-start gap-4 p-4 rounded-2xl border-2 transition-all group overflow-hidden",l.cdn===m.id?"border-zinc-900 dark:border-white bg-zinc-50 dark:bg-zinc-900":"border-zinc-100 dark:border-zinc-900 bg-white dark:bg-black/40 hover:border-zinc-200 dark:hover:border-zinc-800"),children:[l.cdn===m.id&&e.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 bg-zinc-900 dark:bg-white rounded-bl-xl flex items-center justify-center text-white dark:text-black",children:e.jsx(ke,{size:14,strokeWidth:3})}),e.jsx("div",{className:L("w-8 h-8 rounded-xl flex items-center justify-center transition-all",l.cdn===m.id?"bg-white dark:bg-zinc-800 shadow-sm":"bg-zinc-50 dark:bg-zinc-900"),children:e.jsx("div",{className:L("w-2 h-2 rounded-full",m.color||"bg-zinc-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:L("text-[10px] font-black uppercase tracking-widest",l.cdn===m.id?"text-zinc-900 dark:text-zinc-100":"text-zinc-400"),children:"CDN Node"}),e.jsx("p",{className:L("text-xs font-bold leading-none mt-1",l.cdn===m.id?"text-zinc-900 dark:text-zinc-100":"text-zinc-500"),children:m.label})]})]},m.id))})]})]})]}),e.jsxs(va,{className:"shrink-0 p-6 sm:px-10 bg-white dark:bg-black border-t border-zinc-100 dark:border-zinc-800 flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:[e.jsx(_e,{type:"button",variant:"outline",onClick:n,disabled:i,className:"h-12 border-none bg-zinc-100 dark:bg-zinc-900 hover:bg-zinc-200 dark:hover:bg-zinc-800 text-zinc-600 dark:text-zinc-400 rounded-2xl font-bold transition-all px-8 order-2 sm:order-1",children:"Cancel"}),e.jsxs(_e,{type:"submit",disabled:i||!h,className:L("h-12 min-w-[180px] rounded-2xl font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 flex items-center justify-center gap-3 order-1 sm:order-2",o?"bg-emerald-500 hover:bg-emerald-600 text-white shadow-emerald-200 dark:shadow-none":"bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-black dark:hover:bg-zinc-100 shadow-zinc-200 dark:shadow-none"),children:[i?e.jsx(ir,{className:"h-5 w-5 animate-spin"}):o?e.jsx(ke,{size:20,strokeWidth:3}):e.jsx(vt,{size:20}),i?"Synchronizing...":o?"Save Changes":"Publish Entry"]})]})]})})})}const Ho=({className:t})=>{const[n,r]=a.useState(new Date);return a.useEffect(()=>{const o=setInterval(()=>r(new Date),1e3);return()=>clearInterval(o)},[]),e.jsxs("div",{className:L("flex items-center gap-2 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-sm font-mono text-zinc-700 dark:text-zinc-300 font-bold",t),children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),e.jsx("span",{className:"min-w-[64px] text-center",children:Re(n,"HH:mm:ss")})]})},Wo=a.memo(({match:t,onClick:n,onEdit:r,onDelete:o,canEdit:s})=>{const[i,d]=a.useState(!1),l=t.isLiveTime,c=t.isFinished,u=l?"bg-red-500":c?"bg-zinc-400":"bg-emerald-500",p=l?"bg-red-50 dark:bg-red-950/20":c?"bg-zinc-50 dark:bg-zinc-900/50":"bg-white dark:bg-zinc-900",f=c?"text-zinc-400":"text-zinc-900 dark:text-zinc-100";return e.jsxs("div",{onClick:n,className:`relative group rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.005] hover:border-zinc-300 dark:hover:border-zinc-700 ${p}`,children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${u}`}),e.jsx("div",{className:"p-4 pl-5",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center min-w-[3.5rem] pt-1",children:[e.jsx("span",{className:`text-xl font-black tracking-tight ${l?"text-red-600":c?"text-zinc-400":"text-zinc-900 dark:text-white"}`,children:t.startTime}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l?"bg-red-500 animate-pulse":c?"bg-zinc-400":"bg-emerald-500"}`}),e.jsx("span",{className:"text-[9px] font-bold uppercase text-zinc-400",children:l?"LIVE":c?"END":"SOON"})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm md:text-base font-bold truncate pr-2 ${f}`,children:t.teamA}),(l||c)&&e.jsx("span",{className:"text-lg font-black font-mono w-8 text-center bg-zinc-100 dark:bg-zinc-800 rounded",children:t.scoreA})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm md:text-base font-bold truncate pr-2 ${f}`,children:t.teamB}),(l||c)&&e.jsx("span",{className:"text-lg font-black font-mono w-8 text-center bg-zinc-100 dark:bg-zinc-800 rounded",children:t.scoreB})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("button",{onClick:x=>{x.stopPropagation(),d(!i)},className:"md:hidden p-1 text-zinc-400",children:i?e.jsx(jr,{size:20}):e.jsx(Dt,{size:20})}),e.jsx("div",{className:"hidden md:flex items-center gap-1",children:s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:x=>{x.stopPropagation(),r(t)},className:"p-1.5 text-zinc-400 hover:text-blue-500 rounded-md hover:bg-blue-50 transition-colors",children:e.jsx(ms,{size:14})}),e.jsx("button",{onClick:x=>{x.stopPropagation(),o(t.id)},className:"p-1.5 text-zinc-400 hover:text-red-500 rounded-md hover:bg-red-50 transition-colors",children:e.jsx(Ke,{size:14})})]})})]})]})}),e.jsxs("div",{className:`bg-zinc-50/80 dark:bg-zinc-900/50 border-t border-zinc-100 dark:border-zinc-800 px-4 py-2 text-xs text-zinc-500 flex flex-wrap items-center gap-x-4 gap-y-2 ${i?"block":"hidden md:flex"}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[40%]",children:[e.jsx(bs,{size:12,className:"shrink-0"}),e.jsx("span",{className:"truncate font-medium",children:t.league})]}),e.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[40%]",children:[e.jsx(Nr,{size:12,className:"shrink-0"}),e.jsx("span",{className:"truncate font-medium",children:t.channel||"No Channel"})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-3 shrink-0",children:[e.jsx(nr,{active:t.hasStartStat,label:"S",title:"Start Stats"}),e.jsx(nr,{active:t.hasEndStat,label:"E",title:"End Stats"})]}),i&&s&&e.jsxs("div",{className:"w-full flex justify-end gap-3 pt-2 mt-2 border-t border-zinc-200 dark:border-zinc-700 md:hidden",children:[e.jsx("button",{onClick:x=>{x.stopPropagation(),r(t)},className:"text-[10px] font-bold uppercase text-blue-600 bg-blue-50 px-3 py-1.5 rounded-md",children:"Edit"}),e.jsx("button",{onClick:x=>{x.stopPropagation(),o(t.id)},className:"text-[10px] font-bold uppercase text-red-600 bg-red-50 px-3 py-1.5 rounded-md",children:"Delete"})]})]})]})}),nr=({active:t,label:n,title:r})=>e.jsxs("div",{className:"flex items-center gap-1",title:r,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-zinc-300 dark:bg-zinc-700"}`}),e.jsx("span",{className:"text-[9px] font-black text-zinc-400",children:n})]}),Ve=({label:t,icon:n,count:r,active:o,onClick:s,isLive:i})=>e.jsxs("button",{onClick:s,className:L("flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all whitespace-nowrap border select-none",o?i?"bg-red-500 text-white border-red-500 shadow-sm":"bg-zinc-900 dark:bg-white text-white dark:text-black border-zinc-900 dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:[e.jsx(n,{size:14,className:i&&o?"animate-pulse":""}),e.jsx("span",{className:"hidden lg:inline",children:t}),e.jsx("span",{className:L("px-1.5 py-0.5 rounded-md text-[9px] min-w-[18px] text-center",o?"bg-white/20":"bg-zinc-100 dark:bg-zinc-800"),children:r})]});function Pi(){const{currentUser:t}=Et(),n=qn(t,[Vt.LEAD,Vt.ENGINEER]),{selectedDate:r,setSelectedDate:o,matches:s,allMatches:i,loading:d,stats:l,searchQuery:c,setSearchQuery:u,filterType:p,setFilterType:f,selectedMatch:x,setSelectedMatch:k,isManualModalOpen:C,setIsManualModalOpen:h,editingMatch:m,setEditingMatch:N,saving:T,deleteConfirm:E,setDeleteConfirm:V,isDataPreviewOpen:$,setIsDataPreviewOpen:z,handlePrevDay:M,handleNextDay:B,handleGoToday:U,handleSaveMatch:Y,handleDeleteMatch:K}=Os();return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-black overflow-hidden relative",children:[e.jsx("header",{className:"shrink-0 sticky top-0 z-30 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-xl border-b border-zinc-200 dark:border-zinc-800 px-4 py-3 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ho,{className:"text-xs md:text-sm"}),e.jsx("div",{className:"hidden sm:block h-8 w-px bg-zinc-200 dark:bg-zinc-800"}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("h1",{className:"text-lg font-black tracking-tight dark:text-white uppercase leading-none",children:"Match Stat"})})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-zinc-100 dark:bg-zinc-900 p-1 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[e.jsx("button",{onClick:M,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-all",children:e.jsx(hs,{size:16})}),e.jsxs(wt,{children:[e.jsx(kt,{asChild:!0,children:e.jsx("button",{className:"px-3 py-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-xs font-black uppercase tracking-wider dark:text-zinc-300 transition-all",children:Wt(r)?"Today":Re(r,"dd MMM yyyy")})}),e.jsx(yt,{className:"w-auto p-0 border-zinc-200 dark:border-zinc-800",align:"center",children:e.jsx(yr,{mode:"single",selected:r,onSelect:F=>F&&o(F),initialFocus:!0,className:"bg-white dark:bg-zinc-950"})})]}),e.jsx("button",{onClick:B,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-all",children:e.jsx(gs,{size:16})}),!Wt(r)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-4 bg-zinc-300 dark:bg-zinc-700 mx-1"}),e.jsx("button",{onClick:U,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 text-blue-500 hover:text-blue-600 rounded-lg transition-all",title:"Go to Today",children:e.jsx(Ps,{size:16})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>z(!0),disabled:d||i?.length===0,className:"h-9 px-4 items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-emerald-500/20 active:scale-95 flex disabled:opacity-50 disabled:pointer-events-none",children:[e.jsx(Bn,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Data Preview"})]}),n&&e.jsxs("button",{onClick:()=>{N(null),h(!0)},className:"h-9 px-4 items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-indigo-500/20 active:scale-95 flex",children:[e.jsx(At,{size:16})," ",e.jsx("span",{className:"hidden md:inline",children:"Manual Add"})]})]})]})}),e.jsx("div",{className:"shrink-0 bg-white dark:bg-zinc-950 border-b border-zinc-100 dark:border-zinc-900 px-4 py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 overflow-x-auto no-scrollbar",children:[e.jsx(Ve,{label:"All Matches",icon:ns,count:l.total,active:p==="ALL",onClick:()=>f("ALL")}),e.jsx(Ve,{label:"Live Now",icon:Vn,count:l.live,active:p==="LIVE",onClick:()=>f("LIVE"),isLive:!0}),e.jsx(Ve,{label:"Upcoming",icon:ys,count:l.pending,active:p==="UPCOMING",onClick:()=>f("UPCOMING")}),e.jsx(Ve,{label:"Finished",icon:bt,count:l.finished,active:p==="FINISHED",onClick:()=>f("FINISHED")}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx(Sr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-indigo-500 transition-colors",size:14}),e.jsx("input",{type:"text",placeholder:"Search...",value:c,onChange:F=>u(F.target.value),className:"h-9 pl-9 pr-4 bg-zinc-100 dark:bg-zinc-900 border-transparent rounded-xl text-xs font-medium outline-none focus:bg-white dark:focus:bg-zinc-950 focus:ring-2 focus:ring-indigo-500/20 transition-all w-32 md:w-48 placeholder:text-zinc-400"})]})})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto h-full",children:d?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(F=>e.jsx("div",{className:"h-28 bg-zinc-100 dark:bg-zinc-900 rounded-xl animate-pulse"},F))}):s.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] gap-4 opacity-60",children:[e.jsx(ps,{size:48,className:"text-zinc-300",strokeWidth:1}),e.jsx("p",{className:"text-sm font-medium text-zinc-500",children:"No matches found"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-20",children:s.map((F,Z)=>e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-backwards",style:{animationDelay:`${Z*50}ms`},children:e.jsx(Wo,{match:F,onClick:()=>k(F),onEdit:_=>{N(_),h(!0)},onDelete:_=>V({isOpen:!0,id:_}),canEdit:n})},F.id))})})}),e.jsx(Ws,{isOpen:!!x,onClose:()=>k(null),matchData:x,canEdit:n}),e.jsx(Vo,{isOpen:C,onClose:()=>h(!1),onSubmit:Y,initialData:m,saving:T}),e.jsx(ss,{data:i||[],isOpen:$,onClose:()=>z(!1)}),e.jsx(or,{isOpen:E.isOpen,onClose:()=>V({isOpen:!1,id:null}),title:"Delete Match",message:"Are you sure you want to remove this match? This cannot be undone.",onConfirm:K,isDanger:!0})]})}export{Pi as default};
