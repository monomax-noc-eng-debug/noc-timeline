import{u as D,a as E,b as F,r as i,j as e,B as f,L as g,U as R,c as v,d as j}from"./index-Q34mk0jU.js";import{I as m}from"./input-BwwmxUUi.js";import{A as L}from"./arrow-left-CWXq2fbT.js";import{U as w,C as A}from"./user-plus-DogJnwvF.js";import{M as I}from"./mail-DkWz_QbG.js";import{E as y}from"./eye-off-CI_8UmWm.js";import{E as N}from"./eye-BQDK3RpT.js";function q(){const l=D(),{toast:t}=E(),{setCurrentUser:x}=F(),[s,n]=i.useState({name:"",email:"",password:"",confirmPassword:""}),[r,p]=i.useState(!1),[o,b]=i.useState(!1),[c,C]=i.useState(!1),[u,P]=i.useState(!1),k=async a=>{if(a.preventDefault(),!s.name||!s.email||!s.password){t({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields"});return}const z=["test.com","test","example.com","example","admin.com","admin","demo.com","demo","temp.com","temporary.com","fake.com","sample.com","localhost","dummy.com","mailinator.com","guerrillamail.com","10minutemail.com","throwaway.email","tempmail.com","yopmail.com"],h=s.email.split("@")[1]?.toLowerCase();if(!h||z.includes(h)){t({variant:"destructive",title:"Invalid Email Domain",description:"Please use a valid professional email address. Test emails (e.g., @test, @admin, @example) are not allowed."});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){t({variant:"destructive",title:"Invalid Email Format",description:"Please enter a valid email address (e.g., name@company.com)"});return}if(s.password.length<6){t({variant:"destructive",title:"Weak Password",description:"Password must be at least 6 characters"});return}if(s.password!==s.confirmPassword){t({variant:"destructive",title:"Password Mismatch",description:"Passwords do not match"});return}try{p(!0);const d=await j.register({name:s.name,email:s.email,password:s.password,role:"Viewer"});x(d),t({title:"Registration Successful",description:`Welcome to NOC Operations, ${d.name}!`,className:"bg-emerald-600 text-white border-none"}),l("/")}catch(d){t({variant:"destructive",title:"Registration Failed",description:d.message})}finally{p(!1)}},S=async()=>{try{b(!0);const a=await j.loginWithGoogle();x({uid:a.uid,name:a.name,email:a.email,role:a.role}),t({title:"Registration Successful",description:`Welcome, ${a.name}!`,className:"bg-emerald-600 text-white border-none"}),l("/")}catch(a){a.message!=="Sign-in cancelled"&&t({variant:"destructive",title:"Registration Failed",description:a.message})}finally{b(!1)}};return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4 font-sans",children:e.jsxs("div",{className:"w-full max-w-lg bg-card rounded-3xl shadow-[0_20px_60px_rgba(0,0,0,0.12)] border border-border overflow-hidden",children:[e.jsxs("div",{className:"relative p-8 pb-6 bg-gradient-to-br from-primary to-accent text-primary-foreground",children:[e.jsx("button",{onClick:()=>l("/login"),className:"absolute top-6 left-6 p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(L,{size:20})}),e.jsxs("div",{className:"text-center pt-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-sm mb-4 shadow-lg",children:e.jsx(w,{size:32,strokeWidth:2.5})}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Join NOC Team"}),e.jsx("p",{className:"text-primary-foreground/80 text-sm mt-2 font-medium",children:"Create your account to access the operations dashboard"})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsx(f,{type:"button",onClick:S,disabled:o||r,variant:"outline",className:"w-full h-12 border-2 border-border hover:border-primary hover:bg-primary/5 font-bold rounded-xl transition-all mb-6 group",children:o?e.jsxs(e.Fragment,{children:[e.jsx(g,{size:20,className:"animate-spin mr-2"}),"Creating account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{size:20,className:"mr-2 text-primary group-hover:scale-110 transition-transform"}),"Sign up with Google"]})}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-border"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-3 text-muted-foreground font-bold tracking-wider",children:"Or fill in details"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(m,{autoComplete:"name",value:s.name,onChange:a=>n({...s,name:a.target.value}),placeholder:"John Doe",className:"pl-10 bg-muted/30 border-border h-12 focus:border-primary",disabled:r||o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(m,{type:"email",autoComplete:"email",value:s.email,onChange:a=>n({...s,email:a.target.value}),placeholder:"name@company.com",className:"pl-10 bg-muted/30 border-border h-12 focus:border-primary",disabled:r||o})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:"Use your professional email. Test domains (@test, @admin, @example) are not allowed."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(m,{type:c?"text":"password",autoComplete:"new-password",value:s.password,onChange:a=>n({...s,password:a.target.value}),placeholder:"Minimum 6 characters",className:"pl-10 pr-10 bg-muted/30 border-border h-12 focus:border-primary",disabled:r||o}),e.jsx("button",{type:"button",onClick:()=>C(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:r||o,children:c?e.jsx(y,{size:18}):e.jsx(N,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(m,{type:u?"text":"password",autoComplete:"new-password",value:s.confirmPassword,onChange:a=>n({...s,confirmPassword:a.target.value}),placeholder:"Re-enter password",className:"pl-10 pr-10 bg-muted/30 border-border h-12 focus:border-primary",disabled:r||o}),e.jsx("button",{type:"button",onClick:()=>P(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:r||o,children:u?e.jsx(y,{size:18}):e.jsx(N,{size:18})})]})]}),e.jsx("div",{className:"bg-muted/50 border border-border rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("strong",{className:"text-foreground",children:"Note:"})," New accounts are created with Viewer role by default. Contact your administrator to request role changes."]})}),e.jsx(f,{type:"submit",disabled:r||o,className:"w-full h-12 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-primary-foreground font-bold text-base rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-95",children:r?e.jsxs(e.Fragment,{children:[e.jsx(g,{size:20,className:"animate-spin mr-2"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{size:20,className:"mr-2"}),"Create Account"]})}),e.jsx("div",{className:"text-center pt-4 border-t border-border",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:()=>l("/login"),className:"font-bold text-primary hover:text-primary/80 transition-colors",children:"Sign In"})]})})]})]})]})})}export{q as default};
