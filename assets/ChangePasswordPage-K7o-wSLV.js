import{u as P,a as z,r as n,j as e,d,B as p,L as k,c as y}from"./index-DeB0UNQi.js";import{I as x}from"./input-hRjRQo2p.js";import{A as C}from"./arrow-left-BnDC8UDn.js";import{E as m}from"./eye-off-g84yRPf4.js";import{E as u}from"./eye-KLuNDX0O.js";import{R as S}from"./rotate-ccw-BIVUIMXV.js";import{S as E}from"./save-C3fkMG-Q.js";function F(){const h=P(),{toast:a}=z(),[s,o]=n.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,w]=n.useState(!1),[i,b]=n.useState(!1),[l,f]=n.useState(!1),[c,g]=n.useState(!1),j=async t=>{if(t.preventDefault(),!s.currentPassword||!s.newPassword||!s.confirmPassword){a({variant:"destructive",title:"Missing Information",description:"Please fill in all password fields"});return}if(s.newPassword.length<6){a({variant:"destructive",title:"Weak Password",description:"New password must be at least 6 characters"});return}if(s.newPassword!==s.confirmPassword){a({variant:"destructive",title:"Password Mismatch",description:"New passwords do not match"});return}try{w(!0),await y.changePassword(s.currentPassword,s.newPassword),a({title:"Password Changed",description:"Your password has been updated successfully",className:"bg-emerald-600 text-white border-none"}),o({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{h("/profile")},1e3)}catch(v){a({variant:"destructive",title:"Failed to Change Password",description:v.message})}finally{w(!1)}},N=()=>{o({currentPassword:"",newPassword:"",confirmPassword:""})};return e.jsxs("div",{className:"h-full bg-zinc-50 dark:bg-black flex flex-col",children:[e.jsx("header",{className:"shrink-0 z-30 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center",children:[e.jsx("button",{onClick:()=>h(-1),className:"p-2 -ml-2 rounded-lg hover:bg-muted transition-colors mr-3",children:e.jsx(C,{size:20,className:"text-zinc-500 dark:text-zinc-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-zinc-900 dark:text-white uppercase tracking-tight",children:"Change Password"}),e.jsx("p",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400 tracking-widest leading-none mt-0.5 hidden sm:block",children:"Update Your Account Password"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0078D4]/10 flex items-center justify-center",children:e.jsx(d,{size:24,className:"text-[#0078D4]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:"Password & Security"}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Update your password to keep your account secure"})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-zinc-900 dark:text-white mb-2",children:"Current Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(x,{type:i?"text":"password",value:s.currentPassword,onChange:t=>o({...s,currentPassword:t.target.value}),placeholder:"Enter current password",className:"pl-10 pr-10 bg-zinc-100/50 dark:bg-zinc-800/50 h-12 border-zinc-200 dark:border-zinc-700 focus:border-[#0078D4] focus:ring-[#0078D4]",disabled:r}),e.jsx("button",{type:"button",onClick:()=>b(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:i?e.jsx(m,{size:18}):e.jsx(u,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(x,{type:l?"text":"password",value:s.newPassword,onChange:t=>o({...s,newPassword:t.target.value}),placeholder:"Minimum 6 characters",className:"pl-10 pr-10 bg-muted/50 h-12",disabled:r}),e.jsx("button",{type:"button",onClick:()=>f(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:l?e.jsx(m,{size:18}):e.jsx(u,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Confirm New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(x,{type:c?"text":"password",value:s.confirmPassword,onChange:t=>o({...s,confirmPassword:t.target.value}),placeholder:"Re-enter new password",className:"pl-10 pr-10 bg-muted/50 h-12",disabled:r}),e.jsx("button",{type:"button",onClick:()=>g(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?e.jsx(m,{size:18}):e.jsx(u,{size:18})})]})]}),e.jsxs("div",{className:"bg-zinc-100/50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white mb-2",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-xs text-zinc-500 dark:text-zinc-400 space-y-1",children:[e.jsx("li",{children:"• Minimum 6 characters long"}),e.jsx("li",{children:"• Should be different from your current password"}),e.jsx("li",{children:"• Use a strong, unique password"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs(p,{type:"button",onClick:N,variant:"outline",className:"flex-1",disabled:r,children:[e.jsx(S,{size:16,className:"mr-2"}),"Reset"]}),e.jsx(p,{type:"submit",disabled:r,className:"flex-1 bg-[#0078D4] text-white hover:bg-[#106EBE] font-bold",children:r?e.jsxs(e.Fragment,{children:[e.jsx(k,{size:16,className:"animate-spin mr-2"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{size:16,className:"mr-2"}),"Change Password"]})})]})]})]})})})]})}export{F as default};
