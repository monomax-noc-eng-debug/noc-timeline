(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function hS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jp={exports:{}},Qc={};var f_;function zN(){if(f_)return Qc;f_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Qc.Fragment=e,Qc.jsx=t,Qc.jsxs=t,Qc}var m_;function jN(){return m_||(m_=1,jp.exports=zN()),jp.exports}var u=jN(),Mp={exports:{}},je={};var g_;function MN(){if(g_)return je;g_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function E(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function D(V,Z,ue){this.props=V,this.context=Z,this.refs=C,this.updater=ue||A}D.prototype.isReactComponent={},D.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},D.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function O(){}O.prototype=D.prototype;function F(V,Z,ue){this.props=V,this.context=Z,this.refs=C,this.updater=ue||A}var L=F.prototype=new O;L.constructor=F,N(L,D.prototype),L.isPureReactComponent=!0;var W=Array.isArray;function q(){}var R={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(V,Z,ue){var he=ue.ref;return{$$typeof:n,type:V,key:Z,ref:he!==void 0?he:null,props:ue}}function U(V,Z){return j(V.type,Z,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function H(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return Z[ue]})}var P=/\/+/g;function Se(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?H(""+V.key):Z.toString(36)}function De(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(q,q):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function re(V,Z,ue,he,Ee){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var Re=!1;if(V===null)Re=!0;else switch(ve){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(V.$$typeof){case n:case e:Re=!0;break;case b:return Re=V._init,re(Re(V._payload),Z,ue,he,Ee)}}if(Re)return Ee=Ee(V),Re=he===""?"."+Se(V,0):he,W(Ee)?(ue="",Re!=null&&(ue=Re.replace(P,"$&/")+"/"),re(Ee,Z,ue,"",function(fe){return fe})):Ee!=null&&(I(Ee)&&(Ee=U(Ee,ue+(Ee.key==null||V&&V.key===Ee.key?"":(""+Ee.key).replace(P,"$&/")+"/")+Re)),Z.push(Ee)),1;Re=0;var mt=he===""?".":he+":";if(W(V))for(var Ye=0;Ye<V.length;Ye++)he=V[Ye],ve=mt+Se(he,Ye),Re+=re(he,Z,ue,ve,Ee);else if(Ye=E(V),typeof Ye=="function")for(V=Ye.call(V),Ye=0;!(he=V.next()).done;)he=he.value,ve=mt+Se(he,Ye++),Re+=re(he,Z,ue,ve,Ee);else if(ve==="object"){if(typeof V.then=="function")return re(De(V),Z,ue,he,Ee);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(V,Z,ue){if(V==null)return V;var he=[],Ee=0;return re(V,he,"","",function(ve){return Z.call(ue,ve,Ee++)}),he}function pe(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var _e=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},de={map:ae,forEach:function(V,Z,ue){ae(V,function(){Z.apply(this,arguments)},ue)},count:function(V){var Z=0;return ae(V,function(){Z++}),Z},toArray:function(V){return ae(V,function(Z){return Z})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return je.Activity=v,je.Children=de,je.Component=D,je.Fragment=t,je.Profiler=a,je.PureComponent=F,je.StrictMode=r,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,je.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},je.cache=function(V){return function(){return V.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(V,Z,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=N({},V.props),Ee=V.key;if(Z!=null)for(ve in Z.key!==void 0&&(Ee=""+Z.key),Z)!k.call(Z,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Z.ref===void 0||(he[ve]=Z[ve]);var ve=arguments.length-2;if(ve===1)he.children=ue;else if(1<ve){for(var Re=Array(ve),mt=0;mt<ve;mt++)Re[mt]=arguments[mt+2];he.children=Re}return j(V.type,Ee,he)},je.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},je.createElement=function(V,Z,ue){var he,Ee={},ve=null;if(Z!=null)for(he in Z.key!==void 0&&(ve=""+Z.key),Z)k.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=Z[he]);var Re=arguments.length-2;if(Re===1)Ee.children=ue;else if(1<Re){for(var mt=Array(Re),Ye=0;Ye<Re;Ye++)mt[Ye]=arguments[Ye+2];Ee.children=mt}if(V&&V.defaultProps)for(he in Re=V.defaultProps,Re)Ee[he]===void 0&&(Ee[he]=Re[he]);return j(V,ve,Ee)},je.createRef=function(){return{current:null}},je.forwardRef=function(V){return{$$typeof:h,render:V}},je.isValidElement=I,je.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:pe}},je.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},je.startTransition=function(V){var Z=R.T,ue={};R.T=ue;try{var he=V(),Ee=R.S;Ee!==null&&Ee(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(q,_e)}catch(ve){_e(ve)}finally{Z!==null&&ue.types!==null&&(Z.types=ue.types),R.T=Z}},je.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},je.use=function(V){return R.H.use(V)},je.useActionState=function(V,Z,ue){return R.H.useActionState(V,Z,ue)},je.useCallback=function(V,Z){return R.H.useCallback(V,Z)},je.useContext=function(V){return R.H.useContext(V)},je.useDebugValue=function(){},je.useDeferredValue=function(V,Z){return R.H.useDeferredValue(V,Z)},je.useEffect=function(V,Z){return R.H.useEffect(V,Z)},je.useEffectEvent=function(V){return R.H.useEffectEvent(V)},je.useId=function(){return R.H.useId()},je.useImperativeHandle=function(V,Z,ue){return R.H.useImperativeHandle(V,Z,ue)},je.useInsertionEffect=function(V,Z){return R.H.useInsertionEffect(V,Z)},je.useLayoutEffect=function(V,Z){return R.H.useLayoutEffect(V,Z)},je.useMemo=function(V,Z){return R.H.useMemo(V,Z)},je.useOptimistic=function(V,Z){return R.H.useOptimistic(V,Z)},je.useReducer=function(V,Z,ue){return R.H.useReducer(V,Z,ue)},je.useRef=function(V){return R.H.useRef(V)},je.useState=function(V){return R.H.useState(V)},je.useSyncExternalStore=function(V,Z,ue){return R.H.useSyncExternalStore(V,Z,ue)},je.useTransition=function(){return R.H.useTransition()},je.version="19.2.3",je}var p_;function cb(){return p_||(p_=1,Mp.exports=MN()),Mp.exports}var M=cb();const Ur=hS(M);var Ip={exports:{}},Yc={},Op={exports:{}},Vp={};var b_;function IN(){return b_||(b_=1,(function(n){function e(re,ae){var pe=re.length;re.push(ae);e:for(;0<pe;){var _e=pe-1>>>1,de=re[_e];if(0<a(de,ae))re[_e]=ae,re[pe]=de,pe=_e;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ae=re[0],pe=re.pop();if(pe!==ae){re[0]=pe;e:for(var _e=0,de=re.length,V=de>>>1;_e<V;){var Z=2*(_e+1)-1,ue=re[Z],he=Z+1,Ee=re[he];if(0>a(ue,pe))he<de&&0>a(Ee,ue)?(re[_e]=Ee,re[he]=pe,_e=he):(re[_e]=ue,re[Z]=pe,_e=Z);else if(he<de&&0>a(Ee,pe))re[_e]=Ee,re[he]=pe,_e=he;else break e}}return ae}function a(re,ae){var pe=re.sortIndex-ae.sortIndex;return pe!==0?pe:re.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],b=1,v=null,x=3,E=!1,A=!1,N=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function L(re){for(var ae=t(g);ae!==null;){if(ae.callback===null)r(g);else if(ae.startTime<=re)r(g),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(g)}}function W(re){if(N=!1,L(re),!A)if(t(f)!==null)A=!0,q||(q=!0,H());else{var ae=t(g);ae!==null&&De(W,ae.startTime-re)}}var q=!1,R=-1,k=5,j=-1;function U(){return C?!0:!(n.unstable_now()-j<k)}function I(){if(C=!1,q){var re=n.unstable_now();j=re;var ae=!0;try{e:{A=!1,N&&(N=!1,O(R),R=-1),E=!0;var pe=x;try{t:{for(L(re),v=t(f);v!==null&&!(v.expirationTime>re&&U());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,x=v.priorityLevel;var de=_e(v.expirationTime<=re);if(re=n.unstable_now(),typeof de=="function"){v.callback=de,L(re),ae=!0;break t}v===t(f)&&r(f),L(re)}else r(f);v=t(f)}if(v!==null)ae=!0;else{var V=t(g);V!==null&&De(W,V.startTime-re),ae=!1}}break e}finally{v=null,x=pe,E=!1}ae=void 0}}finally{ae?H():q=!1}}}var H;if(typeof F=="function")H=function(){F(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Se=P.port2;P.port1.onmessage=I,H=function(){Se.postMessage(null)}}else H=function(){D(I,0)};function De(re,ae){R=D(function(){re(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(re){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var pe=x;x=ae;try{return re()}finally{x=pe}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=x;x=re;try{return ae()}finally{x=pe}},n.unstable_scheduleCallback=function(re,ae,pe){var _e=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?_e+pe:_e):pe=_e,re){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=pe+de,re={id:b++,callback:ae,priorityLevel:re,startTime:pe,expirationTime:de,sortIndex:-1},pe>_e?(re.sortIndex=pe,e(g,re),t(f)===null&&re===t(g)&&(N?(O(R),R=-1):N=!0,De(W,pe-_e))):(re.sortIndex=de,e(f,re),A||E||(A=!0,q||(q=!0,H()))),re},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(re){var ae=x;return function(){var pe=x;x=ae;try{return re.apply(this,arguments)}finally{x=pe}}}})(Vp)),Vp}var y_;function ON(){return y_||(y_=1,Op.exports=IN()),Op.exports}var Pp={exports:{}},yn={};var v_;function VN(){if(v_)return yn;v_=1;var n=cb();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:g,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(f,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(f,g,null,b)},yn.flushSync=function(f){var g=c.T,b=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=g,r.p=b,r.d.f()}},yn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(f,g))},yn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},yn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var b=g.as,v=h(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:E}):b==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=h(g.as,g.crossOrigin);r.d.M(f,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(f)},yn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=h(b,g.crossOrigin);r.d.L(f,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(f,g){if(typeof f=="string")if(g){var b=h(g.as,g.crossOrigin);r.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(f)},yn.requestFormReset=function(f){r.d.r(f)},yn.unstable_batchedUpdates=function(f,g){return f(g)},yn.useFormState=function(f,g,b){return c.H.useFormState(f,g,b)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var x_;function fS(){if(x_)return Pp.exports;x_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pp.exports=VN(),Pp.exports}var __;function PN(){if(__)return Yc;__=1;var n=ON(),e=cb(),t=fS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,d=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return f(p),i;if(y===d)return f(p),s;y=y.sibling}throw Error(r(188))}if(o.return!==d.return)o=p,d=y;else{for(var w=!1,T=p.child;T;){if(T===o){w=!0,o=p,d=y;break}if(T===d){w=!0,d=p,o=y;break}T=T.sibling}if(!w){for(T=y.child;T;){if(T===o){w=!0,o=y,d=p;break}if(T===d){w=!0,d=y,o=p;break}T=T.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==d)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function b(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=b(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),F=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case W:return"Suspense";case q:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case F:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case L:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:Se(i.type)||"Memo";case k:s=i._payload,i=i._init;try{return Se(i(s))}catch{}}return null}var De=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},_e=[],de=-1;function V(i){return{current:i}}function Z(i){0>de||(i.current=_e[de],_e[de]=null,de--)}function ue(i,s){de++,_e[de]=i.current,i.current=s}var he=V(null),Ee=V(null),ve=V(null),Re=V(null);function mt(i,s){switch(ue(ve,s),ue(Ee,i),ue(he,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?O1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=O1(s),i=V1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(he),ue(he,i)}function Ye(){Z(he),Z(Ee),Z(ve)}function fe(i){i.memoizedState!==null&&ue(Re,i);var s=he.current,o=V1(s,i.type);s!==o&&(ue(Ee,i),ue(he,o))}function Ze(i){Ee.current===i&&(Z(he),Z(Ee)),Re.current===i&&(Z(Re),Fc._currentValue=pe)}var Lt,ht;function jt(i){if(Lt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Lt=s&&s[1]||"",ht=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+i+ht}var Ar=!1;function ss(i,s){if(!i||Ar)return"";Ar=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var K=te}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(te){K=te}i.call(oe.prototype)}}else{try{throw Error()}catch(te){K=te}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&K&&typeof te.stack=="string")return[te.stack,K.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),w=y[0],T=y[1];if(w&&T){var B=w.split(`
`),X=T.split(`
`);for(p=d=0;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(d===B.length||p===X.length)for(d=B.length-1,p=X.length-1;1<=d&&0<=p&&B[d]!==X[p];)p--;for(;1<=d&&0<=p;d--,p--)if(B[d]!==X[p]){if(d!==1||p!==1)do if(d--,p--,0>p||B[d]!==X[p]){var ie=`
`+B[d].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=d&&0<=p);break}}}finally{Ar=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?jt(o):""}function fa(i,s){switch(i.tag){case 26:case 27:case 5:return jt(i.type);case 16:return jt("Lazy");case 13:return i.child!==s&&s!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return ss(i.type,!1);case 11:return ss(i.type.render,!1);case 1:return ss(i.type,!0);case 31:return jt("Activity");default:return""}}function Ti(i){try{var s="",o=null;do s+=fa(i,o),o=i,i=i.return;while(i);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ct=Object.prototype.hasOwnProperty,Kt=n.unstable_scheduleCallback,as=n.unstable_cancelCallback,Im=n.unstable_shouldYield,ad=n.unstable_requestPaint,An=n.unstable_now,ma=n.unstable_getCurrentPriorityLevel,$o=n.unstable_ImmediatePriority,Qo=n.unstable_UserBlockingPriority,ls=n.unstable_NormalPriority,Om=n.unstable_LowPriority,ld=n.unstable_IdlePriority,od=n.log,cd=n.unstable_setDisableYieldValue,Tr=null,ln=null;function or(i){if(typeof od=="function"&&cd(i),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Tr,i)}catch{}}var Mt=Math.clz32?Math.clz32:dd,ud=Math.log,gl=Math.LN2;function dd(i){return i>>>=0,i===0?32:31-(ud(i)/gl|0)|0}var Gr=256,ga=262144,Ut=4194304;function $r(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qr(i,s,o){var d=i.pendingLanes;if(d===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var T=d&134217727;return T!==0?(d=T&~y,d!==0?p=$r(d):(w&=T,w!==0?p=$r(w):o||(o=T&~i,o!==0&&(p=$r(o))))):(T=d&~y,T!==0?p=$r(T):w!==0?p=$r(w):o||(o=d&~i,o!==0&&(p=$r(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function Cr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Vm(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hd(){var i=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),i}function Yr(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function pa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Pm(i,s,o,d,p,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var T=i.entanglements,B=i.expirationTimes,X=i.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-Mt(o),oe=1<<ie;T[ie]=0,B[ie]=-1;var K=X[ie];if(K!==null)for(X[ie]=null,ie=0;ie<K.length;ie++){var te=K[ie];te!==null&&(te.lane&=-536870913)}o&=~oe}d!==0&&ba(i,d,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~s))}function ba(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-Mt(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|o&261930}function Yo(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var d=31-Mt(o),p=1<<d;p&s|i[d]&s&&(i[d]|=s),o&=~p}}function Wo(i,s){var o=s&-s;return o=(o&42)!==0?1:ya(o),(o&(i.suspendedLanes|s))!==0?0:o}function ya(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ci(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function fd(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:a_(i.type))}function Nr(i,s){var o=ae.p;try{return ae.p=i,s()}finally{ae.p=o}}var Rr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Rr,en="__reactProps$"+Rr,Wr="__reactContainer$"+Rr,pl="__reactEvents$"+Rr,Lm="__reactListeners$"+Rr,md="__reactHandles$"+Rr,gd="__reactResources$"+Rr,Xr="__reactMarker$"+Rr;function bl(i){delete i[Bt],delete i[en],delete i[pl],delete i[Lm],delete i[md]}function Kr(i){var s=i[Bt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Wr]||o[Bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=q1(i);i!==null;){if(o=i[Bt])return o;i=q1(i)}return s}i=o,o=i.parentNode}return null}function cr(i){if(i=i[Bt]||i[Wr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Gn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Zr(i){var s=i[gd];return s||(s=i[gd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ht(i){i[Xr]=!0}var Xo=new Set,Ko={};function Jr(i,s){ei(i,s),ei(i+"Capture",s)}function ei(i,s){for(Ko[i]=s,i=0;i<s.length;i++)Xo.add(s[i])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},ec={};function pd(i){return Ct.call(ec,i)?!0:Ct.call(Jo,i)?!1:Zo.test(i)?ec[i]=!0:(Jo[i]=!0,!1)}function yl(i,s,o){if(pd(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function $n(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ft(i,s,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+d)}}function tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function os(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tc(i,s,o){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,y=d.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function rt(i){if(!i._valueTracker){var s=os(i)?"checked":"value";i._valueTracker=tc(i,s,""+i[s])}}function va(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return i&&(d=os(i)?i.checked?"true":"false":i.value),i=d,i!==o?(s.setValue(i),!0):!1}function ti(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xa=/[\n"\\]/g;function zn(i){return i.replace(xa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vl(i,s,o,d,p,y,w,T){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+tn(s)):i.value!==""+tn(s)&&(i.value=""+tn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?nc(i,w,tn(s)):o!=null?nc(i,w,tn(o)):d!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+tn(T):i.removeAttribute("name")}function bd(i,s,o,d,p,y,w,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){rt(i);return}o=o!=null?""+tn(o):"",s=s!=null?""+tn(s):o,T||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=T?i.checked:!!d,i.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),rt(i)}function nc(i,s,o){s==="number"&&ti(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function cs(i,s,o,d){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&d&&(i[o].defaultSelected=!0)}else{for(o=""+tn(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function yd(i,s,o){if(s!=null&&(s=""+tn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+tn(o):""}function us(i,s,o,d){if(s==null){if(d!=null){if(o!=null)throw Error(r(92));if(De(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),s=o}o=tn(s),i.defaultValue=o,d=i.textContent,d===o&&d!==""&&d!==null&&(i.value=d),rt(i)}function jn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var vd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(i,s,o){var d=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,o):typeof o!="number"||o===0||vd.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function ic(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&o[p]!==d&&rc(i,p,d)}else for(var y in s)s.hasOwnProperty(y)&&rc(i,y,s[y])}function xl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(i){return ds.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Dr(){}var sc=null;function ur(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hs=null,ni=null;function _a(i){var s=cr(i);if(s&&(i=s.stateNode)){var o=i[en]||null;e:switch(i=s.stateNode,s.type){case"input":if(vl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==i&&d.form===i.form){var p=d[en]||null;if(!p)throw Error(r(90));vl(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)d=o[s],d.form===i.form&&va(d)}break e;case"textarea":yd(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&cs(i,!!o.multiple,s,!1)}}}var wl=!1;function fs(i,s,o){if(wl)return i(s,o);wl=!0;try{var d=i(s);return d}finally{if(wl=!1,(hs!==null||ni!==null)&&(fh(),hs&&(s=hs,i=ni,ni=hs=null,_a(s),i)))for(s=0;s<i.length;s++)_a(i[s])}}function zr(i,s){var o=i.stateNode;if(o===null)return null;var d=o[en]||null;if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(dr)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){wa=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{wa=!1}var ri=null,ac=null,Ea=null;function lc(){if(Ea)return Ea;var i,s=ac,o=s.length,d,p="value"in ri?ri.value:ri.textContent,y=p.length;for(i=0;i<o&&s[i]===p[i];i++);var w=o-i;for(d=1;d<=w&&s[o-d]===p[y-d];d++);return Ea=p.slice(i,1<d?1-d:void 0)}function Sa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ni(){return!0}function jr(){return!1}function on(i){function s(o,d,p,y,w){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(o=i[T],this[T]=o?o(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ni:jr,this.isPropagationStopped=jr,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),s}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=on(Ri),ms=v({},Ri,{view:0,detail:0}),oc=on(ms),gs,El,si,Sl=v({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==si&&(si&&i.type==="mousemove"?(gs=i.screenX-si.screenX,El=i.screenY-si.screenY):El=gs=0,si=i),gs)},movementY:function(i){return"movementY"in i?i.movementY:El}}),cc=on(Sl),ka=v({},Sl,{dataTransfer:0}),_d=on(ka),wd=v({},ms,{relatedTarget:0}),Aa=on(wd),uc=v({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Ed=on(uc),kl=v({},Ri,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Sd=on(kl),kd=v({},Ri,{data:0}),ai=on(kd),Ad={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Cd[i])?!!s[i]:!1}function ps(){return Nd}var Tn=v({},ms,{key:function(i){if(i.key){var s=Ad[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Td[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(i){return i.type==="keypress"?Sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=on(Tn),Dd=v({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=on(Dd),m=v({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),_=on(m),S=v({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=on(S),Q=v({},Sl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=on(Q),ge=v({},Ri,{newState:0,oldState:0}),Oe=on(ge),It=[9,13,27,32],Je=dr&&"CompositionEvent"in window,vt=null;dr&&"documentMode"in document&&(vt=document.documentMode);var hr=dr&&"TextEvent"in window&&!vt,li=dr&&(!Je||vt&&8<vt&&11>=vt),Mr=" ",Ir=!1;function Ta(i,s){switch(i){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Tl=!1;function nC(i,s){switch(i){case"compositionend":return Al(s);case"keypress":return s.which!==32?null:(Ir=!0,Mr);case"textInput":return i=s.data,i===Mr&&Ir?null:i;default:return null}}function rC(i,s){if(Tl)return i==="compositionend"||!Je&&Ta(i,s)?(i=lc(),Ea=ac=ri=null,Tl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return li&&s.locale!=="ko"?null:s.data;default:return null}}var iC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!iC[i.type]:s==="textarea"}function Yy(i,s,o,d){hs?ni?ni.push(d):ni=[d]:hs=d,s=xh(s,"onChange"),0<s.length&&(o=new ii("onChange","change",null,o,d),i.push({event:o,listeners:s}))}var dc=null,hc=null;function sC(i){R1(i,0)}function zd(i){var s=Gn(i);if(va(s))return i}function Wy(i,s){if(i==="change")return s}var Xy=!1;if(dr){var Um;if(dr){var Bm="oninput"in document;if(!Bm){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),Bm=typeof Ky.oninput=="function"}Um=Bm}else Um=!1;Xy=Um&&(!document.documentMode||9<document.documentMode)}function Zy(){dc&&(dc.detachEvent("onpropertychange",Jy),hc=dc=null)}function Jy(i){if(i.propertyName==="value"&&zd(hc)){var s=[];Yy(s,hc,i,ur(i)),fs(sC,s)}}function aC(i,s,o){i==="focusin"?(Zy(),dc=s,hc=o,dc.attachEvent("onpropertychange",Jy)):i==="focusout"&&Zy()}function lC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zd(hc)}function oC(i,s){if(i==="click")return zd(s)}function cC(i,s){if(i==="input"||i==="change")return zd(s)}function uC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Qn=typeof Object.is=="function"?Object.is:uC;function fc(i,s){if(Qn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!Ct.call(s,p)||!Qn(i[p],s[p]))return!1}return!0}function ev(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tv(i,s){var o=ev(i);i=0;for(var d;o;){if(o.nodeType===3){if(d=i+o.textContent.length,i<=s&&d>=s)return{node:o,offset:s-i};i=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ev(o)}}function nv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?nv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function rv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ti(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=ti(i.document)}return s}function Hm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var dC=dr&&"documentMode"in document&&11>=document.documentMode,Cl=null,Fm=null,mc=null,qm=!1;function iv(i,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qm||Cl==null||Cl!==ti(d)||(d=Cl,"selectionStart"in d&&Hm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),mc&&fc(mc,d)||(mc=d,d=xh(Fm,"onSelect"),0<d.length&&(s=new ii("onSelect","select",null,s,o),i.push({event:s,listeners:d}),s.target=Cl)))}function Ca(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Nl={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Gm={},sv={};dr&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Na(i){if(Gm[i])return Gm[i];if(!Nl[i])return i;var s=Nl[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in sv)return Gm[i]=s[o];return i}var av=Na("animationend"),lv=Na("animationiteration"),ov=Na("animationstart"),hC=Na("transitionrun"),fC=Na("transitionstart"),mC=Na("transitioncancel"),cv=Na("transitionend"),uv=new Map,$m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$m.push("scrollEnd");function Or(i,s){uv.set(i,s),Jr(s,[i])}var jd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fr=[],Rl=0,Qm=0;function Md(){for(var i=Rl,s=Qm=Rl=0;s<i;){var o=fr[s];fr[s++]=null;var d=fr[s];fr[s++]=null;var p=fr[s];fr[s++]=null;var y=fr[s];if(fr[s++]=null,d!==null&&p!==null){var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}y!==0&&dv(o,p,y)}}function Id(i,s,o,d){fr[Rl++]=i,fr[Rl++]=s,fr[Rl++]=o,fr[Rl++]=d,Qm|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Ym(i,s,o,d){return Id(i,s,o,d),Od(i)}function Ra(i,s){return Id(i,null,null,s),Od(i)}function dv(i,s,o){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-Mt(o),i=y.hiddenUpdates,d=i[p],d===null?i[p]=[s]:d.push(s),s.lane=o|536870912),y):null}function Od(i){if(50<Oc)throw Oc=0,rp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Dl={};function gC(i,s,o,d){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(i,s,o,d){return new gC(i,s,o,d)}function Wm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zi(i,s){var o=i.alternate;return o===null?(o=Yn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function hv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vd(i,s,o,d,p,y){var w=0;if(d=i,typeof i=="function")Wm(i)&&(w=1);else if(typeof i=="string")w=xN(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=Yn(31,o,s,p),i.elementType=j,i.lanes=y,i;case N:return Da(o.children,p,y,s);case C:w=8,p|=24;break;case D:return i=Yn(12,o,s,p|2),i.elementType=D,i.lanes=y,i;case W:return i=Yn(13,o,s,p),i.elementType=W,i.lanes=y,i;case q:return i=Yn(19,o,s,p),i.elementType=q,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:w=10;break e;case O:w=9;break e;case L:w=11;break e;case R:w=14;break e;case k:w=16,d=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=Yn(w,o,s,p),s.elementType=i,s.type=d,s.lanes=y,s}function Da(i,s,o,d){return i=Yn(7,i,d,s),i.lanes=o,i}function Xm(i,s,o){return i=Yn(6,i,null,s),i.lanes=o,i}function fv(i){var s=Yn(18,null,null,0);return s.stateNode=i,s}function Km(i,s,o){return s=Yn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var mv=new WeakMap;function mr(i,s){if(typeof i=="object"&&i!==null){var o=mv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ti(s)},mv.set(i,s),s)}return{value:i,source:s,stack:Ti(s)}}var zl=[],jl=0,Pd=null,gc=0,gr=[],pr=0,bs=null,oi=1,ci="";function ji(i,s){zl[jl++]=gc,zl[jl++]=Pd,Pd=i,gc=s}function gv(i,s,o){gr[pr++]=oi,gr[pr++]=ci,gr[pr++]=bs,bs=i;var d=oi;i=ci;var p=32-Mt(d)-1;d&=~(1<<p),o+=1;var y=32-Mt(s)+p;if(30<y){var w=p-p%5;y=(d&(1<<w)-1).toString(32),d>>=w,p-=w,oi=1<<32-Mt(s)+p|o<<p|d,ci=y+i}else oi=1<<y|o<<p|d,ci=i}function Zm(i){i.return!==null&&(ji(i,1),gv(i,1,0))}function Jm(i){for(;i===Pd;)Pd=zl[--jl],zl[jl]=null,gc=zl[--jl],zl[jl]=null;for(;i===bs;)bs=gr[--pr],gr[pr]=null,ci=gr[--pr],gr[pr]=null,oi=gr[--pr],gr[pr]=null}function pv(i,s){gr[pr++]=oi,gr[pr++]=ci,gr[pr++]=bs,oi=s.id,ci=s.overflow,bs=i}var cn=null,gt=null,Ge=!1,ys=null,br=!1,eg=Error(r(519));function vs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pc(mr(s,i)),eg}function bv(i){var s=i.stateNode,o=i.type,d=i.memoizedProps;switch(s[Bt]=i,s[en]=d,o){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(o=0;o<Pc.length;o++)Ue(Pc[o],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":Ue("invalid",s),bd(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ue("invalid",s);break;case"textarea":Ue("invalid",s),us(s,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||d.suppressHydrationWarning===!0||M1(s.textContent,o)?(d.popover!=null&&(Ue("beforetoggle",s),Ue("toggle",s)),d.onScroll!=null&&Ue("scroll",s),d.onScrollEnd!=null&&Ue("scrollend",s),d.onClick!=null&&(s.onclick=Dr),s=!0):s=!1,s||vs(i,!0)}function yv(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 31:case 13:br=!1;return;case 27:case 3:br=!0;return;default:cn=cn.return}}function Ml(i){if(i!==cn)return!1;if(!Ge)return yv(i),Ge=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||yp(i.type,i.memoizedProps)),o=!o),o&&gt&&vs(i),yv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));gt=F1(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));gt=F1(i)}else s===27?(s=gt,js(i.type)?(i=Ep,Ep=null,gt=i):gt=s):gt=cn?vr(i.stateNode.nextSibling):null;return!0}function za(){gt=cn=null,Ge=!1}function tg(){var i=ys;return i!==null&&(Vn===null?Vn=i:Vn.push.apply(Vn,i),ys=null),i}function pc(i){ys===null?ys=[i]:ys.push(i)}var ng=V(null),ja=null,Mi=null;function xs(i,s,o){ue(ng,s._currentValue),s._currentValue=o}function Ii(i){i._currentValue=ng.current,Z(ng)}function rg(i,s,o){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===o)break;i=i.return}}function ig(i,s,o,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=p;for(var B=0;B<s.length;B++)if(T.context===s[B]){y.lanes|=o,T=y.alternate,T!==null&&(T.lanes|=o),rg(y.return,o,i),d||(w=null);break e}y=T.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),rg(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Il(i,s,o,d){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var T=p.type;Qn(p.pendingProps.value,w.value)||(i!==null?i.push(T):i=[T])}}else if(p===Re.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Fc):i=[Fc])}p=p.return}i!==null&&ig(s,i,o,d),s.flags|=262144}function Ld(i){for(i=i.firstContext;i!==null;){if(!Qn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ma(i){ja=i,Mi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function un(i){return vv(ja,i)}function Ud(i,s){return ja===null&&Ma(i),vv(i,s)}function vv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Mi===null){if(i===null)throw Error(r(308));Mi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Mi=Mi.next=s;return o}var pC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},bC=n.unstable_scheduleCallback,yC=n.unstable_NormalPriority,qt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sg(){return{controller:new pC,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&bC(yC,function(){i.controller.abort()})}var yc=null,ag=0,Ol=0,Vl=null;function vC(i,s){if(yc===null){var o=yc=[];ag=0,Ol=cp(),Vl={status:"pending",value:void 0,then:function(d){o.push(d)}}}return ag++,s.then(xv,xv),s}function xv(){if(--ag===0&&yc!==null){Vl!==null&&(Vl.status="fulfilled");var i=yc;yc=null,Ol=0,Vl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function xC(i,s){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var _v=re.S;re.S=function(i,s){i1=An(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&vC(i,s),_v!==null&&_v(i,s)};var Ia=V(null);function lg(){var i=Ia.current;return i!==null?i:dt.pooledCache}function Bd(i,s){s===null?ue(Ia,Ia.current):ue(Ia,s.pool)}function wv(){var i=lg();return i===null?null:{parent:qt._currentValue,pool:i}}var Pl=Error(r(460)),og=Error(r(474)),Hd=Error(r(542)),Fd={then:function(){}};function Ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Sv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Dr,Dr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Av(i),i;default:if(typeof s.status=="string")s.then(Dr,Dr);else{if(i=dt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Av(i),i}throw Va=s,Pl}}function Oa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Va=o,Pl):o}}var Va=null;function kv(){if(Va===null)throw Error(r(459));var i=Va;return Va=null,i}function Av(i){if(i===Pl||i===Hd)throw Error(r(483))}var Ll=null,vc=0;function qd(i){var s=vc;return vc+=1,Ll===null&&(Ll=[]),Sv(Ll,i,s)}function xc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Gd(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Tv(i){function s($,G){if(i){var Y=$.deletions;Y===null?($.deletions=[G],$.flags|=16):Y.push(G)}}function o($,G){if(!i)return null;for(;G!==null;)s($,G),G=G.sibling;return null}function d($){for(var G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function p($,G){return $=zi($,G),$.index=0,$.sibling=null,$}function y($,G,Y){return $.index=Y,i?(Y=$.alternate,Y!==null?(Y=Y.index,Y<G?($.flags|=67108866,G):Y):($.flags|=67108866,G)):($.flags|=1048576,G)}function w($){return i&&$.alternate===null&&($.flags|=67108866),$}function T($,G,Y,le){return G===null||G.tag!==6?(G=Xm(Y,$.mode,le),G.return=$,G):(G=p(G,Y),G.return=$,G)}function B($,G,Y,le){var ke=Y.type;return ke===N?ie($,G,Y.props.children,le,Y.key):G!==null&&(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&Oa(ke)===G.type)?(G=p(G,Y.props),xc(G,Y),G.return=$,G):(G=Vd(Y.type,Y.key,Y.props,null,$.mode,le),xc(G,Y),G.return=$,G)}function X($,G,Y,le){return G===null||G.tag!==4||G.stateNode.containerInfo!==Y.containerInfo||G.stateNode.implementation!==Y.implementation?(G=Km(Y,$.mode,le),G.return=$,G):(G=p(G,Y.children||[]),G.return=$,G)}function ie($,G,Y,le,ke){return G===null||G.tag!==7?(G=Da(Y,$.mode,le,ke),G.return=$,G):(G=p(G,Y),G.return=$,G)}function oe($,G,Y){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Xm(""+G,$.mode,Y),G.return=$,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return Y=Vd(G.type,G.key,G.props,null,$.mode,Y),xc(Y,G),Y.return=$,Y;case A:return G=Km(G,$.mode,Y),G.return=$,G;case k:return G=Oa(G),oe($,G,Y)}if(De(G)||H(G))return G=Da(G,$.mode,Y,null),G.return=$,G;if(typeof G.then=="function")return oe($,qd(G),Y);if(G.$$typeof===F)return oe($,Ud($,G),Y);Gd($,G)}return null}function K($,G,Y,le){var ke=G!==null?G.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ke!==null?null:T($,G,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===ke?B($,G,Y,le):null;case A:return Y.key===ke?X($,G,Y,le):null;case k:return Y=Oa(Y),K($,G,Y,le)}if(De(Y)||H(Y))return ke!==null?null:ie($,G,Y,le,null);if(typeof Y.then=="function")return K($,G,qd(Y),le);if(Y.$$typeof===F)return K($,G,Ud($,Y),le);Gd($,Y)}return null}function te($,G,Y,le,ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(Y)||null,T(G,$,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case E:return $=$.get(le.key===null?Y:le.key)||null,B(G,$,le,ke);case A:return $=$.get(le.key===null?Y:le.key)||null,X(G,$,le,ke);case k:return le=Oa(le),te($,G,Y,le,ke)}if(De(le)||H(le))return $=$.get(Y)||null,ie(G,$,le,ke,null);if(typeof le.then=="function")return te($,G,Y,qd(le),ke);if(le.$$typeof===F)return te($,G,Y,Ud(G,le),ke);Gd(G,le)}return null}function xe($,G,Y,le){for(var ke=null,We=null,we=G,Pe=G=0,He=null;we!==null&&Pe<Y.length;Pe++){we.index>Pe?(He=we,we=null):He=we.sibling;var Xe=K($,we,Y[Pe],le);if(Xe===null){we===null&&(we=He);break}i&&we&&Xe.alternate===null&&s($,we),G=y(Xe,G,Pe),We===null?ke=Xe:We.sibling=Xe,We=Xe,we=He}if(Pe===Y.length)return o($,we),Ge&&ji($,Pe),ke;if(we===null){for(;Pe<Y.length;Pe++)we=oe($,Y[Pe],le),we!==null&&(G=y(we,G,Pe),We===null?ke=we:We.sibling=we,We=we);return Ge&&ji($,Pe),ke}for(we=d(we);Pe<Y.length;Pe++)He=te(we,$,Pe,Y[Pe],le),He!==null&&(i&&He.alternate!==null&&we.delete(He.key===null?Pe:He.key),G=y(He,G,Pe),We===null?ke=He:We.sibling=He,We=He);return i&&we.forEach(function(Ps){return s($,Ps)}),Ge&&ji($,Pe),ke}function Ce($,G,Y,le){if(Y==null)throw Error(r(151));for(var ke=null,We=null,we=G,Pe=G=0,He=null,Xe=Y.next();we!==null&&!Xe.done;Pe++,Xe=Y.next()){we.index>Pe?(He=we,we=null):He=we.sibling;var Ps=K($,we,Xe.value,le);if(Ps===null){we===null&&(we=He);break}i&&we&&Ps.alternate===null&&s($,we),G=y(Ps,G,Pe),We===null?ke=Ps:We.sibling=Ps,We=Ps,we=He}if(Xe.done)return o($,we),Ge&&ji($,Pe),ke;if(we===null){for(;!Xe.done;Pe++,Xe=Y.next())Xe=oe($,Xe.value,le),Xe!==null&&(G=y(Xe,G,Pe),We===null?ke=Xe:We.sibling=Xe,We=Xe);return Ge&&ji($,Pe),ke}for(we=d(we);!Xe.done;Pe++,Xe=Y.next())Xe=te(we,$,Pe,Xe.value,le),Xe!==null&&(i&&Xe.alternate!==null&&we.delete(Xe.key===null?Pe:Xe.key),G=y(Xe,G,Pe),We===null?ke=Xe:We.sibling=Xe,We=Xe);return i&&we.forEach(function(DN){return s($,DN)}),Ge&&ji($,Pe),ke}function ut($,G,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===N&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var ke=Y.key;G!==null;){if(G.key===ke){if(ke=Y.type,ke===N){if(G.tag===7){o($,G.sibling),le=p(G,Y.props.children),le.return=$,$=le;break e}}else if(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&Oa(ke)===G.type){o($,G.sibling),le=p(G,Y.props),xc(le,Y),le.return=$,$=le;break e}o($,G);break}else s($,G);G=G.sibling}Y.type===N?(le=Da(Y.props.children,$.mode,le,Y.key),le.return=$,$=le):(le=Vd(Y.type,Y.key,Y.props,null,$.mode,le),xc(le,Y),le.return=$,$=le)}return w($);case A:e:{for(ke=Y.key;G!==null;){if(G.key===ke)if(G.tag===4&&G.stateNode.containerInfo===Y.containerInfo&&G.stateNode.implementation===Y.implementation){o($,G.sibling),le=p(G,Y.children||[]),le.return=$,$=le;break e}else{o($,G);break}else s($,G);G=G.sibling}le=Km(Y,$.mode,le),le.return=$,$=le}return w($);case k:return Y=Oa(Y),ut($,G,Y,le)}if(De(Y))return xe($,G,Y,le);if(H(Y)){if(ke=H(Y),typeof ke!="function")throw Error(r(150));return Y=ke.call(Y),Ce($,G,Y,le)}if(typeof Y.then=="function")return ut($,G,qd(Y),le);if(Y.$$typeof===F)return ut($,G,Ud($,Y),le);Gd($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,G!==null&&G.tag===6?(o($,G.sibling),le=p(G,Y),le.return=$,$=le):(o($,G),le=Xm(Y,$.mode,le),le.return=$,$=le),w($)):o($,G)}return function($,G,Y,le){try{vc=0;var ke=ut($,G,Y,le);return Ll=null,ke}catch(we){if(we===Pl||we===Hd)throw we;var We=Yn(29,we,null,$.mode);return We.lanes=le,We.return=$,We}finally{}}}var Pa=Tv(!0),Cv=Tv(!1),_s=!1;function cg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ug(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Es(i,s,o){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(et&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=Od(i),dv(i,null,o),s}return Id(i,d,s,o),Od(i)}function _c(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,o|=d,s.lanes=o,Yo(i,o)}}function dg(i,s){var o=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var hg=!1;function wc(){if(hg){var i=Vl;if(i!==null)throw i}}function Ec(i,s,o,d){hg=!1;var p=i.updateQueue;_s=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var B=T,X=B.next;B.next=null,w===null?y=X:w.next=X,w=B;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==w&&(T===null?ie.firstBaseUpdate=X:T.next=X,ie.lastBaseUpdate=B))}if(y!==null){var oe=p.baseState;w=0,ie=X=B=null,T=y;do{var K=T.lane&-536870913,te=K!==T.lane;if(te?(Be&K)===K:(d&K)===K){K!==0&&K===Ol&&(hg=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var xe=i,Ce=T;K=s;var ut=o;switch(Ce.tag){case 1:if(xe=Ce.payload,typeof xe=="function"){oe=xe.call(ut,oe,K);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ce.payload,K=typeof xe=="function"?xe.call(ut,oe,K):xe,K==null)break e;oe=v({},oe,K);break e;case 2:_s=!0}}K=T.callback,K!==null&&(i.flags|=64,te&&(i.flags|=8192),te=p.callbacks,te===null?p.callbacks=[K]:te.push(K))}else te={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(X=ie=te,B=oe):ie=ie.next=te,w|=K;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;te=T,T=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ie===null&&(B=oe),p.baseState=B,p.firstBaseUpdate=X,p.lastBaseUpdate=ie,y===null&&(p.shared.lanes=0),Cs|=w,i.lanes=w,i.memoizedState=oe}}function Nv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Rv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Nv(o[i],s)}var Ul=V(null),$d=V(0);function Dv(i,s){i=qi,ue($d,i),ue(Ul,s),qi=i|s.baseLanes}function fg(){ue($d,qi),ue(Ul,Ul.current)}function mg(){qi=$d.current,Z(Ul),Z($d)}var Wn=V(null),yr=null;function Ss(i){var s=i.alternate;ue(Ot,Ot.current&1),ue(Wn,i),yr===null&&(s===null||Ul.current!==null||s.memoizedState!==null)&&(yr=i)}function gg(i){ue(Ot,Ot.current),ue(Wn,i),yr===null&&(yr=i)}function zv(i){i.tag===22?(ue(Ot,Ot.current),ue(Wn,i),yr===null&&(yr=i)):ks()}function ks(){ue(Ot,Ot.current),ue(Wn,Wn.current)}function Xn(i){Z(Wn),yr===i&&(yr=null),Z(Ot)}var Ot=V(0);function Qd(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||_p(o)||wp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Oi=0,Ve=null,ot=null,Gt=null,Yd=!1,Bl=!1,La=!1,Wd=0,Sc=0,Hl=null,_C=0;function Nt(){throw Error(r(321))}function pg(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Qn(i[o],s[o]))return!1;return!0}function bg(i,s,o,d,p,y){return Oi=y,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,re.H=i===null||i.memoizedState===null?gx:zg,La=!1,y=o(d,p),La=!1,Bl&&(y=Mv(s,o,d,p)),jv(i),y}function jv(i){re.H=Tc;var s=ot!==null&&ot.next!==null;if(Oi=0,Gt=ot=Ve=null,Yd=!1,Sc=0,Hl=null,s)throw Error(r(300));i===null||$t||(i=i.dependencies,i!==null&&Ld(i)&&($t=!0))}function Mv(i,s,o,d){Ve=i;var p=0;do{if(Bl&&(Hl=null),Sc=0,Bl=!1,25<=p)throw Error(r(301));if(p+=1,Gt=ot=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}re.H=px,y=s(o,d)}while(Bl);return y}function wC(){var i=re.H,s=i.useState()[0];return s=typeof s.then=="function"?kc(s):s,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(Ve.flags|=1024),s}function yg(){var i=Wd!==0;return Wd=0,i}function vg(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function xg(i){if(Yd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Yd=!1}Oi=0,Gt=ot=Ve=null,Bl=!1,Sc=Wd=0,Hl=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ve.memoizedState=Gt=i:Gt=Gt.next=i,Gt}function Vt(){if(ot===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var s=Gt===null?Ve.memoizedState:Gt.next;if(s!==null)Gt=s,ot=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Gt===null?Ve.memoizedState=Gt=i:Gt=Gt.next=i}return Gt}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(i){var s=Sc;return Sc+=1,Hl===null&&(Hl=[]),i=Sv(Hl,i,s),s=Ve,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,re.H=s===null||s.memoizedState===null?gx:zg),i}function Kd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return kc(i);if(i.$$typeof===F)return un(i)}throw Error(r(438,String(i)))}function _g(i){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var d=Ve.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Xd(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),d=0;d<i;d++)o[d]=U;return s.index++,o}function Vi(i,s){return typeof s=="function"?s(i):s}function Zd(i){var s=Vt();return wg(s,ot,i)}function wg(i,s,o){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var p=i.baseQueue,y=d.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}s.baseQueue=p=y,d.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var T=w=null,B=null,X=s,ie=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Be&oe)===oe:(Oi&oe)===oe){var K=X.revertLane;if(K===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===Ol&&(ie=!0);else if((Oi&K)===K){X=X.next,K===Ol&&(ie=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(T=B=oe,w=y):B=B.next=oe,Ve.lanes|=K,Cs|=K;oe=X.action,La&&o(y,oe),y=X.hasEagerState?X.eagerState:o(y,oe)}else K={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(T=B=K,w=y):B=B.next=K,Ve.lanes|=oe,Cs|=oe;X=X.next}while(X!==null&&X!==s);if(B===null?w=y:B.next=T,!Qn(y,i.memoizedState)&&($t=!0,ie&&(o=Vl,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=B,d.lastRenderedState=y}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Eg(i){var s=Vt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var d=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Qn(y,s.memoizedState)||($t=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,d]}function Iv(i,s,o){var d=Ve,p=Vt(),y=Ge;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!Qn((ot||p).memoizedState,o);if(w&&(p.memoizedState=o,$t=!0),p=p.queue,Ag(Pv.bind(null,d,p,i),[i]),p.getSnapshot!==s||w||Gt!==null&&Gt.memoizedState.tag&1){if(d.flags|=2048,Fl(9,{destroy:void 0},Vv.bind(null,d,p,o,s),null),dt===null)throw Error(r(349));y||(Oi&127)!==0||Ov(d,s,o)}return o}function Ov(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=Xd(),Ve.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Vv(i,s,o,d){s.value=o,s.getSnapshot=d,Lv(s)&&Uv(i)}function Pv(i,s,o){return o(function(){Lv(s)&&Uv(i)})}function Lv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Qn(i,o)}catch{return!0}}function Uv(i){var s=Ra(i,2);s!==null&&Pn(s,i,2)}function Sg(i){var s=Cn();if(typeof i=="function"){var o=i;if(i=o(),La){or(!0);try{o()}finally{or(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:i},s}function Bv(i,s,o,d){return i.baseState=o,wg(i,ot,typeof d=="function"?d:Vi)}function EC(i,s,o,d,p){if(th(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};re.T!==null?o(!0):y.isTransition=!1,d(y),o=s.pending,o===null?(y.next=s.pending=y,Hv(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Hv(i,s){var o=s.action,d=s.payload,p=i.state;if(s.isTransition){var y=re.T,w={};re.T=w;try{var T=o(p,d),B=re.S;B!==null&&B(w,T),Fv(i,s,T)}catch(X){kg(i,s,X)}finally{y!==null&&w.types!==null&&(y.types=w.types),re.T=y}}else try{y=o(p,d),Fv(i,s,y)}catch(X){kg(i,s,X)}}function Fv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){qv(i,s,d)},function(d){return kg(i,s,d)}):qv(i,s,o)}function qv(i,s,o){s.status="fulfilled",s.value=o,Gv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Hv(i,o)))}function kg(i,s,o){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=o,Gv(s),s=s.next;while(s!==d)}i.action=null}function Gv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function $v(i,s){return s}function Qv(i,s){if(Ge){var o=dt.formState;if(o!==null){e:{var d=Ve;if(Ge){if(gt){t:{for(var p=gt,y=br;p.nodeType!==8;){if(!y){p=null;break t}if(p=vr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){gt=vr(p.nextSibling),d=p.data==="F!";break e}}vs(d)}d=!1}d&&(s=o[0])}}return o=Cn(),o.memoizedState=o.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:s},o.queue=d,o=hx.bind(null,Ve,d),d.dispatch=o,d=Sg(!1),y=Dg.bind(null,Ve,!1,d.queue),d=Cn(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,o=EC.bind(null,Ve,p,y,o),p.dispatch=o,d.memoizedState=i,[s,o,!1]}function Yv(i){var s=Vt();return Wv(s,ot,i)}function Wv(i,s,o){if(s=wg(i,s,$v)[0],i=Zd(Vi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=kc(s)}catch(w){throw w===Pl?Hd:w}else d=s;s=Vt();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(Ve.flags|=2048,Fl(9,{destroy:void 0},SC.bind(null,p,o),null)),[d,y,i]}function SC(i,s){i.action=s}function Xv(i){var s=Vt(),o=ot;if(o!==null)return Wv(s,o,i);Vt(),s=s.memoizedState,o=Vt();var d=o.queue.dispatch;return o.memoizedState=i,[s,d,!1]}function Fl(i,s,o,d){return i={tag:i,create:o,deps:d,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=Xd(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(d=o.next,o.next=i,i.next=d,s.lastEffect=i),i}function Kv(){return Vt().memoizedState}function Jd(i,s,o,d){var p=Cn();Ve.flags|=i,p.memoizedState=Fl(1|s,{destroy:void 0},o,d===void 0?null:d)}function eh(i,s,o,d){var p=Vt();d=d===void 0?null:d;var y=p.memoizedState.inst;ot!==null&&d!==null&&pg(d,ot.memoizedState.deps)?p.memoizedState=Fl(s,y,o,d):(Ve.flags|=i,p.memoizedState=Fl(1|s,y,o,d))}function Zv(i,s){Jd(8390656,8,i,s)}function Ag(i,s){eh(2048,8,i,s)}function kC(i){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=Xd(),Ve.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function Jv(i){var s=Vt().memoizedState;return kC({ref:s,nextImpl:i}),function(){if((et&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ex(i,s){return eh(4,2,i,s)}function tx(i,s){return eh(4,4,i,s)}function nx(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function rx(i,s,o){o=o!=null?o.concat([i]):null,eh(4,4,nx.bind(null,s,i),o)}function Tg(){}function ix(i,s){var o=Vt();s=s===void 0?null:s;var d=o.memoizedState;return s!==null&&pg(s,d[1])?d[0]:(o.memoizedState=[i,s],i)}function sx(i,s){var o=Vt();s=s===void 0?null:s;var d=o.memoizedState;if(s!==null&&pg(s,d[1]))return d[0];if(d=i(),La){or(!0);try{i()}finally{or(!1)}}return o.memoizedState=[d,s],d}function Cg(i,s,o){return o===void 0||(Oi&1073741824)!==0&&(Be&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=a1(),Ve.lanes|=i,Cs|=i,o)}function ax(i,s,o,d){return Qn(o,s)?o:Ul.current!==null?(i=Cg(i,o,d),Qn(i,s)||($t=!0),i):(Oi&42)===0||(Oi&1073741824)!==0&&(Be&261930)===0?($t=!0,i.memoizedState=o):(i=a1(),Ve.lanes|=i,Cs|=i,s)}function lx(i,s,o,d,p){var y=ae.p;ae.p=y!==0&&8>y?y:8;var w=re.T,T={};re.T=T,Dg(i,!1,s,o);try{var B=p(),X=re.S;if(X!==null&&X(T,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=xC(B,d);Ac(i,s,ie,Jn(i))}else Ac(i,s,d,Jn(i))}catch(oe){Ac(i,s,{then:function(){},status:"rejected",reason:oe},Jn())}finally{ae.p=y,w!==null&&T.types!==null&&(w.types=T.types),re.T=w}}function AC(){}function Ng(i,s,o,d){if(i.tag!==5)throw Error(r(476));var p=ox(i).queue;lx(i,p,s,pe,o===null?AC:function(){return cx(i),o(d)})}function ox(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:pe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function cx(i){var s=ox(i);s.next===null&&(s=i.alternate.memoizedState),Ac(i,s.next.queue,{},Jn())}function Rg(){return un(Fc)}function ux(){return Vt().memoizedState}function dx(){return Vt().memoizedState}function TC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Jn();i=ws(o);var d=Es(s,i,o);d!==null&&(Pn(d,s,o),_c(d,s,o)),s={cache:sg()},i.payload=s;return}s=s.return}}function CC(i,s,o){var d=Jn();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},th(i)?fx(s,o):(o=Ym(i,s,o,d),o!==null&&(Pn(o,i,d),mx(o,s,d)))}function hx(i,s,o){var d=Jn();Ac(i,s,o,d)}function Ac(i,s,o,d){var p={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(th(i))fx(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,T=y(w,o);if(p.hasEagerState=!0,p.eagerState=T,Qn(T,w))return Id(i,s,p,0),dt===null&&Md(),!1}catch{}finally{}if(o=Ym(i,s,p,d),o!==null)return Pn(o,i,d),mx(o,s,d),!0}return!1}function Dg(i,s,o,d){if(d={lane:2,revertLane:cp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},th(i)){if(s)throw Error(r(479))}else s=Ym(i,o,d,2),s!==null&&Pn(s,i,2)}function th(i){var s=i.alternate;return i===Ve||s!==null&&s===Ve}function fx(i,s){Bl=Yd=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function mx(i,s,o){if((o&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,o|=d,s.lanes=o,Yo(i,o)}}var Tc={readContext:un,use:Kd,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Tc.useEffectEvent=Nt;var gx={readContext:un,use:Kd,useCallback:function(i,s){return Cn().memoizedState=[i,s===void 0?null:s],i},useContext:un,useEffect:Zv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Jd(4194308,4,nx.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Jd(4194308,4,i,s)},useInsertionEffect:function(i,s){Jd(4,2,i,s)},useMemo:function(i,s){var o=Cn();s=s===void 0?null:s;var d=i();if(La){or(!0);try{i()}finally{or(!1)}}return o.memoizedState=[d,s],d},useReducer:function(i,s,o){var d=Cn();if(o!==void 0){var p=o(s);if(La){or(!0);try{o(s)}finally{or(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=CC.bind(null,Ve,i),[d.memoizedState,i]},useRef:function(i){var s=Cn();return i={current:i},s.memoizedState=i},useState:function(i){i=Sg(i);var s=i.queue,o=hx.bind(null,Ve,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Tg,useDeferredValue:function(i,s){var o=Cn();return Cg(o,i,s)},useTransition:function(){var i=Sg(!1);return i=lx.bind(null,Ve,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var d=Ve,p=Cn();if(Ge){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),dt===null)throw Error(r(349));(Be&127)!==0||Ov(d,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,Zv(Pv.bind(null,d,y,i),[i]),d.flags|=2048,Fl(9,{destroy:void 0},Vv.bind(null,d,y,o,s),null),o},useId:function(){var i=Cn(),s=dt.identifierPrefix;if(Ge){var o=ci,d=oi;o=(d&~(1<<32-Mt(d)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Wd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=_C++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Rg,useFormState:Qv,useActionState:Qv,useOptimistic:function(i){var s=Cn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Dg.bind(null,Ve,!0,o),o.dispatch=s,[i,s]},useMemoCache:_g,useCacheRefresh:function(){return Cn().memoizedState=TC.bind(null,Ve)},useEffectEvent:function(i){var s=Cn(),o={impl:i};return s.memoizedState=o,function(){if((et&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},zg={readContext:un,use:Kd,useCallback:ix,useContext:un,useEffect:Ag,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:sx,useReducer:Zd,useRef:Kv,useState:function(){return Zd(Vi)},useDebugValue:Tg,useDeferredValue:function(i,s){var o=Vt();return ax(o,ot.memoizedState,i,s)},useTransition:function(){var i=Zd(Vi)[0],s=Vt().memoizedState;return[typeof i=="boolean"?i:kc(i),s]},useSyncExternalStore:Iv,useId:ux,useHostTransitionStatus:Rg,useFormState:Yv,useActionState:Yv,useOptimistic:function(i,s){var o=Vt();return Bv(o,ot,i,s)},useMemoCache:_g,useCacheRefresh:dx};zg.useEffectEvent=Jv;var px={readContext:un,use:Kd,useCallback:ix,useContext:un,useEffect:Ag,useImperativeHandle:rx,useInsertionEffect:ex,useLayoutEffect:tx,useMemo:sx,useReducer:Eg,useRef:Kv,useState:function(){return Eg(Vi)},useDebugValue:Tg,useDeferredValue:function(i,s){var o=Vt();return ot===null?Cg(o,i,s):ax(o,ot.memoizedState,i,s)},useTransition:function(){var i=Eg(Vi)[0],s=Vt().memoizedState;return[typeof i=="boolean"?i:kc(i),s]},useSyncExternalStore:Iv,useId:ux,useHostTransitionStatus:Rg,useFormState:Xv,useActionState:Xv,useOptimistic:function(i,s){var o=Vt();return ot!==null?Bv(o,ot,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:_g,useCacheRefresh:dx};px.useEffectEvent=Jv;function jg(i,s,o,d){s=i.memoizedState,o=o(d,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Mg={enqueueSetState:function(i,s,o){i=i._reactInternals;var d=Jn(),p=ws(d);p.payload=s,o!=null&&(p.callback=o),s=Es(i,p,d),s!==null&&(Pn(s,i,d),_c(s,i,d))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var d=Jn(),p=ws(d);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Es(i,p,d),s!==null&&(Pn(s,i,d),_c(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Jn(),d=ws(o);d.tag=2,s!=null&&(d.callback=s),s=Es(i,d,o),s!==null&&(Pn(s,i,o),_c(s,i,o))}};function bx(i,s,o,d,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,w):s.prototype&&s.prototype.isPureReactComponent?!fc(o,d)||!fc(p,y):!0}function yx(i,s,o,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==i&&Mg.enqueueReplaceState(s,s.state,null)}function Ua(i,s){var o=s;if("ref"in s){o={};for(var d in s)d!=="ref"&&(o[d]=s[d])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function vx(i){jd(i)}function xx(i){console.error(i)}function _x(i){jd(i)}function nh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function wx(i,s,o){try{var d=i.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ig(i,s,o){return o=ws(o),o.tag=3,o.payload={element:null},o.callback=function(){nh(i,s)},o}function Ex(i){return i=ws(i),i.tag=3,i}function Sx(i,s,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=d.value;i.payload=function(){return p(y)},i.callback=function(){wx(s,o,d)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){wx(s,o,d),typeof p!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function NC(i,s,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=o.alternate,s!==null&&Il(s,o,p,!0),o=Wn.current,o!==null){switch(o.tag){case 31:case 13:return yr===null?mh():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===Fd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([d]):s.add(d),ap(i,d,p)),!1;case 22:return o.flags|=65536,d===Fd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([d]):o.add(d)),ap(i,d,p)),!1}throw Error(r(435,o.tag))}return ap(i,d,p),mh(),!1}if(Ge)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==eg&&(i=Error(r(422),{cause:d}),pc(mr(i,o)))):(d!==eg&&(s=Error(r(423),{cause:d}),pc(mr(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=mr(d,o),p=Ig(i.stateNode,d,p),dg(i,p),Rt!==4&&(Rt=2)),!1;var y=Error(r(520),{cause:d});if(y=mr(y,o),Ic===null?Ic=[y]:Ic.push(y),Rt!==4&&(Rt=2),s===null)return!0;d=mr(d,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Ig(o.stateNode,d,i),dg(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ns===null||!Ns.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ex(p),Sx(p,i,o,d),dg(o,p),!1}o=o.return}while(o!==null);return!1}var Og=Error(r(461)),$t=!1;function dn(i,s,o,d){s.child=i===null?Cv(s,null,o,d):Pa(s,i.child,o,d)}function kx(i,s,o,d,p){o=o.render;var y=s.ref;if("ref"in d){var w={};for(var T in d)T!=="ref"&&(w[T]=d[T])}else w=d;return Ma(s),d=bg(i,s,o,w,y,p),T=yg(),i!==null&&!$t?(vg(i,s,p),Pi(i,s,p)):(Ge&&T&&Zm(s),s.flags|=1,dn(i,s,d,p),s.child)}function Ax(i,s,o,d,p){if(i===null){var y=o.type;return typeof y=="function"&&!Wm(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Tx(i,s,y,d,p)):(i=Vd(o.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!qg(i,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:fc,o(w,d)&&i.ref===s.ref)return Pi(i,s,p)}return s.flags|=1,i=zi(y,d),i.ref=s.ref,i.return=s,s.child=i}function Tx(i,s,o,d,p){if(i!==null){var y=i.memoizedProps;if(fc(y,d)&&i.ref===s.ref)if($t=!1,s.pendingProps=d=y,qg(i,p))(i.flags&131072)!==0&&($t=!0);else return s.lanes=i.lanes,Pi(i,s,p)}return Vg(i,s,o,d,p)}function Cx(i,s,o,d){var p=d.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(d=s.child=i.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~y}else d=0,s.child=null;return Nx(i,s,y,o,d)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bd(s,y!==null?y.cachePool:null),y!==null?Dv(s,y):fg(),zv(s);else return d=s.lanes=536870912,Nx(i,s,y!==null?y.baseLanes|o:o,o,d)}else y!==null?(Bd(s,y.cachePool),Dv(s,y),ks(),s.memoizedState=null):(i!==null&&Bd(s,null),fg(),ks());return dn(i,s,p,o),s.child}function Cc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Nx(i,s,o,d,p){var y=lg();return y=y===null?null:{parent:qt._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},i!==null&&Bd(s,null),fg(),zv(s),i!==null&&Il(i,s,d,!0),s.childLanes=p,null}function rh(i,s){return s=sh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Rx(i,s,o){return Pa(s,i.child,null,o),i=rh(s,s.pendingProps),i.flags|=2,Xn(s),s.memoizedState=null,i}function RC(i,s,o){var d=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ge){if(d.mode==="hidden")return i=rh(s,d),s.lanes=536870912,Cc(null,i);if(gg(s),(i=gt)?(i=H1(i,br),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:bs!==null?{id:oi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},o=fv(i),o.return=s,s.child=o,cn=s,gt=null)):i=null,i===null)throw vs(s);return s.lanes=536870912,null}return rh(s,d)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(gg(s),p)if(s.flags&256)s.flags&=-257,s=Rx(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if($t||Il(i,s,o,!1),p=(o&i.childLanes)!==0,$t||p){if(d=dt,d!==null&&(w=Wo(d,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,Ra(i,w),Pn(d,i,w),Og;mh(),s=Rx(i,s,o)}else i=y.treeContext,gt=vr(w.nextSibling),cn=s,Ge=!0,ys=null,br=!1,i!==null&&pv(s,i),s=rh(s,d),s.flags|=4096;return s}return i=zi(i.child,{mode:d.mode,children:d.children}),i.ref=s.ref,s.child=i,i.return=s,i}function ih(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Vg(i,s,o,d,p){return Ma(s),o=bg(i,s,o,d,void 0,p),d=yg(),i!==null&&!$t?(vg(i,s,p),Pi(i,s,p)):(Ge&&d&&Zm(s),s.flags|=1,dn(i,s,o,p),s.child)}function Dx(i,s,o,d,p,y){return Ma(s),s.updateQueue=null,o=Mv(s,d,o,p),jv(i),d=yg(),i!==null&&!$t?(vg(i,s,y),Pi(i,s,y)):(Ge&&d&&Zm(s),s.flags|=1,dn(i,s,o,y),s.child)}function zx(i,s,o,d,p){if(Ma(s),s.stateNode===null){var y=Dl,w=o.contextType;typeof w=="object"&&w!==null&&(y=un(w)),y=new o(d,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Mg,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=d,y.state=s.memoizedState,y.refs={},cg(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?un(w):Dl,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(jg(s,o,w,d),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Mg.enqueueReplaceState(y,y.state,null),Ec(s,d,y,p),wc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){y=s.stateNode;var T=s.memoizedProps,B=Ua(o,T);y.props=B;var X=y.context,ie=o.contextType;w=Dl,typeof ie=="object"&&ie!==null&&(w=un(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||X!==w)&&yx(s,y,d,w),_s=!1;var K=s.memoizedState;y.state=K,Ec(s,d,y,p),wc(),X=s.memoizedState,T||K!==X||_s?(typeof oe=="function"&&(jg(s,o,oe,d),X=s.memoizedState),(B=_s||bx(s,o,B,d,K,X,w))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=X),y.props=d,y.state=X,y.context=w,d=B):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{y=s.stateNode,ug(i,s),w=s.memoizedProps,ie=Ua(o,w),y.props=ie,oe=s.pendingProps,K=y.context,X=o.contextType,B=Dl,typeof X=="object"&&X!==null&&(B=un(X)),T=o.getDerivedStateFromProps,(X=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==oe||K!==B)&&yx(s,y,d,B),_s=!1,K=s.memoizedState,y.state=K,Ec(s,d,y,p),wc();var te=s.memoizedState;w!==oe||K!==te||_s||i!==null&&i.dependencies!==null&&Ld(i.dependencies)?(typeof T=="function"&&(jg(s,o,T,d),te=s.memoizedState),(ie=_s||bx(s,o,ie,d,K,te,B)||i!==null&&i.dependencies!==null&&Ld(i.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,te,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,te,B)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=te),y.props=d,y.state=te,y.context=B,d=ie):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),d=!1)}return y=d,ih(i,s),d=(s.flags&128)!==0,y||d?(y=s.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&d?(s.child=Pa(s,i.child,null,p),s.child=Pa(s,null,o,p)):dn(i,s,o,p),s.memoizedState=y.state,i=s.child):i=Pi(i,s,p),i}function jx(i,s,o,d){return za(),s.flags|=256,dn(i,s,o,d),s.child}var Pg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lg(i){return{baseLanes:i,cachePool:wv()}}function Ug(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Zn),i}function Mx(i,s,o){var d=s.pendingProps,p=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(Ot.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ge){if(p?Ss(s):ks(),(i=gt)?(i=H1(i,br),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:bs!==null?{id:oi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},o=fv(i),o.return=s,s.child=o,cn=s,gt=null)):i=null,i===null)throw vs(s);return wp(i)?s.lanes=32:s.lanes=536870912,null}var T=d.children;return d=d.fallback,p?(ks(),p=s.mode,T=sh({mode:"hidden",children:T},p),d=Da(d,p,o,null),T.return=s,d.return=s,T.sibling=d,s.child=T,d=s.child,d.memoizedState=Lg(o),d.childLanes=Ug(i,w,o),s.memoizedState=Pg,Cc(null,d)):(Ss(s),Bg(s,T))}var B=i.memoizedState;if(B!==null&&(T=B.dehydrated,T!==null)){if(y)s.flags&256?(Ss(s),s.flags&=-257,s=Hg(i,s,o)):s.memoizedState!==null?(ks(),s.child=i.child,s.flags|=128,s=null):(ks(),T=d.fallback,p=s.mode,d=sh({mode:"visible",children:d.children},p),T=Da(T,p,o,null),T.flags|=2,d.return=s,T.return=s,d.sibling=T,s.child=d,Pa(s,i.child,null,o),d=s.child,d.memoizedState=Lg(o),d.childLanes=Ug(i,w,o),s.memoizedState=Pg,s=Cc(null,d));else if(Ss(s),wp(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var X=w.dgst;w=X,d=Error(r(419)),d.stack="",d.digest=w,pc({value:d,source:null,stack:null}),s=Hg(i,s,o)}else if($t||Il(i,s,o,!1),w=(o&i.childLanes)!==0,$t||w){if(w=dt,w!==null&&(d=Wo(w,o),d!==0&&d!==B.retryLane))throw B.retryLane=d,Ra(i,d),Pn(w,i,d),Og;_p(T)||mh(),s=Hg(i,s,o)}else _p(T)?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,gt=vr(T.nextSibling),cn=s,Ge=!0,ys=null,br=!1,i!==null&&pv(s,i),s=Bg(s,d.children),s.flags|=4096);return s}return p?(ks(),T=d.fallback,p=s.mode,B=i.child,X=B.sibling,d=zi(B,{mode:"hidden",children:d.children}),d.subtreeFlags=B.subtreeFlags&65011712,X!==null?T=zi(X,T):(T=Da(T,p,o,null),T.flags|=2),T.return=s,d.return=s,d.sibling=T,s.child=d,Cc(null,d),d=s.child,T=i.child.memoizedState,T===null?T=Lg(o):(p=T.cachePool,p!==null?(B=qt._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=wv(),T={baseLanes:T.baseLanes|o,cachePool:p}),d.memoizedState=T,d.childLanes=Ug(i,w,o),s.memoizedState=Pg,Cc(i.child,d)):(Ss(s),o=i.child,i=o.sibling,o=zi(o,{mode:"visible",children:d.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function Bg(i,s){return s=sh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function sh(i,s){return i=Yn(22,i,null,s),i.lanes=0,i}function Hg(i,s,o){return Pa(s,i.child,null,o),i=Bg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Ix(i,s,o){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),rg(i.return,s,o)}function Fg(i,s,o,d,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function Ox(i,s,o){var d=s.pendingProps,p=d.revealOrder,y=d.tail;d=d.children;var w=Ot.current,T=(w&2)!==0;if(T?(w=w&1|2,s.flags|=128):w&=1,ue(Ot,w),dn(i,s,d,o),d=Ge?gc:0,!T&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ix(i,o,s);else if(i.tag===19)Ix(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&Qd(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Fg(s,!1,p,o,y,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Qd(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Fg(s,!0,o,null,y,d);break;case"together":Fg(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Pi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Cs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Il(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=zi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=zi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function qg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ld(i)))}function DC(i,s,o){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),xs(s,qt,i.memoizedState.cache),za();break;case 27:case 5:fe(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:xs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,gg(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Ss(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Mx(i,s,o):(Ss(s),i=Pi(i,s,o),i!==null?i.sibling:null);Ss(s);break;case 19:var p=(i.flags&128)!==0;if(d=(o&s.childLanes)!==0,d||(Il(i,s,o,!1),d=(o&s.childLanes)!==0),p){if(d)return Ox(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ue(Ot,Ot.current),d)break;return null;case 22:return s.lanes=0,Cx(i,s,o,s.pendingProps);case 24:xs(s,qt,i.memoizedState.cache)}return Pi(i,s,o)}function Vx(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)$t=!0;else{if(!qg(i,o)&&(s.flags&128)===0)return $t=!1,DC(i,s,o);$t=(i.flags&131072)!==0}else $t=!1,Ge&&(s.flags&1048576)!==0&&gv(s,gc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(i=Oa(s.elementType),s.type=i,typeof i=="function")Wm(i)?(d=Ua(i,d),s.tag=1,s=zx(null,s,i,d,o)):(s.tag=0,s=Vg(null,s,i,d,o));else{if(i!=null){var p=i.$$typeof;if(p===L){s.tag=11,s=kx(null,s,i,d,o);break e}else if(p===R){s.tag=14,s=Ax(null,s,i,d,o);break e}}throw s=Se(i)||i,Error(r(306,s,""))}}return s;case 0:return Vg(i,s,s.type,s.pendingProps,o);case 1:return d=s.type,p=Ua(d,s.pendingProps),zx(i,s,d,p,o);case 3:e:{if(mt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));d=s.pendingProps;var y=s.memoizedState;p=y.element,ug(i,s),Ec(s,d,null,o);var w=s.memoizedState;if(d=w.cache,xs(s,qt,d),d!==y.cache&&ig(s,[qt],o,!0),wc(),d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=jx(i,s,d,o);break e}else if(d!==p){p=mr(Error(r(424)),s),pc(p),s=jx(i,s,d,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=vr(i.firstChild),cn=s,Ge=!0,ys=null,br=!0,o=Cv(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(za(),d===p){s=Pi(i,s,o);break e}dn(i,s,d,o)}s=s.child}return s;case 26:return ih(i,s),i===null?(o=Y1(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ge||(o=s.type,i=s.pendingProps,d=_h(ve.current).createElement(o),d[Bt]=s,d[en]=i,hn(d,o,i),Ht(d),s.stateNode=d):s.memoizedState=Y1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return fe(s),i===null&&Ge&&(d=s.stateNode=G1(s.type,s.pendingProps,ve.current),cn=s,br=!0,p=gt,js(s.type)?(Ep=p,gt=vr(d.firstChild)):gt=p),dn(i,s,s.pendingProps.children,o),ih(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ge&&((p=d=gt)&&(d=lN(d,s.type,s.pendingProps,br),d!==null?(s.stateNode=d,cn=s,gt=vr(d.firstChild),br=!1,p=!0):p=!1),p||vs(s)),fe(s),p=s.type,y=s.pendingProps,w=i!==null?i.memoizedProps:null,d=y.children,yp(p,y)?d=null:w!==null&&yp(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=bg(i,s,wC,null,null,o),Fc._currentValue=p),ih(i,s),dn(i,s,d,o),s.child;case 6:return i===null&&Ge&&((i=o=gt)&&(o=oN(o,s.pendingProps,br),o!==null?(s.stateNode=o,cn=s,gt=null,i=!0):i=!1),i||vs(s)),null;case 13:return Mx(i,s,o);case 4:return mt(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Pa(s,null,d,o):dn(i,s,d,o),s.child;case 11:return kx(i,s,s.type,s.pendingProps,o);case 7:return dn(i,s,s.pendingProps,o),s.child;case 8:return dn(i,s,s.pendingProps.children,o),s.child;case 12:return dn(i,s,s.pendingProps.children,o),s.child;case 10:return d=s.pendingProps,xs(s,s.type,d.value),dn(i,s,d.children,o),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,Ma(s),p=un(p),d=d(p),s.flags|=1,dn(i,s,d,o),s.child;case 14:return Ax(i,s,s.type,s.pendingProps,o);case 15:return Tx(i,s,s.type,s.pendingProps,o);case 19:return Ox(i,s,o);case 31:return RC(i,s,o);case 22:return Cx(i,s,o,s.pendingProps);case 24:return Ma(s),d=un(qt),i===null?(p=lg(),p===null&&(p=dt,y=sg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:d,cache:p},cg(s),xs(s,qt,p)):((i.lanes&o)!==0&&(ug(i,s),Ec(s,null,null,o),wc()),p=i.memoizedState,y=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),xs(s,qt,d)):(d=y.cache,xs(s,qt,d),d!==p.cache&&ig(s,[qt],o,!0))),dn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Li(i){i.flags|=4}function Gg(i,s,o,d,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(u1())i.flags|=8192;else throw Va=Fd,og}else i.flags&=-16777217}function Px(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J1(s))if(u1())i.flags|=8192;else throw Va=Fd,og}function ah(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?hd():536870912,i.lanes|=s,Ql|=s)}function Nc(i,s){if(!Ge)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function pt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,d=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=o,s}function zC(i,s,o){var d=s.pendingProps;switch(Jm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ii(qt),Ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ml(s)?Li(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tg())),pt(s),null;case 26:var p=s.type,y=s.memoizedState;return i===null?(Li(s),y!==null?(pt(s),Px(s,y)):(pt(s),Gg(s,p,null,d,o))):y?y!==i.memoizedState?(Li(s),pt(s),Px(s,y)):(pt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==d&&Li(s),pt(s),Gg(s,p,i,d,o)),null;case 27:if(Ze(s),o=ve.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Li(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return pt(s),null}i=he.current,Ml(s)?bv(s):(i=G1(p,d,o),s.stateNode=i,Li(s))}return pt(s),null;case 5:if(Ze(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Li(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return pt(s),null}if(y=he.current,Ml(s))bv(s);else{var w=_h(ve.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?w.createElement("select",{is:d.is}):w.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?w.createElement(p,{is:d.is}):w.createElement(p)}}y[Bt]=s,y[en]=d;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=y;e:switch(hn(y,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Li(s)}}return pt(s),Gg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Li(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=ve.current,Ml(s)){if(i=s.stateNode,o=s.memoizedProps,d=null,p=cn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[Bt]=s,i=!!(i.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||M1(i.nodeValue,o)),i||vs(s,!0)}else i=_h(i).createTextNode(d),i[Bt]=s,s.stateNode=i}return pt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(d=Ml(s),o!==null){if(i===null){if(!d)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Bt]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),i=!1}else o=tg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Xn(s),s):(Xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return pt(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Ml(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Bt]=s}else za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),p=!1}else p=tg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Xn(s),s):(Xn(s),null)}return Xn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=d!==null,i=i!==null&&i.memoizedState!==null,o&&(d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),ah(s,s.updateQueue),pt(s),null);case 4:return Ye(),i===null&&fp(s.stateNode.containerInfo),pt(s),null;case 10:return Ii(s.type),pt(s),null;case 19:if(Z(Ot),d=s.memoizedState,d===null)return pt(s),null;if(p=(s.flags&128)!==0,y=d.rendering,y===null)if(p)Nc(d,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Qd(i),y!==null){for(s.flags|=128,Nc(d,!1),i=y.updateQueue,s.updateQueue=i,ah(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)hv(o,i),o=o.sibling;return ue(Ot,Ot.current&1|2),Ge&&ji(s,d.treeForkCount),s.child}i=i.sibling}d.tail!==null&&An()>dh&&(s.flags|=128,p=!0,Nc(d,!1),s.lanes=4194304)}else{if(!p)if(i=Qd(y),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,ah(s,i),Nc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ge)return pt(s),null}else 2*An()-d.renderingStartTime>dh&&o!==536870912&&(s.flags|=128,p=!0,Nc(d,!1),s.lanes=4194304);d.isBackwards?(y.sibling=s.child,s.child=y):(i=d.last,i!==null?i.sibling=y:s.child=y,d.last=y)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=An(),i.sibling=null,o=Ot.current,ue(Ot,p?o&1|2:o&1),Ge&&ji(s,d.treeForkCount),i):(pt(s),null);case 22:case 23:return Xn(s),mg(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&ah(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048),i!==null&&Z(Ia),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ii(qt),pt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function jC(i,s){switch(Jm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ii(qt),Ye(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ze(s),null;case 31:if(s.memoizedState!==null){if(Xn(s),s.alternate===null)throw Error(r(340));za()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Xn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));za()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Z(Ot),null;case 4:return Ye(),null;case 10:return Ii(s.type),null;case 22:case 23:return Xn(s),mg(),i!==null&&Z(Ia),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ii(qt),null;case 25:return null;default:return null}}function Lx(i,s){switch(Jm(s),s.tag){case 3:Ii(qt),Ye();break;case 26:case 27:case 5:Ze(s);break;case 4:Ye();break;case 31:s.memoizedState!==null&&Xn(s);break;case 13:Xn(s);break;case 19:Z(Ot);break;case 10:Ii(s.type);break;case 22:case 23:Xn(s),mg(),i!==null&&Z(Ia);break;case 24:Ii(qt)}}function Rc(i,s){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&i)===i){d=void 0;var y=o.create,w=o.inst;d=y(),w.destroy=d}o=o.next}while(o!==p)}}catch(T){st(s,s.return,T)}}function As(i,s,o){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&i)===i){var w=d.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,p=s;var B=o,X=T;try{X()}catch(ie){st(p,B,ie)}}}d=d.next}while(d!==y)}}catch(ie){st(s,s.return,ie)}}function Ux(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Rv(s,o)}catch(d){st(i,i.return,d)}}}function Bx(i,s,o){o.props=Ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(d){st(i,s,d)}}function Dc(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof o=="function"?i.refCleanup=o(d):o.current=d}}catch(p){st(i,s,p)}}function ui(i,s){var o=i.ref,d=i.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){st(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){st(i,s,p)}else o.current=null}function Hx(i){var s=i.type,o=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){st(i,i.return,p)}}function $g(i,s,o){try{var d=i.stateNode;tN(d,i.type,o,s),d[en]=s}catch(p){st(i,i.return,p)}}function Fx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&js(i.type)||i.tag===4}function Qg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Fx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&js(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yg(i,s,o){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Dr));else if(d!==4&&(d===27&&js(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Yg(i,s,o),i=i.sibling;i!==null;)Yg(i,s,o),i=i.sibling}function lh(i,s,o){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(d!==4&&(d===27&&js(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(lh(i,s,o),i=i.sibling;i!==null;)lh(i,s,o),i=i.sibling}function qx(i){var s=i.stateNode,o=i.memoizedProps;try{for(var d=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);hn(s,d,o),s[Bt]=i,s[en]=o}catch(y){st(i,i.return,y)}}var Ui=!1,Qt=!1,Wg=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,nn=null;function MC(i,s){if(i=i.containerInfo,pp=Ch,i=rv(i),Hm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,T=-1,B=-1,X=0,ie=0,oe=i,K=null;t:for(;;){for(var te;oe!==o||p!==0&&oe.nodeType!==3||(T=w+p),oe!==y||d!==0&&oe.nodeType!==3||(B=w+d),oe.nodeType===3&&(w+=oe.nodeValue.length),(te=oe.firstChild)!==null;)K=oe,oe=te;for(;;){if(oe===i)break t;if(K===o&&++X===p&&(T=w),K===y&&++ie===d&&(B=w),(te=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=te}o=T===-1||B===-1?null:{start:T,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(bp={focusedElem:i,selectionRange:o},Ch=!1,nn=s;nn!==null;)if(s=nn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,nn=i;else for(;nn!==null;){switch(s=nn,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var xe=Ua(o.type,p);i=d.getSnapshotBeforeUpdate(xe,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){st(o,o.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)xp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":xp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,nn=i;break}nn=s.return}}function $x(i,s,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Hi(i,o),d&4&&Rc(5,o);break;case 1:if(Hi(i,o),d&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){st(o,o.return,w)}else{var p=Ua(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){st(o,o.return,w)}}d&64&&Ux(o),d&512&&Dc(o,o.return);break;case 3:if(Hi(i,o),d&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Rv(i,s)}catch(w){st(o,o.return,w)}}break;case 27:s===null&&d&4&&qx(o);case 26:case 5:Hi(i,o),s===null&&d&4&&Hx(o),d&512&&Dc(o,o.return);break;case 12:Hi(i,o);break;case 31:Hi(i,o),d&4&&Wx(i,o);break;case 13:Hi(i,o),d&4&&Xx(i,o),d&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=FC.bind(null,o),cN(i,o))));break;case 22:if(d=o.memoizedState!==null||Ui,!d){s=s!==null&&s.memoizedState!==null||Qt,p=Ui;var y=Qt;Ui=d,(Qt=s)&&!y?Fi(i,o,(o.subtreeFlags&8772)!==0):Hi(i,o),Ui=p,Qt=y}break;case 30:break;default:Hi(i,o)}}function Qx(i){var s=i.alternate;s!==null&&(i.alternate=null,Qx(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&bl(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,Mn=!1;function Bi(i,s,o){for(o=o.child;o!==null;)Yx(i,s,o),o=o.sibling}function Yx(i,s,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Tr,o)}catch{}switch(o.tag){case 26:Qt||ui(o,s),Bi(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qt||ui(o,s);var d=xt,p=Mn;js(o.type)&&(xt=o.stateNode,Mn=!1),Bi(i,s,o),Uc(o.stateNode),xt=d,Mn=p;break;case 5:Qt||ui(o,s);case 6:if(d=xt,p=Mn,xt=null,Bi(i,s,o),xt=d,Mn=p,xt!==null)if(Mn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(y){st(o,s,y)}else try{xt.removeChild(o.stateNode)}catch(y){st(o,s,y)}break;case 18:xt!==null&&(Mn?(i=xt,U1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),to(i)):U1(xt,o.stateNode));break;case 4:d=xt,p=Mn,xt=o.stateNode.containerInfo,Mn=!0,Bi(i,s,o),xt=d,Mn=p;break;case 0:case 11:case 14:case 15:As(2,o,s),Qt||As(4,o,s),Bi(i,s,o);break;case 1:Qt||(ui(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Bx(o,s,d)),Bi(i,s,o);break;case 21:Bi(i,s,o);break;case 22:Qt=(d=Qt)||o.memoizedState!==null,Bi(i,s,o),Qt=d;break;default:Bi(i,s,o)}}function Wx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{to(i)}catch(o){st(s,s.return,o)}}}function Xx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{to(i)}catch(o){st(s,s.return,o)}}function IC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Gx),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Gx),s;default:throw Error(r(435,i.tag))}}function oh(i,s){var o=IC(i);s.forEach(function(d){if(!o.has(d)){o.add(d);var p=qC.bind(null,i,d);d.then(p,p)}})}function In(i,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],y=i,w=s,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(js(T.type)){xt=T.stateNode,Mn=!1;break e}break;case 5:xt=T.stateNode,Mn=!1;break e;case 3:case 4:xt=T.stateNode.containerInfo,Mn=!0;break e}T=T.return}if(xt===null)throw Error(r(160));Yx(y,w,p),xt=null,Mn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Kx(s,i),s=s.sibling}var Vr=null;function Kx(i,s){var o=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(s,i),On(i),d&4&&(As(3,i,i.return),Rc(3,i),As(5,i,i.return));break;case 1:In(s,i),On(i),d&512&&(Qt||o===null||ui(o,o.return)),d&64&&Ui&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=Vr;if(In(s,i),On(i),d&512&&(Qt||o===null||ui(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=i.memoizedState,o===null)if(d===null)if(i.stateNode===null){e:{d=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Xr]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(d),p.head.insertBefore(y,p.querySelector("head > title"))),hn(y,d,o),y[Bt]=i,Ht(y),d=y;break e;case"link":var w=K1("link","href",p).get(d+(o.href||""));if(w){for(var T=0;T<w.length;T++)if(y=w[T],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(T,1);break t}}y=p.createElement(d),hn(y,d,o),p.head.appendChild(y);break;case"meta":if(w=K1("meta","content",p).get(d+(o.content||""))){for(T=0;T<w.length;T++)if(y=w[T],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(T,1);break t}}y=p.createElement(d),hn(y,d,o),p.head.appendChild(y);break;default:throw Error(r(468,d))}y[Bt]=i,Ht(y),d=y}i.stateNode=d}else Z1(p,i.type,i.stateNode);else i.stateNode=X1(p,d,i.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?Z1(p,i.type,i.stateNode):X1(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&$g(i,i.memoizedProps,o.memoizedProps)}break;case 27:In(s,i),On(i),d&512&&(Qt||o===null||ui(o,o.return)),o!==null&&d&4&&$g(i,i.memoizedProps,o.memoizedProps);break;case 5:if(In(s,i),On(i),d&512&&(Qt||o===null||ui(o,o.return)),i.flags&32){p=i.stateNode;try{jn(p,"")}catch(xe){st(i,i.return,xe)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,$g(i,p,o!==null?o.memoizedProps:p)),d&1024&&(Wg=!0);break;case 6:if(In(s,i),On(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,o=i.stateNode;try{o.nodeValue=d}catch(xe){st(i,i.return,xe)}}break;case 3:if(Sh=null,p=Vr,Vr=wh(s.containerInfo),In(s,i),Vr=p,On(i),d&4&&o!==null&&o.memoizedState.isDehydrated)try{to(s.containerInfo)}catch(xe){st(i,i.return,xe)}Wg&&(Wg=!1,Zx(i));break;case 4:d=Vr,Vr=wh(i.stateNode.containerInfo),In(s,i),On(i),Vr=d;break;case 12:In(s,i),On(i);break;case 31:In(s,i),On(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,oh(i,d)));break;case 13:In(s,i),On(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(uh=An()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,oh(i,d)));break;case 22:p=i.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,X=Ui,ie=Qt;if(Ui=X||p,Qt=ie||B,In(s,i),Qt=ie,Ui=X,On(i),d&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||B||Ui||Qt||Ba(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){B=o=s;try{if(y=B.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=B.stateNode;var oe=B.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(xe){st(B,B.return,xe)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(xe){st(B,B.return,xe)}}}else if(s.tag===18){if(o===null){B=s;try{var te=B.stateNode;p?B1(te,!0):B1(B.stateNode,!1)}catch(xe){st(B,B.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,oh(i,o))));break;case 19:In(s,i),On(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,oh(i,d)));break;case 30:break;case 21:break;default:In(s,i),On(i)}}function On(i){var s=i.flags;if(s&2){try{for(var o,d=i.return;d!==null;){if(Fx(d)){o=d;break}d=d.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=Qg(i);lh(i,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(jn(w,""),o.flags&=-33);var T=Qg(i);lh(i,T,w);break;case 3:case 4:var B=o.stateNode.containerInfo,X=Qg(i);Yg(i,X,B);break;default:throw Error(r(161))}}catch(ie){st(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Zx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Zx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Hi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)$x(i,s.alternate,s),s=s.sibling}function Ba(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:As(4,s,s.return),Ba(s);break;case 1:ui(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Bx(s,s.return,o),Ba(s);break;case 27:Uc(s.stateNode);case 26:case 5:ui(s,s.return),Ba(s);break;case 22:s.memoizedState===null&&Ba(s);break;case 30:Ba(s);break;default:Ba(s)}i=i.sibling}}function Fi(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Fi(p,y,o),Rc(4,y);break;case 1:if(Fi(p,y,o),d=y,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){st(d,d.return,X)}if(d=y,p=d.updateQueue,p!==null){var T=d.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)Nv(B[p],T)}catch(X){st(d,d.return,X)}}o&&w&64&&Ux(y),Dc(y,y.return);break;case 27:qx(y);case 26:case 5:Fi(p,y,o),o&&d===null&&w&4&&Hx(y),Dc(y,y.return);break;case 12:Fi(p,y,o);break;case 31:Fi(p,y,o),o&&w&4&&Wx(p,y);break;case 13:Fi(p,y,o),o&&w&4&&Xx(p,y);break;case 22:y.memoizedState===null&&Fi(p,y,o),Dc(y,y.return);break;case 30:break;default:Fi(p,y,o)}s=s.sibling}}function Xg(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&bc(o))}function Kg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bc(i))}function Pr(i,s,o,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Jx(i,s,o,d),s=s.sibling}function Jx(i,s,o,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Pr(i,s,o,d),p&2048&&Rc(9,s);break;case 1:Pr(i,s,o,d);break;case 3:Pr(i,s,o,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bc(i)));break;case 12:if(p&2048){Pr(i,s,o,d),i=s.stateNode;try{var y=s.memoizedProps,w=y.id,T=y.onPostCommit;typeof T=="function"&&T(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){st(s,s.return,B)}}else Pr(i,s,o,d);break;case 31:Pr(i,s,o,d);break;case 13:Pr(i,s,o,d);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Pr(i,s,o,d):zc(i,s):y._visibility&2?Pr(i,s,o,d):(y._visibility|=2,ql(i,s,o,d,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Xg(w,s);break;case 24:Pr(i,s,o,d),p&2048&&Kg(s.alternate,s);break;default:Pr(i,s,o,d)}}function ql(i,s,o,d,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,w=s,T=o,B=d,X=w.flags;switch(w.tag){case 0:case 11:case 15:ql(y,w,T,B,p),Rc(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?ql(y,w,T,B,p):zc(y,w):(ie._visibility|=2,ql(y,w,T,B,p)),p&&X&2048&&Xg(w.alternate,w);break;case 24:ql(y,w,T,B,p),p&&X&2048&&Kg(w.alternate,w);break;default:ql(y,w,T,B,p)}s=s.sibling}}function zc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,d=s,p=d.flags;switch(d.tag){case 22:zc(o,d),p&2048&&Xg(d.alternate,d);break;case 24:zc(o,d),p&2048&&Kg(d.alternate,d);break;default:zc(o,d)}s=s.sibling}}var jc=8192;function Gl(i,s,o){if(i.subtreeFlags&jc)for(i=i.child;i!==null;)e1(i,s,o),i=i.sibling}function e1(i,s,o){switch(i.tag){case 26:Gl(i,s,o),i.flags&jc&&i.memoizedState!==null&&_N(o,Vr,i.memoizedState,i.memoizedProps);break;case 5:Gl(i,s,o);break;case 3:case 4:var d=Vr;Vr=wh(i.stateNode.containerInfo),Gl(i,s,o),Vr=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=jc,jc=16777216,Gl(i,s,o),jc=d):Gl(i,s,o));break;default:Gl(i,s,o)}}function t1(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Mc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var d=s[o];nn=d,r1(d,i)}t1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n1(i),i=i.sibling}function n1(i){switch(i.tag){case 0:case 11:case 15:Mc(i),i.flags&2048&&As(9,i,i.return);break;case 3:Mc(i);break;case 12:Mc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ch(i)):Mc(i);break;default:Mc(i)}}function ch(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var d=s[o];nn=d,r1(d,i)}t1(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:As(8,s,s.return),ch(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ch(s));break;default:ch(s)}i=i.sibling}}function r1(i,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:As(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:bc(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,nn=d;else e:for(o=i;nn!==null;){d=nn;var p=d.sibling,y=d.return;if(Qx(d),d===o){nn=null;break e}if(p!==null){p.return=y,nn=p;break e}nn=y}}}var OC={getCacheForType:function(i){var s=un(qt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return un(qt).controller.signal}},VC=typeof WeakMap=="function"?WeakMap:Map,et=0,dt=null,Le=null,Be=0,it=0,Kn=null,Ts=!1,$l=!1,Zg=!1,qi=0,Rt=0,Cs=0,Ha=0,Jg=0,Zn=0,Ql=0,Ic=null,Vn=null,ep=!1,uh=0,i1=0,dh=1/0,hh=null,Ns=null,Zt=0,Rs=null,Yl=null,Gi=0,tp=0,np=null,s1=null,Oc=0,rp=null;function Jn(){return(et&2)!==0&&Be!==0?Be&-Be:re.T!==null?cp():fd()}function a1(){if(Zn===0)if((Be&536870912)===0||Ge){var i=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),Zn=i}else Zn=536870912;return i=Wn.current,i!==null&&(i.flags|=32),Zn}function Pn(i,s,o){(i===dt&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Wl(i,0),Ds(i,Be,Zn,!1)),pa(i,o),((et&2)===0||i!==dt)&&(i===dt&&((et&2)===0&&(Ha|=o),Rt===4&&Ds(i,Be,Zn,!1)),di(i))}function l1(i,s,o){if((et&6)!==0)throw Error(r(327));var d=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Cr(i,s),p=d?UC(i,s):sp(i,s,!0),y=d;do{if(p===0){$l&&!d&&Ds(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!PC(o)){p=sp(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var T=i;p=Ic;var B=T.current.memoizedState.isDehydrated;if(B&&(Wl(T,w).flags|=256),w=sp(T,w,!1),w!==2){if(Zg&&!B){T.errorRecoveryDisabledLanes|=y,Ha|=y,p=4;break e}y=Vn,Vn=p,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Wl(i,0),Ds(i,s,0,!0);break}e:{switch(d=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ds(d,s,Zn,!Ts);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=uh+300-An(),10<p)){if(Ds(d,s,Zn,!Ts),Qr(d,0,!0)!==0)break e;Gi=s,d.timeoutHandle=P1(o1.bind(null,d,o,Vn,hh,ep,s,Zn,Ha,Ql,Ts,y,"Throttled",-0,0),p);break e}o1(d,o,Vn,hh,ep,s,Zn,Ha,Ql,Ts,y,null,-0,0)}}break}while(!0);di(i)}function o1(i,s,o,d,p,y,w,T,B,X,ie,oe,K,te){if(i.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dr},e1(s,y,oe);var xe=(y&62914560)===y?uh-An():(y&4194048)===y?i1-An():0;if(xe=wN(oe,xe),xe!==null){Gi=y,i.cancelPendingCommit=xe(p1.bind(null,i,s,y,o,d,p,w,T,B,ie,oe,null,K,te)),Ds(i,y,w,!X);return}}p1(i,s,y,o,d,p,w,T,B)}function PC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],y=p.getSnapshot;p=p.value;try{if(!Qn(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ds(i,s,o,d){s&=~Jg,s&=~Ha,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var y=31-Mt(p),w=1<<y;d[y]=-1,p&=~w}o!==0&&ba(i,o,s)}function fh(){return(et&6)===0?(Vc(0),!1):!0}function ip(){if(Le!==null){if(it===0)var i=Le.return;else i=Le,Mi=ja=null,xg(i),Ll=null,vc=0,i=Le;for(;i!==null;)Lx(i.alternate,i),i=i.return;Le=null}}function Wl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,iN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Gi=0,ip(),dt=i,Le=o=zi(i.current,null),Be=s,it=0,Kn=null,Ts=!1,$l=Cr(i,s),Zg=!1,Ql=Zn=Jg=Ha=Cs=Rt=0,Vn=Ic=null,ep=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-Mt(d),y=1<<p;s|=i[p],d&=~y}return qi=s,Md(),o}function c1(i,s){Ve=null,re.H=Tc,s===Pl||s===Hd?(s=kv(),it=3):s===og?(s=kv(),it=4):it=s===Og?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,Le===null&&(Rt=1,nh(i,mr(s,i.current)))}function u1(){var i=Wn.current;return i===null?!0:(Be&4194048)===Be?yr===null:(Be&62914560)===Be||(Be&536870912)!==0?i===yr:!1}function d1(){var i=re.H;return re.H=Tc,i===null?Tc:i}function h1(){var i=re.A;return re.A=OC,i}function mh(){Rt=4,Ts||(Be&4194048)!==Be&&Wn.current!==null||($l=!0),(Cs&134217727)===0&&(Ha&134217727)===0||dt===null||Ds(dt,Be,Zn,!1)}function sp(i,s,o){var d=et;et|=2;var p=d1(),y=h1();(dt!==i||Be!==s)&&(hh=null,Wl(i,s)),s=!1;var w=Rt;e:do try{if(it!==0&&Le!==null){var T=Le,B=Kn;switch(it){case 8:ip(),w=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var X=it;if(it=0,Kn=null,Xl(i,T,B,X),o&&$l){w=0;break e}break;default:X=it,it=0,Kn=null,Xl(i,T,B,X)}}LC(),w=Rt;break}catch(ie){c1(i,ie)}while(!0);return s&&i.shellSuspendCounter++,Mi=ja=null,et=d,re.H=p,re.A=y,Le===null&&(dt=null,Be=0,Md()),w}function LC(){for(;Le!==null;)f1(Le)}function UC(i,s){var o=et;et|=2;var d=d1(),p=h1();dt!==i||Be!==s?(hh=null,dh=An()+500,Wl(i,s)):$l=Cr(i,s);e:do try{if(it!==0&&Le!==null){s=Le;var y=Kn;t:switch(it){case 1:it=0,Kn=null,Xl(i,s,y,1);break;case 2:case 9:if(Ev(y)){it=0,Kn=null,m1(s);break}s=function(){it!==2&&it!==9||dt!==i||(it=7),di(i)},y.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Ev(y)?(it=0,Kn=null,m1(s)):(it=0,Kn=null,Xl(i,s,y,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var T=Le;if(w?J1(w):T.stateNode.complete){it=0,Kn=null;var B=T.sibling;if(B!==null)Le=B;else{var X=T.return;X!==null?(Le=X,gh(X)):Le=null}break t}}it=0,Kn=null,Xl(i,s,y,5);break;case 6:it=0,Kn=null,Xl(i,s,y,6);break;case 8:ip(),Rt=6;break e;default:throw Error(r(462))}}BC();break}catch(ie){c1(i,ie)}while(!0);return Mi=ja=null,re.H=d,re.A=p,et=o,Le!==null?0:(dt=null,Be=0,Md(),Rt)}function BC(){for(;Le!==null&&!Im();)f1(Le)}function f1(i){var s=Vx(i.alternate,i,qi);i.memoizedProps=i.pendingProps,s===null?gh(i):Le=s}function m1(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Dx(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=Dx(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:xg(s);default:Lx(o,s),s=Le=hv(s,qi),s=Vx(o,s,qi)}i.memoizedProps=i.pendingProps,s===null?gh(i):Le=s}function Xl(i,s,o,d){Mi=ja=null,xg(s),Ll=null,vc=0;var p=s.return;try{if(NC(i,p,s,o,Be)){Rt=1,nh(i,mr(o,i.current)),Le=null;return}}catch(y){if(p!==null)throw Le=p,y;Rt=1,nh(i,mr(o,i.current)),Le=null;return}s.flags&32768?(Ge||d===1?i=!0:$l||(Be&536870912)!==0?i=!1:(Ts=i=!0,(d===2||d===9||d===3||d===6)&&(d=Wn.current,d!==null&&d.tag===13&&(d.flags|=16384))),g1(s,i)):gh(s)}function gh(i){var s=i;do{if((s.flags&32768)!==0){g1(s,Ts);return}i=s.return;var o=zC(s.alternate,s,qi);if(o!==null){Le=o;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=i}while(s!==null);Rt===0&&(Rt=5)}function g1(i,s){do{var o=jC(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);Rt=6,Le=null}function p1(i,s,o,d,p,y,w,T,B){i.cancelPendingCommit=null;do ph();while(Zt!==0);if((et&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Qm,Pm(i,o,y,w,T,B),i===dt&&(Le=dt=null,Be=0),Yl=s,Rs=i,Gi=o,tp=y,np=p,s1=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,GC(ls,function(){return _1(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=re.T,re.T=null,p=ae.p,ae.p=2,w=et,et|=4;try{MC(i,s,o)}finally{et=w,ae.p=p,re.T=d}}Zt=1,b1(),y1(),v1()}}function b1(){if(Zt===1){Zt=0;var i=Rs,s=Yl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=re.T,re.T=null;var d=ae.p;ae.p=2;var p=et;et|=4;try{Kx(s,i);var y=bp,w=rv(i.containerInfo),T=y.focusedElem,B=y.selectionRange;if(w!==T&&T&&T.ownerDocument&&nv(T.ownerDocument.documentElement,T)){if(B!==null&&Hm(T)){var X=B.start,ie=B.end;if(ie===void 0&&(ie=X),"selectionStart"in T)T.selectionStart=X,T.selectionEnd=Math.min(ie,T.value.length);else{var oe=T.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var te=K.getSelection(),xe=T.textContent.length,Ce=Math.min(B.start,xe),ut=B.end===void 0?Ce:Math.min(B.end,xe);!te.extend&&Ce>ut&&(w=ut,ut=Ce,Ce=w);var $=tv(T,Ce),G=tv(T,ut);if($&&G&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var Y=oe.createRange();Y.setStart($.node,$.offset),te.removeAllRanges(),Ce>ut?(te.addRange(Y),te.extend(G.node,G.offset)):(Y.setEnd(G.node,G.offset),te.addRange(Y))}}}}for(oe=[],te=T;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var le=oe[T];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Ch=!!pp,bp=pp=null}finally{et=p,ae.p=d,re.T=o}}i.current=s,Zt=2}}function y1(){if(Zt===2){Zt=0;var i=Rs,s=Yl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=re.T,re.T=null;var d=ae.p;ae.p=2;var p=et;et|=4;try{$x(i,s.alternate,s)}finally{et=p,ae.p=d,re.T=o}}Zt=3}}function v1(){if(Zt===4||Zt===3){Zt=0,ad();var i=Rs,s=Yl,o=Gi,d=s1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,Yl=Rs=null,x1(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ns=null),Ci(o),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Tr,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=re.T,p=ae.p,ae.p=2,re.T=null;try{for(var y=i.onRecoverableError,w=0;w<d.length;w++){var T=d[w];y(T.value,{componentStack:T.stack})}}finally{re.T=s,ae.p=p}}(Gi&3)!==0&&ph(),di(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===rp?Oc++:(Oc=0,rp=i):Oc=0,Vc(0)}}function x1(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,bc(s)))}function ph(){return b1(),y1(),v1(),_1()}function _1(){if(Zt!==5)return!1;var i=Rs,s=tp;tp=0;var o=Ci(Gi),d=re.T,p=ae.p;try{ae.p=32>o?32:o,re.T=null,o=np,np=null;var y=Rs,w=Gi;if(Zt=0,Yl=Rs=null,Gi=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,n1(y.current),Jx(y,y.current,w,o),et=T,Vc(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Tr,y)}catch{}return!0}finally{ae.p=p,re.T=d,x1(i,s)}}function w1(i,s,o){s=mr(o,s),s=Ig(i.stateNode,s,2),i=Es(i,s,2),i!==null&&(pa(i,2),di(i))}function st(i,s,o){if(i.tag===3)w1(i,i,o);else for(;s!==null;){if(s.tag===3){w1(s,i,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ns===null||!Ns.has(d))){i=mr(o,i),o=Ex(2),d=Es(s,o,2),d!==null&&(Sx(o,d,s,i),pa(d,2),di(d));break}}s=s.return}}function ap(i,s,o){var d=i.pingCache;if(d===null){d=i.pingCache=new VC;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(o)||(Zg=!0,p.add(o),i=HC.bind(null,i,s,o),s.then(i,i))}function HC(i,s,o){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,dt===i&&(Be&o)===o&&(Rt===4||Rt===3&&(Be&62914560)===Be&&300>An()-uh?(et&2)===0&&Wl(i,0):Jg|=o,Ql===Be&&(Ql=0)),di(i)}function E1(i,s){s===0&&(s=hd()),i=Ra(i,s),i!==null&&(pa(i,s),di(i))}function FC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),E1(i,o)}function qC(i,s){var o=0;switch(i.tag){case 31:case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),E1(i,o)}function GC(i,s){return Kt(i,s)}var bh=null,Kl=null,lp=!1,yh=!1,op=!1,zs=0;function di(i){i!==Kl&&i.next===null&&(Kl===null?bh=Kl=i:Kl=Kl.next=i),yh=!0,lp||(lp=!0,QC())}function Vc(i,s){if(!op&&yh){op=!0;do for(var o=!1,d=bh;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var y=0;else{var w=d.suspendedLanes,T=d.pingedLanes;y=(1<<31-Mt(42|i)+1)-1,y&=p&~(w&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,T1(d,y))}else y=Be,y=Qr(d,d===dt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Cr(d,y)||(o=!0,T1(d,y));d=d.next}while(o);op=!1}}function $C(){S1()}function S1(){yh=lp=!1;var i=0;zs!==0&&rN()&&(i=zs);for(var s=An(),o=null,d=bh;d!==null;){var p=d.next,y=k1(d,s);y===0?(d.next=null,o===null?bh=p:o.next=p,p===null&&(Kl=o)):(o=d,(i!==0||(y&3)!==0)&&(yh=!0)),d=p}Zt!==0&&Zt!==5||Vc(i),zs!==0&&(zs=0)}function k1(i,s){for(var o=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Mt(y),T=1<<w,B=p[w];B===-1?((T&o)===0||(T&d)!==0)&&(p[w]=Vm(T,s)):B<=s&&(i.expiredLanes|=T),y&=~T}if(s=dt,o=Be,o=Qr(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,o===0||i===s&&(it===2||it===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&as(d),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Cr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(d!==null&&as(d),Ci(o)){case 2:case 8:o=Qo;break;case 32:o=ls;break;case 268435456:o=ld;break;default:o=ls}return d=A1.bind(null,i),o=Kt(o,d),i.callbackPriority=s,i.callbackNode=o,s}return d!==null&&d!==null&&as(d),i.callbackPriority=2,i.callbackNode=null,2}function A1(i,s){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ph()&&i.callbackNode!==o)return null;var d=Be;return d=Qr(i,i===dt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(l1(i,d,s),k1(i,An()),i.callbackNode!=null&&i.callbackNode===o?A1.bind(null,i):null)}function T1(i,s){if(ph())return null;l1(i,s,!0)}function QC(){sN(function(){(et&6)!==0?Kt($o,$C):S1()})}function cp(){if(zs===0){var i=Ol;i===0&&(i=Gr,Gr<<=1,(Gr&261888)===0&&(Gr=256)),zs=i}return zs}function C1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_l(""+i)}function N1(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function YC(i,s,o,d,p){if(s==="submit"&&o&&o.stateNode===p){var y=C1((p[en]||null).action),w=d.submitter;w&&(s=(s=w[en]||null)?C1(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var T=new ii("action","action",null,d,p);i.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(zs!==0){var B=w?N1(p,w):new FormData(p);Ng(o,{pending:!0,data:B,method:p.method,action:y},null,B)}}else typeof y=="function"&&(T.preventDefault(),B=w?N1(p,w):new FormData(p),Ng(o,{pending:!0,data:B,method:p.method,action:y},y,B))},currentTarget:p}]})}}for(var up=0;up<$m.length;up++){var dp=$m[up],WC=dp.toLowerCase(),XC=dp[0].toUpperCase()+dp.slice(1);Or(WC,"on"+XC)}Or(av,"onAnimationEnd"),Or(lv,"onAnimationIteration"),Or(ov,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(hC,"onTransitionRun"),Or(fC,"onTransitionStart"),Or(mC,"onTransitionCancel"),Or(cv,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pc));function R1(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var d=i[o],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var w=d.length-1;0<=w;w--){var T=d[w],B=T.instance,X=T.currentTarget;if(T=T.listener,B!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=X;try{y(p)}catch(ie){jd(ie)}p.currentTarget=null,y=B}else for(w=0;w<d.length;w++){if(T=d[w],B=T.instance,X=T.currentTarget,T=T.listener,B!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=X;try{y(p)}catch(ie){jd(ie)}p.currentTarget=null,y=B}}}}function Ue(i,s){var o=s[pl];o===void 0&&(o=s[pl]=new Set);var d=i+"__bubble";o.has(d)||(D1(s,i,2,!1),o.add(d))}function hp(i,s,o){var d=0;s&&(d|=4),D1(o,i,d,s)}var vh="_reactListening"+Math.random().toString(36).slice(2);function fp(i){if(!i[vh]){i[vh]=!0,Xo.forEach(function(o){o!=="selectionchange"&&(KC.has(o)||hp(o,!1,i),hp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[vh]||(s[vh]=!0,hp("selectionchange",!1,s))}}function D1(i,s,o,d){switch(a_(s)){case 2:var p=kN;break;case 8:p=AN;break;default:p=Cp}o=p.bind(null,s,o,i),p=void 0,!wa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function mp(i,s,o,d,p){var y=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var T=d.stateNode.containerInfo;if(T===p)break;if(w===4)for(w=d.return;w!==null;){var B=w.tag;if((B===3||B===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;T!==null;){if(w=Kr(T),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){d=y=w;continue e}T=T.parentNode}}d=d.return}fs(function(){var X=y,ie=ur(o),oe=[];e:{var K=uv.get(i);if(K!==void 0){var te=ii,xe=i;switch(i){case"keypress":if(Sa(o)===0)break e;case"keydown":case"keyup":te=Rd;break;case"focusin":xe="focus",te=Aa;break;case"focusout":xe="blur",te=Aa;break;case"beforeblur":case"afterblur":te=Aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_;break;case av:case lv:case ov:te=Ed;break;case cv:te=z;break;case"scroll":case"scrollend":te=oc;break;case"wheel":te=J;break;case"copy":case"cut":case"paste":te=Sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Di;break;case"toggle":case"beforetoggle":te=Oe}var Ce=(s&4)!==0,ut=!Ce&&(i==="scroll"||i==="scrollend"),$=Ce?K!==null?K+"Capture":null:K;Ce=[];for(var G=X,Y;G!==null;){var le=G;if(Y=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Y===null||$===null||(le=zr(G,$),le!=null&&Ce.push(Lc(G,le,Y))),ut)break;G=G.return}0<Ce.length&&(K=new te(K,xe,null,o,ie),oe.push({event:K,listeners:Ce}))}}if((s&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",K&&o!==sc&&(xe=o.relatedTarget||o.fromElement)&&(Kr(xe)||xe[Wr]))break e;if((te||K)&&(K=ie.window===ie?ie:(K=ie.ownerDocument)?K.defaultView||K.parentWindow:window,te?(xe=o.relatedTarget||o.toElement,te=X,xe=xe?Kr(xe):null,xe!==null&&(ut=l(xe),Ce=xe.tag,xe!==ut||Ce!==5&&Ce!==27&&Ce!==6)&&(xe=null)):(te=null,xe=X),te!==xe)){if(Ce=cc,le="onMouseLeave",$="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Di,le="onPointerLeave",$="onPointerEnter",G="pointer"),ut=te==null?K:Gn(te),Y=xe==null?K:Gn(xe),K=new Ce(le,G+"leave",te,o,ie),K.target=ut,K.relatedTarget=Y,le=null,Kr(ie)===X&&(Ce=new Ce($,G+"enter",xe,o,ie),Ce.target=Y,Ce.relatedTarget=ut,le=Ce),ut=le,te&&xe)t:{for(Ce=ZC,$=te,G=xe,Y=0,le=$;le;le=Ce(le))Y++;le=0;for(var ke=G;ke;ke=Ce(ke))le++;for(;0<Y-le;)$=Ce($),Y--;for(;0<le-Y;)G=Ce(G),le--;for(;Y--;){if($===G||G!==null&&$===G.alternate){Ce=$;break t}$=Ce($),G=Ce(G)}Ce=null}else Ce=null;te!==null&&z1(oe,K,te,Ce,!1),xe!==null&&ut!==null&&z1(oe,ut,xe,Ce,!0)}}e:{if(K=X?Gn(X):window,te=K.nodeName&&K.nodeName.toLowerCase(),te==="select"||te==="input"&&K.type==="file")var We=Wy;else if(Qy(K))if(Xy)We=cC;else{We=lC;var we=aC}else te=K.nodeName,!te||te.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?X&&xl(X.elementType)&&(We=Wy):We=oC;if(We&&(We=We(i,X))){Yy(oe,We,o,ie);break e}we&&we(i,K,X),i==="focusout"&&X&&K.type==="number"&&X.memoizedProps.value!=null&&nc(K,"number",K.value)}switch(we=X?Gn(X):window,i){case"focusin":(Qy(we)||we.contentEditable==="true")&&(Cl=we,Fm=X,mc=null);break;case"focusout":mc=Fm=Cl=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,iv(oe,o,ie);break;case"selectionchange":if(dC)break;case"keydown":case"keyup":iv(oe,o,ie)}var Pe;if(Je)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Tl?Ta(i,o)&&(He="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(He="onCompositionStart");He&&(li&&o.locale!=="ko"&&(Tl||He!=="onCompositionStart"?He==="onCompositionEnd"&&Tl&&(Pe=lc()):(ri=ie,ac="value"in ri?ri.value:ri.textContent,Tl=!0)),we=xh(X,He),0<we.length&&(He=new ai(He,i,null,o,ie),oe.push({event:He,listeners:we}),Pe?He.data=Pe:(Pe=Al(o),Pe!==null&&(He.data=Pe)))),(Pe=hr?nC(i,o):rC(i,o))&&(He=xh(X,"onBeforeInput"),0<He.length&&(we=new ai("onBeforeInput","beforeinput",null,o,ie),oe.push({event:we,listeners:He}),we.data=Pe)),YC(oe,i,X,o,ie)}R1(oe,s)})}function Lc(i,s,o){return{instance:i,listener:s,currentTarget:o}}function xh(i,s){for(var o=s+"Capture",d=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=zr(i,o),p!=null&&d.unshift(Lc(i,p,y)),p=zr(i,s),p!=null&&d.push(Lc(i,p,y))),i.tag===3)return d;i=i.return}return[]}function ZC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function z1(i,s,o,d,p){for(var y=s._reactName,w=[];o!==null&&o!==d;){var T=o,B=T.alternate,X=T.stateNode;if(T=T.tag,B!==null&&B===d)break;T!==5&&T!==26&&T!==27||X===null||(B=X,p?(X=zr(o,y),X!=null&&w.unshift(Lc(o,X,B))):p||(X=zr(o,y),X!=null&&w.push(Lc(o,X,B)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var JC=/\r\n?/g,eN=/\u0000|\uFFFD/g;function j1(i){return(typeof i=="string"?i:""+i).replace(JC,`
`).replace(eN,"")}function M1(i,s){return s=j1(s),j1(i)===s}function ct(i,s,o,d,p,y){switch(o){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||jn(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&jn(i,""+d);break;case"className":$n(i,"class",d);break;case"tabIndex":$n(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(i,o,d);break;case"style":ic(i,d,y);break;case"data":if(s!=="object"){$n(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(o);break}d=_l(""+d),i.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&ct(i,s,"name",p.name,p,null),ct(i,s,"formEncType",p.formEncType,p,null),ct(i,s,"formMethod",p.formMethod,p,null),ct(i,s,"formTarget",p.formTarget,p,null)):(ct(i,s,"encType",p.encType,p,null),ct(i,s,"method",p.method,p,null),ct(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(o);break}d=_l(""+d),i.setAttribute(o,d);break;case"onClick":d!=null&&(i.onclick=Dr);break;case"onScroll":d!=null&&Ue("scroll",i);break;case"onScrollEnd":d!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}o=_l(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,""+d):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":d===!0?i.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(o,d):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(o,d):i.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(o):i.setAttribute(o,d);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),yl(i,"popover",d);break;case"xlinkActuate":Ft(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ft(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ft(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ft(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ft(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ft(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":yl(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=xd.get(o)||o,yl(i,o,d))}}function gp(i,s,o,d,p,y){switch(o){case"style":ic(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof d=="string"?jn(i,d):(typeof d=="number"||typeof d=="bigint")&&jn(i,""+d);break;case"onScroll":d!=null&&Ue("scroll",i);break;case"onScrollEnd":d!=null&&Ue("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=i[en]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof d=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,d,p);break e}o in i?i[o]=d:d===!0?i.setAttribute(o,""):yl(i,o,d)}}}function hn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var d=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,y,w,o,null)}}p&&ct(i,s,"srcSet",o.srcSet,o,null),d&&ct(i,s,"src",o.src,o,null);return;case"input":Ue("invalid",i);var T=y=w=p=null,B=null,X=null;for(d in o)if(o.hasOwnProperty(d)){var ie=o[d];if(ie!=null)switch(d){case"name":p=ie;break;case"type":w=ie;break;case"checked":B=ie;break;case"defaultChecked":X=ie;break;case"value":y=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ct(i,s,d,ie,o,null)}}bd(i,y,T,B,X,w,p,!1);return;case"select":Ue("invalid",i),d=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(T=o[p],T!=null))switch(p){case"value":y=T;break;case"defaultValue":w=T;break;case"multiple":d=T;default:ct(i,s,p,T,o,null)}s=y,o=w,i.multiple=!!d,s!=null?cs(i,!!d,s,!1):o!=null&&cs(i,!!d,o,!0);return;case"textarea":Ue("invalid",i),y=p=d=null;for(w in o)if(o.hasOwnProperty(w)&&(T=o[w],T!=null))switch(w){case"value":d=T;break;case"defaultValue":p=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ct(i,s,w,T,o,null)}us(i,d,p,y);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(d=o[B],d!=null))switch(B){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ct(i,s,B,d,o,null)}return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(d=0;d<Pc.length;d++)Ue(Pc[d],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(d=o[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,X,d,o,null)}return;default:if(xl(s)){for(ie in o)o.hasOwnProperty(ie)&&(d=o[ie],d!==void 0&&gp(i,s,ie,d,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(d=o[T],d!=null&&ct(i,s,T,d,o,null))}function tN(i,s,o,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,T=null,B=null,X=null,ie=null;for(te in o){var oe=o[te];if(o.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=oe;default:d.hasOwnProperty(te)||ct(i,s,te,null,d,oe)}}for(var K in d){var te=d[K];if(oe=o[K],d.hasOwnProperty(K)&&(te!=null||oe!=null))switch(K){case"type":y=te;break;case"name":p=te;break;case"checked":X=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==oe&&ct(i,s,K,te,d,oe)}}vl(i,w,T,B,X,ie,y,p);return;case"select":te=w=T=K=null;for(y in o)if(B=o[y],o.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":te=B;default:d.hasOwnProperty(y)||ct(i,s,y,null,d,B)}for(p in d)if(y=d[p],B=o[p],d.hasOwnProperty(p)&&(y!=null||B!=null))switch(p){case"value":K=y;break;case"defaultValue":T=y;break;case"multiple":w=y;default:y!==B&&ct(i,s,p,y,d,B)}s=T,o=w,d=te,K!=null?cs(i,!!o,K,!1):!!d!=!!o&&(s!=null?cs(i,!!o,s,!0):cs(i,!!o,o?[]:"",!1));return;case"textarea":te=K=null;for(T in o)if(p=o[T],o.hasOwnProperty(T)&&p!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ct(i,s,T,null,d,p)}for(w in d)if(p=d[w],y=o[w],d.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":K=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&ct(i,s,w,p,d,y)}yd(i,K,te);return;case"option":for(var xe in o)if(K=o[xe],o.hasOwnProperty(xe)&&K!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:ct(i,s,xe,null,d,K)}for(B in d)if(K=d[B],te=o[B],d.hasOwnProperty(B)&&K!==te&&(K!=null||te!=null))switch(B){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ct(i,s,B,K,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)K=o[Ce],o.hasOwnProperty(Ce)&&K!=null&&!d.hasOwnProperty(Ce)&&ct(i,s,Ce,null,d,K);for(X in d)if(K=d[X],te=o[X],d.hasOwnProperty(X)&&K!==te&&(K!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:ct(i,s,X,K,d,te)}return;default:if(xl(s)){for(var ut in o)K=o[ut],o.hasOwnProperty(ut)&&K!==void 0&&!d.hasOwnProperty(ut)&&gp(i,s,ut,void 0,d,K);for(ie in d)K=d[ie],te=o[ie],!d.hasOwnProperty(ie)||K===te||K===void 0&&te===void 0||gp(i,s,ie,K,d,te);return}}for(var $ in o)K=o[$],o.hasOwnProperty($)&&K!=null&&!d.hasOwnProperty($)&&ct(i,s,$,null,d,K);for(oe in d)K=d[oe],te=o[oe],!d.hasOwnProperty(oe)||K===te||K==null&&te==null||ct(i,s,oe,K,d,te)}function I1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var p=o[d],y=p.transferSize,w=p.initiatorType,T=p.duration;if(y&&T&&I1(w)){for(w=0,T=p.responseEnd,d+=1;d<o.length;d++){var B=o[d],X=B.startTime;if(X>T)break;var ie=B.transferSize,oe=B.initiatorType;ie&&I1(oe)&&(B=B.responseEnd,w+=ie*(B<T?1:(T-X)/(B-X)))}if(--d,s+=8*(y+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var pp=null,bp=null;function _h(i){return i.nodeType===9?i:i.ownerDocument}function O1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function yp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vp=null;function rN(){var i=window.event;return i&&i.type==="popstate"?i===vp?!1:(vp=i,!0):(vp=null,!1)}var P1=typeof setTimeout=="function"?setTimeout:void 0,iN=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(i){return L1.resolve(null).then(i).catch(aN)}:P1;function aN(i){setTimeout(function(){throw i})}function js(i){return i==="head"}function U1(i,s){var o=s,d=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(d===0){i.removeChild(p),to(s);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Uc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Uc(o);for(var y=o.firstChild;y;){var w=y.nextSibling,T=y.nodeName;y[Xr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&Uc(i.ownerDocument.body);o=p}while(o);to(s)}function B1(i,s){var o=i;i=0;do{var d=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=d}while(o)}function xp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xp(o),bl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function lN(i,s,o,d){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Xr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=vr(i.nextSibling),i===null)break}return null}function oN(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=vr(i.nextSibling),i===null))return null;return i}function H1(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=vr(i.nextSibling),i===null))return null;return i}function _p(i){return i.data==="$?"||i.data==="$~"}function wp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function cN(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var d=function(){s(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function vr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Ep=null;function F1(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return vr(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function q1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function G1(i,s,o){switch(s=_h(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Uc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);bl(i)}var xr=new Map,$1=new Set;function wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var $i=ae.d;ae.d={f:uN,r:dN,D:hN,C:fN,L:mN,m:gN,X:bN,S:pN,M:yN};function uN(){var i=$i.f(),s=fh();return i||s}function dN(i){var s=cr(i);s!==null&&s.tag===5&&s.type==="form"?cx(s):$i.r(i)}var Zl=typeof document>"u"?null:document;function Q1(i,s,o){var d=Zl;if(d&&typeof s=="string"&&s){var p=zn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),$1.has(p)||($1.add(p),i={rel:i,crossOrigin:o,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),hn(s,"link",i),Ht(s),d.head.appendChild(s)))}}function hN(i){$i.D(i),Q1("dns-prefetch",i,null)}function fN(i,s){$i.C(i,s),Q1("preconnect",i,s)}function mN(i,s,o){$i.L(i,s,o);var d=Zl;if(d&&i&&s){var p='link[rel="preload"][as="'+zn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+zn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+zn(o.imageSizes)+'"]')):p+='[href="'+zn(i)+'"]';var y=p;switch(s){case"style":y=Jl(i);break;case"script":y=eo(i)}xr.has(y)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),xr.set(y,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Bc(y))||s==="script"&&d.querySelector(Hc(y))||(s=d.createElement("link"),hn(s,"link",i),Ht(s),d.head.appendChild(s)))}}function gN(i,s){$i.m(i,s);var o=Zl;if(o&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+zn(d)+'"][href="'+zn(i)+'"]',y=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=eo(i)}if(!xr.has(y)&&(i=v({rel:"modulepreload",href:i},s),xr.set(y,i),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hc(y)))return}d=o.createElement("link"),hn(d,"link",i),Ht(d),o.head.appendChild(d)}}}function pN(i,s,o){$i.S(i,s,o);var d=Zl;if(d&&i){var p=Zr(d).hoistableStyles,y=Jl(i);s=s||"default";var w=p.get(y);if(!w){var T={loading:0,preload:null};if(w=d.querySelector(Bc(y)))T.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=xr.get(y))&&Sp(i,o);var B=w=d.createElement("link");Ht(B),hn(B,"link",i),B._p=new Promise(function(X,ie){B.onload=X,B.onerror=ie}),B.addEventListener("load",function(){T.loading|=1}),B.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Eh(w,s,d)}w={type:"stylesheet",instance:w,count:1,state:T},p.set(y,w)}}}function bN(i,s){$i.X(i,s);var o=Zl;if(o&&i){var d=Zr(o).hoistableScripts,p=eo(i),y=d.get(p);y||(y=o.querySelector(Hc(p)),y||(i=v({src:i,async:!0},s),(s=xr.get(p))&&kp(i,s),y=o.createElement("script"),Ht(y),hn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function yN(i,s){$i.M(i,s);var o=Zl;if(o&&i){var d=Zr(o).hoistableScripts,p=eo(i),y=d.get(p);y||(y=o.querySelector(Hc(p)),y||(i=v({src:i,async:!0,type:"module"},s),(s=xr.get(p))&&kp(i,s),y=o.createElement("script"),Ht(y),hn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function Y1(i,s,o,d){var p=(p=ve.current)?wh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Jl(o.href),o=Zr(p).hoistableStyles,d=o.get(s),d||(d={type:"style",instance:null,count:0,state:null},o.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Jl(o.href);var y=Zr(p).hoistableStyles,w=y.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=p.querySelector(Bc(i)))&&!y._p&&(w.instance=y,w.state.loading=5),xr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},xr.set(i,o),y||vN(p,i,o,w.state))),s&&d===null)throw Error(r(528,""));return w}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=eo(o),o=Zr(p).hoistableScripts,d=o.get(s),d||(d={type:"script",instance:null,count:0,state:null},o.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Jl(i){return'href="'+zn(i)+'"'}function Bc(i){return'link[rel="stylesheet"]['+i+"]"}function W1(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function vN(i,s,o,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),hn(s,"link",o),Ht(s),i.head.appendChild(s))}function eo(i){return'[src="'+zn(i)+'"]'}function Hc(i){return"script[async]"+i}function X1(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+zn(o.href)+'"]');if(d)return s.instance=d,Ht(d),d;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ht(d),hn(d,"style",p),Eh(d,o.precedence,i),s.instance=d;case"stylesheet":p=Jl(o.href);var y=i.querySelector(Bc(p));if(y)return s.state.loading|=4,s.instance=y,Ht(y),y;d=W1(o),(p=xr.get(p))&&Sp(d,p),y=(i.ownerDocument||i).createElement("link"),Ht(y);var w=y;return w._p=new Promise(function(T,B){w.onload=T,w.onerror=B}),hn(y,"link",d),s.state.loading|=4,Eh(y,o.precedence,i),s.instance=y;case"script":return y=eo(o.src),(p=i.querySelector(Hc(y)))?(s.instance=p,Ht(p),p):(d=o,(p=xr.get(y))&&(d=v({},o),kp(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ht(p),hn(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Eh(d,o.precedence,i));return s.instance}function Eh(i,s,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,y=p,w=0;w<d.length;w++){var T=d[w];if(T.dataset.precedence===s)y=T;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Sp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function kp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Sh=null;function K1(i,s,o){if(Sh===null){var d=new Map,p=Sh=new Map;p.set(o,d)}else p=Sh,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(i))return d;for(d.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[Xr]||y[Bt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=i+w;var T=d.get(w);T?T.push(y):d.set(w,[y])}}return d}function Z1(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function xN(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function J1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _N(i,s,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Jl(d.href),y=s.querySelector(Bc(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=kh.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=y,Ht(y);return}y=s.ownerDocument||s,d=W1(d),(p=xr.get(p))&&Sp(d,p),y=y.createElement("link"),Ht(y);var w=y;w._p=new Promise(function(T,B){w.onload=T,w.onerror=B}),hn(y,"link",d),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=kh.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Ap=0;function wN(i,s){return i.stylesheets&&i.count===0&&Th(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var d=setTimeout(function(){if(i.stylesheets&&Th(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&Ap===0&&(Ap=62500*nN());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Th(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Ap?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Th(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ah=null;function Th(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ah=new Map,s.forEach(EN,i),Ah=null,kh.call(i))}function EN(i,s){if(!(s.state.loading&4)){var o=Ah.get(i);if(o)var d=o.get(null);else{o=new Map,Ah.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),d=w)}d&&o.set(null,d)}p=s.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||d,y===d&&o.set(null,p),o.set(w,p),this.count++,d=kh.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Fc={$$typeof:F,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function SN(i,s,o,d,p,y,w,T,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function e_(i,s,o,d,p,y,w,T,B,X,ie,oe){return i=new SN(i,s,o,w,B,X,ie,oe,T),s=1,y===!0&&(s|=24),y=Yn(3,null,null,s),i.current=y,y.stateNode=i,s=sg(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:s},cg(y),i}function t_(i){return i?(i=Dl,i):Dl}function n_(i,s,o,d,p,y){p=t_(p),d.context===null?d.context=p:d.pendingContext=p,d=ws(s),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=Es(i,d,s),o!==null&&(Pn(o,i,s),_c(o,i,s))}function r_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Tp(i,s){r_(i,s),(i=i.alternate)&&r_(i,s)}function i_(i){if(i.tag===13||i.tag===31){var s=Ra(i,67108864);s!==null&&Pn(s,i,67108864),Tp(i,67108864)}}function s_(i){if(i.tag===13||i.tag===31){var s=Jn();s=ya(s);var o=Ra(i,s);o!==null&&Pn(o,i,s),Tp(i,s)}}var Ch=!0;function kN(i,s,o,d){var p=re.T;re.T=null;var y=ae.p;try{ae.p=2,Cp(i,s,o,d)}finally{ae.p=y,re.T=p}}function AN(i,s,o,d){var p=re.T;re.T=null;var y=ae.p;try{ae.p=8,Cp(i,s,o,d)}finally{ae.p=y,re.T=p}}function Cp(i,s,o,d){if(Ch){var p=Np(d);if(p===null)mp(i,s,d,Nh,o),l_(i,d);else if(CN(p,i,s,o,d))d.stopPropagation();else if(l_(i,d),s&4&&-1<TN.indexOf(i)){for(;p!==null;){var y=cr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=$r(y.pendingLanes);if(w!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var B=1<<31-Mt(w);T.entanglements[1]|=B,w&=~B}di(y),(et&6)===0&&(dh=An()+500,Vc(0))}}break;case 31:case 13:T=Ra(y,2),T!==null&&Pn(T,y,2),fh(),Tp(y,2)}if(y=Np(d),y===null&&mp(i,s,d,Nh,o),y===p)break;p=y}p!==null&&d.stopPropagation()}else mp(i,s,d,null,o)}}function Np(i){return i=ur(i),Rp(i)}var Nh=null;function Rp(i){if(Nh=null,i=Kr(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Nh=i,null}function a_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case $o:return 2;case Qo:return 8;case ls:case Om:return 32;case ld:return 268435456;default:return 32}default:return 32}}var Dp=!1,Ms=null,Is=null,Os=null,qc=new Map,Gc=new Map,Vs=[],TN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(i,s){switch(i){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":qc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(s.pointerId)}}function $c(i,s,o,d,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=cr(s),s!==null&&i_(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function CN(i,s,o,d,p){switch(s){case"focusin":return Ms=$c(Ms,i,s,o,d,p),!0;case"dragenter":return Is=$c(Is,i,s,o,d,p),!0;case"mouseover":return Os=$c(Os,i,s,o,d,p),!0;case"pointerover":var y=p.pointerId;return qc.set(y,$c(qc.get(y)||null,i,s,o,d,p)),!0;case"gotpointercapture":return y=p.pointerId,Gc.set(y,$c(Gc.get(y)||null,i,s,o,d,p)),!0}return!1}function o_(i){var s=Kr(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Nr(i.priority,function(){s_(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,Nr(i.priority,function(){s_(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Np(i.nativeEvent);if(o===null){o=i.nativeEvent;var d=new o.constructor(o.type,o);sc=d,o.target.dispatchEvent(d),sc=null}else return s=cr(o),s!==null&&i_(s),i.blockedOn=o,!1;s.shift()}return!0}function c_(i,s,o){Rh(i)&&o.delete(s)}function NN(){Dp=!1,Ms!==null&&Rh(Ms)&&(Ms=null),Is!==null&&Rh(Is)&&(Is=null),Os!==null&&Rh(Os)&&(Os=null),qc.forEach(c_),Gc.forEach(c_)}function Dh(i,s){i.blockedOn===s&&(i.blockedOn=null,Dp||(Dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NN)))}var zh=null;function u_(i){zh!==i&&(zh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zh===i&&(zh=null);for(var s=0;s<i.length;s+=3){var o=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(Rp(d||o)===null)continue;break}var y=cr(o);y!==null&&(i.splice(s,3),s-=3,Ng(y,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function to(i){function s(B){return Dh(B,i)}Ms!==null&&Dh(Ms,i),Is!==null&&Dh(Is,i),Os!==null&&Dh(Os,i),qc.forEach(s),Gc.forEach(s);for(var o=0;o<Vs.length;o++){var d=Vs[o];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Vs.length&&(o=Vs[0],o.blockedOn===null);)o_(o),o.blockedOn===null&&Vs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],y=o[d+1],w=p[en]||null;if(typeof y=="function")w||u_(o);else if(w){var T=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[en]||null)T=w.formAction;else if(Rp(p)!==null)continue}else T=w.action;typeof T=="function"?o[d+1]=T:(o.splice(d,3),d-=3),u_(o)}}}function d_(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function zp(i){this._internalRoot=i}jh.prototype.render=zp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,d=Jn();n_(o,d,i,s,null,null)},jh.prototype.unmount=zp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;n_(i.current,2,null,i,null,null),fh(),s[Wr]=null}};function jh(i){this._internalRoot=i}jh.prototype.unstable_scheduleHydration=function(i){if(i){var s=fd();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Vs.length&&s!==0&&s<Vs[o].priority;o++);Vs.splice(o,0,i),o===0&&o_(i)}};var h_=e.version;if(h_!=="19.2.3")throw Error(r(527,h_,"19.2.3"));ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var RN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Tr=Mh.inject(RN),ln=Mh}catch{}}return Yc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,d="",p=vx,y=xx,w=_x;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=e_(i,1,!1,null,null,o,d,null,p,y,w,d_),i[Wr]=s.current,fp(i),new zp(s)},Yc.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var d=!1,p="",y=vx,w=xx,T=_x,B=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),s=e_(i,1,!0,s,o??null,d,p,B,y,w,T,d_),s.context=t_(null),o=s.current,d=Jn(),d=ya(d),p=ws(d),p.callback=null,Es(o,p,d),o=d,s.current.lanes=o,pa(s,o),di(s),i[Wr]=s.current,fp(i),new jh(s)},Yc.version="19.2.3",Yc}var w_;function LN(){if(w_)return Ip.exports;w_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ip.exports=PN(),Ip.exports}var UN=LN();const BN=hS(UN);var E_="popstate";function HN(n={}){function e(r,a){let{pathname:l,search:c,hash:h}=r.location;return _0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:_u(a)}return qN(e,t,null,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FN(){return Math.random().toString(36).substring(2,10)}function S_(n,e){return{usr:n.state,key:n.key,idx:e}}function _0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:t,key:e&&e.key||r||FN()}}function _u({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qN(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,h="POP",f=null,g=b();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function b(){return(c.state||{idx:null}).idx}function v(){h="POP";let C=b(),D=C==null?null:C-g;g=C,f&&f({action:h,location:N.location,delta:D})}function x(C,D){h="PUSH";let O=_0(N.location,C,D);g=b()+1;let F=S_(O,g),L=N.createHref(O);try{c.pushState(F,"",L)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(L)}l&&f&&f({action:h,location:N.location,delta:1})}function E(C,D){h="REPLACE";let O=_0(N.location,C,D);g=b();let F=S_(O,g),L=N.createHref(O);c.replaceState(F,"",L),l&&f&&f({action:h,location:N.location,delta:0})}function A(C){return GN(C)}let N={get action(){return h},get location(){return n(a,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(E_,v),f=C,()=>{a.removeEventListener(E_,v),f=null}},createHref(C){return e(a,C)},createURL:A,encodeLocation(C){let D=A(C);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:E,go(C){return c.go(C)}};return N}function GN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:_u(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function mS(n,e,t="/"){return $N(n,e,t,!1)}function $N(n,e,t,r){let a=typeof e=="string"?zo(e):e,l=Ki(a.pathname||"/",t);if(l==null)return null;let c=gS(n);QN(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=iR(l);h=nR(c[f],g,r)}return h}function gS(n,e=[],t=[],r="",a=!1){let l=(c,h,f=a,g)=>{let b={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&f)return;St(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let v=Yi([r,b.relativePath]),x=t.concat(b);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),gS(c.children,e,x,v,f)),!(c.path==null&&!c.index)&&e.push({path:v,score:eR(v,c.index),routesMeta:x})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let f of pS(c.path))l(c,h,!0,f)}),e}function pS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=pS(r.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function QN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var YN=/^:[\w-]+$/,WN=3,XN=2,KN=1,ZN=10,JN=-2,k_=n=>n==="*";function eR(n,e){let t=n.split("/"),r=t.length;return t.some(k_)&&(r+=JN),e&&(r+=XN),t.filter(a=>!k_(a)).reduce((a,l)=>a+(YN.test(l)?WN:l===""?KN:ZN),r)}function tR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function nR(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let h=0;h<r.length;++h){let f=r[h],g=h===r.length-1,b=l==="/"?e:e.slice(l.length)||"/",v=hf({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},b),x=f.route;if(!v&&g&&t&&!r[r.length-1].route.index&&(v=hf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Yi([l,v.pathname]),pathnameBase:oR(Yi([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Yi([l,v.pathnameBase]))}return c}function hf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=rR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((g,{paramName:b,isOptional:v},x)=>{if(b==="*"){let A=h[x]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const E=h[x];return v&&!E?g[b]=void 0:g[b]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function rR(n,e=!1,t=!0){Er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function iR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ki(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sR=n=>bS.test(n);function aR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?zo(n):n,l;if(t)if(sR(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Er(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=A_(t.substring(1),"/"):l=A_(t,e)}else l=e;return{pathname:l,search:cR(r),hash:uR(a)}}function A_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Lp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ub(n){let e=lR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function db(n,e,t,r=!1){let a;typeof n=="string"?a=zo(n):(a={...n},St(!a.pathname||!a.pathname.includes("?"),Lp("?","pathname","search",a)),St(!a.pathname||!a.pathname.includes("#"),Lp("#","pathname","hash",a)),St(!a.search||!a.search.includes("#"),Lp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=t;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}h=v>=0?e[v]:"/"}let f=aR(a,h),g=c&&c!=="/"&&c.endsWith("/"),b=(l||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||b)&&(f.pathname+="/"),f}var Yi=n=>n.join("/").replace(/\/\/+/g,"/"),oR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,dR=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function hR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function fR(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vS(n,e){let t=n;if(typeof t!="string"||!bS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(yS)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),h=Ki(c.pathname,e);c.origin===l.origin&&h!=null?t=h+c.search+c.hash:a=!0}catch{Er(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xS=["POST","PUT","PATCH","DELETE"];new Set(xS);var mR=["GET",...xS];new Set(mR);var jo=M.createContext(null);jo.displayName="DataRouter";var Zf=M.createContext(null);Zf.displayName="DataRouterState";var gR=M.createContext(!1),_S=M.createContext({isTransitioning:!1});_S.displayName="ViewTransition";var pR=M.createContext(new Map);pR.displayName="Fetchers";var bR=M.createContext(null);bR.displayName="Await";var lr=M.createContext(null);lr.displayName="Navigation";var Bu=M.createContext(null);Bu.displayName="Location";var Ai=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var hb=M.createContext(null);hb.displayName="RouteError";var wS="REACT_ROUTER_ERROR",yR="REDIRECT",vR="ROUTE_ERROR_RESPONSE";function xR(n){if(n.startsWith(`${wS}:${yR}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _R(n){if(n.startsWith(`${wS}:${vR}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dR(e.status,e.statusText,e.data)}catch{}}function wR(n,{relative:e}={}){St(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(lr),{hash:a,pathname:l,search:c}=Hu(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Yi([t,l])),r.createHref({pathname:h,search:c,hash:a})}function Mo(){return M.useContext(Bu)!=null}function la(){return St(Mo(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Bu).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SS(n){M.useContext(lr).static||M.useLayoutEffect(n)}function Io(){let{isDataRoute:n}=M.useContext(Ai);return n?IR():ER()}function ER(){St(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(jo),{basename:e,navigator:t}=M.useContext(lr),{matches:r}=M.useContext(Ai),{pathname:a}=la(),l=JSON.stringify(ub(r)),c=M.useRef(!1);return SS(()=>{c.current=!0}),M.useCallback((f,g={})=>{if(Er(c.current,ES),!c.current)return;if(typeof f=="number"){t.go(f);return}let b=db(f,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Yi([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,l,a,n])}M.createContext(null);function Hu(n,{relative:e}={}){let{matches:t}=M.useContext(Ai),{pathname:r}=la(),a=JSON.stringify(ub(t));return M.useMemo(()=>db(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function SR(n,e){return kS(n,e)}function kS(n,e,t,r,a){St(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(lr),{matches:c}=M.useContext(Ai),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",b=h?h.pathnameBase:"/",v=h&&h.route;{let O=v&&v.path||"";TS(g,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=la(),E;if(e){let O=typeof e=="string"?zo(e):e;St(b==="/"||O.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${O.pathname}" was given in the \`location\` prop.`),E=O}else E=x;let A=E.pathname||"/",N=A;if(b!=="/"){let O=b.replace(/^\//,"").split("/");N="/"+A.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=mS(n,{pathname:N});Er(v||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Er(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=NR(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:Yi([b,l.encodeLocation?l.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?b:Yi([b,l.encodeLocation?l.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),c,t,r,a);return e&&D?M.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function kR(){let n=MR(),e=hR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:a},t):null,c)}var AR=M.createElement(kR,null),AS=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=_R(n.digest);t&&(n=t)}let e=n!==void 0?M.createElement(Ai.Provider,{value:this.props.routeContext},M.createElement(hb.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?M.createElement(TR,{error:n},e):e}};AS.contextType=gR;var Up=new WeakMap;function TR({children:n,error:e}){let{basename:t}=M.useContext(lr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=xR(e.digest);if(r){let a=Up.get(e);if(a)throw a;let l=vS(r.location,t);if(yS&&!Up.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Up.set(e,c),c}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function CR({routeContext:n,match:e,children:t}){let r=M.useContext(jo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Ai.Provider,{value:n},t)}function NR(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let b=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);St(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let h=!1,f=-1;if(t)for(let b=0;b<l.length;b++){let v=l[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=b),v.route.id){let{loaderData:x,errors:E}=t,A=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!E||E[v.route.id]===void 0);if(v.route.lazy||A){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let g=t&&r?(b,v)=>{r(b,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:fR(t.matches),errorInfo:v})}:void 0;return l.reduceRight((b,v,x)=>{let E,A=!1,N=null,C=null;t&&(E=c&&v.route.id?c[v.route.id]:void 0,N=v.route.errorElement||AR,h&&(f<0&&x===0?(TS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,C=null):f===x&&(A=!0,C=v.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,x+1)),O=()=>{let F;return E?F=N:A?F=C:v.route.Component?F=M.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=b,M.createElement(CR,{match:v,routeContext:{outlet:b,matches:D,isDataRoute:t!=null},children:F})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?M.createElement(AS,{location:t.location,revalidation:t.revalidation,component:N,error:E,children:O(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:g}):O()},null)}function fb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RR(n){let e=M.useContext(jo);return St(e,fb(n)),e}function DR(n){let e=M.useContext(Zf);return St(e,fb(n)),e}function zR(n){let e=M.useContext(Ai);return St(e,fb(n)),e}function mb(n){let e=zR(n),t=e.matches[e.matches.length-1];return St(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jR(){return mb("useRouteId")}function MR(){let n=M.useContext(hb),e=DR("useRouteError"),t=mb("useRouteError");return n!==void 0?n:e.errors?.[t]}function IR(){let{router:n}=RR("useNavigate"),e=mb("useNavigate"),t=M.useRef(!1);return SS(()=>{t.current=!0}),M.useCallback(async(a,l={})=>{Er(t.current,ES),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var T_={};function TS(n,e,t){!e&&!T_[n]&&(T_[n]=!0,Er(!1,t))}M.memo(OR);function OR({routes:n,future:e,state:t,onError:r}){return kS(n,void 0,t,r,e)}function CS({to:n,replace:e,state:t,relative:r}){St(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(lr);Er(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(Ai),{pathname:c}=la(),h=Io(),f=db(n,ub(l),c,r==="path"),g=JSON.stringify(f);return M.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:r})},[h,g,r,e,t]),null}function hi(n){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){St(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof t=="string"&&(t=zo(t));let{pathname:g="/",search:b="",hash:v="",state:x=null,key:E="default"}=t,A=M.useMemo(()=>{let N=Ki(g,h);return N==null?null:{location:{pathname:N,search:b,hash:v,state:x,key:E},navigationType:r}},[h,g,b,v,x,E,r]);return Er(A!=null,`<Router basename="${h}"> is not able to match the URL "${g}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:M.createElement(lr.Provider,{value:f},M.createElement(Bu.Provider,{children:e,value:A}))}function C_({children:n,location:e}){return SR(w0(n),e)}function w0(n,e=[]){let t=[];return M.Children.forEach(n,(r,a)=>{if(!M.isValidElement(r))return;let l=[...e,a];if(r.type===M.Fragment){t.push.apply(t,w0(r.props.children,l));return}St(r.type===hi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=w0(r.props.children,l)),t.push(c)}),t}var Zh="get",Jh="application/x-www-form-urlencoded";function Jf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function PR(n){return Jf(n)&&n.tagName.toLowerCase()==="button"}function LR(n){return Jf(n)&&n.tagName.toLowerCase()==="form"}function UR(n){return Jf(n)&&n.tagName.toLowerCase()==="input"}function BR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function HR(n,e){return n.button===0&&(!e||e==="_self")&&!BR(n)}var Ih=null;function FR(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var qR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bp(n){return n!=null&&!qR.has(n)?(Er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jh}"`),null):n}function GR(n,e){let t,r,a,l,c;if(LR(n)){let h=n.getAttribute("action");r=h?Ki(h,e):null,t=n.getAttribute("method")||Zh,a=Bp(n.getAttribute("enctype"))||Jh,l=new FormData(n)}else if(PR(n)||UR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ki(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Zh,a=Bp(n.getAttribute("formenctype"))||Bp(h.getAttribute("enctype"))||Jh,l=new FormData(h,n),!FR()){let{name:g,type:b,value:v}=n;if(b==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,v)}}else{if(Jf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zh,r=null,a=Jh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $R(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ki(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function QR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function WR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await QR(l,t);return c.links?c.links():[]}return[]}));return JR(r.flat(1).filter(YR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function N_(n,e,t,r,a,l){let c=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>t[g].pathname!==f.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):l==="data"?e.filter((f,g)=>{let b=r.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function XR(n,e,{includeHydrateFallback:t}={}){return KR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function KR(n){return[...new Set(n)]}function ZR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function JR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(ZR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function NS(){let n=M.useContext(jo);return gb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function eD(){let n=M.useContext(Zf);return gb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pb=M.createContext(void 0);pb.displayName="FrameworkContext";function RS(){let n=M.useContext(pb);return gb(n,"You must render this element inside a <HydratedRouter> element"),n}function tD(n,e){let t=M.useContext(pb),[r,a]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:b,onTouchStart:v}=e,x=M.useRef(null);M.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let N=D=>{D.forEach(O=>{c(O.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),M.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let E=()=>{a(!0)},A=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:Wc(h,E),onBlur:Wc(f,A),onMouseEnter:Wc(g,E),onMouseLeave:Wc(b,A),onTouchStart:Wc(v,E)}]:[!1,x,{}]}function Wc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nD({page:n,...e}){let{router:t}=NS(),r=M.useMemo(()=>mS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(iD,{page:n,matches:r,...e}):null}function rD(n){let{manifest:e,routeModules:t}=RS(),[r,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return WR(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function iD({page:n,matches:e,...t}){let r=la(),{manifest:a,routeModules:l}=RS(),{basename:c}=NS(),{loaderData:h,matches:f}=eD(),g=M.useMemo(()=>N_(n,e,f,a,r,"data"),[n,e,f,a,r]),b=M.useMemo(()=>N_(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,N=!1;if(e.forEach(D=>{let O=a.routes[D.route.id];!O||!O.hasLoader||(!g.some(F=>F.route.id===D.route.id)&&D.route.id in h&&l[D.route.id]?.shouldRevalidate||O.hasClientLoader?N=!0:A.add(D.route.id))}),A.size===0)return[];let C=$R(n,c,"data");return N&&A.size>0&&C.searchParams.set("_routes",e.filter(D=>A.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[c,h,r,a,g,e,n,l]),x=M.useMemo(()=>XR(b,a),[b,a]),E=rD(b);return M.createElement(M.Fragment,null,v.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),x.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),E.map(({key:A,link:N})=>M.createElement("link",{key:A,nonce:t.nonce,...N})))}function sD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aD&&(window.__reactRouterVersion="7.11.0")}catch{}function lD({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=M.useRef();a.current==null&&(a.current=HN({window:r,v5Compat:!0}));let l=a.current,[c,h]=M.useState({action:l.action,location:l.location}),f=M.useCallback(g=>{t===!1?h(g):M.startTransition(()=>h(g))},[t]);return M.useLayoutEffect(()=>l.listen(f),[l,f]),M.createElement(VR,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bb=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x,...E},A){let{basename:N,unstable_useTransitions:C}=M.useContext(lr),D=typeof g=="string"&&DS.test(g),O=vS(g,N);g=O.to;let F=wR(g,{relative:a}),[L,W,q]=tD(r,E),R=uD(g,{replace:c,state:h,target:f,preventScrollReset:b,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function k(U){e&&e(U),U.defaultPrevented||R(U)}let j=M.createElement("a",{...E,...q,href:O.absoluteURL||F,onClick:O.isExternal||l?e:k,ref:sD(A,W),target:f,"data-discover":!D&&t==="render"?"true":void 0});return L&&!D?M.createElement(M.Fragment,null,j,M.createElement(nD,{page:F})):j});bb.displayName="Link";var zS=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...g},b){let v=Hu(c,{relative:g.relative}),x=la(),E=M.useContext(Zf),{navigator:A,basename:N}=M.useContext(lr),C=E!=null&&gD(v)&&h===!0,D=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,O=x.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(O=O.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&N&&(F=Ki(F,N)||F);const L=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let W=O===D||!a&&O.startsWith(D)&&O.charAt(L)==="/",q=F!=null&&(F===D||!a&&F.startsWith(D)&&F.charAt(D.length)==="/"),R={isActive:W,isPending:q,isTransitioning:C},k=W?e:void 0,j;typeof r=="function"?j=r(R):j=[r,W?"active":null,q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(R):l;return M.createElement(bb,{...g,"aria-current":k,className:j,ref:b,style:U,to:c,viewTransition:h},typeof f=="function"?f(R):f)});zS.displayName="NavLink";var oD=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Zh,action:h,onSubmit:f,relative:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x,...E},A)=>{let{unstable_useTransitions:N}=M.useContext(lr),C=fD(),D=mD(h,{relative:g}),O=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&DS.test(h),L=W=>{if(f&&f(W),W.defaultPrevented)return;W.preventDefault();let q=W.nativeEvent.submitter,R=q?.getAttribute("formmethod")||c,k=()=>C(q||W.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:l,relative:g,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x});N&&t!==!1?M.startTransition(()=>k()):k()};return M.createElement("form",{ref:A,method:O,action:D,onSubmit:r?f:L,...E,"data-discover":!F&&n==="render"?"true":void 0})});oD.displayName="Form";function cD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(n){let e=M.useContext(jo);return St(e,cD(n)),e}function uD(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let g=Io(),b=la(),v=Hu(n,{relative:l});return M.useCallback(x=>{if(HR(x,e)){x.preventDefault();let E=t!==void 0?t:_u(b)===_u(v),A=()=>g(n,{replace:E,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});f?M.startTransition(()=>A()):A()}},[b,g,v,t,r,e,n,a,l,c,h,f])}var dD=0,hD=()=>`__${String(++dD)}__`;function fD(){let{router:n}=jS("useSubmit"),{basename:e}=M.useContext(lr),t=jR(),r=n.fetch,a=n.navigate;return M.useCallback(async(l,c={})=>{let{action:h,method:f,encType:g,formData:b,body:v}=GR(l,e);if(c.navigate===!1){let x=c.fetcherKey||hD();await r(x,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||f,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||f,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,t])}function mD(n,{relative:e}={}){let{basename:t}=M.useContext(lr),r=M.useContext(Ai);St(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Hu(n||".",{relative:e})},c=la();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(b=>b==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let b=h.toString();l.search=b?`?${b}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Yi([t,l.pathname])),_u(l)}function gD(n,{relative:e}={}){let t=M.useContext(_S);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jS("useViewTransitionState"),a=Hu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Ki(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Ki(t.nextLocation.pathname,r)||t.nextLocation.pathname;return hf(a.pathname,c)!=null||hf(a.pathname,l)!=null}var E0=fS();const R_=n=>{let e;const t=new Set,r=(g,b)=>{const v=typeof g=="function"?g(e):g;if(!Object.is(v,e)){const x=e;e=b??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(E=>E(e,x))}},a=()=>e,h={setState:r,getState:a,getInitialState:()=>f,subscribe:g=>(t.add(g),()=>t.delete(g))},f=e=n(r,a,h);return h},pD=(n=>n?R_(n):R_),bD=n=>n;function yD(n,e=bD){const t=Ur.useSyncExternalStore(n.subscribe,Ur.useCallback(()=>e(n.getState()),[n,e]),Ur.useCallback(()=>e(n.getInitialState()),[n,e]));return Ur.useDebugValue(t),t}const D_=n=>{const e=pD(n),t=r=>yD(e,r);return Object.assign(t,e),t},vD=(n=>n?D_(n):D_);function xD(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var l;const c=f=>f===null?null:JSON.parse(f,void 0),h=(l=t.getItem(a))!=null?l:null;return h instanceof Promise?h.then(c):c(h)},setItem:(a,l)=>t.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>t.removeItem(a)}}const S0=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return S0(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return S0(r)(t)}}}},_D=(n,e)=>(t,r,a)=>{let l={storage:xD(()=>localStorage),partialize:N=>N,version:0,merge:(N,C)=>({...C,...N}),...e},c=!1;const h=new Set,f=new Set;let g=l.storage;if(!g)return n((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...N)},r,a);const b=()=>{const N=l.partialize({...r()});return g.setItem(l.name,{state:N,version:l.version})},v=a.setState;a.setState=(N,C)=>(v(N,C),b());const x=n((...N)=>(t(...N),b()),r,a);a.getInitialState=()=>x;let E;const A=()=>{var N,C;if(!g)return;c=!1,h.forEach(O=>{var F;return O((F=r())!=null?F:x)});const D=((C=l.onRehydrateStorage)==null?void 0:C.call(l,(N=r())!=null?N:x))||void 0;return S0(g.getItem.bind(g))(l.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==l.version){if(l.migrate){const F=l.migrate(O.state,O.version);return F instanceof Promise?F.then(L=>[!0,L]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var F;const[L,W]=O;if(E=l.merge(W,(F=r())!=null?F:x),t(E,!0),L)return b()}).then(()=>{D?.(E,void 0),E=r(),c=!0,f.forEach(O=>O(E))}).catch(O=>{D?.(void 0,O)})};return a.persist={setOptions:N=>{l={...l,...N},N.storage&&(g=N.storage)},clearStorage:()=>{g?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>A(),hasHydrated:()=>c,onHydrate:N=>(h.add(N),()=>{h.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},l.skipHydration||A(),E||x},wD=_D,qn=vD(wD(n=>({nocMembers:[{id:"NOC-1",name:"Mekin S.",role:"NOC Lead"},{id:"NOC-2",name:"Akkapol P.",role:"NOC Engineer"},{id:"NOC-3",name:"Nawapat R.",role:"NOC Engineer"},{id:"NOC-4",name:"Watcharapol P.",role:"NOC Engineer"},{id:"NOC-5",name:"Supporter",role:"Support"}],currentUser:"Mekin S.",setCurrentUser:e=>n({currentUser:e}),logout:()=>n({currentUser:null}),darkMode:!1,toggleDarkMode:()=>n(e=>{const t=!e.darkMode;return t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{darkMode:t}})}),{name:"noc-storage"}));const ED=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),z_=n=>{const e=SD(n);return e.charAt(0).toUpperCase()+e.slice(1)},MS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),kD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var AD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TD=M.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},f)=>M.createElement("svg",{ref:f,...AD,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:MS("lucide",a),...!l&&!kD(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,b])=>M.createElement(g,b)),...Array.isArray(l)?l:[l]]));const me=(n,e)=>{const t=M.forwardRef(({className:r,...a},l)=>M.createElement(TD,{ref:l,iconNode:e,className:MS(`lucide-${ED(z_(n))}`,`lucide-${n}`,r),...a}));return t.displayName=z_(n),t};const CD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tr=me("activity",CD);const ND=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],RD=me("archive",ND);const DD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zD=me("arrow-left",DD);const jD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wu=me("arrow-right",jD);const MD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],ID=me("bell-off",MD);const OD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],VD=me("bell",OD);const PD=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],LD=me("calendar-range",PD);const UD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sr=me("calendar",UD);const BD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],IS=me("chart-column",BD);const HD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fu=me("check",HD);const FD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Eu=me("chevron-down",FD);const qD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],j_=me("chevron-left",qD);const GD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k0=me("chevron-right",GD);const $D=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],OS=me("chevron-up",$D);const QD=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],YD=me("chevrons-up-down",QD);const WD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sr=me("circle-alert",WD);const XD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yb=me("circle-check-big",XD);const KD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ar=me("circle-check",KD);const ZD=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vb=me("circle-play",ZD);const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VS=me("circle-question-mark",JD);const ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xb=me("circle-x",ez);const tz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pn=me("clock",tz);const nz=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],A0=me("cloud-download",nz);const rz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],iz=me("cloud-upload",rz);const sz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Su=me("copy",sz);const az=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_b=me("download",az);const lz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],oz=me("ellipsis-vertical",lz);const cz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uz=me("external-link",cz);const dz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hz=me("eye-off",dz);const fz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ff=me("eye",fz);const mz=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],gz=me("file-plus-corner",mz);const pz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],PS=me("file-spreadsheet",pz);const bz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_i=me("file-text",bz);const yz=[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]],vz=me("folder-archive",yz);const xz=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],_z=me("folder-kanban",xz);const wz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ku=me("funnel",wz);const Ez=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],mf=me("gauge",Ez);const Sz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Au=me("globe",Sz);const kz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],wb=me("hash",kz);const Az=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],LS=me("image-plus",Az);const Tz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Cz=me("image",Tz);const Nz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],US=me("info",Nz);const Rz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],BS=me("layers",Rz);const Dz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zz=me("layout-dashboard",Dz);const jz=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],HS=me("layout-grid",jz);const Mz=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],M_=me("layout-list",Mz);const Iz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],I_=me("link",Iz);const Oz=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Vz=me("list",Oz);const Pz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zs=me("loader-circle",Pz);const Lz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uz=me("log-out",Lz);const Bz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Hz=me("menu",Bz);const Fz=[["path",{d:"M5 12h14",key:"1ays0h"}]],Hp=me("minus",Fz);const qz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],em=me("moon",qz);const Gz=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],$z=me("mouse-pointer-2",Gz);const Qz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],Yz=me("panel-left-close",Qz);const Wz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],Xz=me("panel-left-open",Wz);const Kz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Eb=me("pencil",Kz);const Zz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yo=me("plus",Zz);const Jz=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Sb=me("radio",Jz);const ej=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],FS=me("refresh-cw",ej);const tj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tm=me("save",tj);const nj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tu=me("search",nj);const rj=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],nm=me("server",rj);const ij=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],O_=me("settings",ij);const sj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aj=me("shield-check",sj);const lj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oj=me("shield",lj);const cj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uj=me("sparkles",cj);const dj=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Oh=me("square-check-big",dj);const hj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Vh=me("square",hj);const fj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],rm=me("sun",fj);const mj=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],gj=me("swords",mj);const pj=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],bj=me("table-2",pj);const yj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],qS=me("tag",yj);const vj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oa=me("trash-2",vj);const xj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],T0=me("trending-up",xj);const _j=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zi=me("triangle-alert",_j);const wj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gf=me("trophy",wj);const Ej=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],pf=me("tv",Ej);const Sj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kj=me("upload",Sj);const Aj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GS=me("user",Aj);const Tj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lu=me("users",Tj);const Cj=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Nj=me("wand-sparkles",Cj);const Rj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],$S=me("wifi",Rj);const Dj=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],zj=me("workflow",Dj);const jj=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Mj=me("wrench",jj);const Ij=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kn=me("x",Ij),Xc=({to:n,icon:e,label:t,isCollapsed:r,handleLinkClick:a})=>u.jsxs(zS,{to:n,onClick:a,title:r?t:"",className:({isActive:l})=>`
      flex items-center rounded-xl transition-all duration-200 group relative
      ${r?"justify-center w-10 h-10 mx-auto px-0":"gap-3 px-3 py-2.5"}
      ${l?"bg-zinc-900 text-white shadow-md dark:bg-white dark:text-black":"text-zinc-500 hover:text-black hover:bg-zinc-100 dark:text-zinc-400 dark:hover:text-white dark:hover:bg-zinc-900"}
    `,children:[u.jsx(e,{size:20,strokeWidth:2.5,className:`${r?"":"group-hover:scale-105"} transition-transform shrink-0`}),u.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest whitespace-nowrap overflow-hidden transition-all duration-300 ${r?"w-0 opacity-0 hidden":"w-auto opacity-100 block"}`,children:t})]});function Oj({onCloseMobile:n,isCollapsed:e=!1,toggleCollapse:t,onLogoutClick:r}){const{currentUser:a,darkMode:l,toggleDarkMode:c}=qn(),h=()=>{n&&n()},f=!e;return u.jsxs("aside",{className:"w-full h-full flex flex-col py-4 overflow-hidden relative",children:[u.jsxs("div",{className:`flex items-center mb-6 px-4 transition-all ${e?"justify-center flex-col gap-4 px-0":"justify-between"}`,children:[u.jsx(bb,{to:"/",onClick:h,className:"group block text-center",children:e?u.jsx("div",{className:"w-10 h-10 bg-black dark:bg-white text-white dark:text-black rounded-xl flex items-center justify-center font-black italic text-sm shadow-md mx-auto",children:"N"}):u.jsxs("div",{className:"text-left",children:[u.jsxs("h1",{className:"text-xl font-black italic tracking-tighter uppercase dark:text-white transition-opacity group-hover:opacity-80 whitespace-nowrap leading-none",children:["NOC ",u.jsx("span",{className:"text-zinc-300 dark:text-zinc-600",children:"NTT"})]}),u.jsx("p",{className:"text-[8px] font-bold text-zinc-400 uppercase tracking-[0.2em] mt-1 whitespace-nowrap",children:"System Management"})]})}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:t,className:"hidden md:flex p-1.5 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-900 rounded-lg transition-colors justify-center mx-auto",children:e?u.jsx(Xz,{size:18}):u.jsx(Yz,{size:18})}),u.jsx("button",{onClick:n,className:"md:hidden p-2 text-zinc-400 hover:text-black dark:hover:text-white bg-zinc-100 dark:bg-zinc-900 rounded-lg transition-colors",children:u.jsx(kn,{size:20})})]})]}),u.jsxs("nav",{className:"flex-1 space-y-1 overflow-y-auto custom-scrollbar px-3",children:[u.jsx("div",{className:`mt-2 mb-2 px-3 text-[9px] font-black text-zinc-300 dark:text-zinc-700 uppercase tracking-widest whitespace-nowrap transition-all duration-300 ${e?"opacity-0 h-0 overflow-hidden mt-0 mb-0":"opacity-100 h-auto"}`,children:"Schedule"}),u.jsx(Xc,{to:"/schedule/today",icon:tr,label:"Live Desk",isCollapsed:e,handleLinkClick:h}),u.jsx(Xc,{to:"/schedule/history",icon:sr,label:"Archive",isCollapsed:e,handleLinkClick:h}),u.jsx("div",{className:`mt-6 mb-2 px-3 text-[9px] font-black text-zinc-300 dark:text-zinc-700 uppercase tracking-widest whitespace-nowrap transition-all duration-300 ${e?"opacity-0 h-0 overflow-hidden mt-0 mb-0":"opacity-100 h-auto"}`,children:"Controls"}),u.jsx(Xc,{to:"/tickets",icon:RD,label:"Tickets",isCollapsed:e,handleLinkClick:h}),u.jsx(Xc,{to:"/incidents",icon:Zi,label:"Incidents",isCollapsed:e,handleLinkClick:h}),u.jsx(Xc,{to:"/handover",icon:_i,label:"Handover",isCollapsed:e,handleLinkClick:h})]}),u.jsxs("div",{className:"mt-auto pt-4 px-3 border-t border-zinc-100 dark:border-zinc-900 space-y-3",children:[u.jsxs("button",{onClick:c,className:`w-full flex items-center rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-500 hover:text-black dark:text-zinc-400 dark:hover:text-white transition-colors ${e?"justify-center w-10 h-10 mx-auto px-0":"justify-between px-3 py-2.5"}`,title:"Toggle Theme",children:[u.jsxs("div",{className:`flex items-center ${e?"justify-center":"gap-3"}`,children:[l?u.jsx(em,{size:18}):u.jsx(rm,{size:18}),f&&u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Appearance"})]}),f&&u.jsx("span",{className:"text-[9px] font-black bg-zinc-200 dark:bg-zinc-800 px-1.5 py-0.5 rounded uppercase text-zinc-600 dark:text-zinc-300",children:l?"Dark":"Light"})]}),u.jsxs("div",{className:`flex items-center rounded-2xl border border-zinc-100 dark:border-zinc-900 bg-white dark:bg-black transition-all ${e?"justify-center border-none bg-transparent p-0 w-10 h-10 mx-auto":"gap-3 p-2"} `,children:[u.jsx("div",{className:"w-8 h-8 shrink-0 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-black flex items-center justify-center font-black text-xs shadow-sm",children:a?a.charAt(0).toUpperCase():"U"}),f&&u.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[u.jsx("p",{className:"text-xs font-bold truncate dark:text-white",children:a||"Guest"}),u.jsx("p",{className:"text-[9px] text-zinc-400 font-medium truncate uppercase tracking-wider",children:"Operator"})]}),f&&u.jsx("button",{onClick:r,className:"p-2 text-zinc-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-950/30 rounded-lg transition-colors",title:"Sign Out",children:u.jsx(Uz,{size:16})})]})]})]})}function qu({isOpen:n,onClose:e,title:t,message:r,onConfirm:a,isDanger:l=!1}){return n?u.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-white w-full max-w-sm rounded-xl shadow-2xl border border-gray-200 overflow-hidden dark:bg-[#111] dark:border-[#333]",children:[u.jsxs("div",{className:`px-4 py-3 flex items-center gap-3 border-b border-gray-200 ${l?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-[#000]"}`,children:[u.jsx("div",{className:`p-2 rounded-full ${l?"bg-red-100 text-red-600":"bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]"}`,children:l?u.jsx(Zi,{size:20}):u.jsx(VS,{size:20})}),u.jsx("h3",{className:`font-bold text-lg ${l?"text-red-700 dark:text-red-400":"text-[#1F2937] dark:text-[#F2F2F2]"}`,children:t})]}),u.jsx("div",{className:"p-5",children:u.jsx("p",{className:"text-gray-700 dark:text-[#F2F2F2] text-sm leading-relaxed font-medium",children:r})}),u.jsxs("div",{className:"p-3 bg-gray-50 flex justify-end gap-2 border-t border-gray-200 dark:bg-[#000] dark:border-[#333]",children:[u.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-500 hover:bg-gray-200 dark:hover:bg-[#222] dark:hover:text-[#F2F2F2] transition-colors",children:"Cancel"}),u.jsx("button",{onClick:a,className:`px-4 py-2 rounded-lg text-sm font-bold text-white shadow-md transition-transform active:scale-95 ${l?"bg-red-600 hover:bg-red-700":"bg-[#1F2937] hover:bg-black dark:bg-[#F2F2F2] dark:text-[#000000] dark:hover:bg-[#ccc]"}`,children:"Confirm"})]})]})}):null}function Vj({children:n}){const e=Io(),{logout:t}=qn(),[r,a]=M.useState(!1),[l,c]=M.useState(!1),[h,f]=M.useState(!1),g=()=>{t(),e("/login"),f(!1)};return u.jsxs("div",{className:"flex h-screen w-full bg-zinc-50 dark:bg-black text-zinc-900 dark:text-white overflow-hidden relative",children:[u.jsx(qu,{isOpen:h,onClose:()=>f(!1),title:"Sign Out?",message:"Are you sure you want to log out?",onConfirm:g,isDanger:!0}),r&&u.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden",onClick:()=>a(!1)}),u.jsx("div",{className:`
        fixed inset-y-0 left-0 z-50 bg-white dark:bg-black border-r border-zinc-200 dark:border-zinc-900 
        transition-all duration-300 ease-in-out shadow-2xl md:shadow-none overflow-hidden
        w-64 ${r?"translate-x-0":"-translate-x-full"}
        md:translate-x-0 md:relative 
        ${l?"md:w-[70px]":"md:w-64"}
      `,children:u.jsx(Oj,{onCloseMobile:()=>a(!1),isCollapsed:l,toggleCollapse:()=>c(!l),onLogoutClick:()=>f(!0)})}),u.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative transition-all duration-300",children:[u.jsxs("div",{className:"md:hidden flex items-center justify-between px-4 py-3 bg-white dark:bg-[#050505] border-b border-zinc-200 dark:border-zinc-800 shrink-0 z-30",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("h1",{className:"text-xl font-black italic tracking-tighter uppercase dark:text-white",children:["NOC",u.jsx("span",{className:"text-zinc-400",children:"TT"})]})}),u.jsx("button",{onClick:()=>a(!0),className:"p-2 -mr-2 text-zinc-500 hover:text-black dark:text-zinc-400 dark:hover:text-white rounded-lg transition-colors",children:u.jsx(Hz,{size:24})})]}),u.jsx("div",{className:"flex-1 overflow-hidden relative w-full h-full",children:n})]})]})}function Pj(){const n=Io(),{nocMembers:e,setCurrentUser:t}=qn(),r=a=>{t(a),n("/")};return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-zinc-50 dark:bg-black p-4 transition-colors duration-500",children:u.jsxs("div",{className:"w-full max-w-2xl animate-in fade-in zoom-in-95 duration-500 flex flex-col items-center",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h1",{className:"text-4xl md:text-6xl font-black italic tracking-tighter uppercase dark:text-white mb-4",children:["NOCNTT ",u.jsx("span",{className:"text-zinc-300 dark:text-zinc-700",children:"Management"})]}),u.jsx("p",{className:"text-sm font-bold text-zinc-400 uppercase tracking-[0.3em] mb-6",children:"System Access"}),u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[u.jsx(aj,{size:14,className:"text-zinc-400"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500 dark:text-zinc-400",children:"Who is operating?"})]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 md:gap-12",children:e.map(a=>u.jsxs("button",{onClick:()=>r(a.name),className:"group flex flex-col items-center gap-4 transition-all duration-300 hover:-translate-y-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center text-3xl md:text-4xl font-black text-zinc-500 dark:text-zinc-400 group-hover:bg-black group-hover:text-white dark:group-hover:bg-white dark:group-hover:text-black transition-all duration-300 shadow-lg group-hover:shadow-2xl group-hover:scale-105 border-4 border-transparent group-hover:border-zinc-200 dark:group-hover:border-zinc-700",children:a.name.charAt(0)}),u.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black text-[9px] font-black uppercase tracking-widest rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:a.role})]}),u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-sm md:text-base font-bold text-zinc-500 dark:text-zinc-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:a.name})})]},a.id))})]})})}const Lj=()=>{};var V_={};const QS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Uj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},YS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,b=l>>2,v=(l&3)<<4|h>>4;let x=(h&15)<<2|g>>6,E=g&63;f||(E=64,c||(x=64)),r.push(t[b],t[v],t[x],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(QS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Uj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||g==null||v==null)throw new Bj;const x=l<<2|h>>4;if(r.push(x),g!==64){const E=h<<4&240|g>>2;if(r.push(E),v!==64){const A=g<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Bj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hj=function(n){const e=QS(n);return YS.encodeByteArray(e,!0)},bf=function(n){return Hj(n).replace(/\./g,"")},Fj=function(n){try{return YS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gj=()=>qj().__FIREBASE_DEFAULTS__,$j=()=>{if(typeof process>"u"||typeof V_>"u")return;const n=V_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Qj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fj(n[1]);return e&&JSON.parse(e)},kb=()=>{try{return Lj()||Gj()||$j()||Qj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yj=n=>kb()?.emulatorHosts?.[n],WS=n=>{const e=Yj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},XS=()=>kb()?.config;class Wj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Gu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KS(n){return(await fetch(n,{credentials:"include"})).ok}function ZS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[bf(JSON.stringify(t)),bf(JSON.stringify(c)),""].join(".")}const ou={};function Xj(){const n={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?n.emulator.push(e):n.prod.push(e);return n}function Kj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let P_=!1;function JS(n,e){if(typeof window>"u"||typeof document>"u"||!Gu(window.location.host)||ou[n]===e||ou[n]||P_)return;ou[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",l=Xj().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{P_=!0,c()},x}function b(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=Kj(r),E=t("text"),A=document.getElementById(E)||document.createElement("span"),N=t("learnmore"),C=document.getElementById(N)||document.createElement("a"),D=t("preprendIcon"),O=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;h(F),b(C,N);const L=g();f(O,D),F.append(O,A,C,L),document.body.appendChild(F)}l?(A.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Zj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jj(){const n=kb()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e4(){return!Jj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t4(){try{return typeof indexedDB=="object"}catch{return!1}}function n4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const r4="FirebaseError";class al extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=r4,Object.setPrototypeOf(this,al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ek.prototype.create)}}class ek{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?i4(l,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new al(a,h,r)}}function i4(n,e){return n.replace(s4,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const s4=/\{\$([^}]+)}/g;function vo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(L_(l)&&L_(c)){if(!vo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function L_(n){return n!==null&&typeof n=="object"}function Sn(n){return n&&n._delegate?n._delegate:n}class xo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class a4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Wj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o4(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l4(n){return n===Fa?void 0:n}function o4(n){return n.instantiationMode==="EAGER"}class c4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const u4={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},d4=Qe.INFO,h4={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},f4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=h4[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tk{constructor(e){this.name=e,this._logLevel=d4,this._logHandler=f4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const m4=(n,e)=>e.some(t=>n instanceof t);let U_,B_;function g4(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p4(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nk=new WeakMap,C0=new WeakMap,rk=new WeakMap,Fp=new WeakMap,Ab=new WeakMap;function b4(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t($s(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&nk.set(t,n)}).catch(()=>{}),Ab.set(e,n),e}function y4(n){if(C0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});C0.set(n,e)}let N0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return C0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $s(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function v4(n){N0=n(N0)}function x4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qp(this),e,...t);return rk.set(r,e.sort?e.sort():[e]),$s(r)}:p4().includes(n)?function(...e){return n.apply(qp(this),e),$s(nk.get(this))}:function(...e){return $s(n.apply(qp(this),e))}}function _4(n){return typeof n=="function"?x4(n):(n instanceof IDBTransaction&&y4(n),m4(n,g4())?new Proxy(n,N0):n)}function $s(n){if(n instanceof IDBRequest)return b4(n);if(Fp.has(n))return Fp.get(n);const e=_4(n);return e!==n&&(Fp.set(n,e),Ab.set(e,n)),e}const qp=n=>Ab.get(n);function w4(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=$s(c);return r&&c.addEventListener("upgradeneeded",f=>{r($s(c.result),f.oldVersion,f.newVersion,$s(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const E4=["get","getKey","getAll","getAllKeys","count"],S4=["put","add","delete","clear"],Gp=new Map;function H_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=S4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||E4.includes(t)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),a&&f.done]))[0]};return Gp.set(e,l),l}v4(n=>({...n,get:(e,t,r)=>H_(e,t)||n.get(e,t,r),has:(e,t)=>!!H_(e,t)||n.has(e,t)}));class k4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(A4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function A4(n){return n.getComponent()?.type==="VERSION"}const R0="@firebase/app",F_="0.14.6";const Ji=new tk("@firebase/app"),T4="@firebase/app-compat",C4="@firebase/analytics-compat",N4="@firebase/analytics",R4="@firebase/app-check-compat",D4="@firebase/app-check",z4="@firebase/auth",j4="@firebase/auth-compat",M4="@firebase/database",I4="@firebase/data-connect",O4="@firebase/database-compat",V4="@firebase/functions",P4="@firebase/functions-compat",L4="@firebase/installations",U4="@firebase/installations-compat",B4="@firebase/messaging",H4="@firebase/messaging-compat",F4="@firebase/performance",q4="@firebase/performance-compat",G4="@firebase/remote-config",$4="@firebase/remote-config-compat",Q4="@firebase/storage",Y4="@firebase/storage-compat",W4="@firebase/firestore",X4="@firebase/ai",K4="@firebase/firestore-compat",Z4="firebase",J4="12.6.0";const D0="[DEFAULT]",eM={[R0]:"fire-core",[T4]:"fire-core-compat",[N4]:"fire-analytics",[C4]:"fire-analytics-compat",[D4]:"fire-app-check",[R4]:"fire-app-check-compat",[z4]:"fire-auth",[j4]:"fire-auth-compat",[M4]:"fire-rtdb",[I4]:"fire-data-connect",[O4]:"fire-rtdb-compat",[V4]:"fire-fn",[P4]:"fire-fn-compat",[L4]:"fire-iid",[U4]:"fire-iid-compat",[B4]:"fire-fcm",[H4]:"fire-fcm-compat",[F4]:"fire-perf",[q4]:"fire-perf-compat",[G4]:"fire-rc",[$4]:"fire-rc-compat",[Q4]:"fire-gcs",[Y4]:"fire-gcs-compat",[W4]:"fire-fst",[K4]:"fire-fst-compat",[X4]:"fire-vertex","fire-js":"fire-js",[Z4]:"fire-js-all"};const yf=new Map,tM=new Map,z0=new Map;function q_(n,e){try{n.container.addComponent(e)}catch(t){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Cu(n){const e=n.name;if(z0.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;z0.set(e,n);for(const t of yf.values())q_(t,n);for(const t of tM.values())q_(t,n);return!0}function ik(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sk(n){return n==null?!1:n.settings!==void 0}const nM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new ek("app","Firebase",nM);class rM{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const ak=J4;function lk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:D0,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Qs.create("bad-app-name",{appName:String(a)});if(t||(t=XS()),!t)throw Qs.create("no-options");const l=yf.get(a);if(l){if(vo(t,l.options)&&vo(r,l.config))return l;throw Qs.create("duplicate-app",{appName:a})}const c=new c4(a);for(const f of z0.values())c.addComponent(f);const h=new rM(t,r,c);return yf.set(a,h),h}function ok(n=D0){const e=yf.get(n);if(!e&&n===D0&&XS())return lk();if(!e)throw Qs.create("no-app",{appName:n});return e}function Ys(n,e,t){let r=eM[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(c.join(" "));return}Cu(new xo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const iM="firebase-heartbeat-database",sM=1,Nu="firebase-heartbeat-store";let $p=null;function ck(){return $p||($p=w4(iM,sM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qs.create("idb-open",{originalErrorMessage:n.message})})),$p}async function aM(n){try{const t=(await ck()).transaction(Nu),r=await t.objectStore(Nu).get(uk(n));return await t.done,r}catch(e){if(e instanceof al)Ji.warn(e.message);else{const t=Qs.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(t.message)}}}async function G_(n,e){try{const r=(await ck()).transaction(Nu,"readwrite");await r.objectStore(Nu).put(e,uk(n)),await r.done}catch(t){if(t instanceof al)Ji.warn(t.message);else{const r=Qs.create("idb-set",{originalErrorMessage:t?.message});Ji.warn(r.message)}}}function uk(n){return`${n.name}!${n.options.appId}`}const lM=1024,oM=30;class cM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>oM){const a=hM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$_(),{heartbeatsToSend:t,unsentEntries:r}=uM(this._heartbeatsCache.heartbeats),a=bf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ji.warn(e),""}}}function $_(){return new Date().toISOString().substring(0,10)}function uM(n,e=lM){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Q_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Q_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class dM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t4()?n4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return G_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return G_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Q_(n){return bf(JSON.stringify({version:2,heartbeats:n})).length}function hM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function fM(n){Cu(new xo("platform-logger",e=>new k4(e),"PRIVATE")),Cu(new xo("heartbeat",e=>new cM(e),"PRIVATE")),Ys(R0,F_,n),Ys(R0,F_,"esm2020"),Ys("fire-js","")}fM("");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,dk;(function(){var n;function e(R,k){function j(){}j.prototype=k.prototype,R.F=k.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(U,I,H){for(var P=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)P[Se-2]=arguments[Se];return k.prototype[I].apply(U,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,k,j){j||(j=0);const U=Array(16);if(typeof k=="string")for(var I=0;I<16;++I)U[I]=k.charCodeAt(j++)|k.charCodeAt(j++)<<8|k.charCodeAt(j++)<<16|k.charCodeAt(j++)<<24;else for(I=0;I<16;++I)U[I]=k[j++]|k[j++]<<8|k[j++]<<16|k[j++]<<24;k=R.g[0],j=R.g[1],I=R.g[2];let H=R.g[3],P;P=k+(H^j&(I^H))+U[0]+3614090360&4294967295,k=j+(P<<7&4294967295|P>>>25),P=H+(I^k&(j^I))+U[1]+3905402710&4294967295,H=k+(P<<12&4294967295|P>>>20),P=I+(j^H&(k^j))+U[2]+606105819&4294967295,I=H+(P<<17&4294967295|P>>>15),P=j+(k^I&(H^k))+U[3]+3250441966&4294967295,j=I+(P<<22&4294967295|P>>>10),P=k+(H^j&(I^H))+U[4]+4118548399&4294967295,k=j+(P<<7&4294967295|P>>>25),P=H+(I^k&(j^I))+U[5]+1200080426&4294967295,H=k+(P<<12&4294967295|P>>>20),P=I+(j^H&(k^j))+U[6]+2821735955&4294967295,I=H+(P<<17&4294967295|P>>>15),P=j+(k^I&(H^k))+U[7]+4249261313&4294967295,j=I+(P<<22&4294967295|P>>>10),P=k+(H^j&(I^H))+U[8]+1770035416&4294967295,k=j+(P<<7&4294967295|P>>>25),P=H+(I^k&(j^I))+U[9]+2336552879&4294967295,H=k+(P<<12&4294967295|P>>>20),P=I+(j^H&(k^j))+U[10]+4294925233&4294967295,I=H+(P<<17&4294967295|P>>>15),P=j+(k^I&(H^k))+U[11]+2304563134&4294967295,j=I+(P<<22&4294967295|P>>>10),P=k+(H^j&(I^H))+U[12]+1804603682&4294967295,k=j+(P<<7&4294967295|P>>>25),P=H+(I^k&(j^I))+U[13]+4254626195&4294967295,H=k+(P<<12&4294967295|P>>>20),P=I+(j^H&(k^j))+U[14]+2792965006&4294967295,I=H+(P<<17&4294967295|P>>>15),P=j+(k^I&(H^k))+U[15]+1236535329&4294967295,j=I+(P<<22&4294967295|P>>>10),P=k+(I^H&(j^I))+U[1]+4129170786&4294967295,k=j+(P<<5&4294967295|P>>>27),P=H+(j^I&(k^j))+U[6]+3225465664&4294967295,H=k+(P<<9&4294967295|P>>>23),P=I+(k^j&(H^k))+U[11]+643717713&4294967295,I=H+(P<<14&4294967295|P>>>18),P=j+(H^k&(I^H))+U[0]+3921069994&4294967295,j=I+(P<<20&4294967295|P>>>12),P=k+(I^H&(j^I))+U[5]+3593408605&4294967295,k=j+(P<<5&4294967295|P>>>27),P=H+(j^I&(k^j))+U[10]+38016083&4294967295,H=k+(P<<9&4294967295|P>>>23),P=I+(k^j&(H^k))+U[15]+3634488961&4294967295,I=H+(P<<14&4294967295|P>>>18),P=j+(H^k&(I^H))+U[4]+3889429448&4294967295,j=I+(P<<20&4294967295|P>>>12),P=k+(I^H&(j^I))+U[9]+568446438&4294967295,k=j+(P<<5&4294967295|P>>>27),P=H+(j^I&(k^j))+U[14]+3275163606&4294967295,H=k+(P<<9&4294967295|P>>>23),P=I+(k^j&(H^k))+U[3]+4107603335&4294967295,I=H+(P<<14&4294967295|P>>>18),P=j+(H^k&(I^H))+U[8]+1163531501&4294967295,j=I+(P<<20&4294967295|P>>>12),P=k+(I^H&(j^I))+U[13]+2850285829&4294967295,k=j+(P<<5&4294967295|P>>>27),P=H+(j^I&(k^j))+U[2]+4243563512&4294967295,H=k+(P<<9&4294967295|P>>>23),P=I+(k^j&(H^k))+U[7]+1735328473&4294967295,I=H+(P<<14&4294967295|P>>>18),P=j+(H^k&(I^H))+U[12]+2368359562&4294967295,j=I+(P<<20&4294967295|P>>>12),P=k+(j^I^H)+U[5]+4294588738&4294967295,k=j+(P<<4&4294967295|P>>>28),P=H+(k^j^I)+U[8]+2272392833&4294967295,H=k+(P<<11&4294967295|P>>>21),P=I+(H^k^j)+U[11]+1839030562&4294967295,I=H+(P<<16&4294967295|P>>>16),P=j+(I^H^k)+U[14]+4259657740&4294967295,j=I+(P<<23&4294967295|P>>>9),P=k+(j^I^H)+U[1]+2763975236&4294967295,k=j+(P<<4&4294967295|P>>>28),P=H+(k^j^I)+U[4]+1272893353&4294967295,H=k+(P<<11&4294967295|P>>>21),P=I+(H^k^j)+U[7]+4139469664&4294967295,I=H+(P<<16&4294967295|P>>>16),P=j+(I^H^k)+U[10]+3200236656&4294967295,j=I+(P<<23&4294967295|P>>>9),P=k+(j^I^H)+U[13]+681279174&4294967295,k=j+(P<<4&4294967295|P>>>28),P=H+(k^j^I)+U[0]+3936430074&4294967295,H=k+(P<<11&4294967295|P>>>21),P=I+(H^k^j)+U[3]+3572445317&4294967295,I=H+(P<<16&4294967295|P>>>16),P=j+(I^H^k)+U[6]+76029189&4294967295,j=I+(P<<23&4294967295|P>>>9),P=k+(j^I^H)+U[9]+3654602809&4294967295,k=j+(P<<4&4294967295|P>>>28),P=H+(k^j^I)+U[12]+3873151461&4294967295,H=k+(P<<11&4294967295|P>>>21),P=I+(H^k^j)+U[15]+530742520&4294967295,I=H+(P<<16&4294967295|P>>>16),P=j+(I^H^k)+U[2]+3299628645&4294967295,j=I+(P<<23&4294967295|P>>>9),P=k+(I^(j|~H))+U[0]+4096336452&4294967295,k=j+(P<<6&4294967295|P>>>26),P=H+(j^(k|~I))+U[7]+1126891415&4294967295,H=k+(P<<10&4294967295|P>>>22),P=I+(k^(H|~j))+U[14]+2878612391&4294967295,I=H+(P<<15&4294967295|P>>>17),P=j+(H^(I|~k))+U[5]+4237533241&4294967295,j=I+(P<<21&4294967295|P>>>11),P=k+(I^(j|~H))+U[12]+1700485571&4294967295,k=j+(P<<6&4294967295|P>>>26),P=H+(j^(k|~I))+U[3]+2399980690&4294967295,H=k+(P<<10&4294967295|P>>>22),P=I+(k^(H|~j))+U[10]+4293915773&4294967295,I=H+(P<<15&4294967295|P>>>17),P=j+(H^(I|~k))+U[1]+2240044497&4294967295,j=I+(P<<21&4294967295|P>>>11),P=k+(I^(j|~H))+U[8]+1873313359&4294967295,k=j+(P<<6&4294967295|P>>>26),P=H+(j^(k|~I))+U[15]+4264355552&4294967295,H=k+(P<<10&4294967295|P>>>22),P=I+(k^(H|~j))+U[6]+2734768916&4294967295,I=H+(P<<15&4294967295|P>>>17),P=j+(H^(I|~k))+U[13]+1309151649&4294967295,j=I+(P<<21&4294967295|P>>>11),P=k+(I^(j|~H))+U[4]+4149444226&4294967295,k=j+(P<<6&4294967295|P>>>26),P=H+(j^(k|~I))+U[11]+3174756917&4294967295,H=k+(P<<10&4294967295|P>>>22),P=I+(k^(H|~j))+U[2]+718787259&4294967295,I=H+(P<<15&4294967295|P>>>17),P=j+(H^(I|~k))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+k&4294967295,R.g[1]=R.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+H&4294967295}r.prototype.v=function(R,k){k===void 0&&(k=R.length);const j=k-this.blockSize,U=this.C;let I=this.h,H=0;for(;H<k;){if(I==0)for(;H<=j;)a(this,R,H),H+=this.blockSize;if(typeof R=="string"){for(;H<k;)if(U[I++]=R.charCodeAt(H++),I==this.blockSize){a(this,U),I=0;break}}else for(;H<k;)if(U[I++]=R[H++],I==this.blockSize){a(this,U),I=0;break}}this.h=I,this.o+=k},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var k=1;k<R.length-8;++k)R[k]=0;k=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=k&255,k/=256;for(this.v(R),R=Array(16),k=0,j=0;j<4;++j)for(let U=0;U<32;U+=8)R[k++]=this.g[j]>>>U&255;return R};function l(R,k){var j=h;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=k(R)}function c(R,k){this.h=k;const j=[];let U=!0;for(let I=R.length-1;I>=0;I--){const H=R[I]|0;U&&H==k||(j[I]=H,U=!1)}this.g=j}var h={};function f(R){return-128<=R&&R<128?l(R,function(k){return new c([k|0],k<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return C(g(-R));const k=[];let j=1;for(let U=0;R>=j;U++)k[U]=R/j|0,j*=4294967296;return new c(k,0)}function b(R,k){if(R.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(R.charAt(0)=="-")return C(b(R.substring(1),k));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=g(Math.pow(k,8));let U=v;for(let H=0;H<R.length;H+=8){var I=Math.min(8,R.length-H);const P=parseInt(R.substring(H,H+I),k);I<8?(I=g(Math.pow(k,I)),U=U.j(I).add(g(P))):(U=U.j(j),U=U.add(g(P)))}return U}var v=f(0),x=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(N(this))return-C(this).m();let R=0,k=1;for(let j=0;j<this.g.length;j++){const U=this.i(j);R+=(U>=0?U:4294967296+U)*k,k*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(N(this))return"-"+C(this).toString(R);const k=g(Math.pow(R,6));var j=this;let U="";for(;;){const I=L(j,k).g;j=D(j,I.j(k));let H=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=I,A(j))return H+U;for(;H.length<6;)H="0"+H;U=H+U}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(let k=0;k<R.g.length;k++)if(R.g[k]!=0)return!1;return!0}function N(R){return R.h==-1}n.l=function(R){return R=D(this,R),N(R)?-1:A(R)?0:1};function C(R){const k=R.g.length,j=[];for(let U=0;U<k;U++)j[U]=~R.g[U];return new c(j,~R.h).add(x)}n.abs=function(){return N(this)?C(this):this},n.add=function(R){const k=Math.max(this.g.length,R.g.length),j=[];let U=0;for(let I=0;I<=k;I++){let H=U+(this.i(I)&65535)+(R.i(I)&65535),P=(H>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);U=P>>>16,H&=65535,P&=65535,j[I]=P<<16|H}return new c(j,j[j.length-1]&-2147483648?-1:0)};function D(R,k){return R.add(C(k))}n.j=function(R){if(A(this)||A(R))return v;if(N(this))return N(R)?C(this).j(C(R)):C(C(this).j(R));if(N(R))return C(this.j(C(R)));if(this.l(E)<0&&R.l(E)<0)return g(this.m()*R.m());const k=this.g.length+R.g.length,j=[];for(var U=0;U<2*k;U++)j[U]=0;for(U=0;U<this.g.length;U++)for(let I=0;I<R.g.length;I++){const H=this.i(U)>>>16,P=this.i(U)&65535,Se=R.i(I)>>>16,De=R.i(I)&65535;j[2*U+2*I]+=P*De,O(j,2*U+2*I),j[2*U+2*I+1]+=H*De,O(j,2*U+2*I+1),j[2*U+2*I+1]+=P*Se,O(j,2*U+2*I+1),j[2*U+2*I+2]+=H*Se,O(j,2*U+2*I+2)}for(R=0;R<k;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=k;R<2*k;R++)j[R]=0;return new c(j,0)};function O(R,k){for(;(R[k]&65535)!=R[k];)R[k+1]+=R[k]>>>16,R[k]&=65535,k++}function F(R,k){this.g=R,this.h=k}function L(R,k){if(A(k))throw Error("division by zero");if(A(R))return new F(v,v);if(N(R))return k=L(C(R),k),new F(C(k.g),C(k.h));if(N(k))return k=L(R,C(k)),new F(C(k.g),k.h);if(R.g.length>30){if(N(R)||N(k))throw Error("slowDivide_ only works with positive integers.");for(var j=x,U=k;U.l(R)<=0;)j=W(j),U=W(U);var I=q(j,1),H=q(U,1);for(U=q(U,2),j=q(j,2);!A(U);){var P=H.add(U);P.l(R)<=0&&(I=I.add(j),H=P),U=q(U,1),j=q(j,1)}return k=D(R,I.j(k)),new F(I,k)}for(I=v;R.l(k)>=0;){for(j=Math.max(1,Math.floor(R.m()/k.m())),U=Math.ceil(Math.log(j)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),H=g(j),P=H.j(k);N(P)||P.l(R)>0;)j-=U,H=g(j),P=H.j(k);A(H)&&(H=x),I=I.add(H),R=D(R,P)}return new F(I,R)}n.B=function(R){return L(this,R).h},n.and=function(R){const k=Math.max(this.g.length,R.g.length),j=[];for(let U=0;U<k;U++)j[U]=this.i(U)&R.i(U);return new c(j,this.h&R.h)},n.or=function(R){const k=Math.max(this.g.length,R.g.length),j=[];for(let U=0;U<k;U++)j[U]=this.i(U)|R.i(U);return new c(j,this.h|R.h)},n.xor=function(R){const k=Math.max(this.g.length,R.g.length),j=[];for(let U=0;U<k;U++)j[U]=this.i(U)^R.i(U);return new c(j,this.h^R.h)};function W(R){const k=R.g.length+1,j=[];for(let U=0;U<k;U++)j[U]=R.i(U)<<1|R.i(U-1)>>>31;return new c(j,R.h)}function q(R,k){const j=k>>5;k%=32;const U=R.g.length-j,I=[];for(let H=0;H<U;H++)I[H]=k>0?R.i(H+j)>>>k|R.i(H+j+1)<<32-k:R.i(H+j);return new c(I,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dk=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=b,Ws=c}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hk,ru,fk,ef,j0,mk,gk,pk;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var _=0;_<m.length;++_){var S=m[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function a(m,_){if(_)e:{var S=r;m=m.split(".");for(var z=0;z<m.length-1;z++){var Q=m[z];if(!(Q in S))break e;S=S[Q]}m=m[m.length-1],z=S[m],_=_(z),_!=z&&_!=null&&e(S,m,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(_){var S=[],z;for(z in _)Object.prototype.hasOwnProperty.call(_,z)&&S.push([z,_[z]]);return S}});var l=l||{},c=this||self;function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function f(m,_,S){return m.call.apply(m.bind,arguments)}function g(m,_,S){return g=f,g.apply(null,arguments)}function b(m,_){var S=Array.prototype.slice.call(arguments,1);return function(){var z=S.slice();return z.push.apply(z,arguments),m.apply(this,z)}}function v(m,_){function S(){}S.prototype=_.prototype,m.Z=_.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(z,Q,J){for(var ge=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ge[Oe-2]=arguments[Oe];return _.prototype[Q].apply(z,ge)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const _=m.length;if(_>0){const S=Array(_);for(let z=0;z<_;z++)S[z]=m[z];return S}return[]}function A(m,_){for(let z=1;z<arguments.length;z++){const Q=arguments[z];var S=typeof Q;if(S=S!="object"?S:Q?Array.isArray(Q)?"array":S:"null",S=="array"||S=="object"&&typeof Q.length=="number"){S=m.length||0;const J=Q.length||0;m.length=S+J;for(let ge=0;ge<J;ge++)m[S+ge]=Q[ge]}else m.push(Q)}}class N{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(m){c.setTimeout(()=>{throw m},0)}function D(){var m=R;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class O{constructor(){this.h=this.g=null}add(_,S){const z=F.get();z.set(_,S),this.h?this.h.next=z:this.g=z,this.h=z}}var F=new N(()=>new L,m=>m.reset());class L{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let W,q=!1,R=new O,k=()=>{const m=Promise.resolve(void 0);W=()=>{m.then(j)}};function j(){for(var m;m=D();){try{m.h.call(m.g)}catch(S){C(S)}var _=F;_.j(m),_.h<100&&(_.h++,m.next=_.g,_.g=m)}q=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function Se(m,_){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,_)}v(Se,I),Se.prototype.init=function(m,_){const S=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget,_||(S=="mouseover"?_=m.fromElement:S=="mouseout"&&(_=m.toElement)),this.relatedTarget=_,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),re=0;function ae(m,_,S,z,Q){this.listener=m,this.proxy=null,this.src=_,this.type=S,this.capture=!!z,this.ha=Q,this.key=++re,this.da=this.fa=!1}function pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function _e(m,_,S){for(const z in m)_.call(S,m[z],z,m)}function de(m,_){for(const S in m)_.call(void 0,m[S],S,m)}function V(m){const _={};for(const S in m)_[S]=m[S];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(m,_){let S,z;for(let Q=1;Q<arguments.length;Q++){z=arguments[Q];for(S in z)m[S]=z[S];for(let J=0;J<Z.length;J++)S=Z[J],Object.prototype.hasOwnProperty.call(z,S)&&(m[S]=z[S])}}function he(m){this.src=m,this.g={},this.h=0}he.prototype.add=function(m,_,S,z,Q){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const ge=ve(m,_,z,Q);return ge>-1?(_=m[ge],S||(_.fa=!1)):(_=new ae(_,this.src,J,!!z,Q),_.fa=S,m.push(_)),_};function Ee(m,_){const S=_.type;if(S in m.g){var z=m.g[S],Q=Array.prototype.indexOf.call(z,_,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(z,Q,1),J&&(pe(_),m.g[S].length==0&&(delete m.g[S],m.h--))}}function ve(m,_,S,z){for(let Q=0;Q<m.length;++Q){const J=m[Q];if(!J.da&&J.listener==_&&J.capture==!!S&&J.ha==z)return Q}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),mt={};function Ye(m,_,S,z,Q){if(Array.isArray(_)){for(let J=0;J<_.length;J++)Ye(m,_[J],S,z,Q);return null}return S=Ti(S),m&&m[De]?m.J(_,S,h(z)?!!z.capture:!1,Q):fe(m,_,S,!1,z,Q)}function fe(m,_,S,z,Q,J){if(!_)throw Error("Invalid event type");const ge=h(Q)?!!Q.capture:!!Q;let Oe=ss(m);if(Oe||(m[Re]=Oe=new he(m)),S=Oe.add(_,S,z,ge,J),S.proxy)return S;if(z=Ze(),S.proxy=z,z.src=m,z.listener=S,m.addEventListener)H||(Q=ge),Q===void 0&&(Q=!1),m.addEventListener(_.toString(),z,Q);else if(m.attachEvent)m.attachEvent(jt(_.toString()),z);else if(m.addListener&&m.removeListener)m.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ze(){function m(S){return _.call(m.src,m.listener,S)}const _=Ar;return m}function Lt(m,_,S,z,Q){if(Array.isArray(_))for(var J=0;J<_.length;J++)Lt(m,_[J],S,z,Q);else z=h(z)?!!z.capture:!!z,S=Ti(S),m&&m[De]?(m=m.i,J=String(_).toString(),J in m.g&&(_=m.g[J],S=ve(_,S,z,Q),S>-1&&(pe(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete m.g[J],m.h--)))):m&&(m=ss(m))&&(_=m.g[_.toString()],m=-1,_&&(m=ve(_,S,z,Q)),(S=m>-1?_[m]:null)&&ht(S))}function ht(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[De])Ee(_.i,m);else{var S=m.type,z=m.proxy;_.removeEventListener?_.removeEventListener(S,z,m.capture):_.detachEvent?_.detachEvent(jt(S),z):_.addListener&&_.removeListener&&_.removeListener(z),(S=ss(_))?(Ee(S,m),S.h==0&&(S.src=null,_[Re]=null)):pe(m)}}}function jt(m){return m in mt?mt[m]:mt[m]="on"+m}function Ar(m,_){if(m.da)m=!0;else{_=new Se(_,this);const S=m.listener,z=m.ha||m.src;m.fa&&ht(m),m=S.call(z,_)}return m}function ss(m){return m=m[Re],m instanceof he?m:null}var fa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ti(m){return typeof m=="function"?m:(m[fa]||(m[fa]=function(_){return m.handleEvent(_)}),m[fa])}function Ct(){U.call(this),this.i=new he(this),this.M=this,this.G=null}v(Ct,U),Ct.prototype[De]=!0,Ct.prototype.removeEventListener=function(m,_,S,z){Lt(this,m,_,S,z)};function Kt(m,_){var S,z=m.G;if(z)for(S=[];z;z=z.G)S.push(z);if(m=m.M,z=_.type||_,typeof _=="string")_=new I(_,m);else if(_ instanceof I)_.target=_.target||m;else{var Q=_;_=new I(z,m),ue(_,Q)}Q=!0;let J,ge;if(S)for(ge=S.length-1;ge>=0;ge--)J=_.g=S[ge],Q=as(J,z,!0,_)&&Q;if(J=_.g=m,Q=as(J,z,!0,_)&&Q,Q=as(J,z,!1,_)&&Q,S)for(ge=0;ge<S.length;ge++)J=_.g=S[ge],Q=as(J,z,!1,_)&&Q}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var m=this.i;for(const _ in m.g){const S=m.g[_];for(let z=0;z<S.length;z++)pe(S[z]);delete m.g[_],m.h--}}this.G=null},Ct.prototype.J=function(m,_,S,z){return this.i.add(String(m),_,!1,S,z)},Ct.prototype.K=function(m,_,S,z){return this.i.add(String(m),_,!0,S,z)};function as(m,_,S,z){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let J=0;J<_.length;++J){const ge=_[J];if(ge&&!ge.da&&ge.capture==S){const Oe=ge.listener,It=ge.ha||ge.src;ge.fa&&Ee(m.i,ge),Q=Oe.call(It,z)!==!1&&Q}}return Q&&!z.defaultPrevented}function Im(m,_){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(m,_||0)}function ad(m){m.g=Im(()=>{m.g=null,m.i&&(m.i=!1,ad(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class An extends U{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ad(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(m){U.call(this),this.h=m,this.g={}}v(ma,U);var $o=[];function Qo(m){_e(m.g,function(_,S){this.g.hasOwnProperty(S)&&ht(_)},m),m.g={}}ma.prototype.N=function(){ma.Z.N.call(this),Qo(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=c.JSON.stringify,Om=c.JSON.parse,ld=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function od(){}function cd(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){I.call(this,"d")}v(ln,I);function or(){I.call(this,"c")}v(or,I);var Mt={},ud=null;function gl(){return ud=ud||new Ct}Mt.Ia="serverreachability";function dd(m){I.call(this,Mt.Ia,m)}v(dd,I);function Gr(m){const _=gl();Kt(_,new dd(_))}Mt.STAT_EVENT="statevent";function ga(m,_){I.call(this,Mt.STAT_EVENT,m),this.stat=_}v(ga,I);function Ut(m){const _=gl();Kt(_,new ga(_,m))}Mt.Ja="timingevent";function $r(m,_){I.call(this,Mt.Ja,m),this.size=_}v($r,I);function Qr(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},_)}function Cr(){this.g=!0}Cr.prototype.ua=function(){this.g=!1};function Vm(m,_,S,z,Q,J){m.info(function(){if(m.g)if(J){var ge="",Oe=J.split("&");for(let Je=0;Je<Oe.length;Je++){var It=Oe[Je].split("=");if(It.length>1){const vt=It[0];It=It[1];const hr=vt.split("_");ge=hr.length>=2&&hr[1]=="type"?ge+(vt+"="+It+"&"):ge+(vt+"=redacted&")}}}else ge=null;else ge=J;return"XMLHTTP REQ ("+z+") [attempt "+Q+"]: "+_+`
`+S+`
`+ge})}function hd(m,_,S,z,Q,J,ge){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Q+"]: "+_+`
`+S+`
`+J+" "+ge})}function Yr(m,_,S,z){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Pm(m,S)+(z?" "+z:"")})}function pa(m,_){m.info(function(){return"TIMEOUT: "+_})}Cr.prototype.info=function(){};function Pm(m,_){if(!m.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var S=J[m];if(!(S.length<2)){var z=S[1];if(Array.isArray(z)&&!(z.length<1)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ge=1;ge<z.length;ge++)z[ge]=""}}}}return ls(J)}catch{return _}}var ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wo;function ya(){}v(ya,od),ya.prototype.g=function(){return new XMLHttpRequest},Wo=new ya;function Ci(m){return encodeURIComponent(String(m))}function fd(m){var _=1;m=m.split(":");const S=[];for(;_>0&&m.length;)S.push(m.shift()),_--;return m.length&&S.push(m.join(":")),S}function Nr(m,_,S,z){this.j=m,this.i=_,this.l=S,this.S=z||1,this.V=new ma(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}var Bt={},en={};function Wr(m,_,S){m.M=1,m.A=va(Ft(_)),m.u=S,m.R=!0,pl(m,null)}function pl(m,_){m.F=Date.now(),Xr(m),m.B=Ft(m.A);var S=m.B,z=m.S;Array.isArray(z)||(z=[String(z)]),xl(S.i,"t",z),m.C=0,S=m.j.L,m.h=new Rr,m.g=Cd(m.j,S?_:null,!m.u),m.P>0&&(m.O=new An(g(m.Y,m,m.g),m.P)),_=m.V,S=m.g,z=m.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&($o[0]=Q.toString()),Q=$o);for(let J=0;J<Q.length;J++){const ge=Ye(S,Q[J],z||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=m.J?V(m.J):{},m.u?(m.v||(m.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,_)):(m.v="GET",m.g.ea(m.B,m.v,null,_)),Gr(),Vm(m.i,m.v,m.B,m.l,m.S,m.u)}Nr.prototype.ba=function(m){m=m.target;const _=this.O;_&&jr(m)==3?_.j():this.Y(m)},Nr.prototype.Y=function(m){try{if(m==this.g)e:{const Oe=jr(this.g),It=this.g.ya(),Je=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Oe!=4||It==7||(It==8||Je<=0?Gr(3):Gr(2)),Kr(this);var _=this.g.ca();this.X=_;var S=Lm(this);if(this.o=_==200,hd(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var z,Q=this.g;if((z=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(z)){var J=z;break t}}J=null}if(m=J)Yr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zr(this,m);else{this.o=!1,this.m=3,Ut(12),Gn(this),cr(this);break e}}if(this.R){m=!0;let vt;for(;!this.K&&this.C<S.length;)if(vt=gd(this,S),vt==en){Oe==4&&(this.m=4,Ut(14),m=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Bt){this.m=4,Ut(15),Yr(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else Yr(this.i,this.l,vt,null),Zr(this,vt);if(md(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||S.length!=0||this.h.h||(this.m=1,Ut(16),m=!1),this.o=this.o&&m,!m)Yr(this.i,this.l,S,"[Invalid Chunked Response]"),Gn(this),cr(this);else if(S.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),uc(ge),ge.P=!0,Ut(11))}}else Yr(this.i,this.l,S,null),Zr(this,S);Oe==4&&Gn(this),this.o&&!this.K&&(Oe==4?Sd(this.j,this):(this.o=!1,Xr(this)))}else Ri(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Gn(this),cr(this)}}}catch{}finally{}};function Lm(m){if(!md(m))return m.g.la();const _=on(m.g);if(_==="")return"";let S="";const z=_.length,Q=jr(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Gn(m),cr(m),"";m.h.i=new c.TextDecoder}for(let J=0;J<z;J++)m.h.h=!0,S+=m.h.i.decode(_[J],{stream:!(Q&&J==z-1)});return _.length=0,m.h.g+=S,m.C=0,m.h.g}function md(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function gd(m,_){var S=m.C,z=_.indexOf(`
`,S);return z==-1?en:(S=Number(_.substring(S,z)),isNaN(S)?Bt:(z+=1,z+S>_.length?en:(_=_.slice(z,z+S),m.C=z+S,_)))}Nr.prototype.cancel=function(){this.K=!0,Gn(this)};function Xr(m){m.T=Date.now()+m.H,bl(m,m.H)}function bl(m,_){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Qr(g(m.aa,m),_)}function Kr(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Nr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(pa(this.i,this.B),this.M!=2&&(Gr(),Ut(17)),Gn(this),this.m=2,cr(this)):bl(this,this.T-m)};function cr(m){m.j.I==0||m.K||Sd(m.j,m)}function Gn(m){Kr(m);var _=m.O;_&&typeof _.dispose=="function"&&_.dispose(),m.O=null,Qo(m.V),m.g&&(_=m.g,m.g=null,_.abort(),_.dispose())}function Zr(m,_){try{var S=m.j;if(S.I!=0&&(S.g==m||ei(S.h,m))){if(!m.L&&ei(S.h,m)&&S.I==3){try{var z=S.Ba.g.parse(_)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Q=z;if(Q[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)kl(S),gs(S);else break e;Aa(S),Ut(18)}}else S.xa=Q[1],0<S.xa-S.K&&Q[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Qr(g(S.Va,S),6e3));Jr(S.h)<=1&&S.ta&&(S.ta=void 0)}else ai(S,11)}else if((m.L||S.g==m)&&kl(S),!P(_))for(Q=S.Ba.g.parse(_),_=0;_<Q.length;_++){let Je=Q[_];const vt=Je[0];if(!(vt<=S.K))if(S.K=vt,Je=Je[1],S.I==2)if(Je[0]=="c"){S.M=Je[1],S.ba=Je[2];const hr=Je[3];hr!=null&&(S.ka=hr,S.j.info("VER="+S.ka));const li=Je[4];li!=null&&(S.za=li,S.j.info("SVER="+S.za));const Mr=Je[5];Mr!=null&&typeof Mr=="number"&&Mr>0&&(z=1.5*Mr,S.O=z,S.j.info("backChannelRequestTimeoutMs_="+z)),z=S;const Ir=m.g;if(Ir){const Ta=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var J=z.h;J.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Zo(J,J.h),J.h=null))}if(z.G){const Al=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(z.wa=Al,rt(z.J,z.G,Al))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),z=S;var ge=m;if(z.na=Td(z,z.L?z.ba:null,z.W),ge.L){Jo(z.h,ge);var Oe=ge,It=z.O;It&&(Oe.H=It),Oe.D&&(Kr(Oe),Xr(Oe)),z.g=ge}else wd(z);S.i.length>0&&si(S)}else Je[0]!="stop"&&Je[0]!="close"||ai(S,7);else S.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ai(S,7):oc(S):Je[0]!="noop"&&S.l&&S.l.qa(Je),S.A=0)}}Gr(4)}catch{}}var Ht=class{constructor(m,_){this.g=m,this.map=_}};function Xo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Jr(m){return m.h?1:m.g?m.g.size:0}function ei(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Zo(m,_){m.g?m.g.add(_):m.h=_}function Jo(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Xo.prototype.cancel=function(){if(this.i=ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ec(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const S of m.g.values())_=_.concat(S.G);return _}return E(m.i)}var pd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yl(m,_){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const z=m[S].indexOf("=");let Q,J=null;z>=0?(Q=m[S].substring(0,z),J=m[S].substring(z+1)):Q=m[S],_(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function $n(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;m instanceof $n?(this.l=m.l,tn(this,m.j),this.o=m.o,this.g=m.g,os(this,m.u),this.h=m.h,tc(this,xd(m.i)),this.m=m.m):m&&(_=String(m).match(pd))?(this.l=!1,tn(this,_[1]||"",!0),this.o=ti(_[2]||""),this.g=ti(_[3]||"",!0),os(this,_[4]),this.h=ti(_[5]||"",!0),tc(this,_[6]||"",!0),this.m=ti(_[7]||"")):(this.l=!1,this.i=new us(null,this.l))}$n.prototype.toString=function(){const m=[];var _=this.j;_&&m.push(xa(_,vl,!0),":");var S=this.g;return(S||_=="file")&&(m.push("//"),(_=this.o)&&m.push(xa(_,vl,!0),"@"),m.push(Ci(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(xa(S,S.charAt(0)=="/"?nc:bd,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",xa(S,yd)),m.join("")},$n.prototype.resolve=function(m){const _=Ft(this);let S=!!m.j;S?tn(_,m.j):S=!!m.o,S?_.o=m.o:S=!!m.g,S?_.g=m.g:S=m.u!=null;var z=m.h;if(S)os(_,m.u);else if(S=!!m.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(z=_.h.slice(0,Q+1)+z)}if(Q=z,Q==".."||Q==".")z="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){z=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let ge=0;ge<Q.length;){const Oe=Q[ge++];Oe=="."?z&&ge==Q.length&&J.push(""):Oe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),z&&ge==Q.length&&J.push("")):(J.push(Oe),z=!0)}z=J.join("/")}else z=Q}return S?_.h=z:S=m.i.toString()!=="",S?tc(_,xd(m.i)):S=!!m.m,S&&(_.m=m.m),_};function Ft(m){return new $n(m)}function tn(m,_,S){m.j=S?ti(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function os(m,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);m.u=_}else m.u=null}function tc(m,_,S){_ instanceof us?(m.i=_,_l(m.i,m.l)):(S||(_=xa(_,cs)),m.i=new us(_,m.l))}function rt(m,_,S){m.i.set(_,S)}function va(m){return rt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ti(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function xa(m,_,S){return typeof m=="string"?(m=encodeURI(m).replace(_,zn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var vl=/[#\/\?@]/g,bd=/[#\?:]/g,nc=/[#\?]/g,cs=/[#\?@]/g,yd=/#/g;function us(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function jn(m){m.g||(m.g=new Map,m.h=0,m.i&&yl(m.i,function(_,S){m.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=us.prototype,n.add=function(m,_){jn(this),this.i=null,m=ds(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(_),this.h+=1,this};function vd(m,_){jn(m),_=ds(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function rc(m,_){return jn(m),_=ds(m,_),m.g.has(_)}n.forEach=function(m,_){jn(this),this.g.forEach(function(S,z){S.forEach(function(Q){m.call(_,Q,z,this)},this)},this)};function ic(m,_){jn(m);let S=[];if(typeof _=="string")rc(m,_)&&(S=S.concat(m.g.get(ds(m,_))));else for(m=Array.from(m.g.values()),_=0;_<m.length;_++)S=S.concat(m[_]);return S}n.set=function(m,_){return jn(this),this.i=null,m=ds(this,m),rc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=ic(this,m),m.length>0?String(m[0]):_):_};function xl(m,_,S){vd(m,_),S.length>0&&(m.i=null,m.g.set(ds(m,_),E(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(let z=0;z<_.length;z++){var S=_[z];const Q=Ci(S);S=ic(this,S);for(let J=0;J<S.length;J++){let ge=Q;S[J]!==""&&(ge+="="+Ci(S[J])),m.push(ge)}}return this.i=m.join("&")};function xd(m){const _=new us;return _.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),_}function ds(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function _l(m,_){_&&!m.j&&(jn(m),m.i=null,m.g.forEach(function(S,z){const Q=z.toLowerCase();z!=Q&&(vd(this,z),xl(this,Q,S))},m)),m.j=_}function Dr(m,_){const S=new Cr;if(c.Image){const z=new Image;z.onload=b(ur,S,"TestLoadImage: loaded",!0,_,z),z.onerror=b(ur,S,"TestLoadImage: error",!1,_,z),z.onabort=b(ur,S,"TestLoadImage: abort",!1,_,z),z.ontimeout=b(ur,S,"TestLoadImage: timeout",!1,_,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else _(!1)}function sc(m,_){const S=new Cr,z=new AbortController,Q=setTimeout(()=>{z.abort(),ur(S,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:z.signal}).then(J=>{clearTimeout(Q),J.ok?ur(S,"TestPingServer: ok",!0,_):ur(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),ur(S,"TestPingServer: error",!1,_)})}function ur(m,_,S,z,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),z(S)}catch{}}function hs(){this.g=new ld}function ni(m){this.i=m.Sb||null,this.h=m.ab||!1}v(ni,od),ni.prototype.g=function(){return new _a(this.i,this.h)};function _a(m,_){Ct.call(this),this.H=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(_a,Ct),n=_a.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=_,this.readyState=1,zr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(_.body=m),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wl(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function wl(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?fs(this):zr(this),this.readyState==3&&wl(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,fs(this))},n.Na=function(m){this.g&&(this.response=m,fs(this))},n.ga=function(){this.g&&fs(this)};function fs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,zr(m)}n.setRequestHeader=function(m,_){this.A.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=_.next();return m.join(`\r
`)};function zr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function dr(m){let _="";return _e(m,function(S,z){_+=z,_+=":",_+=S,_+=`\r
`}),_}function wa(m,_,S){e:{for(z in S){var z=!1;break e}z=!0}z||(S=dr(S),typeof m=="string"?S!=null&&Ci(S):rt(m,_,S))}function lt(m){Ct.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(lt,Ct);var ri=/^https?$/i,ac=["POST","PUT"];n=lt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,_,S,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(J){Ea(this,J);return}if(m=S||"",S=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Q in z)S.set(Q,z[Q]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const J of z.keys())S.set(J,z.get(J));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),Q=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(ac,_,void 0)>=0)||z||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of S)this.g.setRequestHeader(J,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){Ea(this,J)}};function Ea(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.o=5,lc(m),Ni(m)}function lc(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Kt(this,"complete"),Kt(this,"abort"),Ni(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},n.Xa=function(){Sa(this)};function Sa(m){if(m.h&&typeof l<"u"){if(m.v&&jr(m)==4)setTimeout(m.Ca.bind(m),0);else if(Kt(m,"readystatechange"),jr(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var z;if(z=J===0){let ge=String(m.D).match(pd)[1]||null;!ge&&c.self&&c.self.location&&(ge=c.self.location.protocol.slice(0,-1)),z=!ri.test(ge?ge.toLowerCase():"")}S=z}if(S)Kt(m,"complete"),Kt(m,"success");else{m.o=6;try{var Q=jr(m)>2?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.ca()+"]",lc(m)}}finally{Ni(m)}}}}function Ni(m,_){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,_||Kt(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function jr(m){return m.g?m.g.readyState:0}n.ca=function(){try{return jr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Om(_)}};function on(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(m){const _={};m=(m.g&&jr(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<m.length;z++){if(P(m[z]))continue;var S=fd(m[z]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=_[Q]||[];_[Q]=J,J.push(S)}de(_,function(z){return z.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(m,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||_}function ms(m){this.za=0,this.i=[],this.j=new Cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ii("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ii("baseRetryDelayMs",5e3,m),this.Za=ii("retryDelaySeedMs",1e4,m),this.Ta=ii("forwardChannelMaxRetries",2,m),this.va=ii("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Xo(m&&m.concurrentRequestLimit),this.Ba=new hs,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ms.prototype,n.ka=8,n.I=1,n.connect=function(m,_,S,z){Ut(0),this.W=m,this.H=_||{},S&&z!==void 0&&(this.H.OSID=S,this.H.OAID=z),this.F=this.X,this.J=Td(this,null,this.W),si(this)};function oc(m){if(El(m),m.I==3){var _=m.V++,S=Ft(m.J);if(rt(S,"SID",m.M),rt(S,"RID",_),rt(S,"TYPE","terminate"),ka(m,S),_=new Nr(m,m.j,_),_.M=2,_.A=va(Ft(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.A,S=!0),S||(_.g=Cd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Xr(_)}Ad(m)}function gs(m){m.g&&(uc(m),m.g.cancel(),m.g=null)}function El(m){gs(m),m.v&&(c.clearTimeout(m.v),m.v=null),kl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function si(m){if(!Ko(m.h)&&!m.m){m.m=!0;var _=m.Ea;W||k(),q||(W(),q=!0),R.add(_,m),m.D=0}}function Sl(m,_){return Jr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=_.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Qr(g(m.Ea,m,_),kd(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Q=new Nr(this,this.j,m);let J=this.o;if(this.U&&(J?(J=V(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var z=this.i[S];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(_+=z,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=_d(this,Q,_),S=Ft(this.J),rt(S,"RID",m),rt(S,"CVER",22),this.G&&rt(S,"X-HTTP-Session-Id",this.G),ka(this,S),J&&(this.R?_="headers="+Ci(dr(J))+"&"+_:this.u&&wa(S,this.u,J)),Zo(this.h,Q),this.Ra&&rt(S,"TYPE","init"),this.S?(rt(S,"$req",_),rt(S,"SID","null"),Q.U=!0,Wr(Q,S,null)):Wr(Q,S,_),this.I=2}}else this.I==3&&(m?cc(this,m):this.i.length==0||Ko(this.h)||cc(this))};function cc(m,_){var S;_?S=_.l:S=m.V++;const z=Ft(m.J);rt(z,"SID",m.M),rt(z,"RID",S),rt(z,"AID",m.K),ka(m,z),m.u&&m.o&&wa(z,m.u,m.o),S=new Nr(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),_&&(m.i=_.G.concat(m.i)),_=_d(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Zo(m.h,S),Wr(S,z,_)}function ka(m,_){m.H&&_e(m.H,function(S,z){rt(_,z,S)}),m.l&&_e({},function(S,z){rt(_,z,S)})}function _d(m,_,S){S=Math.min(m.i.length,S);const z=m.l?g(m.l.Ka,m.l,m):null;e:{var Q=m.i;let Oe=-1;for(;;){const It=["count="+S];Oe==-1?S>0?(Oe=Q[0].g,It.push("ofs="+Oe)):Oe=0:It.push("ofs="+Oe);let Je=!0;for(let vt=0;vt<S;vt++){var J=Q[vt].g;const hr=Q[vt].map;if(J-=Oe,J<0)Oe=Math.max(0,Q[vt].g-100),Je=!1;else try{J="req"+J+"_"||"";try{var ge=hr instanceof Map?hr:Object.entries(hr);for(const[li,Mr]of ge){let Ir=Mr;h(Mr)&&(Ir=ls(Mr)),It.push(J+li+"="+encodeURIComponent(Ir))}}catch(li){throw It.push(J+"type="+encodeURIComponent("_badmap")),li}}catch{z&&z(hr)}}if(Je){ge=It.join("&");break e}}ge=void 0}return m=m.i.splice(0,S),_.G=m,ge}function wd(m){if(!m.g&&!m.v){m.Y=1;var _=m.Da;W||k(),q||(W(),q=!0),R.add(_,m),m.A=0}}function Aa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Qr(g(m.Da,m),kd(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Ed(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Qr(g(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),gs(this),Ed(this))};function uc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Ed(m){m.g=new Nr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var _=Ft(m.na);rt(_,"RID","rpc"),rt(_,"SID",m.M),rt(_,"AID",m.K),rt(_,"CI",m.F?"0":"1"),!m.F&&m.ia&&rt(_,"TO",m.ia),rt(_,"TYPE","xmlhttp"),ka(m,_),m.u&&m.o&&wa(_,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=va(Ft(_)),S.u=null,S.R=!0,pl(S,m)}n.Va=function(){this.C!=null&&(this.C=null,gs(this),Aa(this),Ut(19))};function kl(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Sd(m,_){var S=null;if(m.g==_){kl(m),uc(m),m.g=null;var z=2}else if(ei(m.h,_))S=_.G,Jo(m.h,_),z=1;else return;if(m.I!=0){if(_.o)if(z==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var Q=m.D;z=gl(),Kt(z,new $r(z,S)),si(m)}else wd(m);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(z==1&&Sl(m,_)||z==2&&Aa(m)))switch(S&&S.length>0&&(_=m.h,_.i=_.i.concat(S)),Q){case 1:ai(m,5);break;case 4:ai(m,10);break;case 3:ai(m,6);break;default:ai(m,2)}}}function kd(m,_){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*_}function ai(m,_){if(m.j.info("Error code "+_),_==2){var S=g(m.bb,m),z=m.Ua;const Q=!z;z=new $n(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tn(z,"https"),va(z),Q?Dr(z.toString(),S):sc(z.toString(),S)}else Ut(2);m.I=0,m.l&&m.l.pa(_),Ad(m),El(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Ad(m){if(m.I=0,m.ja=[],m.l){const _=ec(m.h);(_.length!=0||m.i.length!=0)&&(A(m.ja,_),A(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function Td(m,_,S){var z=S instanceof $n?Ft(S):new $n(S);if(z.g!="")_&&(z.g=_+"."+z.g),os(z,z.u);else{var Q=c.location;z=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new $n(null);z&&tn(J,z),_&&(J.g=_),Q&&os(J,Q),S&&(J.h=S),z=J}return S=m.G,_=m.wa,S&&_&&rt(z,S,_),rt(z,"VER",m.ka),ka(m,z),z}function Cd(m,_,S){if(_&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Aa&&!m.ma?new lt(new ni({ab:S})):new lt(m.ma),_.Fa(m.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nd(){}n=Nd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ps(){}ps.prototype.g=function(m,_){return new Tn(m,_)};function Tn(m,_){Ct.call(this),this.g=new ms(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(m?m["X-WebChannel-Client-Profile"]=_.sa:m={"X-WebChannel-Client-Profile":_.sa}),this.g.U=m,(m=_&&_.Qb)&&!P(m)&&(this.g.u=m),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Di(this)}v(Tn,Ct),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){oc(this.g)},Tn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=ls(m),m=S);_.i.push(new Ht(_.Ya++,m)),_.I==3&&si(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,oc(this.g),delete this.g,Tn.Z.N.call(this)};function Rd(m){ln.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const S in _){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}v(Rd,ln);function Dd(){or.call(this),this.status=1}v(Dd,or);function Di(m){this.g=m}v(Di,Nd),Di.prototype.ra=function(){Kt(this.g,"a")},Di.prototype.qa=function(m){Kt(this.g,new Rd(m))},Di.prototype.pa=function(m){Kt(this.g,new Dd)},Di.prototype.oa=function(){Kt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,pk=function(){return new ps},gk=function(){return gl()},mk=Mt,j0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,ef=ba,Yo.COMPLETE="complete",fk=Yo,cd.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,ru=cd,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,hk=lt}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",X_="4.9.3";class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Oo="12.7.0";const el=new tk("@firebase/firestore");function ao(){return el.logLevel}function ye(n,...e){if(el.logLevel<=Qe.DEBUG){const t=e.map(Tb);el.debug(`Firestore (${Oo}): ${n}`,...t)}}function es(n,...e){if(el.logLevel<=Qe.ERROR){const t=e.map(Tb);el.error(`Firestore (${Oo}): ${n}`,...t)}}function _o(n,...e){if(el.logLevel<=Qe.WARN){const t=e.map(Tb);el.warn(`Firestore (${Oo}): ${n}`,...t)}}function Tb(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,bk(n,r,t)}function bk(n,e,t){let r=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw es(r),new Error(r)}function nt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||bk(e,a,r)}function Me(n,e){return n}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends al{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xn.UNAUTHENTICATED)))}shutdown(){}}class gM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pM{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let l=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new yk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class bM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sk(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const r=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new K_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Cb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=xM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Fe(n,e){return n<e?-1:n>e?1:0}function M0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return Qp(a)===Qp(l)?Fe(a,l):Qp(a)?1:-1}return Fe(n.length,e.length)}const _M=55296,wM=57343;function Qp(n){const e=n.charCodeAt(0);return e>=_M&&e<=wM}function wo(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const Z_="__name__";class fi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=fi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Fe(e.length,t.length)}static compareSegments(e,t){const r=fi.isNumericId(e),a=fi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?fi.extractNumericId(e).compare(fi.extractNumericId(t)):M0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class ft extends fi{construct(e,t,r){return new ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ft(t)}static emptyPath(){return new ft([])}}const EM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends fi{construct(e,t,r){return new mn(e,t,r)}static isValidIdentifier(e){return EM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z_}static keyField(){return new mn([Z_])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new be(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new be(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(l(),a++)}if(l(),c)throw new be(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ft.fromString(e))}static fromName(e){return new Ae(ft.fromString(e).popFirst(5))}static empty(){return new Ae(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ft(e.slice()))}}function vk(n,e,t){if(!t)throw new be(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SM(n,e,t,r){if(e===!0&&r===!0)throw new be(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function J_(n){if(!Ae.isDocumentKey(n))throw new be(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ew(n){if(Ae.isDocumentKey(n))throw new be(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xk(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function im(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function Rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=im(n);throw new be(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function kM(n,e){if(e<=0)throw new be(se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Xt(n,e){const t={typeString:n};return e&&(t.value=e),t}function $u(n,e){if(!xk(n))throw new be(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new be(se.INVALID_ARGUMENT,t);return!0}const tw=-62135596800,nw=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nw);return new bt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tw)throw new be(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nw}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Xt("string",bt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new bt(0,0))}static max(){return new ze(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ru=-1;function AM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new Js(a,Ae.empty(),e)}function TM(n){return new Js(n.readTime,n.key,Ru)}class Js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Js(ze.min(),Ae.empty(),Ru)}static max(){return new Js(ze.max(),Ae.empty(),Ru)}}function CM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}const NM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vo(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==NM)throw n;ye("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,r)=>{t(e)}))}static reject(e){return new ce(((t,r)=>{r(e)}))}static waitFor(e){return new ce(((t,r)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&t()}),(f=>r(f)))})),c=!0,l===a&&t()}))}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next((a=>a?ce.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ce(((r,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const g=f;t(e[g]).next((b=>{c[g]=b,++h,h===l&&r(c)}),(b=>a(b)))}}))}static doWhile(e,t){return new ce(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function DM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Po(n){return n.name==="IndexedDbTransactionError"}class sm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sm.ce=-1;const Nb=-1;function am(n){return n==null}function vf(n){return n===0&&1/n==-1/0}function zM(n){return typeof n=="number"&&Number.isInteger(n)&&!vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const _k="";function jM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rw(e)),e=MM(n.get(t),e);return rw(e)}function MM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case _k:t+="";break;default:t+=l}}return t}function rw(n){return n+_k+""}function iw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ca(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class kt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new fn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sw(this.data.getIterator())}getIteratorFrom(e){return new sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nr{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new nr([])}unionWith(e){let t=new Jt(mn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class Ek extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ek("Invalid base64 string: "+l):l}})(e);return new bn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const IM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=IM.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ta(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}const Sk="server_timestamp",kk="__type__",Ak="__previous_value__",Tk="__local_write_time__";function Rb(n){return(n?.mapValue?.fields||{})[kk]?.stringValue===Sk}function lm(n){const e=n.mapValue.fields[Ak];return Rb(e)?lm(e):e}function Du(n){const e=ea(n.mapValue.fields[Tk].timestampValue);return new bt(e.seconds,e.nanos)}class OM{constructor(e,t,r,a,l,c,h,f,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=b}}const xf="(default)";class zu{constructor(e,t){this.projectId=e,this.database=t||xf}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===xf}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}const Ck="__type__",VM="__max__",Uh={mapValue:{}},Nk="__vector__",_f="value";function na(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rb(n)?4:LM(n)?9007199254740991:PM(n)?10:11:Ne(28295,{value:n})}function wi(n,e){if(n===e)return!0;const t=na(n);if(t!==na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Du(n).isEqual(Du(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ea(a.timestampValue),h=ea(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return ta(a.bytesValue).isEqual(ta(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Pt(a.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Pt(a.integerValue)===Pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pt(a.doubleValue),h=Pt(l.doubleValue);return c===h?vf(c)===vf(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return wo(n.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(iw(c)!==iw(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!wi(c[f],h[f])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function ju(n,e){return(n.values||[]).find((t=>wi(t,e)))!==void 0}function Eo(n,e){if(n===e)return 0;const t=na(n),r=na(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Pt(l.integerValue||l.doubleValue),f=Pt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return aw(n.timestampValue,e.timestampValue);case 4:return aw(Du(n),Du(e));case 5:return M0(n.stringValue,e.stringValue);case 6:return(function(l,c){const h=ta(l),f=ta(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const b=Fe(h[g],f[g]);if(b!==0)return b}return Fe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Fe(Pt(l.latitude),Pt(c.latitude));return h!==0?h:Fe(Pt(l.longitude),Pt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return lw(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},f=c.fields||{},g=h[_f]?.arrayValue,b=f[_f]?.arrayValue,v=Fe(g?.values?.length||0,b?.values?.length||0);return v!==0?v:lw(g,b)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Uh.mapValue&&c===Uh.mapValue)return 0;if(l===Uh.mapValue)return 1;if(c===Uh.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),g=c.fields||{},b=Object.keys(g);f.sort(),b.sort();for(let v=0;v<f.length&&v<b.length;++v){const x=M0(f[v],b[v]);if(x!==0)return x;const E=Eo(h[f[v]],g[b[v]]);if(E!==0)return E}return Fe(f.length,b.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function aw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=ea(n),r=ea(e),a=Fe(t.seconds,r.seconds);return a!==0?a:Fe(t.nanos,r.nanos)}function lw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Eo(t[a],r[a]);if(l)return l}return Fe(t.length,r.length)}function So(n){return I0(n)}function I0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ea(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ta(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=I0(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${I0(t.fields[c])}`;return a+"}"})(n.mapValue):Ne(61005,{value:n})}function tf(n){switch(na(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lm(n);return e?16+tf(e):16;case 5:return 2*n.stringValue.length;case 6:return ta(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+tf(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ca(r.fields,((l,c)=>{a+=l.length+tf(c)})),a})(n.mapValue);default:throw Ne(13486,{value:n})}}function ow(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function O0(n){return!!n&&"integerValue"in n}function Db(n){return!!n&&"arrayValue"in n}function cw(n){return!!n&&"nullValue"in n}function uw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nf(n){return!!n&&"mapValue"in n}function PM(n){return(n?.mapValue?.fields||{})[Ck]?.stringValue===Nk}function cu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ca(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=cu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(n.arrayValue.values[t]);return e}return{...n}}function LM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VM}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!nf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=mn.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}c?r[h.lastSegment()]=cu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];nf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ca(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Bn(cu(this.value))}}function Rk(n){const e=[];return ca(n.fields,((t,r)=>{const a=new mn([t]);if(nf(r)){const l=Rk(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new nr(e)}class wn{constructor(e,t,r,a,l,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new wn(e,0,ze.min(),ze.min(),ze.min(),Bn.empty(),0)}static newFoundDocument(e,t,r,a){return new wn(e,1,t,ze.min(),r,a,0)}static newNoDocument(e,t){return new wn(e,2,t,ze.min(),ze.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,ze.min(),ze.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wf{constructor(e,t){this.position=e,this.inclusive=t}}function dw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=Ae.comparator(Ae.fromName(c.referenceValue),t.key):r=Eo(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function hw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wi(n.position[t],e.position[t]))return!1;return!0}class Mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function UM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Dk{}class Wt extends Dk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new HM(e,t,r):t==="array-contains"?new GM(e,r):t==="in"?new $M(e,r):t==="not-in"?new QM(e,r):t==="array-contains-any"?new YM(e,r):new Wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new FM(e,r):new qM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Eo(t,this.value)):t!==null&&na(this.value)===na(t)&&this.matchesComparison(Eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends Dk{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Hr(e,t)}matches(e){return zk(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zk(n){return n.op==="and"}function jk(n){return BM(n)&&zk(n)}function BM(n){for(const e of n.filters)if(e instanceof Hr)return!1;return!0}function V0(n){if(n instanceof Wt)return n.field.canonicalString()+n.op.toString()+So(n.value);if(jk(n))return n.filters.map((e=>V0(e))).join(",");{const e=n.filters.map((t=>V0(t))).join(",");return`${n.op}(${e})`}}function Mk(n,e){return n instanceof Wt?(function(r,a){return a instanceof Wt&&r.op===a.op&&r.field.isEqual(a.field)&&wi(r.value,a.value)})(n,e):n instanceof Hr?(function(r,a){return a instanceof Hr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,h)=>l&&Mk(c,a.filters[h])),!0):!1})(n,e):void Ne(19439)}function Ik(n){return n instanceof Wt?(function(t){return`${t.field.canonicalString()} ${t.op} ${So(t.value)}`})(n):n instanceof Hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Ik).join(" ,")+"}"})(n):"Filter"}class HM extends Wt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class FM extends Wt{constructor(e,t){super(e,"in",t),this.keys=Ok("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qM extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=Ok("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ok(n,e){return(e.arrayValue?.values||[]).map((t=>Ae.fromName(t.referenceValue)))}class GM extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Db(t)&&ju(t.arrayValue,this.value)}}class $M extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ju(this.value.arrayValue,t)}}class QM extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ju(this.value.arrayValue,t)}}class YM extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Db(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ju(this.value.arrayValue,r)))}}class WM{constructor(e,t=null,r=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function fw(n,e=null,t=[],r=[],a=null,l=null,c=null){return new WM(n,e,t,r,a,l,c)}function zb(n){const e=Me(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>V0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),am(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>So(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>So(r))).join(",")),e.Te=t}return e.Te}function jb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Mk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hw(n.startAt,e.startAt)&&hw(n.endAt,e.endAt)}function P0(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Lo{constructor(e,t=null,r=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XM(n,e,t,r,a,l,c,h){return new Lo(n,e,t,r,a,l,c,h)}function om(n){return new Lo(n)}function mw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Vk(n){return n.collectionGroup!==null}function uu(n){const e=Me(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Jt(mn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Mu(l,r))})),t.has(mn.keyField().canonicalString())||e.Ie.push(new Mu(mn.keyField(),r))}return e.Ie}function bi(n){const e=Me(n);return e.Ee||(e.Ee=KM(e,uu(n))),e.Ee}function KM(n,e){if(n.limitType==="F")return fw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Mu(a.field,l)}));const t=n.endAt?new wf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wf(n.startAt.position,n.startAt.inclusive):null;return fw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function L0(n,e){const t=n.filters.concat([e]);return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ef(n,e,t){return new Lo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cm(n,e){return jb(bi(n),bi(e))&&n.limitType===e.limitType}function Pk(n){return`${zb(bi(n))}|lt:${n.limitType}`}function lo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>Ik(a))).join(", ")}]`),am(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>So(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>So(a))).join(",")),`Target(${r})`})(bi(n))}; limitType=${n.limitType})`}function um(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ae.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of uu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,f){const g=dw(c,h,f);return c.inclusive?g<=0:g<0})(r.startAt,uu(r),a)||r.endAt&&!(function(c,h,f){const g=dw(c,h,f);return c.inclusive?g>=0:g>0})(r.endAt,uu(r),a))})(n,e)}function ZM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Lk(n){return(e,t)=>{let r=!1;for(const a of uu(n)){const l=JM(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function JM(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(l,c,h){const f=c.data.field(l),g=h.data.field(l);return f!==null&&g!==null?Eo(f,g):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:n.dir})}}class ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return wk(this.inner)}size(){return this.innerSize}}const eI=new kt(Ae.comparator);function ts(){return eI}const Uk=new kt(Ae.comparator);function iu(...n){let e=Uk;for(const t of n)e=e.insert(t.key,t);return e}function Bk(n){let e=Uk;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ya(){return du()}function Hk(){return du()}function du(){return new ll((n=>n.toString()),((n,e)=>n.isEqual(e)))}const tI=new kt(Ae.comparator),nI=new Jt(Ae.comparator);function qe(...n){let e=nI;for(const t of n)e=e.add(t);return e}const rI=new Jt(Fe);function iI(){return rI}function Mb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function Fk(n){return{integerValue:""+n}}function sI(n,e){return zM(e)?Fk(e):Mb(n,e)}class dm{constructor(){this._=void 0}}function aI(n,e,t){return n instanceof Iu?(function(a,l){const c={fields:{[kk]:{stringValue:Sk},[Tk]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Rb(l)&&(l=lm(l)),l&&(c.fields[Ak]=l),{mapValue:c}})(t,e):n instanceof ko?Gk(n,e):n instanceof Ao?$k(n,e):(function(a,l){const c=qk(a,l),h=gw(c)+gw(a.Ae);return O0(c)&&O0(a.Ae)?Fk(h):Mb(a.serializer,h)})(n,e)}function lI(n,e,t){return n instanceof ko?Gk(n,e):n instanceof Ao?$k(n,e):t}function qk(n,e){return n instanceof Sf?(function(r){return O0(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Iu extends dm{}class ko extends dm{constructor(e){super(),this.elements=e}}function Gk(n,e){const t=Qk(e);for(const r of n.elements)t.some((a=>wi(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Ao extends dm{constructor(e){super(),this.elements=e}}function $k(n,e){let t=Qk(e);for(const r of n.elements)t=t.filter((a=>!wi(a,r)));return{arrayValue:{values:t}}}class Sf extends dm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gw(n){return Pt(n.integerValue||n.doubleValue)}function Qk(n){return Db(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ib{constructor(e,t){this.field=e,this.transform=t}}function oI(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof ko&&a instanceof ko||r instanceof Ao&&a instanceof Ao?wo(r.elements,a.elements,wi):r instanceof Sf&&a instanceof Sf?wi(r.Ae,a.Ae):r instanceof Iu&&a instanceof Iu})(n.transform,e.transform)}class cI{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hm{}function Yk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fm(n.key,Dn.none()):new Qu(n.key,n.data,Dn.none());{const t=n.data,r=Bn.empty();let a=new Jt(mn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new ua(n.key,r,new nr(a.toArray()),Dn.none())}}function uI(n,e,t){n instanceof Qu?(function(a,l,c){const h=a.value.clone(),f=bw(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ua?(function(a,l,c){if(!rf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=bw(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(Wk(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function hu(n,e,t,r){return n instanceof Qu?(function(l,c,h,f){if(!rf(l.precondition,c))return h;const g=l.value.clone(),b=yw(l.fieldTransforms,f,c);return g.setAll(b),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof ua?(function(l,c,h,f){if(!rf(l.precondition,c))return h;const g=yw(l.fieldTransforms,f,c),b=c.data;return b.setAll(Wk(l)),b.setAll(g),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(l,c,h){return rf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function dI(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=qk(r.transform,a||null);l!=null&&(t===null&&(t=Bn.empty()),t.set(r.field,l))}return t||null}function pw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&wo(r,a,((l,c)=>oI(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qu extends hm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ua extends hm{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Wk(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function bw(n,e,t){const r=new Map;nt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);r.set(l.field,lI(c,h,t[a]))}return r}function yw(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,aI(l,c,e))}return r}class fm extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hI extends hm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fI{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&uI(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Hk();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const f=Yk(c,h);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qe())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((t,r)=>pw(t,r)))&&wo(this.baseMutations,e.baseMutations,((t,r)=>pw(t,r)))}}class Ob{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return tI})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Ob(e,t,r,a)}}class mI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gI{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yt,$e;function pI(n){switch(n){case se.OK:return Ne(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function Xk(n){if(n===void 0)return es("GRPC error has no .code"),se.UNKNOWN;switch(n){case Yt.OK:return se.OK;case Yt.CANCELLED:return se.CANCELLED;case Yt.UNKNOWN:return se.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return se.INTERNAL;case Yt.UNAVAILABLE:return se.UNAVAILABLE;case Yt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Yt.NOT_FOUND:return se.NOT_FOUND;case Yt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Yt.ABORTED:return se.ABORTED;case Yt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Yt.DATA_LOSS:return se.DATA_LOSS;default:return Ne(39323,{code:n})}}($e=Yt||(Yt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function bI(){return new TextEncoder}const yI=new Ws([4294967295,4294967295],0);function vw(n){const e=bI().encode(n),t=new dk;return t.update(e),new Uint8Array(t.digest())}function xw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ws([t,r],0),new Ws([a,l],0)]}class Vb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ws.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Ws.fromNumber(r)));return a.compare(yI)===1&&(a=new Ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=vw(e),[r,a]=xw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Vb(l,a,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=vw(e),[r,a]=xw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mm{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mm(ze.min(),a,new kt(Fe),ts(),qe())}}class Yu{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yu(r,t,qe(),qe(),qe())}}class sf{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class Kk{constructor(e,t){this.targetId=e,this.Ce=t}}class Zk{constructor(e,t,r=bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class _w{constructor(){this.ve=0,this.Fe=ww(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),t=qe(),r=qe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ne(38017,{changeType:l})}})),new Yu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=ww()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=Bh(),this.He=Bh(),this.Ye=new kt(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(P0(l))if(r===0){const c=new Ae(l.path);this.et(t,c,wn.newNoDocument(c,ze.min()))}else nt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=ta(r).toUint8Array()}catch(f){if(f instanceof Ek)return _o("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Vb(c,a,l)}catch(f){return _o(f instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&P0(h.target)){const f=new Ae(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,wn.newNoDocument(f,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=qe();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new mm(e,t,this.Ye,this.je,r);return this.je=ts(),this.Je=Bh(),this.He=Bh(),this.Ye=new kt(Fe),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _w,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Jt(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Jt(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _w),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bh(){return new kt(Ae.comparator)}function ww(){return new kt(Ae.comparator)}const xI={asc:"ASCENDING",desc:"DESCENDING"},_I={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wI={and:"AND",or:"OR"};class EI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function U0(n,e){return n.useProto3Json||am(e)?e:{value:e}}function kf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SI(n,e){return kf(n,e.toTimestamp())}function yi(n){return nt(!!n,49232),ze.fromTimestamp((function(t){const r=ea(t);return new bt(r.seconds,r.nanos)})(n))}function Pb(n,e){return B0(n,e).canonicalString()}function B0(n,e){const t=(function(a){return new ft(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function eA(n){const e=ft.fromString(n);return nt(sA(e),10190,{key:e.toString()}),e}function H0(n,e){return Pb(n.databaseId,e.path)}function Yp(n,e){const t=eA(e);if(t.get(1)!==n.databaseId.projectId)throw new be(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(nA(t))}function tA(n,e){return Pb(n.databaseId,e)}function kI(n){const e=eA(n);return e.length===4?ft.emptyPath():nA(e)}function F0(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nA(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ew(n,e,t){return{name:H0(n,e),fields:t.value.mapValue.fields}}function AI(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,b){return g.useProto3Json?(nt(b===void 0||typeof b=="string",58123),bn.fromBase64String(b||"")):(nt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),bn.fromUint8Array(b||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const b=g.code===void 0?se.UNKNOWN:Xk(g.code);return new be(b,g.message||"")})(c);t=new Zk(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Yp(n,r.document.name),l=yi(r.document.updateTime),c=r.document.createTime?yi(r.document.createTime):ze.min(),h=new Bn({mapValue:{fields:r.document.fields}}),f=wn.newFoundDocument(a,l,c,h),g=r.targetIds||[],b=r.removedTargetIds||[];t=new sf(g,b,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Yp(n,r.document),l=r.readTime?yi(r.readTime):ze.min(),c=wn.newNoDocument(a,l),h=r.removedTargetIds||[];t=new sf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Yp(n,r.document),l=r.removedTargetIds||[];t=new sf([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new gI(a,l),h=r.targetId;t=new Kk(h,c)}}return t}function TI(n,e){let t;if(e instanceof Qu)t={update:Ew(n,e.key,e.value)};else if(e instanceof fm)t={delete:H0(n,e.key)};else if(e instanceof ua)t={update:Ew(n,e.key,e.data),updateMask:OI(e.fieldMask)};else{if(!(e instanceof hI))return Ne(16599,{Vt:e.type});t={verify:H0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof Iu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ko)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ao)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Sf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:SI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(n,e.precondition)),t}function CI(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?yi(a.updateTime):yi(l);return c.isEqual(ze.min())&&(c=yi(l)),new cI(c,a.transformResults||[])})(t,e)))):[]}function NI(n,e){return{documents:[tA(n,e.path)]}}function RI(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tA(n,a);const l=(function(g){if(g.length!==0)return iA(Hr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((b=>(function(x){return{field:oo(x.field),direction:jI(x.dir)}})(b)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=U0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function DI(n){let e=kI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){nt(r===1,65062);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=(function(v){const x=rA(v);return x instanceof Hr&&jk(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((x=>(function(A){return new Mu(co(A.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let x;return x=typeof v=="object"?v.value:v,am(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(v){const x=!!v.before,E=v.values||[];return new wf(E,x)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const x=!v.before,E=v.values||[];return new wf(E,x)})(t.endAt)),XM(e,a,c,l,h,"F",f,g)}function zI(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=co(t.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=co(t.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=co(t.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=co(t.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Wt.create(co(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Hr.create(t.compositeFilter.filters.map((r=>rA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function jI(n){return xI[n]}function MI(n){return _I[n]}function II(n){return wI[n]}function oo(n){return{fieldPath:n.canonicalString()}}function co(n){return mn.fromServerFormat(n.fieldPath)}function iA(n){return n instanceof Wt?(function(t){if(t.op==="=="){if(uw(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(cw(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uw(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(cw(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:MI(t.op),value:t.value}}})(n):n instanceof Hr?(function(t){const r=t.getFilters().map((a=>iA(a)));return r.length===1?r[0]:{compositeFilter:{op:II(t.op),filters:r}}})(n):Ne(54877,{filter:n})}function OI(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Bs{constructor(e,t,r,a,l=ze.min(),c=ze.min(),h=bn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VI{constructor(e){this.yt=e}}function PI(n){const e=DI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ef(e,e.limit,"L"):e}class LI{constructor(){this.Cn=new UI}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Js.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class UI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Jt(ft.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Jt(ft.comparator)).toArray()}}const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aA=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(aA,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class To{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}const kw="LruGarbageCollector",BI=1048576;function Aw([n,e],[t,r]){const a=Fe(n,t);return a===0?Fe(e,r):a}class HI{constructor(e){this.Ir=e,this.buffer=new Jt(Aw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Aw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Po(t)?ye(kw,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.Vr(3e5)}))}}class qI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(sm.ce);const r=new HI(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Sw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,h,f,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,t)))).next((v=>(l=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(g=Date.now(),ao()<=Qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-b}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function GI(n,e){return new qI(n,e)}class $I{constructor(){this.changes=new ll((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YI{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&hu(r.mutation,a,nr.empty(),bt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=qe()){const a=Ya();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=iu();return l.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ya();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,qe())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,a){let l=ts();const c=du(),h=(function(){return du()})();return t.forEach(((f,g)=>{const b=r.get(g.key);a.has(g.key)&&(b===void 0||b.mutation instanceof ua)?l=l.insert(g.key,g):b!==void 0?(c.set(g.key,b.mutation.getFieldMask()),hu(b.mutation,g,b.mutation.getFieldMask(),bt.now())):c.set(g.key,nr.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((g,b)=>c.set(g,b))),t.forEach(((g,b)=>h.set(g,new QI(b,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=du();let a=new kt(((c,h)=>c-h)),l=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=t.get(f);if(g===null)return;let b=r.get(f)||nr.empty();b=h.applyToLocalView(g,b),r.set(f,b);const v=(a.get(h.batchId)||qe()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,b=f.value,v=Hk();b.forEach((x=>{if(!l.has(x)){const E=Yk(t.get(x),r.get(x));E!==null&&v.set(x,E),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ce.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ce.resolve(Ya());let h=Ru,f=l;return c.next((g=>ce.forEach(g,((b,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(b)?ce.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{f=f.insert(b,x)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,f,g,qe()))).next((b=>({batchId:h,changes:Bk(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((r=>{let a=iu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(e,l).next((h=>ce.forEach(h,(f=>{const g=(function(v,x){return new Lo(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((b=>{b.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((f,g)=>{const b=g.getKey();c.get(b)===null&&(c=c.insert(b,wn.newInvalidDocument(b)))}));let h=iu();return c.forEach(((f,g)=>{const b=l.get(f);b!==void 0&&hu(b.mutation,g,nr.empty(),bt.now()),um(t,g)&&(h=h.insert(f,g))})),h}))}}class WI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:yi(a.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:PI(a.bundledQuery),readTime:yi(a.readTime)}})(t)),ce.resolve()}}class XI{constructor(){this.overlays=new kt(Ae.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ya();return ce.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),ce.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const a=Ya(),l=t.length+1,c=new Ae(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&f.largestBatchId>r&&a.set(f.getKey(),f)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new kt(((g,b)=>g-b));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let b=l.get(g.largestBatchId);b===null&&(b=Ya(),l=l.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const h=Ya(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,b)=>h.set(g,b))),!(h.size()>=a)););return ce.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new mI(t,r));let l=this.qr.get(t);l===void 0&&(l=qe(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class KI{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}class Lb{constructor(){this.Qr=new Jt(rn.$r),this.Ur=new Jt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new rn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new rn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ae(new ft([])),r=new rn(t,e),a=new rn(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new ft([])),r=new rn(t,e),a=new rn(t,e+1);let l=qe();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new rn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}class ZI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(rn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fI(l,t,r,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new rn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Nb:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const h=this.Xr(c.Yr);l.push(h)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jt(Fe);return t.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{r=r.add(h.Yr)}))})),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Ae.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Ae(l),0);let h=new Jt(Fe);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Yr)),!0)}),c),ce.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){nt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new rn(t,0),a=this.Zr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class JI{constructor(e){this.ri=e,this.docs=(function(){return new kt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=ts();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():wn.newInvalidDocument(a))})),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=ts();const c=t.path,h=new Ae(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:b}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||CM(TM(b),r)<=0||(a.has(b.key)||um(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ne(9500)}ii(e,t){return ce.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new e5(this)}getSize(e){return ce.resolve(this.size)}}class e5 extends $I{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class t5{constructor(e){this.persistence=e,this.si=new ll((t=>zb(t)),jb),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Lb,this.targetCount=0,this.ai=To.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new To(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}class lA{constructor(e,t){this.ui={},this.overlays={},this.ci=new sm(0),this.li=!1,this.li=!0,this.hi=new KI,this.referenceDelegate=e(this),this.Pi=new t5(this),this.indexManager=new LI,this.remoteDocumentCache=(function(a){return new JI(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new VI(t),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new ZI(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const a=new n5(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class n5 extends RM{constructor(e){super(),this.currentSequenceNumber=e}}class Ub{constructor(e){this.persistence=e,this.Ri=new Lb,this.Vi=null}static mi(e){return new Ub(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(r=>{const a=Ae.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ze.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Af{constructor(e,t){this.persistence=e,this.pi=new ll((r=>jM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=GI(this,t)}static mi(e,t){return new Af(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ce.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ce.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((h=>{h||(r++,l.removeEntry(c,ze.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=tf(e.data.value)),t}br(e,t,r){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ce.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bb{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=qe(),a=qe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Bb(e,t.fromCache,r,a)}}class r5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class i5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return e4()?8:DM(Zj())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new r5;return this.Ss(e,t,c).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(ao()<=Qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(ao()<=Qe.DEBUG&&ye("QueryEngine","Query:",lo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(ao()<=Qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):ce.resolve())}ys(e,t){if(mw(t))return ce.resolve(null);let r=bi(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Ef(t,null,"F"),r=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=qe(...l);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const g=this.Ds(t,h);return this.Cs(t,g,c,f.readTime)?this.ys(e,Ef(t,null,"F")):this.vs(e,g,t,f)}))))})))))}ws(e,t,r,a){return mw(t)||a.isEqual(ze.min())?ce.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?ce.resolve(null):(ao()<=Qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),lo(t)),this.vs(e,c,t,AM(a,Ru)).next((h=>h)))}))}Ds(e,t){let r=new Jt(Lk(e));return t.forEach(((a,l)=>{um(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return ao()<=Qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",lo(t)),this.ps.getDocumentsMatchingQuery(e,t,Js.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Hb="LocalStore",s5=3e8;class a5{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new kt(Fe),this.xs=new ll((l=>zb(l)),jb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function l5(n,e,t,r){return new a5(n,e,t,r)}async function oA(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let f=qe();for(const g of a){c.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}for(const g of l){h.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}return t.localDocuments.getDocuments(r,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function o5(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,b){const v=g.batch,x=v.keys();let E=ce.resolve();return x.forEach((A=>{E=E.next((()=>b.getEntry(f,A))).next((N=>{const C=g.docVersions.get(A);nt(C!==null,48541),N.version.compareTo(C)<0&&(v.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),b.addEntry(N)))}))})),E.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=qe();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function cA(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function c5(n,e){const t=Me(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((b,v)=>{const x=a.get(v);if(!x)return;h.push(t.Pi.removeMatchingKeys(l,b.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,b.addedDocuments,v))));let E=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(bn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):b.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(b.resumeToken,r)),a=a.insert(v,E),(function(N,C,D){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=s5?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(x,E,b)&&h.push(t.Pi.updateTargetData(l,E))}));let f=ts(),g=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))})),h.push(u5(l,c,e.documentUpdates).next((b=>{f=b.ks,g=b.qs}))),!r.isEqual(ze.min())){const b=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(b)}return ce.waitFor(h).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,f,g))).next((()=>f))})).then((l=>(t.Ms=a,l)))}function u5(n,e,t){let r=qe(),a=qe();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=ts();return t.forEach(((h,f)=>{const g=l.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ye(Hb,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function d5(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Nb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function h5(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,ce.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new Bs(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function q0(n,e,t){const r=Me(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Po(c))throw c;ye(Hb,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Tw(n,e,t){const r=Me(n);let a=ze.min(),l=qe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,b){const v=Me(f),x=v.xs.get(b);return x!==void 0?ce.resolve(v.Ms.get(x)):v.Pi.getTargetData(g,b)})(r,c,bi(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{l=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:ze.min(),t?l:qe()))).next((h=>(f5(r,ZM(e),h),{documents:h,Qs:l})))))}function f5(n,e,t){let r=n.Os.get(e)||ze.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class Cw{constructor(){this.activeTargetIds=iI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m5{constructor(){this.Mo=new Cw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class g5{Oo(e){}shutdown(){}}const Nw="ConnectivityMonitor";class Rw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Nw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hh=null;function G0(){return Hh===null?Hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hh++,"0x"+Hh.toString(16)}const Wp="RestConnection",p5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===xf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=G0(),h=this.zo(e,t.toUriEncodedString());ye(Wp,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:g}=new URL(h),b=Gu(g);return this.Jo(e,h,f,r,b).then((v=>(ye(Wp,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw _o(Wp,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",r),v}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=p5[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class y5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class v5 extends b5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=G0();return new Promise(((h,f)=>{const g=new hk;g.setWithCredentials(!0),g.listenOnce(fk.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ef.NO_ERROR:const v=g.getResponseJson();ye(vn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case ef.TIMEOUT:ye(vn,`RPC '${e}' ${c} timed out`),f(new be(se.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const x=g.getStatus();if(ye(vn,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E?.error;if(A&&A.status&&A.message){const N=(function(D){const O=D.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(O)>=0?O:se.UNKNOWN})(A.status);f(new be(N,A.message))}else f(new be(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new be(se.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(vn,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);ye(vn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",b,r,15)}))}T_(e,t,r){const a=G0(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=pk(),h=gk(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const b=l.join("");ye(vn,`Creating RPC '${e}' stream ${a}: ${b}`,f);const v=c.createWebChannel(b,f);this.I_(v);let x=!1,E=!1;const A=new y5({Yo:C=>{E?ye(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(x||(ye(vn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),ye(vn,`RPC '${e}' stream ${a} sending:`,C),v.send(C))},Zo:()=>v.close()}),N=(C,D,O)=>{C.listen(D,(F=>{try{O(F)}catch(L){setTimeout((()=>{throw L}),0)}}))};return N(v,ru.EventType.OPEN,(()=>{E||(ye(vn,`RPC '${e}' stream ${a} transport opened.`),A.o_())})),N(v,ru.EventType.CLOSE,(()=>{E||(E=!0,ye(vn,`RPC '${e}' stream ${a} transport closed`),A.a_(),this.E_(v))})),N(v,ru.EventType.ERROR,(C=>{E||(E=!0,_o(vn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),A.a_(new be(se.UNAVAILABLE,"The operation could not be completed")))})),N(v,ru.EventType.MESSAGE,(C=>{if(!E){const D=C.data[0];nt(!!D,16349);const O=D,F=O?.error||O[0]?.error;if(F){ye(vn,`RPC '${e}' stream ${a} received error:`,F);const L=F.status;let W=(function(k){const j=Yt[k];if(j!==void 0)return Xk(j)})(L),q=F.message;W===void 0&&(W=se.INTERNAL,q="Unknown error status: "+L+" with message "+F.message),E=!0,A.a_(new be(W,q)),v.close()}else ye(vn,`RPC '${e}' stream ${a} received:`,D),A.u_(D)}})),N(h,mk.STAT_EVENT,(C=>{C.stat===j0.PROXY?ye(vn,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===j0.NOPROXY&&ye(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Xp(){return typeof document<"u"?document:null}function gm(n){return new EI(n,!0)}class uA{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Dw="PersistentStream";class dA{constructor(e,t,r,a,l,c,h,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new be(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(Dw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(Dw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x5 extends dA{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=AI(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?yi(c.readTime):ze.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=F0(this.serializer),t.addTarget=(function(l,c){let h;const f=c.target;if(h=P0(f)?{documents:NI(l,f)}:{query:RI(l,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Jk(l,c.resumeToken);const g=U0(l,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=kf(l,c.snapshotVersion.toTimestamp());const g=U0(l,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=zI(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=F0(this.serializer),t.removeTarget=e,this.q_(t)}}class _5 extends dA{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=CI(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=F0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>TI(this.serializer,r)))};this.q_(t)}}class w5{}class E5 extends w5{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,B0(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(se.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,B0(t,r),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class S5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const tl="RemoteStore";class k5{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ol(this)&&(ye(tl,"Restarting streams for network reachability change."),await(async function(f){const g=Me(f);g.Ea.add(4),await Wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await pm(g)})(this))}))})),this.Ra=new S5(r,a)}}async function pm(n){if(ol(n))for(const e of n.da)await e(!0)}async function Wu(n){for(const e of n.da)await e(!1)}function hA(n,e){const t=Me(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),$b(t)?Gb(t):Uo(t).O_()&&qb(t,e))}function Fb(n,e){const t=Me(n),r=Uo(t);t.Ia.delete(e),r.O_()&&fA(t,e),t.Ia.size===0&&(r.O_()?r.L_():ol(t)&&t.Ra.set("Unknown"))}function qb(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(n).Y_(e)}function fA(n,e){n.Va.Ue(e),Uo(n).Z_(e)}function Gb(n){n.Va=new vI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Uo(n).start(),n.Ra.ua()}function $b(n){return ol(n)&&!Uo(n).x_()&&n.Ia.size>0}function ol(n){return Me(n).Ea.size===0}function mA(n){n.Va=void 0}async function A5(n){n.Ra.set("Online")}async function T5(n){n.Ia.forEach(((e,t)=>{qb(n,e)}))}async function C5(n,e){mA(n),$b(n)?(n.Ra.ha(e),Gb(n)):n.Ra.set("Unknown")}async function N5(n,e,t){if(n.Ra.set("Online"),e instanceof Zk&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(r){ye(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tf(n,r)}else if(e instanceof sf?n.Va.Ze(e):e instanceof Kk?n.Va.st(e):n.Va.tt(e),!t.isEqual(ze.min()))try{const r=await cA(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const b=l.Ia.get(g);b&&l.Ia.set(g,b.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const b=l.Ia.get(f);if(!b)return;l.Ia.set(f,b.withResumeToken(bn.EMPTY_BYTE_STRING,b.snapshotVersion)),fA(l,f);const v=new Bs(b.target,f,g,b.sequenceNumber);qb(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ye(tl,"Failed to raise snapshot:",r),await Tf(n,r)}}async function Tf(n,e,t){if(!Po(e))throw e;n.Ea.add(1),await Wu(n),n.Ra.set("Offline"),t||(t=()=>cA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(tl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await pm(n)}))}function gA(n,e){return e().catch((t=>Tf(n,t,e)))}async function bm(n){const e=Me(n),t=ra(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nb;for(;R5(e);)try{const a=await d5(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,D5(e,a)}catch(a){await Tf(e,a)}pA(e)&&bA(e)}function R5(n){return ol(n)&&n.Ta.length<10}function D5(n,e){n.Ta.push(e);const t=ra(n);t.O_()&&t.X_&&t.ea(e.mutations)}function pA(n){return ol(n)&&!ra(n).x_()&&n.Ta.length>0}function bA(n){ra(n).start()}async function z5(n){ra(n).ra()}async function j5(n){const e=ra(n);for(const t of n.Ta)e.ea(t.mutations)}async function M5(n,e,t){const r=n.Ta.shift(),a=Ob.from(r,e,t);await gA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await bm(n)}async function I5(n,e){e&&ra(n).X_&&await(async function(r,a){if((function(c){return pI(c)&&c!==se.ABORTED})(a.code)){const l=r.Ta.shift();ra(r).B_(),await gA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await bm(r)}})(n,e),pA(n)&&bA(n)}async function zw(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),ye(tl,"RemoteStore received new credentials");const r=ol(t);t.Ea.add(3),await Wu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await pm(t)}async function O5(n,e){const t=Me(n);e?(t.Ea.delete(2),await pm(t)):e||(t.Ea.add(2),await Wu(t),t.Ra.set("Unknown"))}function Uo(n){return n.ma||(n.ma=(function(t,r,a){const l=Me(t);return l.sa(),new x5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:A5.bind(null,n),t_:T5.bind(null,n),r_:C5.bind(null,n),H_:N5.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),$b(n)?Gb(n):n.Ra.set("Unknown")):(await n.ma.stop(),mA(n))}))),n.ma}function ra(n){return n.fa||(n.fa=(function(t,r,a){const l=Me(t);return l.sa(),new _5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:z5.bind(null,n),r_:I5.bind(null,n),ta:j5.bind(null,n),na:M5.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await bm(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(tl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Qb{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,h=new Qb(e,t,c,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yb(n,e){if(es("AsyncQueue",`${e}: ${n}`),Po(n))return new be(se.UNAVAILABLE,`${e}: ${n}`);throw n}class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=iu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jw{constructor(){this.ga=new kt(Ae.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Co{constructor(e,t,r,a,l,c,h,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Co(e,t,mo.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class V5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class P5{constructor(){this.queries=Mw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Me(t),l=a.queries;a.queries=Mw(),l.forEach(((c,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new be(se.ABORTED,"Firestore shutting down"))}}function Mw(){return new ll((n=>Pk(n)),cm)}async function Wb(n,e){const t=Me(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new V5,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=Yb(c,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Kb(t)}async function Xb(n,e){const t=Me(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function L5(n,e){const t=Me(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.Sa)h.Fa(a)&&(r=!0);c.wa=a}}r&&Kb(t)}function U5(n,e,t){const r=Me(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function Kb(n){n.Ca.forEach((e=>{e.next()}))}var $0,Iw;(Iw=$0||($0={})).Ma="default",Iw.Cache="cache";class Zb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$0.Cache}}class yA{constructor(e){this.key=e}}class vA{constructor(e){this.key=e}}class B5{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Lk(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new jw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,v)=>{const x=a.get(b),E=um(this.query,v)?v:null,A=!!x&&this.mutatedKeys.has(x.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;x&&E?x.data.isEqual(E.data)?A!==N&&(r.track({type:3,doc:E}),C=!0):this.su(x,E)||(r.track({type:2,doc:E}),C=!0,(f&&this.eu(E,f)>0||g&&this.eu(E,g)<0)&&(h=!0)):!x&&E?(r.track({type:0,doc:E}),C=!0):x&&!E&&(r.track({type:1,doc:x}),C=!0,(f||g)&&(h=!0)),C&&(E?(c=c.add(E),l=N?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),r.track({type:1,doc:b})}return{tu:c,iu:r,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,v)=>(function(E,A){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:C})}};return N(E)-N(A)})(b.type,v.type)||this.eu(b.doc,v.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new Co(this.query,e.tu,l,c,e.mutatedKeys,f===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new vA(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new yA(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jb="SyncEngine";class H5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class F5{constructor(e){this.key=e,this.hu=!1}}class q5{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ll((h=>Pk(h)),cm),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Ae.comparator),this.Au=new Map,this.Ru=new Lb,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G5(n,e,t=!0){const r=kA(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await xA(r,e,t,!0),a}async function $5(n,e){const t=kA(n);await xA(t,e,!0,!1)}async function xA(n,e,t,r){const a=await h5(n.localStore,bi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return r&&(h=await Q5(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&hA(n.remoteStore,a),h}async function Q5(n,e,t,r,a){n.pu=(v,x,E)=>(async function(N,C,D,O){let F=C.view.ru(D);F.Cs&&(F=await Tw(N.localStore,C.query,!1).then((({documents:R})=>C.view.ru(R,F))));const L=O&&O.targetChanges.get(C.targetId),W=O&&O.targetMismatches.get(C.targetId)!=null,q=C.view.applyChanges(F,N.isPrimaryClient,L,W);return Vw(N,C.targetId,q.au),q.snapshot})(n,v,x,E);const l=await Tw(n.localStore,e,!0),c=new B5(e,l.Qs),h=c.ru(l.documents),f=Yu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),g=c.applyChanges(h,n.isPrimaryClient,f);Vw(n,t,g.au);const b=new H5(e,t,c);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function Y5(n,e,t){const r=Me(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!cm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await q0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Fb(r.remoteStore,a.targetId),Q0(r,a.targetId)})).catch(Vo)):(Q0(r,a.targetId),await q0(r.localStore,a.targetId,!0))}async function W5(n,e){const t=Me(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Fb(t.remoteStore,r.targetId))}async function X5(n,e,t){const r=rO(n);try{const a=await(function(c,h){const f=Me(c),g=bt.now(),b=h.reduce(((E,A)=>E.add(A.key)),qe());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let A=ts(),N=qe();return f.Ns.getEntries(E,b).next((C=>{A=C,A.forEach(((D,O)=>{O.isValidDocument()||(N=N.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,A))).next((C=>{v=C;const D=[];for(const O of h){const F=dI(O,v.get(O.key).overlayedDocument);F!=null&&D.push(new ua(O.key,F,Rk(F.value.mapValue),Dn.exists(!0)))}return f.mutationQueue.addMutationBatch(E,g,D,h)})).next((C=>{x=C;const D=C.applyToLocalDocumentSet(v,N);return f.documentOverlayCache.saveOverlays(E,C.batchId,D)}))})).then((()=>({batchId:x.batchId,changes:Bk(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new kt(Fe)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,t),await Xu(r,a.changes),await bm(r.remoteStore)}catch(a){const l=Yb(a,"Failed to persist write");t.reject(l)}}async function _A(n,e){const t=Me(n);try{const r=await c5(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?nt(c.hu,14607):a.removedDocuments.size>0&&(nt(c.hu,42227),c.hu=!1))})),await Xu(t,r,e)}catch(r){await Vo(r)}}function Ow(n,e,t){const r=Me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Me(c);f.onlineState=h;let g=!1;f.queries.forEach(((b,v)=>{for(const x of v.Sa)x.va(h)&&(g=!0)})),g&&Kb(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K5(n,e,t){const r=Me(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new kt(Ae.comparator);c=c.insert(l,wn.newNoDocument(l,ze.min()));const h=qe().add(l),f=new mm(ze.min(),new Map,new kt(Fe),c,h);await _A(r,f),r.du=r.du.remove(l),r.Au.delete(e),ey(r)}else await q0(r.localStore,e,!1).then((()=>Q0(r,e,t))).catch(Vo)}async function Z5(n,e){const t=Me(n),r=e.batch.batchId;try{const a=await o5(t.localStore,e);EA(t,r,null),wA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(t,a)}catch(a){await Vo(a)}}async function J5(n,e,t){const r=Me(n);try{const a=await(function(c,h){const f=Me(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return f.mutationQueue.lookupMutationBatch(g,h).next((v=>(nt(v!==null,37113),b=v.keys(),f.mutationQueue.removeMutationBatch(g,v)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,b,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>f.localDocuments.getDocuments(g,b)))}))})(r.localStore,e);EA(r,e,t),wA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Xu(r,a)}catch(a){await Vo(a)}}function wA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function EA(n,e,t){const r=Me(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Q0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||SA(n,r)}))}function SA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Fb(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ey(n))}function Vw(n,e,t){for(const r of t)r instanceof yA?(n.Ru.addReference(r.key,e),eO(n,r)):r instanceof vA?(ye(Jb,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||SA(n,r.key)):Ne(19791,{wu:r})}function eO(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ye(Jb,"New document in limbo: "+t),n.Eu.add(r),ey(n))}function ey(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(ft.fromString(e)),r=n.fu.next();n.Au.set(r,new F5(t)),n.du=n.du.insert(t,r),hA(n.remoteStore,new Bs(bi(om(t.path)),r,"TargetPurposeLimboResolution",sm.ce))}}async function Xu(n,e,t){const r=Me(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const b=g?!g.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(g){a.push(g);const b=Bb.As(f.targetId,g);l.push(b)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,g){const b=Me(f);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ce.forEach(g,(x=>ce.forEach(x.Es,(E=>b.persistence.referenceDelegate.addReference(v,x.targetId,E))).next((()=>ce.forEach(x.ds,(E=>b.persistence.referenceDelegate.removeReference(v,x.targetId,E)))))))))}catch(v){if(!Po(v))throw v;ye(Hb,"Failed to update sequence numbers: "+v)}for(const v of g){const x=v.targetId;if(!v.fromCache){const E=b.Ms.get(x),A=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(A);b.Ms=b.Ms.insert(x,N)}}})(r.localStore,l))}async function tO(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){ye(Jb,"User change. New user:",e.toKey());const r=await oA(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new be(se.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xu(t,r.Ls)}}function nO(n,e){const t=Me(n),r=t.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let a=qe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function kA(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K5.bind(null,e),e.Pu.H_=L5.bind(null,e.eventManager),e.Pu.yu=U5.bind(null,e.eventManager),e}function rO(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J5.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return l5(this.persistence,new i5,e.initialUser,this.serializer)}Cu(e){return new lA(Ub.mi,this.serializer)}Du(e){return new m5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class iO extends Cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nt(this.persistence.referenceDelegate instanceof Af,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new lA((r=>Af.mi(r,t)),this.serializer)}}class Y0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tO.bind(null,this.syncEngine),await O5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new P5})()}createDatastore(e){const t=gm(e.databaseInfo.databaseId),r=(function(l){return new v5(l)})(e.databaseInfo);return(function(l,c,h,f){return new E5(l,c,h,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,h){return new k5(r,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Ow(this.syncEngine,t,0)),(function(){return Rw.v()?new Rw:new g5})())}createSyncEngine(e,t){return(function(a,l,c,h,f,g,b){const v=new q5(a,l,c,h,f,g);return b&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Me(t);ye(tl,"RemoteStore shutting down."),r.Ea.add(5),await Wu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Y0.provider={build:()=>new Y0};class ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ia="FirestoreClient";class sO{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=xn.UNAUTHENTICATED,this.clientId=Cb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ye(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Yb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(ia,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await oA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Pw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aO(n);ye(ia,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>zw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>zw(e.remoteStore,a))),n._onlineComponents=e}async function aO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(ia,"Using user provided OfflineComponentProvider");try{await Kp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;_o("Error using user provided cache. Falling back to memory cache: "+t),await Kp(n,new Cf)}}else ye(ia,"Using default OfflineComponentProvider"),await Kp(n,new iO(void 0));return n._offlineComponents}async function AA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(ia,"Using user provided OnlineComponentProvider"),await Pw(n,n._uninitializedComponentsProvider._online)):(ye(ia,"Using default OnlineComponentProvider"),await Pw(n,new Y0))),n._onlineComponents}function lO(n){return AA(n).then((e=>e.syncEngine))}async function Nf(n){const e=await AA(n),t=e.eventManager;return t.onListen=G5.bind(null,e.syncEngine),t.onUnlisten=Y5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=W5.bind(null,e.syncEngine),t}function oO(n,e,t={}){const r=new Wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,g){const b=new ty({next:x=>{b.Nu(),c.enqueueAndForget((()=>Xb(l,v)));const E=x.docs.has(h);!E&&x.fromCache?g.reject(new be(se.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&f&&f.source==="server"?g.reject(new be(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new Zb(om(h.path),b,{includeMetadataChanges:!0,qa:!0});return Wb(l,v)})(await Nf(n),n.asyncQueue,e,t,r))),r.promise}function cO(n,e,t={}){const r=new Wi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,f,g){const b=new ty({next:x=>{b.Nu(),c.enqueueAndForget((()=>Xb(l,v))),x.fromCache&&f.source==="server"?g.reject(new be(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),v=new Zb(h,b,{includeMetadataChanges:!0,qa:!0});return Wb(l,v)})(await Nf(n),n.asyncQueue,e,t,r))),r.promise}function TA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Lw=new Map;const CA="firestore.googleapis.com",Uw=!0;class Bw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CA,this.ssl=Uw}else this.host=e.host,this.ssl=e.ssl??Uw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BI)throw new be(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ym{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mM;switch(r.type){case"firstParty":return new yM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Lw.get(t);r&&(ye("ComponentProvider","Removing Datastore"),Lw.delete(t),r.terminate())})(this),Promise.resolve()}}function uO(n,e,t,r={}){n=Rn(n,ym);const a=Gu(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(KS(`https://${h}`),JS("Firestore",!0)),l.host!==CA&&l.host!==h&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:r};if(!vo(f,c)&&(n._setSettings(f),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=xn.MOCK_USER;else{g=ZS(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new xn(v)}n._authCredentials=new gM(new yk(g,b))}}class rs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class zt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if($u(t,zt._jsonSchema))return new zt(e,r||null,new Ae(ft.fromString(t.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Xt("string",zt._jsonSchemaVersion),referencePath:Xt("string")};class Xs extends rs{constructor(e,t,r){super(e,t,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ae(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function gn(n,e,...t){if(n=Sn(n),vk("collection","path",e),n instanceof ym){const r=ft.fromString(e,...t);return ew(r),new Xs(n,null,r)}{if(!(n instanceof zt||n instanceof Xs))throw new be(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return ew(r),new Xs(n.firestore,null,r)}}function _t(n,e,...t){if(n=Sn(n),arguments.length===1&&(e=Cb.newId()),vk("doc","path",e),n instanceof ym){const r=ft.fromString(e,...t);return J_(r),new zt(n,null,new Ae(r))}{if(!(n instanceof zt||n instanceof Xs))throw new be(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return J_(r),new zt(n.firestore,n instanceof Xs?n.converter:null,new Ae(r))}}const Hw="AsyncQueue";class Fw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uA(this,"async_queue_retry"),this._c=()=>{const r=Xp();r&&ye(Hw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Xp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Xp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;ye(Hw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",qw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Qb.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Gw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Ei extends ym{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Fw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fw(e),this._firestoreClient=void 0,await e}}}function dO(n,e){const t=typeof n=="object"?n:ok(),r=typeof n=="string"?n:xf,a=ik(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=WS("firestore");l&&uO(a,...l)}return a}function Ku(n){if(n._terminated)throw new be(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hO(n),n._firestoreClient}function hO(n){const e=n._freezeSettings(),t=(function(a,l,c,h){return new OM(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new sO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(bn.fromBase64String(e))}catch(t){throw new be(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:Xt("string",wr._jsonSchemaVersion),bytes:Xt("string")};class Zu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bo{constructor(e){this._methodName=e}}class vi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if($u(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Xt("string",vi._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class xi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new xi(e.vectorValues);throw new be(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Xt("string",xi._jsonSchemaVersion),vectorValues:Xt("object")};const fO=/^__.*__$/;class mO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}class NA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class vm{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RA(this.Ac)&&fO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gm(e)}Cc(e,t,r,a=!1){return new vm({Ac:e,methodName:t,Dc:r,path:mn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ju(n){const e=n._freezeSettings(),t=gm(n._databaseId);return new gO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ny(n,e,t,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);ay("Data must be an object, but it was:",c,r);const h=MA(r,c);let f,g;if(l.merge)f=new nr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const v of l.mergeFields){const x=W0(e,v,t);if(!c.contains(x))throw new be(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);OA(b,x)||b.push(x)}f=new nr(b),g=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,g=c.fieldTransforms;return new mO(new Bn(h),f,g)}class xm extends Bo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}function DA(n,e,t){return new vm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ry extends Bo{_toFieldTransform(e){return new Ib(e.path,new Iu)}isEqual(e){return e instanceof ry}}class iy extends Bo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=DA(this,e,!0),r=this.vc.map((l=>cl(l,t))),a=new ko(r);return new Ib(e.path,a)}isEqual(e){return e instanceof iy&&vo(this.vc,e.vc)}}class sy extends Bo{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=DA(this,e,!0),r=this.vc.map((l=>cl(l,t))),a=new Ao(r);return new Ib(e.path,a)}isEqual(e){return e instanceof sy&&vo(this.vc,e.vc)}}function zA(n,e,t,r){const a=n.Cc(1,e,t);ay("Data must be an object, but it was:",a,r);const l=[],c=Bn.empty();ca(r,((f,g)=>{const b=ly(e,f,t);g=Sn(g);const v=a.yc(b);if(g instanceof xm)l.push(b);else{const x=cl(g,v);x!=null&&(l.push(b),c.set(b,x))}}));const h=new nr(l);return new NA(c,h,a.fieldTransforms)}function jA(n,e,t,r,a,l){const c=n.Cc(1,e,t),h=[W0(e,r,t)],f=[a];if(l.length%2!=0)throw new be(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(W0(e,l[x])),f.push(l[x+1]);const g=[],b=Bn.empty();for(let x=h.length-1;x>=0;--x)if(!OA(g,h[x])){const E=h[x];let A=f[x];A=Sn(A);const N=c.yc(E);if(A instanceof xm)g.push(E);else{const C=cl(A,N);C!=null&&(g.push(E),b.set(E,C))}}const v=new nr(g);return new NA(b,v,c.fieldTransforms)}function pO(n,e,t,r=!1){return cl(t,n.Cc(r?4:3,e))}function cl(n,e){if(IA(n=Sn(n)))return ay("Unsupported field value:",e,n),MA(n,e);if(n instanceof Bo)return(function(r,a){if(!RA(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const h of r){let f=cl(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sI(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=bt.fromDate(r);return{timestampValue:kf(a.serializer,l)}}if(r instanceof bt){const l=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(a.serializer,l)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:Jk(a.serializer,r._byteString)};if(r instanceof zt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pb(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof xi)return(function(c,h){return{mapValue:{fields:{[Ck]:{stringValue:Nk},[_f]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Mb(h.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${im(r)}`)})(n,e)}function MA(n,e){const t={};return wk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(n,((r,a)=>{const l=cl(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function IA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof vi||n instanceof wr||n instanceof zt||n instanceof Bo||n instanceof xi)}function ay(n,e,t){if(!IA(t)||!xk(t)){const r=im(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function W0(n,e,t){if((e=Sn(e))instanceof Zu)return e._internalPath;if(typeof e=="string")return ly(n,e);throw Rf("Field path arguments must be of type string or ",n,!1,void 0,t)}const bO=new RegExp("[~\\*/\\[\\]]");function ly(n,e,t){if(e.search(bO)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zu(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rf(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new be(se.INVALID_ARGUMENT,h+n+f)}function OA(n,e){return n.some((t=>t.isEqual(e)))}class VA{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_m("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yO extends VA{data(){return super.data()}}function _m(n,e){return typeof e=="string"?ly(n,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}function PA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class cy extends oy{}function Si(n,e,...t){let r=[];e instanceof oy&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((f=>f instanceof uy)).length,h=l.filter((f=>f instanceof wm)).length;if(c>1||c>0&&h>0)throw new be(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class wm extends cy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wm(e,t,r)}_apply(e){const t=this._parse(e);return UA(e._query,t),new rs(e.firestore,e.converter,L0(e._query,t))}_parse(e){const t=Ju(e.firestore);return(function(l,c,h,f,g,b,v){let x;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new be(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Qw(v,b);const A=[];for(const N of v)A.push($w(f,l,N));x={arrayValue:{values:A}}}else x=$w(f,l,v)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Qw(v,b),x=pO(h,c,v,b==="in"||b==="not-in");return Wt.create(g,b,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Df(n,e,t){const r=e,a=_m("where",n);return wm._create(a,r,t)}class uy extends oy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)UA(c,f),c=L0(c,f)})(e._query,t),new rs(e.firestore,e.converter,L0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dy extends cy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dy(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new be(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(l,c)})(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Lo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function Hn(n,e="asc"){const t=e,r=_m("orderBy",n);return dy._create(r,t)}class hy extends cy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new hy(e,t,r)}_apply(e){return new rs(e.firestore,e.converter,Ef(e._query,this._limit,this._limitType))}}function LA(n){return kM("limit",n),hy._create("limit",n,"F")}function $w(n,e,t){if(typeof(t=Sn(t))=="string"){if(t==="")throw new be(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vk(e)&&t.indexOf("/")!==-1)throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ft.fromString(t));if(!Ae.isDocumentKey(r))throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ow(n,new Ae(r))}if(t instanceof zt)return ow(n,t._key);throw new be(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(t)}.`)}function Qw(n,e){if(!Array.isArray(n)||n.length===0)throw new be(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UA(n,e){const t=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new be(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vO{convertValue(e,t="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ca(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[_f].arrayValue?.values?.map((r=>Pt(r.doubleValue)));return new xi(t)}convertGeoPoint(e){return new vi(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const t=ea(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ft.fromString(e);nt(sA(r),9688,{name:e});const a=new zu(r.get(1),r.get(3)),l=new Ae(r.popFirst(5));return a.isEqual(t)||es(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function fy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends VA{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Xt("string",Xa._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class af extends Xa{data(e={}){return super.data(e)}}class Ka{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new au(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new af(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new af(a._firestore,a._userDataWriter,h.doc.key,h.doc,new au(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new af(a._firestore,a._userDataWriter,h.doc.key,h.doc,new au(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,b=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),b=c.indexOf(h.doc.key)),{type:xO(h.type),doc:f,oldIndex:g,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}function zf(n){n=Rn(n,zt);const e=Rn(n.firestore,Ei);return oO(Ku(e),n._key).then((t=>HA(e,n,t)))}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Xt("string",Ka._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class my extends vO{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}}function BA(n){n=Rn(n,rs);const e=Rn(n.firestore,Ei),t=Ku(e),r=new my(e);return PA(n._query),cO(t,n._query).then((a=>new Ka(e,r,n,a)))}function _O(n,e,t){n=Rn(n,zt);const r=Rn(n.firestore,Ei),a=fy(n.converter,e,t);return ed(r,[ny(Ju(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Dn.none())])}function gi(n,e,t,...r){n=Rn(n,zt);const a=Rn(n.firestore,Ei),l=Ju(a);let c;return c=typeof(e=Sn(e))=="string"||e instanceof Zu?jA(l,"updateDoc",n._key,e,t,r):zA(l,"updateDoc",n._key,e),ed(a,[c.toMutation(n._key,Dn.exists(!0))])}function Em(n){return ed(Rn(n.firestore,Ei),[new fm(n._key,Dn.none())])}function jf(n,e){const t=Rn(n.firestore,Ei),r=_t(n),a=fy(n.converter,e);return ed(t,[ny(Ju(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Dn.exists(!1))]).then((()=>r))}function nl(n,...e){n=Sn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Gw(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Gw(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let l,c,h;if(n instanceof zt)c=Rn(n.firestore,Ei),h=om(n._key.path),l={next:f=>{e[r]&&e[r](HA(c,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Rn(n,rs);c=Rn(f.firestore,Ei),h=f._query;const g=new my(c);l={next:b=>{e[r]&&e[r](new Ka(c,g,f,b))},error:e[r+1],complete:e[r+2]},PA(n._query)}return(function(g,b,v,x){const E=new ty(x),A=new Zb(b,E,v);return g.asyncQueue.enqueueAndForget((async()=>Wb(await Nf(g),A))),()=>{E.Nu(),g.asyncQueue.enqueueAndForget((async()=>Xb(await Nf(g),A)))}})(Ku(c),h,a,l)}function ed(n,e){return(function(r,a){const l=new Wi;return r.asyncQueue.enqueueAndForget((async()=>X5(await lO(r),a,l))),l.promise})(Ku(n),e)}function HA(n,e,t){const r=t.docs.get(e._key),a=new my(n);return new Xa(n,a,e._key,r,new au(t.hasPendingWrites,t.fromCache),e.converter)}class wO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ju(e)}set(e,t,r){this._verifyNotCommitted();const a=Zp(e,this._firestore),l=fy(a.converter,t,r),c=ny(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Dn.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=Zp(e,this._firestore);let c;return c=typeof(t=Sn(t))=="string"||t instanceof Zu?jA(this._dataReader,"WriteBatch.update",l._key,t,r,a):zA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zp(e,this._firestore);return this._mutations=this._mutations.concat(new fm(t._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zp(n,e){if((n=Sn(n)).firestore!==e)throw new be(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function fu(){return new ry("serverTimestamp")}function EO(...n){return new iy("arrayUnion",n)}function SO(...n){return new sy("arrayRemove",n)}function Mf(n){return Ku(n=Rn(n,Ei)),new wO(n,(e=>ed(n,e)))}(function(e,t=!0){(function(a){Oo=a})(ak),Cu(new xo("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new Ei(new pM(r.getProvider("auth-internal")),new vM(c,r.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new be(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(g.options.projectId,b)})(c,a),c);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Ys(W_,X_,e),Ys(W_,X_,"esm2020")})();var kO="firebase",AO="12.7.0";Ys(kO,AO,"app");const FA="firebasestorage.googleapis.com",qA="storageBucket",TO=120*1e3,CO=600*1e3,NO=1e3;class At extends al{constructor(e,t,r=0){super(Jp(e),`Firebase Storage: ${t} (${Jp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Jp(n){return"storage/"+n}function gy(){const n="An unknown error occurred, please check the error payload for server response.";return new At(yt.UNKNOWN,n)}function RO(n){return new At(yt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function DO(n){return new At(yt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(yt.UNAUTHENTICATED,n)}function jO(){return new At(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MO(n){return new At(yt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function GA(){return new At(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $A(){return new At(yt.CANCELED,"User canceled the upload/download.")}function IO(n){return new At(yt.INVALID_URL,"Invalid URL '"+n+"'.")}function OO(n){return new At(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function VO(){return new At(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qA+"' property when initializing the app?")}function QA(){return new At(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PO(){return new At(yt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function LO(){return new At(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UO(n){return new At(yt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function X0(n){return new At(yt.INVALID_ARGUMENT,n)}function YA(){return new At(yt.APP_DELETED,"The Firebase app was deleted.")}function BO(n){return new At(yt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(n,e){return new At(yt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Kc(n){throw new At(yt.INTERNAL_ERROR,"Internal error: "+n)}class rr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rr.makeFromUrl(e,t)}catch{return new rr(e,"")}if(r.path==="")return r;throw OO(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function g(L){L.path_=decodeURIComponent(L.path)}const b="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${b}/b/${a}/o${x}`,"i"),A={bucket:1,path:3},N=t===FA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",D=new RegExp(`^https?://${N}/${a}/${C}`,"i"),F=[{regex:h,indices:f,postModify:l},{regex:E,indices:A,postModify:g},{regex:D,indices:{bucket:1,path:2},postModify:g}];for(let L=0;L<F.length;L++){const W=F[L],q=W.regex.exec(e);if(q){const R=q[W.indices.bucket];let k=q[W.indices.path];k||(k=""),r=new rr(R,k),W.postModify(r);break}}if(r==null)throw IO(e);return r}}class HO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function FO(n,e,t){let r=1,a=null,l=null,c=!1,h=0;function f(){return h===2}let g=!1;function b(...C){g||(g=!0,e.apply(null,C))}function v(C){a=setTimeout(()=>{a=null,n(E,f())},C)}function x(){l&&clearTimeout(l)}function E(C,...D){if(g){x();return}if(C){x(),b.call(null,C,...D);return}if(f()||c){x(),b.call(null,C,...D);return}r<64&&(r*=2);let F;h===1?(h=2,F=0):F=(r+Math.random())*1e3,v(F)}let A=!1;function N(C){A||(A=!0,x(),!g&&(a!==null?(C||(h=2),clearTimeout(a),v(0)):C||(h=1)))}return v(0),l=setTimeout(()=>{c=!0,N(!0)},t),N}function qO(n){n(!1)}function GO(n){return n!==void 0}function $O(n){return typeof n=="function"}function QO(n){return typeof n=="object"&&!Array.isArray(n)}function Sm(n){return typeof n=="string"||n instanceof String}function Yw(n){return py()&&n instanceof Blob}function py(){return typeof Blob<"u"}function Ww(n,e,t,r){if(r<e)throw X0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw X0(`Invalid value for '${n}'. Expected ${t} or less.`)}function td(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function WA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Za;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Za||(Za={}));function XA(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class YO{constructor(e,t,r,a,l,c,h,f,g,b,v,x=!0,E=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,N)=>{this.resolve_=A,this.reject_=N,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Fh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Za.NO_ERROR,f=l.getStatus();if(!h||XA(f,this.additionalRetryCodes_)&&this.retry){const b=l.getErrorCode()===Za.ABORT;r(!1,new Fh(!1,null,b));return}const g=this.successCodes_.indexOf(f)!==-1;r(!0,new Fh(g,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());GO(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=gy();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?YA():$A();c(f)}else{const f=GA();c(f)}};this.canceled_?t(!1,new Fh(!1,null,!0)):this.backoffId_=FO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function WO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function XO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ZO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function JO(n,e,t,r,a,l,c=!0,h=!1){const f=WA(n.urlParams),g=n.url+f,b=Object.assign({},n.headers);return KO(b,e),WO(b,t),XO(b,l),ZO(b,r),new YO(g,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,h)}function e3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function t3(...n){const e=e3();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(py())return new Blob(n);throw new At(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function n3(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function r3(n){if(typeof atob>"u")throw UO("base-64");return atob(n)}const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class e0{constructor(e,t){this.data=e,this.contentType=t||null}}function i3(n,e){switch(n){case pi.RAW:return new e0(KA(e));case pi.BASE64:case pi.BASE64URL:return new e0(ZA(n,e));case pi.DATA_URL:return new e0(a3(e),l3(e))}throw gy()}function KA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,c=n.charCodeAt(++t);r=65536|(l&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function s3(n){let e;try{e=decodeURIComponent(n)}catch{throw mu(pi.DATA_URL,"Malformed data URL.")}return KA(e)}function ZA(n,e){switch(n){case pi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw mu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw mu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=r3(e)}catch(a){throw a.message.includes("polyfill")?a:mu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class JA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw mu(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=o3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function a3(n){const e=new JA(n);return e.base64?ZA(pi.BASE64,e.rest):s3(e.rest)}function l3(n){return new JA(n).contentType}function o3(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Us{constructor(e,t){let r=0,a="";Yw(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Yw(this.data_)){const r=this.data_,a=n3(r,e,t);return a===null?null:new Us(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Us(r,!0)}}static getBlob(...e){if(py()){const t=e.map(r=>r instanceof Us?r.data_:r);return new Us(t3.apply(null,t))}else{const t=e.map(c=>Sm(c)?i3(pi.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)a[l++]=c[h]}),new Us(a,!0)}}uploadData(){return this.data_}}function eT(n){let e;try{e=JSON.parse(n)}catch{return null}return QO(e)?e:null}function c3(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function u3(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function tT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function d3(n,e){return e}class Nn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||d3}}let qh=null;function h3(n){return!Sm(n)||n.length<2?n:tT(n)}function nT(){if(qh)return qh;const n=[];n.push(new Nn("bucket")),n.push(new Nn("generation")),n.push(new Nn("metageneration")),n.push(new Nn("name","fullPath",!0));function e(l,c){return h3(c)}const t=new Nn("name");t.xform=e,n.push(t);function r(l,c){return c!==void 0?Number(c):c}const a=new Nn("size");return a.xform=r,n.push(a),n.push(new Nn("timeCreated")),n.push(new Nn("updated")),n.push(new Nn("md5Hash",null,!0)),n.push(new Nn("cacheControl",null,!0)),n.push(new Nn("contentDisposition",null,!0)),n.push(new Nn("contentEncoding",null,!0)),n.push(new Nn("contentLanguage",null,!0)),n.push(new Nn("contentType",null,!0)),n.push(new Nn("metadata","customMetadata",!0)),qh=n,qh}function f3(n,e){function t(){const r=n.bucket,a=n.fullPath,l=new rr(r,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function m3(n,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return f3(r,n),r}function rT(n,e,t){const r=eT(e);return r===null?null:m3(n,r,t)}function g3(n,e,t,r){const a=eT(e);if(a===null||!Sm(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const b=n.bucket,v=n.fullPath,x="/b/"+c(b)+"/o/"+c(v),E=td(x,t,r),A=WA({alt:"media",token:g});return E+A})[0]}function iT(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Ho{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xi(n){if(!n)throw gy()}function by(n,e){function t(r,a){const l=rT(n,a,e);return Xi(l!==null),l}return t}function p3(n,e){function t(r,a){const l=rT(n,a,e);return Xi(l!==null),g3(l,a,n.host,n._protocol)}return t}function nd(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=jO():a=zO():t.getStatus()===402?a=DO(n.bucket):t.getStatus()===403?a=MO(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function sT(n){const e=nd(n);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=RO(n.path)),l.serverResponse=a.serverResponse,l}return t}function b3(n,e,t){const r=e.fullServerUrl(),a=td(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,h=new Ho(a,l,by(n,t),c);return h.errorHandler=sT(e),h}function y3(n,e,t){const r=e.fullServerUrl(),a=td(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,h=new Ho(a,l,p3(n,t),c);return h.errorHandler=sT(e),h}function v3(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function aT(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=v3(null,e)),r}function x3(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let F="";for(let L=0;L<2;L++)F=F+Math.random().toString().slice(2);return F}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const g=aT(e,r,a),b=iT(g,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+f+`\r
Content-Type: `+g.contentType+`\r
\r
`,x=`\r
--`+f+"--",E=Us.getBlob(v,r,x);if(E===null)throw QA();const A={name:g.fullPath},N=td(l,n.host,n._protocol),C="POST",D=n.maxUploadRetryTime,O=new Ho(N,C,by(n,t),D);return O.urlParams=A,O.headers=c,O.body=E.uploadData(),O.errorHandler=nd(e),O}class If{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function yy(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xi(!1)}return Xi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function _3(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c=aT(e,r,a),h={name:c.fullPath},f=td(l,n.host,n._protocol),g="POST",b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},v=iT(c,t),x=n.maxUploadRetryTime;function E(N){yy(N);let C;try{C=N.getResponseHeader("X-Goog-Upload-URL")}catch{Xi(!1)}return Xi(Sm(C)),C}const A=new Ho(f,g,E,x);return A.urlParams=h,A.headers=b,A.body=v,A.errorHandler=nd(e),A}function w3(n,e,t,r){const a={"X-Goog-Upload-Command":"query"};function l(g){const b=yy(g,["active","final"]);let v=null;try{v=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xi(!1)}v||Xi(!1);const x=Number(v);return Xi(!isNaN(x)),new If(x,r.size(),b==="final")}const c="POST",h=n.maxUploadRetryTime,f=new Ho(t,c,l,h);return f.headers=a,f.errorHandler=nd(e),f}const Xw=256*1024;function E3(n,e,t,r,a,l,c,h){const f=new If(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw PO();const g=f.total-f.current;let b=g;a>0&&(b=Math.min(b,a));const v=f.current,x=v+b;let E="";b===0?E="finalize":g===b?E="upload, finalize":E="upload";const A={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${f.current}`},N=r.slice(v,x);if(N===null)throw QA();function C(L,W){const q=yy(L,["active","final"]),R=f.current+b,k=r.size();let j;return q==="final"?j=by(e,l)(L,W):j=null,new If(R,k,q==="final",j)}const D="POST",O=e.maxUploadRetryTime,F=new Ho(t,D,C,O);return F.headers=A,F.body=N.uploadData(),F.progressCallback=h||null,F.errorHandler=nd(n),F}const Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function t0(n){switch(n){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;case"error":return Un.ERROR;default:return Un.ERROR}}class S3{constructor(e,t,r){if($O(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function no(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class k3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw Kc("cannot .send() more than once");if(Gu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class A3 extends k3{initXhr(){this.xhr_.responseType="text"}}function uo(){return new A3}class T3{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=nT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(yt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(XA(a.status,[]))if(l)a=GA();else{this.sleepTime=Math.max(this.sleepTime*2,NO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(yt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=_3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=w3(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,uo,t,r);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Xw*this._chunkMultiplier,t=new If(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=E3(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const h=this._ref.storage._makeRequest(c,uo,a,l,!1);this._request=h,h.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Xw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=b3(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=x3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=$A(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=t0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const l=new S3(t||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(t0(this._state)){case Un.SUCCESS:no(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:const t=this._reject;no(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(t0(this._state)){case Un.RUNNING:case Un.PAUSED:e.next&&no(e.next.bind(e,this.snapshot))();break;case Un.SUCCESS:e.complete&&no(e.complete.bind(e))();break;case Un.CANCELED:case Un.ERROR:e.error&&no(e.error.bind(e,this._error))();break;default:e.error&&no(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class rl{constructor(e,t){this._service=e,t instanceof rr?this._location=t:this._location=rr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rl(e,t)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tT(this._location.path)}get storage(){return this._service}get parent(){const e=c3(this._location.path);if(e===null)return null;const t=new rr(this._location.bucket,e);return new rl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw BO(e)}}function C3(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new T3(n,new Us(e),t)}function N3(n){n._throwIfRoot("getDownloadURL");const e=y3(n.storage,n._location,nT());return n.storage.makeRequestWithTokens(e,uo).then(t=>{if(t===null)throw LO();return t})}function R3(n,e){const t=u3(n._location.path,e),r=new rr(n._location.bucket,t);return new rl(n.storage,r)}function D3(n){return/^[A-Za-z]+:\/\//.test(n)}function z3(n,e){return new rl(n,e)}function lT(n,e){if(n instanceof vy){const t=n;if(t._bucket==null)throw VO();const r=new rl(t,t._bucket);return e!=null?lT(r,e):r}else return e!==void 0?R3(n,e):n}function j3(n,e){if(e&&D3(e)){if(n instanceof vy)return z3(n,e);throw X0("To use ref(service, url), the first argument must be a Storage instance.")}else return lT(n,e)}function Kw(n,e){const t=e?.[qA];return t==null?null:rr.makeFromBucketSpec(t,n)}function M3(n,e,t,r={}){n.host=`${e}:${t}`;const a=Gu(e);a&&(KS(`https://${n.host}/b`),JS("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:ZS(l,n.app.options.projectId))}class vy{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=FA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TO,this._maxUploadRetryTime=CO,this._requests=new Set,a!=null?this._bucket=rr.makeFromBucketSpec(a,this._host):this._bucket=Kw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=Kw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ww("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ww("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sk(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rl(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new HO(YA());{const c=JO(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const Zw="@firebase/storage",Jw="0.14.0";const oT="storage";function I3(n,e,t){return n=Sn(n),C3(n,e,t)}function O3(n){return n=Sn(n),N3(n)}function V3(n,e){return n=Sn(n),j3(n,e)}function P3(n=ok(),e){n=Sn(n);const r=ik(n,oT).getImmediate({identifier:e}),a=WS("storage");return a&&L3(r,...a),r}function L3(n,e,t,r={}){M3(n,e,t,r)}function U3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new vy(t,r,a,e,ak)}function B3(){Cu(new xo(oT,U3,"PUBLIC").setMultipleInstances(!0)),Ys(Zw,Jw,""),Ys(Zw,Jw,"esm2020")}B3();const H3={apiKey:"AIzaSyBdcEGmCXwYX8y4vZ6xWSvqhpKeBzG3sjI",authDomain:"noc-timeline.firebaseapp.com",projectId:"noc-timeline",storageBucket:"noc-timeline.firebasestorage.app",messagingSenderId:"41507495114",appId:"1:41507495114:web:4d2118a77fb4be05142833"},cT=lk(H3),Ie=dO(cT),F3=P3(cT),q3=(n=null)=>{const[e,t]=M.useState({total:0,startDone:0,endDone:0,matches:[]}),[r,a]=M.useState(0),[l,c]=M.useState(!0),h=qn(g=>g.currentUser),f=n||new Date().toISOString().split("T")[0];return M.useEffect(()=>{if(!h){t({total:0,startDone:0,endDone:0,matches:[]}),a(0),c(!1);return}c(!0);const g=Si(gn(Ie,"schedules"),Df("startDate","==",f),Hn("startTime","asc")),b=nl(g,x=>{const E=x.docs.map(A=>({id:A.id,...A.data()}));t({total:E.length,startDone:E.filter(A=>A.hasStartStat).length,endDone:E.filter(A=>A.hasEndStat).length,matches:E}),c(!1)},x=>{x.code!=="permission-denied"&&console.error("Error fetching day matches:",x),c(!1)});return(async()=>{try{const x=Si(gn(Ie,"incidents"),Df("status","!=","Closed")),E=await BA(x);a(E.size)}catch(x){x.code!=="permission-denied"&&console.error("Error fetching incidents:",x)}})(),()=>b()},[f,h]),{daySummary:e,todaySummary:e,activeIncidents:r,loading:l,selectedDate:f}};function G3(){const n=Io(),e=qn(a=>a.currentUser),{todaySummary:t,activeIncidents:r}=q3();return u.jsx("div",{className:"h-full bg-zinc-50 dark:bg-black p-8 md:p-12 overflow-y-auto custom-scrollbar flex flex-col justify-center",children:u.jsxs("div",{className:"max-w-5xl mx-auto w-full space-y-12",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-5xl md:text-7xl font-black italic uppercase tracking-tighter dark:text-white mb-4 leading-[0.9]",children:["NOC ",u.jsx("span",{className:"text-zinc-300 dark:text-zinc-700",children:"NTT"})," ",u.jsx("br",{}),u.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-zinc-900 to-zinc-500 dark:from-white dark:to-zinc-600",children:"Management System"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"relative flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500"})]}),u.jsxs("p",{className:"text-sm font-bold text-zinc-500 uppercase tracking-[0.2em]",children:["System Operational  Welcome, ",e]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{onClick:()=>n("/schedule/today"),className:"group bg-white dark:bg-[#111] p-8 rounded-[2.5rem] border border-zinc-200 dark:border-zinc-800 hover:border-black dark:hover:border-white transition-all cursor-pointer",children:[u.jsxs("div",{className:"flex justify-between items-start mb-10",children:[u.jsx("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl text-zinc-900 dark:text-white",children:u.jsx(sr,{size:28})}),u.jsx(wu,{className:"text-zinc-300 group-hover:text-black dark:group-hover:text-white transition-colors"})]}),u.jsx("div",{className:"text-5xl font-black dark:text-white mb-2",children:t.total}),u.jsx("div",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Matches Scheduled Today"})]}),u.jsxs("div",{onClick:()=>n("/incidents"),className:"group bg-white dark:bg-[#111] p-8 rounded-[2.5rem] border border-zinc-200 dark:border-zinc-800 hover:border-red-500 dark:hover:border-red-500 transition-all cursor-pointer relative overflow-hidden",children:[r>0&&u.jsx("div",{className:"absolute top-0 right-0 p-4",children:u.jsx("span",{className:"flex h-4 w-4 rounded-full bg-red-500 animate-pulse"})}),u.jsxs("div",{className:"flex justify-between items-start mb-10",children:[u.jsx("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl text-red-500",children:u.jsx(Zi,{size:28})}),u.jsx(wu,{className:"text-zinc-300 group-hover:text-red-500 transition-colors"})]}),u.jsx("div",{className:"text-5xl font-black dark:text-white mb-2",children:r}),u.jsx("div",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Active Incidents"})]})]})]})})}const er="incidents",ro="events",Qi={subscribeIncidents:(n,e=100)=>{const t=Si(gn(Ie,er),Hn("createdAt","desc"),LA(e));return nl(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data(),status:l.data().status||"Open",type:l.data().type||"Incident",project:l.data().project||"General"}));n(a)},r=>{console.error("Incidents subscription error:",r),n([])})},subscribeEvents:(n,e)=>{const t=Si(gn(Ie,er,n,ro),Hn("order","asc"),Hn("date","asc"),Hn("time","asc"));return nl(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data(),imageUrls:l.data().imageUrls||[]}));e(a)},r=>{console.error("Events subscription error:",r),e([])})},createIncident:async n=>{try{const e={...n,status:n.status||"Open",type:n.type||"Incident",priority:n.priority||"Medium",project:n.project||"General",eventCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await jf(gn(Ie,er),e)}catch(e){throw console.error("Create incident error:",e),new Error("Failed to create incident")}},updateIncident:async(n,e)=>{try{await gi(_t(Ie,er,n),{...e,updatedAt:new Date().toISOString()})}catch(t){throw console.error("Update incident error:",t),new Error("Failed to update incident")}},deleteIncident:async n=>{try{const e=gn(Ie,er,n,ro),t=await BA(e),r=Mf(Ie);t.docs.forEach(a=>{r.delete(a.ref)}),r.delete(_t(Ie,er,n)),await r.commit()}catch(e){throw console.error("Delete incident error:",e),new Error("Failed to delete incident")}},createEvent:async(n,e)=>{try{const t=await jf(gn(Ie,er,n,ro),{...e,order:e.order||0,imageUrls:e.imageUrls||[],createdAt:new Date().toISOString()});return await gi(_t(Ie,er,n),{updatedAt:new Date().toISOString()}),t}catch(t){throw console.error("Create event error:",t),new Error("Failed to create event")}},updateEvent:async(n,e,t)=>{try{await gi(_t(Ie,er,n,ro,e),{...t,updatedAt:new Date().toISOString()}),await gi(_t(Ie,er,n),{updatedAt:new Date().toISOString()})}catch(r){throw console.error("Update event error:",r),new Error("Failed to update event")}},deleteEvent:async(n,e)=>{try{await Em(_t(Ie,er,n,ro,e)),await gi(_t(Ie,er,n),{updatedAt:new Date().toISOString()})}catch(t){throw console.error("Delete event error:",t),new Error("Failed to delete event")}},reorderEvents:async(n,e)=>{try{const t=Mf(Ie);e.forEach(r=>{const a=_t(Ie,er,n,ro,r.id);t.update(a,{order:r.order})}),await t.commit()}catch(t){throw console.error("Reorder events error:",t),new Error("Failed to reorder events")}}},$3=()=>{const[n,e]=M.useState([]),[t,r]=M.useState(null),[a,l]=M.useState(!0),[c,h]=M.useState(""),[f,g]=M.useState("All"),[b,v]=M.useState("All"),x=qn(O=>O.currentUser);M.useEffect(()=>{if(!x){e([]),l(!1);return}l(!0);const O=Qi.subscribeIncidents(F=>{e(F),l(!1)});return()=>O()},[x]);const E=M.useMemo(()=>n.filter(O=>{const F=c.toLowerCase(),L=!F||(O.subject||"").toLowerCase().includes(F)||(O.project||"").toLowerCase().includes(F)||(O.ticket||"").toLowerCase().includes(F)||(O.createdBy||"").toLowerCase().includes(F),W=f==="All"||O.status===f,q=b==="All"||O.type===b;return L&&W&&q}),[n,c,f,b]),A=M.useMemo(()=>{const O=n.length,F=n.filter(k=>k.status==="Open").length,L=n.filter(k=>k.status==="In Progress").length,W=n.filter(k=>k.status==="Monitoring").length,q=n.filter(k=>k.status==="Resolved").length,R=n.filter(k=>k.status==="Closed").length;return{total:O,open:F,inProgress:L,monitoring:W,resolved:q,closed:R}},[n]),N=M.useMemo(()=>[{status:"Open",count:A.open,color:"#ef4444"},{status:"In Progress",count:A.inProgress,color:"#3b82f6"},{status:"Monitoring",count:A.monitoring,color:"#f97316"},{status:"Resolved",count:A.resolved,color:"#10b981"},{status:"Closed",count:A.closed,color:"#6b7280"}].filter(O=>O.count>0),[A]),C=M.useCallback(()=>{h(""),g("All"),v("All")},[]);return{incidents:n,filteredIncidents:E,selectedId:t,setSelectedId:r,loading:a,searchTerm:c,setSearchTerm:h,filterStatus:f,setFilterStatus:g,filterType:b,setFilterType:v,clearFilters:C,hasActiveFilters:c||f!=="All"||b!=="All",stats:A,statusDistribution:N}},Q3=n=>{const[e,t]=M.useState([]),[r,a]=M.useState(!1),[l,c]=M.useState(null),h=qn(b=>b.currentUser);M.useEffect(()=>{if(!h||!n){t([]),c(null),a(!1);return}a(!0),c(null);const b=Qi.subscribeEvents(n,v=>{t(v),a(!1)});return()=>b()},[n,h]);const f=[...e].sort((b,v)=>{if(typeof b.order=="number"&&typeof v.order=="number"&&b.order!==v.order)return b.order-v.order;const x=new Date(`${b.date||"1970-01-01"}T${b.time||"00:00"}`).getTime(),E=new Date(`${v.date||"1970-01-01"}T${v.time||"00:00"}`).getTime();return x-E}),g={total:e.length,withImages:e.filter(b=>b.imageUrls&&b.imageUrls.length>0).length,dateRange:e.length>0?{start:f[0]?.date,end:f[f.length-1]?.date}:null};return{events:e,sortedEvents:f,loading:r,error:l,stats:g}},Y3=n=>{switch(n){case"Open":return{color:"bg-red-500",bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-600 dark:text-red-400",icon:Sr,gradient:"from-red-500 to-rose-600"};case"In Progress":return{color:"bg-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-600 dark:text-blue-400",icon:vb,gradient:"from-blue-500 to-indigo-600"};case"Monitoring":return{color:"bg-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",textColor:"text-orange-600 dark:text-orange-400",icon:pn,gradient:"from-orange-500 to-amber-600"};case"Resolved":return{color:"bg-emerald-500",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-600 dark:text-emerald-400",icon:ar,gradient:"from-emerald-500 to-teal-600"};case"Closed":return{color:"bg-zinc-400",bgColor:"bg-zinc-100 dark:bg-zinc-800",textColor:"text-zinc-500 dark:text-zinc-400",icon:xb,gradient:"from-zinc-400 to-zinc-500"};default:return{color:"bg-zinc-400",bgColor:"bg-zinc-100 dark:bg-zinc-800",textColor:"text-zinc-600 dark:text-zinc-400",icon:Sr,gradient:"from-zinc-400 to-zinc-500"}}};function W3({incident:n,isSelected:e,onClick:t,onDelete:r}){const{color:a,bgColor:l,textColor:c,icon:h,gradient:f}=Y3(n.status),g=n.createdAt?new Date(n.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}):"-";return u.jsxs("div",{onClick:t,className:`
        group relative p-5 rounded-2xl border transition-all duration-300 cursor-pointer overflow-hidden
        ${e?"bg-white dark:bg-[#0a0a0a] border-zinc-900 dark:border-zinc-500 shadow-xl scale-[1.01] z-10":"bg-white dark:bg-[#111] border-transparent hover:border-zinc-300 dark:hover:border-zinc-700 hover:shadow-lg hover:-translate-y-0.5"}
      `,children:[e&&u.jsx("div",{className:`absolute top-0 bottom-0 left-0 w-1.5 bg-gradient-to-b ${f}`}),u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${a} ${n.status==="Open"?"animate-pulse shadow-[0_0_8px_currentColor]":""}`}),u.jsx("span",{className:"text-[9px] font-black uppercase text-zinc-500 dark:text-zinc-400 tracking-wider",children:n.project||"SYSTEM"})]}),u.jsx("span",{className:`text-[8px] font-black uppercase px-2 py-1 rounded-full border border-transparent ${n.type==="Incident"?"bg-red-50 text-red-600 dark:bg-red-900/10 dark:text-red-400 dark:border-red-900/20":n.type==="Request"?"bg-blue-50 text-blue-600 dark:bg-blue-900/10 dark:text-blue-400 dark:border-blue-900/20":"bg-amber-50 text-amber-600 dark:bg-amber-900/10 dark:text-amber-400 dark:border-amber-900/20"}`,children:n.type||"Incident"})]}),!e&&u.jsx("button",{onClick:b=>{b.stopPropagation(),r(n.id)},className:"text-zinc-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transform translate-x-2 group-hover:translate-x-0",title:"Delete incident",children:u.jsx(oa,{size:14})})]}),u.jsx("h3",{className:`font-black text-sm leading-snug mb-4 line-clamp-2 min-h-[2.5rem] transition-colors ${e?"text-black dark:text-white":"text-zinc-700 dark:text-zinc-300 group-hover:text-black dark:group-hover:text-white"}`,children:n.subject||"Untitled Incident"}),u.jsxs("div",{className:"flex items-center gap-4 mb-4 text-[10px] text-zinc-400 font-bold uppercase tracking-wider",children:[n.createdBy&&u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(GS,{size:12,className:"text-zinc-300"})," ",n.createdBy.split(" ")[0]]}),u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(sr,{size:12,className:"text-zinc-300"})," ",g]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-zinc-100 dark:border-zinc-800/50",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-zinc-400",children:[u.jsx(wb,{size:12}),u.jsx("span",{className:"text-[10px] font-mono font-bold",children:n.ticket||"NO-TICKET"})]}),u.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full ${l}`,children:[u.jsx(h,{size:12,className:c}),u.jsx("span",{className:`text-[9px] font-black uppercase tracking-wide ${c}`,children:n.status})]})]})]})}function X3({filteredIncidents:n,selectedId:e,onSelect:t,onAddIncident:r,onDeleteIncident:a,onExportCSV:l,stats:c,searchTerm:h,setSearchTerm:f,filterStatus:g,setFilterStatus:b,filterType:v,setFilterType:x,clearFilters:E,hasActiveFilters:A,loading:N}){const C=D=>{b(D===g?"All":D)};return u.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-black border-r border-zinc-200 dark:border-zinc-800 relative",children:[u.jsxs("div",{className:"p-5 flex flex-col gap-4 shrink-0 z-10 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white flex items-center gap-2",children:[u.jsx(zz,{size:20,className:"text-zinc-400"}),"INCIDENTS"]}),u.jsxs("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest pl-1 mt-1",children:[n?.length||0," of ",c?.total||0," cases"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>l(n),className:"h-9 w-9 flex items-center justify-center rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",title:"Export CSV",children:u.jsx(_b,{size:18})}),u.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 h-9 rounded-xl text-[10px] font-black uppercase tracking-widest bg-black dark:bg-white text-white dark:text-black hover:opacity-80 transition-opacity shadow-sm",children:[u.jsx(gz,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"New"})]})]})]}),c&&u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1 [&::-webkit-scrollbar]:hidden",children:[{status:"Open",count:c.open,color:"bg-red-500",icon:Sr},{status:"In Progress",count:c.inProgress,color:"bg-blue-500",icon:vb},{status:"Monitoring",count:c.monitoring,color:"bg-orange-500",icon:pn},{status:"Resolved",count:c.resolved,color:"bg-emerald-500",icon:ar},{status:"Closed",count:c.closed,color:"bg-zinc-400",icon:xb}].filter(D=>D.count>0).map(D=>u.jsxs("button",{onClick:()=>C(D.status),className:`flex items-center gap-1.5 px-2 py-1 rounded-lg text-[9px] font-bold shrink-0 transition-all ${g===D.status?"bg-black dark:bg-white text-white dark:text-black shadow-md":"bg-zinc-100 dark:bg-zinc-800 text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${D.color}`}),u.jsx("span",{className:"uppercase",children:D.status.split(" ")[0]}),u.jsx("span",{className:"font-mono",children:D.count})]},D.status))}),u.jsxs("div",{className:"relative",children:[u.jsx(Tu,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400"}),u.jsx("input",{type:"text",placeholder:"Search tickets, subjects...",value:h,onChange:D=>f(D.target.value),className:"w-full h-10 pl-10 pr-8 rounded-xl text-xs font-bold outline-none border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white focus:border-black dark:focus:border-white transition-all placeholder-zinc-400 dark:placeholder-zinc-600"}),h&&u.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-red-500 transition-colors",children:u.jsx(kn,{size:14})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsxs("select",{value:g,onChange:D=>b(D.target.value),className:"w-full h-9 pl-3 pr-8 bg-zinc-100 dark:bg-zinc-800 border-none rounded-lg text-[10px] font-black uppercase text-zinc-600 dark:text-zinc-300 appearance-none outline-none cursor-pointer hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:[u.jsx("option",{value:"All",children:"All Status"}),u.jsx("option",{value:"Open",children:"Open"}),u.jsx("option",{value:"In Progress",children:"In Progress"}),u.jsx("option",{value:"Monitoring",children:"Monitoring"}),u.jsx("option",{value:"Resolved",children:"Resolved"}),u.jsx("option",{value:"Closed",children:"Closed"})]}),u.jsx(ku,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]}),u.jsxs("div",{className:"relative flex-1",children:[u.jsxs("select",{value:v,onChange:D=>x(D.target.value),className:"w-full h-9 pl-3 pr-8 bg-zinc-100 dark:bg-zinc-800 border-none rounded-lg text-[10px] font-black uppercase text-zinc-600 dark:text-zinc-300 appearance-none outline-none cursor-pointer hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:[u.jsx("option",{value:"All",children:"All Types"}),u.jsx("option",{value:"Incident",children:"Incident"}),u.jsx("option",{value:"Request",children:"Request"}),u.jsx("option",{value:"Maintenance",children:"Maint."})]}),u.jsx(ku,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]}),A&&u.jsx("button",{onClick:E,className:"h-9 w-9 flex items-center justify-center rounded-lg bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"Clear all filters",children:u.jsx(FS,{size:14})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar bg-zinc-50 dark:bg-[#050505]",children:N?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-3",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-zinc-300 border-t-black dark:border-zinc-700 dark:border-t-white rounded-full animate-spin"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Loading..."})]}):n?.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 space-y-3",children:[u.jsx(Tu,{size:32,className:"text-zinc-300 dark:text-zinc-700"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:A?"No matching cases":"No incidents yet"}),A&&u.jsx("button",{onClick:E,className:"text-[10px] font-bold text-blue-500 hover:underline",children:"Clear Filters"})]}):n.map(D=>u.jsx(W3,{incident:D,isSelected:e===D.id,onClick:()=>t(D.id),onDelete:a},D.id))})]})}const uT=n=>{if(!n)return"";try{if(n.includes("drive.google.com")||n.includes("docs.google.com")){let e="";const t=n.match(/\/d\/(.+?)\//);if(t&&t[1]?e=t[1]:e=new URLSearchParams(new URL(n).search).get("id"),e)return`https://lh3.googleusercontent.com/d/${e}`}if(n.includes("dropbox.com")){const e=new URL(n);return e.searchParams.set("raw","1"),e.searchParams.delete("dl"),e.toString()}return n}catch(e){return console.warn("Error parsing image URL:",e),n}};function K3({event:n,index:e,isLastItem:t,showDateHeader:r,dateLabel:a,onMove:l,onEdit:c,onDelete:h}){let f=n.imageUrls||[];!f.length&&n.image&&(f=[n.image]),!f.length&&n.imageUrl&&(f=[n.imageUrl]);const g=n.desc&&n.desc.trim().length>0,b=f.length>0;return u.jsxs("div",{className:"relative flex items-start gap-3 md:gap-4 mb-6 z-10 group/item animate-in fade-in slide-in-from-left-2 duration-300",children:[u.jsxs("div",{className:"flex-none flex flex-col items-center w-16 pt-[6px]",children:[u.jsx("div",{className:`
          w-3 h-3 rounded-full bg-white dark:bg-zinc-900 border-[3px] border-black dark:border-white shadow-sm z-20 transition-all
          ${e===0?"ring-4 ring-black/10 dark:ring-white/10":""}
          group-hover/item:scale-125
        `}),u.jsx("div",{className:"mt-1.5",children:u.jsx("span",{className:"font-mono text-[10px] font-bold text-gray-500 dark:text-zinc-500 bg-gray-100 dark:bg-zinc-900 px-1.5 py-0.5 rounded",children:n.time})}),b&&u.jsx("div",{className:"mt-1 text-zinc-400",children:u.jsx(Cz,{size:10})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[r&&u.jsx("div",{className:"mb-3 -mt-2",children:u.jsx("span",{className:"inline-block text-[9px] font-black text-white dark:text-black uppercase tracking-widest bg-gradient-to-r from-black to-zinc-700 dark:from-white dark:to-zinc-300 px-3 py-1 rounded-full shadow-sm",children:a})}),u.jsxs("div",{className:"bg-white dark:bg-[#111] p-3 md:p-4 rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-sm flex gap-3 relative hover:border-black dark:hover:border-white transition-all group-hover/item:shadow-md",children:[u.jsxs("div",{className:"flex flex-col gap-1 justify-center border-r pr-2 border-gray-100 dark:border-zinc-800 opacity-100 lg:opacity-0 lg:group-hover/item:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>l(e,"up"),disabled:e===0,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-zinc-800 rounded transition-colors",title:"Move up",children:u.jsx(OS,{size:14})}),u.jsx("button",{onClick:()=>l(e,"down"),disabled:t,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-zinc-800 rounded transition-colors",title:"Move down",children:u.jsx(Eu,{size:14})})]}),u.jsxs("div",{className:"flex-1 min-w-0 relative pr-12 md:pr-14",children:[u.jsxs("div",{className:"absolute top-0 right-0 flex gap-1 opacity-100 lg:opacity-0 lg:group-hover/item:opacity-100 transition-opacity bg-white dark:bg-[#111] pl-2 pb-2 rounded-bl-xl",children:[u.jsx("button",{onClick:()=>c(n),className:"p-1.5 text-gray-400 hover:text-blue-500 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Edit event",children:u.jsx(Eb,{size:12})}),u.jsx("button",{onClick:()=>h(n.id),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete event",children:u.jsx(oa,{size:12})})]}),u.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap pt-0.5",children:g?n.desc:u.jsx("span",{className:"text-gray-400 dark:text-zinc-600 italic font-normal",children:"No details provided."})}),b&&u.jsx("div",{className:`grid gap-2 mt-3 ${f.length===1?"grid-cols-1 max-w-[200px]":f.length===2?"grid-cols-2 max-w-[400px]":"grid-cols-2 sm:grid-cols-3"}`,children:f.map((v,x)=>u.jsxs("div",{className:"relative group/image rounded-lg overflow-hidden border border-gray-200 dark:border-zinc-800 bg-gray-50 dark:bg-zinc-900 aspect-video",children:[u.jsx("img",{src:uT(v),className:"w-full h-full object-cover transition-transform duration-500 group-hover/image:scale-110",alt:`Evidence ${x+1}`,loading:"lazy",onError:E=>{E.target.onerror=null,E.target.src="https://placehold.co/300x200/222/fff?text=Image+Error"}}),u.jsx("a",{href:v,target:"_blank",rel:"noreferrer",className:"absolute inset-0 bg-black/0 hover:bg-black/30 transition-colors flex items-center justify-center opacity-0 hover:opacity-100",children:u.jsx(uz,{size:16,className:"text-white drop-shadow-lg"})}),f.length>1&&u.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[8px] font-bold px-1.5 py-0.5 rounded",children:[x+1,"/",f.length]})]},x))})]})]})]})]})}function Z3({value:n,onChange:e,folder:t="uploads",placeholder:r="Paste image URL..."}){const[a,l]=M.useState("url"),[c,h]=M.useState(!1),[f,g]=M.useState(0),[b,v]=M.useState(""),x=M.useRef(null);M.useEffect(()=>{n||(g(0),v(""))},[n]);const E=async C=>{const D=C.target.files[0];if(D){if(!D.type.startsWith("image/")){v("Please select an image file only.");return}if(D.size>2*1024*1024){v("Image size should be less than 2MB.");return}v(""),h(!0);try{const O=V3(F3,`${t}/${Date.now()}_${D.name}`),F=I3(O,D);F.on("state_changed",L=>{const W=L.bytesTransferred/L.totalBytes*100;g(Math.round(W))},L=>{console.error(L),L.message.includes("billing")||L.code==="storage/unauthorized"?v("Storage not enabled. Please use URL mode."):v("Upload failed. Try URL mode."),h(!1)},async()=>{const L=await O3(F.snapshot.ref);e(L),h(!1)})}catch(O){console.error(O),v("Error starting upload."),h(!1)}}},A=C=>{e(C.target.value),v("")},N=()=>{e(""),g(0),v(""),x.current&&(x.current.value="")};return u.jsxs("div",{className:"space-y-3",children:[!n&&u.jsxs("div",{className:"flex bg-zinc-200/50 dark:bg-zinc-800 p-1 rounded-xl",children:[u.jsxs("button",{type:"button",onClick:()=>l("url"),className:`flex-1 py-2 text-[10px] font-black uppercase rounded-lg flex items-center justify-center gap-2 transition-all duration-200 ${a==="url"?"bg-white dark:bg-zinc-700 text-black dark:text-white shadow-sm scale-100":"text-zinc-400 hover:text-zinc-600 hover:bg-black/5 dark:hover:bg-white/5 scale-95"}`,children:[u.jsx(I_,{size:14})," Link URL"]}),u.jsxs("button",{type:"button",onClick:()=>l("upload"),className:`flex-1 py-2 text-[10px] font-black uppercase rounded-lg flex items-center justify-center gap-2 transition-all duration-200 ${a==="upload"?"bg-white dark:bg-zinc-700 text-black dark:text-white shadow-sm scale-100":"text-zinc-400 hover:text-zinc-600 hover:bg-black/5 dark:hover:bg-white/5 scale-95"}`,children:[u.jsx(iz,{size:14})," Upload"]})]}),n?u.jsxs("div",{className:"relative flex items-center gap-3 p-2 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-sm animate-in fade-in zoom-in-95",children:[u.jsx("div",{className:"h-10 w-10 shrink-0 rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700",children:u.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate",children:n}),u.jsxs("p",{className:"text-[9px] font-bold text-green-500 flex items-center gap-1",children:[u.jsx(Fu,{size:10})," Image Ready"]})]}),u.jsx("button",{type:"button",onClick:N,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-red-500 transition-all hover:rotate-90 active:scale-90",children:u.jsx(kn,{size:16})})]}):a==="upload"?u.jsxs("div",{onClick:()=>!c&&x.current?.click(),className:`
              relative border-2 border-dashed rounded-xl h-14 flex items-center justify-center cursor-pointer transition-all duration-200 group
              ${c?"bg-zinc-50 border-zinc-300 cursor-wait":"border-zinc-300 hover:border-violet-500 hover:bg-violet-50 dark:border-zinc-700 dark:hover:border-violet-500 dark:hover:bg-violet-900/10 active:scale-[0.99]"}
            `,children:[c?u.jsxs("div",{className:"flex items-center gap-3 text-violet-600",children:[u.jsx(Zs,{size:18,className:"animate-spin"}),u.jsxs("span",{className:"text-xs font-bold",children:["Uploading... ",f,"%"]})]}):u.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 group-hover:text-violet-600 transition-colors",children:[u.jsx(LS,{size:18}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Choose File"})]}),u.jsx("input",{type:"file",ref:x,onChange:E,accept:"image/*",className:"hidden",disabled:c})]}):u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"text",placeholder:r,onChange:A,className:"w-full h-14 px-4 rounded-xl border-2 border-zinc-200 dark:border-zinc-800 bg-transparent text-sm font-medium outline-none focus:border-violet-500 focus:bg-violet-50/10 transition-all placeholder:text-zinc-400"}),u.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none group-focus-within:text-violet-500 transition-colors",children:u.jsx(I_,{size:16})})]}),b&&u.jsxs("p",{className:"text-[10px] font-bold text-red-500 flex items-center gap-1.5 animate-pulse ml-1",children:[u.jsx(Sr,{size:12})," ",b]})]})}function J3({isOpen:n,onClose:e,onSubmit:t,initialData:r,saving:a=!1}){const[l,c]=M.useState({date:"",time:"",desc:"",imageUrls:[]}),[h,f]=M.useState(""),[g,b]=M.useState({});M.useEffect(()=>{const D=O=>{O.key==="Escape"&&!a&&e()};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[e,a]),M.useEffect(()=>{if(n){if(r){let D=r.imageUrls||[];!D.length&&r.image&&(D=[r.image]),c({...r,imageUrls:D})}else{const D=new Date;c({date:D.toISOString().split("T")[0],time:`${String(D.getHours()).padStart(2,"0")}:${String(D.getMinutes()).padStart(2,"0")}`,desc:"",imageUrls:[]})}f(""),b({})}},[n,r]);const v=()=>{h&&!l.imageUrls.includes(h)&&(c(D=>({...D,imageUrls:[...D.imageUrls,h]})),f(""))},x=D=>{c(O=>({...O,imageUrls:O.imageUrls.filter((F,L)=>L!==D)}))},E=()=>{const D={};return l.date||(D.date="Required"),l.time||(D.time="Required"),l.desc?.trim()||(D.desc="Description is required"),b(D),Object.keys(D).length===0},A=D=>{if(D.preventDefault(),!E())return;let O=[...l.imageUrls];h&&!O.includes(h)&&O.push(h);const F=l.title||l.desc.trim().split(`
`)[0].substring(0,50)+(l.desc.length>50?"...":"")||"Log Update";t({...l,title:F,imageUrls:O,image:null})};if(!n)return null;const N=`
    w-full bg-zinc-50 dark:bg-zinc-800/50 
    border border-zinc-200 dark:border-zinc-700 
    rounded-xl p-3.5 text-sm font-medium 
    text-zinc-900 dark:text-zinc-100
    outline-none transition-all duration-200 ease-out
    focus:bg-white dark:focus:bg-zinc-800 
    focus:border-black dark:focus:border-zinc-500
    focus:ring-4 focus:ring-zinc-100 dark:focus:ring-zinc-800/50
    focus:shadow-sm
    placeholder:text-zinc-400
  `,C="text-[10px] font-bold text-zinc-400 uppercase tracking-wider mb-2 flex items-center gap-1.5 ml-1";return u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[u.jsx("div",{className:"absolute inset-0 bg-zinc-900/40 dark:bg-black/80 backdrop-blur-md transition-opacity duration-300",onClick:e}),u.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-[#121212] rounded-[2rem] shadow-2xl ring-1 ring-zinc-900/5 dark:ring-white/10 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 ease-out",children:[u.jsxs("div",{className:"px-6 py-5 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-white/80 dark:bg-[#121212]/80 backdrop-blur-xl z-10 sticky top-0",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white tracking-tight flex items-center gap-2",children:[r?u.jsx(_i,{className:"text-blue-500",size:20}):u.jsx(pn,{className:"text-violet-500",size:20}),r?"Edit Event":"New Event"]}),u.jsx("p",{className:"text-xs text-zinc-500 font-medium mt-0.5 ml-7",children:r?"Update incident timeline details":"Record a new update to timeline"})]}),u.jsx("button",{onClick:e,disabled:a,className:"p-2.5 -mr-2 text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-all duration-200 hover:rotate-90 active:scale-90",children:u.jsx(kn,{size:22})})]}),u.jsxs("form",{onSubmit:A,className:"flex-1 overflow-y-auto custom-scrollbar",children:[u.jsxs("div",{className:"p-6 space-y-7",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:C,children:[u.jsx(sr,{size:12})," Date"]}),u.jsx("input",{type:"date",className:`${N} ${g.date?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:l.date,onChange:D=>c({...l,date:D.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:C,children:[u.jsx(pn,{size:12})," Time"]}),u.jsx("input",{type:"time",className:`${N} ${g.time?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:l.time,onChange:D=>c({...l,time:D.target.value})})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:C,children:[u.jsx(_i,{size:12})," Description"]}),u.jsx("textarea",{rows:4,placeholder:"What happened? Describe the details...",className:`${N} resize-none leading-relaxed min-h-[120px] ${g.desc?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:l.desc,onChange:D=>c({...l,desc:D.target.value})}),g.desc&&u.jsxs("p",{className:"text-[10px] font-bold text-red-500 mt-1.5 flex items-center gap-1.5 animate-pulse ml-1",children:[u.jsx(Sr,{size:10})," ",g.desc]})]}),u.jsxs("div",{className:"space-y-4 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex items-center justify-between px-1",children:[u.jsxs("label",{className:C.replace("mb-2","mb-0"),children:[u.jsx(LS,{size:12})," Attachments"]}),u.jsxs("span",{className:`text-[10px] font-bold px-2 py-1 rounded-md ${l.imageUrls.length>0?"bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-white":"text-zinc-300"}`,children:[l.imageUrls.length," Files"]})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/30 p-2 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 flex gap-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx(Z3,{value:h,onChange:f,folder:"incidents",placeholder:"Paste image URL here..."})}),u.jsx("button",{type:"button",onClick:v,disabled:!h,className:"w-14 shrink-0 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-xl hover:bg-black dark:hover:bg-zinc-200 hover:shadow-lg hover:shadow-zinc-300 dark:hover:shadow-none hover:-translate-y-0.5 active:translate-y-0 active:scale-95 transition-all duration-200 disabled:opacity-30 disabled:transform-none disabled:shadow-none flex items-center justify-center",title:"Add Image",children:u.jsx(k0,{size:24,strokeWidth:3})})]}),l.imageUrls.length>0&&u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.imageUrls.map((D,O)=>u.jsxs("div",{className:"group relative aspect-square rounded-xl overflow-hidden bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 shadow-sm hover:shadow-md transition-shadow",children:[u.jsx("img",{src:uT(D),alt:`attachment-${O}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:F=>{F.target.src="https://placehold.co/100?text=Error"}}),u.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center backdrop-blur-[1px]",children:u.jsx("button",{type:"button",onClick:()=>x(O),className:"p-2.5 bg-white/90 text-red-500 rounded-full shadow-lg hover:bg-red-500 hover:text-white hover:scale-110 active:scale-90 transition-all duration-200",title:"Remove Image",children:u.jsx(oa,{size:16})})}),u.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[8px] px-1.5 py-0.5 rounded font-bold backdrop-blur-sm pointer-events-none",children:["#",O+1]})]},O))})]})]}),u.jsx("div",{className:"p-6 pt-4 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 backdrop-blur-sm sticky bottom-0",children:u.jsxs("button",{type:"submit",disabled:a,className:"w-full h-14 bg-gradient-to-r from-zinc-900 to-zinc-800 dark:from-white dark:to-zinc-200 text-white dark:text-black rounded-xl font-black text-sm uppercase tracking-widest shadow-lg shadow-zinc-500/20 dark:shadow-zinc-900/50 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 active:scale-[0.98] transition-all duration-200 disabled:opacity-50 disabled:transform-none disabled:shadow-none flex items-center justify-center gap-3",children:[a?u.jsx(Zs,{size:18,className:"animate-spin"}):u.jsx(tm,{size:18}),a?"Saving...":"Save Timeline Event"]})})]})]})]})}function e6({isOpen:n,onClose:e,text:t,incident:r}){const[a,l]=Ur.useState(!1),[c,h]=Ur.useState("preview"),f=M.useMemo(()=>{if(r){const N=(r.events||[]).map(C=>({date:C.date?new Date(C.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}):"-",time:C.time,desc:C.desc||C.title,originalDate:C.date}));return{meta:{Project:r.project||"-",Subject:r.subject||"-",Status:r.status||"-",Ticket:r.ticket||"-"},details:{Impact:r.impact||"-","Root Cause":r.root_cause||"-","Action Taken":r.action||"-"},timeline:N}}if(!t)return null;const v={meta:{},details:{},timeline:[]},x=t.split(`
`);let E=!1,A="";return x.forEach(N=>{const C=N.trim();if(!C)return;const D=N.indexOf(":");if(!E&&D!==-1&&D<20){const O=N.substring(0,D).trim(),F=N.substring(D+1).trim();["Project","Subject","Status","Ticket"].includes(O)?v.meta[O]=F:(["Impact","Root Cause","Action Taken"].includes(O),v.details[O]=F)}else if(E=!0,C.length<20&&/\d/.test(C)&&!C.includes("-"))A=C;else{const F=C.match(/^(\d{1,2}:\d{2})(?:\s*:|\s*-|\s*\.)?\s*(.*)/);F?v.timeline.push({date:A,time:F[1],desc:F[2]||""}):v.timeline.push({date:A,time:null,desc:C})}}),v},[t,r]),g=async()=>{try{await navigator.clipboard.writeText(t),l(!0),setTimeout(()=>{l(!1),e()},1e3)}catch(v){console.error("Failed to copy:",v);const x=document.createElement("textarea");x.value=t,document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),l(!0),setTimeout(()=>{l(!1),e()},1e3)}},b=()=>{const v=new Blob([t],{type:"text/plain;charset=utf-8"}),x=URL.createObjectURL(v),E=document.createElement("a");E.href=x,E.download=`Incident_Report_${f?.meta.Ticket||"Draft"}.txt`,E.click(),URL.revokeObjectURL(x)};return Ur.useEffect(()=>{const v=x=>{x.key==="Escape"&&n&&e()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[n,e]),n?u.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 transition-all",onClick:e,children:u.jsxs("div",{className:"bg-white dark:bg-[#09090b] w-full max-w-3xl h-[85vh] rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 relative",onClick:v=>v.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center px-6 py-5 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 backdrop-blur-md",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-sm",children:u.jsx(_i,{size:24,className:"text-zinc-900 dark:text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-black text-lg text-zinc-900 dark:text-white uppercase tracking-tight",children:"Report Preview"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("button",{onClick:()=>h("preview"),className:`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-md transition-all ${c==="preview"?"bg-zinc-900 text-white dark:bg-white dark:text-black":"text-zinc-400 hover:text-zinc-600"}`,children:"Visual"}),u.jsx("div",{className:"w-[1px] h-3 bg-zinc-300 dark:bg-zinc-700"}),u.jsx("button",{onClick:()=>h("raw"),className:`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-md transition-all ${c==="raw"?"bg-zinc-900 text-white dark:bg-white dark:text-black":"text-zinc-400 hover:text-zinc-600"}`,children:"Raw Text"})]})]})]}),u.jsx("button",{onClick:e,className:"p-2 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors",children:u.jsx(kn,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white dark:bg-[#09090b]",children:c==="raw"?u.jsx("textarea",{readOnly:!0,value:t,className:"w-full h-full p-6 font-mono text-xs font-medium text-zinc-600 dark:text-zinc-300 bg-transparent resize-none border-none outline-none leading-relaxed"}):u.jsxs("div",{className:"p-6 space-y-8",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f?.meta&&Object.entries(f.meta).map(([v,x])=>u.jsxs("div",{className:"p-4 rounded-2xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400 block mb-1",children:v}),u.jsx("span",{className:"text-sm font-bold text-zinc-900 dark:text-white block truncate",children:x})]},v))}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"text-xs font-black uppercase tracking-widest text-zinc-400 flex items-center gap-2",children:[u.jsx(tr,{size:14})," Incident Details"]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:f?.details&&Object.entries(f.details).map(([v,x])=>{let E=tr;return v.includes("Impact")&&(E=Zi),v.includes("Root")&&(E=zj),v.includes("Action")&&(E=Mj),u.jsxs("div",{className:"relative pl-4 border-l-2 border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(E,{size:12,className:"text-zinc-400"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:v})]}),u.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 font-medium whitespace-pre-wrap leading-relaxed",children:x==="-"?u.jsx("span",{className:"text-zinc-300 italic",children:"No description provided"}):x})]},v)})})]}),u.jsxs("div",{className:"space-y-4 pt-4 border-t border-zinc-100 dark:border-zinc-900",children:[u.jsxs("h4",{className:"text-xs font-black uppercase tracking-widest text-zinc-400 flex items-center gap-2",children:[u.jsx(pn,{size:14})," Timeline"]}),u.jsxs("div",{className:"relative space-y-6",children:[u.jsx("div",{className:"absolute top-2 bottom-2 left-[7px] w-[2px] bg-zinc-100 dark:bg-zinc-800"}),f?.timeline.map((v,x)=>u.jsxs("div",{className:"relative pl-8",children:[u.jsx("div",{className:"absolute left-[2px] top-[6px] w-3 h-3 rounded-full border-2 border-white dark:border-black bg-zinc-300 dark:bg-zinc-700 z-10"}),(x===0||v.date!==f.timeline[x-1].date)&&u.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[u.jsx(sr,{size:12,className:"text-zinc-400"}),u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:v.date})]}),u.jsxs("div",{className:"p-3 rounded-xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[v.time&&u.jsx("span",{className:"block text-xs font-black text-zinc-900 dark:text-white mb-0.5",children:v.time}),u.jsx("span",{className:"block text-xs text-zinc-600 dark:text-zinc-400",children:v.desc})]})]},x)),f?.timeline.length===0&&u.jsx("div",{className:"text-center py-8 text-zinc-400 text-xs italic",children:"No timeline events recorded."})]})]})]})}),u.jsxs("div",{className:"p-5 border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-[#09090b] flex justify-end gap-3 z-10",children:[u.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest bg-zinc-100 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:[u.jsx(_b,{size:16})," Download"]}),u.jsx("button",{onClick:g,disabled:a,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all shadow-lg hover:-translate-y-0.5 active:translate-y-0 ${a?"bg-emerald-500 text-white shadow-emerald-500/20":"bg-zinc-900 dark:bg-white text-white dark:text-black hover:shadow-xl"}`,children:a?u.jsxs(u.Fragment,{children:[u.jsx(Fu,{size:16})," Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(Su,{size:16})," Copy to Clipboard"]})})]})]})}):null}function t6({incident:n,onUpdate:e,onBack:t,onGenerateReport:r}){const a=b=>{switch(b){case"Open":return{bg:"bg-red-50 dark:bg-red-900/10",text:"text-red-600 dark:text-red-400",border:"border-red-100 dark:border-red-900/30",icon:Sr};case"In Progress":return{bg:"bg-blue-50 dark:bg-blue-900/10",text:"text-blue-600 dark:text-blue-400",border:"border-blue-100 dark:border-blue-900/30",icon:vb};case"Monitoring":return{bg:"bg-orange-50 dark:bg-orange-900/10",text:"text-orange-600 dark:text-orange-400",border:"border-orange-100 dark:border-orange-900/30",icon:pn};case"Resolved":return{bg:"bg-emerald-50 dark:bg-emerald-900/10",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-100 dark:border-emerald-900/30",icon:ar};case"Closed":return{bg:"bg-zinc-100 dark:bg-zinc-800",text:"text-zinc-500 dark:text-zinc-400",border:"border-zinc-200 dark:border-zinc-700",icon:xb};default:return{bg:"bg-zinc-50",text:"text-zinc-700",border:"border-zinc-200",icon:Sr}}},l=b=>{switch(b){case"Critical":return{color:"text-red-600",icon:Zi,bg:"bg-red-100 dark:bg-red-900/20"};case"High":return{color:"text-orange-500",icon:Zi,bg:"bg-orange-100 dark:bg-orange-900/20"};case"Medium":return{color:"text-yellow-500",icon:Hp,bg:"bg-yellow-100 dark:bg-yellow-900/20"};case"Low":return{color:"text-blue-500",icon:Hp,bg:"bg-blue-100 dark:bg-blue-900/20"};default:return{color:"text-zinc-500",icon:Hp,bg:"bg-zinc-100 dark:bg-zinc-800"}}},c=a(n.status),h=c.icon,f=l(n.priority||"Medium"),g=f.icon;return u.jsxs("div",{className:"relative px-6 py-6 border-b border-zinc-200 dark:border-zinc-800 z-20 shrink-0 bg-white dark:bg-[#080808]",children:[u.jsx("div",{className:"lg:hidden mb-4",children:u.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-zinc-500 hover:text-black dark:hover:text-white font-black uppercase text-[10px] tracking-widest px-3 py-2 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:[u.jsx(zD,{size:14})," BACK TO LIST"]})}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${c.bg} ${c.border} border transition-colors`,children:[u.jsx(h,{size:14,className:c.text}),u.jsx("select",{value:n.status||"Open",onChange:b=>e({status:b.target.value}),className:`bg-transparent font-black uppercase text-[10px] tracking-widest cursor-pointer outline-none ${c.text}`,children:["Open","In Progress","Monitoring","Resolved","Closed"].map(b=>u.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:b,children:b},b))}),u.jsx(Eu,{size:12,className:`opacity-50 ${c.text} pointer-events-none`})]}),u.jsx("div",{className:"h-4 w-[1px] bg-zinc-200 dark:bg-zinc-800"}),u.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${f.bg} transition-colors`,children:[u.jsx(g,{size:14,className:f.color}),u.jsx("select",{value:n.priority||"Medium",onChange:b=>e({priority:b.target.value}),className:`bg-transparent font-bold uppercase text-[10px] tracking-wider cursor-pointer outline-none ${f.color}`,children:["Critical","High","Medium","Low"].map(b=>u.jsxs("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:b,children:[b," Priority"]},b))}),u.jsx(Eu,{size:12,className:`opacity-50 ${f.color} pointer-events-none`})]}),u.jsx("div",{className:"hidden sm:block h-4 w-[1px] bg-zinc-200 dark:bg-zinc-800"}),u.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-zinc-400",children:[u.jsx(sr,{size:14}),u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("en-GB"):"-"})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 text-zinc-500 hover:text-blue-500 bg-zinc-50 dark:bg-zinc-800/50 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Generate Report",children:[u.jsx(_i,{size:16})," ",u.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Report"})]})})]}),u.jsx("div",{children:u.jsx("input",{type:"text",className:"w-full text-2xl md:text-3xl font-black text-zinc-900 dark:text-white placeholder-zinc-300 dark:placeholder-zinc-700 border-none bg-transparent p-0 focus:ring-0 leading-tight transition-colors",value:n.subject||"",onChange:b=>e({subject:b.target.value}),placeholder:"Incident Subject..."})})]})}function n6({incident:n,onUpdate:e}){const t="w-full bg-transparent border-b border-zinc-200 dark:border-zinc-800 hover:border-zinc-400 dark:hover:border-zinc-600 focus:border-black dark:focus:border-white font-bold text-xs text-zinc-900 dark:text-white transition-all pb-1 placeholder-zinc-400 dark:placeholder-zinc-600 outline-none",r="block text-[9px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2 flex items-center gap-1.5";return u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 px-6 py-4 bg-zinc-50/50 dark:bg-zinc-900/20 border-b border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:r,children:[u.jsx(_z,{size:10})," Project"]}),u.jsx("input",{type:"text",className:t,value:n.project||"",onChange:a=>e({project:a.target.value}),placeholder:"Project Name"})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:r,children:[u.jsx(qS,{size:10})," Type"]}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:n.type||"Incident",onChange:a=>e({type:a.target.value}),className:`${t} appearance-none cursor-pointer`,children:[u.jsx("option",{className:"dark:bg-zinc-800",value:"Incident",children:"Incident"}),u.jsx("option",{className:"dark:bg-zinc-800",value:"Request",children:"Request"}),u.jsx("option",{className:"dark:bg-zinc-800",value:"Maintenance",children:"Maint."})]}),u.jsx(Eu,{size:12,className:"absolute right-0 top-1 text-zinc-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:r,children:[u.jsx(wb,{size:10})," Ticket ID"]}),u.jsx("input",{type:"text",className:`${t} font-mono text-blue-600 dark:text-blue-400`,value:n.ticket||"",onChange:a=>e({ticket:a.target.value}),placeholder:"NO-TICKET"})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:r,children:[u.jsx(GS,{size:10})," Reporter"]}),u.jsx("div",{className:"flex items-center gap-2 py-0.5 border-b border-zinc-200 dark:border-zinc-800 opacity-70",children:u.jsx("span",{className:"text-xs font-bold text-zinc-900 dark:text-white truncate",children:n.createdBy||"Unknown"})})]})]})}function r6({incident:n,onUpdate:e}){const t="block text-[9px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2",r="w-full text-xs font-medium text-zinc-700 dark:text-zinc-300 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl p-3 border border-zinc-200 dark:border-zinc-800 focus:bg-white dark:focus:bg-zinc-900 focus:border-black dark:focus:border-white transition-all resize-none placeholder-zinc-400 outline-none min-h-[80px]";return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 px-6 py-6 border-b border-zinc-200 dark:border-zinc-800",children:["impact","root_cause","action"].map(a=>u.jsxs("div",{className:"relative group",children:[u.jsx("label",{className:t,children:a.replace("_"," ")}),u.jsx("textarea",{className:r,value:n[a]||"",onChange:l=>e({[a]:l.target.value}),placeholder:`Describe ${a.replace("_"," ")}...`})]},a))})}function i6({incident:n,isLoading:e,onUpdateIncident:t,onAddEvent:r,onDeleteEvent:a,onUpdateEvent:l,onReorderEvent:c,onBack:h}){const[f,g]=M.useState(!1),[b,v]=M.useState(null),[x,E]=M.useState(!1),[A,N]=M.useState("");if(!n)return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-zinc-50 dark:bg-[#050505] transition-colors",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-zinc-100 to-zinc-200 dark:from-zinc-800 dark:to-zinc-900 flex items-center justify-center mb-6 shadow-inner",children:u.jsx(wu,{size:32,className:"text-zinc-300 dark:text-zinc-600"})}),u.jsx("p",{className:"font-black text-zinc-400 dark:text-zinc-600 uppercase tracking-widest text-xs",children:"Select an incident to view details"})]});const C=[...n.events||[]].sort((L,W)=>{if(typeof L.order=="number"&&typeof W.order=="number"&&L.order!==W.order)return L.order-W.order;const q=new Date(`${L.date||"1970-01-01"}T${L.time||"00:00"}`).getTime(),R=new Date(`${W.date||"1970-01-01"}T${W.time||"00:00"}`).getTime();return q-R}),D=(L,W)=>{const q=[...C],R=W==="up"?L-1:L+1;if(R<0||R>=q.length)return;[q[L],q[R]]=[q[R],q[L]];const k=q.map((j,U)=>({...j,order:U}));c&&c(n.id,k)},O=L=>{t(n.id,L)},F=()=>{const W=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"2-digit"}).replace(/ /g,"-").toLowerCase(),q={};C.forEach(k=>{const U=(k.date?new Date(k.date):new Date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"});q[U]||(q[U]=[]),q[U].push(k)});let R=`Project: ${n.project||"-"}
Subject: ${n.type||"Incident"} | ${n.subject||"-"} | ${W}
Status: ${n.status||"-"}
Ticket: ${n.ticket||"-"}
Impact: ${n.impact||"-"}
Root Cause: ${n.root_cause||"-"}
Action Taken: ${n.action||"-"}

`;Object.keys(q).forEach(k=>{R+=`${k}
`,q[k].forEach(j=>R+=`${j.time} - ${j.desc||j.title}
`),R+=`
`}),N(R),E(!0)};return u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-[#080808] relative transition-colors duration-300 overflow-hidden",children:[u.jsx(t6,{incident:n,onUpdate:O,onBack:h,onGenerateReport:F}),u.jsx(n6,{incident:n,onUpdate:O}),u.jsx(r6,{incident:n,onUpdate:O}),u.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-8 custom-scrollbar bg-zinc-50/50 dark:bg-black relative min-h-0",children:e?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400 gap-4",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-zinc-200 border-t-black dark:border-t-white rounded-full animate-spin"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] animate-pulse",children:"Loading Timeline..."})]}):C.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-300 dark:text-zinc-700 pb-20",children:[u.jsx(pn,{size:48,className:"mb-4 opacity-50"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"No timeline events recorded"}),u.jsx("button",{onClick:()=>{v(null),g(!0)},className:"mt-6 px-6 py-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase shadow-sm hover:shadow-md hover:border-black dark:hover:border-white transition-all",children:"Start Logging"})]}):u.jsxs("div",{className:"flex flex-col pb-24 relative max-w-3xl mx-auto",children:[u.jsx("div",{className:"absolute top-0 bottom-0 left-[31px] w-[2px] bg-zinc-200 dark:bg-zinc-800 z-0"}),C.map((L,W)=>{const q=W===0||L.date!==C[W-1].date,R=L.date?new Date(L.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}):"-";return u.jsx(K3,{event:L,index:W,isLastItem:W===C.length-1,showDateHeader:q,dateLabel:R,onMove:D,onEdit:k=>{v(k),g(!0)},onDelete:k=>a(n.id,k)},L.id)})]})}),u.jsx("button",{onClick:()=>{v(null),g(!0)},className:"absolute bottom-8 right-8 bg-black dark:bg-white text-white dark:text-black w-14 h-14 rounded-full shadow-2xl hover:shadow-blue-500/20 hover:scale-105 transition-all z-30 flex items-center justify-center active:scale-95 group",children:u.jsx(yo,{size:28,className:"group-hover:rotate-90 transition-transform duration-300"})}),u.jsx(J3,{isOpen:f,onClose:()=>g(!1),initialData:b,onSubmit:L=>{b?l(n.id,b.id,L):r(n.id,L),g(!1)}}),u.jsx(e6,{isOpen:x,onClose:()=>E(!1),text:A,incident:n})]})}M.createContext();function Fo({message:n,type:e="info",onClose:t,className:r=""}){if(!n)return null;const a={success:u.jsx(ar,{size:20}),error:u.jsx(Sr,{size:20}),warning:u.jsx(Zi,{size:20}),info:u.jsx(US,{size:20})},l={success:"bg-emerald-500 text-white border-emerald-600 shadow-emerald-500/25",error:"bg-red-500 text-white border-red-600 shadow-red-500/25",warning:"bg-orange-500 text-white border-orange-600 shadow-orange-500/25",info:"bg-blue-500 text-white border-blue-600 shadow-blue-500/25"};return u.jsxs("div",{className:`
      flex items-center gap-3 px-5 py-3.5 rounded-xl shadow-lg border-2
      ${l[e]||l.info}
      ${r}
    `,children:[u.jsx("div",{className:"shrink-0",children:a[e]}),u.jsx("p",{className:"text-sm font-bold pr-2",children:n}),u.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 transition-colors rounded-lg ml-2",children:u.jsx(kn,{size:16})})]})}function s6(){const{currentUser:n}=qn(),{incidents:e,filteredIncidents:t,selectedId:r,setSelectedId:a,loading:l,stats:c,searchTerm:h,setSearchTerm:f,filterStatus:g,setFilterStatus:b,filterType:v,setFilterType:x,clearFilters:E,hasActiveFilters:A}=$3(),{sortedEvents:N,loading:C}=Q3(r),[D,O]=M.useState({isOpen:!1}),[F,L]=M.useState({show:!1,message:"",type:"success"}),[W,q]=M.useState(!1),R=e.find(ae=>ae.id===r),k=M.useCallback((ae,pe="success")=>{L({show:!0,message:ae,type:pe}),setTimeout(()=>L(_e=>({..._e,show:!1})),3e3)},[]),j=async()=>{if(!n){k("Please login first!","error");return}q(!0);try{const ae=await Qi.createIncident({subject:"New Incident",project:"General",status:"Open",type:"Incident",ticket:"",createdBy:n,impact:"",root_cause:"",action:""});a(ae.id),k("Incident created")}catch(ae){console.error("Error creating incident:",ae),k(ae.message||"Failed to create incident","error")}finally{q(!1)}},U=ae=>{O({isOpen:!0,title:"Delete Incident?",message:"This action cannot be undone. All timeline events will be permanently deleted.",isDanger:!0,onConfirm:async()=>{try{await Qi.deleteIncident(ae),r===ae&&a(null),O({isOpen:!1}),k("Incident deleted")}catch(pe){console.error("Error deleting incident:",pe),k(pe.message||"Failed to delete","error")}}})},I=async(ae,pe)=>{try{await Qi.updateIncident(ae,pe)}catch(_e){console.error("Error updating incident:",_e),k(_e.message||"Failed to update","error")}},H=async(ae,pe)=>{try{await Qi.createEvent(ae,pe),k("Event added")}catch(_e){console.error("Error adding event:",_e),k(_e.message||"Failed to add event","error")}},P=async(ae,pe,_e)=>{try{await Qi.updateEvent(ae,pe,_e),k("Event updated")}catch(de){console.error("Error updating event:",de),k(de.message||"Failed to update event","error")}},Se=async(ae,pe)=>{O({isOpen:!0,title:"Delete Event?",message:"This timeline event will be permanently removed.",isDanger:!0,onConfirm:async()=>{try{await Qi.deleteEvent(ae,pe),O({isOpen:!1}),k("Event deleted")}catch(_e){console.error("Error deleting event:",_e),k(_e.message||"Failed to delete event","error")}}})},De=async(ae,pe)=>{try{await Qi.reorderEvents(ae,pe)}catch(_e){console.error("Error reordering events:",_e),k(_e.message||"Failed to reorder","error")}},re=ae=>{if(!ae||ae.length===0){k("No data to export","error");return}const _e=["Date,Project,Ticket,Type,Status,Subject,CreatedBy",...ae.map(Z=>{const ue=Z.createdAt?new Date(Z.createdAt).toLocaleDateString("en-GB"):"-",he=(Z.subject||"").replace(/"/g,'""');return`"${ue}","${Z.project||""}","${Z.ticket||""}","${Z.type||""}","${Z.status}","${he}","${Z.createdBy||""}"`})].join(`
`),de=new Blob(["\uFEFF"+_e],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a");V.href=URL.createObjectURL(de),V.download=`Incidents_Export_${new Date().toISOString().split("T")[0]}.csv`,V.click(),k("CSV exported")};return u.jsxs("div",{className:"w-full h-full flex overflow-hidden bg-zinc-50 dark:bg-black",children:[F.show&&u.jsx(Fo,{message:F.message,type:F.type,onClose:()=>L({...F,show:!1})}),u.jsx(qu,{isOpen:D.isOpen,onClose:()=>O({isOpen:!1}),...D}),u.jsx("div",{className:`
        h-full border-r border-zinc-200 dark:border-zinc-800 overflow-hidden bg-white dark:bg-[#050505] flex-shrink-0 transition-all duration-300
        ${r?"hidden lg:block lg:w-[350px]":"w-full lg:w-[350px]"}
      `,children:u.jsx(X3,{incidents:e,filteredIncidents:t,selectedId:r,onSelect:a,onAddIncident:j,onDeleteIncident:U,onExportCSV:re,stats:c,searchTerm:h,setSearchTerm:f,filterStatus:g,setFilterStatus:b,filterType:v,setFilterType:x,clearFilters:E,hasActiveFilters:A,loading:l})}),u.jsx("div",{className:`
        h-full flex-1 min-w-0 overflow-hidden bg-white dark:bg-[#09090b] relative
        ${r?"block":"hidden lg:block"}
      `,children:u.jsx(i6,{incident:R?{...R,events:N}:null,isLoading:C,onBack:()=>a(null),onUpdateIncident:I,onAddEvent:H,onUpdateEvent:P,onDeleteEvent:Se,onReorderEvent:De,saving:W})})]})}const Zc="shift_handovers",Jc={subscribeHandovers:(n,e=50)=>{const t=Si(gn(Ie,Zc),Hn("date","desc"),Hn("createdAt","desc"),LA(e));return nl(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data(),onDuty:l.data().onDuty||[],acknowledgedBy:l.data().acknowledgedBy||[]}));n(a)},r=>{console.error("Firestore subscription error:",r),n([])})},createHandover:async n=>{try{const e={...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),acknowledgedBy:n.acknowledgedBy||[],onDuty:n.onDuty||[]};return await jf(gn(Ie,Zc),e)}catch(e){throw console.error("Create handover error:",e),new Error("Failed to create handover log")}},updateHandover:async(n,e)=>{try{const t={...e,updatedAt:new Date().toISOString()};await gi(_t(Ie,Zc,n),t)}catch(t){throw console.error("Update handover error:",t),new Error("Failed to update handover log")}},deleteHandover:async n=>{try{await Em(_t(Ie,Zc,n))}catch(e){throw console.error("Delete handover error:",e),new Error("Failed to delete handover log")}},toggleAcknowledge:async(n,e,t)=>{try{const r=_t(Ie,Zc,n);await gi(r,{acknowledgedBy:t?SO(e):EO(e),updatedAt:new Date().toISOString()})}catch(r){throw console.error("Toggle acknowledge error:",r),new Error("Failed to update acknowledgment")}}},a6=()=>{const n=qn(I=>I.currentUser),e=qn(I=>I.nocMembers),[t,r]=M.useState([]),[a,l]=M.useState(!0),[c,h]=M.useState(!1),[f,g]=M.useState(""),[b,v]=M.useState("All"),[x,E]=M.useState("All"),[A,N]=M.useState(""),[C,D]=M.useState({show:!1,message:"",type:"success"}),O=M.useCallback((I,H="success")=>{D({show:!0,message:I,type:H}),setTimeout(()=>D(P=>({...P,show:!1})),3e3)},[]);M.useEffect(()=>{if(!n){r([]),l(!1);return}l(!0);const I=Jc.subscribeHandovers(H=>{r(H),l(!1)});return()=>I()},[n]);const F=M.useMemo(()=>t.filter(I=>{const H=A.toLowerCase(),P=I.note?.toLowerCase().includes(H)||!1,Se=(I.onDuty||[]).some(de=>typeof de=="string"&&de.toLowerCase().includes(H)),De=I.status?.toLowerCase().includes(H)||!1,re=!H||P||Se||De,ae=!f||I.date===f,pe=b==="All"||I.shift===b,_e=x==="All"||I.status===x;return re&&ae&&pe&&_e}),[t,A,f,b,x]),L=M.useCallback(I=>{const H=e.length,P=(I.acknowledgedBy||[]).length,Se=H>0?Math.round(P/H*100):0,De=P>=H;return{total:H,acked:P,percentage:Se,isComplete:De}},[e]),W=M.useMemo(()=>{const I=F.length,H=F.filter(Se=>Se.status!=="Normal").length,P=F.filter(Se=>{const{isComplete:De}=L(Se);return De}).length;return{total:I,withIssues:H,fullyAcked:P}},[F,L]);return{filteredHistory:F,loading:a,saving:c,stats:W,filterDate:f,setFilterDate:g,filterShift:b,setFilterShift:v,filterStatus:x,setFilterStatus:E,searchText:A,setSearchText:N,clearFilters:()=>{g(""),v("All"),E("All"),N("")},toast:C,setToast:D,showToast:O,handleSave:async(I,H,P)=>{h(!0);try{return H?(await Jc.updateHandover(P,I),O("Log updated successfully")):(await Jc.createHandover(I),O("Log created successfully")),!0}catch(Se){return O(Se.message||"Save failed","error"),!1}finally{h(!1)}},handleDelete:async I=>{try{await Jc.deleteHandover(I),O("Log deleted")}catch(H){O(H.message||"Delete failed","error")}},handleAcknowledge:async(I,H)=>{if(!n){O("Please login first!","error");return}const P=(I.acknowledgedBy||[]).includes(H);try{await Jc.toggleAcknowledge(I.id,H,P),O(P?"Acknowledgment removed":"Acknowledged ")}catch(Se){O(Se.message||"Failed to update","error")}},handleExportCSV:()=>{const H=["Date,Time,Shift,Status,Team,Acknowledged,Note",...F.map(De=>{const re=new Date(De.date).toLocaleDateString("en-GB"),ae=(De.note||"").replace(/"/g,'""'),pe=(De.onDuty||[]).join("; "),_e=(De.acknowledgedBy||[]).join("; ");return`"${re}","${De.time}","${De.shift}","${De.status}","${pe}","${_e}","${ae}"`})].join(`
`),P=new Blob(["\uFEFF"+H],{type:"text/csv;charset=utf-8;"}),Se=document.createElement("a");Se.href=URL.createObjectURL(P),Se.download=`NOC_Handover_${new Date().toISOString().split("T")[0]}.csv`,Se.click(),O("CSV exported")},getAckStats:L}};function l6({isOpen:n,onClose:e,onSubmit:t,initialData:r,isEditing:a,currentUser:l,saving:c=!1}){const{nocMembers:h}=qn(),f=Ur.useCallback(()=>{const L=new Date,W=L.getHours(),q=W>=20||W<8,R=L.toTimeString().slice(0,5);return{date:L.toISOString().split("T")[0],time:R,shift:q?"Night":"Morning",onDuty:l?[l]:[],status:"Normal",note:"",acknowledgedBy:[]}},[l]),[g,b]=M.useState(f()),[v,x]=M.useState({});M.useEffect(()=>{n&&(b(r?{...r,onDuty:r.onDuty||[],acknowledgedBy:r.acknowledgedBy||[]}:f()),x({}))},[n,r,f]);const E=L=>{b(W=>W.onDuty.includes(L)?{...W,onDuty:W.onDuty.filter(R=>R!==L)}:{...W,onDuty:[...W.onDuty,L]})},A=()=>{const L={};return g.date||(L.date="Date is required"),g.time||(L.time="Time is required"),(!g.onDuty||g.onDuty.length===0)&&(L.onDuty="At least one staff member required"),x(L),Object.keys(L).length===0},N=L=>{L?.preventDefault(),A()&&t(g)};if(M.useEffect(()=>{const L=W=>{W.key==="Escape"&&n&&e()};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[n,e]),!n)return null;const C="block text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2",D="w-full bg-zinc-50 dark:bg-zinc-950 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm font-bold text-zinc-900 dark:text-white focus:border-black dark:focus:border-white outline-none transition-all",O="text-[9px] font-bold text-red-500 mt-1",F=a?h:h.filter(L=>L.name===l);return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-zinc-900/60 dark:bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:e,children:u.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-[#18181b] rounded-[2rem] shadow-2xl border border-zinc-200 dark:border-zinc-700 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",onClick:L=>L.stopPropagation(),children:[u.jsxs("div",{className:"px-8 py-6 border-b border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-white to-zinc-50 dark:from-[#18181b] dark:to-zinc-900 flex justify-between items-center sticky top-0 z-10 shrink-0",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white flex items-center gap-2",children:[a?u.jsx(_i,{size:20,className:"text-zinc-400"}):u.jsx(pn,{size:20,className:"text-zinc-400"}),a?"Edit Log":"New Shift Log"]}),u.jsx("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest mt-1",children:a?"Update handover details":"Record shift handover"})]}),u.jsx("button",{onClick:e,disabled:c,className:"p-2 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:text-black dark:hover:text-white rounded-full transition-colors disabled:opacity-50",children:u.jsx(kn,{size:20})})]}),u.jsxs("div",{className:"p-8 overflow-y-auto space-y-6 bg-white dark:bg-[#18181b] [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Date"}),u.jsx("input",{type:"date",value:g.date,onChange:L=>b({...g,date:L.target.value}),className:`${D} px-2 text-center tracking-tight ${v.date?"border-red-400":""}`}),v.date&&u.jsx("p",{className:O,children:v.date})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Time"}),u.jsx("input",{type:"time",value:g.time,onChange:L=>b({...g,time:L.target.value}),className:`${D} px-2 text-center ${v.time?"border-red-400":""}`}),v.time&&u.jsx("p",{className:O,children:v.time})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Shift Type"}),u.jsx("div",{className:"flex flex-col gap-2",children:["Morning","Night"].map(L=>u.jsxs("button",{type:"button",onClick:()=>b({...g,shift:L}),className:`flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase transition-all border-2
                      ${g.shift===L?"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white shadow-md":"bg-zinc-50 text-zinc-400 border-zinc-100 dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-500 hover:border-zinc-300 dark:hover:border-zinc-600"}`,children:[L==="Morning"?u.jsx(rm,{size:14}):u.jsx(em,{size:14}),L," ",u.jsxs("span",{className:"text-[8px] opacity-60",children:["(",L==="Morning"?"08-20":"20-08",")"]})]},L))})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"On Duty"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(L=>{const W=g.onDuty.includes(L.name);return u.jsx("button",{type:"button",onClick:()=>E(L.name),className:`
                        flex flex-col items-center justify-center p-2 w-full rounded-xl border-2 transition-all
                        ${W?"bg-zinc-50 dark:bg-zinc-800 border-black dark:border-white opacity-100 shadow-sm":"bg-white dark:bg-transparent border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-600 opacity-60 hover:opacity-100"}
                      `,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`
                          w-6 h-6 rounded-full flex items-center justify-center text-[9px] font-black transition-colors
                          ${W?"bg-black text-white dark:bg-white dark:text-black":"bg-zinc-200 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400"}
                        `,children:L.name.charAt(0)}),u.jsx("span",{className:`text-[10px] font-bold uppercase truncate ${W?"text-black dark:text-white":"text-zinc-400"}`,children:L.name.split(" ")[0]})]})},L.id)})}),v.onDuty&&u.jsx("p",{className:O,children:v.onDuty}),l&&g.onDuty.includes(l)&&!a&&u.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-[9px] text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/30 py-1.5 px-2 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[u.jsx(ar,{size:10})," Will auto-acknowledge"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Shift Status"}),u.jsx("div",{className:"flex gap-3 p-1.5 bg-zinc-50 dark:bg-zinc-950 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:["Normal","Issues"].map(L=>u.jsxs("button",{type:"button",onClick:()=>b({...g,status:L}),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase transition-all
                    ${g.status===L?L==="Normal"?"bg-emerald-500 text-white shadow-lg ring-2 ring-emerald-200 dark:ring-emerald-900":"bg-red-500 text-white shadow-lg ring-2 ring-red-200 dark:ring-red-900":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}
                  `,children:[L==="Normal"?u.jsx(ar,{size:16}):u.jsx(Zi,{size:16}),L]},L))})]}),u.jsxs("div",{children:[u.jsx("label",{className:C,children:"Handover Remarks"}),u.jsx("textarea",{rows:4,placeholder:"Summary of events, pending tasks, or issues to hand over...",value:g.note,onChange:L=>b({...g,note:L.target.value}),className:`${D} resize-none min-h-[100px] leading-relaxed`}),u.jsxs("div",{className:"text-[9px] text-zinc-400 mt-1 text-right",children:[(g.note||"").length," characters"]})]})]}),u.jsxs("div",{className:"p-6 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-[#18181b]/50 flex gap-3 shrink-0",children:[u.jsx("button",{type:"button",onClick:e,disabled:c,className:"flex-1 py-3.5 rounded-xl border-2 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400 font-black uppercase text-[10px] tracking-widest hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors disabled:opacity-50",children:"Cancel"}),u.jsx("button",{onClick:N,disabled:c,className:"flex-[2] py-3.5 bg-black dark:bg-white text-white dark:text-black rounded-xl font-black uppercase text-[10px] tracking-widest hover:opacity-90 transition-opacity shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:c?u.jsxs(u.Fragment,{children:[u.jsx(Zs,{size:16,className:"animate-spin"})," Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(tm,{size:16})," Save Log"]})})]})]})})}function o6({log:n,isOpen:e,onClose:t,nocMembers:r}){if(!e||!n)return null;const a=r.length,l=(n.acknowledgedBy||[]).length,c=a>0?Math.round(l/a*100):0,h=l>=a;return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-zinc-900/60 dark:bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:t,children:u.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-[#18181b] rounded-[2rem] shadow-2xl border border-zinc-200 dark:border-zinc-700 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",onClick:f=>f.stopPropagation(),children:[u.jsx("div",{className:"px-8 py-6 border-b border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-zinc-50 to-white dark:from-zinc-900 dark:to-[#18181b]",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[n.shift==="Morning"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-gradient-to-r from-orange-100 to-amber-100 dark:from-orange-900/30 dark:to-amber-900/30 text-orange-600 dark:text-orange-400 px-2.5 py-1 rounded-full",children:[u.jsx(rm,{size:12})," Morning Shift"]}):u.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-600 dark:text-indigo-400 px-2.5 py-1 rounded-full",children:[u.jsx(em,{size:12})," Night Shift"]}),n.status==="Normal"?u.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 px-2.5 py-1 rounded-full",children:[u.jsx(ar,{size:12})," Normal"]}):u.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2.5 py-1 rounded-full animate-pulse",children:[u.jsx(Zi,{size:12})," Issues"]})]}),u.jsx("h2",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white",children:"Shift Log Details"})]}),u.jsx("button",{onClick:t,className:"p-2 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:text-black dark:hover:text-white rounded-full transition-colors hover:bg-zinc-200 dark:hover:bg-zinc-700",children:u.jsx(kn,{size:20})})]})}),u.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-6",children:[u.jsxs("div",{className:`p-4 rounded-2xl border-2 ${h?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500 flex items-center gap-1",children:[u.jsx(oj,{size:12})," Acknowledgment Status"]}),u.jsxs("span",{className:`text-sm font-black ${h?"text-emerald-600":"text-amber-600"}`,children:[c,"%"]})]}),u.jsx("div",{className:"w-full h-2 bg-zinc-200 dark:bg-zinc-700 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-700 rounded-full ${h?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${c}%`}})}),u.jsxs("div",{className:"mt-2 text-[10px] font-bold text-zinc-500",children:[l," of ",a," team members acknowledged"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[u.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-1",children:[u.jsx(sr,{size:10,className:"inline mr-1"}),"Date"]}),u.jsx("div",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:new Date(n.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"long",year:"numeric"})})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[u.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-1",children:[u.jsx(pn,{size:10,className:"inline mr-1"}),"Time Logged"]}),u.jsx("div",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:n.time})]})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3 flex items-center gap-1",children:[u.jsx(lu,{size:12})," On Duty"]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:n.onDuty&&n.onDuty.length>0?n.onDuty.map((f,g)=>u.jsxs("div",{className:"flex items-center gap-2 pl-1 pr-3 py-1.5 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-full shadow-sm",children:[u.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-zinc-800 to-zinc-900 dark:from-white dark:to-zinc-100 text-white dark:text-black flex items-center justify-center text-[10px] font-black",children:f.charAt(0)}),u.jsx("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-200",children:f})]},g)):u.jsx("span",{className:"text-xs text-zinc-400 italic",children:"No staff assigned"})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3",children:"Remarks / Note"}),u.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 p-5 rounded-2xl border border-zinc-100 dark:border-zinc-800 text-sm font-medium text-zinc-700 dark:text-zinc-300 leading-relaxed whitespace-pre-wrap min-h-[80px]",children:n.note||u.jsx("span",{className:"text-zinc-400 italic",children:"No additional remarks."})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3",children:"Acknowledged By"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((f,g)=>{const b=(n.acknowledgedBy||[]).includes(f.name);return u.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-[10px] font-bold border transition-all ${b?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800":"bg-zinc-50 dark:bg-zinc-800 text-zinc-400 border-zinc-200 dark:border-zinc-700 opacity-60"}`,children:[b?u.jsx(ar,{size:12}):u.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"}),f.name]},f.id||g)})})]})]}),u.jsx("div",{className:"px-8 py-4 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50",children:u.jsx("button",{onClick:t,className:"w-full py-3 rounded-xl border-2 border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400 font-black uppercase text-[10px] tracking-widest hover:bg-white dark:hover:bg-zinc-800 transition-colors",children:"Close"})})]})})}function c6({log:n,currentUser:e,nocMembers:t,onView:r,onEdit:a,onDelete:l,onAck:c,getAckStats:h}){const f=h?h(n):{total:t.length,acked:(n.acknowledgedBy||[]).length,percentage:0,isComplete:!1};!f.percentage&&t.length>0&&(f.percentage=Math.round(f.acked/f.total*100),f.isComplete=f.acked>=f.total);const g=n.shift==="Morning",b=g?"from-orange-500/10 to-amber-500/10 dark:from-orange-500/20 dark:to-amber-500/20 border-l-orange-500":"from-indigo-500/10 to-violet-500/10 dark:from-indigo-500/20 dark:to-violet-500/20 border-l-indigo-500";return u.jsxs("div",{onClick:r,className:`group relative bg-white dark:bg-[#0a0a0a] rounded-2xl border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden border-l-4 ${b}`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${g?"from-orange-500":"from-indigo-500"} opacity-[0.03] rounded-bl-full pointer-events-none`}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-zinc-100 dark:bg-zinc-800",children:u.jsx("div",{className:`h-full transition-all duration-500 ${f.isComplete?"bg-emerald-500":f.percentage>50?"bg-blue-500":f.percentage>0?"bg-amber-500":"bg-zinc-300 dark:bg-zinc-700"}`,style:{width:`${f.percentage}%`}})}),u.jsxs("div",{className:"flex flex-col md:flex-row p-5 gap-6 relative",children:[u.jsxs("div",{className:"flex md:flex-col items-center md:items-start gap-3 md:w-32 shrink-0 border-b md:border-b-0 md:border-r border-zinc-100 dark:border-zinc-800 pb-4 md:pb-0 md:pr-4",children:[u.jsx("div",{className:`p-2.5 rounded-xl shrink-0 ${g?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400"}`,children:g?u.jsx(rm,{size:18}):u.jsx(em,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-xs font-black uppercase text-zinc-900 dark:text-white tracking-wide",children:new Date(n.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})}),u.jsx("span",{className:"block text-[10px] font-bold text-zinc-400 font-mono mt-0.5",children:n.time}),u.jsxs("div",{className:`mt-2 text-[9px] font-bold uppercase tracking-wider ${f.isComplete?"text-emerald-500":"text-zinc-400"}`,children:[f.acked,"/",f.total," Ack"]})]})]}),u.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[u.jsxs("div",{className:"mb-3",children:[n.status!=="Normal"&&u.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 text-[9px] font-black text-red-600 dark:text-red-400 uppercase tracking-wide mb-2",children:[u.jsx(Sr,{size:10})," Issue Reported"]}),u.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 line-clamp-2 leading-relaxed",children:n.note||u.jsx("span",{className:"text-zinc-400 italic",children:"No remarks recorded."})})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[u.jsx("div",{className:"flex -space-x-1.5",children:n.onDuty&&n.onDuty.length>0?n.onDuty.map((v,x)=>u.jsx("div",{title:v,className:"w-5 h-5 rounded-full bg-zinc-100 dark:bg-zinc-800 border border-white dark:border-black flex items-center justify-center text-[8px] font-black text-zinc-500 uppercase",children:v.charAt(0)},x)):u.jsx("span",{className:"text-[10px] text-zinc-300",children:"-"})}),u.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider pl-1",children:"On Duty"})]})]}),u.jsxs("div",{className:"flex flex-row md:flex-col items-center justify-between md:justify-center gap-4 pl-0 md:pl-4 border-t md:border-t-0 md:border-l border-zinc-100 dark:border-zinc-800 pt-4 md:pt-0",children:[u.jsx("div",{className:"flex md:grid md:grid-cols-2 gap-1.5",children:t.map((v,x)=>{const E=(n.acknowledgedBy||[]).includes(v.name),A=e===v.name;return u.jsx("div",{onClick:N=>{N.stopPropagation(),A&&c(n,v.name)},className:`
                    w-7 h-7 rounded-full border flex items-center justify-center text-[9px] font-black transition-all duration-200
                    ${A?"cursor-pointer hover:scale-110 shadow-sm":"cursor-default"}
                    ${E?"bg-zinc-900 text-white dark:bg-white dark:text-black border-transparent":"bg-zinc-50 dark:bg-zinc-900 text-zinc-400 border-zinc-200 dark:border-zinc-800"}
                    ${A&&!E?"ring-2 ring-blue-500/50 animate-pulse":""}
                  `,title:`${v.name} ${E?"(Acknowledged)":"(Pending)"}`,children:E?u.jsx(Fu,{size:10,strokeWidth:4}):v.name.charAt(0)},v.id||x)})}),u.jsxs("div",{className:"flex gap-1 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200",children:[u.jsx("button",{onClick:v=>{v.stopPropagation(),a(n)},className:"p-1.5 text-zinc-400 hover:text-blue-500 transition-colors bg-zinc-50 dark:bg-zinc-900 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Edit",children:u.jsx(Eb,{size:12})}),u.jsx("button",{onClick:v=>{v.stopPropagation(),l(n.id)},className:"p-1.5 text-zinc-400 hover:text-red-500 transition-colors bg-zinc-50 dark:bg-zinc-900 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete",children:u.jsx(oa,{size:12})})]})]})]})]})}function u6(){const{currentUser:n,nocMembers:e}=qn(),{filteredHistory:t,loading:r,saving:a,stats:l,searchText:c,setSearchText:h,filterShift:f,setFilterShift:g,filterStatus:b,setFilterStatus:v,clearFilters:x,handleSave:E,handleDelete:A,handleAcknowledge:N,handleExportCSV:C,toast:D,setToast:O,getAckStats:F}=a6(),[L,W]=M.useState(!1),[q,R]=M.useState(!1),[k,j]=M.useState(null),[U,I]=M.useState(!1),[H,P]=M.useState({isOpen:!1}),[Se,De]=M.useState(!1),re=(de=null)=>{I(!!de),j(de),W(!0)},ae=async de=>{let V={...de};U||(V.timestamp=new Date().toISOString(),n&&(!V.onDuty||V.onDuty.length===0?V.onDuty=[n]:V.onDuty.includes(n)||(V.onDuty=[...V.onDuty,n]),V.acknowledgedBy=[n])),await E(V,U,k?.id)&&W(!1)},pe=async de=>{await A(de),P({isOpen:!1})},_e=c||f!=="All"||b!=="All";return u.jsxs("div",{className:"h-full flex flex-col bg-zinc-50 dark:bg-black overflow-hidden relative",children:[D.show&&u.jsx(Fo,{message:D.message,type:D.type,onClose:()=>O({...D,show:!1})}),u.jsx(qu,{isOpen:H.isOpen,onClose:()=>P({isOpen:!1}),...H}),u.jsx(l6,{isOpen:L,onClose:()=>W(!1),onSubmit:ae,initialData:k,isEditing:U,currentUser:n,saving:a}),u.jsx(o6,{log:k,isOpen:q,onClose:()=>R(!1),nocMembers:e}),u.jsxs("div",{className:"flex-shrink-0 relative overflow-hidden bg-white dark:bg-[#050505] border-b border-zinc-200 dark:border-zinc-800 z-10 transition-all duration-300",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-indigo-600/5 dark:from-blue-600/10 dark:to-indigo-600/10"}),u.jsxs("div",{className:"relative px-4 md:px-8 py-6",children:[u.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-end gap-6 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/20 text-white",children:u.jsx(_i,{size:32})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight dark:text-white leading-none",children:"Handover"}),u.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mt-1",children:"Shift Logs & Acknowledgment"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 w-full xl:w-auto",children:[u.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm",children:[u.jsx("div",{className:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-zinc-500",children:u.jsx(IS,{size:16})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xl font-black dark:text-white leading-none",children:l.total}),u.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Total Logs"})]})]}),u.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm",children:[u.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg text-emerald-600 dark:text-emerald-400",children:u.jsx(yb,{size:16})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xl font-black text-emerald-600 dark:text-emerald-400 leading-none",children:l.fullyAcked}),u.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Acked"})]})]}),l.withIssues>0&&u.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm ring-1 ring-red-500/20",children:[u.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg text-red-600 dark:text-red-400 animate-pulse",children:u.jsx(Sr,{size:16})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xl font-black text-red-600 dark:text-red-400 leading-none",children:l.withIssues}),u.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Issues"})]})]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Tu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),u.jsx("input",{type:"text",placeholder:"Search logs by note, duty staff...",value:c,onChange:de=>h(de.target.value),className:"w-full h-11 pl-10 pr-4 bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl text-xs font-bold outline-none focus:border-blue-500 dark:focus:border-blue-500 transition-all placeholder:text-zinc-400"})]}),u.jsxs("div",{className:"flex gap-2 shrink-0",children:[u.jsxs("button",{onClick:()=>De(!Se),className:`h-11 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all border-2 ${_e?"bg-blue-500 text-white border-blue-500 shadow-lg shadow-blue-500/20":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[u.jsx(ku,{size:14}),u.jsx("span",{className:"hidden sm:inline",children:"Filter"}),_e&&u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),u.jsx("button",{onClick:C,className:"h-11 w-11 flex items-center justify-center bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl text-zinc-500 hover:text-black dark:hover:text-white hover:border-zinc-300 dark:hover:border-zinc-700 transition-all",title:"Export to CSV",children:u.jsx(_b,{size:16})}),u.jsxs("button",{onClick:()=>re(),className:"h-11 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:shadow-lg hover:shadow-blue-500/25 transition-all flex items-center justify-center gap-2 active:scale-95",children:[u.jsx(yo,{size:16})," ",u.jsx("span",{className:"hidden sm:inline",children:"New Log"})]})]})]}),Se&&u.jsx("div",{className:"mt-4 p-4 bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-100 dark:border-zinc-800 rounded-2xl animate-in slide-in-from-top-2 duration-200",children:u.jsxs("div",{className:"flex flex-wrap gap-6 items-center",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("span",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest",children:"Shift Type"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Morning","Night"].map(de=>u.jsx("button",{onClick:()=>g(de),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${f===de?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-700 hover:border-zinc-400"}`,children:de},de))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("span",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest",children:"Status"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Normal","Issues"].map(de=>u.jsx("button",{onClick:()=>v(de),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${b===de?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-700 hover:border-zinc-400"}`,children:de},de))})]}),_e&&u.jsxs("button",{onClick:x,className:"ml-auto px-4 py-2 rounded-xl text-[10px] font-bold text-red-500 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 border border-transparent hover:border-red-200 transition-colors flex items-center gap-1",children:[u.jsx(kn,{size:14})," Clear All Filters"]})]})})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-8 py-6 custom-scrollbar",children:u.jsx("div",{className:"max-w-5xl mx-auto space-y-4 pb-20",children:r?u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"inline-block w-8 h-8 border-2 border-zinc-300 border-t-black dark:border-zinc-700 dark:border-t-white rounded-full animate-spin mb-4"}),u.jsx("p",{className:"text-zinc-400 text-xs font-bold uppercase",children:"Loading Logs..."})]}):t.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[u.jsx(_i,{size:48,className:"text-zinc-300 dark:text-zinc-700 mb-4"}),u.jsx("p",{className:"text-zinc-400 text-xs font-bold uppercase tracking-widest mb-4",children:_e?"No matching logs":"No logs found"}),_e&&u.jsx("button",{onClick:x,className:"px-4 py-2 text-[10px] font-bold uppercase bg-zinc-200 dark:bg-zinc-800 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:"Clear Filters"})]}):t.map(de=>u.jsx(c6,{log:de,currentUser:n,nocMembers:e,getAckStats:F,onView:()=>{j(de),R(!0)},onEdit:re,onDelete:V=>P({isOpen:!0,title:"Delete Log?",message:"This action cannot be undone.",isDanger:!0,onConfirm:()=>pe(V)}),onAck:N},de.id))})})]})}const eE="ticket_logs",dT={subscribeLogs:n=>{const e=Si(gn(Ie,eE),Hn("date","desc"));return nl(e,t=>{const r=t.docs.map(a=>({id:a.id,...a.data()}));n(r)},t=>{console.error("Error subscribing to ticket logs:",t),n([])})},importLogs:async n=>{try{const e=Mf(Ie);return n.forEach(t=>{const r=_t(gn(Ie,eE));e.set(r,{...t,importedAt:fu(),updatedAt:fu()})}),await e.commit()}catch(e){throw console.error("Error importing logs:",e),e}}},d6=()=>{const[n,e]=M.useState([]),[t,r]=M.useState(!0),[a,l]=M.useState("");M.useEffect(()=>{r(!0);const f=dT.subscribeLogs(g=>{e(g),r(!1)});return()=>f()},[]);const c=M.useMemo(()=>{const f=a.toLowerCase().trim();return f?n.filter(g=>(g.ticketNumber||"").toLowerCase().includes(f)||(g.shortDesc||"").toLowerCase().includes(f)||(g.assign||"").toLowerCase().includes(f)||(g.category||"").toLowerCase().includes(f)):n},[n,a]),h=M.useMemo(()=>n?{total:n.length,succeed:n.filter(f=>f.status==="Succeed").length,pending:n.filter(f=>f.status!=="Succeed"&&f.status!=="").length,incidents:n.filter(f=>f.type==="Incident").length}:{total:0,succeed:0,pending:0,incidents:0},[n]);return{logs:c,allLogs:n,stats:h,loading:t,searchTerm:a,setSearchTerm:l}},h6=n=>{if(!n)return[];const e=n.split(`
`).filter(t=>t.trim()!=="");return e.length<2?[]:e.slice(1).map(t=>{const a=(t.match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g)||[]).map(l=>l.replace(/^"|"$/g,"").trim());return a.length<5?null:{no:a[1]||"",date:a[2]||"",ticketNumber:a[3]||"",type:a[4]||"Incident",status:a[5]||"Open",severity:a[6]||"",category:a[7]||"",subCategory:a[8]||"",shortDesc:a[9]||"",detail:a[10]||"",action:a[11]||"",resolvedDetail:a[12]||"",assign:a[13]||"",remark:a[14]||""}}).filter(Boolean)};function f6({stats:n={}}){const e=[{label:"Total Tickets",value:n?.total||0,icon:_i,color:"text-blue-500",bg:"bg-blue-50"},{label:"Succeed",value:n?.succeed||0,icon:yb,color:"text-green-500",bg:"bg-green-50"},{label:"Pending",value:n?.pending||0,icon:pn,color:"text-orange-500",bg:"bg-orange-50"},{label:"Incidents",value:n?.incidents||0,icon:Sr,color:"text-red-500",bg:"bg-red-50"}];return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((t,r)=>u.jsx("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-2xl ${t.bg} dark:bg-opacity-10 ${t.color}`,children:u.jsx(t.icon,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-400 tracking-widest",children:t.label}),u.jsx("p",{className:"text-2xl font-black dark:text-white leading-none mt-1",children:t.value})]})]})},r))})}function m6({ticket:n,onClose:e}){return n?u.jsxs("div",{className:"fixed inset-y-0 right-0 w-full md:w-[450px] bg-white dark:bg-[#050505] shadow-2xl z-50 border-l border-zinc-200 dark:border-zinc-800 flex flex-col animate-in slide-in-from-right duration-300",children:[u.jsxs("div",{className:"p-6 border-b border-zinc-100 dark:border-zinc-900 flex justify-between items-center",children:[u.jsx("h2",{className:"font-black uppercase tracking-tighter text-xl dark:text-white",children:"Ticket Detail"}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-900 rounded-full transition-colors text-zinc-400",children:u.jsx(kn,{size:20})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-blue-500 uppercase tracking-widest",children:[u.jsx(qS,{size:12})," ",n.category||"General"," / ",n.subCategory||"Other"]}),u.jsx("h3",{className:"text-lg font-bold leading-snug dark:text-white",children:n.shortDesc}),u.jsx("p",{className:"text-xs font-mono text-zinc-400 font-bold tracking-tighter uppercase",children:n.ticketNumber})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-zinc-400 tracking-widest border-b border-zinc-100 dark:border-zinc-900 pb-2",children:[u.jsx(US,{size:14})," Description & Detail"]}),u.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed whitespace-pre-wrap",children:n.detail||""})]}),u.jsxs("section",{className:"space-y-3",children:[u.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-zinc-400 tracking-widest border-b border-zinc-100 dark:border-zinc-900 pb-2",children:[u.jsx(yb,{size:14})," Action & Resolution"]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-black text-zinc-400 uppercase mb-1",children:"Action Taken"}),u.jsx("p",{className:"text-sm dark:text-zinc-200",children:n.action||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-black text-zinc-400 uppercase mb-1",children:"Resolved Detail"}),u.jsx("p",{className:"text-sm dark:text-zinc-200",children:n.resolvedDetail||"-"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-zinc-900 dark:bg-white rounded-2xl text-white dark:text-black",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 dark:bg-zinc-100 flex items-center justify-center font-black",children:n.assign?.charAt(0).toUpperCase()||"U"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[9px] font-black uppercase opacity-60 tracking-widest",children:"Assigned To"}),u.jsx("p",{className:"text-sm font-bold",children:n.assign||"Unassigned"})]})]})]})]}):null}function g6(){const{logs:n,stats:e,loading:t,searchTerm:r,setSearchTerm:a}=d6(),[l,c]=M.useState(!1),[h,f]=M.useState(null),g=async b=>{const v=b.target.files[0];if(!v)return;c(!0);const x=new FileReader;x.onload=async E=>{try{const A=E.target.result,N=h6(A);N.length>0&&(await dT.importLogs(N),alert(` ${N.length} `))}catch(A){console.error("Import error:",A),alert("")}finally{c(!1),b.target.value=null}},x.readAsText(v)};return u.jsxs("div",{className:"flex h-full bg-zinc-50 dark:bg-black overflow-hidden relative",children:[u.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[u.jsxs("header",{className:"p-6 bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-black uppercase tracking-tighter dark:text-white",children:"Ticket Log Management"}),u.jsx("p",{className:"text-xs text-zinc-500 font-medium",children:" NOC"})]}),u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("label",{className:`
              flex items-center gap-2 px-4 py-2.5 bg-black dark:bg-white text-white dark:text-black 
              rounded-xl text-xs font-black uppercase tracking-widest cursor-pointer 
              hover:opacity-80 transition-all shadow-lg shadow-black/10
              ${l?"opacity-50 cursor-not-allowed":""}
            `,children:[u.jsx(kj,{size:16,strokeWidth:3}),u.jsx("span",{children:l?"Processing...":"Import CSV"}),u.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:g,disabled:l})]})})]}),u.jsxs("main",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[u.jsx(f6,{stats:e}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Tu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),u.jsx("input",{type:"text",placeholder:" Ticket,  ...",className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl outline-none focus:ring-2 ring-black dark:ring-white transition-all shadow-sm text-sm",value:r,onChange:b=>a(b.target.value)})]}),u.jsxs("button",{className:"flex items-center justify-center gap-2 px-6 py-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl text-xs font-bold hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[u.jsx(ku,{size:16}),"Filters"]})]}),u.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-[2rem] overflow-hidden shadow-sm flex flex-col",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 bg-zinc-50/50 dark:bg-zinc-800/30 border-b border-zinc-200 dark:border-zinc-800",children:[u.jsx("th",{className:"px-6 py-5",children:"Date / ID"}),u.jsx("th",{className:"px-6 py-5",children:"Subject & Detail"}),u.jsx("th",{className:"px-6 py-5",children:"Status"}),u.jsx("th",{className:"px-6 py-5",children:"Assigned To"}),u.jsx("th",{className:"px-6 py-5 w-10"})]})}),u.jsx("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:t?u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"px-6 py-20 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-6 h-6 border-2 border-zinc-200 border-t-black dark:border-t-white rounded-full animate-spin"}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Loading Logs..."})]})})}):n.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"px-6 py-20 text-center text-zinc-400 text-xs font-bold",children:""})}):n.map(b=>u.jsxs("tr",{onClick:()=>f(b),className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/30 transition-all cursor-pointer",children:[u.jsx("td",{className:"px-6 py-6 whitespace-nowrap",children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-sm font-bold dark:text-white",children:b.date}),u.jsx("span",{className:"text-[10px] text-zinc-400 font-mono font-bold tracking-tighter uppercase",children:b.ticketNumber})]})}),u.jsx("td",{className:"px-6 py-6",children:u.jsxs("div",{className:"flex flex-col gap-1 max-w-md",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"text-[9px] font-black bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded uppercase tracking-tighter dark:text-zinc-300",children:b.category})}),u.jsx("p",{className:"text-xs font-bold text-zinc-800 dark:text-zinc-200 line-clamp-1 group-hover:text-blue-500 transition-colors",children:b.shortDesc})]})}),u.jsx("td",{className:"px-6 py-6",children:u.jsxs("div",{className:`
                            inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider
                            ${b.status==="Succeed"?"bg-green-50 text-green-600 dark:bg-green-500/10":"bg-orange-50 text-orange-600 dark:bg-orange-500/10"}
                          `,children:[b.status==="Succeed"?u.jsx(ar,{size:12,strokeWidth:3}):u.jsx(pn,{size:12,strokeWidth:3}),b.status]})}),u.jsx("td",{className:"px-6 py-6 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-[10px] font-black",children:b.assign?.charAt(0).toUpperCase()||"?"}),u.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-400",children:b.assign||"N/A"})]})}),u.jsx("td",{className:"px-6 py-6",children:u.jsx("button",{className:"p-2 text-zinc-300 hover:text-black dark:hover:text-white transition-colors",children:u.jsx(oz,{size:16})})})]},b.id))})]})})})]})]}),u.jsx(m6,{ticket:h,onClose:()=>f(null)})]})}const hT=6048e5,p6=864e5,tE=Symbol.for("constructDateFrom");function Fr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&tE in n?n[tE](e):n instanceof Date?new n.constructor(e):new Date(e)}function kr(n,e){return Fr(e||n,n)}function fT(n,e,t){const r=kr(n,t?.in);return isNaN(e)?Fr(n,NaN):(e&&r.setDate(r.getDate()+e),r)}let b6={};function km(){return b6}function Ou(n,e){const t=km(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=kr(n,e?.in),l=a.getDay(),c=(l<r?7:0)+l-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Of(n,e){return Ou(n,{...e,weekStartsOn:1})}function mT(n,e){const t=kr(n,e?.in),r=t.getFullYear(),a=Fr(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=Of(a),c=Fr(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const h=Of(c);return t.getTime()>=l.getTime()?r+1:t.getTime()>=h.getTime()?r:r-1}function nE(n){const e=kr(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function gT(n,...e){const t=Fr.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Vf(n,e){const t=kr(n,e?.in);return t.setHours(0,0,0,0),t}function y6(n,e,t){const[r,a]=gT(t?.in,n,e),l=Vf(r),c=Vf(a),h=+l-nE(l),f=+c-nE(c);return Math.round((h-f)/p6)}function v6(n,e){const t=mT(n,e),r=Fr(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Of(r)}function x6(n){return Fr(n,Date.now())}function _6(n,e,t){const[r,a]=gT(t?.in,n,e);return+Vf(r)==+Vf(a)}function w6(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function E6(n){return!(!w6(n)&&typeof n!="number"||isNaN(+kr(n)))}function S6(n,e){const t=kr(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const k6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A6=(n,e,t)=>{let r;const a=k6[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function n0(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const T6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},C6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R6={date:n0({formats:T6,defaultWidth:"full"}),time:n0({formats:C6,defaultWidth:"full"}),dateTime:n0({formats:N6,defaultWidth:"full"})},D6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z6=(n,e,t,r)=>D6[n];function eu(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,h=t?.width?String(t.width):c;a=n.formattingValues[h]||n.formattingValues[c]}else{const c=n.defaultWidth,h=t?.width?String(t.width):n.defaultWidth;a=n.values[h]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return a[l]}}const j6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L6=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},U6={ordinalNumber:L6,era:eu({values:j6,defaultWidth:"wide"}),quarter:eu({values:M6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:eu({values:I6,defaultWidth:"wide"}),day:eu({values:O6,defaultWidth:"wide"}),dayPeriod:eu({values:V6,defaultWidth:"wide",formattingValues:P6,defaultFormattingWidth:"wide"})};function tu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?H6(h,v=>v.test(c)):B6(h,v=>v.test(c));let g;g=n.valueCallback?n.valueCallback(f):f,g=t.valueCallback?t.valueCallback(g):g;const b=e.slice(c.length);return{value:g,rest:b}}}function B6(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function H6(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function F6(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const h=e.slice(a.length);return{value:c,rest:h}}}const q6=/^(\d+)(th|st|nd|rd)?/i,G6=/\d+/i,$6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q6={any:[/^b/i,/^(a|c)/i]},Y6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W6={any:[/1/i,/2/i,/3/i,/4/i]},X6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},K6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},e9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},t9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},n9={ordinalNumber:F6({matchPattern:q6,parsePattern:G6,valueCallback:n=>parseInt(n,10)}),era:tu({matchPatterns:$6,defaultMatchWidth:"wide",parsePatterns:Q6,defaultParseWidth:"any"}),quarter:tu({matchPatterns:Y6,defaultMatchWidth:"wide",parsePatterns:W6,defaultParseWidth:"any",valueCallback:n=>n+1}),month:tu({matchPatterns:X6,defaultMatchWidth:"wide",parsePatterns:K6,defaultParseWidth:"any"}),day:tu({matchPatterns:Z6,defaultMatchWidth:"wide",parsePatterns:J6,defaultParseWidth:"any"}),dayPeriod:tu({matchPatterns:e9,defaultMatchWidth:"any",parsePatterns:t9,defaultParseWidth:"any"})},r9={code:"en-US",formatDistance:A6,formatLong:R6,formatRelative:z6,localize:U6,match:n9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function i9(n,e){const t=kr(n,e?.in);return y6(t,S6(t))+1}function s9(n,e){const t=kr(n,e?.in),r=+Of(t)-+v6(t);return Math.round(r/hT)+1}function pT(n,e){const t=kr(n,e?.in),r=t.getFullYear(),a=km(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Fr(e?.in||n,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const h=Ou(c,e),f=Fr(e?.in||n,0);f.setFullYear(r,0,l),f.setHours(0,0,0,0);const g=Ou(f,e);return+t>=+h?r+1:+t>=+g?r:r-1}function a9(n,e){const t=km(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=pT(n,e),l=Fr(e?.in||n,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),Ou(l,e)}function l9(n,e){const t=kr(n,e?.in),r=+Ou(t,e)-+a9(t,e);return Math.round(r/hT)+1}function at(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Ls={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return at(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):at(t+1,2)},d(n,e){return at(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return at(n.getHours()%12||12,e.length)},H(n,e){return at(n.getHours(),e.length)},m(n,e){return at(n.getMinutes(),e.length)},s(n,e){return at(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return at(a,e.length)}},io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rE={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Ls.y(n,e)},Y:function(n,e,t,r){const a=pT(n,r),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return at(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):at(l,e.length)},R:function(n,e){const t=mT(n);return at(t,e.length)},u:function(n,e){const t=n.getFullYear();return at(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return at(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Ls.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=l9(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):at(a,e.length)},I:function(n,e,t){const r=s9(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):at(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ls.d(n,e)},D:function(n,e,t){const r=i9(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):at(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return at(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return at(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return at(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=io.noon:r===0?a=io.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=io.evening:r>=12?a=io.afternoon:r>=4?a=io.morning:a=io.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Ls.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ls.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ls.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ls.s(n,e)},S:function(n,e){return Ls.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return sE(r);case"XXXX":case"XX":return qa(r);case"XXXXX":case"XXX":default:return qa(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return sE(r);case"xxxx":case"xx":return qa(r);case"xxxxx":case"xxx":default:return qa(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iE(r,":");case"OOOO":default:return"GMT"+qa(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iE(r,":");case"zzzz":default:return"GMT"+qa(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return at(r,e.length)},T:function(n,e,t){return at(+n,e.length)}};function iE(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),l=r%60;return l===0?t+String(a):t+String(a)+e+at(l,2)}function sE(n,e){return n%60===0?(n>0?"-":"+")+at(Math.abs(n)/60,2):qa(n,e)}function qa(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=at(Math.trunc(r/60),2),l=at(r%60,2);return t+a+e+l}const aE=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bT=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},o9=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return aE(n,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",aE(r,e)).replace("{{time}}",bT(a,e))},c9={p:bT,P:o9},u9=/^D+$/,d9=/^Y+$/,h9=["D","DD","YY","YYYY"];function f9(n){return u9.test(n)}function m9(n){return d9.test(n)}function g9(n,e,t){const r=p9(n,e,t);if(console.warn(r),h9.includes(n))throw new RangeError(r)}function p9(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const b9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v9=/^'([^]*?)'?$/,x9=/''/g,_9=/[a-zA-Z]/;function gu(n,e,t){const r=km(),a=r.locale??r9,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=kr(n,t?.in);if(!E6(h))throw new RangeError("Invalid time value");let f=e.match(y9).map(b=>{const v=b[0];if(v==="p"||v==="P"){const x=c9[v];return x(b,a.formatLong)}return b}).join("").match(b9).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:w9(b)};if(rE[v])return{isToken:!0,value:b};if(v.match(_9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(f=a.localize.preprocessor(h,f));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(b=>{if(!b.isToken)return b.value;const v=b.value;(m9(v)||f9(v))&&g9(v,e,String(n));const x=rE[v[0]];return x(h,v,a.localize,g)}).join("")}function w9(n){const e=n.match(v9);return e?e[1].replace(x9,"'"):n}function lE(n,e){return _6(Fr(n,n),x6(n))}function E9(n,e,t){return fT(n,-1,t)}const yT=n=>{const[e,t]=M.useState([]),[r,a]=M.useState(!0),[l,c]=M.useState([]);return M.useEffect(()=>{a(!0);let h=gn(Ie,"schedules");if(n){const g=n instanceof Date?gu(n,"yyyy-MM-dd"):n;h=Si(gn(Ie,"schedules"),Df("startDate","==",g),Hn("startTime","asc"))}else h=Si(gn(Ie,"schedules"),Hn("startDate","desc"),Hn("startTime","asc"));const f=nl(h,async g=>{const b=g.docs.map(E=>{const A=E.data();return{id:E.id,...A,hasStartStat:A.hasStartStat||!1,hasEndStat:A.hasEndStat||!1}});t(b);const v=b.reduce((E,A)=>{const N=A.startDate;return E[N]||(E[N]=[]),E[N].push(A),E},{}),x=Object.entries(v).sort((E,A)=>new Date(A[0])-new Date(E[0]));c(x),a(!1)},g=>{console.error("Error fetching realtime matches:",g),a(!1)});return()=>f()},[n]),{matches:e,groupedData:l,loading:r}},r0={subscribeMatches:(n,e)=>{let t=Si(gn(Ie,"schedules"),Hn("startDate","desc"),Hn("startTime","asc"));return n&&(t=Si(gn(Ie,"schedules"),Df("startDate","==",n),Hn("startTime","asc"))),nl(t,r=>{const a=r.docs.map(l=>({id:l.id,...l.data()}));e(a)})},createMatch:async n=>{try{const e={...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1};return await jf(gn(Ie,"schedules"),e)}catch(e){throw console.error("Error creating match:",e),e}},updateMatch:async(n,e)=>{try{const t=_t(Ie,"schedules",n);await gi(t,{...e,updatedAt:new Date().toISOString()})}catch(t){throw console.error("Error updating match:",t),t}},deleteMatch:async n=>{try{await Em(_t(Ie,"schedules",n))}catch(e){throw console.error("Error deleting match:",e),e}}};function vT({match:n,onClick:e,onEdit:t,onDelete:r,selectable:a,selected:l,onSelect:c}){const f=(()=>{if(n.hasEndStat)return"FINISHED";if(n.hasStartStat&&!n.hasEndStat)return"LIVE";if(n.startTime){const x=new Date,[E,A]=n.startTime.split(":").map(Number),N=new Date;N.setHours(E,A,0,0);const D=(N-x)/(1e3*60);if(D>0&&D<=15)return"SOON"}return"UPCOMING"})(),g=()=>n.endStats?.muxViewerUniq?n.endStats.muxViewerUniq:n.startStats?.muxViewerUniq?n.startStats.muxViewerUniq:0,b=x=>{if(!x)return"0";const E=parseFloat(x.toString().replace(/,/g,""));return isNaN(E)?x:Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(E)},v=g();return u.jsxs("div",{onClick:e,className:`
        group relative bg-white dark:bg-zinc-900 rounded-2xl border-2 transition-all duration-300 
        hover:shadow-2xl hover:scale-[1.02] cursor-pointer overflow-hidden
        ${f==="LIVE"?"border-red-500 shadow-lg shadow-red-500/20":""}
        ${f==="SOON"?"border-orange-400 shadow-lg shadow-orange-500/10":""}
        ${f==="FINISHED"?"border-emerald-500/30 dark:border-emerald-500/20":""}
        ${f==="UPCOMING"?"border-zinc-200 dark:border-zinc-800":""}
      `,children:[u.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${f==="LIVE"?"bg-red-500 animate-pulse":f==="SOON"?"bg-orange-500":f==="FINISHED"?"bg-emerald-500":"bg-zinc-300 dark:bg-zinc-700"}`}),(f==="LIVE"||f==="SOON")&&u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r pointer-events-none ${f==="LIVE"?"from-red-500/5 via-orange-500/5":"from-orange-500/5 via-yellow-500/5"} to-transparent`}),u.jsxs("div",{className:"p-6 pl-8 relative",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[f==="LIVE"&&u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-red-500 text-white rounded-lg shadow-lg shadow-red-500/30",children:[u.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-white"})]}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"LIVE"})]}),f==="SOON"&&u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-orange-500 text-white rounded-lg shadow-md shadow-orange-500/20 animate-pulse",children:[u.jsx(pn,{size:14,className:"stroke-[3]"}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Starting Soon"})]}),f==="FINISHED"&&u.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-500 text-white rounded-lg shadow-md",children:[u.jsx(ar,{size:14}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Finished"})]}),f==="UPCOMING"&&u.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg border-2 border-blue-200 dark:border-blue-800",children:[u.jsx(pn,{size:14}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Scheduled"})]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[t&&u.jsx("button",{onClick:x=>{x.stopPropagation(),t(n)},className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-blue-50 hover:text-blue-600 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 transition-colors",title:"Edit",children:u.jsx(Eb,{size:14})}),r&&u.jsx("button",{onClick:x=>{x.stopPropagation(),r(n.id)},className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/30 dark:hover:text-red-400 transition-colors",title:"Delete",children:u.jsx(oa,{size:14})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.league&&u.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500 dark:text-zinc-400",children:[u.jsx(gf,{size:12,className:"text-zinc-400"}),u.jsx("span",{className:"font-semibold",children:n.league})]}),n.channel&&u.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded text-xs font-bold border border-indigo-100 dark:border-indigo-800",children:[u.jsx(pf,{size:10}),n.channel]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`shrink-0 flex flex-col items-center justify-center w-16 h-16 rounded-xl border transition-colors ${f==="SOON"?"bg-orange-50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800":"bg-zinc-100 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}`,children:f==="LIVE"?u.jsxs(u.Fragment,{children:[u.jsx(Sb,{size:16,className:"text-red-500 mb-1 animate-pulse"}),u.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase",children:"Live"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:`text-xl font-black font-mono leading-none ${f==="SOON"?"text-orange-500":"text-zinc-900 dark:text-white"}`,children:n.startTime?.split(":")[0]||"--"}),u.jsx("span",{className:`text-xs font-mono ${f==="SOON"?"text-orange-400":"text-zinc-400"}`,children:n.startTime?.split(":")[1]||"--"})]})}),u.jsx("div",{className:"flex-1 min-w-0",children:n.teamA&&n.teamB?u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:n.teamA}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-px flex-1 bg-zinc-200 dark:bg-zinc-700"}),u.jsx("span",{className:"text-xs font-bold text-zinc-400",children:"VS"}),u.jsx("div",{className:"h-px flex-1 bg-zinc-200 dark:bg-zinc-700"})]}),u.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:n.teamB})]}):u.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:n.title||n.match||"Match Event"})})]}),(f==="LIVE"||f==="FINISHED")&&v&&u.jsx("div",{className:"flex items-center gap-2 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:u.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg text-xs font-semibold text-zinc-600 dark:text-zinc-400",children:[u.jsx(ff,{size:14,className:"text-violet-500"}),u.jsxs("span",{children:[b(v)," Viewers"]})]})})]})]}),u.jsx("button",{onClick:e,className:"absolute bottom-4 right-4 p-2 rounded-lg bg-zinc-900 dark:bg-white text-white dark:text-black opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",title:"View Details",children:u.jsx(ff,{size:16})})]})}function S9({form:n,setForm:e,isMultiCdnMode:t,toggleCdnMode:r,cdnList:a,onAdd:l,onRemove:c,onUpdate:h,onAutoFix:f}){return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-xl",children:u.jsx(mf,{size:20,className:"text-orange-600 dark:text-orange-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-black text-zinc-900 dark:text-white",children:"Configuration"}),u.jsx("p",{className:"text-xs text-zinc-500",children:"Manage Time Range & CDN Strategy"})]})]}),f&&u.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-lg text-xs font-black uppercase tracking-wider hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:[u.jsx(O_,{size:14})," Auto Calc Time"]})]}),u.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 p-6 space-y-6 shadow-sm",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-6 border-b border-zinc-100 dark:border-zinc-800",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Range Start"}),u.jsx("input",{type:"time",value:n.rangeStart,onChange:g=>e({...n,rangeStart:g.target.value}),className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold dark:text-white focus:ring-2 ring-orange-500 outline-none transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Range End"}),u.jsx("input",{type:"time",value:n.rangeEnd,onChange:g=>e({...n,rangeEnd:g.target.value}),className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold dark:text-white focus:ring-2 ring-orange-500 outline-none transition-all"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest flex items-center gap-2",children:"CDN Strategy"}),u.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${t?"bg-black text-white border-black dark:bg-white dark:text-black":"bg-zinc-100 text-zinc-500 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700"}`,children:[u.jsx(BS,{size:14})," ",t?"Multi-CDN Mode: ON":"Single Provider"]})]}),t?u.jsxs("div",{className:"space-y-3 animate-in slide-in-from-top-2 duration-300",children:[a.map((g,b)=>u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 transition-all hover:border-orange-300 dark:hover:border-orange-700/50",children:[u.jsxs("div",{className:"w-1/3",children:[u.jsx("label",{className:"text-[9px] font-bold text-zinc-400 mb-1.5 block uppercase tracking-wide",children:b===0?"Primary Provider":`Provider #${b+1}`}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:g.provider,onChange:v=>h(g.id,"provider",v.target.value),className:"w-full p-2.5 rounded-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-600 text-xs font-bold outline-none focus:ring-1 ring-orange-500 appearance-none cursor-pointer",children:[u.jsx("option",{value:"Select Provider",children:"Select Provider"}),u.jsx("option",{value:"AWS",children:"AWS"}),u.jsx("option",{value:"Tencent",children:"Tencent"}),u.jsx("option",{value:"Huawei",children:"Huawei"}),u.jsx("option",{value:"BytePlus",children:"BytePlus"}),u.jsx("option",{value:"Wangsu",children:"Wangsu"}),u.jsx("option",{value:"Akamai",children:"Akamai"})]}),u.jsx(Au,{size:12,className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-[9px] font-bold text-zinc-400 mb-1.5 block uppercase tracking-wide",children:"Channel / Config Key"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"e.g. sport-1-hd",value:g.key||"",onChange:v=>h(g.id,"key",v.target.value),className:"w-full pl-8 pr-3 py-2.5 rounded-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-600 text-xs font-bold outline-none focus:ring-1 ring-orange-500"}),u.jsx(O_,{size:12,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-zinc-400"})]})]}),a.length>1&&u.jsx("div",{className:"pt-6",children:u.jsx("button",{onClick:()=>c(g.id),className:"p-2 text-zinc-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Remove CDN",children:u.jsx(oa,{size:16})})})]},g.id)),u.jsxs("button",{onClick:l,className:"w-full py-3 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-xl text-zinc-400 font-bold text-xs uppercase flex items-center justify-center gap-2 hover:border-orange-400 hover:text-orange-500 transition-all",children:[u.jsx(yo,{size:16})," Add CDN Provider"]})]}):u.jsx("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in duration-300",children:["AWS","Tencent","Huawei","BytePlus","Wangsu","Akamai"].map(g=>u.jsxs("button",{onClick:()=>e({...n,cdn:g}),className:`p-4 rounded-xl border-2 font-black uppercase text-sm transition-all flex flex-col items-center justify-center gap-2 ${n.cdn===g?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black border-zinc-900 dark:border-zinc-100 shadow-lg scale-[1.02]":"bg-zinc-50 dark:bg-zinc-800 text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-300"}`,children:[u.jsx(Au,{size:24,className:n.cdn===g?"opacity-100":"opacity-50"})," ",g]},g))})]}),u.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Live Channel ID"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:n.liveChannel,onChange:g=>e({...n,liveChannel:g.target.value}),onFocus:()=>document.getElementById("custom-dropdown").classList.remove("hidden"),onBlur:()=>setTimeout(()=>document.getElementById("custom-dropdown")?.classList.add("hidden"),200),placeholder:"Select or Type Channel ID",className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold focus:ring-2 ring-orange-500 outline-none"}),u.jsx("div",{id:"custom-dropdown",className:"hidden absolute top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-xl z-50",children:[...Array.from({length:24},(g,b)=>`Sport ${b+1}`),"Thaileague","Sport-T 101","Sport-T 102",...Array.from({length:21},(g,b)=>`TL${b+1}`)].filter(g=>g.toLowerCase().includes((n.liveChannel||"").toLowerCase())).map(g=>u.jsx("div",{onMouseDown:()=>e({...n,liveChannel:g}),className:"px-4 py-2 hover:bg-orange-50 dark:hover:bg-orange-900/20 cursor-pointer text-sm font-semibold text-zinc-700 dark:text-zinc-300 transition-colors",children:g},g))})]})]})]})]})}function k9({isOpen:n,onClose:e,data:t,headers:r}){const[a,l]=M.useState(!1),[c,h]=M.useState(!1);if(!n)return null;const f=()=>{let g="";Array.isArray(t)&&Array.isArray(t[0])?g=t.map(b=>b.join("	")).join(`
`):g=t.join("	"),navigator.clipboard.writeText(g).then(()=>{l(!0),h(!0),setTimeout(()=>{l(!1)},3e3)})};return u.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:[c&&u.jsx(Fo,{message:"Copied to clipboard successfully!",type:"success",duration:3e3,onClose:()=>h(!1)}),u.jsxs("div",{className:"bg-white dark:bg-[#121212] w-full max-w-5xl rounded-3xl shadow-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden flex flex-col max-h-[85vh]",children:[u.jsxs("div",{className:"p-6 bg-zinc-50 dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-xl text-green-600 dark:text-green-400",children:u.jsx(PS,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-black uppercase text-zinc-900 dark:text-white",children:"Data Preview"}),u.jsx("p",{className:"text-xs text-zinc-500",children:Array.isArray(t)&&Array.isArray(t[0])?`Ready to copy ${t.length} rows`:"Ready to copy single row"})]})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-full transition-colors",children:u.jsx(kn,{size:20,className:"text-zinc-500"})})]}),u.jsx("div",{className:"p-6 overflow-x-auto custom-scrollbar bg-zinc-50/50 dark:bg-black/50 flex-1",children:u.jsx("div",{className:"inline-block min-w-full align-middle",children:u.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden bg-white dark:bg-black",children:u.jsxs("table",{className:"min-w-full divide-y divide-zinc-200 dark:divide-zinc-800",children:[u.jsx("thead",{className:"bg-zinc-100 dark:bg-zinc-900",children:u.jsx("tr",{children:r.map((g,b)=>u.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black uppercase tracking-widest text-zinc-500 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:g},b))})}),u.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:Array.isArray(t)&&Array.isArray(t[0])?t.map((g,b)=>u.jsx("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors",children:g.map((v,x)=>u.jsx("td",{className:"px-4 py-3 text-xs font-mono text-zinc-700 dark:text-zinc-300 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:v},x))},b)):u.jsx("tr",{children:t.map((g,b)=>u.jsx("td",{className:"px-4 py-3 text-xs font-mono text-zinc-700 dark:text-zinc-300 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:g},b))})})]})})})}),u.jsxs("div",{className:"p-6 border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 flex justify-end gap-3 z-10",children:[u.jsx("button",{onClick:e,className:"px-6 py-3 text-xs font-black uppercase text-zinc-500 hover:text-black dark:hover:text-white transition-colors",children:"Close"}),u.jsxs("button",{onClick:f,className:`px-8 py-3 rounded-xl text-xs font-black uppercase flex items-center gap-2 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transform ${a?"bg-emerald-500 text-white":"bg-black dark:bg-white text-white dark:text-black"}`,children:[a?u.jsx(Fu,{size:16}):u.jsx(Su,{size:16}),a?"Copied!":"Copy Data to Clipboard"]})]})]})]})}const Hs=(n,e)=>{if(!n||isNaN(n))return 0;const t=parseFloat(n);return e==="TB"?t*1024:e==="MB"?t/1024:t},Lr=n=>{if(!n)return 0;if(typeof n=="object"&&n.val!==void 0){const r=parseFloat(n.val);if(isNaN(r))return 0;const a=(n.unit||"").toLowerCase();return a==="m"?r*1e6:a==="k"?r*1e3:a==="b"?r*1e9:r}const e=n.toString().toLowerCase().trim(),t=parseFloat(e);return isNaN(t)?0:e.endsWith("m")?t*1e6:e.endsWith("k")?t*1e3:e.endsWith("b")?t*1e9:t},_r=(n,e=0)=>n==null||n===""?"0":parseFloat(n).toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}),go=(n,e=2)=>!n||isNaN(n)?"0 %":`${parseFloat(n).toFixed(e)} %`,so="schedules",oE={ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:"",rangeStart:"",rangeEnd:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},cdn:"AWS",liveChannel:""};function A9(n,e){const[t,r]=M.useState("START"),[a,l]=M.useState(!0),[c,h]=M.useState(!1),[f,g]=M.useState(!1),[b,v]=M.useState(!1),[x,E]=M.useState(oE),[A,N]=M.useState([]),[C,D]=M.useState(!1),[O,F]=M.useState("Unknown"),[L,W]=M.useState({show:!1,message:"",type:"success"}),[q,R]=M.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[k,j]=M.useState({show:!1,data:[]}),U=M.useCallback((de,V="success")=>{de&&(W({show:!0,message:de,type:V}),setTimeout(()=>W(Z=>({...Z,show:!1})),3e3))},[]),I=M.useCallback(async()=>{if(n?.id){h(!0);try{const de=_t(Ie,so,n.id),V=t==="START"?"start_stat":"end_stat",Z=_t(Ie,so,n.id,"statistics",V),[ue,he]=await Promise.all([zf(de),zf(Z)]),Ee=ue.exists()?ue.data():{};if(he.exists()){const ve=he.data();E(Re=>({...Re,...ve,liveChannel:ve.liveChannel||Ee.liveChannel||Ee.channel||n.channel||"",reqTotal:ve.reqTotal||{val:"",unit:"k"},bwPeakGbps:ve.bwPeakGbps||{val:"",unit:"GB"},bandwidth:ve.bandwidth||{val:"",unit:"GB"}})),ve.cdnDetails?.length>0?(N(ve.cdnDetails),D(!0)):(D(ve.cdn==="Multi CDN"),N([])),F(ve.reporter||"Unknown")}else{const ve=Ee.cdn||"AWS",Re=ve==="Multi CDN";E({...oE,liveChannel:Ee.liveChannel||Ee.channel||n.channel||"",cdn:ve}),D(Re),N(Re?[{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}]:[])}}catch(de){console.error("Fetch Error:",de),U("","error")}finally{h(!1),l(!1)}}},[n,t,U]);return M.useEffect(()=>{I()},[I]),{state:{statType:t,loading:a,fetching:c,saving:f,isSuccess:b,form:x,cdnList:A,isMultiCdnMode:C,reporterName:O,toast:L,confirmModal:q,preview:k},actions:{setStatType:r,setForm:E,toggleCdnMode:()=>{D(de=>!de),!C&&A.length===0&&N([{id:Date.now(),provider:"AWS",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}]),E(de=>({...de,cdn:C?"AWS":"Multi CDN"}))},handleAddCdn:()=>{N(de=>[...de,{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}])},handleRemoveCdn:de=>{A.length>1&&N(V=>V.filter(Z=>Z.id!==de))},handleUpdateCdnRow:(de,V,Z)=>{N(ue=>ue.map(he=>he.id===de?{...he,[V]:Z}:he))},handleAutoFixTime:()=>{let de=n?.startTime||n?.start_time||n?.time;if(!de){U("","error");return}try{const Z=(ve=>{let Re=String(ve).toLowerCase().trim().replace(".",":"),mt=Re.replace(/[a-z]/g,"").trim(),[Ye,fe]=mt.split(":"),Ze=parseInt(Ye,10),Lt=parseInt(fe||"0",10);return isNaN(Ze)?null:(Re.includes("pm")&&Ze<12&&(Ze+=12),{h:Ze,m:Lt})})(de);if(!Z){U("","error");return}const ue=(ve,Re,mt)=>{let Ye=ve*60+Re+mt;return Ye=(Ye%1440+1440)%1440,`${String(Math.floor(Ye/60)).padStart(2,"0")}:${String(Ye%60).padStart(2,"0")}`},he=ue(Z.h,Z.m,15),Ee=ue(Z.h,Z.m,120);E(ve=>({...ve,rangeStart:he,rangeEnd:Ee})),U(`: ${he} - ${Ee}`,"success")}catch{U("","error")}},handleSmartSave:async de=>{if(n?.id){g(!0);try{const V=t==="START"?"start_stat":"end_stat",Z=_t(Ie,so,n.id),ue=_t(Ie,so,n.id,"statistics",V),he={...x,cdn:C?"Multi CDN":x.cdn,cdnDetails:C?A:null,updatedAt:fu(),statType:t,bwPeakGbps:x.bwPeakGbps||{val:"",unit:"GB"},bandwidth:x.bandwidth||{val:"",unit:"GB"},reqTotal:x.reqTotal||{val:"",unit:"k"}};await _O(ue,he),await gi(Z,{[t==="START"?"hasStartStat":"hasEndStat"]:!0,[t==="START"?"startStats":"endStats"]:he,updatedAt:fu()}),U("","success"),v(!0),setTimeout(()=>v(!1),2e3),de&&de()}catch{U("","error")}finally{g(!1)}}},requestDelete:()=>{R({isOpen:!0,title:`Reset ${t} Stats?`,message:`Are you sure you want to delete ${t} data? Match status will be reverted.`,isDanger:!0,onConfirm:async()=>{R(de=>({...de,isOpen:!1})),g(!0);try{const de=t==="START"?"start_stat":"end_stat";await Em(_t(Ie,so,n.id,"statistics",de)),await gi(_t(Ie,so,n.id),{[t==="START"?"hasStartStat":"hasEndStat"]:!1,[t==="START"?"startStats":"endStats"]:null,updatedAt:fu()}),U("","success"),setTimeout(e,1e3)}catch{U("","error")}finally{g(!1)}}})},handlePreview:()=>{const de=V=>{if(!V)return 0;if(typeof V=="object"&&V.val!==void 0){const Z=parseFloat(V.val||0),ue=(V.unit||"k").toLowerCase();return ue==="m"?Z*1e6:ue==="b"?Z*1e9:Z*1e3}return Lr(V)};try{const V={no:"1",league:n?.league||"-",title:n?.title||n?.match||"-",time:n?.startTime||"-",ecsSport:go(x.ecsSport,2),ecsEnt:go(x.ecsEntitlement,2),api:go(x.apiHuawei,2),reqPeak:_r(Lr(x.requestPeak)),viewers:_r(Lr(x.muxViewerUniq)),score:x.muxScore,start:x.rangeStart||"-",end:x.rangeEnd||"-"},Z=C&&A.length>0?A.map(ue=>[V.no,V.league,V.title,V.time,V.ecsSport,V.ecsEnt,V.api,V.reqPeak,ue.provider||"-",ue.key||"-",_r(Lr(ue.reqPeakMin)),_r(de(ue.reqTotal)),Hs(ue.bwPeakGbps?.val||ue.bwPeakGbps,ue.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),Hs(ue.bandwidth?.val||ue.bandwidth,ue.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),V.viewers,V.score,V.start,V.end]):[[V.no,V.league,V.title,V.time,V.ecsSport,V.ecsEnt,V.api,V.reqPeak,x.cdn||"-",x.liveChannel||"-",_r(Lr(x.reqPeakMin)),_r(de(x.reqTotal)),Hs(x.bwPeakGbps?.val||x.bwPeakGbps,x.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),Hs(x.bandwidth?.val||x.bandwidth,x.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),V.viewers,V.score,V.start,V.end]];j({show:!0,data:Z})}catch{U("Preview Error","error")}},closeToast:()=>W(de=>({...de,show:!1})),closeConfirm:()=>R(de=>({...de,isOpen:!1})),closePreview:()=>j(de=>({...de,show:!1}))}}}function _n({label:n,value:e,unit:t,onChange:r,onUnitChange:a,placeholder:l,icon:c,color:h="blue",type:f="number",tooltip:g,previousValue:b}){const v={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-100 dark:border-blue-800",text:"text-blue-600 dark:text-blue-400",accent:"bg-blue-500"},emerald:{bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-100 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",accent:"bg-emerald-500"},orange:{bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-100 dark:border-orange-800",text:"text-orange-600 dark:text-orange-400",accent:"bg-orange-500"},purple:{bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-100 dark:border-purple-800",text:"text-purple-600 dark:text-purple-400",accent:"bg-purple-500"},pink:{bg:"bg-pink-50 dark:bg-pink-900/20",border:"border-pink-100 dark:border-pink-800",text:"text-pink-600 dark:text-pink-400",accent:"bg-pink-500"},cyan:{bg:"bg-cyan-50 dark:bg-cyan-900/20",border:"border-cyan-100 dark:border-cyan-800",text:"text-cyan-600 dark:text-cyan-400",accent:"bg-cyan-500"}},x=v[h]||v.blue,A=(()=>{if(!e||isNaN(e))return null;const N=parseFloat(e);let C=N,D="";if(a&&t)switch(t){case"TB":C=N*1024,D="GB";break;case"MB":C=N/1024,D="GB";break;case"KB":C=N/(1024*1024),D="GB";break;case"GB":C=N,D="GB";break;case"k":C=N*1e3,D="";break;case"m":C=N*1e6,D="";break;default:C=N}else if(f==="abbrev")return null;const O=C.toLocaleString(void 0,{minimumFractionDigits:D==="GB"?2:0,maximumFractionDigits:D==="GB"?4:2});return D?`${O} ${D}`:O})();return u.jsxs("div",{className:`relative group rounded-2xl border-2 ${x.border} ${x.bg} p-4 transition-all hover:shadow-lg`,children:[u.jsx("div",{className:`absolute top-0 left-4 right-4 h-1 ${x.accent} rounded-b-full opacity-60`}),u.jsx("div",{className:"flex items-start justify-between mb-3 pt-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[c&&u.jsx("div",{className:`p-2 rounded-xl ${x.bg} ${x.text}`,children:u.jsx(c,{size:16})}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-500 dark:text-zinc-400 uppercase tracking-widest block",children:n}),g&&u.jsxs("div",{className:"flex items-center gap-1 text-[8px] text-zinc-400 mt-0.5",children:[u.jsx(VS,{size:8}),u.jsx("span",{children:g})]})]})]})}),u.jsxs("div",{className:"flex rounded-xl overflow-hidden border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 shadow-sm",children:[u.jsx("input",{type:f==="abbrev"?"text":"number",step:"any",value:e,onChange:N=>r(N.target.value),placeholder:l||"0",className:"flex-1 px-4 py-3 text-lg font-bold bg-transparent outline-none dark:text-white placeholder-zinc-300 dark:placeholder-zinc-600 min-w-0"}),a?u.jsxs("select",{value:t,onChange:N=>a(N.target.value),className:"bg-zinc-50 dark:bg-zinc-800 border-l border-zinc-200 dark:border-zinc-700 px-2 text-xs font-black uppercase outline-none dark:text-zinc-400 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors text-center w-[70px]",children:[u.jsxs("optgroup",{label:"Count",children:[u.jsx("option",{value:"k",children:"k"}),u.jsx("option",{value:"m",children:"m"})]}),u.jsxs("optgroup",{label:"Data",children:[u.jsx("option",{value:"GB",children:"GB"}),u.jsx("option",{value:"TB",children:"TB"}),u.jsx("option",{value:"MB",children:"MB"}),u.jsx("option",{value:"KB",children:"KB"})]})]}):f==="percentage"&&u.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-800 border-l border-zinc-200 dark:border-zinc-700 px-4 flex items-center",children:u.jsx("span",{className:"text-sm font-black text-zinc-500",children:"%"})})]}),A&&u.jsxs("div",{className:"mt-2 flex items-center justify-end gap-1",children:[u.jsx("span",{className:"text-[9px] font-black text-zinc-400",children:""}),u.jsx("span",{className:`text-[10px] font-black ${x.text}`,children:A})]})]})}const xy=({item:n,index:e,icon:t,onRemove:r,isRemovable:a})=>u.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-zinc-200 dark:border-zinc-700/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-zinc-500",children:u.jsx(t,{size:16})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-black text-zinc-900 dark:text-white uppercase",children:n.provider||`Provider ${e+1}`}),u.jsx("p",{className:"text-[10px] text-zinc-400 font-bold uppercase",children:n.key||"No Key Configured"})]})]}),a&&u.jsx("button",{onClick:r,className:"text-zinc-400 hover:text-red-500 transition-colors",children:u.jsx(oa,{size:16})})]}),_y=({onClick:n})=>u.jsxs("button",{onClick:n,className:"w-full py-4 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-2xl flex justify-center gap-2 text-zinc-400 font-bold text-xs uppercase hover:text-orange-500 hover:border-orange-400 transition-all",children:[u.jsx(yo,{size:16})," Add Provider"]}),T9=({data:n,onChange:e,isMulti:t,cdnList:r,onUpdateCdn:a,onRemoveCdn:l,onAddCdn:c})=>t?u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((h,f)=>u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[u.jsx(xy,{item:h,index:f,icon:nm,onRemove:()=>l(h.id),isRemovable:r.length>1}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(_n,{label:"ECS Sport",value:h.ecsSport,onChange:g=>a(h.id,"ecsSport",g),type:"percentage",icon:tr,color:"blue",placeholder:"0"}),u.jsx(_n,{label:"ECS Entitlement",value:h.ecsEntitlement,onChange:g=>a(h.id,"ecsEntitlement",g),type:"percentage",icon:tr,color:"purple",placeholder:"0"}),u.jsx(_n,{label:"API Huawei",value:h.apiHuawei,onChange:g=>a(h.id,"apiHuawei",g),type:"percentage",icon:T0,color:"orange",placeholder:"0"}),u.jsx(_n,{label:"WWW & API Peak",value:h.requestPeak,onChange:g=>a(h.id,"requestPeak",g),type:"number",icon:Au,color:"emerald",placeholder:"0"})]})]},h.id)),u.jsx(_y,{onClick:c})]}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsx(_n,{label:"ECS Sport",value:n.ecsSport,onChange:h=>e("ecsSport",h),type:"percentage",icon:tr,color:"blue",placeholder:"0"}),u.jsx(_n,{label:"ECS Entitlement",value:n.ecsEntitlement,onChange:h=>e("ecsEntitlement",h),type:"percentage",icon:tr,color:"purple",placeholder:"0"}),u.jsx(_n,{label:"API Huawei",value:n.apiHuawei,onChange:h=>e("apiHuawei",h),type:"percentage",icon:T0,color:"orange",placeholder:"0"}),u.jsx(_n,{label:"WWW & API Peak",value:n.requestPeak,onChange:h=>e("requestPeak",h),type:"number",icon:Au,color:"emerald",placeholder:"0"})]}),C9=({data:n,onChange:e,isMulti:t,cdnList:r,onUpdateCdn:a,onRemoveCdn:l,onAddCdn:c})=>{const h=(f,g)=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(_n,{label:"Req Peak (Min)",value:f.reqPeakMin,onChange:b=>g("reqPeakMin",b),type:"number",icon:T0,color:"blue",placeholder:"0"}),u.jsx(_n,{label:"Req Total",value:f.reqTotal?.val,unit:f.reqTotal?.unit||"k",onChange:b=>g("reqTotal",{...f.reqTotal,val:b}),onUnitChange:b=>g("reqTotal",{...f.reqTotal,unit:b}),type:"number",icon:IS,color:"cyan",placeholder:"0"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(_n,{label:"BW Peak (Gb/s)",value:f.bwPeakGbps?.val,unit:f.bwPeakGbps?.unit||"GB",onChange:b=>g("bwPeakGbps",{...f.bwPeakGbps,val:b}),onUnitChange:b=>g("bwPeakGbps",{...f.bwPeakGbps,unit:b}),type:"number",icon:tr,color:"red",placeholder:"0"}),u.jsx(_n,{label:"BW Total (GB)",value:f.bandwidth?.val,unit:f.bandwidth?.unit||"GB",onChange:b=>g("bandwidth",{...f.bandwidth,val:b}),onUnitChange:b=>g("bandwidth",{...f.bandwidth,unit:b}),type:"number",icon:tr,color:"orange",placeholder:"0"})]})]});return t?u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((f,g)=>u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[u.jsx(xy,{item:f,index:g,icon:$S,onRemove:()=>l(f.id),isRemovable:r.length>1}),u.jsx("div",{className:"space-y-4",children:h(f,(b,v)=>a(f.id,b,v))})]},f.id)),u.jsx(_y,{onClick:c})]}):u.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:h(n,(f,g)=>e(f,g))})},N9=({data:n,onChange:e,isMulti:t,cdnList:r,onUpdateCdn:a,onRemoveCdn:l,onAddCdn:c})=>t?u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((h,f)=>u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[u.jsx(xy,{item:h,index:f,icon:lu,onRemove:()=>l(h.id),isRemovable:r.length>1}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(_n,{label:"Live Viewers",value:h.muxViewerUniq,onChange:g=>a(h.id,"muxViewerUniq",g),type:"number",icon:lu,color:"purple",placeholder:"0"}),u.jsx(_n,{label:"Engagement Score",value:h.muxScore,onChange:g=>a(h.id,"muxScore",g),type:"number",icon:mf,color:"pink",placeholder:"0"})]})]},h.id)),u.jsx(_y,{onClick:c})]}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsx(_n,{label:"Live Viewers",value:n.muxViewerUniq,onChange:h=>e("muxViewerUniq",h),type:"number",icon:lu,color:"purple",placeholder:"0"}),u.jsx(_n,{label:"Engagement Score",value:n.muxScore,onChange:h=>e("muxScore",h),type:"number",icon:mf,color:"pink",placeholder:"0"})]}),R9=({label:n,icon:e,active:t,onClick:r})=>u.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-6 py-3 rounded-full text-xs font-black uppercase tracking-wider transition-all duration-300 ${t?"bg-black text-white dark:bg-white dark:text-black shadow-lg scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-800 hover:text-black dark:hover:text-white"}`,children:[u.jsx(e,{size:14,className:t?"animate-pulse":""}),u.jsx("span",{children:n})]}),D9=()=>u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-pulse p-2",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-zinc-200 dark:bg-zinc-800/50"}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsx("div",{className:"h-8 w-2/3 bg-zinc-200 dark:bg-zinc-800/50 rounded-xl"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"h-5 w-24 bg-zinc-200 dark:bg-zinc-800/50 rounded-lg"}),u.jsx("div",{className:"h-5 w-24 bg-zinc-200 dark:bg-zinc-800/50 rounded-lg"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(n=>u.jsx("div",{className:"h-32 rounded-3xl bg-zinc-100 dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800/50 relative overflow-hidden",children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 dark:via-white/5 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"})},n))})]});function z9({isOpen:n,onClose:e,matchData:t}){const[r,a]=M.useState("system"),{state:l,actions:c}=A9(t,e);if(!n)return null;const h=[{id:"system",label:"System",icon:nm},{id:"traffic",label:"Traffic",icon:$S},{id:"viewer",label:"Viewer",icon:lu},{id:"config",label:"Config",icon:mf}];return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed z-[200]",children:u.jsx(qu,{isOpen:l.confirmModal.isOpen,onClose:c.closeConfirm,...l.confirmModal})}),l.toast.show&&u.jsx("div",{className:"fixed bottom-4 right-4 z-[300]",children:u.jsx(Fo,{message:l.toast.message,type:l.toast.type,onClose:c.closeToast})}),u.jsx(k9,{isOpen:l.preview.show,onClose:c.closePreview,data:l.preview.data,headers:["#","League","Match","Time","ECS Sport","ECS Ent","API Huawei","WWW & API Peak/Min","CDN","Key","Req Peak","Req Total","BW Peak","BW Total","Viewers","Score","Start","End"]}),u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",onClick:l.loading?void 0:e,children:u.jsxs("div",{className:"bg-zinc-50 dark:bg-[#0a0a0a] w-full max-w-5xl h-[92vh] rounded-3xl shadow-2xl overflow-hidden flex flex-col border border-zinc-200 dark:border-zinc-800 animate-in zoom-in-95 duration-300",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"relative shrink-0 overflow-hidden",children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.statType==="START"?"from-orange-500 via-orange-600 to-red-600":"from-emerald-500 via-emerald-600 to-teal-600"}`}),u.jsx("div",{className:"relative p-6 md:p-8 text-white",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex flex-col items-center justify-center border-2 border-white/20 bg-white/10 backdrop-blur-md shadow-lg",children:u.jsx("span",{className:"text-2xl font-black leading-none",children:l.reporterName.charAt(0).toUpperCase()})}),u.jsx("div",{className:"absolute -bottom-2 -right-2 bg-white text-black text-[9px] font-black px-2 py-0.5 rounded-full uppercase shadow-md",children:l.statType})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-black uppercase tracking-tight leading-none drop-shadow-sm mb-2 max-w-md truncate",children:t?.teamA&&t?.teamB?`${t.teamA} vs ${t.teamB}`:t?.title||t?.match||"Match Stats"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg bg-black/20 backdrop-blur-md border border-white/10 text-[10px] font-bold uppercase tracking-wider",children:[u.jsx(pn,{size:10})," ",t?.startTime||t?.start_time||t?.time||"--:--"]}),u.jsxs("button",{onClick:c.toggleCdnMode,className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg border transition-all text-[10px] font-bold uppercase tracking-wider ${l.isMultiCdnMode?"bg-white text-black border-white shadow-lg":"bg-black/20 text-white/80 border-white/10 hover:bg-black/30"}`,children:[u.jsx(BS,{size:10})," ",l.isMultiCdnMode?"Multi-CDN":"Single CDN"]})]})]})]}),u.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[u.jsxs("button",{onClick:()=>c.setStatType(l.statType==="START"?"END":"START"),className:"flex-1 md:flex-none h-10 px-4 flex items-center justify-center gap-2 bg-black/20 hover:bg-black/30 border border-white/10 rounded-xl text-[10px] font-black uppercase backdrop-blur-sm transition-all text-white",children:[u.jsx(wu,{size:14})," Switch Phase"]}),u.jsxs("button",{onClick:c.handlePreview,className:"flex-1 md:flex-none h-10 px-4 flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 border border-white/20 rounded-xl text-[10px] font-black uppercase backdrop-blur-sm transition-all text-white",children:[u.jsx(ff,{size:14})," Preview"]}),u.jsx("button",{onClick:e,className:"h-10 w-10 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-xl text-white transition-all",children:u.jsx(kn,{size:18})})]})]})})]}),u.jsx("div",{className:"shrink-0 p-2 bg-white dark:bg-[#0a0a0a] border-b border-zinc-200 dark:border-zinc-800",children:u.jsx("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-[1.25rem] overflow-x-auto custom-scrollbar gap-1",children:h.map(f=>u.jsx(R9,{id:f.id,label:f.label,icon:f.icon,active:r===f.id,onClick:()=>a(f.id)},f.id))})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar bg-white dark:bg-[#0a0a0a]",children:l.fetching?u.jsx(D9,{}):u.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[r==="system"&&u.jsx(T9,{data:l.form,onChange:(f,g)=>c.setForm({...l.form,[f]:g}),isMulti:l.isMultiCdnMode,cdnList:l.cdnList,onUpdateCdn:c.handleUpdateCdnRow,onRemoveCdn:c.handleRemoveCdn,onAddCdn:c.handleAddCdn}),r==="traffic"&&u.jsx(C9,{data:l.form,onChange:(f,g)=>c.setForm({...l.form,[f]:g}),isMulti:l.isMultiCdnMode,cdnList:l.cdnList,onUpdateCdn:c.handleUpdateCdnRow,onRemoveCdn:c.handleRemoveCdn,onAddCdn:c.handleAddCdn}),r==="viewer"&&u.jsx(N9,{data:l.form,onChange:(f,g)=>c.setForm({...l.form,[f]:g}),isMulti:l.isMultiCdnMode,cdnList:l.cdnList,onUpdateCdn:c.handleUpdateCdnRow,onRemoveCdn:c.handleRemoveCdn,onAddCdn:c.handleAddCdn}),r==="config"&&u.jsx(S9,{form:l.form,setForm:c.setForm,isMultiCdnMode:l.isMultiCdnMode,toggleCdnMode:c.toggleCdnMode,cdnList:l.cdnList,onAdd:c.handleAddCdn,onRemove:c.handleRemoveCdn,onUpdate:c.handleUpdateCdnRow,onAutoFix:c.handleAutoFixTime})]})}),u.jsxs("div",{className:"p-4 md:p-6 bg-white dark:bg-[#0a0a0a] border-t border-zinc-200 dark:border-zinc-800 flex flex-col-reverse md:flex-row gap-4 shrink-0 z-10 relative",children:[u.jsx("div",{className:"absolute -top-10 left-0 right-0 h-10 bg-gradient-to-t from-white dark:from-[#0a0a0a] to-transparent pointer-events-none"}),u.jsxs("button",{onClick:c.requestDelete,disabled:l.loading,className:"px-4 py-4 rounded-xl text-xs font-black uppercase tracking-widest text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors flex items-center gap-2",children:[u.jsx(oa,{size:18})," ",u.jsx("span",{className:"hidden md:inline",children:"Reset Phase"})]}),u.jsx("button",{onClick:e,disabled:l.loading,className:"px-6 py-4 rounded-xl text-xs font-black uppercase tracking-widest text-zinc-500 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:"Discard"}),u.jsx("button",{onClick:()=>c.handleSmartSave(),disabled:l.loading||l.isSuccess,className:`flex-1 py-4 rounded-2xl font-black uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl transition-all ${l.isSuccess?"bg-green-500 text-white":l.statType==="START"?"bg-gradient-to-r from-orange-600 to-red-600 text-white":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white"}`,children:l.loading?u.jsxs(u.Fragment,{children:[u.jsx(Zs,{size:20,className:"animate-spin"})," Saving..."]}):l.isSuccess?u.jsxs(u.Fragment,{children:[u.jsx(Fu,{size:20})," Success!"]}):u.jsxs(u.Fragment,{children:[u.jsx(tm,{size:20})," Save Statistics"]})})]})]})})]})}function j9({isOpen:n,onClose:e,onSubmit:t,initialData:r,selectedDate:a,saving:l}){const[c,h]=M.useState({league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:"",channel:"",cdn:"AWS"});M.useEffect(()=>{n&&h(r?{league:r.league||"",match:r.match||r.title||"",teamA:r.teamA||"",teamB:r.teamB||"",startTime:r.startTime||"",startDate:r.startDate||"",channel:r.channel||r.liveChannel||"",cdn:r.cdn||"AWS"}:{league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:a||new Date().toISOString().split("T")[0],channel:"",cdn:"AWS"})},[n,r,a]);const f=v=>{let x={...c,match:v};const A=[" vs "," VS "," Vs "," - "," v "].find(N=>v.includes(N));if(A){const N=v.split(A);N.length>=2&&(x.teamA=N[0].trim(),x.teamB=N.slice(1).join(A).trim())}h(x)},g=v=>{v.preventDefault(),t(c)};if(!n)return null;const b=c.teamA&&c.teamB&&c.league&&c.startDate&&c.startTime;return u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:e}),u.jsxs("div",{className:"relative w-full max-w-3xl bg-white dark:bg-zinc-900 rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] border-2 border-zinc-100 dark:border-zinc-800",children:[u.jsx("div",{className:"px-8 py-6 border-b-2 border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-zinc-50 to-white dark:from-zinc-900 dark:to-zinc-900",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/25",children:u.jsx(gf,{size:24,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-white",children:r?"Edit Match":"New Match"}),u.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mt-0.5",children:r?"Update match details":"Add a new match to the schedule"})]})]}),u.jsx("button",{onClick:e,disabled:l,className:"p-2 rounded-xl text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors disabled:opacity-50",children:u.jsx(kn,{size:24})})]})}),u.jsxs("form",{onSubmit:g,className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"p-8 space-y-6",children:[u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl opacity-0 group-hover:opacity-20 blur-xl transition-opacity"}),u.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-2xl p-6 border-2 border-blue-200 dark:border-blue-800/30",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500 text-white rounded-lg shadow-md",children:[u.jsx(uj,{size:14}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Smart Input"})]}),u.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-semibold",children:"Auto-fill teams instantly"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:'Type "Arsenal vs Chelsea" to auto-fill both teams',className:"w-full h-14 bg-white dark:bg-zinc-900 border-2 border-blue-300 dark:border-blue-700 rounded-xl px-5 pr-12 text-base font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 dark:focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:c.match,onChange:v=>f(v.target.value),autoFocus:!r}),u.jsx(Nj,{size:20,className:"absolute right-4 top-1/2 -translate-y-1/2 text-blue-500"})]})]})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/30 rounded-2xl p-6 border-2 border-zinc-100 dark:border-zinc-800",children:[u.jsx("div",{className:"flex items-center justify-center mb-5",children:u.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-white dark:bg-zinc-800 rounded-lg border-2 border-zinc-200 dark:border-zinc-700",children:[u.jsx(gj,{size:16,className:"text-zinc-400"}),u.jsx("span",{className:"text-xs font-black uppercase tracking-wider text-zinc-600 dark:text-zinc-400",children:"Matchup"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr,auto,1fr] gap-6 items-end",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(M_,{size:14}),"Home Team"]}),u.jsx("input",{type:"text",placeholder:"Home Team",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-base font-bold text-zinc-900 dark:text-white text-center md:text-left outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:c.teamA,onChange:v=>h({...c,teamA:v.target.value}),required:!0})]}),u.jsx("div",{className:"hidden md:flex items-center justify-center pb-3",children:u.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-zinc-900 to-zinc-700 dark:from-white dark:to-zinc-200 flex items-center justify-center shadow-lg",children:u.jsx("span",{className:"text-white dark:text-black font-black text-sm",children:"VS"})})}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3 md:justify-end",children:[u.jsx(M_,{size:14}),"Away Team"]}),u.jsx("input",{type:"text",placeholder:"Away Team",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-base font-bold text-zinc-900 dark:text-white text-center md:text-right outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:c.teamB,onChange:v=>h({...c,teamB:v.target.value}),required:!0})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(gf,{size:14}),"League / Competition"]}),u.jsxs("select",{className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all cursor-pointer appearance-none",value:c.league,onChange:v=>h({...c,league:v.target.value}),required:!0,children:[u.jsx("option",{value:"",children:"Select League"}),u.jsx("option",{value:"Premier League",children:"Premier League"}),u.jsx("option",{value:"EFL",children:"EFL"}),u.jsx("option",{value:"Thai League 1",children:"Thai League 1"}),u.jsx("option",{value:"Thai League 2",children:"Thai League 2"}),u.jsx("option",{value:"Thai League 3",children:"Thai League 3"}),u.jsx("option",{value:"French League",children:"French League"}),u.jsx("option",{value:"Carabao Cup",children:"Carabao Cup"}),u.jsx("option",{value:"UEFA European",children:"UEFA European"}),u.jsx("option",{value:"Thai Women League 2",children:"Thai Women League 2"}),u.jsx("option",{value:"U21",children:"U21"}),u.jsx("option",{value:"Chang FA Cup",children:"Chang FA Cup"}),u.jsx("option",{value:"SV League WM_Volleyball",children:"SV League WM_Volleyball"}),u.jsx("option",{value:"SV League M_Volleyball",children:"SV League M_Volleyball"}),u.jsx("option",{value:"The Emirates FA Cup",children:"The Emirates FA Cup"}),u.jsx("option",{value:"MUANGTHAI CUP",children:"MUANGTHAI CUP"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(pf,{size:14}),"Broadcast Channel"]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Select or Type Channel",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400",value:c.channel,onChange:v=>h({...c,channel:v.target.value}),onFocus:()=>document.getElementById("new-match-channel-dropdown").classList.remove("hidden"),onBlur:()=>setTimeout(()=>document.getElementById("new-match-channel-dropdown")?.classList.add("hidden"),200)}),u.jsx("div",{id:"new-match-channel-dropdown",className:"hidden absolute bottom-full left-0 right-0 mb-1 max-h-48 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-xl z-50",children:[...Array.from({length:24},(v,x)=>`Sport ${x+1}`),"Thaileague","Sport-T 101","Sport-T 102",...Array.from({length:21},(v,x)=>`TL${x+1}`)].filter(v=>v.toLowerCase().includes((c.channel||"").toLowerCase())).map(v=>u.jsx("div",{onMouseDown:()=>h({...c,channel:v}),className:"px-4 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer text-sm font-semibold text-zinc-700 dark:text-zinc-300 transition-colors",children:v},v))})]})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(sr,{size:14}),"Date"]}),u.jsx("input",{type:"date",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-3 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all",value:c.startDate,onChange:v=>h({...c,startDate:v.target.value}),required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(pn,{size:14}),"Time"]}),u.jsx("input",{type:"time",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-3 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all",value:c.startTime,onChange:v=>h({...c,startTime:v.target.value}),required:!0})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[u.jsx(nm,{size:14}),"CDN Provider"]}),u.jsxs("select",{className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all cursor-pointer",value:c.cdn,onChange:v=>h({...c,cdn:v.target.value}),children:[u.jsx("option",{value:"",children:"Select Provider"}),u.jsx("option",{value:"AWS",children:"AWS"}),u.jsx("option",{value:"Tencent",children:"Tencent"}),u.jsx("option",{value:"Huawei",children:"Huawei"}),u.jsx("option",{value:"BytePlus",children:"BytePlus"}),u.jsx("option",{value:"Wangsu",children:"Wangsu"}),u.jsx("option",{value:"Akamai",children:"Akamai"}),u.jsx("option",{value:"Multi CDN",children:"Multi CDN"})]})]})]})]})]}),u.jsx("div",{className:"p-6 border-t-2 border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:e,disabled:l,className:"flex-1 h-12 bg-white dark:bg-zinc-800 border-2 border-zinc-200 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 rounded-xl font-bold text-sm hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors disabled:opacity-50",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:l||!b,className:"flex-1 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-bold text-sm hover:shadow-lg hover:shadow-blue-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?u.jsxs(u.Fragment,{children:[u.jsx(Zs,{size:18,className:"animate-spin"}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(ar,{size:18}),u.jsx("span",{children:"Save Match"})]})})]})})]})]})]})}const M9=["#","League","Match","Time","ECS Sport","ECS Entitlement","API Huawei","WWW & API Peak/Min","CDN","Channel","Req Peak (Min)","Req Total","BW Peak (Gb/s)","BW Total (GB)","Viewers","Score","Start","End"];function I9({matches:n,isOpen:e,onClose:t}){const[r,a]=M.useState(new Set),[l,c]=M.useState("end_stat"),[h,f]=M.useState(!1),[g,b]=M.useState(""),[v,x]=M.useState(!0),[E,A]=M.useState("table");M.useEffect(()=>{e&&n?.length>0&&a(new Set(n.map(q=>q.id)))},[e]),M.useEffect(()=>{e&&a(q=>{const R=new Set(n.map(j=>j.id)),k=new Set([...q].filter(j=>R.has(j)));return k.size===q.size?q:k})},[n,e]);const N=M.useMemo(()=>n?n.map(q=>{const R=l==="start_stat"?"startStats":"endStats",k=q[R]||{},j=!!q[R];return{...q,...k,hasStats:j}}):[],[n,l]),C=(q,R)=>{const k={no:R+1,league:q.league||q.calendar||"-",title:q.teamA&&q.teamB?`${q.teamA} vs ${q.teamB}`:q.title||q.match||"-",time:q.startTime||"-",ecsSport:go(q.ecsSport,2)||"0.00 %",ecsEnt:go(q.ecsEntitlement,2)||"0.00 %",api:go(q.apiHuawei,2)||"0.00 %",reqPeak:_r(Lr(q.requestPeak))||"0",viewers:_r(Lr(q.muxViewerUniq))||"0",score:q.muxScore||"0",start:q.rangeStart||"-",end:q.rangeEnd||"-"},j=[];return q.cdn==="Multi CDN"&&Array.isArray(q.cdnDetails)&&q.cdnDetails.length>0?q.cdnDetails.forEach((I,H)=>{j.push({id:`${q.id}-cdn-${H}`,matchId:q.id,hasStats:q.hasStats,cells:[k.no,k.league,k.title,k.time,k.ecsSport,k.ecsEnt,k.api,k.reqPeak,I.provider||"Unknown",I.key||"-",_r(Lr(I.reqPeakMin))||"0",_r(Lr(I.reqTotal))||"0",Hs(I.bwPeakGbps?.val||I.bwPeakGbps,I.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",Hs(I.bandwidth?.val||I.bandwidth,I.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",k.viewers,k.score,k.start,k.end]})}):j.push({id:q.id,matchId:q.id,hasStats:q.hasStats,cells:[k.no,k.league,k.title,k.time,k.ecsSport,k.ecsEnt,k.api,k.reqPeak,q.cdn||"-",q.liveChannel||q.channel||"-",_r(Lr(q.reqPeakMin))||"0",_r(Lr(q.reqTotal))||"0",Hs(q.bwPeakGbps?.val||q.bwPeakGbps,q.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",Hs(q.bandwidth?.val||q.bandwidth,q.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",k.viewers,k.score,k.start,k.end]}),j},D=M.useMemo(()=>{let q=0;return N.flatMap(R=>{const k=C(R,q);return q++,k})},[N]),O=M.useMemo(()=>D.filter(q=>r.has(q.matchId)),[D,r]),F=q=>{const R=new Set(r);R.has(q)?R.delete(q):R.add(q),a(R)},L=()=>{r.size===n.length?a(new Set):a(new Set(n.map(q=>q.id)))},W=(q=!1)=>{const R=q?D:O;if(R.length===0){b("No data to copy"),f(!0);return}const k=R.map(j=>j.cells.join("	")).join(`
`);navigator.clipboard.writeText(k).then(()=>{b(`Copied ${R.length} rows to clipboard!`),f(!0)})};return e?u.jsxs(u.Fragment,{children:[h&&u.jsx(Fo,{message:g,type:"success",duration:3e3,onClose:()=>f(!1)}),u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-[#0f0f0f] w-full max-w-7xl rounded-3xl shadow-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"shrink-0 p-4 md:p-6 bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/10 dark:to-purple-900/10 border-b border-zinc-200 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl text-white shadow-lg shadow-violet-500/30",children:u.jsx(PS,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-zinc-900 dark:text-white",children:"Data Preview"}),u.jsxs("p",{className:"text-xs text-zinc-500 mt-0.5",children:[n?.length||0," matches  ",D.length," rows  ",O.length," selected"]})]})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:u.jsx(kn,{size:20,className:"text-zinc-500"})})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1 p-1 bg-zinc-100 dark:bg-zinc-800 rounded-xl",children:[u.jsx("button",{onClick:()=>c("start_stat"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${l==="start_stat"?"bg-white dark:bg-zinc-700 text-violet-600 dark:text-violet-400 shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"Start Stats"}),u.jsx("button",{onClick:()=>c("end_stat"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${l==="end_stat"?"bg-white dark:bg-zinc-700 text-violet-600 dark:text-violet-400 shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"End Stats"})]}),u.jsxs("div",{className:"flex items-center gap-1 p-1 bg-zinc-100 dark:bg-zinc-800 rounded-xl",children:[u.jsx("button",{onClick:()=>A("table"),className:`p-2 rounded-lg transition-all ${E==="table"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-400 hover:text-zinc-600"}`,title:"Table View",children:u.jsx(bj,{size:16})}),u.jsx("button",{onClick:()=>A("compact"),className:`p-2 rounded-lg transition-all ${E==="compact"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-400 hover:text-zinc-600"}`,title:"Compact View",children:u.jsx(HS,{size:16})})]}),u.jsx("div",{className:"h-6 w-[1px] bg-zinc-200 dark:bg-zinc-700 hidden md:block"}),u.jsx("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-xs font-bold uppercase text-zinc-600 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all",children:r.size===n?.length?u.jsxs(u.Fragment,{children:[u.jsx(Oh,{size:16,className:"text-violet-500"})," Deselect All"]}):u.jsxs(u.Fragment,{children:[u.jsx(Vh,{size:16})," Select All"]})}),u.jsx("div",{className:"flex-1"}),u.jsxs("button",{onClick:()=>x(!v),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors",children:[v?u.jsx(hz,{size:16}):u.jsx(ff,{size:16}),v?"Collapse":"Expand"]})]})]}),v&&u.jsx("div",{className:"flex-1 overflow-hidden flex flex-col min-h-0",children:E==="table"?u.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-4",children:u.jsx("div",{className:"inline-block min-w-full align-middle",children:u.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden bg-white dark:bg-zinc-900/50",children:u.jsxs("table",{className:"min-w-full divide-y divide-zinc-200 dark:divide-zinc-800",children:[u.jsx("thead",{className:"bg-zinc-100 dark:bg-zinc-800/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-3 text-left w-10",children:u.jsx("button",{onClick:L,className:"flex items-center justify-center",children:r.size===n?.length?u.jsx(Oh,{size:16,className:"text-violet-500"}):r.size>0?u.jsx("div",{className:"w-4 h-4 border-2 border-violet-500 rounded bg-violet-500/20"}):u.jsx(Vh,{size:16,className:"text-zinc-400"})})}),M9.map((q,R)=>u.jsx("th",{className:"px-3 py-3 text-left text-[10px] font-black uppercase tracking-widest text-zinc-500 whitespace-nowrap",children:q},R))]})}),u.jsx("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:D.map((q,R)=>{const k=r.has(q.matchId);return u.jsxs("tr",{onClick:()=>F(q.matchId),className:`cursor-pointer transition-all ${k?"bg-violet-50 dark:bg-violet-900/10 hover:bg-violet-100 dark:hover:bg-violet-900/20":"hover:bg-zinc-50 dark:hover:bg-zinc-800/50"}`,children:[u.jsx("td",{className:"px-3 py-2",children:k?u.jsx(Oh,{size:16,className:"text-violet-500"}):u.jsx(Vh,{size:16,className:"text-zinc-300 dark:text-zinc-600"})}),q.cells.map((j,U)=>u.jsx("td",{className:`px-3 py-2 text-xs font-mono whitespace-nowrap ${k?"text-zinc-800 dark:text-zinc-200":"text-zinc-600 dark:text-zinc-400"}`,children:j},U))]},q.id)})})]})})})}):u.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-4",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map(q=>{const R=r.has(q.id);return u.jsxs("div",{onClick:()=>F(q.id),className:`p-4 rounded-2xl border-2 cursor-pointer transition-all ${R?"border-violet-500 bg-violet-50 dark:bg-violet-900/10 shadow-lg shadow-violet-500/10":"border-zinc-100 dark:border-zinc-800 bg-white dark:bg-zinc-900/50 hover:border-zinc-200 dark:hover:border-zinc-700"}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white truncate",children:q.teamA&&q.teamB?`${q.teamA} vs ${q.teamB}`:q.title||q.match||"-"}),u.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold mt-0.5 truncate",children:q.league||q.calendar||"-"})]}),R?u.jsx(Oh,{size:20,className:"text-violet-500 shrink-0"}):u.jsx(Vh,{size:20,className:"text-zinc-300 dark:text-zinc-600 shrink-0"})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[u.jsx("span",{className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-[10px] font-bold text-zinc-600 dark:text-zinc-400",children:q.startTime||"-"}),u.jsx("span",{className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-[10px] font-bold text-zinc-600 dark:text-zinc-400",children:q.cdn||"-"}),q.hasStats&&u.jsx("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900/20 rounded-lg text-[10px] font-bold text-emerald-600 dark:text-emerald-400",children:"Has Stats"})]})]},q.id)})})})}),u.jsx("div",{className:"shrink-0 p-4 md:p-6 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"text-xs font-bold text-zinc-400",children:[O.length," of ",D.length," rows selected"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:t,className:"px-6 py-3 text-xs font-black uppercase text-zinc-500 hover:text-black dark:hover:text-white transition-colors rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-800",children:"Cancel"}),u.jsxs("button",{onClick:()=>W(!0),disabled:D.length===0,className:"px-6 py-3 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-xs font-black uppercase text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u.jsx(Su,{size:16}),"Copy All (",D.length,")"]}),u.jsxs("button",{onClick:()=>W(!1),disabled:O.length===0,className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl text-xs font-black uppercase text-white shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center gap-2 active:translate-y-0",children:[u.jsx(Su,{size:16}),"Copy Selected (",O.length,")"]})]})]})})]})})]}):null}const O9=()=>{const[n,e]=M.useState(new Date);return M.useEffect(()=>{const t=setInterval(()=>e(new Date),1e3);return()=>clearInterval(t)},[]),u.jsxs("div",{className:"w-full md:w-auto bg-white text-black px-4 md:px-6 py-2.5 rounded-xl font-mono text-lg md:text-xl font-bold shadow-lg flex items-center justify-center md:justify-start gap-3",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500 animate-pulse"}),gu(n,"HH:mm:ss")]})};function V9(){const[n,e]=M.useState(new Date),t=gu(n,"yyyy-MM-dd"),{matches:r,loading:a}=yT(n),[l,c]=M.useState(null),[h,f]=M.useState(!1),[g,b]=M.useState(null),[v,x]=M.useState(!1),[E,A]=M.useState({isOpen:!1,id:null}),[N,C]=M.useState([]),[D,O]=M.useState(!1),[F,L]=M.useState(""),[W,q]=M.useState("ALL"),[R,k]=M.useState(1),j=6,[U,I]=M.useState(!1),[H,P]=M.useState(new Set),[Se,De]=M.useState(new Set),re=M.useRef(new Map),ae=(fe,Ze="success")=>{const Lt=Date.now();C(ht=>[...ht,{id:Lt,message:fe,type:Ze}]),setTimeout(()=>{C(ht=>ht.filter(jt=>jt.id!==Lt))},3e3)},pe=fe=>{C(Ze=>Ze.filter(Lt=>Lt.id!==fe))},_e=()=>e(fe=>E9(fe)),de=()=>e(fe=>fT(fe,1)),V=()=>e(new Date),Z=fe=>{fe.target.value&&e(new Date(fe.target.value))};M.useEffect(()=>{"Notification"in window&&Notification.permission==="granted"&&I(!0)},[]);const ue=async()=>{if(!("Notification"in window)){ae("Browser does not support notifications","error");return}await Notification.requestPermission()==="granted"&&(I(!0),new Notification(" System Ready",{body:"Notifications enabled for matches!"}),ae("Notifications enabled successfully!"))};M.useEffect(()=>{if(!U||r.length===0)return;const fe=()=>{const Lt=new Date;r.forEach(ht=>{const jt=`time-${ht.id}`;if(H.has(jt))return;const Ar=ht.startDate||t,fa=new Date(`${Ar}T${ht.startTime}`)-Lt,Ti=Math.floor(fa/6e4);Ti<=15&&Ti>0&&(new Notification(" Match Starting Soon!",{body:`${ht.teamA||"Match"} vs ${ht.teamB||""} starts in ${Ti} mins!`}),P(Ct=>new Set(Ct).add(jt)))})};fe();const Ze=setInterval(fe,6e4);return()=>clearInterval(Ze)},[r,U,H,t]),M.useEffect(()=>{!U||r.length===0||r.forEach(fe=>{const Ze=fe.teamA&&fe.teamB?`${fe.teamA} vs ${fe.teamB}`:fe.title||fe.match||"Match",Lt=`${fe.hasStartStat}-${fe.hasEndStat}`,ht=re.current.get(fe.id);if(ht&&ht!==Lt){if(fe.hasStartStat&&!fe.hasEndStat&&!ht.startsWith("true")){const jt=`live-${fe.id}`;Se.has(jt)||(new Notification(" LIVE: Match Started!",{body:`${Ze} is now LIVE!`,icon:"/favicon.ico"}),De(Ar=>new Set(Ar).add(jt)),ae(` ${Ze} is LIVE!`,"success"))}if(fe.hasEndStat&&!ht.endsWith("true")){const jt=`finished-${fe.id}`;Se.has(jt)||(new Notification(" Match Finished!",{body:`${Ze} has finished!`,icon:"/favicon.ico"}),De(Ar=>new Set(Ar).add(jt)),ae(` ${Ze} finished!`,"success"))}}re.current.set(fe.id,Lt)})},[r,U,Se,ae]);const he=M.useMemo(()=>r.filter(fe=>{const Lt=`${fe.league||""} ${fe.teamA||""} ${fe.teamB||""} ${fe.match||""}`.toLowerCase().includes(F.toLowerCase());let ht=!0;return W==="LIVE"&&(ht=fe.hasStartStat&&!fe.hasEndStat),W==="FINISHED"&&(ht=fe.hasEndStat),W==="PENDING"&&(ht=!fe.hasStartStat),Lt&&ht}),[r,F,W]),Ee=M.useMemo(()=>({total:r.length,live:r.filter(fe=>fe.hasStartStat&&!fe.hasEndStat).length,finished:r.filter(fe=>fe.hasEndStat).length,pending:r.filter(fe=>!fe.hasStartStat).length}),[r]),ve=Math.ceil(he.length/j),Re=M.useMemo(()=>{const fe=(R-1)*j;return he.slice(fe,fe+j)},[he,R]);M.useEffect(()=>{k(1)},[W,F,r]);const mt=async fe=>{x(!0);try{g?await r0.updateMatch(g.id,fe):await r0.createMatch(fe),b(null),f(!1),ae(g?"Match updated successfully!":"Match created successfully!")}catch(Ze){ae("Failed to save match: "+Ze.message,"error")}finally{x(!1)}},Ye=async()=>{if(E.id)try{await r0.deleteMatch(E.id),A({isOpen:!1,id:null}),ae("Match deleted successfully!")}catch(fe){ae("Failed to delete match: "+fe.message,"error")}};return u.jsxs("div",{className:"flex flex-col h-full w-full bg-gradient-to-br from-zinc-50 via-white to-zinc-50 dark:from-black dark:via-zinc-900 dark:to-black overflow-hidden",children:[l&&u.jsx(z9,{isOpen:!!l,onClose:()=>c(null),matchData:l}),u.jsx(j9,{isOpen:h,onClose:()=>{f(!1),b(null)},onSubmit:mt,initialData:g,selectedDate:t,saving:v}),u.jsx(qu,{isOpen:E.isOpen,onClose:()=>A({isOpen:!1,id:null}),title:"Delete Match?",message:"Are you sure you want to delete this match? This action cannot be undone.",onConfirm:Ye,isDanger:!0}),u.jsx("div",{className:"fixed bottom-4 right-4 z-[200] flex flex-col-reverse gap-2",children:N.map((fe,Ze)=>u.jsx("div",{className:"animate-in slide-in-from-right-5 fade-in duration-300",style:{animationDelay:`${Ze*50}ms`},children:u.jsx(Fo,{message:fe.message,type:fe.type,onClose:()=>pe(fe.id)})},fe.id))}),u.jsx(I9,{matches:he,isOpen:D,onClose:()=>O(!1)}),u.jsx("header",{className:"shrink-0 bg-zinc-950 border-b border-zinc-800 pb-6 transition-all",children:u.jsxs("div",{className:"px-4 md:px-6 pt-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-red-500/20 shrink-0",children:u.jsx(Sb,{size:24,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white tracking-tight",children:"Live Desk"}),u.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:"Monitor and manage live matches"})]})]}),u.jsx(O9,{})]}),u.jsx("div",{className:"flex flex-col xl:flex-row items-stretch xl:items-center justify-between gap-4",children:u.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-3 w-full xl:w-auto",children:[u.jsxs("div",{className:"flex items-center bg-zinc-900 border border-zinc-800 rounded-2xl p-1.5 flex-1 justify-between",children:[u.jsx("button",{onClick:_e,className:"w-12 h-12 flex items-center justify-center rounded-xl text-zinc-400 hover:bg-zinc-800 hover:text-white transition-colors shrink-0",children:u.jsx(j_,{size:24,strokeWidth:2.5})}),u.jsxs("div",{className:"relative mx-2 flex-1 flex justify-center",children:[u.jsxs("div",{className:"h-12 w-full flex items-center justify-center px-2 bg-zinc-800/50 rounded-xl cursor-pointer hover:bg-zinc-800 transition-colors border border-zinc-700/50 group overflow-hidden",children:[u.jsx(sr,{size:18,className:"text-zinc-400 mr-2 md:mr-3 group-hover:text-red-500 transition-colors shrink-0"}),u.jsx("span",{className:"text-sm md:text-lg font-bold text-white tracking-wide whitespace-nowrap truncate",children:gu(n,"EEEE, dd MMM yyyy")})]}),u.jsx("input",{type:"date",className:"absolute inset-0 opacity-0 cursor-pointer",value:t,onChange:Z})]}),u.jsx("button",{onClick:de,className:"w-12 h-12 flex items-center justify-center rounded-xl text-zinc-400 hover:bg-zinc-800 hover:text-white transition-colors shrink-0",children:u.jsx(k0,{size:24,strokeWidth:2.5})})]}),u.jsxs("div",{className:"flex bg-zinc-800 rounded-2xl border border-zinc-700 p-1.5 h-14 lg:h-[62px] items-center w-full lg:w-auto",children:[u.jsxs("div",{className:"relative h-full aspect-square shrink-0",children:[u.jsx("button",{className:"w-full h-full flex items-center justify-center rounded-xl bg-zinc-700 text-zinc-300 hover:bg-zinc-600 hover:text-white transition-all",title:"Select Date",children:u.jsx(sr,{size:22})}),u.jsx("input",{type:"date",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",value:t,onChange:Z})]}),u.jsx("div",{className:"w-px h-6 lg:h-8 bg-zinc-700 mx-2"}),u.jsx("button",{onClick:V,disabled:lE(n),className:`h-full flex-1 lg:flex-none px-4 lg:px-6 rounded-xl font-bold text-sm transition-all whitespace-nowrap flex items-center justify-center ${lE(n)?"text-zinc-500 cursor-default bg-transparent":"bg-red-600 text-white hover:bg-red-500 shadow-lg shadow-red-900/20"}`,children:"Today"})]})]})}),u.jsxs("div",{className:"flex flex-col xl:flex-row items-center justify-between gap-4 mt-4 pt-6 border-t border-zinc-900",children:[u.jsx("div",{className:"flex items-center gap-2 overflow-x-auto w-full xl:w-auto no-scrollbar pb-1 xl:pb-0",children:[{id:"ALL",label:"All",count:Ee.total},{id:"LIVE",label:"Live",count:Ee.live,isLive:!0},{id:"PENDING",label:"Scheduled",count:Ee.pending},{id:"FINISHED",label:"Finished",count:Ee.finished}].map(fe=>u.jsxs("button",{onClick:()=>q(fe.id),className:`h-12 px-4 md:px-5 rounded-xl border-2 font-bold text-sm flex items-center gap-2 transition-all whitespace-nowrap shrink-0 ${W===fe.id?"bg-white border-white text-black shadow-lg shadow-white/10":"bg-zinc-900 border-zinc-800 text-zinc-400 hover:border-zinc-700 hover:text-zinc-200"}`,children:[u.jsx("span",{children:fe.label}),u.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-xs ${W===fe.id?"bg-black text-white":"bg-zinc-800 text-zinc-500"}`,children:fe.count}),fe.isLive&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse ml-1"})]},fe.id))}),u.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr] md:flex gap-3 w-full xl:w-auto",children:[u.jsx("button",{onClick:ue,disabled:U,className:`h-12 w-12 flex items-center justify-center rounded-xl border transition-all ${U?"bg-emerald-500 border-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-zinc-900 border-zinc-700 text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:U?u.jsx(VD,{size:20}):u.jsx(ID,{size:20})}),u.jsxs("button",{onClick:()=>O(!0),disabled:he.length===0,className:"h-12 px-4 md:px-6 bg-zinc-800 border border-zinc-700 text-violet-400 hover:text-violet-300 hover:bg-zinc-700 rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[u.jsx(_i,{size:18}),u.jsx("span",{children:"Preview"})]}),u.jsxs("button",{onClick:()=>{b(null),f(!0)},className:"h-12 px-4 md:px-6 bg-white text-black hover:bg-zinc-200 rounded-xl font-bold text-sm shadow-xl transition-all flex items-center justify-center gap-2",children:[u.jsx(yo,{size:18,strokeWidth:3}),u.jsx("span",{children:"Add Match"})]})]})]})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[1,2,3,4,5,6].map(fe=>u.jsx("div",{className:"h-48 bg-white dark:bg-zinc-900 rounded-2xl animate-pulse border-2 border-zinc-100 dark:border-zinc-800"},fe))}):he.length===0?u.jsxs("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center",children:[u.jsx("div",{className:"p-6 bg-white dark:bg-zinc-900 rounded-3xl shadow-lg border-2 border-zinc-100 dark:border-zinc-800 mb-4",children:u.jsx(ku,{size:48,className:"text-zinc-300 dark:text-zinc-700"})}),u.jsx("h3",{className:"text-xl font-black text-zinc-800 dark:text-zinc-200 mb-2",children:"No matches found"}),u.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mb-6 max-w-md text-center",children:F?`No matches found for "${F}". Try a different search term.`:`No matches scheduled for ${gu(n,"dd MMM yyyy")}. Add a new match to get started.`}),u.jsxs("button",{onClick:()=>{b(null),f(!0)},className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all",children:[u.jsx(yo,{size:20}),"Add Match"]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:Re.map(fe=>u.jsx(vT,{match:fe,onClick:()=>c(fe),onEdit:Ze=>{b(Ze),f(!0)},onDelete:Ze=>A({isOpen:!0,id:Ze})},fe.id))}),ve>1&&u.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-2xl border-2 border-zinc-100 dark:border-zinc-800",children:[u.jsxs("span",{className:"text-sm font-semibold text-zinc-600 dark:text-zinc-400",children:["Showing ",(R-1)*j+1," - ",Math.min(R*j,he.length)," of ",he.length]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>k(fe=>Math.max(fe-1,1)),disabled:R===1,className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 disabled:opacity-30 transition-colors",children:u.jsx(j_,{size:18})}),u.jsxs("div",{className:"px-4 py-2 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-lg text-sm font-bold",children:[R," / ",ve]}),u.jsx("button",{onClick:()=>k(fe=>Math.min(fe+1,ve)),disabled:R===ve,className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 disabled:opacity-30 transition-colors",children:u.jsx(k0,{size:18})})]})]})]})})]})}var Am,Te,xT,_T,No,Qa,cE,wT,ET,Pf={},ST=[],P9=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Fs(n,e){for(var t in e)n[t]=e[t];return n}function kT(n){var e=n.parentNode;e&&e.removeChild(n)}function ne(n,e,t){var r,a,l,c={};for(l in e)l=="key"?r=e[l]:l=="ref"?a=e[l]:c[l]=e[l];if(arguments.length>2&&(c.children=arguments.length>3?Am.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(l in n.defaultProps)c[l]===void 0&&(c[l]=n.defaultProps[l]);return lf(n,c,r,a,null)}function lf(n,e,t,r,a){var l={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++xT};return a==null&&Te.vnode!=null&&Te.vnode(l),l}function ns(){return{current:null}}function Dt(n){return n.children}function L9(n,e,t,r,a){var l;for(l in t)l==="children"||l==="key"||l in e||Lf(n,l,null,t[l],r);for(l in e)a&&typeof e[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||t[l]===e[l]||Lf(n,l,e[l],t[l],r)}function uE(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||P9.test(e)?t:t+"px"}function Lf(n,e,t,r,a){var l;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||uE(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||uE(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")l=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+l]=t,t?r||n.addEventListener(e,l?hE:dE,l):n.removeEventListener(e,l?hE:dE,l);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function dE(n){No=!0;try{return this.l[n.type+!1](Te.event?Te.event(n):n)}finally{No=!1}}function hE(n){No=!0;try{return this.l[n.type+!0](Te.event?Te.event(n):n)}finally{No=!1}}function ir(n,e){this.props=n,this.context=e}function Vu(n,e){if(e==null)return n.__?Vu(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Vu(n):null}function AT(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return AT(n)}}function U9(n){No?setTimeout(n):wT(n)}function K0(n){(!n.__d&&(n.__d=!0)&&Qa.push(n)&&!Uf.__r++||cE!==Te.debounceRendering)&&((cE=Te.debounceRendering)||U9)(Uf)}function Uf(){var n,e,t,r,a,l,c,h;for(Qa.sort(function(f,g){return f.__v.__b-g.__v.__b});n=Qa.shift();)n.__d&&(e=Qa.length,r=void 0,a=void 0,c=(l=(t=n).__v).__e,(h=t.__P)&&(r=[],(a=Fs({},l)).__v=l.__v+1,wy(h,l,a,t.__n,h.ownerSVGElement!==void 0,l.__h!=null?[c]:null,r,c??Vu(l),l.__h),DT(r,l),l.__e!=c&&AT(l)),Qa.length>e&&Qa.sort(function(f,g){return f.__v.__b-g.__v.__b}));Uf.__r=0}function TT(n,e,t,r,a,l,c,h,f,g){var b,v,x,E,A,N,C,D=r&&r.__k||ST,O=D.length;for(t.__k=[],b=0;b<e.length;b++)if((E=t.__k[b]=(E=e[b])==null||typeof E=="boolean"?null:typeof E=="string"||typeof E=="number"||typeof E=="bigint"?lf(null,E,null,null,E):Array.isArray(E)?lf(Dt,{children:E},null,null,null):E.__b>0?lf(E.type,E.props,E.key,E.ref?E.ref:null,E.__v):E)!=null){if(E.__=t,E.__b=t.__b+1,(x=D[b])===null||x&&E.key==x.key&&E.type===x.type)D[b]=void 0;else for(v=0;v<O;v++){if((x=D[v])&&E.key==x.key&&E.type===x.type){D[v]=void 0;break}x=null}wy(n,E,x=x||Pf,a,l,c,h,f,g),A=E.__e,(v=E.ref)&&x.ref!=v&&(C||(C=[]),x.ref&&C.push(x.ref,null,E),C.push(v,E.__c||A,E)),A!=null?(N==null&&(N=A),typeof E.type=="function"&&E.__k===x.__k?E.__d=f=CT(E,f,n):f=NT(n,E,x,D,A,f),typeof t.type=="function"&&(t.__d=f)):f&&x.__e==f&&f.parentNode!=n&&(f=Vu(x))}for(t.__e=N,b=O;b--;)D[b]!=null&&(typeof t.type=="function"&&D[b].__e!=null&&D[b].__e==t.__d&&(t.__d=RT(r).nextSibling),jT(D[b],D[b]));if(C)for(b=0;b<C.length;b++)zT(C[b],C[++b],C[++b])}function CT(n,e,t){for(var r,a=n.__k,l=0;a&&l<a.length;l++)(r=a[l])&&(r.__=n,e=typeof r.type=="function"?CT(r,e,t):NT(t,r,r,a,r.__e,e));return e}function Bf(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Bf(t,e)}):e.push(n)),e}function NT(n,e,t,r,a,l){var c,h,f;if(e.__d!==void 0)c=e.__d,e.__d=void 0;else if(t==null||a!=l||a.parentNode==null)e:if(l==null||l.parentNode!==n)n.appendChild(a),c=null;else{for(h=l,f=0;(h=h.nextSibling)&&f<r.length;f+=1)if(h==a)break e;n.insertBefore(a,l),c=l}return c!==void 0?c:a.nextSibling}function RT(n){var e,t,r;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(r=RT(t)))return r}return null}function wy(n,e,t,r,a,l,c,h,f){var g,b,v,x,E,A,N,C,D,O,F,L,W,q,R,k=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(f=t.__h,h=e.__e=t.__e,e.__h=null,l=[h]),(g=Te.__b)&&g(e);try{e:if(typeof k=="function"){if(C=e.props,D=(g=k.contextType)&&r[g.__c],O=g?D?D.props.value:g.__:r,t.__c?N=(b=e.__c=t.__c).__=b.__E:("prototype"in k&&k.prototype.render?e.__c=b=new k(C,O):(e.__c=b=new ir(C,O),b.constructor=k,b.render=H9),D&&D.sub(b),b.props=C,b.state||(b.state={}),b.context=O,b.__n=r,v=b.__d=!0,b.__h=[],b._sb=[]),b.__s==null&&(b.__s=b.state),k.getDerivedStateFromProps!=null&&(b.__s==b.state&&(b.__s=Fs({},b.__s)),Fs(b.__s,k.getDerivedStateFromProps(C,b.__s))),x=b.props,E=b.state,b.__v=e,v)k.getDerivedStateFromProps==null&&b.componentWillMount!=null&&b.componentWillMount(),b.componentDidMount!=null&&b.__h.push(b.componentDidMount);else{if(k.getDerivedStateFromProps==null&&C!==x&&b.componentWillReceiveProps!=null&&b.componentWillReceiveProps(C,O),!b.__e&&b.shouldComponentUpdate!=null&&b.shouldComponentUpdate(C,b.__s,O)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(b.props=C,b.state=b.__s,b.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(j){j&&(j.__=e)}),F=0;F<b._sb.length;F++)b.__h.push(b._sb[F]);b._sb=[],b.__h.length&&c.push(b);break e}b.componentWillUpdate!=null&&b.componentWillUpdate(C,b.__s,O),b.componentDidUpdate!=null&&b.__h.push(function(){b.componentDidUpdate(x,E,A)})}if(b.context=O,b.props=C,b.__P=n,L=Te.__r,W=0,"prototype"in k&&k.prototype.render){for(b.state=b.__s,b.__d=!1,L&&L(e),g=b.render(b.props,b.state,b.context),q=0;q<b._sb.length;q++)b.__h.push(b._sb[q]);b._sb=[]}else do b.__d=!1,L&&L(e),g=b.render(b.props,b.state,b.context),b.state=b.__s;while(b.__d&&++W<25);b.state=b.__s,b.getChildContext!=null&&(r=Fs(Fs({},r),b.getChildContext())),v||b.getSnapshotBeforeUpdate==null||(A=b.getSnapshotBeforeUpdate(x,E)),R=g!=null&&g.type===Dt&&g.key==null?g.props.children:g,TT(n,Array.isArray(R)?R:[R],e,t,r,a,l,c,h,f),b.base=e.__e,e.__h=null,b.__h.length&&c.push(b),N&&(b.__E=b.__=null),b.__e=!1}else l==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=B9(t.__e,e,t,r,a,l,c,f);(g=Te.diffed)&&g(e)}catch(j){e.__v=null,(f||l!=null)&&(e.__e=h,e.__h=!!f,l[l.indexOf(h)]=null),Te.__e(j,e,t)}}function DT(n,e){Te.__c&&Te.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){Te.__e(r,t.__v)}})}function B9(n,e,t,r,a,l,c,h){var f,g,b,v=t.props,x=e.props,E=e.type,A=0;if(E==="svg"&&(a=!0),l!=null){for(;A<l.length;A++)if((f=l[A])&&"setAttribute"in f==!!E&&(E?f.localName===E:f.nodeType===3)){n=f,l[A]=null;break}}if(n==null){if(E===null)return document.createTextNode(x);n=a?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,x.is&&x),l=null,h=!1}if(E===null)v===x||h&&n.data===x||(n.data=x);else{if(l=l&&Am.call(n.childNodes),g=(v=t.props||Pf).dangerouslySetInnerHTML,b=x.dangerouslySetInnerHTML,!h){if(l!=null)for(v={},A=0;A<n.attributes.length;A++)v[n.attributes[A].name]=n.attributes[A].value;(b||g)&&(b&&(g&&b.__html==g.__html||b.__html===n.innerHTML)||(n.innerHTML=b&&b.__html||""))}if(L9(n,x,v,a,h),b)e.__k=[];else if(A=e.props.children,TT(n,Array.isArray(A)?A:[A],e,t,r,a&&E!=="foreignObject",l,c,l?l[0]:t.__k&&Vu(t,0),h),l!=null)for(A=l.length;A--;)l[A]!=null&&kT(l[A]);h||("value"in x&&(A=x.value)!==void 0&&(A!==n.value||E==="progress"&&!A||E==="option"&&A!==v.value)&&Lf(n,"value",A,v.value,!1),"checked"in x&&(A=x.checked)!==void 0&&A!==n.checked&&Lf(n,"checked",A,v.checked,!1))}return n}function zT(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){Te.__e(r,t)}}function jT(n,e,t){var r,a;if(Te.unmount&&Te.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||zT(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){Te.__e(l,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(a=0;a<r.length;a++)r[a]&&jT(r[a],e,t||typeof n.type!="function");t||n.__e==null||kT(n.__e),n.__=n.__e=n.__d=void 0}function H9(n,e,t){return this.constructor(n,t)}function Pu(n,e,t){var r,a,l;Te.__&&Te.__(n,e),a=(r=!1)?null:e.__k,l=[],wy(e,n=e.__k=ne(Dt,null,[n]),a||Pf,Pf,e.ownerSVGElement!==void 0,a?null:e.firstChild?Am.call(e.childNodes):null,l,a?a.__e:e.firstChild,r),DT(l,n)}function F9(n,e){var t={__c:e="__cC"+ET++,__:n,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,l;return this.getChildContext||(a=[],(l={})[e]=this,this.getChildContext=function(){return l},this.shouldComponentUpdate=function(c){this.props.value!==c.value&&a.some(function(h){h.__e=!0,K0(h)})},this.sub=function(c){a.push(c);var h=c.componentWillUnmount;c.componentWillUnmount=function(){a.splice(a.indexOf(c),1),h&&h.call(c)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}Am=ST.slice,Te={__e:function(n,e,t,r){for(var a,l,c;e=e.__;)if((a=e.__c)&&!a.__)try{if((l=a.constructor)&&l.getDerivedStateFromError!=null&&(a.setState(l.getDerivedStateFromError(n)),c=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(n,r||{}),c=a.__d),c)return a.__E=a}catch(h){n=h}throw n}},xT=0,_T=function(n){return n!=null&&n.constructor===void 0},No=!1,ir.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Fs({},this.state),typeof n=="function"&&(n=n(Fs({},t),this.props)),n&&Fs(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),K0(this))},ir.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),K0(this))},ir.prototype.render=Dt,Qa=[],wT=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Uf.__r=0,ET=0;var mi,i0,fE,MT=[],s0=[],mE=Te.__b,gE=Te.__r,pE=Te.diffed,bE=Te.__c,yE=Te.unmount;function q9(){for(var n;n=MT.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(of),n.__H.__h.forEach(Z0),n.__H.__h=[]}catch(e){n.__H.__h=[],Te.__e(e,n.__v)}}Te.__b=function(n){mi=null,mE&&mE(n)},Te.__r=function(n){gE&&gE(n);var e=(mi=n.__c).__H;e&&(i0===mi?(e.__h=[],mi.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=s0,t.__N=t.i=void 0})):(e.__h.forEach(of),e.__h.forEach(Z0),e.__h=[])),i0=mi},Te.diffed=function(n){pE&&pE(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(MT.push(e)!==1&&fE===Te.requestAnimationFrame||((fE=Te.requestAnimationFrame)||G9)(q9)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==s0&&(t.__=t.__V),t.i=void 0,t.__V=s0})),i0=mi=null},Te.__c=function(n,e){e.some(function(t){try{t.__h.forEach(of),t.__h=t.__h.filter(function(r){return!r.__||Z0(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Te.__e(r,t.__v)}}),bE&&bE(n,e)},Te.unmount=function(n){yE&&yE(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{of(r)}catch(a){e=a}}),t.__H=void 0,e&&Te.__e(e,t.__v))};var vE=typeof requestAnimationFrame=="function";function G9(n){var e,t=function(){clearTimeout(r),vE&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);vE&&(e=requestAnimationFrame(t))}function of(n){var e=mi,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),mi=e}function Z0(n){var e=mi;n.__c=n.__(),mi=e}function $9(n,e){for(var t in e)n[t]=e[t];return n}function xE(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function _E(n){this.props=n}(_E.prototype=new ir).isPureReactComponent=!0,_E.prototype.shouldComponentUpdate=function(n,e){return xE(this.props,n)||xE(this.state,e)};var wE=Te.__b;Te.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),wE&&wE(n)};var Q9=Te.__e;Te.__e=function(n,e,t,r){if(n.then){for(var a,l=e;l=l.__;)if((a=l.__c)&&a.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),a.__c(n,e)}Q9(n,e,t,r)};var EE=Te.unmount;function IT(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=$9({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return IT(r,e,t)})),n}function OT(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return OT(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function a0(){this.__u=0,this.t=null,this.__b=null}function VT(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Gh(){this.u=null,this.o=null}Te.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),EE&&EE(n)},(a0.prototype=new ir).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var a=VT(r.__v),l=!1,c=function(){l||(l=!0,t.__R=null,a?a(h):h())};t.__R=c;var h=function(){if(!--r.__u){if(r.state.__a){var g=r.state.__a;r.__v.__k[0]=OT(g,g.__c.__P,g.__c.__O)}var b;for(r.setState({__a:r.__b=null});b=r.t.pop();)b.forceUpdate()}},f=e.__h===!0;r.__u++||f||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(c,c)},a0.prototype.componentWillUnmount=function(){this.t=[]},a0.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=IT(this.__b,t,r.__O=r.__P)}this.__b=null}var a=e.__a&&ne(Dt,null,n.fallback);return a&&(a.__h=null),[ne(Dt,null,e.__a?null:n.children),a]};var SE=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Y9(n){return this.getChildContext=function(){return n.context},n.children}function W9(n){var e=this,t=n.i;e.componentWillUnmount=function(){Pu(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,a){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Pu(ne(Y9,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function X9(n,e){var t=ne(W9,{__v:n,i:e});return t.containerInfo=e,t}(Gh.prototype=new ir).__a=function(n){var e=this,t=VT(e.__v),r=e.o.get(n);return r[0]++,function(a){var l=function(){e.props.revealOrder?(r.push(a),SE(e,n,r)):a()};t?t(l):l()}},Gh.prototype.render=function(n){this.u=null,this.o=new Map;var e=Bf(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Gh.prototype.componentDidUpdate=Gh.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){SE(n,t,e)})};var K9=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Z9=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J9=typeof document<"u",eV=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};ir.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ir.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var kE=Te.event;function tV(){}function nV(){return this.cancelBubble}function rV(){return this.defaultPrevented}Te.event=function(n){return kE&&(n=kE(n)),n.persist=tV,n.isPropagationStopped=nV,n.isDefaultPrevented=rV,n.nativeEvent=n};var AE={configurable:!0,get:function(){return this.class}},TE=Te.vnode;Te.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var l in r={},t){var c=t[l];J9&&l==="children"&&e==="noscript"||l==="value"&&"defaultValue"in t&&c==null||(l==="defaultValue"&&"value"in t&&t.value==null?l="value":l==="download"&&c===!0?c="":/ondoubleclick/i.test(l)?l="ondblclick":/^onchange(textarea|input)/i.test(l+e)&&!eV(t.type)?l="oninput":/^onfocus$/i.test(l)?l="onfocusin":/^onblur$/i.test(l)?l="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(l)?l=l.toLowerCase():a&&Z9.test(l)?l=l.replace(/[A-Z0-9]/g,"-$&").toLowerCase():c===null&&(c=void 0),/^oninput$/i.test(l)&&(l=l.toLowerCase(),r[l]&&(l="oninputCapture")),r[l]=c)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Bf(t.children).forEach(function(h){h.props.selected=r.value.indexOf(h.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Bf(t.children).forEach(function(h){h.props.selected=r.multiple?r.defaultValue.indexOf(h.props.value)!=-1:r.defaultValue==h.props.value})),n.props=r,t.class!=t.className&&(AE.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",AE))}n.$$typeof=K9,TE&&TE(n)};var CE=Te.__r;Te.__r=function(n){CE&&CE(n),n.__c};const PT=[],J0=new Map;function LT(n){PT.push(n),J0.forEach(e=>{BT(e,n)})}function iV(n){n.isConnected&&n.getRootNode&&UT(n.getRootNode())}function UT(n){let e=J0.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=aV();t&&(e.nonce=t);const r=n===document?document.head:n,a=n===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,a)}J0.set(n,e),sV(e)}}function sV(n){for(const e of PT)BT(n,e)}function BT(n,e){const{sheet:t}=n,r=t.cssRules.length;e.split("}").forEach((a,l)=>{a=a.trim(),a&&t.insertRule(a+"}",r+l)})}let l0;function aV(){return l0===void 0&&(l0=lV()),l0}function lV(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&UT(document);var oV=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';LT(oV);class Ey{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:r}=this;e in r&&(t?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Sy(n){n.parentNode&&n.parentNode.removeChild(n)}function En(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(cV(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function cV(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function uV(n,e){let t=n instanceof HTMLElement?[n]:n,r=[];for(let a=0;a<t.length;a+=1){let l=t[a].querySelectorAll(e);for(let c=0;c<l.length;c+=1)r.push(l[c])}return r}const dV=/(top|left|right|bottom|width|height)$/i;function pu(n,e){for(let t in e)HT(n,t,e[t])}function HT(n,e,t){t==null?n.style[e]="":typeof t=="number"&&dV.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function FT(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let NE=0;function Tm(){return NE+=1,"fc-dom-"+NE}function Cm(n){n.preventDefault()}function hV(n,e){return t=>{let r=En(t.target,n);r&&e.call(r,t,r)}}function qT(n,e,t,r){let a=hV(t,r);return n.addEventListener(e,a),()=>{n.removeEventListener(e,a)}}function fV(n,e,t,r){let a;return qT(n,"mouseover",e,(l,c)=>{if(c!==a){a=c,t(l,c);let h=f=>{a=null,r(f,c),c.removeEventListener("mouseleave",h)};c.addEventListener("mouseleave",h)}})}const RE=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function mV(n,e){let t=r=>{e(r),RE.forEach(a=>{n.removeEventListener(a,t)})};RE.forEach(r=>{n.addEventListener(r,t)})}function GT(n){return Object.assign({onClick:n},$T(n))}function $T(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let DE=0;function ul(){return DE+=1,String(DE)}function ky(){document.body.classList.add("fc-not-allowed")}function Ay(){document.body.classList.remove("fc-not-allowed")}function gV(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",Cm)}function pV(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",Cm)}function bV(n){n.addEventListener("contextmenu",Cm)}function yV(n){n.removeEventListener("contextmenu",Cm)}function vV(n){let e=[],t=[],r,a;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)a=t[r],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function xV(n,e,t){let r,a;for(r=0;r<t.length;r+=1)if(a=_V(n,e,t[r]),a)return a;return 0}function _V(n,e,t){return t.func?t.func(n,e):wV(n[t.field],e[t.field])*(t.order||1)}function wV(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function o0(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function bu(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((r,a,l)=>r.replace("$"+l,a||""),n):t}function EV(n,e){return n-e}function c0(n){return n%1===0}function SV(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const kV=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function tt(n,e){return typeof n=="string"?AV(n):typeof n=="object"&&n?zE(n):typeof n=="number"?zE({[e||"milliseconds"]:n}):null}function AV(n){let e=kV.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function zE(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function TV(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function CV(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function NV(n){return po(n)/365}function RV(n){return po(n)/30}function po(n){return Lu(n)/864e5}function Lu(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function eb(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function sa(n,e,t){if(n===e)return!0;let r=n.length,a;if(r!==e.length)return!1;for(a=0;a<r;a+=1)if(!(t?t(n[a],e[a]):n[a]===e[a]))return!1;return!0}const DV=["sun","mon","tue","wed","thu","fri","sat"];function jE(n,e){let t=qs(n);return t[2]+=e*7,Fn(t)}function an(n,e){let t=qs(n);return t[2]+=e,Fn(t)}function aa(n,e){let t=qs(n);return t[6]+=e,Fn(t)}function zV(n,e){return qo(n,e)/7}function qo(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function jV(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function MV(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function IV(n,e){return(e.valueOf()-n.valueOf())/1e3}function OV(n,e){let t=wt(n),r=wt(e);return{years:0,months:0,days:Math.round(qo(t,r)),milliseconds:e.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}function VV(n,e){let t=Hf(n,e);return t!==null&&t%7===0?t/7:null}function Hf(n,e){return Gs(n)===Gs(e)?Math.round(qo(n,e)):null}function wt(n){return Fn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function PV(n){return Fn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function LV(n){return Fn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function UV(n){return Fn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function BV(n,e,t){let r=n.getUTCFullYear(),a=u0(n,r,e,t);if(a<1)return u0(n,r-1,e,t);let l=u0(n,r+1,e,t);return l>=1?Math.min(a,l):a}function u0(n,e,t,r){let a=Fn([e,0,1+HV(e,t,r)]),l=wt(n),c=Math.round(qo(a,l));return Math.floor(c/7)+1}function HV(n,e,t){let r=7+e-t;return-((7+Fn([n,0,r]).getUTCDay()-e)%7)+r-1}function ME(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function IE(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function qs(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Fn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function QT(n){return!isNaN(n.valueOf())}function Gs(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function FV(n,e,t=!1){let r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",Cy(e,!0)))),r}function Ty(n){return n.toISOString().replace(/T.*$/,"")}function qV(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function Cy(n,e=!1){let t=n<0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),l=Math.round(r%60);return e?`${t+o0(a,2)}:${o0(l,2)}`:`GMT${t}${a}${l?`:${o0(l,2)}`:""}`}function Ke(n,e,t){let r,a;return function(...l){if(!r)a=n.apply(this,l);else if(!sa(r,l)){let c=n.apply(this,l);(!e||!e(c,a))&&(a=c)}return r=l,a}}function cf(n,e,t){let r,a;return l=>(r?qr(r,l)||(a=n.call(this,l)):a=n.call(this,l),r=l,a)}const d0={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Ff={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},$h=/\s*([ap])\.?m\.?/i,GV=/,/g,$V=/\s+/g,QV=/\u200e/g,YV=/UTC|GMT/;class WV{constructor(e){let t={},r={},a=9;for(let l in e)l in d0?(r[l]=e[l],d0[l]<9&&(a=Math.min(d0[l],a))):(t[l]=e[l],l in Ff&&(a=Math.min(Ff[l],a)));this.standardDateProps=t,this.extendedSettings=r,this.smallestUnitNum=a,this.buildFormattingFunc=Ke(OE)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,r,a){let{standardDateProps:l,extendedSettings:c}=this,h=tP(e.marker,t.marker,r.calendarSystem);if(!h)return this.format(e,r);let f=h;f>1&&(l.year==="numeric"||l.year==="2-digit")&&(l.month==="numeric"||l.month==="2-digit")&&(l.day==="numeric"||l.day==="2-digit")&&(f=1);let g=this.format(e,r),b=this.format(t,r);if(g===b)return g;let v=nP(l,f),x=OE(v,c,r),E=x(e),A=x(t),N=rP(g,E,b,A),C=c.separator||a||r.defaultSeparator||"";return N?N.before+E+C+A+N.after:g+C+b}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function OE(n,e,t){let r=Object.keys(n).length;return r===1&&n.timeZoneName==="short"?a=>Cy(a.timeZoneOffset):r===0&&e.week?a=>eP(t.computeWeekNumber(a.marker),t.weekText,t.weekTextLong,t.locale,e.week):XV(n,e,t)}function XV(n,e,t){n=Object.assign({},n),e=Object.assign({},e),KV(n,e),n.timeZone="UTC";let r=new Intl.DateTimeFormat(t.locale.codes,n),a;if(e.omitZeroMinute){let l=Object.assign({},n);delete l.minute,a=new Intl.DateTimeFormat(t.locale.codes,l)}return l=>{let{marker:c}=l,h;a&&!c.getUTCMinutes()?h=a:h=r;let f=h.format(c);return ZV(f,l,n,e,t)}}function KV(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function ZV(n,e,t,r,a){return n=n.replace(QV,""),t.timeZoneName==="short"&&(n=JV(n,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Cy(e.timeZoneOffset))),r.omitCommas&&(n=n.replace(GV,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),r.meridiem===!1?n=n.replace($h,"").trim():r.meridiem==="narrow"?n=n.replace($h,(l,c)=>c.toLocaleLowerCase()):r.meridiem==="short"?n=n.replace($h,(l,c)=>`${c.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(n=n.replace($h,l=>l.toLocaleLowerCase())),n=n.replace($V," "),n=n.trim(),n}function JV(n,e){let t=!1;return n=n.replace(YV,()=>(t=!0,e)),t||(n+=` ${e}`),n}function eP(n,e,t,r,a){let l=[];return a==="long"?l.push(t):(a==="short"||a==="narrow")&&l.push(e),(a==="long"||a==="short")&&l.push(" "),l.push(r.simpleNumberFormat.format(n)),r.options.direction==="rtl"&&l.reverse(),l.join("")}function tP(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:Gs(n)!==Gs(e)?1:0}function nP(n,e){let t={};for(let r in n)(!(r in Ff)||Ff[r]<=e)&&(t[r]=n[r]);return t}function rP(n,e,t,r){let a=0;for(;a<n.length;){let l=n.indexOf(e,a);if(l===-1)break;let c=n.substr(0,l);a=l+e.length;let h=n.substr(a),f=0;for(;f<t.length;){let g=t.indexOf(r,f);if(g===-1)break;let b=t.substr(0,g);f=g+r.length;let v=t.substr(f);if(c===b&&h===v)return{before:c,after:h}}}return null}function VE(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function qf(n,e,t,r){let a=VE(n,t.calendarSystem),l=e?VE(e,t.calendarSystem):null;return{date:a,start:a,end:l,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}class iP{constructor(e){this.cmdStr=e}format(e,t,r){return t.cmdFormatter(this.cmdStr,qf(e,null,t,r))}formatRange(e,t,r,a){return r.cmdFormatter(this.cmdStr,qf(e,t,r,a))}}class sP{constructor(e){this.func=e}format(e,t,r){return this.func(qf(e,null,t,r))}formatRange(e,t,r,a){return this.func(qf(e,t,r,a))}}function sn(n){return typeof n=="object"&&n?new WV(n):typeof n=="string"?new iP(n):typeof n=="function"?new sP(n):null}const PE={navLinkDayClick:ee,navLinkWeekClick:ee,duration:tt,bootstrapFontAwesome:ee,buttonIcons:ee,customButtons:ee,defaultAllDayEventDuration:tt,defaultTimedEventDuration:tt,nextDayThreshold:tt,scrollTime:tt,scrollTimeReset:Boolean,slotMinTime:tt,slotMaxTime:tt,dayPopoverFormat:sn,slotDuration:tt,snapDuration:tt,headerToolbar:ee,footerToolbar:ee,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:sn,dayHeaderClassNames:ee,dayHeaderContent:ee,dayHeaderDidMount:ee,dayHeaderWillUnmount:ee,dayCellClassNames:ee,dayCellContent:ee,dayCellDidMount:ee,dayCellWillUnmount:ee,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:ee,weekNumbers:Boolean,weekNumberClassNames:ee,weekNumberContent:ee,weekNumberDidMount:ee,weekNumberWillUnmount:ee,editable:Boolean,viewClassNames:ee,viewDidMount:ee,viewWillUnmount:ee,nowIndicator:Boolean,nowIndicatorSnap:ee,nowIndicatorClassNames:ee,nowIndicatorContent:ee,nowIndicatorDidMount:ee,nowIndicatorWillUnmount:ee,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:ee,locale:ee,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:ee,eventOrder:vV,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:ee,contentHeight:ee,direction:String,weekNumberFormat:sn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:ee,initialDate:ee,now:ee,eventDataTransform:ee,stickyHeaderDates:ee,stickyFooterScrollbar:ee,viewHeight:ee,defaultAllDay:Boolean,eventSourceFailure:ee,eventSourceSuccess:ee,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:ee,eventConstraint:ee,eventAllow:ee,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:ee,eventContent:ee,eventDidMount:ee,eventWillUnmount:ee,selectConstraint:ee,selectOverlap:ee,selectAllow:ee,droppable:Boolean,unselectCancel:String,slotLabelFormat:ee,slotLaneClassNames:ee,slotLaneContent:ee,slotLaneDidMount:ee,slotLaneWillUnmount:ee,slotLabelClassNames:ee,slotLabelContent:ee,slotLabelDidMount:ee,slotLabelWillUnmount:ee,dayMaxEvents:ee,dayMaxEventRows:ee,dayMinWidth:Number,slotLabelInterval:tt,allDayText:String,allDayClassNames:ee,allDayContent:ee,allDayDidMount:ee,allDayWillUnmount:ee,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:sn,rerenderDelay:Number,moreLinkText:ee,moreLinkHint:ee,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:ee,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:tt,hiddenDays:ee,fixedWeekCount:Boolean,validRange:ee,visibleRange:ee,titleFormat:ee,eventInteractive:Boolean,noEventsText:String,viewHint:ee,navLinkHint:ee,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:ee,moreLinkClassNames:ee,moreLinkContent:ee,moreLinkDidMount:ee,moreLinkWillUnmount:ee,monthStartFormat:sn,handleCustomRendering:ee,customRenderingMetaMap:ee,customRenderingReplaces:Boolean},yu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},LE={datesSet:ee,eventsSet:ee,eventAdd:ee,eventChange:ee,eventRemove:ee,windowResize:ee,eventClick:ee,eventMouseEnter:ee,eventMouseLeave:ee,select:ee,unselect:ee,loading:ee,_unmount:ee,_beforeprint:ee,_afterprint:ee,_noEventDrop:ee,_noEventResize:ee,_resize:ee,_scrollRequest:ee},UE={buttonText:ee,buttonHints:ee,views:ee,plugins:ee,initialEvents:ee,events:ee,eventSources:ee},Ga={headerToolbar:$a,footerToolbar:$a,buttonText:$a,buttonHints:$a,buttonIcons:$a,dateIncrement:$a,plugins:Qh,events:Qh,eventSources:Qh,resources:Qh};function $a(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?qr(n,e):n===e}function Qh(n,e){return Array.isArray(n)&&Array.isArray(e)?sa(n,e):n===e}const aP={type:String,component:ee,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:ee,usesMinMaxTime:Boolean,classNames:ee,content:ee,didMount:ee,willUnmount:ee};function h0(n){return Ry(n,Ga)}function Ny(n,e){let t={},r={};for(let a in e)a in n&&(t[a]=e[a](n[a]));for(let a in n)a in e||(r[a]=n[a]);return{refined:t,extra:r}}function ee(n){return n}const{hasOwnProperty:Gf}=Object.prototype;function Ry(n,e){let t={};if(e){for(let r in e)if(e[r]===$a){let a=[];for(let l=n.length-1;l>=0;l-=1){let c=n[l][r];if(typeof c=="object"&&c)a.unshift(c);else if(c!==void 0){t[r]=c;break}}a.length&&(t[r]=Ry(a))}}for(let r=n.length-1;r>=0;r-=1){let a=n[r];for(let l in a)l in t||(t[l]=a[l])}return t}function il(n,e){let t={};for(let r in n)e(n[r],r)&&(t[r]=n[r]);return t}function dl(n,e){let t={};for(let r in n)t[r]=e(n[r],r);return t}function YT(n){let e={};for(let t of n)e[t]=!0;return e}function Dy(n){let e=[];for(let t in n)e.push(n[t]);return e}function qr(n,e){if(n===e)return!0;for(let t in n)if(Gf.call(n,t)&&!(t in e))return!1;for(let t in e)if(Gf.call(e,t)&&n[t]!==e[t])return!1;return!0}const lP=/^on[A-Z]/;function oP(n,e){const t=cP(n,e);for(let r of t)if(!lP.test(r))return!1;return!0}function cP(n,e){let t=[];for(let r in n)Gf.call(n,r)&&(r in e||t.push(r));for(let r in e)Gf.call(e,r)&&n[r]!==e[r]&&t.push(r);return t}function f0(n,e,t={}){if(n===e)return!0;for(let r in e)if(!(r in n&&uP(n[r],e[r],t[r])))return!1;for(let r in n)if(!(r in e))return!1;return!0}function uP(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function dP(n,e=0,t,r=1){let a=[];t==null&&(t=Object.keys(n).length);for(let l=e;l<t;l+=r){let c=n[l];c!==void 0&&a.push(c)}return a}let WT={};function hP(n,e){WT[n]=e}function fP(n){return new WT[n]}class mP{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Fn(e)}markerToArray(e){return qs(e)}}hP("gregory",mP);const gP=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function pP(n){let e=gP.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(QT(t)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class bP{constructor(e){let t=this.timeZone=e.timeZone,r=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=fP(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Fn(ME(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Fn(e)),t===null||!QT(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=pP(e);if(t===null)return null;let{marker:r}=t,a=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-t.timeZoneOffset*60*1e3):a=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t,this.calendarSystem.arrayToMarker(r)}addMonths(e,t){let r=this.calendarSystem.markerToArray(e);return r[1]+=t,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,t){let{calendarSystem:r}=this;return Gs(e)===Gs(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)&&r.getMarkerMonth(e)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:r}=this;return Gs(e)===Gs(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(e)+(r.getMarkerYear(t)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let r=this.diffWholeYears(e,t);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,t),r!==null?{unit:"month",value:r}:(r=VV(e,t),r!==null?{unit:"week",value:r}:(r=Hf(e,t),r!==null?{unit:"day",value:r}:(r=jV(e,t),c0(r)?{unit:"hour",value:r}:(r=MV(e,t),c0(r)?{unit:"minute",value:r}:(r=IV(e,t),c0(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,r){let a;return r.years&&(a=this.diffWholeYears(e,t),a!==null)?a/NV(r):r.months&&(a=this.diffWholeMonths(e,t),a!==null)?a/RV(r):r.days&&(a=Hf(e,t),a!==null)?a/po(r):(t.valueOf()-e.valueOf())/Lu(r)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?wt(e):t==="hour"?PV(e):t==="minute"?LV(e):t==="second"?UV(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):BV(e,this.weekDow,this.weekDoy)}format(e,t,r={}){return t.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,r,a={}){return a.isEndExclusive&&(t=aa(t,-1)),r.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(t)},this,a.defaultSeparator)}formatIso(e,t={}){let r=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?r=t.forcedTzo:r=this.offsetForMarker(e)),FV(e,r,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Fn(ME(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Fn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-IE(qs(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(qs(e)):null}toDate(e,t){return this.timeZone==="local"?IE(qs(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(qs(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class rd{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,r;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(r in e)t[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let r;return t&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}rd.prototype.classes={};rd.prototype.iconClasses={};rd.prototype.baseIconClass="";rd.prototype.iconOverridePrefix="";function $f(n){n();let e=Te.debounceRendering,t=[];function r(a){t.push(a)}for(Te.debounceRendering=r,Pu(ne(yP,{}),document.createElement("div"));t.length;)t.shift()();Te.debounceRendering=e}class yP extends ir{render(){return ne("div",{})}componentDidMount(){this.setState({})}}function XT(n){let e=F9(n),t=e.Provider;return e.Provider=function(){let r=!this.getChildContext,a=t.apply(this,arguments);if(r){let l=[];this.shouldComponentUpdate=c=>{this.props.value!==c.value&&l.forEach(h=>{h.context=c.value,h.forceUpdate()})},this.sub=c=>{l.push(c);let h=c.componentWillUnmount;c.componentWillUnmount=()=>{l.splice(l.indexOf(c),1),h&&h.call(c)}}}return a},e}class vP{constructor(e,t,r,a){this.execFunc=e,this.emitter=t,this.scrollTime=r,this.scrollTimeReset=a,this.handleScrollRequest=l=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},l),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const hl=XT({});function xP(n,e,t,r,a,l,c,h,f,g,b,v,x,E){return{dateEnv:a,nowManager:l,options:t,pluginHooks:h,emitter:b,dispatch:f,getCurrentData:g,calendarApi:v,viewSpec:n,viewApi:e,dateProfileGenerator:r,theme:c,isRtl:t.direction==="rtl",addResizeHandler(A){b.on("_resize",A)},removeResizeHandler(A){b.off("_resize",A)},createScrollResponder(A){return new vP(A,b,tt(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:x,unregisterInteractiveComponent:E}}class fl extends ir{shouldComponentUpdate(e,t){return!f0(this.props,e,this.propEquality)||!f0(this.state,t,this.stateEquality)}safeSetState(e){f0(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}fl.addPropsEquality=_P;fl.addStateEquality=wP;fl.contextType=hl;fl.prototype.propEquality={};fl.prototype.stateEquality={};class Tt extends fl{}Tt.contextType=hl;function _P(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function wP(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function ki(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class zy extends Tt{constructor(){super(...arguments),this.id=ul(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:r}=this.props;(!t.customRenderingReplaces||!tb(r,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ki(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:r}=t,{customGenerator:a,defaultGenerator:l,renderProps:c}=e,h=KT(e,[],this.handleEl);let f=!1,g,b=[],v;if(a!=null){const x=typeof a=="function"?a(c,ne):a;if(x===!0)f=!0;else{const E=x&&typeof x=="object";E&&"html"in x?h.dangerouslySetInnerHTML={__html:x.html}:E&&"domNodes"in x?b=Array.prototype.slice.call(x.domNodes):(E?_T(x):typeof x!="function")?g=x:v=x}}else f=!tb(e.generatorName,r);return f&&l&&(g=l(c)),this.queuedDomNodes=b,this.currentGeneratorMeta=v,ne(e.elTag,h,g)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:r,context:a}=this,{handleCustomRendering:l,customRenderingMetaMap:c}=a.options;if(l){const h=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:c?.[r.generatorName];h&&l(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:h},r),{elClasses:(r.elClasses||[]).filter(EP)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,r=this.base;if(!sa(e,t)){t.forEach(Sy);for(let a of e)r.appendChild(a);this.currentDomNodes=e}}}zy.addPropsEquality({elClasses:sa,elStyle:qr,elAttrs:oP,renderProps:qr});function tb(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function KT(n,e,t){const r=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(r.className=(n.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),n.elStyle&&(r.style=n.elStyle),r}function EP(n){return!!n}const ZT=XT(0);class is extends ir{constructor(){super(...arguments),this.InnerContent=SP.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ki(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=kP(e.classNameGenerator,e.renderProps);if(e.children){const r=KT(e,t,this.handleEl),a=e.children(this.InnerContent,e.renderProps,r);return e.elTag?ne(e.elTag,r,a):a}else return ne(zy,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}is.contextType=ZT;function SP(n,e){const t=n.props;return ne(zy,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function kP(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class BE extends Tt{render(){let{props:e,context:t}=this,{options:r}=t,a={view:t.viewApi};return ne(is,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...JT(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function JT(n){return[`fc-${n.type}-view`,"fc-view"]}function AP(n,e){let t=null,r=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(r=e.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}function HE(n,e){let t=[],{start:r}=e,a,l;for(n.sort(TP),a=0;a<n.length;a+=1)l=n[a],l.start>r&&t.push({start:r,end:l.start}),l.end>r&&(r=l.end);return r<e.end&&t.push({start:r,end:e.end}),t}function TP(n,e){return n.start.valueOf()-e.start.valueOf()}function Ro(n,e){let{start:t,end:r}=n,a=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(t===null||r===null||t<r)&&(a={start:t,end:r}),a}function CP(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function jy(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Nm(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Ks(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function NP(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function e2(n){let e=Math.floor(qo(n.start,n.end))||1,t=wt(n.start),r=an(t,e);return{start:t,end:r}}function t2(n,e=tt(0)){let t=null,r=null;if(n.end){r=wt(n.end);let a=n.end.valueOf()-r.valueOf();a&&a>=Lu(e)&&(r=an(r,1))}return n.start&&(t=wt(n.start),r&&r<=t&&(r=an(t,1))),{start:t,end:r}}function fo(n,e,t,r){return r==="year"?tt(t.diffWholeYears(n,e),"year"):r==="month"?tt(t.diffWholeMonths(n,e),"month"):OV(n,e)}class n2{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,r){let{dateEnv:a}=this.props,l=a.subtract(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(l,-1,r)}buildNext(e,t,r){let{dateEnv:a}=this.props,l=a.add(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(l,1,r)}build(e,t,r=!0){let{props:a}=this,l,c,h,f,g,b;return l=this.buildValidRange(),l=this.trimHiddenDays(l),r&&(e=NP(e,l)),c=this.buildCurrentRangeInfo(e,t),h=/^(year|month|week|day)$/.test(c.unit),f=this.buildRenderRange(this.trimHiddenDays(c.range),c.unit,h),f=this.trimHiddenDays(f),g=f,a.showNonCurrentDates||(g=Ro(g,c.range)),g=this.adjustActiveRange(g),g=Ro(g,l),b=jy(c.range,l),Ks(f,e)||(e=f.start),{currentDate:e,validRange:l,currentRange:c.range,currentRangeUnit:c.unit,isRangeAllDay:h,activeRange:g,renderRange:f,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:b,dateIncrement:this.buildDateIncrement(c.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:r}=this,a=null,l=null,c=null,h;return r.duration?(a=r.duration,l=r.durationUnit,c=this.buildRangeFromDuration(e,t,a,l)):(h=this.props.dayCount)?(l="day",c=this.buildRangeFromDayCount(e,t,h)):(c=this.buildCustomVisibleRange(e))?l=r.dateEnv.greatestWholeUnit(c.start,c.end).unit:(a=this.getFallbackDuration(),l=eb(a).unit,c=this.buildRangeFromDuration(e,t,a,l)),{duration:a,unit:l,range:c}}getFallbackDuration(){return tt({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:r,slotMinTime:a,slotMaxTime:l}=this.props,{start:c,end:h}=e;return r&&(po(a)<0&&(c=wt(c),c=t.add(c,a)),po(l)>1&&(h=wt(h),h=an(h,-1),h=t.add(h,l))),{start:c,end:h}}buildRangeFromDuration(e,t,r,a){let{dateEnv:l,dateAlignment:c}=this.props,h,f,g;if(!c){let{dateIncrement:v}=this.props;v&&Lu(v)<Lu(r)?c=eb(v).unit:c=a}po(r)<=1&&this.isHiddenDay(h)&&(h=this.skipHiddenDays(h,t),h=wt(h));function b(){h=l.startOf(e,c),f=l.add(h,r),g={start:h,end:f}}return b(),this.trimHiddenDays(g)||(e=this.skipHiddenDays(e,t),b()),g}buildRangeFromDayCount(e,t,r){let{dateEnv:a,dateAlignment:l}=this.props,c=0,h=e,f;l&&(h=a.startOf(h,l)),h=wt(h),h=this.skipHiddenDays(h,t),f=h;do f=an(f,1),this.isHiddenDay(f)||(c+=1);while(c<r);return{start:h,end:f}}buildCustomVisibleRange(e){let{props:t}=this,r=t.visibleRangeInput,a=typeof r=="function"?r.call(t.calendarApi,t.dateEnv.toDate(e)):r,l=this.refineRange(a);return l&&(l.start==null||l.end==null)?null:l}buildRenderRange(e,t,r){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,r;return t||((r=this.props.dateAlignment)?tt(1,r):e||tt({days:1}))}refineRange(e){if(e){let t=AP(e,this.props.dateEnv);return t&&(t=t2(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],r=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(t[a]=e.indexOf(a)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:r}=e;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),t==null||r==null||t<r?{start:t,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?t:0)+7)%7];)e=an(e,t);return e}}function My(n,e,t,r){return{instanceId:ul(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:r??null}}function RP(n,e,t,r){for(let a=0;a<r.length;a+=1){let l=r[a].parse(n,t);if(l){let{allDay:c}=n;return c==null&&(c=e,c==null&&(c=l.allDayGuess,c==null&&(c=!1))),{allDay:c,duration:l.duration,typeData:l.typeData,typeId:a}}}return null}function sl(n,e,t){let{dateEnv:r,pluginHooks:a,options:l}=t,{defs:c,instances:h}=n;h=il(h,f=>!c[f.defId].recurringDef);for(let f in c){let g=c[f];if(g.recurringDef){let{duration:b}=g.recurringDef;b||(b=g.allDay?l.defaultAllDayEventDuration:l.defaultTimedEventDuration);let v=DP(g,b,e,r,a.recurringTypes);for(let x of v){let E=My(f,{start:x,end:r.add(x,b)});h[E.instanceId]=E}}}return{defs:c,instances:h}}function DP(n,e,t,r,a){let c=a[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,e),end:t.end},r);return n.allDay&&(c=c.map(wt)),c}const uf={id:String,groupId:String,title:String,url:String,interactive:Boolean},r2={start:ee,end:ee,date:ee,allDay:Boolean},zP=Object.assign(Object.assign(Object.assign({},uf),r2),{extendedProps:ee});function i2(n,e,t,r,a=Iy(t),l,c){let{refined:h,extra:f}=s2(n,t,a),g=MP(e,t),b=RP(h,g,t.dateEnv,t.pluginHooks.recurringTypes);if(b){let x=nb(h,f,e?e.sourceId:"",b.allDay,!!b.duration,t,l);return x.recurringDef={typeId:b.typeId,typeData:b.typeData,duration:b.duration},{def:x,instance:null}}let v=jP(h,g,t,r);if(v){let x=nb(h,f,e?e.sourceId:"",v.allDay,v.hasEnd,t,l),E=My(x.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return c&&x.publicId&&c[x.publicId]&&(E.instanceId=c[x.publicId]),{def:x,instance:E}}return null}function s2(n,e,t=Iy(e)){return Ny(n,t)}function Iy(n){return Object.assign(Object.assign(Object.assign({},Qf),zP),n.pluginHooks.eventRefiners)}function nb(n,e,t,r,a,l,c){let h={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(c&&n.id?c[n.id]:"")||ul(),sourceId:t,allDay:r,hasEnd:a,interactive:n.interactive,ui:Yf(n,l),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let f of l.pluginHooks.eventDefMemberAdders)Object.assign(h,f(n));return Object.freeze(h.ui.classNames),Object.freeze(h.extendedProps),h}function jP(n,e,t,r){let{allDay:a}=n,l,c=null,h=!1,f,g=null,b=n.start!=null?n.start:n.date;if(l=t.dateEnv.createMarkerMeta(b),l)c=l.marker;else if(!r)return null;return n.end!=null&&(f=t.dateEnv.createMarkerMeta(n.end)),a==null&&(e!=null?a=e:a=(!l||l.isTimeUnspecified)&&(!f||f.isTimeUnspecified)),a&&c&&(c=wt(c)),f&&(g=f.marker,a&&(g=wt(g)),c&&g<=c&&(g=null)),g?h=!0:r||(h=t.options.forceEventDuration||!1,g=t.dateEnv.add(c,a?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:a,hasEnd:h,range:{start:c,end:g},forcedStartTzo:l?l.forcedTzo:null,forcedEndTzo:f?f.forcedTzo:null}}function MP(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Uu(n,e,t,r,a,l){let c=Br(),h=Iy(t);for(let f of n){let g=i2(f,e,t,r,h,a,l);g&&rb(g,c)}return c}function rb(n,e=Br()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Oy(n,e){let t=n.instances[e];if(t){let r=n.defs[t.defId],a=Rm(n,l=>IP(r,l));return a.defs[r.defId]=r,a.instances[t.instanceId]=t,a}return Br()}function IP(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Br(){return{defs:{},instances:{}}}function Vy(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function Rm(n,e){let t=il(n.defs,e),r=il(n.instances,a=>t[a.defId]);return{defs:t,instances:r}}function OP(n,e){let{defs:t,instances:r}=n,a={},l={};for(let c in t)e.defs[c]||(a[c]=t[c]);for(let c in r)!e.instances[c]&&a[r[c].defId]&&(l[c]=r[c]);return{defs:a,instances:l}}function VP(n,e){return Array.isArray(n)?Uu(n,null,e,!0):typeof n=="object"&&n?Uu([n],null,e,!0):n!=null?String(n):null}function FE(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const Qf={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:ee,overlap:ee,allow:ee,className:FE,classNames:FE,color:String,backgroundColor:String,borderColor:String,textColor:String},PP={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Yf(n,e){let t=VP(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function LP(n){return n.reduce(UP,PP)}function UP(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const BP={id:String,defaultAllDay:Boolean,url:String,format:String,events:ee,eventDataTransform:ee,success:ee,failure:ee};function a2(n,e,t=l2(e)){let r;if(typeof n=="string"?r={url:n}:typeof n=="function"||Array.isArray(n)?r={events:n}:typeof n=="object"&&n&&(r=n),r){let{refined:a,extra:l}=Ny(r,t),c=HP(a,e);if(c)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:ul(),sourceDefId:c.sourceDefId,meta:c.meta,ui:Yf(a,e),extendedProps:l}}return null}function l2(n){return Object.assign(Object.assign(Object.assign({},Qf),BP),n.pluginHooks.eventSourceRefiners)}function HP(n,e){let t=e.pluginHooks.eventSourceDefs;for(let r=t.length-1;r>=0;r-=1){let l=t[r].parseMeta(n);if(l)return{sourceDefId:r,meta:l}}return null}function FP(n,e,t,r,a){switch(e.type){case"RECEIVE_EVENTS":return qP(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return GP(n,t[e.sourceId],e.rawEvents,r.activeRange,a);case"ADD_EVENTS":return $P(n,e.eventStore,r?r.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Vy(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?sl(n,r.activeRange,a):n;case"REMOVE_EVENTS":return OP(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return c2(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Rm(n,l=>!l.sourceId);case"REMOVE_ALL_EVENTS":return Br();default:return n}}function qP(n,e,t,r,a,l){if(e&&t===e.latestFetchId){let c=Uu(o2(a,e,l),e,l);return r&&(c=sl(c,r,l)),Vy(c2(n,e.sourceId),c)}return n}function GP(n,e,t,r,a){const{defIdMap:l,instanceIdMap:c}=YP(n);let h=Uu(o2(t,e,a),e,a,!1,l,c);return sl(h,r,a)}function o2(n,e,t){let r=t.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(n=qE(n,a)),r&&(n=qE(n,r)),n}function qE(n,e){let t;if(!e)t=n;else{t=[];for(let r of n){let a=e(r);a?t.push(a):a==null&&t.push(r)}}return t}function $P(n,e,t,r){return t&&(e=sl(e,t,r)),Vy(n,e)}function GE(n,e,t){let{defs:r}=n,a=dl(n.instances,l=>r[l.defId].allDay?l:Object.assign(Object.assign({},l),{range:{start:t.createMarker(e.toDate(l.range.start,l.forcedStartTzo)),end:t.createMarker(e.toDate(l.range.end,l.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:l.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:l.forcedEndTzo}));return{defs:r,instances:a}}function c2(n,e){return Rm(n,t=>t.sourceId!==e)}function QP(n,e){return{defs:n.defs,instances:il(n.instances,t=>!e[t.instanceId])}}function YP(n){const{defs:e,instances:t}=n,r={},a={};for(let l in e){const c=e[l],{publicId:h}=c;h&&(r[h]=l)}for(let l in t){const c=t[l],h=e[c.defId],{publicId:f}=h;f&&(a[f]=l)}return{defIdMap:r,instanceIdMap:a}}class Dm{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){WP(this.handlers,e,t)}off(e,t){XP(this.handlers,e,t)}trigger(e,...t){let r=this.handlers[e]||[],a=this.options&&this.options[e],l=[].concat(a||[],r);for(let c of l)c.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function WP(n,e,t){(n[e]||(n[e]=[])).push(t)}function XP(n,e,t){t?n[e]&&(n[e]=n[e].filter(r=>r!==t)):delete n[e]}const KP={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function ZP(n,e){return Uu(JP(n),null,e)}function JP(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},KP),t)),e}function u2(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Py(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function eL(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Py(n,e){let t={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(t,r(n,e));return Object.assign(t,gL(n,e.dateEnv)),t}function $E(n,e,t){let{dateEnv:r,options:a}=t,l=e;return n?(l=wt(l),l=r.add(l,a.defaultAllDayEventDuration)):l=r.add(l,a.defaultTimedEventDuration),l}function Ly(n,e,t,r){let a=Wf(n.defs,e),l=Br();for(let c in n.defs){let h=n.defs[c];l.defs[c]=tL(h,a[c],t,r)}for(let c in n.instances){let h=n.instances[c],f=l.defs[h.defId];l.instances[c]=nL(h,f,a[h.defId],t,r)}return l}function tL(n,e,t,r){let a=t.standardProps||{};a.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(a.hasEnd=!0);let l=Object.assign(Object.assign(Object.assign({},n),a),{ui:Object.assign(Object.assign({},n.ui),a.ui)});t.extendedProps&&(l.extendedProps=Object.assign(Object.assign({},l.extendedProps),t.extendedProps));for(let c of r.pluginHooks.eventDefMutationAppliers)c(l,t,r);return!l.hasEnd&&r.options.forceEventDuration&&(l.hasEnd=!0),l}function nL(n,e,t,r,a){let{dateEnv:l}=a,c=r.standardProps&&r.standardProps.allDay===!0,h=r.standardProps&&r.standardProps.hasEnd===!1,f=Object.assign({},n);return c&&(f.range=e2(f.range)),r.datesDelta&&t.startEditable&&(f.range={start:l.add(f.range.start,r.datesDelta),end:l.add(f.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(f.range={start:l.add(f.range.start,r.startDelta),end:f.range.end}),r.endDelta&&t.durationEditable&&(f.range={start:f.range.start,end:l.add(f.range.end,r.endDelta)}),h&&(f.range={start:f.range.start,end:$E(e.allDay,f.range.start,a)}),e.allDay&&(f.range={start:wt(f.range.start),end:wt(f.range.end)}),f.range.end<f.range.start&&(f.range.end=$E(e.allDay,f.range.start,a)),f}class ho{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Et{constructor(e,t,r){this._context=e,this._def=t,this._instance=r||null}setProp(e,t){if(e in r2)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=uf[e](t),this.mutate({standardProps:{publicId:t}});else if(e in uf)t=uf[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Qf){let r=Qf[e](t);e==="color"?r={backgroundColor:t,borderColor:t}:e==="editable"?r={startEditable:t,durationEditable:t}:r={[e]:t},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:r}=this._context,a=r.createMarker(e);if(a&&this._instance){let l=this._instance.range,c=fo(l.start,a,r,t.granularity);t.maintainDuration?this.mutate({datesDelta:c}):this.mutate({startDelta:c})}}setEnd(e,t={}){let{dateEnv:r}=this._context,a;if(!(e!=null&&(a=r.createMarker(e),!a))&&this._instance)if(a){let l=fo(this._instance.range.end,a,r,t.granularity);this.mutate({endDelta:l})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,r={}){let{dateEnv:a}=this._context,l={allDay:r.allDay},c=a.createMarker(e),h;if(c&&!(t!=null&&(h=a.createMarker(t),!h))&&this._instance){let f=this._instance.range;r.allDay===!0&&(f=e2(f));let g=fo(f.start,c,a,r.granularity);if(h){let b=fo(f.end,h,a,r.granularity);TV(g,b)?this.mutate({datesDelta:g,standardProps:l}):this.mutate({startDelta:g,endDelta:b,standardProps:l})}else l.hasEnd=!1,this.mutate({datesDelta:g,standardProps:l})}}moveStart(e){let t=tt(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=tt(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=tt(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let r={allDay:e},{maintainDuration:a}=t;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=a),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:t}=this._context,r=this._instance,a=sn(e);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,a,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,a,{forcedTzo:r.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let r=this._def,a=this._context,{eventStore:l}=a.getCurrentData(),c=Oy(l,t.instanceId);c=Ly(c,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let f=new Et(a,r,t);this._def=c.defs[r.defId],this._instance=c.instances[t.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:c}),a.emitter.trigger("eventChange",{oldEvent:f,event:this,relatedEvents:Ja(c,a,t),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:l})}})}}remove(){let e=this._context,t=d2(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new ho(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:r}=t,{startStr:a,endStr:l}=this,c={allDay:t.allDay};return t.title&&(c.title=t.title),a&&(c.start=a),l&&(c.end=l),t.publicId&&(c.id=t.publicId),t.groupId&&(c.groupId=t.groupId),t.url&&(c.url=t.url),r.display&&r.display!=="auto"&&(c.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?c.color=r.backgroundColor:(r.backgroundColor&&(c.backgroundColor=r.backgroundColor),r.borderColor&&(c.borderColor=r.borderColor)),r.textColor&&(c.textColor=r.textColor),r.classNames.length&&(c.classNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(c,t.extendedProps):c.extendedProps=t.extendedProps),c}toJSON(){return this.toPlainObject()}}function d2(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Ja(n,e,t){let{defs:r,instances:a}=n,l=[],c=t?t.instanceId:"";for(let h in a){let f=a[h],g=r[f.defId];f.instanceId!==c&&l.push(new Et(e,g,f))}return l}function QE(n,e,t,r){let a={},l={},c={},h=[],f=[],g=Wf(n.defs,e);for(let b in n.defs){let v=n.defs[b];g[v.defId].display==="inverse-background"&&(v.groupId?(a[v.groupId]=[],c[v.groupId]||(c[v.groupId]=v)):l[b]=[])}for(let b in n.instances){let v=n.instances[b],x=n.defs[v.defId],E=g[x.defId],A=v.range,N=!x.allDay&&r?t2(A,r):A,C=Ro(N,t);C&&(E.display==="inverse-background"?x.groupId?a[x.groupId].push(C):l[v.defId].push(C):E.display!=="none"&&(E.display==="background"?h:f).push({def:x,ui:E,instance:v,range:C,isStart:N.start&&N.start.valueOf()===C.start.valueOf(),isEnd:N.end&&N.end.valueOf()===C.end.valueOf()}))}for(let b in a){let v=a[b],x=HE(v,t);for(let E of x){let A=c[b],N=g[A.defId];h.push({def:A,ui:N,instance:null,range:E,isStart:!1,isEnd:!1})}}for(let b in l){let v=l[b],x=HE(v,t);for(let E of x)h.push({def:n.defs[b],ui:g[b],instance:null,range:E,isStart:!1,isEnd:!1})}return{bg:h,fg:f}}function YE(n,e){n.fcSeg=e}function Do(n){return n.fcSeg||n.parentNode.fcSeg||null}function Wf(n,e){return dl(n,t=>h2(t,e))}function h2(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),LP(t)}function rL(n,e){let t=n.map(iL);return t.sort((r,a)=>xV(r,a,e)),t.map(r=>r._seg)}function iL(n){let{eventRange:e}=n,t=e.def,r=e.instance?e.instance.range:e.range,a=r.start?r.start.valueOf():0,l=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:a,end:l,duration:l-a,allDay:Number(t.allDay),_seg:n})}function sL(n,e){let{pluginHooks:t}=e,r=t.isDraggableTransformers,{def:a,ui:l}=n.eventRange,c=l.startEditable;for(let h of r)c=h(c,a,l,e);return c}function aL(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function lL(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function f2(n,e,t,r,a,l,c){let{dateEnv:h,options:f}=t,{displayEventTime:g,displayEventEnd:b}=f,v=n.eventRange.def,x=n.eventRange.instance;g==null&&(g=r!==!1),b==null&&(b=a!==!1);let E=x.range.start,A=x.range.end,N=n.start||n.eventRange.range.start,C=n.end||n.eventRange.range.end,D=wt(E).valueOf()===wt(N).valueOf(),O=wt(aa(A,-1)).valueOf()===wt(aa(C,-1)).valueOf();return g&&!v.allDay&&(D||O)?(N=D?E:N,C=O?A:C,b&&v.hasEnd?h.formatRange(N,C,e,{forcedStartTzo:x.forcedStartTzo,forcedEndTzo:x.forcedEndTzo}):h.format(N,e,{forcedTzo:x.forcedStartTzo})):""}function vu(n,e,t){let r=n.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&Ks(e,r.start)}}function oL(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function cL(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function m2(n,e){let{def:t,instance:r}=n.eventRange,{url:a}=t;if(a)return{href:a};let{emitter:l,options:c}=e,{eventInteractive:h}=c;return h==null&&(h=t.interactive,h==null&&(h=!!l.hasHandlers("eventClick"))),h?$T(f=>{l.trigger("eventClick",{el:f.target,event:new Et(e,t,r),jsEvent:f,view:e.viewApi})}):{}}const uL={start:ee,end:ee,allDay:Boolean};function dL(n,e,t){let r=hL(n,e),{range:a}=r;if(!a.start)return null;if(!a.end){if(t==null)return null;a.end=e.add(a.start,t)}return r}function hL(n,e){let{refined:t,extra:r}=Ny(n,uL),a=t.start?e.createMarkerMeta(t.start):null,l=t.end?e.createMarkerMeta(t.end):null,{allDay:c}=t;return c==null&&(c=a&&a.isTimeUnspecified&&(!l||l.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:l?l.marker:null},allDay:c},r)}function fL(n,e){return CP(n.range,e.range)&&n.allDay===e.allDay&&mL(n,e)}function mL(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function gL(n,e){return Object.assign(Object.assign({},p2(n.range,e,n.allDay)),{allDay:n.allDay})}function g2(n,e,t){return Object.assign(Object.assign({},p2(n,e,t)),{timeZone:e.timeZone})}function p2(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function pL(n,e,t){let r=s2({editable:!1},t),a=nb(r.refined,r.extra,"",n.allDay,!0,t);return{def:a,ui:h2(a,e),instance:My(a.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function bL(n,e,t){let r=!1,a=function(h){r||(r=!0,e(h))},l=function(h){r||(r=!0,t(h))},c=n(a,l);c&&typeof c.then=="function"&&c.then(a,l)}class WE extends Error{constructor(e,t){super(e),this.response=t}}function yL(n,e,t){n=n.toUpperCase();const r={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(r.body=new URLSearchParams(t),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(a=>{if(a.ok)return a.json().then(l=>[l,a],()=>{throw new WE("Failure parsing JSON",a)});throw new WE("Request failed",a)})}let m0;function b2(){return m0==null&&(m0=vL()),m0}function vL(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class xL extends Tt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{$f(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{$f(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:r}=this.state,a=r||t.height==="auto"||t.contentHeight==="auto",l=!a&&t.height!=null?t.height:"",c=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return b2()||c.push("fc-liquid-hack"),e.children(c,l,a,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Go{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function _L(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Uy(n){return{[n.component.uid]:n}}const ib={};class zm extends ir{constructor(e,t){super(e,t),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,r=t.nowManager.getDateMarker(),{nowIndicatorSnap:a}=t.options;a==="auto"&&(a=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let l,c;return a?(l=t.dateEnv.startOf(r,e.unit),c=t.dateEnv.add(l,tt(1,e.unit)).valueOf()-r.valueOf()):(l=r,c=1e3*60),c=Math.min(1e3*60*60*24,c),{state:{nowDate:l,todayRange:wL(l)},waitMs:c}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}zm.contextType=hl;function wL(n){let e=wt(n),t=an(e,1);return{start:e,end:t}}class EL{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let r=this.getCurrentData(),a;t=t||"day",a=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:r}=this.getCurrentData(),a=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),l,c;for(let h in t)a.push(h);for(l=0;l<a.length;l+=1)if(c=t[a[l]],c&&c.singleUnit===e)return c;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),r=tt(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),sn(t))}formatRange(e,t,r){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(t),sn(r),r)}formatIso(e,t){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:t})}select(e,t){let r;t==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:t};let a=this.getCurrentData(),l=dL(r,a.dateEnv,tt({days:1}));l&&(this.dispatch({type:"SELECT_DATES",selection:l}),u2(l,null,a))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),eL(e,t))}addEvent(e,t){if(e instanceof Et){let c=e._def,h=e._instance;return this.getCurrentData().eventStore.defs[c.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:rb({def:c,instance:h})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),a;if(t instanceof ho)a=t.internalEventSource;else if(typeof t=="boolean")t&&([a]=Dy(r.eventSources));else if(t!=null){let c=this.getEventSourceById(t);if(!c)return console.warn(`Could not find an event source with ID "${t}"`),null;a=c.internalEventSource}let l=i2(e,a,r,!1);if(l){let c=new Et(r,l.def,l.def.recurringDef?null:l.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:rb(l)}),this.triggerEventAdd(c),c}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:d2(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:r,instances:a}=t.eventStore;e=String(e);for(let l in r){let c=r[l];if(c.publicId===e){if(c.recurringDef)return new Et(t,c,null);for(let h in a){let f=a[h];if(f.defId===c.defId)return new Et(t,c,f)}}}return null}getEvents(){let e=this.getCurrentData();return Ja(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,r=[];for(let a in t)r.push(new ho(e,t[a]));return r}getEventSourceById(e){let t=this.getCurrentData(),r=t.eventSources;e=String(e);for(let a in r)if(r[a].publicId===e)return new ho(t,r[a]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof ho)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=a2(e,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new ho(t,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=tt(e);t&&this.trigger("_scrollRequest",{time:t})}}function SL(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function y2(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function kL(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function AL(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function TL(n,e){return{left:n.left-e.left,top:n.top-e.top}}function v2(n,e,t,r){return{dow:n.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Ks(r.activeRange,n))),isOther:!!(r&&!Ks(r.currentRange,n)),isToday:!!(e&&Ks(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function By(n,e){let t=["fc-day",`fc-day-${DV[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const CL=sn({year:"numeric",month:"long",day:"numeric"}),NL=sn({week:"long"});function sb(n,e,t="day",r=!0){const{dateEnv:a,options:l,calendarApi:c}=n;let h=a.format(e,t==="week"?NL:CL);if(l.navLinks){let f=a.toDate(e);const g=b=>{let v=t==="day"?l.navLinkDayClick:t==="week"?l.navLinkWeekClick:null;typeof v=="function"?v.call(c,a.toDate(e),b):(typeof v=="string"&&(t=v),c.zoomTo(e,t))};return Object.assign({title:bu(l.navLinkHint,[h,f],h),"data-navlink":""},r?GT(g):{onClick:g})}return{"aria-label":h}}let g0=null;function RL(){return g0===null&&(g0=DL()),g0}function DL(){let n=document.createElement("div");pu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Sy(n),t}let p0;function zL(){return p0||(p0=jL()),p0}function jL(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=x2(n);return document.body.removeChild(n),e}function x2(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function ML(n,e=!1){let t=window.getComputedStyle(n),r=parseInt(t.borderLeftWidth,10)||0,a=parseInt(t.borderRightWidth,10)||0,l=parseInt(t.borderTopWidth,10)||0,c=parseInt(t.borderBottomWidth,10)||0,h=x2(n),f=h.y-r-a,g=h.x-l-c,b={borderLeft:r,borderRight:a,borderTop:l,borderBottom:c,scrollbarBottom:g,scrollbarLeft:0,scrollbarRight:0};return RL()&&t.direction==="rtl"?b.scrollbarLeft=f:b.scrollbarRight=f,e&&(b.paddingLeft=parseInt(t.paddingLeft,10)||0,b.paddingRight=parseInt(t.paddingRight,10)||0,b.paddingTop=parseInt(t.paddingTop,10)||0,b.paddingBottom=parseInt(t.paddingBottom,10)||0),b}function IL(n,e=!1,t){let r=Hy(n),a=ML(n,e),l={left:r.left+a.borderLeft+a.scrollbarLeft,right:r.right-a.borderRight-a.scrollbarRight,top:r.top+a.borderTop,bottom:r.bottom-a.borderBottom-a.scrollbarBottom};return e&&(l.left+=a.paddingLeft,l.right-=a.paddingRight,l.top+=a.paddingTop,l.bottom-=a.paddingBottom),l}function Hy(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function OL(n){let e=_2(n),t=n.getBoundingClientRect();for(let r of e){let a=y2(t,r.getBoundingClientRect());if(a)t=a;else return null}return t}function _2(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class Xf{constructor(e,t,r,a){this.els=t;let l=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(l.left),a&&this.buildElVerticals(l.top)}buildElHorizontals(e){let t=[],r=[];for(let a of this.els){let l=a.getBoundingClientRect();t.push(l.left-e),r.push(l.right-e)}this.lefts=t,this.rights=r}buildElVerticals(e){let t=[],r=[];for(let a of this.els){let l=a.getBoundingClientRect();t.push(l.top-e),r.push(l.bottom-e)}this.tops=t,this.bottoms=r}leftToIndex(e){let{lefts:t,rights:r}=this,a=t.length,l;for(l=0;l<a;l+=1)if(e>=t[l]&&e<r[l])return l}topToIndex(e){let{tops:t,bottoms:r}=this,a=t.length,l;for(l=0;l<a;l+=1)if(e>=t[l]&&e<r[l])return l}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Yh(this.tops||[],e.tops||[])&&Yh(this.bottoms||[],e.bottoms||[])&&Yh(this.lefts||[],e.lefts||[])&&Yh(this.rights||[],e.rights||[])}}function Yh(n,e){const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(Math.round(n[r])!==Math.round(e[r]))return!1;return!0}class Fy{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class VL extends Fy{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class PL extends Fy{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ml extends Tt{constructor(){super(...arguments),this.uid=ul()}prepareHits(){}queryHit(e,t,r,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!En(e,".fc-event-mirror")}isValidDateDownEl(e){return!En(e,".fc-event:not(.fc-bg-event)")&&!En(e,".fc-more-link")&&!En(e,"a[data-navlink]")&&!En(e,".fc-popover")}}class LL{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let r of e)this.insertEntry(r,t);return t}insertEntry(e,t){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,r){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},t),{span:w2(t.span,e.touchingEntry.span)});r.push(a),this.splitEntry(t,e.touchingEntry,r)}else r.push(t)}splitEntry(e,t,r){let a=e.span,l=t.span;a.start<l.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:l.start}},r),a.end>l.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:l.end,end:a.end}},r)}insertEntryAt(e,t){let{entriesByLevel:r,levelCoords:a}=this;t.lateral===-1?(b0(a,t.level,t.levelCoord),b0(r,t.level,[e])):b0(r[t.level],t.lateral,e),this.stackCnts[xu(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:r,strictOrder:a,stackCnts:l}=this,c=t.length,h=0,f=-1,g=-1,b=null,v=0;for(let A=0;A<c;A+=1){const N=t[A];if(!a&&N>=h+this.getEntryThickness(e))break;let C=r[A],D,O=KE(C,e.span.start,XE),F=O[0]+O[1];for(;(D=C[F])&&D.span.start<e.span.end;){let L=N+this.getEntryThickness(D);L>h&&(h=L,b=D,f=A,g=F),L===h&&(v=Math.max(v,l[xu(D)]+1)),F+=1}}let x=0;if(b)for(x=f+1;x<c&&t[x]<h;)x+=1;let E=-1;return x<c&&t[x]===h&&(E=KE(r[x],e.span.end,XE)[0]),{touchingLevel:f,touchingLateral:g,touchingEntry:b,stackCnt:v,levelCoord:h,level:x,lateral:E}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,r=e.length,a=[];for(let l=0;l<r;l+=1){let c=e[l],h=t[l];for(let f of c)a.push(Object.assign(Object.assign({},f),{thickness:this.getEntryThickness(f),levelCoord:h}))}return a}}function XE(n){return n.span.end}function xu(n){return n.index+":"+n.span.start}function w2(n,e){let t=Math.max(n.start,e.start),r=Math.min(n.end,e.end);return t<r?{start:t,end:r}:null}function b0(n,e,t){n.splice(e,0,t)}function KE(n,e,t){let r=0,a=n.length;if(!a||e<t(n[r]))return[0,0];if(e>t(n[a-1]))return[a,0];for(;r<a;){let l=Math.floor(r+(a-r)/2),c=t(n[l]);if(e<c)a=l;else if(e>c)r=l+1;else return[l,1]}return[r,0]}class UL{constructor(e,t){this.emitter=new Dm}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const qy={};function BL(n,e){return!n||e>10?sn({weekday:"short"}):e>1?sn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):sn({weekday:"long"})}const E2="fc-col-header-cell";function S2(n){return n.text}class HL extends Tt{render(){let{dateEnv:e,options:t,theme:r,viewApi:a}=this.context,{props:l}=this,{date:c,dateProfile:h}=l,f=v2(c,l.todayRange,null,h),g=[E2].concat(By(f,r)),b=e.format(c,l.dayHeaderFormat),v=!f.isDisabled&&l.colCnt>1?sb(this.context,c):{},x=e.toDate(c);e.namedTimeZoneImpl&&(x=aa(x,36e5));let E=Object.assign(Object.assign(Object.assign({date:x,view:a},l.extraRenderProps),{text:b}),f);return ne(is,{elTag:"th",elClasses:g,elAttrs:Object.assign({role:"columnheader",colSpan:l.colSpan,"data-date":f.isDisabled?void 0:Ty(c)},l.extraDataAttrs),renderProps:E,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:S2,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},A=>ne("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&ne(A,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",l.isSticky&&"fc-sticky"]})))}}const FL=sn({weekday:"long"});class qL extends Tt{render(){let{props:e}=this,{dateEnv:t,theme:r,viewApi:a,options:l}=this.context,c=an(new Date(2592e5),e.dow),h={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=t.format(c,e.dayHeaderFormat),g=Object.assign(Object.assign(Object.assign(Object.assign({date:c},h),{view:a}),e.extraRenderProps),{text:f});return ne(is,{elTag:"th",elClasses:[E2,...By(h,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:g,generatorName:"dayHeaderContent",customGenerator:l.dayHeaderContent,defaultGenerator:S2,classNameGenerator:l.dayHeaderClassNames,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},b=>ne("div",{className:"fc-scrollgrid-sync-inner"},ne(b,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(c,FL)}})))}}class GL extends Tt{constructor(){super(...arguments),this.createDayHeaderFormatter=Ke($L)}render(){let{context:e}=this,{dates:t,dateProfile:r,datesRepDistinctDays:a,renderIntro:l}=this.props,c=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,t.length);return ne(zm,{unit:"day"},(h,f)=>ne("tr",{role:"row"},l&&l("day"),t.map(g=>a?ne(HL,{key:g.toISOString(),date:g,dateProfile:r,todayRange:f,colCnt:t.length,dayHeaderFormat:c}):ne(qL,{key:g.getUTCDay(),dow:g.getUTCDay(),dayHeaderFormat:c}))))}}function $L(n,e,t){return n||BL(e,t)}class QL{constructor(e,t){let r=e.start,{end:a}=e,l=[],c=[],h=-1;for(;r<a;)t.isHiddenDay(r)?l.push(h+.5):(h+=1,l.push(h),c.push(r)),r=an(r,1);this.dates=c,this.indices=l,this.cnt=c.length}sliceRange(e){let t=this.getDateDayIndex(e.start),r=this.getDateDayIndex(an(e.end,-1)),a=Math.max(0,t),l=Math.min(this.cnt-1,r);return a=Math.ceil(a),l=Math.floor(l),a<=l?{firstIndex:a,lastIndex:l,isStart:t===a,isEnd:r===l}:null}getDateDayIndex(e){let{indices:t}=this,r=Math.floor(qo(this.dates[0],e));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]}}class YL{constructor(e,t){let{dates:r}=e,a,l,c;if(t){for(l=r[0].getUTCDay(),a=1;a<r.length&&r[a].getUTCDay()!==l;a+=1);c=Math.ceil(r.length/a)}else c=1,a=r.length;this.rowCnt=c,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let r=[];for(let a=0;a<this.colCnt;a+=1)r.push(this.buildCell(t,a));e.push(r)}return e}buildCell(e,t){let r=this.daySeries.dates[e*this.colCnt+t];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,r=this.daySeries.sliceRange(e),a=[];if(r){let{firstIndex:l,lastIndex:c}=r,h=l;for(;h<=c;){let f=Math.floor(h/t),g=Math.min((f+1)*t,c+1);a.push({row:f,firstCol:h%t,lastCol:(g-1)%t,isStart:r.isStart&&h===l,isEnd:r.isEnd&&g-1===c}),h=g}}return a}}class WL{constructor(){this.sliceBusinessHours=Ke(this._sliceBusinessHours),this.sliceDateSelection=Ke(this._sliceDateSpan),this.sliceEventStore=Ke(this._sliceEventStore),this.sliceEventDrag=Ke(this._sliceInteraction),this.sliceEventResize=Ke(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,r,a,...l){let{eventUiBases:c}=e,h=this.sliceEventStore(e.eventStore,c,t,r,...l);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,r,c,a,...l),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,r,a,...l),fgEventSegs:h.fg,bgEventSegs:h.bg,eventDrag:this.sliceEventDrag(e.eventDrag,c,t,r,...l),eventResize:this.sliceEventResize(e.eventResize,c,t,r,...l),eventSelection:e.eventSelection}}sliceNowDate(e,t,r,a,...l){return this._sliceDateSpan({range:{start:e,end:aa(e,1)},allDay:!1},t,r,{},a,...l)}_sliceBusinessHours(e,t,r,a,...l){return e?this._sliceEventStore(sl(e,Wh(t,!!r),a),{},t,r,...l).bg:[]}_sliceEventStore(e,t,r,a,...l){if(e){let c=QE(e,t,Wh(r,!!a),a);return{bg:this.sliceEventRanges(c.bg,l),fg:this.sliceEventRanges(c.fg,l)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,r,a,...l){if(!e)return null;let c=QE(e.mutatedEvents,t,Wh(r,!!a),a);return{segs:this.sliceEventRanges(c.fg,l),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,r,a,l,...c){if(!e)return[];let h=Wh(t,!!r),f=Ro(e.range,h);if(f){e=Object.assign(Object.assign({},e),{range:f});let g=pL(e,a,l),b=this.sliceRange(e.range,...c);for(let v of b)v.eventRange=g;return b}return[]}sliceEventRanges(e,t){let r=[];for(let a of e)r.push(...this.sliceEventRange(a,t));return r}sliceEventRange(e,t){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:an(r.start,1)});let a=this.sliceRange(r,...t);for(let l of a)l.eventRange=e,l.isStart=e.isStart&&l.isStart,l.isEnd=e.isEnd&&l.isEnd;return a}}function Wh(n,e){let t=n.activeRange;return e?t:{start:aa(t.start,n.slotMinTime.milliseconds),end:aa(t.end,n.slotMaxTime.milliseconds-864e5)}}function k2(n,e,t){let{instances:r}=n.mutatedEvents;for(let a in r)if(!Nm(e.validRange,r[a].range))return!1;return A2({eventDrag:n},t)}function XL(n,e,t){return Nm(e.validRange,n.range)?A2({dateSelection:n},t):!1}function A2(n,e){let t=e.getCurrentData(),r=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||KL)(r,e)}function KL(n,e,t={},r){return!(n.eventDrag&&!ZL(n,e,t,r)||n.dateSelection&&!JL(n,e,t,r))}function ZL(n,e,t,r){let a=e.getCurrentData(),l=n.eventDrag,c=l.mutatedEvents,h=c.defs,f=c.instances,g=Wf(h,l.isEvent?n.eventUiBases:{"":a.selectionConfig});r&&(g=dl(g,r));let b=QP(n.eventStore,l.affectedEvents.instances),v=b.defs,x=b.instances,E=Wf(v,n.eventUiBases);for(let A in f){let N=f[A],C=N.range,D=g[N.defId],O=h[N.defId];if(!T2(D.constraints,C,b,n.businessHours,e))return!1;let{eventOverlap:F}=e.options,L=typeof F=="function"?F:null;for(let q in x){let R=x[q];if(jy(C,R.range)&&(E[R.defId].overlap===!1&&l.isEvent||D.overlap===!1||L&&!L(new Et(e,v[R.defId],R),new Et(e,O,N))))return!1}let W=a.eventStore;for(let q of D.allows){let R=Object.assign(Object.assign({},t),{range:N.range,allDay:O.allDay}),k=W.defs[O.defId],j=W.instances[A],U;if(k?U=new Et(e,k,j):U=new Et(e,O),!q(Py(R,e),U))return!1}}return!0}function JL(n,e,t,r){let a=n.eventStore,l=a.defs,c=a.instances,h=n.dateSelection,f=h.range,{selectionConfig:g}=e.getCurrentData();if(r&&(g=r(g)),!T2(g.constraints,f,a,n.businessHours,e))return!1;let{selectOverlap:b}=e.options,v=typeof b=="function"?b:null;for(let x in c){let E=c[x];if(jy(f,E.range)&&(g.overlap===!1||v&&!v(new Et(e,l[E.defId],E),null)))return!1}for(let x of g.allows){let E=Object.assign(Object.assign({},t),h);if(!x(Py(E,e),null))return!1}return!0}function T2(n,e,t,r,a){for(let l of n)if(!t8(e8(l,e,t,r,a),e))return!1;return!0}function e8(n,e,t,r,a){return n==="businessHours"?y0(sl(r,e,a)):typeof n=="string"?y0(Rm(t,l=>l.groupId===n)):typeof n=="object"&&n?y0(sl(n,e,a)):[]}function y0(n){let{instances:e}=n,t=[];for(let r in e)t.push(e[r].range);return t}function t8(n,e){for(let t of n)if(Nm(t,e))return!0;return!1}const Xh=/^(visible|hidden)$/;class n8 extends Tt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ki(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:r}=e,a=t&&r,l=["fc-scroller"];return t&&(r?l.push("fc-scroller-liquid-absolute"):l.push("fc-scroller-liquid")),ne("div",{ref:this.handleEl,className:l.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Xh.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Xh.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Xh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Xh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Wa{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,r)=>{let{depths:a,currentMap:l}=this,c=!1,h=!1;t!==null?(c=r in l,l[r]=t,a[r]=(a[r]||0)+1,h=!0):(a[r]-=1,a[r]||(delete l[r],delete this.callbackMap[r],c=!0)),this.masterCallback&&(c&&this.masterCallback(null,String(r)),h&&this.masterCallback(t,String(r)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),t}collect(e,t,r){return dP(this.currentMap,e,t,r)}getAll(){return Dy(this.currentMap)}}function r8(n){let e=uV(n,".fc-scrollgrid-shrink"),t=0;for(let r of e)t=Math.max(t,SV(r));return Math.ceil(t)}function C2(n,e){return n.liquid&&e.liquid}function i8(n,e){return e.maxHeight!=null||C2(n,e)}function s8(n,e,t,r){let{expandRows:a}=t;return typeof e.content=="function"?e.content(t):ne("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:a?t.clientHeight:""}},t.tableColGroupNode,ne(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function a8(n,e){return sa(n,e,qr)}function l8(n,e){let t=[];for(let r of n){let a=r.span||1;for(let l=0;l<a;l+=1)t.push(ne("col",{style:{width:r.width==="shrink"?o8(e):r.width||"",minWidth:r.minWidth||""}}))}return ne("colgroup",{},...t)}function o8(n){return n??4}function c8(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function u8(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function d8(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function h8(n){return ne("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function ZE(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function f8(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class N2 extends Tt{constructor(){super(...arguments),this.processCols=Ke(e=>e,a8),this.renderMicroColGroup=Ke(l8),this.scrollerRefs=new Wa,this.scrollerElRefs=new Wa(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:r}=this,a=e.sections||[],l=this.processCols(e.cols),c=this.renderMicroColGroup(l,t.shrinkWidth),h=u8(e.liquid,r);e.collapsibleWidth&&h.push("fc-scrollgrid-collapsible");let f=a.length,g=0,b,v=[],x=[],E=[];for(;g<f&&(b=a[g]).type==="header";)v.push(this.renderSection(b,c,!0)),g+=1;for(;g<f&&(b=a[g]).type==="body";)x.push(this.renderSection(b,c,!1)),g+=1;for(;g<f&&(b=a[g]).type==="footer";)E.push(this.renderSection(b,c,!0)),g+=1;let A=!b2();const N={role:"rowgroup"};return ne("table",{role:"grid",className:h.join(" "),style:{height:e.height}},!!(!A&&v.length)&&ne("thead",N,...v),!!(!A&&x.length)&&ne("tbody",N,...x),!!(!A&&E.length)&&ne("tfoot",N,...E),A&&ne("tbody",N,...v,...x,...E))}renderSection(e,t,r){return"outerContent"in e?ne(Dt,{key:e.key},e.outerContent):ne("tr",{key:e.key,role:"presentation",className:d8(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,r))}renderChunkTd(e,t,r,a){if("outerContent"in r)return r.outerContent;let{props:l}=this,{forceYScrollbars:c,scrollerClientWidths:h,scrollerClientHeights:f}=this.state,g=i8(l,e),b=C2(l,e),v=l.liquid?c?"scroll":g?"auto":"hidden":"visible",x=e.key,E=s8(e,r,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!l.collapsibleWidth&&h[x]!==void 0?h[x]:null,clientHeight:f[x]!==void 0?f[x]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return ne(a?"th":"td",{ref:r.elRef,role:"presentation"},ne("div",{className:`fc-scroller-harness${b?" fc-scroller-harness-liquid":""}`},ne(n8,{ref:this.scrollerRefs.createRef(x),elRef:this.scrollerElRefs.createRef(x),overflowY:v,overflowX:l.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:b,liquidIsAbsolute:!0},E)))}_handleScrollerEl(e,t){let r=m8(this.props.sections,t);r&&ki(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return c8(this.props.cols)?r8(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=zL(),{scrollerRefs:t,scrollerElRefs:r}=this,a=!1,l={},c={};for(let h in t.currentMap){let f=t.currentMap[h];if(f&&f.needsYScrolling()){a=!0;break}}for(let h of this.props.sections){let f=h.key,g=r.currentMap[f];if(g){let b=g.parentNode;l[f]=Math.floor(b.getBoundingClientRect().width-(a?e.y:0)),c[f]=Math.floor(b.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:l,scrollerClientHeights:c}}}N2.addStateEquality({scrollerClientWidths:qr,scrollerClientHeights:qr});function m8(n,e){for(let t of n)if(t.key===e)return t;return null}class Gy extends Tt{constructor(){super(...arguments),this.buildPublicEvent=Ke((e,t,r)=>new Et(e,t,r)),this.handleEl=e=>{this.el=e,ki(this.props.elRef,e),e&&YE(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:r}=t,{seg:a}=e,{eventRange:l}=a,{ui:c}=l,h={event:this.buildPublicEvent(t,l.def,l.instance),view:t.viewApi,timeText:e.timeText,textColor:c.textColor,backgroundColor:c.backgroundColor,borderColor:c.borderColor,isDraggable:!e.disableDragging&&sL(a,t),isStartResizable:!e.disableResizing&&aL(a,t),isEndResizable:!e.disableResizing&&lL(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ne(is,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...oL(h),...a.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:h,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&YE(this.el,this.props.seg)}}class R2 extends Tt{render(){let{props:e,context:t}=this,{options:r}=t,{seg:a}=e,{ui:l}=a.eventRange,c=r.eventTimeFormat||e.defaultTimeFormat,h=f2(a,c,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ne(Gy,Object.assign({},e,{elTag:"a",elStyle:{borderColor:l.borderColor,backgroundColor:l.backgroundColor},elAttrs:m2(a,t),defaultGenerator:g8,timeText:h}),(f,g)=>ne(Dt,null,ne(f,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:g.textColor}}),!!g.isStartResizable&&ne("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!g.isEndResizable&&ne("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}R2.addPropsEquality({seg:qr});function g8(n){return ne("div",{className:"fc-event-main-frame"},n.timeText&&ne("div",{className:"fc-event-time"},n.timeText),ne("div",{className:"fc-event-title-container"},ne("div",{className:"fc-event-title fc-sticky"},n.event.title||ne(Dt,null,""))))}const p8=sn({day:"numeric"});class D2 extends Tt{constructor(){super(...arguments),this.refineRenderProps=cf(b8)}render(){let{props:e,context:t}=this,{options:r}=t,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:r.monthStartFormat});return ne(is,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":Ty(e.date)}),elClasses:[...By(a,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function z2(n){return!!(n.dayCellContent||tb("dayCellContent",n))}function b8(n){let{date:e,dateEnv:t,dateProfile:r,isMonthStart:a}=n,l=v2(e,n.todayRange,null,r),c=n.showDayNumber?t.format(e,a?n.monthStartFormat:p8):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},l),{isMonthStart:a,dayNumberText:c}),n.extraRenderProps)}class y8 extends Tt{render(){let{props:e}=this,{seg:t}=e;return ne(Gy,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:v8,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function v8(n){let{title:e}=n.event;return e&&ne("div",{className:"fc-event-title"},n.event.title)}function x8(n){return ne("div",{className:`fc-${n}`})}const _8=n=>ne(hl.Consumer,null,e=>{let{dateEnv:t,options:r}=e,{date:a}=n,l=r.weekNumberFormat||n.defaultFormat,c=t.computeWeekNumber(a),h=t.format(a,l),f={num:c,text:h,date:a};return ne(is,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:f,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:w8,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},n.children)});function w8(n){return n.text}const v0=10;class E8 extends Tt{constructor(){super(...arguments),this.state={titleId:Tm()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ki(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=FT(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:r,state:a}=this,l=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return X9(ne("div",Object.assign({},r.extraAttrs,{id:r.id,className:l.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),ne("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ne("span",{className:"fc-popover-title",id:a.titleId},r.title),ne("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),ne("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:r}=this.props,{rootEl:a}=this,l=OL(t);if(l){let c=a.getBoundingClientRect(),h=r?En(t,".fc-scrollgrid").getBoundingClientRect().top:l.top,f=e?l.right-c.width:l.left;h=Math.max(h,v0),f=Math.min(f,document.documentElement.clientWidth-v0-c.width),f=Math.max(f,v0);let g=a.offsetParent.getBoundingClientRect();pu(a,{top:h-g.top,left:f-g.left})}}}class S8 extends ml{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:r}=this,{startDate:a,todayRange:l,dateProfile:c}=r,h=t.format(a,e.dayPopoverFormat);return ne(D2,{elRef:this.handleRootEl,date:a,dateProfile:c,todayRange:l},(f,g,b)=>ne(E8,{elRef:b.ref,id:r.id,title:h,extraClassNames:["fc-more-popover"].concat(b.className||[]),extraAttrs:b,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},z2(e)&&ne(f,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,t,r,a){let{rootEl:l,props:c}=this;return e>=0&&e<r&&t>=0&&t<a?{dateProfile:c.dateProfile,dateSpan:Object.assign({allDay:!c.forceTimed,range:{start:c.startDate,end:c.endDate}},c.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:r,bottom:a},layer:1}:null}}class k8 extends Tt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Tm()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ki(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:r}=this,{moreLinkClick:a}=r.options,l=JE(t).start;function c(h){let{def:f,instance:g,range:b}=h.eventRange;return{event:new Et(r,f,g),start:r.dateEnv.toDate(b.start),end:r.dateEnv.toDate(b.end),isStart:h.isStart,isEnd:h.isEnd}}typeof a=="function"&&(a=a({date:l,allDay:!!t.allDayDate,allSegs:t.allSegs.map(c),hiddenSegs:t.hiddenSegs.map(c),jsEvent:e,view:r.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&r.calendarApi.zoomTo(l,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return ne(hl.Consumer,null,r=>{let{viewApi:a,options:l,calendarApi:c}=r,{moreLinkText:h}=l,{moreCnt:f}=e,g=JE(e),b=typeof h=="function"?h.call(c,f):`+${f} ${h}`,v=bu(l.moreLinkHint,[f],b),x={num:f,shortText:`+${f}`,text:b,view:a};return ne(Dt,null,!!e.moreCnt&&ne(is,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),GT(this.handleClick)),{title:v,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:x,generatorName:"moreLinkContent",customGenerator:l.moreLinkContent,defaultGenerator:e.defaultGenerator||A8,classNameGenerator:l.moreLinkClassNames,didMount:l.moreLinkDidMount,willUnmount:l.moreLinkWillUnmount},e.children),t.isPopoverOpen&&ne(S8,{id:t.popoverId,startDate:g.start,endDate:g.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=En(this.linkEl,".fc-view-harness"))}}function A8(n){return n.text}function JE(n){if(n.allDayDate)return{start:n.allDayDate,end:an(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:T8(e),end:N8(e)}}function T8(n){return n.reduce(C8).eventRange.range.start}function C8(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function N8(n){return n.reduce(R8).eventRange.range.end}function R8(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class D8{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class z8 extends D8{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let r=!1;e.isActive?(t.set(e.id,e),r=!0):t.has(e.id)&&(t.delete(e.id),r=!0),r&&this.set(t)}}const j8=[],j2={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},M2=Object.assign(Object.assign({},j2),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function M8(n){let e=n.length>0?n[0].code:"en",t=j8.concat(n),r={en:M2};for(let a of t)r[a.code]=a;return{map:r,defaultCode:e}}function I2(n,e){return typeof n=="object"&&!Array.isArray(n)?O2(n.code,[n.code],n):I8(n,e)}function I8(n,e){let t=[].concat(n||[]),r=O8(t,e)||M2;return O2(n,t,r)}function O8(n,e){for(let t=0;t<n.length;t+=1){let r=n[t].toLocaleLowerCase().split("-");for(let a=r.length;a>0;a-=1){let l=r.slice(0,a).join("-");if(e[l])return e[l]}}return null}function O2(n,e,t){let r=Ry([j2,t],["buttonText"]);delete r.code;let{week:a}=r;return delete r.week,{codeArg:n,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}function da(n){return{id:ul(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function V8(n,e){let t={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(l){for(let c of l){const h=c.name,f=t[h];f===void 0?(t[h]=c.id,a(c.deps),r=L8(r,c)):f!==c.id&&console.warn(`Duplicate plugin '${h}'`)}}return n&&a(n),a(e),r}function P8(){let n=[],e=[],t;return(r,a)=>((!t||!sa(r,n)||!sa(a,e))&&(t=V8(r,a)),n=r,e=a,t)}function L8(n,e){return{premiumReleaseDate:U8(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function U8(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class ha extends rd{}ha.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ha.prototype.baseIconClass="fc-icon";ha.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ha.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ha.prototype.iconOverrideOption="buttonIcons";ha.prototype.iconOverrideCustomButtonOption="icon";ha.prototype.iconOverridePrefix="fc-icon-";function B8(n,e){let t={},r;for(r in n)ab(r,t,n,e);for(r in e)ab(r,t,n,e);return t}function ab(n,e,t,r){if(e[n])return e[n];let a=H8(n,e,t,r);return a&&(e[n]=a),a}function H8(n,e,t,r){let a=t[n],l=r[n],c=b=>a&&a[b]!==null?a[b]:l&&l[b]!==null?l[b]:null,h=c("component"),f=c("superType"),g=null;if(f){if(f===n)throw new Error("Can't have a custom view type that references itself");g=ab(f,e,t,r)}return!h&&g&&(h=g.component),h?{type:n,component:h,defaults:Object.assign(Object.assign({},g?g.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},g?g.overrides:{}),l?l.rawOptions:{})}:null}function eS(n){return dl(n,F8)}function F8(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=tS(e):t&&!(t.prototype instanceof Tt)&&(t=tS(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function tS(n){return e=>ne(hl.Consumer,null,t=>ne(is,{elTag:"div",elClasses:JT(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function q8(n,e,t,r){let a=eS(n),l=eS(e.views),c=B8(a,l);return dl(c,h=>G8(h,l,e,t,r))}function G8(n,e,t,r,a){let l=n.overrides.duration||n.defaults.duration||r.duration||t.duration,c=null,h="",f="",g={};if(l&&(c=$8(l),c)){let x=eb(c);h=x.unit,x.value===1&&(f=h,g=e[h]?e[h].rawOptions:{})}let b=x=>{let E=x.buttonText||{},A=n.defaults.buttonTextKey;return A!=null&&E[A]!=null?E[A]:E[n.type]!=null?E[n.type]:E[f]!=null?E[f]:null},v=x=>{let E=x.buttonHints||{},A=n.defaults.buttonTextKey;return A!=null&&E[A]!=null?E[A]:E[n.type]!=null?E[n.type]:E[f]!=null?E[f]:null};return{type:n.type,component:n.component,duration:c,durationUnit:h,singleUnit:f,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},g),n.overrides),buttonTextOverride:b(r)||b(t)||n.overrides.buttonText,buttonTextDefault:b(a)||n.defaults.buttonText||b(yu)||n.type,buttonTitleOverride:v(r)||v(t)||n.overrides.buttonHint,buttonTitleDefault:v(a)||n.defaults.buttonHint||v(yu)}}let nS={};function $8(n){let e=JSON.stringify(n),t=nS[e];return t===void 0&&(t=tt(n),nS[e]=t),t}function Q8(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function Y8(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function W8(n,e,t){let r=n.initialDate;return r!=null?e.createMarker(r):t.getDateMarker()}function X8(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function K8(n,e,t,r){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||t);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(a=r.buildPrev(n,t),a.isValid)return a;break;case"NEXT":if(a=r.buildNext(n,t),a.isValid)return a;break}return n}function Z8(n,e,t){let r=e?e.activeRange:null;return P2({},sU(n,t),r,t)}function J8(n,e,t,r){let a=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return P2(n,e.sources,a,r);case"REMOVE_EVENT_SOURCE":return tU(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?L2(n,a,r):n;case"FETCH_EVENT_SOURCES":return $y(n,e.sourceIds?YT(e.sourceIds):U2(n,r),a,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return iU(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function eU(n,e,t){let r=e?e.activeRange:null;return $y(n,U2(n,t),r,!0,t)}function V2(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function P2(n,e,t,r){let a={};for(let l of e)a[l.sourceId]=l;return t&&(a=L2(a,t,r)),Object.assign(Object.assign({},n),a)}function tU(n,e){return il(n,t=>t.sourceId!==e)}function L2(n,e,t){return $y(n,il(n,r=>nU(r,e,t)),e,!1,t)}function nU(n,e,t){return B2(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function $y(n,e,t,r,a){let l={};for(let c in n){let h=n[c];e[c]?l[c]=rU(h,t,r,a):l[c]=h}return l}function rU(n,e,t,r){let{options:a,calendarApi:l}=r,c=r.pluginHooks.eventSourceDefs[n.sourceDefId],h=ul();return c.fetch({eventSource:n,range:e,isRefetch:t,context:r},f=>{let{rawEvents:g}=f;a.eventSourceSuccess&&(g=a.eventSourceSuccess.call(l,g,f.response)||g),n.success&&(g=n.success.call(l,g,f.response)||g),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:h,fetchRange:e,rawEvents:g})},f=>{let g=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(l,f),g=!0),n.failure&&(n.failure(f),g=!0),g||console.warn(f.message,f),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:h,fetchRange:e,error:f})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:h})}function iU(n,e,t,r){let a=n[e];return a&&t===a.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:r})}):n}function U2(n,e){return il(n,t=>B2(t,e))}function sU(n,e){let t=l2(e),r=[].concat(n.eventSources||[]),a=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(let l of r){let c=a2(l,e,t);c&&a.push(c)}return a}function B2(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function aU(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function lU(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function oU(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function cU(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function uU(n,e,t,r,a){let l=n.headerToolbar?rS(n.headerToolbar,n,e,t,r,a):null,c=n.footerToolbar?rS(n.footerToolbar,n,e,t,r,a):null;return{header:l,footer:c}}function rS(n,e,t,r,a,l){let c={},h=[],f=!1;for(let g in n){let b=n[g],v=dU(b,e,t,r,a,l);c[g]=v.widgets,h.push(...v.viewsWithButtons),f=f||v.hasTitle}return{sectionWidgets:c,viewsWithButtons:h,hasTitle:f}}function dU(n,e,t,r,a,l){let c=e.direction==="rtl",h=e.customButtons||{},f=t.buttonText||{},g=e.buttonText||{},b=t.buttonHints||{},v=e.buttonHints||{},x=n?n.split(" "):[],E=[],A=!1;return{widgets:x.map(C=>C.split(",").map(D=>{if(D==="title")return A=!0,{buttonName:D};let O,F,L,W,q,R;if(O=h[D])L=k=>{O.click&&O.click.call(k.target,k,k.target)},(W=r.getCustomButtonIconClass(O))||(W=r.getIconClass(D,c))||(q=O.text),R=O.hint||O.text;else if(F=a[D]){E.push(D),L=()=>{l.changeView(D)},(q=F.buttonTextOverride)||(W=r.getIconClass(D,c))||(q=F.buttonTextDefault);let k=F.buttonTextOverride||F.buttonTextDefault;R=bu(F.buttonTitleOverride||F.buttonTitleDefault||e.viewHint,[k,D],k)}else if(l[D])if(L=()=>{l[D]()},(q=f[D])||(W=r.getIconClass(D,c))||(q=g[D]),D==="prevYear"||D==="nextYear"){let k=D==="prevYear"?"prev":"next";R=bu(b[k]||v[k],[g.year||"year","year"],g[D])}else R=k=>bu(b[D]||v[D],[g[k]||k,k],g[D]);return{buttonName:D,buttonClick:L,buttonIcon:W,buttonText:q,buttonHint:R}})),viewsWithButtons:E,hasTitle:A}}class hU{constructor(e,t,r){this.type=e,this.getCurrentData=t,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let fU={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const mU=da({name:"array-event-source",eventSourceDefs:[fU]});let gU={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:r}=n.context,a=n.eventSource.meta;bL(a.bind(null,g2(n.range,r)),l=>e({rawEvents:l}),t)}};const pU=da({name:"func-event-source",eventSourceDefs:[gU]}),bU={method:String,extraParams:ee,startParam:String,endParam:String,timeZoneParam:String};let yU={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:r}=n.eventSource,a=xU(r,n.range,n.context);yL(r.method,r.url,a).then(([l,c])=>{e({rawEvents:l,response:c})},t)}};const vU=da({name:"json-event-source",eventSourceRefiners:bU,eventSourceDefs:[yU]});function xU(n,e,t){let{dateEnv:r,options:a}=t,l,c,h,f,g={};return l=n.startParam,l==null&&(l=a.startParam),c=n.endParam,c==null&&(c=a.endParam),h=n.timeZoneParam,h==null&&(h=a.timeZoneParam),typeof n.extraParams=="function"?f=n.extraParams():f=n.extraParams||{},Object.assign(g,f),g[l]=r.formatIso(e.start),g[c]=r.formatIso(e.end),r.timeZone!=="local"&&(g[h]=r.timeZone),g}const _U={daysOfWeek:ee,startTime:tt,endTime:tt,duration:tt,startRecur:ee,endRecur:ee};let wU={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},r;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=CV(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:r,typeData:t}}return null},expand(n,e,t){let r=Ro(e,{start:n.startRecur,end:n.endRecur});return r?SU(n.daysOfWeek,n.startTime,n.dateEnv,t,r):[]}};const EU=da({name:"simple-recurring-event",recurringTypes:[wU],eventRefiners:_U});function SU(n,e,t,r,a){let l=n?YT(n):null,c=wt(a.start),h=a.end,f=[];for(e&&(e.milliseconds<0?h=an(h,1):e.milliseconds>=1e3*60*60*24&&(c=an(c,-1)));c<h;){let g;(!l||l[c.getUTCDay()])&&(e?g=r.add(c,e):g=c,f.push(r.createMarker(t.toDate(g)))),c=an(c,1)}return f}const kU=da({name:"change-handler",optionChangeHandlers:{events(n,e){iS([n],e)},eventSources:iS}});function iS(n,e){let t=Dy(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let r=[];for(let a of n){let l=!1;for(let c=0;c<t.length;c+=1)if(t[c]._raw===a){t.splice(c,1),l=!0;break}l||r.push(a)}for(let a of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of r)e.calendarApi.addEventSource(a)}function AU(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},g2(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function TU(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Ja(n,e))}const CU=[mU,pU,vU,EU,kU,da({name:"misc",isLoadingFuncs:[n=>V2(n.eventSources)],propSetHandlers:{dateProfile:AU,eventStore:TU}})];class NU{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ey(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],r;for(;r=e.shift();)this.runTask(r),t.push(r);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function RU(n,e,t){let r;return/^(year|month)$/.test(n.currentRangeUnit)?r=n.currentRange:r=n.activeRange,t.formatRange(r.start,r.end,sn(e.titleFormat||DU(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function DU(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Hf(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class sS{constructor(){this.resetListeners=new Set}handleInput(e,t){const r=this.dateEnv;if(e!==r&&(typeof t=="function"?this.nowFn=t:r||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class zU{constructor(e){this.computeCurrentViewData=Ke(this._computeCurrentViewData),this.organizeRawLocales=Ke(M8),this.buildLocale=Ke(I2),this.buildPluginHooks=P8(),this.buildDateEnv=Ke(jU),this.buildTheme=Ke(MU),this.parseToolbars=Ke(uU),this.buildViewSpecs=Ke(q8),this.buildDateProfileGenerator=cf(IU),this.buildViewApi=Ke(OU),this.buildViewUiProps=cf(LU),this.buildEventUiBySource=Ke(VU,qr),this.buildEventUiBases=Ke(PU),this.parseContextBusinessHours=cf(UU),this.buildTitle=Ke(RU),this.nowManager=new sS,this.emitter=new Dm,this.actionRunner=new NU(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=x=>{this.actionRunner.request(x)},this.props=e,this.actionRunner.pause(),this.nowManager=new sS;let t={},r=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),a=r.calendarOptions.initialView||r.pluginHooks.initialView,l=this.computeCurrentViewData(a,r,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},h=W8(r.calendarOptions,r.dateEnv,this.nowManager),f=l.dateProfileGenerator.build(h);Ks(f.activeRange,h)||(h=f.currentRange.start);for(let x of r.pluginHooks.contextInit)x(c);let g=Z8(r.calendarOptions,f,c),b={dynamicOptionOverrides:t,currentViewType:a,currentDate:h,dateProfile:f,businessHours:this.parseContextBusinessHours(c),eventSources:g,eventUiBases:{},eventStore:Br(),renderableEventStore:Br(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},v=Object.assign(Object.assign({},c),b);for(let x of r.pluginHooks.reducers)Object.assign(b,x(null,null,v));x0(b,c)&&this.emitter.trigger("loading",!0),this.state=b,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:r}=this;t===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:r,emitter:a}=this,l=X8(r.dynamicOptionOverrides,e),c=this.computeOptionsData(t.optionOverrides,l,t.calendarApi),h=Q8(r.currentViewType,e),f=this.computeCurrentViewData(h,c,t.optionOverrides,l);t.calendarApi.currentDataManager=this,a.setThisContext(t.calendarApi),a.setOptions(f.options);let g={nowManager:this.nowManager,dateEnv:c.dateEnv,options:c.calendarOptions,pluginHooks:c.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:b,dateProfile:v}=r;this.data&&this.data.dateProfileGenerator!==f.dateProfileGenerator&&(v=f.dateProfileGenerator.build(b)),b=Y8(b,e),v=K8(v,e,b,f.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Ks(v.currentRange,b))&&(b=v.currentRange.start);let x=J8(r.eventSources,e,v,g),E=FP(r.eventStore,e,x,v,g),N=V2(x)&&!f.options.progressiveEventRendering&&r.renderableEventStore||E,{eventUiSingleBase:C,selectionConfig:D}=this.buildViewUiProps(g),O=this.buildEventUiBySource(x),F=this.buildEventUiBases(N.defs,C,O),L={dynamicOptionOverrides:l,currentViewType:h,currentDate:b,dateProfile:v,eventSources:x,eventStore:E,renderableEventStore:N,selectionConfig:D,eventUiBases:F,businessHours:this.parseContextBusinessHours(g),dateSelection:aU(r.dateSelection,e),eventSelection:lU(r.eventSelection,e),eventDrag:oU(r.eventDrag,e),eventResize:cU(r.eventResize,e)},W=Object.assign(Object.assign({},g),L);for(let k of c.pluginHooks.reducers)Object.assign(L,k(r,e,W));let q=x0(r,g),R=x0(L,g);!q&&R?a.trigger("loading",!0):q&&!R&&a.trigger("loading",!1),this.state=L,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,r=this.data,a=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),l=this.computeCurrentViewData(t.currentViewType,a,e.optionOverrides,t.dynamicOptionOverrides),c=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,l.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),l),t),h=a.pluginHooks.optionChangeHandlers,f=r&&r.calendarOptions,g=a.calendarOptions;if(f&&f!==g){f.timeZone!==g.timeZone&&(t.eventSources=c.eventSources=eU(c.eventSources,t.dateProfile,c),t.eventStore=c.eventStore=GE(c.eventStore,r.dateEnv,c.dateEnv),t.renderableEventStore=c.renderableEventStore=GE(c.renderableEventStore,r.dateEnv,c.dateEnv));for(let b in h)(this.optionsForHandling.indexOf(b)!==-1||f[b]!==g[b])&&h[b](g[b],c)}this.optionsForHandling=[],e.onData&&e.onData(c)}computeOptionsData(e,t,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:l,localeDefaults:c,availableLocaleData:h,extra:f}=this.processRawCalendarOptions(e,t);aS(f);let g=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,l,h,a.defaultRangeSeparator),b=this.buildViewSpecs(l.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,c),v=this.buildTheme(a,l),x=this.parseToolbars(a,this.stableOptionOverrides,v,b,r);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:l,dateEnv:g,viewSpecs:b,theme:v,toolbarConfig:x,localeDefaults:c,availableRawLocales:h.map}}processRawCalendarOptions(e,t){let{locales:r,locale:a}=h0([yu,e,t]),l=this.organizeRawLocales(r),c=l.map,h=this.buildLocale(a||l.defaultCode,c).options,f=this.buildPluginHooks(e.plugins||[],CU),g=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},PE),LE),UE),f.listenerRefiners),f.optionRefiners),b={},v=h0([yu,h,e,t]),x={},E=this.currentCalendarOptionsInput,A=this.currentCalendarOptionsRefined,N=!1;for(let C in v)this.optionsForRefining.indexOf(C)===-1&&(v[C]===E[C]||Ga[C]&&C in E&&Ga[C](E[C],v[C]))?x[C]=A[C]:g[C]?(x[C]=g[C](v[C]),N=!0):b[C]=E[C];return N&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=x,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:f,availableLocaleData:l,localeDefaults:h,extra:b}}_computeCurrentViewData(e,t,r,a){let l=t.viewSpecs[e];if(!l)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:c,extra:h}=this.processRawViewOptions(l,t.pluginHooks,t.localeDefaults,r,a);aS(h),this.nowManager.handleInput(t.dateEnv,c.now);let f=this.buildDateProfileGenerator({dateProfileGeneratorClass:l.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:l.duration,durationUnit:l.durationUnit,usesMinMaxTime:l.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,showNonCurrentDates:c.showNonCurrentDates,dayCount:c.dayCount,dateAlignment:c.dateAlignment,dateIncrement:c.dateIncrement,hiddenDays:c.hiddenDays,weekends:c.weekends,validRangeInput:c.validRange,visibleRangeInput:c.visibleRange,fixedWeekCount:c.fixedWeekCount}),g=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:l,options:c,dateProfileGenerator:f,viewApi:g}}processRawViewOptions(e,t,r,a,l){let c=h0([yu,e.optionDefaults,r,a,e.optionOverrides,l]),h=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},PE),LE),UE),aP),t.listenerRefiners),t.optionRefiners),f={},g=this.currentViewOptionsInput,b=this.currentViewOptionsRefined,v=!1,x={};for(let E in c)c[E]===g[E]||Ga[E]&&Ga[E](c[E],g[E])?f[E]=b[E]:(c[E]===this.currentCalendarOptionsInput[E]||Ga[E]&&Ga[E](c[E],this.currentCalendarOptionsInput[E])?E in this.currentCalendarOptionsRefined&&(f[E]=this.currentCalendarOptionsRefined[E]):h[E]?f[E]=h[E](c[E]):x[E]=c[E],v=!0);return v&&(this.currentViewOptionsInput=c,this.currentViewOptionsRefined=f),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:x}}}function jU(n,e,t,r,a,l,c,h){let f=I2(e||c.defaultCode,c.map);return new bP({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:l.namedTimeZonedImpl,locale:f,weekNumberCalculation:t,firstDay:r,weekText:a,cmdFormatter:l.cmdFormatter,defaultSeparator:h})}function MU(n,e){let t=e.themeClasses[n.themeSystem]||ha;return new t(n)}function IU(n){let e=n.dateProfileGeneratorClass||n2;return new e(n)}function OU(n,e,t){return new hU(n,e,t)}function VU(n){return dl(n,e=>e.ui)}function PU(n,e,t){let r={"":e};for(let a in n){let l=n[a];l.sourceId&&t[l.sourceId]&&(r[a]=t[l.sourceId])}return r}function LU(n){let{options:e}=n;return{eventUiSingleBase:Yf({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Yf({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function x0(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function UU(n){return ZP(n.options.businessHours,n)}function aS(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class BU extends Tt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return ne("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:r}=this.context,a=[],l=!0;for(let c of e){let{buttonName:h,buttonClick:f,buttonText:g,buttonIcon:b,buttonHint:v}=c;if(h==="title")l=!1,a.push(ne("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let x=h===t.activeButton,E=!t.isTodayEnabled&&h==="today"||!t.isPrevEnabled&&h==="prev"||!t.isNextEnabled&&h==="next",A=[`fc-${h}-button`,r.getClass("button")];x&&A.push(r.getClass("buttonActive")),a.push(ne("button",{type:"button",title:typeof v=="function"?v(t.navUnit):v,disabled:E,"aria-pressed":x,className:A.join(" "),onClick:f},g||(b?ne("span",{className:b,role:"img"}):"")))}}if(a.length>1){let c=l&&r.getClass("buttonGroup")||"";return ne("div",{className:c},...a)}return a[0]}}class lS extends Tt{render(){let{model:e,extraClassName:t}=this.props,r=!1,a,l,c=e.sectionWidgets,h=c.center;return c.left?(r=!0,a=c.left):a=c.start,c.right?(r=!0,l=c.right):l=c.end,ne("div",{className:[t||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",h||[]),this.renderSection("end",l||[]))}renderSection(e,t){let{props:r}=this;return ne(BU,{key:e,widgetGroups:t,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class HU extends Tt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ki(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:r}=e,a=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],l="",c="";return r?t.availableWidth!==null?l=t.availableWidth/r:c=`${1/r*100}%`:l=e.height||"",ne("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:l,paddingBottom:c}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class FU extends Go{constructor(e){super(e),this.handleSegClick=(t,r)=>{let{component:a}=this,{context:l}=a,c=Do(r);if(c&&a.isValidSegDownEl(t.target)){let h=En(t.target,".fc-event-forced-url"),f=h?h.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:r,event:new Et(a.context,c.eventRange.def,c.eventRange.instance),jsEvent:t,view:l.viewApi}),f&&!t.defaultPrevented&&(window.location.href=f)}},this.destroy=qT(e.el,"click",".fc-event",this.handleSegClick)}}class qU extends Go{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,r)=>{Do(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",t,r))},this.handleSegLeave=(t,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,r))},this.removeHoverListeners=fV(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,r){let{component:a}=this,{context:l}=a,c=Do(r);(!t||a.isValidSegDownEl(t.target))&&l.emitter.trigger(e,{el:r,event:new Et(l,c.eventRange.def,c.eventRange.instance),jsEvent:t,view:l.viewApi})}}class GU extends fl{constructor(){super(...arguments),this.buildViewContext=Ke(xP),this.buildViewPropTransformers=Ke(QU),this.buildToolbarProps=Ke($U),this.headerRef=ns(),this.footerRef=ns(),this.interactionsStore={},this.state={viewLabelId:Tm()},this.registerInteractiveComponent=(e,t)=>{let r=_L(e,t),c=[FU,qU].concat(this.props.pluginHooks.componentInteractions).map(h=>new h(r));this.interactionsStore[e.uid]=c,ib[e.uid]=r},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let r of t)r.destroy();delete this.interactionsStore[e.uid]}delete ib[e.uid]},this.resizeRunner=new Ey(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:r}=e,a=!1,l="",c;e.isHeightAuto||e.forPrint?l="":r.height!=null?a=!0:r.contentHeight!=null?l=r.contentHeight:c=Math.max(r.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return ne(hl.Provider,{value:h},ne(zm,{unit:"day"},g=>{let b=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,g,e.viewTitle);return ne(Dt,null,t.header&&ne(lS,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:f},b)),ne(HU,{liquid:a,height:l,aspectRatio:c,labeledById:f},this.renderView(e),this.buildAppendContent()),t.footer&&ne(lS,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},b)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let r in t)t[r](e[r],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:r}=t.pluginHooks;for(let a in r)t[a]!==e[a]&&r[a](t[a],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(r=>r(e));return ne(Dt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:r}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},l=this.buildViewPropTransformers(t.viewPropsTransformers);for(let h of l)Object.assign(a,h.transform(a,e));let c=r.component;return ne(c,Object.assign({},a))}}function $U(n,e,t,r,a,l){let c=t.build(a,void 0,!1),h=t.buildPrev(e,r,!1),f=t.buildNext(e,r,!1);return{title:l,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:c.isValid&&!Ks(e.currentRange,a),isPrevEnabled:h.isValid,isNextEnabled:f.isValid}}function QU(n){return n.map(e=>new e)}class YU extends EL{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;$f(()=>{Pu(ne(xL,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(a,l,c,h)=>(this.setClassNames(a),this.setHeight(l),ne(ZT.Provider,{value:this.customContentRenderId},ne(GU,Object.assign({isHeightAuto:c,forPrint:h},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Pu(null,this.el),this.setClassNames([]),this.setHeight(""))},iV(e),this.el=e,this.renderRunner=new Ey(this.handleRenderRequest),new zU({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){$f(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!sa(e,this.currentClassNames)){let{classList:t}=this.el;for(let r of this.currentClassNames)t.remove(r);for(let r of e)t.add(r);this.currentClassNames=e}}setHeight(e){HT(this.el,"height",e)}}const WU=parseInt(String(Ur.version).split(".")[0]),XU=WU<18;class H2 extends M.Component{constructor(){super(...arguments),this.elRef=M.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Ur.createElement(KU,{key:t.id,customRendering:t}));return Ur.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new z8;this.handleCustomRendering=e.handle.bind(e),this.calendar=new YU(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{E0.flushSync(()=>{})});let t;e.subscribe(r=>{const a=Date.now(),l=!t;(XU||l||this.isUpdating||this.isUnmounting||a-t<100?F2:E0.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{t=a,l?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}H2.act=F2;class KU extends M.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,r=typeof t=="function"?t(e.renderProps):t;return E0.createPortal(r,e.containerEl)}}function F2(n){n()}class ZU extends ml{constructor(){super(...arguments),this.headerElRef=ns()}renderSimpleLayout(e,t){let{props:r,context:a}=this,l=[],c=ZE(a.options);return e&&l.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),ne(BE,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},ne(N2,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:l}))}renderHScrollLayout(e,t,r,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{props:c,context:h}=this,f=!c.forPrint&&ZE(h.options),g=!c.forPrint&&f8(h.options),b=[];return e&&b.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),b.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),g&&b.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:h8}]}),ne(BE,{elClasses:["fc-daygrid"],viewSpec:h.viewSpec},ne(l,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:c.forPrint,colGroups:[{cols:[{span:r,minWidth:a}]}],sections:b}))}}function df(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.row].push(r);return t}function Kh(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.firstCol].push(r);return t}function oS(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}const q2=sn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function G2(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class $2 extends Tt{render(){let{props:e}=this;return ne(R2,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:q2,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Q2 extends Tt{render(){let{props:e,context:t}=this,{options:r}=t,{seg:a}=e,l=r.eventTimeFormat||q2,c=f2(a,l,t,!0,e.defaultDisplayEventEnd);return ne(Gy,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:m2(e.seg,t),defaultGenerator:JU,timeText:c,isResizing:!1,isDateSelecting:!1}))}}function JU(n){return ne(Dt,null,ne("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&ne("div",{className:"fc-event-time"},n.timeText),ne("div",{className:"fc-event-title"},n.event.title||ne(Dt,null,"")))}class eB extends Tt{constructor(){super(...arguments),this.compileSegs=Ke(tB)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return ne(k8,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ne(Dt,null,t.map(l=>{let c=l.eventRange.instance.instanceId;return ne("div",{className:"fc-daygrid-event-harness",key:c,style:{visibility:a[c]?"hidden":""}},G2(l)?ne(Q2,Object.assign({seg:l,isDragging:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},vu(l,e.todayRange))):ne($2,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===e.eventSelection,defaultDisplayEventEnd:!1},vu(l,e.todayRange))))}))}})}}function tB(n){let e=[],t=[];for(let r of n)e.push(r.seg),r.isVisible||t.push(r.seg);return{allSegs:e,invisibleSegs:t}}const nB=sn({week:"narrow"});class rB extends ml{constructor(){super(...arguments),this.rootElRef=ns(),this.state={dayNumberId:Tm()},this.handleRootEl=e=>{ki(this.rootElRef,e),ki(this.props.elRef,e)}}render(){let{context:e,props:t,state:r,rootElRef:a}=this,{options:l,dateEnv:c}=e,{date:h,dateProfile:f}=t;const g=t.showDayNumber&&sB(h,f.currentRange,c);return ne(D2,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:iB,date:h,dateProfile:f,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:g,extraRenderProps:t.extraRenderProps},(b,v)=>ne("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&ne(_8,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:sb(e,h,"week"),date:h,defaultFormat:nB}),!v.isDisabled&&(t.showDayNumber||z2(l)||t.forceDayTop)?ne("div",{className:"fc-daygrid-day-top"},ne(b,{elTag:"a",elClasses:["fc-daygrid-day-number",g&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},sb(e,h)),{id:r.dayNumberId})})):t.showDayNumber?ne("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ne("a",{className:"fc-daygrid-day-number"},"")):void 0,ne("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,ne("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},ne(eB,{allDayDate:h,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),ne("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function iB(n){return n.dayNumberText||ne(Dt,null,"")}function sB(n,e,t){const{start:r,end:a}=e,l=aa(a,-1),c=t.getYear(r),h=t.getMonth(r),f=t.getYear(l),g=t.getMonth(l);return!(c===f&&h===g)&&(n.valueOf()===r.valueOf()||t.getDay(n)===1&&n.valueOf()<a.valueOf())}function Y2(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function W2(n){return Y2(n)+":"+n.lastCol}function aB(n,e,t,r,a,l,c){let h=new cB(D=>{let O=n[D.index].eventRange.instance.instanceId+":"+D.span.start+":"+(D.span.end-1);return a[O]||1});h.allowReslicing=!0,h.strictOrder=r,e===!0||t===!0?(h.maxCoord=l,h.hiddenConsumes=!0):typeof e=="number"?h.maxStackCnt=e:typeof t=="number"&&(h.maxStackCnt=t,h.hiddenConsumes=!0);let f=[],g=[];for(let D=0;D<n.length;D+=1){let O=n[D],F=W2(O);a[F]!=null?f.push({index:D,span:{start:O.firstCol,end:O.lastCol+1}}):g.push(O)}let b=h.addSegs(f),v=h.toRects(),{singleColPlacements:x,multiColPlacements:E,leftoverMargins:A}=lB(v,n,c),N=[],C=[];for(let D of g){E[D.firstCol].push({seg:D,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let O=D.firstCol;O<=D.lastCol;O+=1)x[O].push({seg:bo(D,O,O+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<c.length;D+=1)N.push(0);for(let D of b){let O=n[D.index],F=D.span;E[F.start].push({seg:bo(O,F.start,F.end,c),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let L=F.start;L<F.end;L+=1)N[L]+=1,x[L].push({seg:bo(O,L,L+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let D=0;D<c.length;D+=1)C.push(A[D]);return{singleColPlacements:x,multiColPlacements:E,moreCnts:N,moreMarginTops:C}}function lB(n,e,t){let r=oB(n,t.length),a=[],l=[],c=[];for(let h=0;h<t.length;h+=1){let f=r[h],g=[],b=0,v=0;for(let E of f){let A=e[E.index];g.push({seg:bo(A,h,h+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:E.levelCoord,marginTop:E.levelCoord-b}),b=E.levelCoord+E.thickness}let x=[];b=0,v=0;for(let E of f){let A=e[E.index],N=E.span.end-E.span.start>1,C=E.span.start===h;v+=E.levelCoord-b,b=E.levelCoord+E.thickness,N?(v+=E.thickness,C&&x.push({seg:bo(A,E.span.start,E.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:E.levelCoord,marginTop:0})):C&&(x.push({seg:bo(A,E.span.start,E.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:E.levelCoord,marginTop:v}),v=0)}a.push(g),l.push(x),c.push(v)}return{singleColPlacements:a,multiColPlacements:l,leftoverMargins:c}}function oB(n,e){let t=[];for(let r=0;r<e;r+=1)t.push([]);for(let r of n)for(let a=r.span.start;a<r.span.end;a+=1)t[a].push(r);return t}function bo(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;let a=n.eventRange,l=a.range,c=Ro(l,{start:r[e].date,end:an(r[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:c},isStart:n.isStart&&c.start.valueOf()===l.start.valueOf(),isEnd:n.isEnd&&c.end.valueOf()===l.end.valueOf()})}class cB extends LL{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:r}=this,a=l=>!this.forceHidden[xu(l)];for(let l=0;l<r.length;l+=1)r[l]=r[l].filter(a);return t}handleInvalidInsertion(e,t,r){const{entriesByLevel:a,forceHidden:l}=this,{touchingEntry:c,touchingLevel:h,touchingLateral:f}=e;if(this.hiddenConsumes&&c){const g=xu(c);if(!l[g])if(this.allowReslicing){const b=Object.assign(Object.assign({},c),{span:w2(c.span,t.span)}),v=xu(b);l[v]=!0,a[h][f]=b,r.push(b),this.splitEntry(c,t,r)}else l[g]=!0,r.push(c)}super.handleInvalidInsertion(e,t,r)}}class X2 extends ml{constructor(){super(...arguments),this.cellElRefs=new Wa,this.frameElRefs=new Wa,this.fgElRefs=new Wa,this.segHarnessRefs=new Wa,this.rootElRef=ns(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:r}=this,{options:a}=r,l=e.cells.length,c=Kh(e.businessHourSegs,l),h=Kh(e.bgEventSegs,l),f=Kh(this.getHighlightSegs(),l),g=Kh(this.getMirrorSegs(),l),{singleColPlacements:b,multiColPlacements:v,moreCnts:x,moreMarginTops:E}=aB(rL(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),A=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ne("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((N,C)=>{let D=this.renderFgSegs(C,e.forPrint?b[C]:v[C],e.todayRange,A),O=this.renderFgSegs(C,uB(g[C],v),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ne(rB,{key:N.key,elRef:this.cellElRefs.createRef(N.key),innerElRef:this.frameElRefs.createRef(N.key),dateProfile:e.dateProfile,date:N.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&C===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:N.extraRenderProps,extraDataAttrs:N.extraDataAttrs,extraClassNames:N.extraClassNames,extraDateSpan:N.extraDateSpan,moreCnt:x[C],moreMarginTop:E[C],singlePlacements:b[C],fgContentElRef:this.fgElRefs.createRef(N.key),fgContent:ne(Dt,null,ne(Dt,null,D),ne(Dt,null,O)),bgContent:ne(Dt,null,this.renderFillSegs(f[C],"highlight"),this.renderFillSegs(c[C],"non-business"),this.renderFillSegs(h[C],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let r=this.props;this.updateSizing(!qr(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,r,a,l,c,h){let{context:f}=this,{eventSelection:g}=this.props,{framePositions:b}=this.state,v=this.props.cells.length===1,x=l||c||h,E=[];if(b)for(let A of t){let{seg:N}=A,{instanceId:C}=N.eventRange.instance,D=A.isVisible&&!a[C],O=A.isAbsolute,F="",L="";O&&(f.isRtl?(L=0,F=b.lefts[N.lastCol]-b.lefts[N.firstCol]):(F=0,L=b.rights[N.firstCol]-b.rights[N.lastCol])),E.push(ne("div",{className:"fc-daygrid-event-harness"+(O?" fc-daygrid-event-harness-abs":""),key:Y2(N),ref:x?null:this.segHarnessRefs.createRef(W2(N)),style:{visibility:D?"":"hidden",marginTop:O?"":A.marginTop,top:O?A.absoluteTop:"",left:F,right:L}},G2(N)?ne(Q2,Object.assign({seg:N,isDragging:l,isSelected:C===g,defaultDisplayEventEnd:v},vu(N,r))):ne($2,Object.assign({seg:N,isDragging:l,isResizing:c,isDateSelecting:h,isSelected:C===g,defaultDisplayEventEnd:v},vu(N,r)))))}return E}renderFillSegs(e,t){let{isRtl:r}=this.context,{todayRange:a}=this.props,{framePositions:l}=this.state,c=[];if(l)for(let h of e){let f=r?{right:0,left:l.lefts[h.lastCol]-l.lefts[h.firstCol]}:{left:0,right:l.rights[h.firstCol]-l.rights[h.lastCol]};c.push(ne("div",{key:cL(h.eventRange),className:"fc-daygrid-bg-harness",style:f},t==="bg-event"?ne(y8,Object.assign({seg:h},vu(h,a))):x8(t)))}return ne(Dt,{},...c)}updateSizing(e){let{props:t,state:r,frameElRefs:a}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let f=t.cells.map(g=>a.currentMap[g.key]);if(f.length){let g=this.rootElRef.current,b=new Xf(g,f,!0,!1);(!r.framePositions||!r.framePositions.similarTo(b))&&this.setState({framePositions:new Xf(g,f,!0,!1)})}}const l=this.state.segHeights,c=this.querySegHeights(),h=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},l),c),maxContentHeight:h?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let r in e){let a=Math.round(e[r].getBoundingClientRect().height);t[r]=Math.max(t[r]||0,a)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}X2.addStateEquality({segHeights:qr});function uB(n,e){if(!n.length)return[];let t=dB(e);return n.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}))}function dB(n){let e={};for(let t of n)for(let r of t)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class hB extends ml{constructor(){super(...arguments),this.splitBusinessHourSegs=Ke(df),this.splitBgEventSegs=Ke(fB),this.splitFgEventSegs=Ke(df),this.splitDateSelectionSegs=Ke(df),this.splitEventDrag=Ke(oS),this.splitEventResize=Ke(oS),this.rowRefs=new Wa}render(){let{props:e,context:t}=this,r=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,r),l=this.splitBgEventSegs(e.bgEventSegs,r),c=this.splitFgEventSegs(e.fgEventSegs,r),h=this.splitDateSelectionSegs(e.dateSelectionSegs,r),f=this.splitEventDrag(e.eventDrag,r),g=this.splitEventResize(e.eventResize,r),b=r>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return ne(zm,{unit:"day"},(v,x)=>ne(Dt,null,e.cells.map((E,A)=>ne(X2,{ref:this.rowRefs.createRef(A),key:E.length?E[0].date.toISOString():A,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:x,dateProfile:e.dateProfile,cells:E,renderIntro:e.renderRowIntro,businessHourSegs:a[A],eventSelection:e.eventSelection,bgEventSegs:l[A],fgEventSegs:c[A],dateSelectionSegs:h[A],eventDrag:f[A],eventResize:g[A],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:b,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Xf(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Xf(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:r,rowPositions:a}=this,l=r.leftToIndex(e),c=a.topToIndex(t);if(c!=null&&l!=null){let h=this.props.cells[c][l];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(c,l),allDay:!0},h.extraDateSpan),dayEl:this.getCellEl(c,l),rect:{left:r.lefts[l],right:r.rights[l],top:a.tops[c],bottom:a.bottoms[c]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let r=this.props.cells[e][t].date,a=an(r,1);return{start:r,end:a}}}function fB(n,e){return df(n.filter(mB),e)}function mB(n){return n.eventRange.def.allDay}class gB extends ml{constructor(){super(...arguments),this.elRef=ns(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:r,expandRows:a}=e,l=r===!0||t===!0;l&&!a&&(l=!1,t=null,r=null);let c=["fc-daygrid-body",l?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return ne("div",{ref:this.elRef,className:c.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ne("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,ne("tbody",{role:"presentation"},ne(hB,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=pB(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),r=t.closest(".fc-scroller"),a=e.getBoundingClientRect().top-t.getBoundingClientRect().top;r.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function pB(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${qV(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${Ty(e.currentDate)}"]`)),t}class bB extends WL{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class yB extends ml{constructor(){super(...arguments),this.slicer=new bB,this.tableRef=ns()}render(){let{props:e,context:t}=this;return ne(gB,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class vB extends ZU{constructor(){super(...arguments),this.buildDayTableModel=Ke(xB),this.headerRef=ns(),this.tableRef=ns()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:r}=this,a=this.buildDayTableModel(r.dateProfile,t),l=e.dayHeaders&&ne(GL,{ref:this.headerRef,dateProfile:r.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),c=h=>ne(yB,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:a,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:h.tableColGroupNode,tableMinWidth:h.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:h.clientWidth,clientHeight:h.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(l,c,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(l,c)}}function xB(n,e){let t=new QL(n.renderRange,e);return new YL(t,/year|month|week/.test(n.currentRangeUnit))}class _B extends n2{buildRenderRange(e,t,r){let a=super.buildRenderRange(e,t,r),{props:l}=this;return wB({currentRange:a,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:l.fixedWeekCount,dateEnv:l.dateEnv})}}function wB(n){let{dateEnv:e,currentRange:t}=n,{start:r,end:a}=t,l;if(n.snapToWeek&&(r=e.startOfWeek(r),l=e.startOfWeek(a),l.valueOf()!==a.valueOf()&&(a=jE(l,1))),n.fixedWeekCount){let c=e.startOfWeek(e.startOfMonth(an(t.end,-1))),h=Math.ceil(zV(c,a));a=jE(a,6-h)}return{start:r,end:a}}var EB=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';LT(EB);var SB=da({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:vB,dateProfileGeneratorClass:_B},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});qy.touchMouseIgnoreWait=500;let lb=0,Kf=0,ob=!1;class K2{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&kB(t)&&this.tryStart(t)){let r=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let r=this.createEventFromMouse(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let r=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let a=t.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let r=this.createEventFromTouch(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=t=>{if(this.isDragging){let r=t.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,AB()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:r-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new Dm,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),TB()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),CB()}tryStart(e){let t=this.querySubjectEl(e),r=e.target;return t&&(!this.handleSelector||En(r,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){ob=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?En(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return lb||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ob=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let r=0,a=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:a}}createEventFromTouch(e,t){let r=e.touches,a,l,c=0,h=0;return r&&r.length?(a=r[0].pageX,l=r[0].pageY):(a=e.pageX,l=e.pageY),t?(this.origPageX=a,this.origPageY=l):(c=a-this.origPageX,h=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:l,deltaX:c,deltaY:h}}}function kB(n){return n.button===0&&!n.ctrlKey}function AB(){lb+=1,setTimeout(()=>{lb-=1},qy.touchMouseIgnoreWait)}function TB(){Kf+=1,Kf===1&&window.addEventListener("touchmove",Z2,{passive:!1})}function CB(){Kf-=1,Kf||window.removeEventListener("touchmove",Z2,{passive:!1})}function Z2(n){ob&&n.preventDefault()}class NB{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let r=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,t){let r=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",pu(r,{left:a.left,top:a.top}),mV(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Sy(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&pu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),pu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class J2 extends Fy{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class eC extends J2{constructor(e,t){super(new VL(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return IL(this.scrollController.el)}}class RB extends J2{constructor(e){super(new PL,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const cS=typeof performance=="function"?performance.now:Date.now;class DB{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=cS();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let r=e-window.scrollX,a=t-window.scrollY,l=this.pointerScreenY===null?0:a-this.pointerScreenY,c=this.pointerScreenX===null?0:r-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),c<0?this.everMovedLeft=!0:c>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(cS()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:r}=e,{edgeThreshold:a}=this,l=a-e.distance,c=l*l/(a*a)*this.maxVelocity*t,h=1;switch(e.name){case"left":h=-1;case"right":r.setScrollLeft(r.getScrollLeft()+c*h);break;case"top":h=-1;case"bottom":r.setScrollTop(r.getScrollTop()+c*h);break}}computeBestEdge(e,t){let{edgeThreshold:r}=this,a=null,l=this.scrollCaches||[];for(let c of l){let h=c.clientRect,f=e-h.left,g=h.right-e,b=t-h.top,v=h.bottom-t;f>=0&&g>=0&&b>=0&&v>=0&&(b<=r&&this.everMovedUp&&c.canScrollUp()&&(!a||a.distance>b)&&(a={scrollCache:c,name:"top",distance:b}),v<=r&&this.everMovedDown&&c.canScrollDown()&&(!a||a.distance>v)&&(a={scrollCache:c,name:"bottom",distance:v}),f<=r&&this.everMovedLeft&&c.canScrollLeft()&&(!a||a.distance>f)&&(a={scrollCache:c,name:"left",distance:f}),g<=r&&this.everMovedRight&&c.canScrollRight()&&(!a||a.distance>g)&&(a={scrollCache:c,name:"right",distance:g}))}return a}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new RB(!1):new eC(t,!1))}queryScrollEls(e){let t=[];for(let r of this.scrollQuery)typeof r=="object"?t.push(r):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return t}}class id extends UL{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,gV(document.body),bV(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let l=this.minDistance,c,{deltaX:h,deltaY:f}=a;c=h*h+f*f,c>=l*l&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,pV(document.body),yV(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new K2(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),t&&(r.selector=t),this.mirror=new NB,this.autoScroller=new DB}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class zB{constructor(e){this.el=e,this.origRect=Hy(e),this.scrollCaches=_2(e).map(t=>new eC(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let r={left:e,top:t};for(let a of this.scrollCaches)if(!jB(a.getEventTarget())&&!SL(r,a.clientRect))return!1;return!0}}function jB(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class jm{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):a.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Dm}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},r=t,a=e.subjectEl,l;a instanceof HTMLElement&&(l=Hy(a),r=kL(r,l));let c=this.initialHit=this.queryHitForOffset(r.left,r.top);if(c){if(this.useSubjectCenter&&l){let h=y2(l,c.rect);h&&(r=AL(h))}this.coordAdjust=TL(r,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Mm(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=dl(this.droppableStore,e=>(e.component.prepareHits(),new zB(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:r,offsetTrackers:a}=this,l=null;for(let c in r){let h=r[c].component,f=a[c];if(f&&f.isWithinClipping(e,t)){let g=f.computeLeft(),b=f.computeTop(),v=e-g,x=t-b,{origRect:E}=f,A=E.right-E.left,N=E.bottom-E.top;if(v>=0&&v<A&&x>=0&&x<N){let C=h.queryHit(v,x,A,N);C&&Nm(C.dateProfile.activeRange,C.dateSpan.range)&&(this.disablePointCheck||f.el.contains(f.el.getRootNode().elementFromPoint(v+g-window.scrollX,x+b-window.scrollY)))&&(!l||C.layer>l.layer)&&(C.componentId=c,C.context=h.context,C.rect.left+=g,C.rect.right+=g,C.rect.top+=b,C.rect.bottom+=b,l=C)}}}return l}}function Mm(n,e){return!n&&!e?!0:!!n!=!!e?!1:fL(n.dateSpan,e.dateSpan)}function tC(n,e){let t={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(t,r(n,e));return Object.assign(t,MB(n,e.dateEnv)),t}function MB(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class IB extends Go{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:a}=this,l=r.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(l))},this.handleDragEnd=r=>{let{component:a}=this,{pointer:l}=this.dragging;if(!l.wasTouchScroll){let{initialHit:c,finalHit:h}=this.hitDragging;if(c&&h&&Mm(c,h)){let{context:f}=a,g=Object.assign(Object.assign({},tC(c.dateSpan,f)),{dayEl:c.dayEl,jsEvent:r.origEvent,view:f.viewApi||f.calendarApi.view});f.emitter.trigger("dateClick",g)}}},this.dragging=new id(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new jm(this.dragging,Uy(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class OB extends Go{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=c=>{let{component:h,dragging:f}=this,{options:g}=h.context,b=g.selectable&&h.isValidDateDownEl(c.origEvent.target);f.setIgnoreMove(!b),f.delay=c.isTouch?VB(h):null},this.handleDragStart=c=>{this.component.context.calendarApi.unselect(c)},this.handleHitUpdate=(c,h)=>{let{context:f}=this.component,g=null,b=!1;if(c){let v=this.hitDragging.initialHit;c.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,c)||(g=PB(v,c,f.pluginHooks.dateSelectionTransformers)),(!g||!XL(g,c.dateProfile,f))&&(b=!0,g=null)}g?f.dispatch({type:"SELECT_DATES",selection:g}):h||f.dispatch({type:"UNSELECT_DATES"}),b?ky():Ay(),h||(this.dragSelection=g)},this.handlePointerUp=c=>{this.dragSelection&&(u2(this.dragSelection,c,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:r}=t.context,a=this.dragging=new id(e.el);a.touchScrollAllowed=!1,a.minDistance=r.selectMinDistance||0,a.autoScroller.isEnabled=r.dragScroll;let l=this.hitDragging=new jm(this.dragging,Uy(e));l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function VB(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function PB(n,e,t){let r=n.dateSpan,a=e.dateSpan,l=[r.range.start,r.range.end,a.range.start,a.range.end];l.sort(EV);let c={};for(let h of t){let f=h(n,e);if(f===!1)return null;f&&Object.assign(c,f)}return c.range={start:l[0],end:l[3]},c.allDay=r.allDay,c}class sd extends Go{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let h=c.origEvent.target,{component:f,dragging:g}=this,{mirror:b}=g,{options:v}=f.context,x=f.context;this.subjectEl=c.subjectEl;let E=this.subjectSeg=Do(c.subjectEl),N=(this.eventRange=E.eventRange).instance.instanceId;this.relevantEvents=Oy(x.getCurrentData().eventStore,N),g.minDistance=c.isTouch?0:v.eventDragMinDistance,g.delay=c.isTouch&&N!==f.props.eventSelection?UB(f):null,v.fixedMirrorParent?b.parentNode=v.fixedMirrorParent:b.parentNode=En(h,".fc"),b.revertDuration=v.dragRevertDuration;let C=f.isValidSegDownEl(h)&&!En(h,".fc-event-resizer");g.setIgnoreMove(!C),this.isDragging=C&&c.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=c=>{let h=this.component.context,f=this.eventRange,g=f.instance.instanceId;c.isTouch?g!==this.component.props.eventSelection&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:g}):h.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(h.calendarApi.unselect(c),h.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Et(h,f.def,f.instance),jsEvent:c.origEvent,view:h.viewApi}))},this.handleHitUpdate=(c,h)=>{if(!this.isDragging)return;let f=this.relevantEvents,g=this.hitDragging.initialHit,b=this.component.context,v=null,x=null,E=null,A=!1,N={affectedEvents:f,mutatedEvents:Br(),isEvent:!0};if(c){v=c.context;let C=v.options;b===v||C.editable&&C.droppable?(x=LB(g,c,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),x&&(E=Ly(f,v.getCurrentData().eventUiBases,x,v),N.mutatedEvents=E,k2(N,c.dateProfile,v)||(A=!0,x=null,E=null,N.mutatedEvents=Br()))):v=null}this.displayDrag(v,N),A?ky():Ay(),h||(b===v&&Mm(g,c)&&(x=null),this.dragging.setMirrorNeedsRevert(!x),this.dragging.setMirrorIsVisible(!c||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=x,this.mutatedRelevantEvents=E)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=c=>{if(this.isDragging){let h=this.component.context,f=h.viewApi,{receivingContext:g,validMutation:b}=this,v=this.eventRange.def,x=this.eventRange.instance,E=new Et(h,v,x),A=this.relevantEvents,N=this.mutatedRelevantEvents,{finalHit:C}=this.hitDragging;if(this.clearDrag(),h.emitter.trigger("eventDragStop",{el:this.subjectEl,event:E,jsEvent:c.origEvent,view:f}),b){if(g===h){let D=new Et(h,N.defs[v.defId],x?N.instances[x.instanceId]:null);h.dispatch({type:"MERGE_EVENTS",eventStore:N});let O={oldEvent:E,event:D,relatedEvents:Ja(N,h,x),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:A})}},F={};for(let L of h.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(F,L(b,h));h.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},O),F),{el:c.subjectEl,delta:b.datesDelta,jsEvent:c.origEvent,view:f})),h.emitter.trigger("eventChange",O)}else if(g){let D={event:E,relatedEvents:Ja(A,h,x),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:A})}};h.emitter.trigger("eventLeave",Object.assign(Object.assign({},D),{draggedEl:c.subjectEl,view:f})),h.dispatch({type:"REMOVE_EVENTS",eventStore:A}),h.emitter.trigger("eventRemove",D);let O=N.defs[v.defId],F=N.instances[x.instanceId],L=new Et(g,O,F);g.dispatch({type:"MERGE_EVENTS",eventStore:N});let W={event:L,relatedEvents:Ja(N,g,F),revert(){g.dispatch({type:"REMOVE_EVENTS",eventStore:N})}};g.emitter.trigger("eventAdd",W),c.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:x.instanceId}),g.emitter.trigger("drop",Object.assign(Object.assign({},tC(C.dateSpan,g)),{draggedEl:c.subjectEl,jsEvent:c.origEvent,view:C.context.viewApi})),g.emitter.trigger("eventReceive",Object.assign(Object.assign({},W),{draggedEl:c.subjectEl,view:C.context.viewApi}))}}else h.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:r}=t.context,a=this.dragging=new id(e.el);a.pointer.selector=sd.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=r.dragScroll;let l=this.hitDragging=new jm(this.dragging,ib);l.useSubjectCenter=e.useEventCenter,l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let r=this.component.context,a=this.receivingContext;a&&a!==e&&(a===r?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Br(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}sd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function LB(n,e,t,r){let a=n.dateSpan,l=e.dateSpan,c=a.range.start,h=l.range.start,f={};a.allDay!==l.allDay&&(f.allDay=l.allDay,f.hasEnd=e.context.options.allDayMaintainDuration,l.allDay?c=wt(t):c=t);let g=fo(c,h,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);g.milliseconds&&(f.allDay=!1);let b={datesDelta:g,standardProps:f};for(let v of r)v(b,n,e);return b}function UB(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class BB extends Go{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let{component:c}=this,h=this.querySegEl(l),f=Do(h),g=this.eventRange=f.eventRange;this.dragging.minDistance=c.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&this.component.props.eventSelection!==g.instance.instanceId)},this.handleDragStart=l=>{let{context:c}=this.component,h=this.eventRange;this.relevantEvents=Oy(c.getCurrentData().eventStore,this.eventRange.instance.instanceId);let f=this.querySegEl(l);this.draggingSegEl=f,this.draggingSeg=Do(f),c.calendarApi.unselect(),c.emitter.trigger("eventResizeStart",{el:f,event:new Et(c,h.def,h.instance),jsEvent:l.origEvent,view:c.viewApi})},this.handleHitUpdate=(l,c,h)=>{let{context:f}=this.component,g=this.relevantEvents,b=this.hitDragging.initialHit,v=this.eventRange.instance,x=null,E=null,A=!1,N={affectedEvents:g,mutatedEvents:Br(),isEvent:!0};l&&(l.componentId===b.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(b,l)||(x=HB(b,l,h.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),x&&(E=Ly(g,f.getCurrentData().eventUiBases,x,f),N.mutatedEvents=E,k2(N,l.dateProfile,f)||(A=!0,x=null,E=null,N.mutatedEvents=null)),E?f.dispatch({type:"SET_EVENT_RESIZE",state:N}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),A?ky():Ay(),c||(x&&Mm(b,l)&&(x=null),this.validMutation=x,this.mutatedRelevantEvents=E)},this.handleDragEnd=l=>{let{context:c}=this.component,h=this.eventRange.def,f=this.eventRange.instance,g=new Et(c,h,f),b=this.relevantEvents,v=this.mutatedRelevantEvents;if(c.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:g,jsEvent:l.origEvent,view:c.viewApi}),this.validMutation){let x=new Et(c,v.defs[h.defId],f?v.instances[f.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:v});let E={oldEvent:g,event:x,relatedEvents:Ja(v,c,f),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:b})}};c.emitter.trigger("eventResize",Object.assign(Object.assign({},E),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||tt(0),endDelta:this.validMutation.endDelta||tt(0),jsEvent:l.origEvent,view:c.viewApi})),c.emitter.trigger("eventChange",E)}else c.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,r=this.dragging=new id(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=t.context.options.dragScroll;let a=this.hitDragging=new jm(this.dragging,Uy(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return En(e.subjectEl,".fc-event")}}function HB(n,e,t,r){let a=n.context.dateEnv,l=n.dateSpan.range.start,c=e.dateSpan.range.start,h=fo(l,c,a,n.largeUnit);if(t){if(a.add(r.start,h)<r.end)return{startDelta:h}}else if(a.add(r.end,h)>r.start)return{endDelta:h};return null}class FB{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let a=this.context.options.unselectCancel,l=FT(r.origEvent);this.matchesCancel=!!En(l,a),this.matchesEvent=!!En(l,sd.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:a}=this,{documentPointer:l}=this,c=a.getCurrentData();if(!l.wasTouchScroll){if(c.dateSelection&&!this.isRecentPointerDateSelect){let h=a.options.unselectAuto;h&&(!h||!this.matchesCancel)&&a.calendarApi.unselect(r)}c.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new K2(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const qB={fixedMirrorParent:ee},GB={dateClick:ee,eventDragStart:ee,eventDragStop:ee,eventDrop:ee,eventResizeStart:ee,eventResizeStop:ee,eventResize:ee,drop:ee,eventReceive:ee,eventLeave:ee};qy.dataAttrPrefix="";var $B=da({name:"@fullcalendar/interaction",componentInteractions:[IB,OB,sd,BB],calendarInteractions:[FB],elementDraggingImpl:id,optionRefiners:qB,listenerRefiners:GB});const QB=n=>{const e=n.hasStartStat,t=n.hasEndStat;let r={text:"Scheduled",value:"scheduled",icon:pn,colors:{bg:"bg-zinc-100 dark:bg-zinc-800",text:"text-zinc-500 dark:text-zinc-400",border:"border-zinc-200 dark:border-zinc-800",accent:"bg-zinc-400",gradient:"from-blue-500 to-indigo-600",softBg:"bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400"},pulse:!1};return t?r={text:"Completed",value:"completed",icon:ar,colors:{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800/50",accent:"bg-emerald-500",gradient:"from-emerald-500 to-teal-600",softBg:"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"},pulse:!1}:e&&(r={text:"Live",value:"live",icon:Sb,colors:{bg:"bg-orange-50 dark:bg-orange-900/20",text:"text-orange-600 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800/50",accent:"bg-orange-500",gradient:"from-orange-500 to-red-500",softBg:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"},pulse:!0}),r},YB=n=>n?new Date(n).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"-";function WB({isOpen:n,onClose:e,matchData:t}){const[r,a]=M.useState({start:null,end:null,loading:!1});if(M.useEffect(()=>{n&&(async()=>{if(!(!t?.id||!n)){a(v=>({...v,loading:!0}));try{const v=_t(Ie,"schedules",t.id,"statistics","start_stat"),x=_t(Ie,"schedules",t.id,"statistics","end_stat"),[E,A]=await Promise.all([zf(v),zf(x)]);a({start:E.exists()?E.data():null,end:A.exists()?A.data():null,loading:!1})}catch(v){console.error("Error fetching stats:",v),a(x=>({...x,loading:!1}))}}})()},[t?.id,n]),!n||!t)return null;const l=QB(t),c=l.icon,h=b=>{navigator.clipboard.writeText(b)},f=b=>b?.val?`${b.val} ${b.unit||"GB"}`:"-",g=b=>{if(!b?.val)return b||"-";const v=parseFloat(b.val),x=b.unit||"k";let E;switch(x.toLowerCase()){case"m":E=v*1e6;break;case"k":E=v*1e3;break;case"b":E=v*1e9;break;default:E=v}return E.toLocaleString("en-US",{maximumFractionDigits:0})};return r.start,r.end,u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",onClick:e,children:u.jsxs("div",{className:"relative bg-white dark:bg-[#0a0a0a] w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 ring-1 ring-white/10",onClick:b=>b.stopPropagation(),children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-64 overflow-hidden -z-10",children:u.jsx("div",{className:`absolute -top-[50%] -left-[20%] w-[140%] h-[140%] bg-gradient-to-br ${l.colors.gradient} opacity-20 blur-3xl`})}),u.jsxs("div",{className:"relative p-8 pb-0",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-black uppercase tracking-wide shadow-sm ${l.colors.softBg}`,children:[u.jsx(c,{size:12,className:l.pulse?"animate-pulse":""}),l.text]}),u.jsx("button",{onClick:e,className:"p-2 -mr-2 -mt-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors text-zinc-500 dark:text-zinc-400",children:u.jsx(kn,{size:20})})]}),u.jsx("div",{className:"mb-6",children:u.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-zinc-900 dark:text-white leading-tight",children:t.teamA&&t.teamB?u.jsxs("span",{className:"flex flex-col gap-1",children:[u.jsx("span",{children:t.teamA}),u.jsx("span",{className:"text-xl text-zinc-400 font-bold",children:"vs"}),u.jsx("span",{children:t.teamB})]}):t.title||t.match||"Match Details"})}),t.league&&u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-zinc-100 dark:bg-white/5 rounded-lg text-zinc-600 dark:text-zinc-300",children:[u.jsx(gf,{size:14,className:"text-zinc-400"}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:t.league})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{onClick:()=>h(t.id),className:"group relative overflow-hidden bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 p-4 transition-all hover:shadow-md cursor-pointer",title:"Click to copy ID",children:[u.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Su,{size:14,className:"text-zinc-400"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-white dark:bg-zinc-800 rounded-xl shadow-sm text-zinc-400 group-hover:text-zinc-900 dark:group-hover:text-white transition-colors",children:u.jsx(wb,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-wider block mb-0.5",children:"Match Reference ID"}),u.jsx("span",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300 tracking-wide group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:t.id})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-100 dark:border-zinc-800/50 flex flex-col items-center text-center gap-2",children:[u.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-full text-blue-500 mb-1",children:u.jsx(sr,{size:16})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block",children:"Date"}),u.jsx("span",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300",children:YB(t.startDate)})]})]}),u.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-100 dark:border-zinc-800/50 flex flex-col items-center text-center gap-2 relative overflow-hidden",children:[l.value==="live"&&u.jsxs("span",{className:"absolute top-2 right-2 flex h-2 w-2",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),u.jsx("div",{className:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-full text-orange-500 mb-1",children:u.jsx(pn,{size:16})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block",children:"Kick Off"}),u.jsx("span",{className:"text-xl font-black text-zinc-900 dark:text-white",children:t.startTime||"-"})]})]})]}),t.channel&&u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-xl shadow-indigo-500/20",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:u.jsx(pf,{size:64})}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 opacity-80",children:[u.jsx(pf,{size:14}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Broadcast Channel"})]}),u.jsx("div",{className:"text-2xl font-black tracking-tight leading-none break-words",children:t.channel})]})]})]}),u.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-2xl overflow-hidden shadow-sm",children:[u.jsxs("div",{className:"p-4 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tr,{size:16,className:"text-zinc-400"}),u.jsx("h4",{className:"text-xs font-black text-zinc-600 dark:text-zinc-300 uppercase tracking-widest",children:"Performance Report"})]}),(l.value==="live"||l.value==="completed")&&u.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${l.value==="live"?"bg-red-100 text-red-600 animate-pulse":"bg-green-100 text-green-600"}`,children:l.text})]}),u.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar bg-zinc-50/30 dark:bg-black/20",children:l.value==="live"||l.value==="completed"?u.jsx(u.Fragment,{children:r.loading?u.jsxs("div",{className:"flex flex-col items-center justify-center h-48 space-y-4",children:[u.jsx(Zs,{className:"w-8 h-8 text-zinc-300 animate-spin"}),u.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest animate-pulse",children:"Fetching Data..."})]}):u.jsxs("div",{className:"space-y-4",children:[r.start&&u.jsx(uS,{title:"Start Phase",range:r.start.rangeStart,data:r.start,color:"indigo",formatBw:f,formatReq:g}),r.end&&u.jsx(uS,{title:"End Phase",range:r.end.rangeEnd,data:r.end,color:"emerald",formatBw:f,formatReq:g}),!r.start&&!r.end&&u.jsxs("div",{className:"text-center py-12 flex flex-col items-center opacity-50",children:[u.jsx(tr,{size:32,className:"text-zinc-300 mb-2"}),u.jsx("p",{className:"text-xs text-zinc-400 font-bold uppercase tracking-wide",children:"No statistics recorded"})]})]})}):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center opacity-50",children:[u.jsx("div",{className:"p-4 bg-zinc-100 dark:bg-zinc-800/50 rounded-full text-zinc-300 dark:text-zinc-600 mb-3",children:u.jsx(tr,{size:32})}),u.jsx("h4",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Awaiting Data"})]})})]})]})}),u.jsx("div",{className:"px-8 pb-8 pt-2",children:u.jsx("button",{onClick:e,className:"w-full py-4 bg-zinc-900 dark:bg-white hover:bg-zinc-800 dark:hover:bg-zinc-200 rounded-2xl text-white dark:text-black text-sm font-black uppercase tracking-widest transition-all shadow-lg hover:shadow-xl active:scale-[0.98]",children:"Close Details"})})]})})}function uS({title:n,range:e,data:t,color:r,formatBw:a,formatReq:l}){const c=t.cdnDetails&&t.cdnDetails.length>0,h={indigo:{text:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/20",border:"border-indigo-100 dark:border-indigo-800/50",gradient:"from-indigo-50 to-white dark:from-indigo-900/10 dark:to-transparent"},emerald:{text:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-100 dark:border-emerald-800/50",gradient:"from-emerald-50 to-white dark:from-emerald-900/10 dark:to-transparent"}}[r]||h.indigo;return u.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:`px-4 py-2 bg-gradient-to-r ${h.gradient} border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-[10px] font-black ${h.text} uppercase tracking-widest`,children:n}),c&&u.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-zinc-100 dark:bg-zinc-800 text-zinc-500 rounded uppercase",children:"Multi-CDN"})]}),u.jsx("span",{className:"text-[10px] font-mono text-zinc-400 bg-white dark:bg-zinc-800 px-1.5 rounded",children:e||"-"})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-2 mb-4",children:[u.jsx(nu,{label:"Total Bandwidth",value:a(t.bandwidth),highlight:!0,color:h.text}),u.jsx(nu,{label:"Total Requests",value:l(t.reqTotal)}),!c&&u.jsxs(u.Fragment,{children:[u.jsx(nu,{label:"Peak Bandwidth",value:a(t.bwPeakGbps)}),u.jsx(nu,{label:"Peak Requests",value:t.reqPeakMin||t.requestPeak||"-"}),u.jsx(nu,{label:"CDN Provider",value:t.cdn||"Single",colSpan:2})]})]}),c&&u.jsxs("div",{className:"space-y-3 pt-3 border-t border-zinc-100 dark:border-zinc-800/50",children:[u.jsxs("h5",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[u.jsx(nm,{size:10})," Provider Breakdown"]}),u.jsx("div",{className:"grid gap-2",children:t.cdnDetails.map((f,g)=>u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-100 dark:border-zinc-800",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-1.5 bg-white dark:bg-zinc-800 rounded-md shadow-sm",children:u.jsx(Au,{size:12,className:"text-zinc-400"})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] font-bold text-zinc-700 dark:text-zinc-300 block leading-none",children:f.provider}),u.jsx("span",{className:"text-[9px] text-zinc-400 font-mono",children:f.key||"-"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] font-bold text-zinc-900 dark:text-white leading-none mb-0.5",children:a(f.bandwidth)}),u.jsx("div",{className:"text-[9px] font-medium text-zinc-400",children:l(f.reqTotal)})]})]},g))})]})]})]})}function nu({label:n,value:e,highlight:t,color:r,colSpan:a}){return u.jsxs("div",{className:`flex flex-col ${a?`col-span-${a}`:""}`,children:[u.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider mb-1",children:n}),u.jsx("span",{className:`font-mono font-bold truncate ${t?`text-lg ${r||"text-zinc-900 dark:text-white"}`:"text-sm text-zinc-700 dark:text-zinc-300"}`,children:e||"-"})]})}const dS="https://script.google.com/macros/s/AKfycbx5ngxY4YuUCQsyGjjudXuuTX5bWU-yZIT-osINDoKQJpO3Jjgs8Yp6hV0GoGUdL0ni/exec";function XB({isOpen:n,onClose:e,onSyncComplete:t}){const[r,a]=M.useState("daily"),[l,c]=M.useState(new Date().toISOString().split("T")[0]),[h,f]=M.useState(new Date().toISOString().slice(0,7)),[g,b]=M.useState(!1),[v,x]=M.useState([]),[E,A]=M.useState(null),[N,C]=M.useState(!1),[D,O]=M.useState(null),F=async()=>{b(!0),A(null),x([]);const W=r==="daily"?l:h;try{console.log(`fetching mode: ${r}, param: ${W}`);const q=await fetch(`${dS}?date=${W}`);if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const R=await q.json();if(Array.isArray(R)&&R.length>0&&R[0].error){A(R[0].error);return}const k=Array.isArray(R)?R:R.data||[];if(k.length===0){A("No matches found for the selected period.");return}const U=k.map(I=>{const H=I.match||I.title||I.Match||I.Title||"";let P=H,Se="";if(H.includes(" vs ")){const De=H.split(" vs ");P=De[0].trim(),Se=De[1]?De[1].trim():""}return{id:I.id,time:I.time||I.startTime||I.Time||"",league:I.league||I.calendar||I.League||"",match:H,teamA:P,teamB:Se,channel:I.channel||I.Channel||"",startDate:I.startDate||(r==="daily"?l:""),status:"Scheduled"}}).filter((I,H,P)=>H===P.findIndex(Se=>Se.startDate===I.startDate&&Se.time===I.time&&Se.match===I.match));U.sort((I,H)=>new Date(`${I.startDate}T${I.time}`)-new Date(`${H.startDate}T${H.time}`)),x(U)}catch(q){console.error("Fetch Error:",q),A(`Failed to fetch: ${q.message}`)}finally{b(!1)}},L=async()=>{if(v.length!==0){C(!0),A(null),O(null);try{const W=Mf(Ie),q=v.length;v.forEach(R=>{const k=R.id,j=_t(Ie,"schedules",k);W.set(j,{...R,title:R.match,startTime:R.time,teamA:R.teamA,teamB:R.teamB,updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1},{merge:!0})}),await W.commit(),O(`Successfully imported ${q} matches!`),x([]),setTimeout(()=>{O(null),t&&t(),e()},1500)}catch(W){console.error("Save error:",W),A("Failed to save to database: "+W.message)}finally{C(!1)}}};return n?u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:u.jsxs("div",{className:"bg-white dark:bg-[#121212] w-full max-w-2xl rounded-[2rem] border border-zinc-200 dark:border-zinc-800 shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",children:[u.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-indigo-600 sticky top-0 z-10",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4 text-white",children:[u.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl shadow-inner",children:u.jsx(A0,{size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black uppercase tracking-tight leading-none",children:"Sync Matches"}),u.jsx("p",{className:"text-[10px] font-bold opacity-80 uppercase tracking-widest mt-1",children:"Import from Google Sheets"})]})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors text-white",children:u.jsx(kn,{size:20})})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[u.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900/50 p-1.5 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[u.jsxs("button",{onClick:()=>{a("daily"),x([])},className:`flex-1 py-3 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 transition-all ${r==="daily"?"bg-white dark:bg-black shadow-md text-blue-600 dark:text-blue-400":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[u.jsx($z,{size:16})," Daily Sync"]}),u.jsxs("button",{onClick:()=>{a("monthly"),x([])},className:`flex-1 py-3 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 transition-all ${r==="monthly"?"bg-white dark:bg-black shadow-md text-indigo-600 dark:text-indigo-400":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[u.jsx(LD,{size:16})," Monthly Sync"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[u.jsxs("div",{className:"flex-1 w-full space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest pl-1",children:r==="daily"?"Select Date":"Select Month"}),u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-zinc-400 group-focus-within:text-blue-500 transition-colors",children:u.jsx(sr,{size:18})}),r==="daily"?u.jsx("input",{type:"date",value:l,onChange:W=>c(W.target.value),className:"w-full bg-zinc-50 dark:bg-[#1a1a1a] border border-zinc-200 dark:border-zinc-800 rounded-xl py-3.5 pl-12 pr-4 font-bold text-zinc-900 dark:text-zinc-100 outline-none focus:ring-2 focus:ring-blue-500/20 transition-all text-sm uppercase cursor-pointer"}):u.jsx("input",{type:"month",value:h,onChange:W=>f(W.target.value),className:"w-full bg-zinc-50 dark:bg-[#1a1a1a] border border-zinc-200 dark:border-zinc-800 rounded-xl py-3.5 pl-12 pr-4 font-bold text-zinc-900 dark:text-zinc-100 outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all text-sm uppercase cursor-pointer"})]})]}),u.jsxs("button",{onClick:F,disabled:g,className:"w-full sm:w-auto h-[50px] px-8 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-xl font-black uppercase tracking-widest text-xs hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg hover:shadow-xl active:scale-95",children:[g?u.jsx(Zs,{size:16,className:"animate-spin"}):u.jsx(FS,{size:16}),g?"Fetching...":"Fetch"]})]}),E&&u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 text-red-600 dark:text-red-400 rounded-xl flex items-center gap-3 text-xs font-bold animate-in slide-in-from-top-2",children:[u.jsx(Sr,{size:18,className:"shrink-0"}),E]}),D&&u.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-xl flex items-center gap-3 text-xs font-bold animate-in slide-in-from-top-2",children:[u.jsx(ar,{size:18,className:"shrink-0"}),D]}),u.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-2xl overflow-hidden bg-zinc-50 dark:bg-[#050505] min-h-[250px] shadow-sm relative",children:v.length===0?u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-zinc-300 dark:text-zinc-700",children:[u.jsx(A0,{size:48,className:"mb-4 opacity-20"}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:"No Data Fetched Yet"})]}):u.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{className:"bg-zinc-100 dark:bg-[#151515] text-[10px] font-black uppercase tracking-widest text-zinc-500 sticky top-0 z-10 shadow-sm",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 w-24",children:"Date"}),u.jsx("th",{className:"p-4 w-20",children:"Time"}),u.jsx("th",{className:"p-4",children:"Match"}),u.jsx("th",{className:"p-4 w-32",children:"Channel"})]})}),u.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800 text-xs font-medium text-zinc-700 dark:text-zinc-300",children:v.map((W,q)=>u.jsxs("tr",{className:"hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-colors group",children:[u.jsxs("td",{className:"p-4 text-zinc-500 whitespace-nowrap font-mono",children:[new Date(W.startDate).getDate(),"/",new Date(W.startDate).getMonth()+1]}),u.jsx("td",{className:"p-4 font-mono font-bold",children:W.time}),u.jsx("td",{className:"p-4 font-bold text-zinc-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:W.match}),u.jsx("td",{className:"p-4 text-blue-500 font-bold uppercase text-[10px]",children:W.channel})]},q))})]})})})]}),u.jsxs("div",{className:"p-6 border-t border-zinc-200 dark:border-zinc-800 flex justify-end gap-3 bg-white dark:bg-[#121212] z-10",children:[u.jsx("button",{onClick:e,className:"px-6 py-3.5 rounded-xl font-black uppercase tracking-widest text-xs text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all",children:"Cancel"}),u.jsxs("button",{onClick:L,disabled:v.length===0||N,className:`px-8 py-3.5 rounded-xl font-black uppercase tracking-widest text-xs flex items-center gap-2 shadow-lg transition-all transform active:scale-95 ${v.length>0?"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-blue-500/25":"bg-zinc-200 dark:bg-zinc-800 text-zinc-400 cursor-not-allowed"}`,children:[N?u.jsx(Zs,{size:16,className:"animate-spin"}):u.jsx(tm,{size:16}),N?"Importing...":`Import ${v.length} Matches`]})]})]})}):null}function KB(){const n=Io(),{matches:e,groupedData:t,loading:r}=yT(),[a,l]=M.useState("calendar"),[c,h]=M.useState(null),[f,g]=M.useState(!1),[b,v]=M.useState(!1),[x,E]=M.useState(""),[A,N]=M.useState({}),C=e.some(L=>L.startDate===new Date().toISOString().split("T")[0]),D=M.useMemo(()=>e.map(L=>({id:L.id,title:L.teamA&&L.teamB?`${L.startTime} ${L.teamA} vs ${L.teamB}`:`${L.startTime} ${L.title||"Match"}`,start:L.startDate,extendedProps:{...L,isCompleted:L.hasStartStat&&L.hasEndStat}})),[e]),O=L=>{const{startTime:W,teamA:q,teamB:R,title:k,isCompleted:j}=L.event.extendedProps,U=q&&R?`${q} vs ${R}`:k;return u.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded w-full border-l-2 transition-all hover:bg-zinc-100 dark:hover:bg-zinc-900 overflow-hidden ${j?"border-emerald-500":"border-blue-500"}`,children:[u.jsx("span",{className:"text-[9px] font-black font-mono text-zinc-500 whitespace-nowrap",children:W}),u.jsx("span",{className:"text-[9px] font-bold truncate uppercase text-zinc-700 dark:text-zinc-300",children:U})]})},F=(t||[]).filter(([,L])=>x?L.some(W=>((W.teamA||"")+(W.teamB||"")+(W.match||"")+(W.title||"")+(W.id||"")).toLowerCase().includes(x.toLowerCase())):!0);return u.jsxs("div",{className:"h-full p-4 md:p-6 bg-zinc-50 dark:bg-black overflow-y-auto custom-scrollbar animate-in fade-in",children:[u.jsx(WB,{isOpen:f,onClose:()=>g(!1),matchData:c}),u.jsx(XB,{isOpen:b,onClose:()=>v(!1),onSyncComplete:()=>v(!1)}),u.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20",children:[u.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-white dark:bg-[#0a0a0a] border border-zinc-200 dark:border-zinc-800 shadow-xl shadow-zinc-200/50 dark:shadow-none mb-8 group",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/10 to-orange-600/10 dark:from-amber-500/20 dark:to-orange-600/20 opacity-50 group-hover:opacity-100 transition-opacity duration-500"}),u.jsxs("div",{className:"relative p-6 md:p-10 flex flex-col xl:flex-row justify-between items-start xl:items-end gap-8",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl shadow-lg shadow-orange-500/30 text-white transform group-hover:scale-105 transition-transform duration-500 shrink-0",children:u.jsx(vz,{size:40})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl md:text-5xl font-black italic uppercase tracking-tighter dark:text-white leading-none",children:"Archive"}),u.jsx("p",{className:"text-xs md:text-sm font-bold text-zinc-400 uppercase tracking-[0.2em] mt-2",children:"Historical Data Center"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 w-full xl:w-auto",children:[u.jsxs("button",{onClick:()=>v(!0),className:"flex-1 xl:flex-none h-12 px-6 bg-white dark:bg-black border-2 border-zinc-100 dark:border-zinc-800 hover:border-amber-500 dark:hover:border-amber-500 text-zinc-600 dark:text-zinc-300 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 shadow-sm whitespace-nowrap active:scale-95",children:[u.jsx(A0,{size:18})," Sync Data"]}),u.jsx("div",{className:"flex-1 xl:flex-none h-12 bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-xl flex border border-zinc-200 dark:border-zinc-800 overflow-hidden min-w-[200px]",children:["calendar","list"].map(L=>u.jsxs("button",{onClick:()=>l(L),className:`flex-1 px-4 rounded-lg text-xs font-black uppercase transition-all flex items-center justify-center gap-2 whitespace-nowrap ${a===L?"bg-white dark:bg-black text-black dark:text-white shadow-md":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[L==="calendar"?u.jsx(HS,{size:14}):u.jsx(Vz,{size:14}),u.jsx("span",{children:L})]},L))})]})]})]}),C&&u.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 p-4 rounded-2xl flex flex-col sm:flex-row items-center justify-between gap-4 shadow-sm animate-in fade-in slide-in-from-top-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"p-2.5 bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-500/20",children:u.jsx(tr,{size:20})}),u.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-blue-600 dark:text-blue-400",children:"Live Operation Active"}),u.jsx("p",{className:"text-[10px] text-zinc-500 font-bold uppercase tracking-wide mt-0.5",children:"Today's matches are occurring now"})]})]}),u.jsxs("button",{onClick:()=>n("/schedule/today"),className:"w-full sm:w-auto px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-black uppercase rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-95 group",children:["Go Live Desk ",u.jsx(wu,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})]}),r?u.jsx("div",{className:"text-center py-20 font-black text-zinc-300 animate-pulse uppercase tracking-widest",children:"Loading Archive..."}):a==="calendar"?u.jsx("div",{className:"bg-white dark:bg-[#111] p-6 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:u.jsx(H2,{plugins:[SB,$B],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:""},events:D,eventContent:O,eventClick:L=>{h(L.event.extendedProps),g(!0)},dayMaxEvents:3,height:"auto"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Tu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),u.jsx("input",{type:"text",placeholder:"Search team names...",value:x,onChange:L=>E(L.target.value),className:"w-full h-14 pl-12 rounded-2xl bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 font-bold text-sm outline-none focus:border-black dark:focus:border-white transition-colors"})]}),u.jsxs("div",{className:"flex gap-2 shrink-0",children:[u.jsxs("button",{onClick:()=>{const L={};F.forEach(([W])=>{L[W]=!0}),N(L)},className:"flex-1 md:flex-none px-4 py-3 bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors",children:[u.jsx(YD,{size:14})," Expand All"]}),u.jsxs("button",{onClick:()=>N({}),className:"flex-1 md:flex-none px-4 py-3 bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors",children:[u.jsx(OS,{size:14})," Collapse"]})]})]}),F.length===0?u.jsx("div",{className:"text-center py-20 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl",children:u.jsx("p",{className:"text-zinc-400 font-bold uppercase tracking-widest text-sm",children:"No matches found"})}):F.map(([L,W])=>u.jsxs("div",{className:"bg-white dark:bg-[#111] rounded-3xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[u.jsxs("button",{onClick:()=>N(q=>({...q,[L]:!q[L]})),className:"w-full p-6 flex justify-between items-center hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors group",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-zinc-500 group-hover:bg-zinc-200 dark:group-hover:bg-zinc-700 transition-colors",children:u.jsx(sr,{size:18})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-sm font-black uppercase dark:text-white",children:new Date(L).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}),u.jsxs("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest",children:[W.length," Matches"]})]})]}),u.jsx(Eu,{size:16,className:`text-zinc-400 transition-transform duration-300 ${A[L]?"rotate-180":""}`})]}),A[L]&&u.jsxs("div",{className:"p-6 pt-0 space-y-3 border-t border-zinc-100 dark:border-zinc-800 animate-in slide-in-from-top-2 fade-in duration-200",children:[u.jsx("div",{className:"h-2"}),W.map(q=>u.jsx(vT,{match:q,onClick:()=>{h(q),g(!0)}},q.id))]})]},L))]})]})]})}const ZB=({children:n})=>qn(t=>t.currentUser)?n:u.jsx(CS,{to:"/login",replace:!0});function JB(){const n=qn(e=>e.darkMode);return M.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),u.jsxs(C_,{children:[u.jsx(hi,{path:"/login",element:u.jsx(Pj,{})}),u.jsx(hi,{path:"/*",element:u.jsx(ZB,{children:u.jsx(Vj,{children:u.jsxs(C_,{children:[u.jsx(hi,{path:"/",element:u.jsx(G3,{})}),u.jsx(hi,{path:"/schedule/today",element:u.jsx(V9,{})}),u.jsx(hi,{path:"/schedule/history",element:u.jsx(KB,{})}),u.jsx(hi,{path:"/tickets",element:u.jsx(g6,{})}),u.jsx(hi,{path:"/incidents",element:u.jsx(s6,{})}),u.jsx(hi,{path:"/handover",element:u.jsx(u6,{})}),u.jsx(hi,{path:"*",element:u.jsx(CS,{to:"/",replace:!0})})]})})})})]})}BN.createRoot(document.getElementById("root")).render(u.jsx(lD,{basename:"/",children:u.jsx(JB,{})}));
