(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Sb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var od={exports:{}},no={};var h_;function wb(){if(h_)return no;h_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return no.Fragment=e,no.jsx=i,no.jsxs=i,no}var f_;function Rb(){return f_||(f_=1,od.exports=wb()),od.exports}var k=Rb(),ud={exports:{}},At={};var d_;function Cb(){if(d_)return At;d_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function L(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,q={};function at(x,K,ot){this.props=x,this.context=K,this.refs=q,this.updater=ot||$}at.prototype.isReactComponent={},at.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},at.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function nt(){}nt.prototype=at.prototype;function st(x,K,ot){this.props=x,this.context=K,this.refs=q,this.updater=ot||$}var vt=st.prototype=new nt;vt.constructor=st,F(vt,at.prototype),vt.isPureReactComponent=!0;var wt=Array.isArray;function Tt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(x,K,ot){var ct=ot.ref;return{$$typeof:r,type:x,key:K,ref:ct!==void 0?ct:null,props:ot}}function O(x,K){return C(x.type,K,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function z(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ot){return K[ot]})}var R=/\/+/g;function Nt(x,K){return typeof x=="object"&&x!==null&&x.key!=null?z(""+x.key):K.toString(36)}function ae(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Tt,Tt):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function M(x,K,ot,ct,Et){var xt=typeof x;(xt==="undefined"||xt==="boolean")&&(x=null);var Lt=!1;if(x===null)Lt=!0;else switch(xt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(x.$$typeof){case r:case e:Lt=!0;break;case E:return Lt=x._init,M(Lt(x._payload),K,ot,ct,Et)}}if(Lt)return Et=Et(x),Lt=ct===""?"."+Nt(x,0):ct,wt(Et)?(ot="",Lt!=null&&(ot=Lt.replace(R,"$&/")+"/"),M(Et,K,ot,"",function(Xa){return Xa})):Et!=null&&(I(Et)&&(Et=O(Et,ot+(Et.key==null||x&&x.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+Lt)),K.push(Et)),1;Lt=0;var De=ct===""?".":ct+":";if(wt(x))for(var re=0;re<x.length;re++)ct=x[re],xt=De+Nt(ct,re),Lt+=M(ct,K,ot,xt,Et);else if(re=L(x),typeof re=="function")for(x=re.call(x),re=0;!(ct=x.next()).done;)ct=ct.value,xt=De+Nt(ct,re++),Lt+=M(ct,K,ot,xt,Et);else if(xt==="object"){if(typeof x.then=="function")return M(ae(x),K,ot,ct,Et);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function G(x,K,ot){if(x==null)return x;var ct=[],Et=0;return M(x,ct,"","",function(xt){return K.call(ot,xt,Et++)}),ct}function it(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(ot){(x._status===0||x._status===-1)&&(x._status=1,x._result=ot)},function(ot){(x._status===0||x._status===-1)&&(x._status=2,x._result=ot)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var rt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ft={map:G,forEach:function(x,K,ot){G(x,function(){K.apply(this,arguments)},ot)},count:function(x){var K=0;return G(x,function(){K++}),K},toArray:function(x){return G(x,function(K){return K})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=T,At.Children=ft,At.Component=at,At.Fragment=i,At.Profiler=o,At.PureComponent=st,At.StrictMode=s,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,K,ot){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ct=F({},x.props),Et=x.key;if(K!=null)for(xt in K.key!==void 0&&(Et=""+K.key),K)!S.call(K,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&K.ref===void 0||(ct[xt]=K[xt]);var xt=arguments.length-2;if(xt===1)ct.children=ot;else if(1<xt){for(var Lt=Array(xt),De=0;De<xt;De++)Lt[De]=arguments[De+2];ct.children=Lt}return C(x.type,Et,ct)},At.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},At.createElement=function(x,K,ot){var ct,Et={},xt=null;if(K!=null)for(ct in K.key!==void 0&&(xt=""+K.key),K)S.call(K,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Et[ct]=K[ct]);var Lt=arguments.length-2;if(Lt===1)Et.children=ot;else if(1<Lt){for(var De=Array(Lt),re=0;re<Lt;re++)De[re]=arguments[re+2];Et.children=De}if(x&&x.defaultProps)for(ct in Lt=x.defaultProps,Lt)Et[ct]===void 0&&(Et[ct]=Lt[ct]);return C(x,xt,Et)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:g,render:x}},At.isValidElement=I,At.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:it}},At.memo=function(x,K){return{$$typeof:p,type:x,compare:K===void 0?null:K}},At.startTransition=function(x){var K=D.T,ot={};D.T=ot;try{var ct=x(),Et=D.S;Et!==null&&Et(ot,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Tt,rt)}catch(xt){rt(xt)}finally{K!==null&&ot.types!==null&&(K.types=ot.types),D.T=K}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(x){return D.H.use(x)},At.useActionState=function(x,K,ot){return D.H.useActionState(x,K,ot)},At.useCallback=function(x,K){return D.H.useCallback(x,K)},At.useContext=function(x){return D.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,K){return D.H.useDeferredValue(x,K)},At.useEffect=function(x,K){return D.H.useEffect(x,K)},At.useEffectEvent=function(x){return D.H.useEffectEvent(x)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(x,K,ot){return D.H.useImperativeHandle(x,K,ot)},At.useInsertionEffect=function(x,K){return D.H.useInsertionEffect(x,K)},At.useLayoutEffect=function(x,K){return D.H.useLayoutEffect(x,K)},At.useMemo=function(x,K){return D.H.useMemo(x,K)},At.useOptimistic=function(x,K){return D.H.useOptimistic(x,K)},At.useReducer=function(x,K,ot){return D.H.useReducer(x,K,ot)},At.useRef=function(x){return D.H.useRef(x)},At.useState=function(x){return D.H.useState(x)},At.useSyncExternalStore=function(x,K,ot){return D.H.useSyncExternalStore(x,K,ot)},At.useTransition=function(){return D.H.useTransition()},At.version="19.2.3",At}var m_;function Zd(){return m_||(m_=1,ud.exports=Cb()),ud.exports}var X=Zd(),cd={exports:{}},io={},hd={exports:{}},fd={};var g_;function xb(){return g_||(g_=1,(function(r){function e(M,G){var it=M.length;M.push(G);t:for(;0<it;){var rt=it-1>>>1,ft=M[rt];if(0<o(ft,G))M[rt]=G,M[it]=ft,it=rt;else break t}}function i(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var G=M[0],it=M.pop();if(it!==G){M[0]=it;t:for(var rt=0,ft=M.length,x=ft>>>1;rt<x;){var K=2*(rt+1)-1,ot=M[K],ct=K+1,Et=M[ct];if(0>o(ot,it))ct<ft&&0>o(Et,ot)?(M[rt]=Et,M[ct]=it,rt=ct):(M[rt]=ot,M[K]=it,rt=K);else if(ct<ft&&0>o(Et,it))M[rt]=Et,M[ct]=it,rt=ct;else break t}}return G}function o(M,G){var it=M.sortIndex-G.sortIndex;return it!==0?it:M.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,T=null,w=3,L=!1,$=!1,F=!1,q=!1,at=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function vt(M){for(var G=i(p);G!==null;){if(G.callback===null)s(p);else if(G.startTime<=M)s(p),G.sortIndex=G.expirationTime,e(y,G);else break;G=i(p)}}function wt(M){if(F=!1,vt(M),!$)if(i(y)!==null)$=!0,Tt||(Tt=!0,z());else{var G=i(p);G!==null&&ae(wt,G.startTime-M)}}var Tt=!1,D=-1,S=5,C=-1;function O(){return q?!0:!(r.unstable_now()-C<S)}function I(){if(q=!1,Tt){var M=r.unstable_now();C=M;var G=!0;try{t:{$=!1,F&&(F=!1,nt(D),D=-1),L=!0;var it=w;try{e:{for(vt(M),T=i(y);T!==null&&!(T.expirationTime>M&&O());){var rt=T.callback;if(typeof rt=="function"){T.callback=null,w=T.priorityLevel;var ft=rt(T.expirationTime<=M);if(M=r.unstable_now(),typeof ft=="function"){T.callback=ft,vt(M),G=!0;break e}T===i(y)&&s(y),vt(M)}else s(y);T=i(y)}if(T!==null)G=!0;else{var x=i(p);x!==null&&ae(wt,x.startTime-M),G=!1}}break t}finally{T=null,w=it,L=!1}G=void 0}}finally{G?z():Tt=!1}}}var z;if(typeof st=="function")z=function(){st(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Nt=R.port2;R.port1.onmessage=I,z=function(){Nt.postMessage(null)}}else z=function(){at(I,0)};function ae(M,G){D=at(function(){M(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(M){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var it=w;w=G;try{return M()}finally{w=it}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var it=w;w=M;try{return G()}finally{w=it}},r.unstable_scheduleCallback=function(M,G,it){var rt=r.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?rt+it:rt):it=rt,M){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=it+ft,M={id:E++,callback:G,priorityLevel:M,startTime:it,expirationTime:ft,sortIndex:-1},it>rt?(M.sortIndex=it,e(p,M),i(y)===null&&M===i(p)&&(F?(nt(D),D=-1):F=!0,ae(wt,it-rt))):(M.sortIndex=ft,e(y,M),$||L||($=!0,Tt||(Tt=!0,z()))),M},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(M){var G=w;return function(){var it=w;w=G;try{return M.apply(this,arguments)}finally{w=it}}}})(fd)),fd}var p_;function Db(){return p_||(p_=1,hd.exports=xb()),hd.exports}var dd={exports:{}},Ke={};var y_;function Nb(){if(y_)return Ke;y_=1;var r=Zd();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:p,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,E)},Ke.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},Ke.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,T=g(E,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(y,{crossOrigin:T,integrity:w,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ke.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Ke.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,T=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ke.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,p){return y(p)},Ke.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var __;function Ib(){if(__)return dd.exports;__=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dd.exports=Nb(),dd.exports}var v_;function Vb(){if(v_)return io;v_=1;var r=Db(),e=Zd(),i=Ib();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=f;break}if(b===l){_=!0,l=h,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,l=h;break}if(b===l){_=!0,l=f,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case at:return"Profiler";case q:return"StrictMode";case wt:return"Suspense";case Tt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case st:return t.displayName||"Context";case nt:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:Nt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Nt(t(n))}catch{}}return null}var ae=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},rt=[],ft=-1;function x(t){return{current:t}}function K(t){0>ft||(t.current=rt[ft],rt[ft]=null,ft--)}function ot(t,n){ft++,rt[ft]=t.current,t.current=n}var ct=x(null),Et=x(null),xt=x(null),Lt=x(null);function De(t,n){switch(ot(xt,n),ot(Et,t),ot(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Oy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Oy(n),t=ky(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ct),ot(ct,t)}function re(){K(ct),K(Et),K(xt)}function Xa(t){t.memoizedState!==null&&ot(Lt,t);var n=ct.current,a=ky(n,t.type);n!==a&&(ot(Et,t),ot(ct,a))}function Or(t){Et.current===t&&(K(ct),K(Et)),Lt.current===t&&(K(Lt),Jl._currentValue=it)}var kr,zr;function ti(t){if(kr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",zr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+t+zr}var Js=!1;function $a(t,n){if(!t||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var H=Y}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(Y){H=Y}t.call(tt.prototype)}}else{try{throw Error()}catch(Y){H=Y}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var N=_.split(`
`),P=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===P.length)for(l=N.length-1,h=P.length-1;1<=l&&0<=h&&N[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==P[h]){var Z=`
`+N[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ti(a):""}function Ws(t,n){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return $a(t.type,!1);case 11:return $a(t.type.render,!1);case 1:return $a(t.type,!0);case 31:return ti("Activity");default:return""}}function tl(t){try{var n="",a=null;do n+=Ws(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,ea=r.unstable_cancelCallback,uh=r.unstable_shouldYield,Oo=r.unstable_requestPaint,Je=r.unstable_now,Za=r.unstable_getCurrentPriorityLevel,el=r.unstable_ImmediatePriority,nl=r.unstable_UserBlockingPriority,na=r.unstable_NormalPriority,ch=r.unstable_LowPriority,ko=r.unstable_IdlePriority,zo=r.log,Uo=r.unstable_setDisableYieldValue,jn=null,je=null;function An(t){if(typeof zo=="function"&&Uo(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(jn,t)}catch{}}var fe=Math.clz32?Math.clz32:jo,Lo=Math.log,Ur=Math.LN2;function jo(t){return t>>>=0,t===0?32:31-(Lo(t)/Ur|0)|0}var ei=256,Ja=262144,_e=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ni(l):(_&=b,_!==0?h=ni(_):a||(a=b&~t,a!==0&&(h=ni(a))))):(b=l&~f,b!==0?h=ni(b):_!==0?h=ni(_):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function hh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function ai(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Wa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fh(t,n,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-fe(a),tt=1<<Z;b[Z]=0,N[Z]=-1;var H=P[Z];if(H!==null)for(P[Z]=null,Z=0;Z<H.length;Z++){var Y=H[Z];Y!==null&&(Y.lane&=-536870913)}a&=~tt}l!==0&&tr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function tr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function il(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function al(t,n){var a=n&-n;return a=(a&42)!==0?1:er(a),(a&(t.suspendedLanes|n))!==0?0:a}function er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Po(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:a_(t.type))}function Pn(t,n){var a=G.p;try{return G.p=t,n()}finally{G.p=a}}var qn=Math.random().toString(36).slice(2),ve="__reactFiber$"+qn,ke="__reactProps$"+qn,ri="__reactContainer$"+qn,Lr="__reactEvents$"+qn,dh="__reactListeners$"+qn,qo="__reactHandles$"+qn,Ho="__reactResources$"+qn,si="__reactMarker$"+qn;function jr(t){delete t[ve],delete t[ke],delete t[Lr],delete t[dh],delete t[qo]}function li(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ri]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=qy(t);t!==null;){if(a=t[ve])return a;t=qy(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[ve]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function oi(t){var n=t[Ho];return n||(n=t[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[si]=!0}var rl=new Set,sl={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(sl[t]=n,t=0;t<n.length;t++)rl.add(n[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ul={};function Go(t){return ye.call(ul,t)?!0:ye.call(ol,t)?!1:ll.test(t)?ul[t]=!0:(ol[t]=!0,!1)}function Br(t,n,a){if(Go(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function be(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ia(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=ia(t)?"checked":"value";t._valueTracker=cl(t,n,""+t[n])}}function nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ia(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ir=/[\n"\\]/g;function en(t){return t.replace(ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Pr(t,n,a,l,h,f,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?hl(t,_,ze(n)):a!=null?hl(t,_,ze(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ze(b):t.removeAttribute("name")}function Fo(t,n,a,l,h,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(t);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qt(t)}function hl(t,n,a){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function aa(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Qo(t,n,a){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ze(a):""}function ra(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qt(t)}function nn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Yo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function dl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&fl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&fl(t,f,n[f])}function qr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hr(t){return sa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var ml=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,fi=null;function ar(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[ke]||null;t:switch(t=n.stateNode,n.type){case"input":if(Pr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[ke]||null;if(!h)throw Error(s(90));Pr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&nr(l)}break t;case"textarea":Qo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&aa(t,!!a.multiple,n,!1)}}}var Gr=!1;function oa(t,n,a){if(Gr)return t(n,a);Gr=!0;try{var l=t(n);return l}finally{if(Gr=!1,(la!==null||fi!==null)&&(Pu(),la&&(n=la,t=fi,fi=la=null,ar(n),t)))for(n=0;n<t.length;n++)ar(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(Rn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{rr=!1}var di=null,gl=null,sr=null;function pl(){if(sr)return sr;var t,n=gl,a=n.length,l,h="value"in di?di.value:di.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return sr=h.slice(t,1<l?1-l:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Fn(){return!1}function Be(t){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Fn,this.isPropagationStopped=Fn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Ni),ua=T({},Ni,{view:0,detail:0}),yl=Be(ua),ca,Fr,gi,Qr=T({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(ca=t.screenX-gi.screenX,Fr=t.screenY-gi.screenY):Fr=ca=0,gi=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:Fr}}),_l=Be(Qr),or=T({},Qr,{dataTransfer:0}),Xo=Be(or),$o=T({},ua,{relatedTarget:0}),ur=Be($o),vl=T({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Zo=Be(vl),Yr=T({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jo=Be(Yr),Wo=T({},Ni,{data:0}),pi=Be(Wo),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=nu[t])?!!n[t]:!1}function ha(){return iu}var We=T({},ua,{key:function(t){if(t.key){var n=tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),au=Be(We),ru=T({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ii=Be(ru),u=T({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),m=Be(u),v=T({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),j=T({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Be(j),lt=T({},Ni,{newState:0,oldState:0}),Rt=Be(lt),de=[9,13,27,32],Ht=Rn&&"CompositionEvent"in window,se=null;Rn&&"documentMode"in document&&(se=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!se,yi=Rn&&(!Ht||se&&8<se&&11>=se),Qn=" ",Yn=!1;function cr(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function KE(t,n){switch(t){case"compositionend":return Kr(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Yn?null:t;default:return null}}function XE(t,n){if(Xr)return t==="compositionend"||!Ht&&cr(t,n)?(t=pl(),sr=gl=di=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!$E[t.type]:n==="textarea"}function Qm(t,n,a,l){la?fi?fi.push(l):fi=[l]:la=l,n=Ku(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var El=null,bl=null;function ZE(t){xy(t,0)}function su(t){var n=fn(t);if(nr(n))return t}function Ym(t,n){if(t==="change")return n}var Km=!1;if(Rn){var mh;if(Rn){var gh="oninput"in document;if(!gh){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),gh=typeof Xm.oninput=="function"}mh=gh}else mh=!1;Km=mh&&(!document.documentMode||9<document.documentMode)}function $m(){El&&(El.detachEvent("onpropertychange",Zm),bl=El=null)}function Zm(t){if(t.propertyName==="value"&&su(bl)){var n=[];Qm(n,bl,t,wn(t)),oa(ZE,n)}}function JE(t,n,a){t==="focusin"?($m(),El=n,bl=a,El.attachEvent("onpropertychange",Zm)):t==="focusout"&&$m()}function WE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(bl)}function t1(t,n){if(t==="click")return su(n)}function e1(t,n){if(t==="input"||t==="change")return su(n)}function n1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:n1;function Tl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wm(t,n){var a=Jm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jm(a)}}function tg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?tg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hi(t.document)}return n}function ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var i1=Rn&&"documentMode"in document&&11>=document.documentMode,$r=null,yh=null,Al=null,_h=!1;function ng(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_h||$r==null||$r!==hi(l)||(l=$r,"selectionStart"in l&&ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Tl(Al,l)||(Al=l,l=Ku(yh,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=$r)))}function hr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Zr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},vh={},ig={};Rn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function fr(t){if(vh[t])return vh[t];if(!Zr[t])return t;var n=Zr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ig)return vh[t]=n[a];return t}var ag=fr("animationend"),rg=fr("animationiteration"),sg=fr("animationstart"),a1=fr("transitionrun"),r1=fr("transitionstart"),s1=fr("transitioncancel"),lg=fr("transitionend"),og=new Map,Eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eh.push("scrollEnd");function Kn(t,n){og.set(t,n),ui(n,[t])}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Jr=0,bh=0;function ou(){for(var t=Jr,n=bh=Jr=0;n<t;){var a=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&ug(a,h,f)}}function uu(t,n,a,l){xn[Jr++]=t,xn[Jr++]=n,xn[Jr++]=a,xn[Jr++]=l,bh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Th(t,n,a,l){return uu(t,n,a,l),cu(t)}function dr(t,n){return uu(t,null,null,n),cu(t)}function ug(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-fe(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function cu(t){if(50<Fl)throw Fl=0,Vf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Wr={};function l1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new l1(t,n,a,l)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function hu(t,n,a,l,h,f){var _=0;if(l=t,typeof t=="function")Ah(t)&&(_=1);else if(typeof t=="string")_=fb(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=gn(31,a,n,h),t.elementType=C,t.lanes=f,t;case F:return mr(a.children,h,f,n);case q:_=8,h|=24;break;case at:return t=gn(12,a,n,h|2),t.elementType=at,t.lanes=f,t;case wt:return t=gn(13,a,n,h),t.elementType=wt,t.lanes=f,t;case Tt:return t=gn(19,a,n,h),t.elementType=Tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:_=10;break t;case nt:_=9;break t;case vt:_=11;break t;case D:_=14;break t;case S:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=gn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function mr(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function Sh(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function hg(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function wh(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var fg=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var a=fg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:tl(n)},fg.set(t,n),n)}return{value:t,source:n,stack:tl(n)}}var ts=[],es=0,fu=null,Sl=0,Nn=[],In=0,fa=null,_i=1,vi="";function Mi(t,n){ts[es++]=Sl,ts[es++]=fu,fu=t,Sl=n}function dg(t,n,a){Nn[In++]=_i,Nn[In++]=vi,Nn[In++]=fa,fa=t;var l=_i;t=vi;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-fe(n)+h|a<<h|l,vi=f+t}else _i=1<<f|a<<h|l,vi=t}function Rh(t){t.return!==null&&(Mi(t,1),dg(t,1,0))}function Ch(t){for(;t===fu;)fu=ts[--es],ts[es]=null,Sl=ts[--es],ts[es]=null;for(;t===fa;)fa=Nn[--In],Nn[In]=null,vi=Nn[--In],Nn[In]=null,_i=Nn[--In],Nn[In]=null}function mg(t,n){Nn[In++]=_i,Nn[In++]=vi,Nn[In++]=fa,_i=n.id,vi=n.overflow,fa=t}var Pe=null,ee=null,Ut=!1,da=null,Vn=!1,xh=Error(s(519));function ma(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(Dn(n,t)),xh}function gg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[ke]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Yl.length;a++)Vt(Yl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Fo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ra(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Vy(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||ma(t,!0)}function pg(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Pe=Pe.return}}function ns(t){if(t!==Pe)return!1;if(!Ut)return pg(t),Ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yf(t.type,t.memoizedProps)),a=!a),a&&ee&&ma(t),pg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Py(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Py(t)}else n===27?(n=ee,xa(t.type)?(t=Jf,Jf=null,ee=t):ee=n):ee=Pe?On(t.stateNode.nextSibling):null;return!0}function gr(){ee=Pe=null,Ut=!1}function Dh(){var t=da;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),da=null),t}function wl(t){da===null?da=[t]:da.push(t)}var Nh=x(null),pr=null,Oi=null;function ga(t,n,a){ot(Nh,n._currentValue),n._currentValue=a}function ki(t){t._currentValue=Nh.current,K(Nh)}function Ih(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Vh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=h;for(var N=0;N<n.length;N++)if(b.context===n[N]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Ih(f.return,a,t),l||(_=null);break t}f=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Ih(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function is(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;mn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Lt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}h=h.return}t!==null&&Vh(n,t,a,l),n.flags|=262144}function du(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yr(t){pr=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return yg(pr,t)}function mu(t,n){return pr===null&&yr(t),yg(t,n)}function yg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(s(308));Oi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Oi=Oi.next=n;return a}var o1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},u1=r.unstable_scheduleCallback,c1=r.unstable_NormalPriority,Te={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new o1,data:new Map,refCount:0}}function Rl(t){t.refCount--,t.refCount===0&&u1(c1,function(){t.controller.abort()})}var Cl=null,Oh=0,as=0,rs=null;function h1(t,n){if(Cl===null){var a=Cl=[];Oh=0,as=Lf(),rs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Oh++,n.then(_g,_g),n}function _g(){if(--Oh===0&&Cl!==null){rs!==null&&(rs.status="fulfilled");var t=Cl;Cl=null,as=0,rs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function f1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vg=M.S;M.S=function(t,n){ny=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(t,n),vg!==null&&vg(t,n)};var _r=x(null);function kh(){var t=_r.current;return t!==null?t:Wt.pooledCache}function gu(t,n){n===null?ot(_r,_r.current):ot(_r,n.pool)}function Eg(){var t=kh();return t===null?null:{parent:Te._currentValue,pool:t}}var ss=Error(s(460)),zh=Error(s(474)),pu=Error(s(542)),yu={then:function(){}};function bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Sg(t),t}throw Er=n,ss}}function vr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Er=a,ss):a}}var Er=null;function Ag(){if(Er===null)throw Error(s(459));var t=Er;return Er=null,t}function Sg(t){if(t===ss||t===pu)throw Error(s(483))}var ls=null,xl=0;function _u(t){var n=xl;return xl+=1,ls===null&&(ls=[]),Tg(ls,t,n)}function Dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function vu(t,n){throw n.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function wg(t){function n(U,V){if(t){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Vi(U,V),U.index=0,U.sibling=null,U}function f(U,V,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=67108866,V):B):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,B,W){return V===null||V.tag!==6?(V=Sh(B,U.mode,W),V.return=U,V):(V=h(V,B),V.return=U,V)}function N(U,V,B,W){var pt=B.type;return pt===F?Z(U,V,B.props.children,W,B.key):V!==null&&(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&vr(pt)===V.type)?(V=h(V,B.props),Dl(V,B),V.return=U,V):(V=hu(B.type,B.key,B.props,null,U.mode,W),Dl(V,B),V.return=U,V)}function P(U,V,B,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=wh(B,U.mode,W),V.return=U,V):(V=h(V,B.children||[]),V.return=U,V)}function Z(U,V,B,W,pt){return V===null||V.tag!==7?(V=mr(B,U.mode,W,pt),V.return=U,V):(V=h(V,B),V.return=U,V)}function tt(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sh(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return B=hu(V.type,V.key,V.props,null,U.mode,B),Dl(B,V),B.return=U,B;case $:return V=wh(V,U.mode,B),V.return=U,V;case S:return V=vr(V),tt(U,V,B)}if(ae(V)||z(V))return V=mr(V,U.mode,B,null),V.return=U,V;if(typeof V.then=="function")return tt(U,_u(V),B);if(V.$$typeof===st)return tt(U,mu(U,V),B);vu(U,V)}return null}function H(U,V,B,W){var pt=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pt!==null?null:b(U,V,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===pt?N(U,V,B,W):null;case $:return B.key===pt?P(U,V,B,W):null;case S:return B=vr(B),H(U,V,B,W)}if(ae(B)||z(B))return pt!==null?null:Z(U,V,B,W,null);if(typeof B.then=="function")return H(U,V,_u(B),W);if(B.$$typeof===st)return H(U,V,mu(U,B),W);vu(U,B)}return null}function Y(U,V,B,W,pt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(B)||null,b(V,U,""+W,pt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return U=U.get(W.key===null?B:W.key)||null,N(V,U,W,pt);case $:return U=U.get(W.key===null?B:W.key)||null,P(V,U,W,pt);case S:return W=vr(W),Y(U,V,B,W,pt)}if(ae(W)||z(W))return U=U.get(B)||null,Z(V,U,W,pt,null);if(typeof W.then=="function")return Y(U,V,B,_u(W),pt);if(W.$$typeof===st)return Y(U,V,B,mu(V,W),pt);vu(V,W)}return null}function dt(U,V,B,W){for(var pt=null,Pt=null,mt=V,Dt=V=0,Ot=null;mt!==null&&Dt<B.length;Dt++){mt.index>Dt?(Ot=mt,mt=null):Ot=mt.sibling;var qt=H(U,mt,B[Dt],W);if(qt===null){mt===null&&(mt=Ot);break}t&&mt&&qt.alternate===null&&n(U,mt),V=f(qt,V,Dt),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt,mt=Ot}if(Dt===B.length)return a(U,mt),Ut&&Mi(U,Dt),pt;if(mt===null){for(;Dt<B.length;Dt++)mt=tt(U,B[Dt],W),mt!==null&&(V=f(mt,V,Dt),Pt===null?pt=mt:Pt.sibling=mt,Pt=mt);return Ut&&Mi(U,Dt),pt}for(mt=l(mt);Dt<B.length;Dt++)Ot=Y(mt,U,Dt,B[Dt],W),Ot!==null&&(t&&Ot.alternate!==null&&mt.delete(Ot.key===null?Dt:Ot.key),V=f(Ot,V,Dt),Pt===null?pt=Ot:Pt.sibling=Ot,Pt=Ot);return t&&mt.forEach(function(Ma){return n(U,Ma)}),Ut&&Mi(U,Dt),pt}function yt(U,V,B,W){if(B==null)throw Error(s(151));for(var pt=null,Pt=null,mt=V,Dt=V=0,Ot=null,qt=B.next();mt!==null&&!qt.done;Dt++,qt=B.next()){mt.index>Dt?(Ot=mt,mt=null):Ot=mt.sibling;var Ma=H(U,mt,qt.value,W);if(Ma===null){mt===null&&(mt=Ot);break}t&&mt&&Ma.alternate===null&&n(U,mt),V=f(Ma,V,Dt),Pt===null?pt=Ma:Pt.sibling=Ma,Pt=Ma,mt=Ot}if(qt.done)return a(U,mt),Ut&&Mi(U,Dt),pt;if(mt===null){for(;!qt.done;Dt++,qt=B.next())qt=tt(U,qt.value,W),qt!==null&&(V=f(qt,V,Dt),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt);return Ut&&Mi(U,Dt),pt}for(mt=l(mt);!qt.done;Dt++,qt=B.next())qt=Y(mt,U,Dt,qt.value,W),qt!==null&&(t&&qt.alternate!==null&&mt.delete(qt.key===null?Dt:qt.key),V=f(qt,V,Dt),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt);return t&&mt.forEach(function(Ab){return n(U,Ab)}),Ut&&Mi(U,Dt),pt}function Jt(U,V,B,W){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:t:{for(var pt=B.key;V!==null;){if(V.key===pt){if(pt=B.type,pt===F){if(V.tag===7){a(U,V.sibling),W=h(V,B.props.children),W.return=U,U=W;break t}}else if(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===S&&vr(pt)===V.type){a(U,V.sibling),W=h(V,B.props),Dl(W,B),W.return=U,U=W;break t}a(U,V);break}else n(U,V);V=V.sibling}B.type===F?(W=mr(B.props.children,U.mode,W,B.key),W.return=U,U=W):(W=hu(B.type,B.key,B.props,null,U.mode,W),Dl(W,B),W.return=U,U=W)}return _(U);case $:t:{for(pt=B.key;V!==null;){if(V.key===pt)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(U,V.sibling),W=h(V,B.children||[]),W.return=U,U=W;break t}else{a(U,V);break}else n(U,V);V=V.sibling}W=wh(B,U.mode,W),W.return=U,U=W}return _(U);case S:return B=vr(B),Jt(U,V,B,W)}if(ae(B))return dt(U,V,B,W);if(z(B)){if(pt=z(B),typeof pt!="function")throw Error(s(150));return B=pt.call(B),yt(U,V,B,W)}if(typeof B.then=="function")return Jt(U,V,_u(B),W);if(B.$$typeof===st)return Jt(U,V,mu(U,B),W);vu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(U,V.sibling),W=h(V,B),W.return=U,U=W):(a(U,V),W=Sh(B,U.mode,W),W.return=U,U=W),_(U)):a(U,V)}return function(U,V,B,W){try{xl=0;var pt=Jt(U,V,B,W);return ls=null,pt}catch(mt){if(mt===ss||mt===pu)throw mt;var Pt=gn(29,mt,null,U.mode);return Pt.lanes=W,Pt.return=U,Pt}finally{}}}var br=wg(!0),Rg=wg(!1),pa=!1;function Uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ya(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _a(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=cu(t),ug(t,null,a),n}return uu(t,l,n,a),cu(t)}function Nl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,il(t,a)}}function jh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Bh=!1;function Il(){if(Bh){var t=rs;if(t!==null)throw t}}function Vl(t,n,a,l){Bh=!1;var h=t.updateQueue;pa=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,P=N.next;N.next=null,_===null?f=P:_.next=P,_=N;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=P:b.next=P,Z.lastBaseUpdate=N))}if(f!==null){var tt=h.baseState;_=0,Z=P=N=null,b=f;do{var H=b.lane&-536870913,Y=H!==b.lane;if(Y?(Mt&H)===H:(l&H)===H){H!==0&&H===as&&(Bh=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var dt=t,yt=b;H=n;var Jt=a;switch(yt.tag){case 1:if(dt=yt.payload,typeof dt=="function"){tt=dt.call(Jt,tt,H);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=yt.payload,H=typeof dt=="function"?dt.call(Jt,tt,H):dt,H==null)break t;tt=T({},tt,H);break t;case 2:pa=!0}}H=b.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(P=Z=Y,N=tt):Z=Z.next=Y,_|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(N=tt),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),Aa|=_,t.lanes=_,t.memoizedState=tt}}function Cg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cg(a[t],n)}var os=x(null),Eu=x(0);function Dg(t,n){t=Gi,ot(Eu,t),ot(os,n),Gi=t|n.baseLanes}function Ph(){ot(Eu,Gi),ot(os,os.current)}function qh(){Gi=Eu.current,K(os),K(Eu)}var pn=x(null),Mn=null;function va(t){var n=t.alternate;ot(me,me.current&1),ot(pn,t),Mn===null&&(n===null||os.current!==null||n.memoizedState!==null)&&(Mn=t)}function Hh(t){ot(me,me.current),ot(pn,t),Mn===null&&(Mn=t)}function Ng(t){t.tag===22?(ot(me,me.current),ot(pn,t),Mn===null&&(Mn=t)):Ea()}function Ea(){ot(me,me.current),ot(pn,pn.current)}function yn(t){K(pn),Mn===t&&(Mn=null),K(me)}var me=x(0);function bu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||$f(a)||Zf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,Ct=null,$t=null,Ae=null,Tu=!1,us=!1,Tr=!1,Au=0,Ml=0,cs=null,d1=0;function ue(){throw Error(s(321))}function Gh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function Fh(t,n,a,l,h,f){return zi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?dp:lf,Tr=!1,f=a(l,h),Tr=!1,us&&(f=Vg(n,a,l,h)),Ig(t),f}function Ig(t){M.H=zl;var n=$t!==null&&$t.next!==null;if(zi=0,Ae=$t=Ct=null,Tu=!1,Ml=0,cs=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&du(t)&&(Se=!0))}function Vg(t,n,a,l){Ct=t;var h=0;do{if(us&&(cs=null),Ml=0,us=!1,25<=h)throw Error(s(301));if(h+=1,Ae=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=mp,f=n(a,l)}while(us);return f}function m1(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?Ol(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Qh(){var t=Au!==0;return Au=0,t}function Yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Kh(t){if(Tu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Tu=!1}zi=0,Ae=$t=Ct=null,us=!1,Ml=Au=0,cs=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ct.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function ge(){if($t===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=Ae===null?Ct.memoizedState:Ae.next;if(n!==null)Ae=n,$t=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?Ct.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(t){var n=Ml;return Ml+=1,cs===null&&(cs=[]),t=Tg(cs,t,n),n=Ct,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?dp:lf),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ol(t);if(t.$$typeof===st)return qe(t)}throw Error(s(438,String(t)))}function Xh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Su(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Ui(t,n){return typeof n=="function"?n(t):n}function Ru(t){var n=ge();return $h(n,$t,t)}function $h(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=_=null,N=null,P=n,Z=!1;do{var tt=P.lane&-536870913;if(tt!==P.lane?(Mt&tt)===tt:(zi&tt)===tt){var H=P.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),tt===as&&(Z=!0);else if((zi&H)===H){P=P.next,H===as&&(Z=!0);continue}else tt={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(b=N=tt,_=f):N=N.next=tt,Ct.lanes|=H,Aa|=H;tt=P.action,Tr&&a(f,tt),f=P.hasEagerState?P.eagerState:a(f,tt)}else H={lane:tt,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(b=N=H,_=f):N=N.next=H,Ct.lanes|=tt,Aa|=tt;P=P.next}while(P!==null&&P!==n);if(N===null?_=f:N.next=b,!mn(f,t.memoizedState)&&(Se=!0,Z&&(a=rs,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zh(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Mg(t,n,a){var l=Ct,h=ge(),f=Ut;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!mn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,Se=!0),h=h.queue,tf(zg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,hs(9,{destroy:void 0},kg.bind(null,l,h,a,n),null),Wt===null)throw Error(s(349));f||(zi&127)!==0||Og(l,n,a)}return a}function Og(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=Su(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function kg(t,n,a,l){n.value=a,n.getSnapshot=l,Ug(n)&&Lg(t)}function zg(t,n,a){return a(function(){Ug(n)&&Lg(t)})}function Ug(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function Lg(t){var n=dr(t,2);n!==null&&on(n,t,2)}function Jh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),Tr){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function jg(t,n,a,l){return t.baseState=a,$h(t,$t,typeof l=="function"?l:Ui)}function g1(t,n,a,l,h){if(Du(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};M.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Bg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Bg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=M.T,_={};M.T=_;try{var b=a(h,l),N=M.S;N!==null&&N(_,b),Pg(t,n,b)}catch(P){Wh(t,n,P)}finally{f!==null&&_.types!==null&&(f.types=_.types),M.T=f}}else try{f=a(h,l),Pg(t,n,f)}catch(P){Wh(t,n,P)}}function Pg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qg(t,n,l)},function(l){return Wh(t,n,l)}):qg(t,n,a)}function qg(t,n,a){n.status="fulfilled",n.value=a,Hg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Bg(t,a)))}function Wh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Hg(n),n=n.next;while(n!==l)}t.action=null}function Hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Gg(t,n){return n}function Fg(t,n){if(Ut){var a=Wt.formState;if(a!==null){t:{var l=Ct;if(Ut){if(ee){e:{for(var h=ee,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=On(h.nextSibling),l=h.data==="F!";break t}}ma(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:n},a.queue=l,a=cp.bind(null,Ct,l),l.dispatch=a,l=Jh(!1),f=sf.bind(null,Ct,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=g1.bind(null,Ct,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Qg(t){var n=ge();return Yg(n,$t,t)}function Yg(t,n,a){if(n=$h(t,n,Gg)[0],t=Ru(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ol(n)}catch(_){throw _===ss?pu:_}else l=n;n=ge();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,hs(9,{destroy:void 0},p1.bind(null,h,a),null)),[l,f,t]}function p1(t,n){t.action=n}function Kg(t){var n=ge(),a=$t;if(a!==null)return Yg(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function hs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Su(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Xg(){return ge().memoizedState}function Cu(t,n,a,l){var h=tn();Ct.flags|=t,h.memoizedState=hs(1|n,{destroy:void 0},a,l===void 0?null:l)}function xu(t,n,a,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&Gh(l,$t.memoizedState.deps)?h.memoizedState=hs(n,f,a,l):(Ct.flags|=t,h.memoizedState=hs(1|n,f,a,l))}function $g(t,n){Cu(8390656,8,t,n)}function tf(t,n){xu(2048,8,t,n)}function y1(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Su(),Ct.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Zg(t){var n=ge().memoizedState;return y1({ref:n,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Jg(t,n){return xu(4,2,t,n)}function Wg(t,n){return xu(4,4,t,n)}function tp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ep(t,n,a){a=a!=null?a.concat([t]):null,xu(4,4,tp.bind(null,n,t),a)}function ef(){}function np(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Gh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ip(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Gh(n,l[1]))return l[0];if(l=t(),Tr){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l}function nf(t,n,a){return a===void 0||(zi&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=ay(),Ct.lanes|=t,Aa|=t,a)}function ap(t,n,a,l){return mn(a,n)?a:os.current!==null?(t=nf(t,a,l),mn(t,n)||(Se=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Mt&261930)===0?(Se=!0,t.memoizedState=a):(t=ay(),Ct.lanes|=t,Aa|=t,n)}function rp(t,n,a,l,h){var f=G.p;G.p=f!==0&&8>f?f:8;var _=M.T,b={};M.T=b,sf(t,!1,n,a);try{var N=h(),P=M.S;if(P!==null&&P(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=f1(N,l);kl(t,n,Z,En(t))}else kl(t,n,l,En(t))}catch(tt){kl(t,n,{then:function(){},status:"rejected",reason:tt},En())}finally{G.p=f,_!==null&&b.types!==null&&(_.types=b.types),M.T=_}}function _1(){}function af(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=sp(t).queue;rp(t,h,n,it,a===null?_1:function(){return lp(t),a(l)})}function sp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:it},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function lp(t){var n=sp(t);n.next===null&&(n=t.alternate.memoizedState),kl(t,n.next.queue,{},En())}function rf(){return qe(Jl)}function op(){return ge().memoizedState}function up(){return ge().memoizedState}function v1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=ya(a);var l=_a(n,t,a);l!==null&&(on(l,n,a),Nl(l,n,a)),n={cache:Mh()},t.payload=n;return}n=n.return}}function E1(t,n,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Du(t)?hp(n,a):(a=Th(t,n,a,l),a!==null&&(on(a,t,l),fp(a,n,l)))}function cp(t,n,a){var l=En();kl(t,n,a,l)}function kl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Du(t))hp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,b=f(_,a);if(h.hasEagerState=!0,h.eagerState=b,mn(b,_))return uu(t,n,h,0),Wt===null&&ou(),!1}catch{}finally{}if(a=Th(t,n,h,l),a!==null)return on(a,t,l),fp(a,n,l),!0}return!1}function sf(t,n,a,l){if(l={lane:2,revertLane:Lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Du(t)){if(n)throw Error(s(479))}else n=Th(t,a,l,2),n!==null&&on(n,t,2)}function Du(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function hp(t,n){us=Tu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function fp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,il(t,a)}}var zl={readContext:qe,use:wu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};zl.useEffectEvent=ue;var dp={readContext:qe,use:wu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:$g,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Cu(4194308,4,tp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Cu(4194308,4,t,n)},useInsertionEffect:function(t,n){Cu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(Tr){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var h=a(n);if(Tr){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=E1.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Jh(t);var n=t.queue,a=cp.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ef,useDeferredValue:function(t,n){var a=tn();return nf(a,t,n)},useTransition:function(){var t=Jh(!1);return t=rp.bind(null,Ct,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,h=tn();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Mt&127)!==0||Og(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,$g(zg.bind(null,l,f,t),[t]),l.flags|=2048,hs(9,{destroy:void 0},kg.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=Wt.identifierPrefix;if(Ut){var a=vi,l=_i;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Au++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=d1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:rf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=sf.bind(null,Ct,!0,a),a.dispatch=n,[t,n]},useMemoCache:Xh,useCacheRefresh:function(){return tn().memoizedState=v1.bind(null,Ct)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},lf={readContext:qe,use:wu,useCallback:np,useContext:qe,useEffect:tf,useImperativeHandle:ep,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:Ru,useRef:Xg,useState:function(){return Ru(Ui)},useDebugValue:ef,useDeferredValue:function(t,n){var a=ge();return ap(a,$t.memoizedState,t,n)},useTransition:function(){var t=Ru(Ui)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Ol(t),n]},useSyncExternalStore:Mg,useId:op,useHostTransitionStatus:rf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,n){var a=ge();return jg(a,$t,t,n)},useMemoCache:Xh,useCacheRefresh:up};lf.useEffectEvent=Zg;var mp={readContext:qe,use:wu,useCallback:np,useContext:qe,useEffect:tf,useImperativeHandle:ep,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:Zh,useRef:Xg,useState:function(){return Zh(Ui)},useDebugValue:ef,useDeferredValue:function(t,n){var a=ge();return $t===null?nf(a,t,n):ap(a,$t.memoizedState,t,n)},useTransition:function(){var t=Zh(Ui)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Ol(t),n]},useSyncExternalStore:Mg,useId:op,useHostTransitionStatus:rf,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,n){var a=ge();return $t!==null?jg(a,$t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:up};mp.useEffectEvent=Zg;function of(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var uf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=En(),h=ya(l);h.payload=n,a!=null&&(h.callback=a),n=_a(t,h,l),n!==null&&(on(n,t,l),Nl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=En(),h=ya(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_a(t,h,l),n!==null&&(on(n,t,l),Nl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),l=ya(a);l.tag=2,n!=null&&(l.callback=n),n=_a(t,l,a),n!==null&&(on(n,t,a),Nl(n,t,a))}};function gp(t,n,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Tl(a,l)||!Tl(h,f):!0}function pp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&uf.enqueueReplaceState(n,n.state,null)}function Ar(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function yp(t){lu(t)}function _p(t){console.error(t)}function vp(t){lu(t)}function Nu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ep(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cf(t,n,a){return a=ya(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(t,n)},a}function bp(t){return t=ya(t),t.tag=3,t}function Tp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Ep(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ep(n,a,l),typeof h!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function b1(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&is(n,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?qu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===yu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kf(t,l,h)),!1;case 22:return a.flags|=65536,l===yu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kf(t,l,h)),!1}throw Error(s(435,a.tag))}return kf(t,l,h),qu(),!1}if(Ut)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==xh&&(t=Error(s(422),{cause:l}),wl(Dn(t,a)))):(l!==xh&&(n=Error(s(423),{cause:l}),wl(Dn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=cf(t.stateNode,l,h),jh(t,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=Dn(f,a),Gl===null?Gl=[f]:Gl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Dn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cf(a.stateNode,l,t),jh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Sa===null||!Sa.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=bp(h),Tp(h,t,a,l),jh(a,h),!1}a=a.return}while(a!==null);return!1}var hf=Error(s(461)),Se=!1;function He(t,n,a,l){n.child=t===null?Rg(n,null,a,l):br(n,t.child,a,l)}function Ap(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return yr(n),l=Fh(t,n,a,_,f,h),b=Qh(),t!==null&&!Se?(Yh(t,n,h),Li(t,n,h)):(Ut&&b&&Rh(n),n.flags|=1,He(t,n,l,h),n.child)}function Sp(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,wp(t,n,f,l,h)):(t=hu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!vf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Tl,a(_,l)&&t.ref===n.ref)return Li(t,n,h)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function wp(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Tl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,vf(t,h))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Li(t,n,h)}return ff(t,n,a,l,h)}function Rp(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Cp(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&gu(n,f!==null?f.cachePool:null),f!==null?Dg(n,f):Ph(),Ng(n);else return l=n.lanes=536870912,Cp(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(gu(n,f.cachePool),Dg(n,f),Ea(),n.memoizedState=null):(t!==null&&gu(n,null),Ph(),Ea());return He(t,n,h,a),n.child}function Ul(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Cp(t,n,a,l,h){var f=kh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&gu(n,null),Ph(),Ng(n),t!==null&&is(t,n,l,!0),n.childLanes=h,null}function Iu(t,n){return n=Mu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function xp(t,n,a){return br(n,t.child,null,a),t=Iu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function T1(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=Iu(n,l),n.lanes=536870912,Ul(null,t);if(Hh(n),(t=ee)?(t=By(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fa!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=n,n.child=a,Pe=n,ee=null)):t=null,t===null)throw ma(n);return n.lanes=536870912,null}return Iu(n,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Hh(n),h)if(n.flags&256)n.flags&=-257,n=xp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||is(t,n,a,!1),h=(a&t.childLanes)!==0,Se||h){if(l=Wt,l!==null&&(_=al(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,dr(t,_),on(l,t,_),hf;qu(),n=xp(t,n,a)}else t=f.treeContext,ee=On(_.nextSibling),Pe=n,Ut=!0,da=null,Vn=!1,t!==null&&mg(n,t),n=Iu(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Vu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function ff(t,n,a,l,h){return yr(n),a=Fh(t,n,a,l,void 0,h),l=Qh(),t!==null&&!Se?(Yh(t,n,h),Li(t,n,h)):(Ut&&l&&Rh(n),n.flags|=1,He(t,n,a,h),n.child)}function Dp(t,n,a,l,h,f){return yr(n),n.updateQueue=null,a=Vg(n,l,a,h),Ig(t),l=Qh(),t!==null&&!Se?(Yh(t,n,f),Li(t,n,f)):(Ut&&l&&Rh(n),n.flags|=1,He(t,n,a,f),n.child)}function Np(t,n,a,l,h){if(yr(n),n.stateNode===null){var f=Wr,_=a.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Uh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?qe(_):Wr,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(of(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&uf.enqueueReplaceState(f,f.state,null),Vl(n,l,f,h),Il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,N=Ar(a,b);f.props=N;var P=f.context,Z=a.contextType;_=Wr,typeof Z=="object"&&Z!==null&&(_=qe(Z));var tt=a.getDerivedStateFromProps;Z=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==_)&&pp(n,f,l,_),pa=!1;var H=n.memoizedState;f.state=H,Vl(n,l,f,h),Il(),P=n.memoizedState,b||H!==P||pa?(typeof tt=="function"&&(of(n,a,tt,l),P=n.memoizedState),(N=pa||gp(n,a,N,l,H,P,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=_,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Lh(t,n),_=n.memoizedProps,Z=Ar(a,_),f.props=Z,tt=n.pendingProps,H=f.context,P=a.contextType,N=Wr,typeof P=="object"&&P!==null&&(N=qe(P)),b=a.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==tt||H!==N)&&pp(n,f,l,N),pa=!1,H=n.memoizedState,f.state=H,Vl(n,l,f,h),Il();var Y=n.memoizedState;_!==tt||H!==Y||pa||t!==null&&t.dependencies!==null&&du(t.dependencies)?(typeof b=="function"&&(of(n,a,b,l),Y=n.memoizedState),(Z=pa||gp(n,a,Z,l,H,Y,N)||t!==null&&t.dependencies!==null&&du(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),f.props=l,f.state=Y,f.context=N,l=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Vu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=br(n,t.child,null,h),n.child=br(n,null,a,h)):He(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Li(t,n,h),t}function Ip(t,n,a,l){return gr(),n.flags|=256,He(t,n,a,l),n.child}var df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(t){return{baseLanes:t,cachePool:Eg()}}function gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function Vp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(h?va(n):Ea(),(t=ee)?(t=By(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fa!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=n,n.child=a,Pe=n,ee=null)):t=null,t===null)throw ma(n);return Zf(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Ea(),h=n.mode,b=Mu({mode:"hidden",children:b},h),l=mr(l,h,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=mf(a),l.childLanes=gf(t,_,a),n.memoizedState=df,Ul(null,l)):(va(n),pf(n,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)n.flags&256?(va(n),n.flags&=-257,n=yf(t,n,a)):n.memoizedState!==null?(Ea(),n.child=t.child,n.flags|=128,n=null):(Ea(),b=l.fallback,h=n.mode,l=Mu({mode:"visible",children:l.children},h),b=mr(b,h,a,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,br(n,t.child,null,a),l=n.child,l.memoizedState=mf(a),l.childLanes=gf(t,_,a),n.memoizedState=df,n=Ul(null,l));else if(va(n),Zf(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,wl({value:l,source:null,stack:null}),n=yf(t,n,a)}else if(Se||is(t,n,a,!1),_=(a&t.childLanes)!==0,Se||_){if(_=Wt,_!==null&&(l=al(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,dr(t,l),on(_,t,l),hf;$f(b)||qu(),n=yf(t,n,a)}else $f(b)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ee=On(b.nextSibling),Pe=n,Ut=!0,da=null,Vn=!1,t!==null&&mg(n,t),n=pf(n,l.children),n.flags|=4096);return n}return h?(Ea(),b=l.fallback,h=n.mode,N=t.child,P=N.sibling,l=Vi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?b=Vi(P,b):(b=mr(b,h,a,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Ul(null,l),l=n.child,b=t.child.memoizedState,b===null?b=mf(a):(h=b.cachePool,h!==null?(N=Te._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Eg(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=gf(t,_,a),n.memoizedState=df,Ul(t.child,l)):(va(n),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function pf(t,n){return n=Mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Mu(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function yf(t,n,a){return br(n,t.child,null,a),t=pf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ih(t.return,n,a)}function _f(t,n,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Op(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=me.current,b=(_&2)!==0;if(b?(_=_&1|2,n.flags|=128):_&=1,ot(me,_),He(t,n,l,a),l=Ut?Sl:0,!b&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mp(t,a,n);else if(t.tag===19)Mp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&bu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),_f(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_f(n,!0,a,null,f,l);break;case"together":_f(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Li(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Aa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(is(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function vf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&du(t)))}function A1(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),ga(n,Te,t.memoizedState.cache),gr();break;case 27:case 5:Xa(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:ga(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Hh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(va(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Vp(t,n,a):(va(n),t=Li(t,n,a),t!==null?t.sibling:null);va(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(is(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Op(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(me,me.current),l)break;return null;case 22:return n.lanes=0,Rp(t,n,a,n.pendingProps);case 24:ga(n,Te,t.memoizedState.cache)}return Li(t,n,a)}function kp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!vf(t,a)&&(n.flags&128)===0)return Se=!1,A1(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ut&&(n.flags&1048576)!==0&&dg(n,Sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=vr(n.elementType),n.type=t,typeof t=="function")Ah(t)?(l=Ar(t,l),n.tag=1,n=Np(null,n,t,l,a)):(n.tag=0,n=ff(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===vt){n.tag=11,n=Ap(null,n,t,l,a);break t}else if(h===D){n.tag=14,n=Sp(null,n,t,l,a);break t}}throw n=Nt(t)||t,Error(s(306,n,""))}}return n;case 0:return ff(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ar(l,n.pendingProps),Np(t,n,l,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Lh(t,n),Vl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,ga(n,Te,l),l!==f.cache&&Vh(n,[Te],a,!0),Il(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ip(t,n,l,a);break t}else if(l!==h){h=Dn(Error(s(424)),n),wl(h),n=Ip(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=On(t.firstChild),Pe=n,Ut=!0,da=null,Vn=!0,a=Rg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gr(),l===h){n=Li(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return Vu(t,n),t===null?(a=Qy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,t=n.pendingProps,l=Xu(xt.current).createElement(a),l[ve]=n,l[ke]=t,Ge(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=Qy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xa(n),t===null&&Ut&&(l=n.stateNode=Hy(n.type,n.pendingProps,xt.current),Pe=n,Vn=!0,h=ee,xa(n.type)?(Jf=h,ee=On(l.firstChild)):ee=h),He(t,n,n.pendingProps.children,a),Vu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((h=l=ee)&&(l=W1(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,Pe=n,ee=On(l.firstChild),Vn=!1,h=!0):h=!1),h||ma(n)),Xa(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Yf(h,f)?l=null:_!==null&&Yf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Fh(t,n,m1,null,null,a),Jl._currentValue=h),Vu(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Ut&&((t=a=ee)&&(a=tb(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Pe=n,ee=null,t=!0):t=!1),t||ma(n)),null;case 13:return Vp(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=br(n,null,l,a):He(t,n,l,a),n.child;case 11:return Ap(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ga(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,yr(n),h=qe(h),l=l(h),n.flags|=1,He(t,n,l,a),n.child;case 14:return Sp(t,n,n.type,n.pendingProps,a);case 15:return wp(t,n,n.type,n.pendingProps,a);case 19:return Op(t,n,a);case 31:return T1(t,n,a);case 22:return Rp(t,n,a,n.pendingProps);case 24:return yr(n),l=qe(Te),t===null?(h=kh(),h===null&&(h=Wt,f=Mh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Uh(n),ga(n,Te,h)):((t.lanes&a)!==0&&(Lh(t,n),Vl(n,null,null,a),Il()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ga(n,Te,l)):(l=f.cache,ga(n,Te,l),l!==h.cache&&Vh(n,[Te],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ji(t){t.flags|=4}function Ef(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(oy())t.flags|=8192;else throw Er=yu,zh}else t.flags&=-16777217}function zp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zy(n))if(oy())t.flags|=8192;else throw Er=yu,zh}function Ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bo():536870912,t.lanes|=n,gs|=n)}function Ll(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function S1(t,n,a){var l=n.pendingProps;switch(Ch(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(Te),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ns(n)?ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ji(n),f!==null?(ne(n),zp(n,f)):(ne(n),Ef(n,h,null,l,a))):f?f!==t.memoizedState?(ji(n),ne(n),zp(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ji(n),ne(n),Ef(n,h,t,l,a)),null;case 27:if(Or(n),a=xt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ct.current,ns(n)?gg(n):(t=Hy(h,l,a),n.stateNode=t,ji(n))}return ne(n),null;case 5:if(Or(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=ct.current,ns(n))gg(n);else{var _=Xu(xt.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[ve]=n,f[ke]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;t:switch(Ge(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ji(n)}}return ne(n),Ef(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=xt.current,ns(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Pe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vy(t.nodeValue,a)),t||ma(n,!0)}else t=Xu(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ns(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=Dh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ns(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Dh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Ou(n,n.updateQueue),ne(n),null);case 4:return re(),t===null&&qf(n.stateNode.containerInfo),ne(n),null;case 10:return ki(n.type),ne(n),null;case 19:if(K(me),l=n.memoizedState,l===null)return ne(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ll(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=bu(t),f!==null){for(n.flags|=128,Ll(l,!1),t=f.updateQueue,n.updateQueue=t,Ou(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)cg(a,t),a=a.sibling;return ot(me,me.current&1|2),Ut&&Mi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>ju&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304)}else{if(!h)if(t=bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ou(n,t),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ne(n),null}else 2*Je()-l.renderingStartTime>ju&&a!==536870912&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=me.current,ot(me,h?a&1|2:a&1),Ut&&Mi(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return yn(n),qh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Ou(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(_r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ki(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function w1(t,n){switch(Ch(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ki(Te),re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Or(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(me),null;case 4:return re(),null;case 10:return ki(n.type),null;case 22:case 23:return yn(n),qh(),t!==null&&K(_r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ki(Te),null;case 25:return null;default:return null}}function Up(t,n){switch(Ch(n),n.tag){case 3:ki(Te),re();break;case 26:case 27:case 5:Or(n);break;case 4:re();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(me);break;case 10:ki(n.type);break;case 22:case 23:yn(n),qh(),t!==null&&K(_r);break;case 24:ki(Te)}}function jl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Kt(n,n.return,b)}}function ba(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=n;var N=a,P=b;try{P()}catch(Z){Kt(h,N,Z)}}}l=l.next}while(l!==f)}}catch(Z){Kt(n,n.return,Z)}}function Lp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xg(n,a)}catch(l){Kt(t,t.return,l)}}}function jp(t,n,a){a.props=Ar(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Kt(t,n,h)}}function Ei(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Kt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(t,n,h)}else a.current=null}function Bp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Kt(t,t.return,h)}}function bf(t,n,a){try{var l=t.stateNode;Y1(l,t.type,a,n),l[ke]=n}catch(h){Kt(t,t.return,h)}}function Pp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xa(t.type)||t.tag===4}function Tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&xa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Af(t,n,a),t=t.sibling;t!==null;)Af(t,n,a),t=t.sibling}function ku(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&xa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ku(t,n,a),t=t.sibling;t!==null;)ku(t,n,a),t=t.sibling}function qp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,a),n[ve]=t,n[ke]=a}catch(f){Kt(t,t.return,f)}}var Bi=!1,we=!1,Sf=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function R1(t,n){if(t=t.containerInfo,Ff=nc,t=eg(t),ph(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,b=-1,N=-1,P=0,Z=0,tt=t,H=null;e:for(;;){for(var Y;tt!==a||h!==0&&tt.nodeType!==3||(b=_+h),tt!==f||l!==0&&tt.nodeType!==3||(N=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)H=tt,tt=Y;for(;;){if(tt===t)break e;if(H===a&&++P===h&&(b=_),H===f&&++Z===l&&(N=_),(Y=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=Y}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qf={focusedElem:t,selectionRange:a},nc=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var dt=Ar(a.type,h);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Kt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Xf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function Gp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&jl(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Kt(a,a.return,_)}else{var h=Ar(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Kt(a,a.return,_)}}l&64&&Lp(a),l&512&&Bl(a,a.return);break;case 3:if(qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xg(t,n)}catch(_){Kt(a,a.return,_)}}break;case 27:n===null&&l&4&&qp(a);case 26:case 5:qi(t,a),n===null&&l&4&&Bp(a),l&512&&Bl(a,a.return);break;case 12:qi(t,a);break;case 31:qi(t,a),l&4&&Yp(t,a);break;case 13:qi(t,a),l&4&&Kp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=k1.bind(null,a),eb(t,a))));break;case 22:if(l=a.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||we,h=Bi;var f=we;Bi=l,(we=n)&&!f?Hi(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),Bi=h,we=f}break;case 30:break;default:qi(t,a)}}function Fp(t){var n=t.alternate;n!==null&&(t.alternate=null,Fp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&jr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,an=!1;function Pi(t,n,a){for(a=a.child;a!==null;)Qp(t,n,a),a=a.sibling}function Qp(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:we||Ei(a,n),Pi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ei(a,n);var l=le,h=an;xa(a.type)&&(le=a.stateNode,an=!1),Pi(t,n,a),Xl(a.stateNode),le=l,an=h;break;case 5:we||Ei(a,n);case 6:if(l=le,h=an,le=null,Pi(t,n,a),le=l,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:le!==null&&(an?(t=le,Ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),As(t)):Ly(le,a.stateNode));break;case 4:l=le,h=an,le=a.stateNode.containerInfo,an=!0,Pi(t,n,a),le=l,an=h;break;case 0:case 11:case 14:case 15:ba(2,a,n),we||ba(4,a,n),Pi(t,n,a);break;case 1:we||(Ei(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jp(a,n,l)),Pi(t,n,a);break;case 21:Pi(t,n,a);break;case 22:we=(l=we)||a.memoizedState!==null,Pi(t,n,a),we=l;break;default:Pi(t,n,a)}}function Yp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{As(t)}catch(a){Kt(n,n.return,a)}}}function Kp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{As(t)}catch(a){Kt(n,n.return,a)}}function C1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Hp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Hp),n;default:throw Error(s(435,t.tag))}}function zu(t,n){var a=C1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=z1.bind(null,t,l);l.then(h,h)}})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=n,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(xa(b.type)){le=b.stateNode,an=!1;break t}break;case 5:le=b.stateNode,an=!1;break t;case 3:case 4:le=b.stateNode.containerInfo,an=!0;break t}b=b.return}if(le===null)throw Error(s(160));Qp(f,_,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xp(n,t),n=n.sibling}var Xn=null;function Xp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(ba(3,t,t.return),jl(3,t),ba(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(we||a===null||Ei(a,a.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(rn(n,t),sn(t),l&512&&(we||a===null||Ei(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var _=Xy("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}f=h.createElement(l),Ge(f,l,a),h.head.appendChild(f);break;case"meta":if(_=Xy("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}f=h.createElement(l),Ge(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else $y(h,t.type,t.stateNode);else t.stateNode=Ky(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?$y(h,t.type,t.stateNode):Ky(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(we||a===null||Ei(a,a.return)),a!==null&&l&4&&bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(we||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{nn(h,"")}catch(dt){Kt(t,t.return,dt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,bf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Sf=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(dt){Kt(t,t.return,dt)}}break;case 3:if(Ju=null,h=Xn,Xn=$u(n.containerInfo),rn(n,t),Xn=h,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{As(n.containerInfo)}catch(dt){Kt(t,t.return,dt)}Sf&&(Sf=!1,$p(t));break;case 4:l=Xn,Xn=$u(t.stateNode.containerInfo),rn(n,t),sn(t),Xn=l;break;case 12:rn(n,t),sn(t);break;case 31:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,P=Bi,Z=we;if(Bi=P||h,we=Z||N,rn(n,t),we=Z,Bi=P,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Bi||we||Sr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var tt=N.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(dt){Kt(N,N.return,dt)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(dt){Kt(N,N.return,dt)}}}else if(n.tag===18){if(a===null){N=n;try{var Y=N.stateNode;h?jy(Y,!0):jy(N.stateNode,!1)}catch(dt){Kt(N,N.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zu(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Pp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Tf(t);ku(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(nn(_,""),a.flags&=-33);var b=Tf(t);ku(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,P=Tf(t);Af(t,P,N);break;default:throw Error(s(161))}}catch(Z){Kt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function $p(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;$p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gp(t,n.alternate,n),n=n.sibling}function Sr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ba(4,n,n.return),Sr(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&jp(n,n.return,a),Sr(n);break;case 27:Xl(n.stateNode);case 26:case 5:Ei(n,n.return),Sr(n);break;case 22:n.memoizedState===null&&Sr(n);break;case 30:Sr(n);break;default:Sr(n)}t=t.sibling}}function Hi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,a),jl(4,f);break;case 1:if(Hi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Cg(N[h],b)}catch(P){Kt(l,l.return,P)}}a&&_&64&&Lp(f),Bl(f,f.return);break;case 27:qp(f);case 26:case 5:Hi(h,f,a),a&&l===null&&_&4&&Bp(f),Bl(f,f.return);break;case 12:Hi(h,f,a);break;case 31:Hi(h,f,a),a&&_&4&&Yp(h,f);break;case 13:Hi(h,f,a),a&&_&4&&Kp(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,a),Bl(f,f.return);break;case 30:break;default:Hi(h,f,a)}n=n.sibling}}function wf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Rl(a))}function Rf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Rl(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zp(t,n,a,l),n=n.sibling}function Zp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),h&2048&&jl(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Rl(t)));break;case 12:if(h&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Kt(n,n.return,N)}}else $n(t,n,a,l);break;case 31:$n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):Pl(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,fs(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&wf(_,n);break;case 24:$n(t,n,a,l),h&2048&&Rf(n.alternate,n);break;default:$n(t,n,a,l)}}function fs(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,b=a,N=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:fs(f,_,b,N,h),jl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?fs(f,_,b,N,h):Pl(f,_):(Z._visibility|=2,fs(f,_,b,N,h)),h&&P&2048&&wf(_.alternate,_);break;case 24:fs(f,_,b,N,h),h&&P&2048&&Rf(_.alternate,_);break;default:fs(f,_,b,N,h)}n=n.sibling}}function Pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&wf(l.alternate,l);break;case 24:Pl(a,l),h&2048&&Rf(l.alternate,l);break;default:Pl(a,l)}n=n.sibling}}var ql=8192;function ds(t,n,a){if(t.subtreeFlags&ql)for(t=t.child;t!==null;)Jp(t,n,a),t=t.sibling}function Jp(t,n,a){switch(t.tag){case 26:ds(t,n,a),t.flags&ql&&t.memoizedState!==null&&db(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:ds(t,n,a);break;case 3:case 4:var l=Xn;Xn=$u(t.stateNode.containerInfo),ds(t,n,a),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,ds(t,n,a),ql=l):ds(t,n,a));break;default:ds(t,n,a)}}function Wp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,ey(l,t)}Wp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ty(t),t=t.sibling}function ty(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&ba(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Uu(t)):Hl(t);break;default:Hl(t)}}function Uu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,ey(l,t)}Wp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ba(8,n,n.return),Uu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Uu(n));break;default:Uu(n)}t=t.sibling}}function ey(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:ba(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(Fp(l),l===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var x1={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,It=null,Mt=0,Yt=0,_n=null,Ta=!1,ms=!1,Cf=!1,Gi=0,ce=0,Aa=0,wr=0,xf=0,vn=0,gs=0,Gl=null,ln=null,Df=!1,Lu=0,ny=0,ju=1/0,Bu=null,Sa=null,Ie=0,wa=null,ps=null,Fi=0,Nf=0,If=null,iy=null,Fl=0,Vf=null;function En(){return(Gt&2)!==0&&Mt!==0?Mt&-Mt:M.T!==null?Lf():Po()}function ay(){if(vn===0)if((Mt&536870912)===0||Ut){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function on(t,n,a){(t===Wt&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(ys(t,0),Ra(t,Mt,vn,!1)),Wa(t,a),((Gt&2)===0||t!==Wt)&&(t===Wt&&((Gt&2)===0&&(wr|=a),ce===4&&Ra(t,Mt,vn,!1)),bi(t))}function ry(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=l?V1(t,n):Of(t,n,!0),f=l;do{if(h===0){ms&&!l&&Ra(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!N1(a)){h=Of(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var b=t;h=Gl;var N=b.current.memoizedState.isDehydrated;if(N&&(ys(b,_).flags|=256),_=Of(b,_,!1),_!==2){if(Cf&&!N){b.errorRecoveryDisabledLanes|=f,wr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ys(t,0),Ra(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ra(l,n,vn,!Ta);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Lu+300-Je(),10<h)){if(Ra(l,n,vn,!Ta),ii(l,0,!0)!==0)break t;Fi=n,l.timeoutHandle=zy(sy.bind(null,l,a,ln,Bu,Df,n,vn,wr,gs,Ta,f,"Throttled",-0,0),h);break t}sy(l,a,ln,Bu,Df,n,vn,wr,gs,Ta,f,null,-0,0)}}break}while(!0);bi(t)}function sy(t,n,a,l,h,f,_,b,N,P,Z,tt,H,Y){if(t.timeoutHandle=-1,tt=n.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Jp(n,f,tt);var dt=(f&62914560)===f?Lu-Je():(f&4194048)===f?ny-Je():0;if(dt=mb(tt,dt),dt!==null){Fi=f,t.cancelPendingCommit=dt(my.bind(null,t,n,f,a,l,h,_,b,N,Z,tt,null,H,Y)),Ra(t,f,_,!P);return}}my(t,n,f,a,l,h,_,b,N)}function N1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ra(t,n,a,l){n&=~xf,n&=~wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&tr(t,a,n)}function Pu(){return(Gt&6)===0?(Ql(0),!1):!0}function Mf(){if(It!==null){if(Yt===0)var t=It.return;else t=It,Oi=pr=null,Kh(t),ls=null,xl=0,t=It;for(;t!==null;)Up(t.alternate,t),t=t.return;It=null}}function ys(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Fi=0,Mf(),Wt=t,It=a=Vi(t.current,null),Mt=n,Yt=0,_n=null,Ta=!1,ms=Bn(t,n),Cf=!1,gs=vn=xf=wr=Aa=ce=0,ln=Gl=null,Df=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-fe(l),f=1<<h;n|=t[h],l&=~f}return Gi=n,ou(),a}function ly(t,n){Ct=null,M.H=zl,n===ss||n===pu?(n=Ag(),Yt=3):n===zh?(n=Ag(),Yt=4):Yt=n===hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(ce=1,Nu(t,Dn(n,t.current)))}function oy(){var t=pn.current;return t===null?!0:(Mt&4194048)===Mt?Mn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===Mn:!1}function uy(){var t=M.H;return M.H=zl,t===null?zl:t}function cy(){var t=M.A;return M.A=x1,t}function qu(){ce=4,Ta||(Mt&4194048)!==Mt&&pn.current!==null||(ms=!0),(Aa&134217727)===0&&(wr&134217727)===0||Wt===null||Ra(Wt,Mt,vn,!1)}function Of(t,n,a){var l=Gt;Gt|=2;var h=uy(),f=cy();(Wt!==t||Mt!==n)&&(Bu=null,ys(t,n)),n=!1;var _=ce;t:do try{if(Yt!==0&&It!==null){var b=It,N=_n;switch(Yt){case 8:Mf(),_=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Yt;if(Yt=0,_n=null,_s(t,b,N,P),a&&ms){_=0;break t}break;default:P=Yt,Yt=0,_n=null,_s(t,b,N,P)}}I1(),_=ce;break}catch(Z){ly(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Oi=pr=null,Gt=l,M.H=h,M.A=f,It===null&&(Wt=null,Mt=0,ou()),_}function I1(){for(;It!==null;)hy(It)}function V1(t,n){var a=Gt;Gt|=2;var l=uy(),h=cy();Wt!==t||Mt!==n?(Bu=null,ju=Je()+500,ys(t,n)):ms=Bn(t,n);t:do try{if(Yt!==0&&It!==null){n=It;var f=_n;e:switch(Yt){case 1:Yt=0,_n=null,_s(t,n,f,1);break;case 2:case 9:if(bg(f)){Yt=0,_n=null,fy(n);break}n=function(){Yt!==2&&Yt!==9||Wt!==t||(Yt=7),bi(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:bg(f)?(Yt=0,_n=null,fy(n)):(Yt=0,_n=null,_s(t,n,f,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var b=It;if(_?Zy(_):b.stateNode.complete){Yt=0,_n=null;var N=b.sibling;if(N!==null)It=N;else{var P=b.return;P!==null?(It=P,Hu(P)):It=null}break e}}Yt=0,_n=null,_s(t,n,f,5);break;case 6:Yt=0,_n=null,_s(t,n,f,6);break;case 8:Mf(),ce=6;break t;default:throw Error(s(462))}}M1();break}catch(Z){ly(t,Z)}while(!0);return Oi=pr=null,M.H=l,M.A=h,Gt=a,It!==null?0:(Wt=null,Mt=0,ou(),ce)}function M1(){for(;It!==null&&!uh();)hy(It)}function hy(t){var n=kp(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?Hu(t):It=n}function fy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Dp(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Dp(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Kh(n);default:Up(a,n),n=It=cg(n,Gi),n=kp(a,n,Gi)}t.memoizedProps=t.pendingProps,n===null?Hu(t):It=n}function _s(t,n,a,l){Oi=pr=null,Kh(n),ls=null,xl=0;var h=n.return;try{if(b1(t,h,n,a,Mt)){ce=1,Nu(t,Dn(a,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,Nu(t,Dn(a,t.current)),It=null;return}n.flags&32768?(Ut||l===1?t=!0:ms||(Mt&536870912)!==0?t=!1:(Ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(n,t)):Hu(n)}function Hu(t){var n=t;do{if((n.flags&32768)!==0){dy(n,Ta);return}t=n.return;var a=S1(n.alternate,n,Gi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);ce===0&&(ce=5)}function dy(t,n){do{var a=w1(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);ce=6,It=null}function my(t,n,a,l,h,f,_,b,N){t.cancelPendingCommit=null;do Gu();while(Ie!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=bh,fh(t,a,f,_,b,N),t===Wt&&(It=Wt=null,Mt=0),ps=n,wa=t,Fi=a,Nf=f,If=h,iy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,U1(na,function(){return vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,h=G.p,G.p=2,_=Gt,Gt|=4;try{R1(t,n,a)}finally{Gt=_,G.p=h,M.T=l}}Ie=1,gy(),py(),yy()}}function gy(){if(Ie===1){Ie=0;var t=wa,n=ps,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=G.p;G.p=2;var h=Gt;Gt|=4;try{Xp(n,t);var f=Qf,_=eg(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&tg(b.ownerDocument.documentElement,b)){if(N!==null&&ph(b)){var P=N.start,Z=N.end;if(Z===void 0&&(Z=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(Z,b.value.length);else{var tt=b.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var Y=H.getSelection(),dt=b.textContent.length,yt=Math.min(N.start,dt),Jt=N.end===void 0?yt:Math.min(N.end,dt);!Y.extend&&yt>Jt&&(_=Jt,Jt=yt,yt=_);var U=Wm(b,yt),V=Wm(b,Jt);if(U&&V&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var B=tt.createRange();B.setStart(U.node,U.offset),Y.removeAllRanges(),yt>Jt?(Y.addRange(B),Y.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Y.addRange(B))}}}}for(tt=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&tt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var W=tt[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}nc=!!Ff,Qf=Ff=null}finally{Gt=h,G.p=l,M.T=a}}t.current=n,Ie=2}}function py(){if(Ie===2){Ie=0;var t=wa,n=ps,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=G.p;G.p=2;var h=Gt;Gt|=4;try{Gp(t,n.alternate,n)}finally{Gt=h,G.p=l,M.T=a}}Ie=3}}function yy(){if(Ie===4||Ie===3){Ie=0,Oo();var t=wa,n=ps,a=Fi,l=iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,ps=wa=null,_y(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sa=null),xi(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,h=G.p,G.p=2,M.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];f(b.value,{componentStack:b.stack})}}finally{M.T=n,G.p=h}}(Fi&3)!==0&&Gu(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Vf?Fl++:(Fl=0,Vf=t):Fl=0,Ql(0)}}function _y(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Rl(n)))}function Gu(){return gy(),py(),yy(),vy()}function vy(){if(Ie!==5)return!1;var t=wa,n=Nf;Nf=0;var a=xi(Fi),l=M.T,h=G.p;try{G.p=32>a?32:a,M.T=null,a=If,If=null;var f=wa,_=Fi;if(Ie=0,ps=wa=null,Fi=0,(Gt&6)!==0)throw Error(s(331));var b=Gt;if(Gt|=4,ty(f.current),Zp(f,f.current,_,a),Gt=b,Ql(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{G.p=h,M.T=l,_y(t,n)}}function Ey(t,n,a){n=Dn(a,n),n=cf(t.stateNode,n,2),t=_a(t,n,2),t!==null&&(Wa(t,2),bi(t))}function Kt(t,n,a){if(t.tag===3)Ey(t,t,a);else for(;n!==null;){if(n.tag===3){Ey(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sa===null||!Sa.has(l))){t=Dn(a,t),a=bp(2),l=_a(n,a,2),l!==null&&(Tp(a,l,n,t),Wa(l,2),bi(l));break}}n=n.return}}function kf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new D1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Cf=!0,h.add(a),t=O1.bind(null,t,n,a),n.then(t,t))}function O1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Mt&a)===a&&(ce===4||ce===3&&(Mt&62914560)===Mt&&300>Je()-Lu?(Gt&2)===0&&ys(t,0):xf|=a,gs===Mt&&(gs=0)),bi(t)}function by(t,n){n===0&&(n=Bo()),t=dr(t,n),t!==null&&(Wa(t,n),bi(t))}function k1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),by(t,a)}function z1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),by(t,a)}function U1(t,n){return Ne(t,n)}var Fu=null,vs=null,zf=!1,Qu=!1,Uf=!1,Ca=0;function bi(t){t!==vs&&t.next===null&&(vs===null?Fu=vs=t:vs=vs.next=t),Qu=!0,zf||(zf=!0,j1())}function Ql(t,n){if(!Uf&&Qu){Uf=!0;do for(var a=!1,l=Fu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=h&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,wy(l,f))}else f=Mt,f=ii(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(a=!0,wy(l,f));l=l.next}while(a);Uf=!1}}function L1(){Ty()}function Ty(){Qu=zf=!1;var t=0;Ca!==0&&X1()&&(t=Ca);for(var n=Je(),a=null,l=Fu;l!==null;){var h=l.next,f=Ay(l,n);f===0?(l.next=null,a===null?Fu=h:a.next=h,h===null&&(vs=a)):(a=l,(t!==0||(f&3)!==0)&&(Qu=!0)),l=h}Ie!==0&&Ie!==5||Ql(t),Ca!==0&&(Ca=0)}function Ay(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-fe(f),b=1<<_,N=h[_];N===-1?((b&a)===0||(b&l)!==0)&&(h[_]=hh(b,n)):N<=n&&(t.expiredLanes|=b),f&=~b}if(n=Wt,a=Mt,a=ii(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ea(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ea(l),xi(a)){case 2:case 8:a=nl;break;case 32:a=na;break;case 268435456:a=ko;break;default:a=na}return l=Sy.bind(null,t),a=Ne(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ea(l),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gu()&&t.callbackNode!==a)return null;var l=Mt;return l=ii(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ry(t,l,n),Ay(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Sy.bind(null,t):null)}function wy(t,n){if(Gu())return null;ry(t,n,!0)}function j1(){Z1(function(){(Gt&6)!==0?Ne(el,L1):Ty()})}function Lf(){if(Ca===0){var t=as;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ca=t}return Ca}function Ry(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hr(""+t)}function Cy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function B1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Ry((h[ke]||null).action),_=l.submitter;_&&(n=(n=_[ke]||null)?Ry(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var b=new mi("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var N=_?Cy(h,_):new FormData(h);af(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=_?Cy(h,_):new FormData(h),af(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var jf=0;jf<Eh.length;jf++){var Bf=Eh[jf],P1=Bf.toLowerCase(),q1=Bf[0].toUpperCase()+Bf.slice(1);Kn(P1,"on"+q1)}Kn(ag,"onAnimationEnd"),Kn(rg,"onAnimationIteration"),Kn(sg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(a1,"onTransitionRun"),Kn(r1,"onTransitionStart"),Kn(s1,"onTransitionCancel"),Kn(lg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function xy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,P=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=P;try{f(h)}catch(Z){lu(Z)}h.currentTarget=null,f=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,P=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=P;try{f(h)}catch(Z){lu(Z)}h.currentTarget=null,f=N}}}}function Vt(t,n){var a=n[Lr];a===void 0&&(a=n[Lr]=new Set);var l=t+"__bubble";a.has(l)||(Dy(n,t,2,!1),a.add(l))}function Pf(t,n,a){var l=0;n&&(l|=4),Dy(a,t,l,n)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function qf(t){if(!t[Yu]){t[Yu]=!0,rl.forEach(function(a){a!=="selectionchange"&&(H1.has(a)||Pf(a,!1,t),Pf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Yu]||(n[Yu]=!0,Pf("selectionchange",!1,n))}}function Dy(t,n,a,l){switch(a_(n)){case 2:var h=yb;break;case 8:h=_b;break;default:h=id}a=h.bind(null,n,a,t),h=void 0,!rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Hf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=li(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=f=_;continue t}b=b.parentNode}}l=l.return}oa(function(){var P=f,Z=wn(a),tt=[];t:{var H=og.get(t);if(H!==void 0){var Y=mi,dt=t;switch(t){case"keypress":if(lr(a)===0)break t;case"keydown":case"keyup":Y=au;break;case"focusin":dt="focus",Y=ur;break;case"focusout":dt="blur",Y=ur;break;case"beforeblur":case"afterblur":Y=ur;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=m;break;case ag:case rg:case sg:Y=Zo;break;case lg:Y=A;break;case"scroll":case"scrollend":Y=yl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=Jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ii;break;case"toggle":case"beforetoggle":Y=Rt}var yt=(n&4)!==0,Jt=!yt&&(t==="scroll"||t==="scrollend"),U=yt?H!==null?H+"Capture":null:H;yt=[];for(var V=P,B;V!==null;){var W=V;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||U===null||(W=Gn(V,U),W!=null&&yt.push(Kl(V,W,B))),Jt)break;V=V.return}0<yt.length&&(H=new Y(H,dt,null,a,Z),tt.push({event:H,listeners:yt}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==ml&&(dt=a.relatedTarget||a.fromElement)&&(li(dt)||dt[ri]))break t;if((Y||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(dt=a.relatedTarget||a.toElement,Y=P,dt=dt?li(dt):null,dt!==null&&(Jt=c(dt),yt=dt.tag,dt!==Jt||yt!==5&&yt!==27&&yt!==6)&&(dt=null)):(Y=null,dt=P),Y!==dt)){if(yt=_l,W="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Ii,W="onPointerLeave",U="onPointerEnter",V="pointer"),Jt=Y==null?H:fn(Y),B=dt==null?H:fn(dt),H=new yt(W,V+"leave",Y,a,Z),H.target=Jt,H.relatedTarget=B,W=null,li(Z)===P&&(yt=new yt(U,V+"enter",dt,a,Z),yt.target=B,yt.relatedTarget=Jt,W=yt),Jt=W,Y&&dt)e:{for(yt=G1,U=Y,V=dt,B=0,W=U;W;W=yt(W))B++;W=0;for(var pt=V;pt;pt=yt(pt))W++;for(;0<B-W;)U=yt(U),B--;for(;0<W-B;)V=yt(V),W--;for(;B--;){if(U===V||V!==null&&U===V.alternate){yt=U;break e}U=yt(U),V=yt(V)}yt=null}else yt=null;Y!==null&&Ny(tt,H,Y,yt,!1),dt!==null&&Jt!==null&&Ny(tt,Jt,dt,yt,!0)}}t:{if(H=P?fn(P):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Pt=Ym;else if(Fm(H))if(Km)Pt=e1;else{Pt=WE;var mt=JE}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&qr(P.elementType)&&(Pt=Ym):Pt=t1;if(Pt&&(Pt=Pt(t,P))){Qm(tt,Pt,a,Z);break t}mt&&mt(t,H,P),t==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&hl(H,"number",H.value)}switch(mt=P?fn(P):window,t){case"focusin":(Fm(mt)||mt.contentEditable==="true")&&($r=mt,yh=P,Al=null);break;case"focusout":Al=yh=$r=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,ng(tt,a,Z);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":ng(tt,a,Z)}var Dt;if(Ht)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Xr?cr(t,a)&&(Ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(yi&&a.locale!=="ko"&&(Xr||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Xr&&(Dt=pl()):(di=Z,gl="value"in di?di.value:di.textContent,Xr=!0)),mt=Ku(P,Ot),0<mt.length&&(Ot=new pi(Ot,t,null,a,Z),tt.push({event:Ot,listeners:mt}),Dt?Ot.data=Dt:(Dt=Kr(a),Dt!==null&&(Ot.data=Dt)))),(Dt=Cn?KE(t,a):XE(t,a))&&(Ot=Ku(P,"onBeforeInput"),0<Ot.length&&(mt=new pi("onBeforeInput","beforeinput",null,a,Z),tt.push({event:mt,listeners:Ot}),mt.data=Dt)),B1(tt,t,P,a,Z)}xy(tt,n)})}function Kl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ku(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&l.unshift(Kl(t,h,f)),h=Gn(t,n),h!=null&&l.push(Kl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function G1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ny(t,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,P=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||P===null||(N=P,h?(P=Gn(a,f),P!=null&&_.unshift(Kl(a,P,N))):h||(P=Gn(a,f),P!=null&&_.push(Kl(a,P,N)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var F1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(F1,`
`).replace(Q1,"")}function Vy(t,n){return n=Iy(n),Iy(t)===n}function Zt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":dl(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",h.name,h,null),Zt(t,n,"formEncType",h.formEncType,h,null),Zt(t,n,"formMethod",h.formMethod,h,null),Zt(t,n,"formTarget",h.formTarget,h,null)):(Zt(t,n,"encType",h.encType,h,null),Zt(t,n,"method",h.method,h,null),Zt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Hr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Hr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Br(t,"popover",l);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ko.get(a)||a,Br(t,a,l))}}function Gf(t,n,a,l,h,f){switch(a){case"style":dl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Br(t,a,l)}}}function Ge(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,f,_,a,null)}}h&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var b=f=_=h=null,N=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":N=Z;break;case"defaultChecked":P=Z;break;case"value":f=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Zt(t,n,l,Z,a,null)}}Fo(t,f,b,N,P,_,h,!1);return;case"select":Vt("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Zt(t,n,h,b,a,null)}n=f,a=_,t.multiple=!!l,n!=null?aa(t,!!l,n,!1):a!=null&&aa(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Zt(t,n,_,b,a,null)}ra(t,l,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,N,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Vt(Yl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,P,l,a,null)}return;default:if(qr(n)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Gf(t,n,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Zt(t,n,b,l,a,null))}function Y1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,b=null,N=null,P=null,Z=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(Y)||Zt(t,n,Y,null,l,tt)}}for(var H in l){var Y=l[H];if(tt=a[H],l.hasOwnProperty(H)&&(Y!=null||tt!=null))switch(H){case"type":f=Y;break;case"name":h=Y;break;case"checked":P=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==tt&&Zt(t,n,H,Y,l,tt)}}Pr(t,_,b,N,P,Z,f,h);return;case"select":Y=_=b=H=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":H=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==N&&Zt(t,n,h,f,l,N)}n=b,a=_,l=Y,H!=null?aa(t,!!a,H,!1):!!l!=!!a&&(n!=null?aa(t,!!a,n,!0):aa(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Zt(t,n,b,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(t,n,_,h,l,f)}Qo(t,H,Y);return;case"option":for(var dt in a)if(H=a[dt],a.hasOwnProperty(dt)&&H!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Zt(t,n,dt,null,l,H)}for(N in l)if(H=l[N],Y=a[N],l.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Zt(t,n,N,H,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!=null&&!l.hasOwnProperty(yt)&&Zt(t,n,yt,null,l,H);for(P in l)if(H=l[P],Y=a[P],l.hasOwnProperty(P)&&H!==Y&&(H!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Zt(t,n,P,H,l,Y)}return;default:if(qr(n)){for(var Jt in a)H=a[Jt],a.hasOwnProperty(Jt)&&H!==void 0&&!l.hasOwnProperty(Jt)&&Gf(t,n,Jt,void 0,l,H);for(Z in l)H=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||H===Y||H===void 0&&Y===void 0||Gf(t,n,Z,H,l,Y);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Zt(t,n,U,null,l,H);for(tt in l)H=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||H===Y||H==null&&Y==null||Zt(t,n,tt,H,l,Y)}function My(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,b=h.duration;if(f&&b&&My(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],P=N.startTime;if(P>b)break;var Z=N.transferSize,tt=N.initiatorType;Z&&My(tt)&&(N=N.responseEnd,_+=Z*(N<b?1:(b-P)/(N-P)))}if(--l,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ff=null,Qf=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function Oy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kf=null;function X1(){var t=window.event;return t&&t.type==="popstate"?t===Kf?!1:(Kf=t,!0):(Kf=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(t){return Uy.resolve(null).then(t).catch(J1)}:zy;function J1(t){setTimeout(function(){throw t})}function xa(t){return t==="head"}function Ly(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),As(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[si]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Xl(t.ownerDocument.body);a=h}while(a);As(n)}function jy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Xf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xf(a),jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function W1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function tb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function By(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function $f(t){return t.data==="$?"||t.data==="$~"}function Zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function eb(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Jf=null;function Py(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return On(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function qy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Hy(t,n,a){switch(n=Xu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);jr(t)}var kn=new Map,Gy=new Set;function $u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=G.d;G.d={f:nb,r:ib,D:ab,C:rb,L:sb,m:lb,X:ub,S:ob,M:cb};function nb(){var t=Qi.f(),n=Pu();return t||n}function ib(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?lp(n):Qi.r(t)}var Es=typeof document>"u"?null:document;function Fy(t,n,a){var l=Es;if(l&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Gy.has(h)||(Gy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",t),Ee(n),l.head.appendChild(n)))}}function ab(t){Qi.D(t),Fy("dns-prefetch",t,null)}function rb(t,n){Qi.C(t,n),Fy("preconnect",t,n)}function sb(t,n,a){Qi.L(t,n,a);var l=Es;if(l&&t&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+en(a.imageSizes)+'"]')):h+='[href="'+en(t)+'"]';var f=h;switch(n){case"style":f=bs(t);break;case"script":f=Ts(t)}kn.has(f)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),kn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector($l(f))||n==="script"&&l.querySelector(Zl(f))||(n=l.createElement("link"),Ge(n,"link",t),Ee(n),l.head.appendChild(n)))}}function lb(t,n){Qi.m(t,n);var a=Es;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ts(t)}if(!kn.has(f)&&(t=T({rel:"modulepreload",href:t},n),kn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(f)))return}l=a.createElement("link"),Ge(l,"link",t),Ee(l),a.head.appendChild(l)}}}function ob(t,n,a){Qi.S(t,n,a);var l=Es;if(l&&t){var h=oi(l).hoistableStyles,f=bs(t);n=n||"default";var _=h.get(f);if(!_){var b={loading:0,preload:null};if(_=l.querySelector($l(f)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=kn.get(f))&&Wf(t,a);var N=_=l.createElement("link");Ee(N),Ge(N,"link",t),N._p=new Promise(function(P,Z){N.onload=P,N.onerror=Z}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Zu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(f,_)}}}function ub(t,n){Qi.X(t,n);var a=Es;if(a&&t){var l=oi(a).hoistableScripts,h=Ts(t),f=l.get(h);f||(f=a.querySelector(Zl(h)),f||(t=T({src:t,async:!0},n),(n=kn.get(h))&&td(t,n),f=a.createElement("script"),Ee(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function cb(t,n){Qi.M(t,n);var a=Es;if(a&&t){var l=oi(a).hoistableScripts,h=Ts(t),f=l.get(h);f||(f=a.querySelector(Zl(h)),f||(t=T({src:t,async:!0,type:"module"},n),(n=kn.get(h))&&td(t,n),f=a.createElement("script"),Ee(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Qy(t,n,a,l){var h=(h=xt.current)?$u(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bs(a.href),a=oi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bs(a.href);var f=oi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector($l(t)))&&!f._p&&(_.instance=f,_.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),f||hb(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ts(a),a=oi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function bs(t){return'href="'+en(t)+'"'}function $l(t){return'link[rel="stylesheet"]['+t+"]"}function Yy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function hb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",a),Ee(n),t.head.appendChild(n))}function Ts(t){return'[src="'+en(t)+'"]'}function Zl(t){return"script[async]"+t}function Ky(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),Ge(l,"style",h),Zu(l,a.precedence,t),n.instance=l;case"stylesheet":h=bs(a.href);var f=t.querySelector($l(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Yy(a),(h=kn.get(h))&&Wf(l,h),f=(t.ownerDocument||t).createElement("link"),Ee(f);var _=f;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Ge(f,"link",l),n.state.loading|=4,Zu(f,a.precedence,t),n.instance=f;case"script":return f=Ts(a.src),(h=t.querySelector(Zl(f)))?(n.instance=h,Ee(h),h):(l=a,(h=kn.get(f))&&(l=T({},a),td(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ee(h),Ge(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Zu(l,a.precedence,t));return n.instance}function Zu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ju=null;function Xy(t,n,a){if(Ju===null){var l=new Map,h=Ju=new Map;h.set(a,l)}else h=Ju,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[si]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var b=l.get(_);b?b.push(f):l.set(_,[f])}}return l}function $y(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function fb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function db(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=bs(l.href),f=n.querySelector($l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Wu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Yy(l),(h=kn.get(h))&&Wf(l,h),f=f.createElement("link"),Ee(f);var _=f;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Ge(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var ed=0;function mb(t,n){return t.stylesheets&&t.count===0&&ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&ed===0&&(ed=62500*K1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>ed?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var tc=null;function ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,tc=new Map,n.forEach(gb,t),tc=null,Wu.call(t))}function gb(t,n){if(!(n.state.loading&4)){var a=tc.get(t);if(a)var l=a.get(null);else{a=new Map,tc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Wu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Jl={$$typeof:st,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function pb(t,n,a,l,h,f,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Jy(t,n,a,l,h,f,_,b,N,P,Z,tt){return t=new pb(t,n,a,_,N,P,Z,tt,b),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=Mh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Uh(f),t}function Wy(t){return t?(t=Wr,t):Wr}function t_(t,n,a,l,h,f){h=Wy(h),l.context===null?l.context=h:l.pendingContext=h,l=ya(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=_a(t,l,n),a!==null&&(on(a,t,n),Nl(a,t,n))}function e_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function nd(t,n){e_(t,n),(t=t.alternate)&&e_(t,n)}function n_(t){if(t.tag===13||t.tag===31){var n=dr(t,67108864);n!==null&&on(n,t,67108864),nd(t,67108864)}}function i_(t){if(t.tag===13||t.tag===31){var n=En();n=er(n);var a=dr(t,n);a!==null&&on(a,t,n),nd(t,n)}}var nc=!0;function yb(t,n,a,l){var h=M.T;M.T=null;var f=G.p;try{G.p=2,id(t,n,a,l)}finally{G.p=f,M.T=h}}function _b(t,n,a,l){var h=M.T;M.T=null;var f=G.p;try{G.p=8,id(t,n,a,l)}finally{G.p=f,M.T=h}}function id(t,n,a,l){if(nc){var h=ad(l);if(h===null)Hf(t,n,l,ic,a),r_(t,l);else if(Eb(h,t,n,a,l))l.stopPropagation();else if(r_(t,l),n&4&&-1<vb.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ni(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-fe(_);b.entanglements[1]|=N,_&=~N}bi(f),(Gt&6)===0&&(ju=Je()+500,Ql(0))}}break;case 31:case 13:b=dr(f,2),b!==null&&on(b,f,2),Pu(),nd(f,2)}if(f=ad(l),f===null&&Hf(t,n,l,ic,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Hf(t,n,l,null,a)}}function ad(t){return t=wn(t),rd(t)}var ic=null;function rd(t){if(ic=null,t=li(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ic=t,null}function a_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case el:return 2;case nl:return 8;case na:case ch:return 32;case ko:return 268435456;default:return 32}default:return 32}}var sd=!1,Da=null,Na=null,Ia=null,Wl=new Map,to=new Map,Va=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r_(t,n){switch(t){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(n.pointerId)}}function eo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&n_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Eb(t,n,a,l,h){switch(n){case"focusin":return Da=eo(Da,t,n,a,l,h),!0;case"dragenter":return Na=eo(Na,t,n,a,l,h),!0;case"mouseover":return Ia=eo(Ia,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Wl.set(f,eo(Wl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,to.set(f,eo(to.get(f)||null,t,n,a,l,h)),!0}return!1}function s_(t){var n=li(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Pn(t.priority,function(){i_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Pn(t.priority,function(){i_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=ad(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ml=l,a.target.dispatchEvent(l),ml=null}else return n=Sn(a),n!==null&&n_(n),t.blockedOn=a,!1;n.shift()}return!0}function l_(t,n,a){ac(t)&&a.delete(n)}function bb(){sd=!1,Da!==null&&ac(Da)&&(Da=null),Na!==null&&ac(Na)&&(Na=null),Ia!==null&&ac(Ia)&&(Ia=null),Wl.forEach(l_),to.forEach(l_)}function rc(t,n){t.blockedOn===n&&(t.blockedOn=null,sd||(sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bb)))}var sc=null;function o_(t){sc!==t&&(sc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sc===t&&(sc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(rd(l||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,af(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function As(t){function n(N){return rc(N,t)}Da!==null&&rc(Da,t),Na!==null&&rc(Na,t),Ia!==null&&rc(Ia,t),Wl.forEach(n),to.forEach(n);for(var a=0;a<Va.length;a++){var l=Va[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Va.length&&(a=Va[0],a.blockedOn===null);)s_(a),a.blockedOn===null&&Va.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[ke]||null;if(typeof f=="function")_||o_(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[ke]||null)b=_.formAction;else if(rd(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),o_(a)}}}function u_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ld(t){this._internalRoot=t}lc.prototype.render=ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=En();t_(a,l,t,n,null,null)},lc.prototype.unmount=ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t_(t.current,2,null,t,null,null),Pu(),n[ri]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Po();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Va.length&&n!==0&&n<Va[a].priority;a++);Va.splice(a,0,t),a===0&&s_(t)}};var c_=e.version;if(c_!=="19.2.3")throw Error(s(527,c_,"19.2.3"));G.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Tb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{jn=oc.inject(Tb),je=oc}catch{}}return io.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=yp,f=_p,_=vp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Jy(t,1,!1,null,null,a,l,null,h,f,_,u_),t[ri]=n.current,qf(t),new ld(n)},io.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=yp,_=_p,b=vp,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=Jy(t,1,!0,n,a??null,l,h,N,f,_,b,u_),n.context=Wy(null),a=n.current,l=En(),l=er(l),h=ya(l),h.callback=null,_a(a,h,l),a=l,n.current.lanes=a,Wa(n,a),bi(n),t[ri]=n.current,qf(t),new lc(n)},io.version="19.2.3",io}var E_;function Mb(){if(E_)return cd.exports;E_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cd.exports=Vb(),cd.exports}var Ob=Mb();const kb=Sb(Ob);const zb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ub=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),b_=r=>{const e=Ub(r);return e.charAt(0).toUpperCase()+e.slice(1)},H0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),Lb=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var jb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Bb=X.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...g},y)=>X.createElement("svg",{ref:y,...jb,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:H0("lucide",o),...!c&&!Lb(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,E])=>X.createElement(p,E)),...Array.isArray(c)?c:[c]]));const he=(r,e)=>{const i=X.forwardRef(({className:s,...o},c)=>X.createElement(Bb,{ref:c,iconNode:e,className:H0(`lucide-${zb(b_(r))}`,`lucide-${r}`,s),...o}));return i.displayName=b_(r),i};const Pb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qb=he("arrow-right",Pb);const Hb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],T_=he("chevron-down",Hb);const Gb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Fb=he("chevron-up",Gb);const Qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sc=he("circle-alert",Qb);const Yb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jd=he("circle-check",Yb);const Kb=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G0=he("circle-play",Kb);const Xb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Wd=he("circle-x",Xb);const $b=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F0=he("clock",$b);const Zb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Jb=he("copy",Zb);const Wb=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tT=he("external-link",Wb);const eT=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],nT=he("file-plus-corner",eT);const iT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aT=he("file-text",iT);const rT=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],sT=he("image-plus",rT);const lT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],oT=he("link",lT);const uT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],cT=he("moon",uT);const hT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],fT=he("pencil",hT);const dT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mT=he("plus",dT);const gT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],A_=he("search",gT);const pT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yT=he("sun",pT);const _T=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Q0=he("trash-2",_T);const vT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ET=he("triangle-alert",vT);const bT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Is=he("x",bT);function TT({incidents:r,selectedId:e,onSelect:i,onAddIncident:s,onDeleteIncident:o,darkMode:c,toggleTheme:d,onLoadMore:g,hasMore:y,isLoadingMore:p}){const[E,T]=X.useState(""),w=r.filter(F=>{const q=E.toLowerCase(),at=(F.subject||"").toLowerCase(),nt=(F.project||"").toLowerCase(),st=(F.ticket||"").toLowerCase();return at.includes(q)||nt.includes(q)||st.includes(q)}),L=F=>{switch(F){case"Open":return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-500/30";case"In Progress":return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-500/30";case"Monitoring":return"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-500/30";case"Resolved":return"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-500/30";case"Completed":case"Closed":return"bg-zinc-100 text-zinc-600 border-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:border-zinc-700";default:return"bg-gray-100 text-gray-700 border-gray-200"}},$=F=>{switch(F){case"Open":return k.jsx(Sc,{size:12});case"In Progress":return k.jsx(G0,{size:12});case"Monitoring":return k.jsx(F0,{size:12});case"Resolved":return k.jsx(Jd,{size:12});case"Closed":return k.jsx(Wd,{size:12});default:return k.jsx(Sc,{size:12})}};return k.jsxs("div",{className:"lg:col-span-3 flex flex-col h-full border-r-2 border-gray-300 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-950 transition-colors duration-300 overflow-hidden",children:[k.jsxs("div",{className:"p-4 border-b-2 border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 flex justify-between items-center shrink-0 z-10 shadow-sm",children:[k.jsx("h1",{className:"font-black text-xl tracking-tighter text-gray-900 dark:text-white",children:"INCIDENTS"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:d,className:"p-2 rounded-lg bg-gray-100 dark:bg-zinc-800 text-black dark:text-white hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors",children:c?k.jsx(yT,{size:18}):k.jsx(cT,{size:18})}),k.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-black dark:bg-white text-white dark:text-black px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors shadow-md",children:[k.jsx(nT,{size:16})," ",k.jsx("span",{className:"hidden sm:inline",children:"New"})]})]})]}),k.jsx("div",{className:"px-4 py-3 bg-white dark:bg-zinc-900 border-b border-gray-200 dark:border-zinc-800",children:k.jsxs("div",{className:"relative",children:[k.jsx(A_,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),k.jsx("input",{type:"text",placeholder:"Search project, ticket...",value:E,onChange:F=>T(F.target.value),className:"w-full pl-9 pr-8 py-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-xs font-bold text-gray-900 dark:text-white placeholder-gray-400 outline-none border-2 border-transparent focus:border-black dark:focus:border-white transition-all"}),E&&k.jsx("button",{onClick:()=>T(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black dark:hover:text-white p-1",children:k.jsx(Is,{size:14})})]})}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:[w.length===0?k.jsxs("div",{className:"flex flex-col items-center justify-center py-10 opacity-50 space-y-2",children:[k.jsx(A_,{size:24,className:"text-gray-400"}),k.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:"No matching incidents"}),E&&k.jsx("button",{onClick:()=>T(""),className:"text-[10px] text-blue-500 hover:underline",children:"Clear Search"})]}):w.map(F=>{const q=e===F.id;return k.jsxs("div",{onClick:()=>i(F.id),className:`
                  group relative p-4 rounded-xl cursor-pointer border-2 transition-all duration-200
                  ${q?"bg-white dark:bg-zinc-900 border-black dark:border-white shadow-md scale-[1.02]":"bg-white dark:bg-zinc-900 border-transparent hover:border-gray-300 dark:hover:border-zinc-700 hover:shadow-sm"}
                `,children:[k.jsxs("div",{className:"flex justify-between items-start mb-2",children:[k.jsx("span",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest line-clamp-1",children:F.project||"No Project"}),k.jsx("button",{onClick:at=>{at.stopPropagation(),o(F.id)},className:"text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",title:"Delete Incident",children:k.jsx(Q0,{size:14})})]}),k.jsx("h3",{className:`font-bold text-sm leading-tight mb-3 ${q?"text-black dark:text-white":"text-gray-700 dark:text-gray-300"}`,children:F.subject||"New Incident"}),k.jsxs("div",{className:"flex justify-between items-end",children:[k.jsxs("div",{className:"flex flex-col",children:[k.jsx("span",{className:"text-[9px] font-bold text-gray-400 font-mono mb-1",children:F.ticket||"-"}),k.jsx("span",{className:"text-[9px] font-bold text-gray-300",children:new Date(F.createdAt).toLocaleDateString("th-TH",{day:"numeric",month:"short"})})]}),k.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-md border text-[9px] font-black uppercase tracking-wide ${L(F.status||"Open")}`,children:[$(F.status),k.jsx("span",{children:F.status||"Open"})]})]})]},F.id)}),!E&&y&&k.jsx("button",{onClick:g,disabled:p,className:"w-full py-3 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest hover:bg-gray-200 dark:hover:bg-zinc-800 rounded-lg transition-colors disabled:opacity-50",children:p?"Loading...":"Load More"})]})]})}function AT({incident:r,onUpdateIncident:e,onAddEvent:i,onDeleteEvent:s,onUpdateEvent:o,onReorderEvent:c}){const[d,g]=X.useState(!1),[y,p]=X.useState(null),[E,T]=X.useState({date:"",time:"",desc:"",imageUrls:[]}),[w,L]=X.useState(""),[$,F]=X.useState(!1),[q,at]=X.useState("");if(!r)return k.jsxs("div",{className:"lg:col-span-9 flex flex-col items-center justify-center h-full bg-white dark:bg-zinc-900 transition-colors",children:[k.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-zinc-800 border-2 border-gray-300 dark:border-zinc-700 flex items-center justify-center mb-4",children:k.jsx(qb,{size:24,className:"text-gray-400 dark:text-gray-500"})}),k.jsx("p",{className:"font-bold text-gray-500 dark:text-gray-400",children:"Select an incident"})]});const nt=[...r.events||[]].sort((M,G)=>{if(typeof M.order=="number"&&typeof G.order=="number")return M.order-G.order;const it=M.date||r.createdAt,rt=G.date||r.createdAt;return it!==rt?it.localeCompare(rt):M.time.localeCompare(G.time)}),st=(M,G)=>{const it=[...nt],rt=G==="up"?M-1:M+1;if(rt<0||rt>=it.length)return;[it[M],it[rt]]=[it[rt],it[M]];const ft=it.map((x,K)=>({...x,order:K}));c&&c(r.id,ft)},vt=M=>{switch(M){case"Open":return"bg-red-100 text-red-700 border-red-200 dark:bg-red-500/20 dark:text-red-300 dark:border-red-500/30";case"In Progress":return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-500/20 dark:text-blue-300 dark:border-blue-500/30";case"Monitoring":return"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-500/20 dark:text-orange-300 dark:border-orange-500/30";case"Resolved":return"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-500/20 dark:text-emerald-300 dark:border-emerald-500/30";case"Completed":case"Closed":return"bg-zinc-100 text-zinc-600 border-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:border-zinc-700";default:return"bg-gray-100 text-gray-700 border-gray-200"}},wt=M=>{switch(M){case"Open":return k.jsx(Sc,{size:14});case"In Progress":return k.jsx(G0,{size:14});case"Monitoring":return k.jsx(F0,{size:14});case"Resolved":return k.jsx(Jd,{size:14});case"Closed":return k.jsx(Wd,{size:14});default:return k.jsx(Sc,{size:14})}},Tt=()=>{p(null);const M=new Date;T({date:M.toISOString().split("T")[0],time:`${String(M.getHours()).padStart(2,"0")}:${String(M.getMinutes()).padStart(2,"0")}`,desc:"",imageUrls:[]}),L(""),g(!0)},D=M=>{p(M.id);let G=M.imageUrls||[];!G.length&&M.imageUrl&&(G=[M.imageUrl]),T({...M,imageUrls:G}),L(""),g(!0)},S=()=>{w.trim()&&(T(M=>({...M,imageUrls:[...M.imageUrls,w.trim()]})),L(""))},C=M=>{T(G=>({...G,imageUrls:G.imageUrls.filter((it,rt)=>rt!==M)}))},O=M=>{M.preventDefault();const G=E.desc.trim().split(`
`)[0].substring(0,50)+(E.desc.length>50?"...":"")||"Log Update",it={...E,title:G};y?o(r.id,y,it):i(r.id,it),g(!1)},I=()=>{const G=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"2-digit"}).replace(/ /g,"-").toLowerCase(),it={};nt.forEach(ft=>{const K=(ft.date?new Date(ft.date):new Date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"});it[K]||(it[K]=[]),it[K].push(ft)});let rt=`Project: ${r.project||"-"}
`;return rt+=`Subject: ${r.type||"Incident"} | ${r.subject||"-"} | ${G}
`,rt+=`Status: ${r.status||"-"}
`,rt+=`Ticket: ${r.ticket||"-"}
`,rt+=`Impact: ${r.impact||"-"}
`,rt+=`Root Cause: ${r.root_cause||"-"}
`,rt+=`Action Taken: ${r.action||"-"}

`,Object.keys(it).forEach(ft=>{rt+=`${ft}
`,it[ft].forEach(x=>{rt+=`${x.time} - ${x.desc||x.title}
`}),rt+=`
`}),rt},z=()=>{at(I()),F(!0)},R="w-full bg-transparent border-b-2 border-gray-200 dark:border-zinc-700 hover:border-black dark:hover:border-white focus:border-black dark:focus:border-white font-bold text-xs text-gray-900 dark:text-white transition-all pb-0.5 placeholder-gray-400 dark:placeholder-zinc-600 outline-none",Nt="block text-[9px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-0.5",ae="w-full text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-zinc-800 rounded-lg p-2 border-2 border-gray-200 dark:border-zinc-700 focus:bg-white dark:focus:bg-zinc-900 focus:border-black dark:focus:border-white transition-all resize-none placeholder-gray-400 dark:placeholder-zinc-600 outline-none";return k.jsxs("div",{className:"lg:col-span-9 flex flex-col h-full bg-white dark:bg-zinc-900 relative transition-colors duration-300 overflow-hidden",children:[k.jsxs("div",{className:"px-5 py-4 border-b-2 border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 z-10 shadow-sm shrink-0",children:[k.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 lg:grid-cols-12 gap-x-4 gap-y-3 mb-3 items-end",children:[k.jsxs("div",{className:"group col-span-2 lg:col-span-2",children:[k.jsx("label",{className:Nt,children:"Project"}),k.jsx("input",{type:"text",className:R,value:r.project,onChange:M=>e(r.id,{project:M.target.value})})]}),k.jsxs("div",{className:"group col-span-2 lg:col-span-1",children:[k.jsx("label",{className:Nt,children:"Type"}),k.jsxs("select",{value:r.type||"Incident",onChange:M=>e(r.id,{type:M.target.value}),className:`${R} cursor-pointer appearance-none`,children:[k.jsx("option",{className:"dark:bg-zinc-800",value:"Incident",children:"Incident"}),k.jsx("option",{className:"dark:bg-zinc-800",value:"Request",children:"Request"}),k.jsx("option",{className:"dark:bg-zinc-800",value:"Maintenance",children:"Maintenance"})]})]}),k.jsxs("div",{className:"group col-span-2 lg:col-span-2",children:[k.jsx("label",{className:Nt,children:"Ticket ID"}),k.jsx("input",{type:"text",className:`${R} font-mono`,value:r.ticket,onChange:M=>e(r.id,{ticket:M.target.value})})]}),k.jsxs("div",{className:"group col-span-2 lg:col-span-2",children:[k.jsx("label",{className:Nt,children:"Status"}),k.jsxs("div",{className:`relative flex items-center h-7.5 w-full rounded-lg border-2 transition-all px-2 ${vt(r.status)}`,children:[k.jsx("div",{className:"mr-2 flex-none",children:wt(r.status)}),k.jsxs("select",{value:r.status||"Open",onChange:M=>e(r.id,{status:M.target.value}),className:"w-full bg-transparent font-black uppercase text-[10px] tracking-widest cursor-pointer appearance-none outline-none z-10",children:[k.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:"Open",children:"Open"}),k.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:"In Progress",children:"In Progress"}),k.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:"Monitoring",children:"Monitoring"}),k.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:"Resolved",children:"Resolved"}),k.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:"Completed",children:"Completed"}),k.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:"Closed",children:"Closed"})]}),k.jsx(T_,{size:14,className:"absolute right-2 opacity-50 pointer-events-none"})]})]}),k.jsxs("div",{className:"col-span-4 lg:col-span-3",children:[k.jsx("label",{className:Nt,children:"Subject / Alert"}),k.jsx("input",{type:"text",className:"w-full text-lg font-black text-gray-900 dark:text-white placeholder-gray-300 dark:placeholder-zinc-700 border-none bg-transparent p-0 focus:ring-0 leading-tight",value:r.subject,onChange:M=>e(r.id,{subject:M.target.value}),placeholder:"Subject..."})]}),k.jsx("div",{className:"col-span-4 flex justify-end lg:col-span-1 lg:justify-start",children:k.jsx("button",{onClick:z,className:"text-gray-400 hover:text-black dark:hover:text-white transition-colors p-1.5 border-2 border-transparent hover:border-gray-200 dark:hover:border-zinc-700 rounded-lg lg:mb-1 mt-1 lg:mt-0",title:"View Report",children:k.jsx(aT,{size:18})})})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["impact","root_cause","action"].map(M=>k.jsxs("div",{children:[k.jsx("label",{className:Nt,children:M.replace("_"," ")}),k.jsx("textarea",{className:`${ae} h-15`,value:r[M]||"",onChange:G=>e(r.id,{[M]:G.target.value}),placeholder:"..."})]},M))})]}),k.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-8 custom-scrollbar bg-gray-50 dark:bg-zinc-950 relative transition-colors min-h-0",children:k.jsxs("div",{className:"flex flex-col pb-20 relative",children:[k.jsx("div",{className:"absolute top-0 bottom-0 left-6.5 sm:left-10.75 w-0.75 bg-gray-200 dark:bg-zinc-800 z-0"}),nt.map((M,G)=>{const it=G===0||M.date!==nt[G-1].date,rt=M.date?new Date(M.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}):"-",ft=G===nt.length-1;let x=M.imageUrls||[];return!x.length&&M.imageUrl&&(x=[M.imageUrl]),k.jsxs("div",{className:"relative flex items-start gap-4 sm:gap-6 mb-8 z-10",children:[k.jsxs("div",{className:"flex-none w-14 sm:w-22.5 flex flex-col items-center pt-1 z-10",children:[k.jsx("div",{className:"w-4 h-4 rounded-full bg-white dark:bg-zinc-900 border-4 border-black dark:border-white shadow-md ring-4 ring-gray-50 dark:ring-zinc-950 z-20"}),k.jsx("div",{className:"mt-2 flex flex-col items-center",children:k.jsx("span",{className:"font-mono text-[10px] sm:text-xs font-bold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-zinc-900 px-1.5 py-0.5 rounded text-center",children:M.time})})]}),k.jsxs("div",{className:"flex-1 min-w-0",children:[it&&k.jsx("div",{className:"mb-4 -mt-2",children:k.jsx("span",{className:"inline-block text-[10px] font-black text-white dark:text-black uppercase tracking-widest bg-black dark:bg-white px-3 py-1 rounded-full shadow-md opacity-90",children:rt})}),k.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border-2 border-gray-200 dark:border-zinc-800 shadow-sm flex gap-4 relative group/card hover:border-black dark:hover:border-white transition-all duration-200 hover:shadow-md",children:[k.jsx("div",{className:"absolute top-5 -left-2.25 w-4 h-4 bg-white dark:bg-zinc-900 border-l-2 border-b-2 border-gray-200 dark:border-zinc-800 transform rotate-45 group-hover/card:border-black dark:group-hover/card:border-white transition-colors duration-200"}),k.jsxs("div",{className:"flex flex-col gap-1 justify-center border-r pr-3 border-gray-100 dark:border-zinc-800 opacity-0 group-hover/card:opacity-100 transition-opacity",children:[k.jsx("button",{onClick:()=>st(G,"up"),disabled:G===0,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-0 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded transition-all",children:k.jsx(Fb,{size:16})}),k.jsx("button",{onClick:()=>st(G,"down"),disabled:ft,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-0 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded transition-all",children:k.jsx(T_,{size:16})})]}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsxs("div",{className:"flex justify-between items-start mb-2",children:[k.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight mr-4",children:M.title||M.time}),k.jsxs("div",{className:"flex gap-2 flex-none opacity-0 group-hover/card:opacity-100 transition-opacity",children:[k.jsx("button",{onClick:()=>D(M),className:"text-gray-400 hover:text-black dark:hover:text-white",title:"Edit Event",children:k.jsx(fT,{size:12})}),k.jsx("button",{onClick:()=>s(r.id,M.id),className:"text-gray-400 hover:text-red-500",title:"Delete Event",children:k.jsx(Q0,{size:12})})]})]}),M.desc&&k.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-wrap mb-3",children:M.desc}),x.length>0&&k.jsx("div",{className:`grid gap-3 mt-3 ${x.length>1?"grid-cols-2":"grid-cols-1 max-w-md"}`,children:x.map((K,ot)=>k.jsxs("div",{className:"rounded-xl overflow-hidden border-2 border-gray-200 dark:border-zinc-700 bg-gray-100 dark:bg-zinc-800 relative group/image h-auto shadow-sm",children:[k.jsx("img",{src:K,className:"w-full h-auto block",alt:`Evidence ${ot+1}`,onError:ct=>ct.target.style.display="none"}),k.jsx("a",{href:K,target:"_blank",rel:"noreferrer",className:"absolute top-2 right-2 bg-black/60 hover:bg-black text-white p-1.5 rounded-lg opacity-0 group-hover/image:opacity-100 transition backdrop-blur-sm",children:k.jsx(tT,{size:14})})]},ot))})]})]})]})]},M.id)})]})}),k.jsx("button",{onClick:Tt,className:"absolute bottom-6 right-6 bg-black dark:bg-white text-white dark:text-black w-14 h-14 rounded-xl shadow-lg hover:shadow-xl hover:scale-105 border-4 border-white dark:border-zinc-800 transition-all z-20 flex items-center justify-center active:scale-95",children:k.jsx(mT,{size:24,strokeWidth:3})}),(d||$)&&k.jsxs("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-all",children:[d&&k.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl border-2 border-gray-300 dark:border-zinc-700 shadow-2xl p-6 animate-in zoom-in-95 relative",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white uppercase",children:y?"Edit Event":"New Event"}),k.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 p-1 rounded-full text-gray-400 hover:text-black dark:hover:text-white",children:k.jsx(Is,{size:20})})]}),k.jsxs("form",{onSubmit:O,className:"space-y-4",children:[k.jsxs("div",{className:"flex gap-4",children:[k.jsxs("div",{className:"w-1/2 space-y-1",children:[k.jsx("label",{className:Nt,children:"Date"}),k.jsx("input",{required:!0,type:"date",className:`${R} bg-gray-50 dark:bg-zinc-800 rounded-lg p-2.5 border-2 border-gray-300 dark:border-zinc-700 focus:border-black dark:focus:border-white`,value:E.date,onChange:M=>T({...E,date:M.target.value})})]}),k.jsxs("div",{className:"w-1/2 space-y-1",children:[k.jsx("label",{className:Nt,children:"Time"}),k.jsx("input",{required:!0,type:"time",className:`${R} bg-gray-50 dark:bg-zinc-800 rounded-lg p-2.5 border-2 border-gray-300 dark:border-zinc-700 focus:border-black dark:focus:border-white`,value:E.time,onChange:M=>T({...E,time:M.target.value})})]})]}),k.jsxs("div",{className:"space-y-1",children:[k.jsx("label",{className:Nt,children:"Description (Details)"}),k.jsx("textarea",{required:!0,rows:5,placeholder:"What happened?...",className:`${ae} h-auto`,value:E.desc,onChange:M=>T({...E,desc:M.target.value})})]}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("label",{className:Nt,children:"Image Links (Optional)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsxs("div",{className:"relative flex-1",children:[k.jsx(oT,{size:14,className:"absolute left-3 top-3 text-gray-400"}),k.jsx("input",{type:"text",placeholder:"Paste image URL here...",className:`${R} bg-gray-50 dark:bg-zinc-800 rounded-lg p-2.5 pl-9 border-2 border-gray-300 dark:border-zinc-700 focus:border-black dark:focus:border-white`,value:w,onChange:M=>L(M.target.value),onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),S())})]}),k.jsx("button",{type:"button",onClick:S,disabled:!w.trim(),className:"px-3 bg-gray-100 dark:bg-zinc-800 text-gray-600 dark:text-gray-300 rounded-lg border-2 border-gray-300 dark:border-zinc-700 hover:border-black dark:hover:border-white hover:text-black dark:hover:text-white transition-colors disabled:opacity-50",children:k.jsx(sT,{size:18})})]}),E.imageUrls.length>0&&k.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2 max-h-37.5 overflow-y-auto custom-scrollbar p-1",children:E.imageUrls.map((M,G)=>k.jsxs("div",{className:"relative group/preview rounded-lg overflow-hidden border-2 border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800 h-20 flex items-center justify-center",children:[k.jsx("img",{src:M,alt:"Preview",className:"h-full w-full object-cover",onError:it=>it.target.style.opacity="0.3"}),k.jsx("button",{type:"button",onClick:()=>C(G),className:"absolute top-1 right-1 bg-red-500 text-white p-0.5 rounded-full opacity-0 group-hover/preview:opacity-100 transition-opacity shadow-sm hover:bg-red-600",children:k.jsx(Is,{size:12})})]},G))})]}),k.jsx("button",{type:"submit",className:"w-full bg-black dark:bg-white text-white dark:text-black py-3 rounded-lg font-black uppercase tracking-widest hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors shadow-md border-2 border-transparent hover:border-black dark:hover:border-white",children:"SAVE EVENT"})]})]}),$&&k.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-2xl h-[70vh] rounded-2xl border-2 border-gray-300 dark:border-zinc-700 shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 relative",children:[k.jsxs("div",{className:"flex justify-between items-center p-5 border-b-2 border-gray-300 dark:border-zinc-700",children:[k.jsx("h3",{className:"font-black text-lg text-gray-900 dark:text-white uppercase",children:"Preview"}),k.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-black dark:hover:text-white",children:k.jsx(Is,{size:20})})]}),k.jsx("textarea",{readOnly:!0,value:q,className:"flex-1 p-6 font-mono text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-zinc-950 resize-none border-none outline-none custom-scrollbar"}),k.jsx("div",{className:"p-5 border-t-2 border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 flex justify-end",children:k.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(q),alert("Copied!"),F(!1)},className:"bg-black dark:bg-white text-white dark:text-black px-6 py-2.5 rounded-lg text-xs font-black uppercase tracking-widest hover:bg-gray-800 dark:hover:bg-gray-200 transition-all shadow-md flex items-center gap-2 border-2 border-transparent hover:border-black dark:hover:border-white",children:[k.jsx(Jb,{size:16})," Copy to Clipboard"]})})]})]})]})}function ST({toasts:r,removeToast:e}){return k.jsx("div",{className:"fixed bottom-6 right-6 z-100 flex flex-col gap-3 pointer-events-none",children:r.map(i=>k.jsx(wT,{toast:i,removeToast:e},i.id))})}function wT({toast:r,removeToast:e}){X.useEffect(()=>{const g=setTimeout(()=>{e(r.id)},3e3);return()=>clearTimeout(g)},[r.id,e]);const i=r.type==="success",s="bg-white dark:bg-zinc-800",o=i?"border-emerald-500":"border-red-500",c=i?"text-emerald-500":"text-red-500",d=i?Jd:Wd;return k.jsxs("div",{className:`
        pointer-events-auto flex items-center gap-3 px-4 py-3 min-w-75
        rounded-xl shadow-lg border-l-4 ${s} ${o}
        animate-in slide-in-from-right fade-in duration-300
      `,children:[k.jsx("div",{className:c,children:k.jsx(d,{size:24})}),k.jsxs("div",{className:"flex-1",children:[k.jsx("h4",{className:"font-bold text-sm text-gray-900 dark:text-white",children:i?"Success":"Error"}),k.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:r.message})]}),k.jsx("button",{onClick:()=>e(r.id),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:k.jsx(Is,{size:16})})]})}function RT({isOpen:r,onClose:e,onConfirm:i,title:s,message:o}){return r?k.jsxs("div",{className:"fixed inset-0 z-200 flex items-center justify-center p-4",children:[k.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),k.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 w-full max-w-sm rounded-2xl shadow-2xl border-2 border-gray-200 dark:border-zinc-700 p-6 animate-in zoom-in-95 duration-200",children:[k.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:k.jsx(Is,{size:20})}),k.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[k.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-500 rounded-full flex items-center justify-center mb-4",children:k.jsx(ET,{size:32})}),k.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:s||"Confirm Delete?"}),k.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2 font-medium",children:o||"This action cannot be undone."})]}),k.jsxs("div",{className:"flex gap-3",children:[k.jsx("button",{onClick:e,className:"flex-1 py-3 rounded-xl border-2 border-gray-200 dark:border-zinc-700 font-bold text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-zinc-800 transition-colors uppercase text-xs tracking-widest",children:"Cancel"}),k.jsx("button",{onClick:i,className:"flex-1 py-3 rounded-xl bg-red-600 hover:bg-red-700 text-white font-bold shadow-lg shadow-red-500/30 transition-all uppercase text-xs tracking-widest border-2 border-transparent",children:"Delete"})]})]})]}):null}const CT=()=>{};var S_={};const Y0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},xT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=c>>2,T=(c&3)<<4|g>>4;let w=(g&15)<<2|p>>6,L=p&63;y||(L=64,d||(w=64)),s.push(i[E],i[T],i[w],i[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Y0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const T=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||T==null)throw new DT;const w=c<<2|g>>4;if(s.push(w),p!==64){const L=g<<4&240|p>>2;if(s.push(L),T!==64){const $=p<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NT=function(r){const e=Y0(r);return K0.encodeByteArray(e,!0)},wc=function(r){return NT(r).replace(/\./g,"")},IT=function(r){try{return K0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MT=()=>VT().__FIREBASE_DEFAULTS__,OT=()=>{if(typeof process>"u"||typeof S_>"u")return;const r=S_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IT(r[1]);return e&&JSON.parse(e)},tm=()=>{try{return CT()||MT()||OT()||kT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zT=r=>tm()?.emulatorHosts?.[r],UT=r=>{const e=zT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},X0=()=>tm()?.config;class LT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function em(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jT(r){return(await fetch(r,{credentials:"include"})).ok}function BT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wc(JSON.stringify(i)),wc(JSON.stringify(d)),""].join(".")}const uo={};function PT(){const r={prod:[],emulator:[]};for(const e of Object.keys(uo))uo[e]?r.emulator.push(e):r.prod.push(e);return r}function qT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let w_=!1;function HT(r,e){if(typeof window>"u"||typeof document>"u"||!em(window.location.host)||uo[r]===e||uo[r]||w_)return;uo[r]=e;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=PT().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{w_=!0,d()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=qT(s),L=i("text"),$=document.getElementById(L)||document.createElement("span"),F=i("learnmore"),q=document.getElementById(F)||document.createElement("a"),at=i("preprendIcon"),nt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const st=w.element;g(st),E(q,F);const vt=p();y(nt,at),st.append(nt,$,q,vt),document.body.appendChild(st)}c?($.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function GT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FT(){const r=tm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QT(){return!FT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function KT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const XT="FirebaseError";class Gs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=XT,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$0.prototype.create)}}class $0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?$T(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Gs(o,g,s)}}function $T(r,e){return r.replace(ZT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ZT=/\{\$([^}]+)}/g;function Rc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(R_(c)&&R_(d)){if(!Rc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function R_(r){return r!==null&&typeof r=="object"}function Un(r){return r&&r._delegate?r._delegate:r}class mo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rr="[DEFAULT]";class JT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new LT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tA(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rr){return this.instances.has(e)}getOptions(e=Rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Rr){return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WT(r){return r===Rr?void 0:r}function tA(r){return r.instantiationMode==="EAGER"}class eA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new JT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const nA={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},iA=Bt.INFO,aA={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},rA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=aA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z0{constructor(e){this.name=e,this._logLevel=iA,this._logHandler=rA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const sA=(r,e)=>e.some(i=>r instanceof i);let C_,x_;function lA(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oA(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J0=new WeakMap,xd=new WeakMap,W0=new WeakMap,md=new WeakMap,nm=new WeakMap;function uA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ka(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&J0.set(i,r)}).catch(()=>{}),nm.set(e,r),e}function cA(r){if(xd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});xd.set(r,e)}let Dd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return xd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||W0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ka(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hA(r){Dd=r(Dd)}function fA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(gd(this),e,...i);return W0.set(s,e.sort?e.sort():[e]),ka(s)}:oA().includes(r)?function(...e){return r.apply(gd(this),e),ka(J0.get(this))}:function(...e){return ka(r.apply(gd(this),e))}}function dA(r){return typeof r=="function"?fA(r):(r instanceof IDBTransaction&&cA(r),sA(r,lA())?new Proxy(r,Dd):r)}function ka(r){if(r instanceof IDBRequest)return uA(r);if(md.has(r))return md.get(r);const e=dA(r);return e!==r&&(md.set(r,e),nm.set(e,r)),e}const gd=r=>nm.get(r);function mA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=ka(d);return s&&d.addEventListener("upgradeneeded",y=>{s(ka(d.result),y.oldVersion,y.newVersion,ka(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const gA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],pd=new Map;function D_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=pA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return pd.set(e,c),c}hA(r=>({...r,get:(e,i,s)=>D_(e,i)||r.get(e,i,s),has:(e,i)=>!!D_(e,i)||r.has(e,i)}));class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_A(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function _A(r){return r.getComponent()?.type==="VERSION"}const Nd="@firebase/app",N_="0.14.6";const Xi=new Z0("@firebase/app"),vA="@firebase/app-compat",EA="@firebase/analytics-compat",bA="@firebase/analytics",TA="@firebase/app-check-compat",AA="@firebase/app-check",SA="@firebase/auth",wA="@firebase/auth-compat",RA="@firebase/database",CA="@firebase/data-connect",xA="@firebase/database-compat",DA="@firebase/functions",NA="@firebase/functions-compat",IA="@firebase/installations",VA="@firebase/installations-compat",MA="@firebase/messaging",OA="@firebase/messaging-compat",kA="@firebase/performance",zA="@firebase/performance-compat",UA="@firebase/remote-config",LA="@firebase/remote-config-compat",jA="@firebase/storage",BA="@firebase/storage-compat",PA="@firebase/firestore",qA="@firebase/ai",HA="@firebase/firestore-compat",GA="firebase",FA="12.6.0";const Id="[DEFAULT]",QA={[Nd]:"fire-core",[vA]:"fire-core-compat",[bA]:"fire-analytics",[EA]:"fire-analytics-compat",[AA]:"fire-app-check",[TA]:"fire-app-check-compat",[SA]:"fire-auth",[wA]:"fire-auth-compat",[RA]:"fire-rtdb",[CA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[DA]:"fire-fn",[NA]:"fire-fn-compat",[IA]:"fire-iid",[VA]:"fire-iid-compat",[MA]:"fire-fcm",[OA]:"fire-fcm-compat",[kA]:"fire-perf",[zA]:"fire-perf-compat",[UA]:"fire-rc",[LA]:"fire-rc-compat",[jA]:"fire-gcs",[BA]:"fire-gcs-compat",[PA]:"fire-fst",[HA]:"fire-fst-compat",[qA]:"fire-vertex","fire-js":"fire-js",[GA]:"fire-js-all"};const Cc=new Map,YA=new Map,Vd=new Map;function I_(r,e){try{r.container.addComponent(e)}catch(i){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function xc(r){const e=r.name;if(Vd.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,r);for(const i of Cc.values())I_(i,r);for(const i of YA.values())I_(i,r);return!0}function KA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function XA(r){return r==null?!1:r.settings!==void 0}const $A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new $0("app","Firebase",$A);class ZA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}const JA=FA;function tv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Id,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw za.create("bad-app-name",{appName:String(o)});if(i||(i=X0()),!i)throw za.create("no-options");const c=Cc.get(o);if(c){if(Rc(i,c.options)&&Rc(s,c.config))return c;throw za.create("duplicate-app",{appName:o})}const d=new eA(o);for(const y of Vd.values())d.addComponent(y);const g=new ZA(i,s,d);return Cc.set(o,g),g}function WA(r=Id){const e=Cc.get(r);if(!e&&r===Id&&X0())return tv();if(!e)throw za.create("no-app",{appName:r});return e}function Vs(r,e,i){let s=QA[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}xc(new mo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const t2="firebase-heartbeat-database",e2=1,go="firebase-heartbeat-store";let yd=null;function ev(){return yd||(yd=mA(t2,e2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(r=>{throw za.create("idb-open",{originalErrorMessage:r.message})})),yd}async function n2(r){try{const i=(await ev()).transaction(go),s=await i.objectStore(go).get(nv(r));return await i.done,s}catch(e){if(e instanceof Gs)Xi.warn(e.message);else{const i=za.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(i.message)}}}async function V_(r,e){try{const s=(await ev()).transaction(go,"readwrite");await s.objectStore(go).put(e,nv(r)),await s.done}catch(i){if(i instanceof Gs)Xi.warn(i.message);else{const s=za.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(s.message)}}}function nv(r){return`${r.name}!${r.options.appId}`}const i2=1024,a2=30;class r2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new l2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>a2){const o=o2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M_(),{heartbeatsToSend:i,unsentEntries:s}=s2(this._heartbeatsCache.heartbeats),o=wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xi.warn(e),""}}}function M_(){return new Date().toISOString().substring(0,10)}function s2(r,e=i2){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),O_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),O_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class l2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?KT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await n2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function O_(r){return wc(JSON.stringify({version:2,heartbeats:r})).length}function o2(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function u2(r){xc(new mo("platform-logger",e=>new yA(e),"PRIVATE")),xc(new mo("heartbeat",e=>new r2(e),"PRIVATE")),Vs(Nd,N_,r),Vs(Nd,N_,"esm2020"),Vs("fire-js","")}u2("");var c2="firebase",h2="12.6.0";Vs(c2,h2,"app");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ua,iv;(function(){var r;function e(D,S){function C(){}C.prototype=S.prototype,D.F=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(O,I,z){for(var R=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)R[Nt-2]=arguments[Nt];return S.prototype[I].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,C){C||(C=0);const O=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)O[I]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(I=0;I<16;++I)O[I]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],I=D.g[2];let z=D.g[3],R;R=S+(z^C&(I^z))+O[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(I^S&(C^I))+O[1]+3905402710&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(C^z&(S^C))+O[2]+606105819&4294967295,I=z+(R<<17&4294967295|R>>>15),R=C+(S^I&(z^S))+O[3]+3250441966&4294967295,C=I+(R<<22&4294967295|R>>>10),R=S+(z^C&(I^z))+O[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(I^S&(C^I))+O[5]+1200080426&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(C^z&(S^C))+O[6]+2821735955&4294967295,I=z+(R<<17&4294967295|R>>>15),R=C+(S^I&(z^S))+O[7]+4249261313&4294967295,C=I+(R<<22&4294967295|R>>>10),R=S+(z^C&(I^z))+O[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(I^S&(C^I))+O[9]+2336552879&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(C^z&(S^C))+O[10]+4294925233&4294967295,I=z+(R<<17&4294967295|R>>>15),R=C+(S^I&(z^S))+O[11]+2304563134&4294967295,C=I+(R<<22&4294967295|R>>>10),R=S+(z^C&(I^z))+O[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(I^S&(C^I))+O[13]+4254626195&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(C^z&(S^C))+O[14]+2792965006&4294967295,I=z+(R<<17&4294967295|R>>>15),R=C+(S^I&(z^S))+O[15]+1236535329&4294967295,C=I+(R<<22&4294967295|R>>>10),R=S+(I^z&(C^I))+O[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^I&(S^C))+O[6]+3225465664&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^C&(z^S))+O[11]+643717713&4294967295,I=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(I^z))+O[0]+3921069994&4294967295,C=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(C^I))+O[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^I&(S^C))+O[10]+38016083&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^C&(z^S))+O[15]+3634488961&4294967295,I=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(I^z))+O[4]+3889429448&4294967295,C=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(C^I))+O[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^I&(S^C))+O[14]+3275163606&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^C&(z^S))+O[3]+4107603335&4294967295,I=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(I^z))+O[8]+1163531501&4294967295,C=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(C^I))+O[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^I&(S^C))+O[2]+4243563512&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^C&(z^S))+O[7]+1735328473&4294967295,I=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(I^z))+O[12]+2368359562&4294967295,C=I+(R<<20&4294967295|R>>>12),R=S+(C^I^z)+O[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^I)+O[8]+2272392833&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^C)+O[11]+1839030562&4294967295,I=z+(R<<16&4294967295|R>>>16),R=C+(I^z^S)+O[14]+4259657740&4294967295,C=I+(R<<23&4294967295|R>>>9),R=S+(C^I^z)+O[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^I)+O[4]+1272893353&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^C)+O[7]+4139469664&4294967295,I=z+(R<<16&4294967295|R>>>16),R=C+(I^z^S)+O[10]+3200236656&4294967295,C=I+(R<<23&4294967295|R>>>9),R=S+(C^I^z)+O[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^I)+O[0]+3936430074&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^C)+O[3]+3572445317&4294967295,I=z+(R<<16&4294967295|R>>>16),R=C+(I^z^S)+O[6]+76029189&4294967295,C=I+(R<<23&4294967295|R>>>9),R=S+(C^I^z)+O[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^I)+O[12]+3873151461&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^C)+O[15]+530742520&4294967295,I=z+(R<<16&4294967295|R>>>16),R=C+(I^z^S)+O[2]+3299628645&4294967295,C=I+(R<<23&4294967295|R>>>9),R=S+(I^(C|~z))+O[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~I))+O[7]+1126891415&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~C))+O[14]+2878612391&4294967295,I=z+(R<<15&4294967295|R>>>17),R=C+(z^(I|~S))+O[5]+4237533241&4294967295,C=I+(R<<21&4294967295|R>>>11),R=S+(I^(C|~z))+O[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~I))+O[3]+2399980690&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~C))+O[10]+4293915773&4294967295,I=z+(R<<15&4294967295|R>>>17),R=C+(z^(I|~S))+O[1]+2240044497&4294967295,C=I+(R<<21&4294967295|R>>>11),R=S+(I^(C|~z))+O[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~I))+O[15]+4264355552&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~C))+O[6]+2734768916&4294967295,I=z+(R<<15&4294967295|R>>>17),R=C+(z^(I|~S))+O[13]+1309151649&4294967295,C=I+(R<<21&4294967295|R>>>11),R=S+(I^(C|~z))+O[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~I))+O[11]+3174756917&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~C))+O[2]+718787259&4294967295,I=z+(R<<15&4294967295|R>>>17),R=C+(z^(I|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,S){S===void 0&&(S=D.length);const C=S-this.blockSize,O=this.C;let I=this.h,z=0;for(;z<S;){if(I==0)for(;z<=C;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<S;)if(O[I++]=D.charCodeAt(z++),I==this.blockSize){o(this,O),I=0;break}}else for(;z<S;)if(O[I++]=D[z++],I==this.blockSize){o(this,O),I=0;break}}this.h=I,this.o+=S},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)D[S++]=this.g[C]>>>O&255;return D};function c(D,S){var C=g;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function d(D,S){this.h=S;const C=[];let O=!0;for(let I=D.length-1;I>=0;I--){const z=D[I]|0;O&&z==S||(C[I]=z,O=!1)}this.g=C}var g={};function y(D){return-128<=D&&D<128?c(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return q(p(-D));const S=[];let C=1;for(let O=0;D>=C;O++)S[O]=D/C|0,C*=4294967296;return new d(S,0)}function E(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return q(E(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(S,8));let O=T;for(let z=0;z<D.length;z+=8){var I=Math.min(8,D.length-z);const R=parseInt(D.substring(z,z+I),S);I<8?(I=p(Math.pow(S,I)),O=O.j(I).add(p(R))):(O=O.j(C),O=O.add(p(R)))}return O}var T=y(0),w=y(1),L=y(16777216);r=d.prototype,r.m=function(){if(F(this))return-q(this).m();let D=0,S=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);D+=(O>=0?O:4294967296+O)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(F(this))return"-"+q(this).toString(D);const S=p(Math.pow(D,6));var C=this;let O="";for(;;){const I=vt(C,S).g;C=at(C,I.j(S));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=I,$(C))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function F(D){return D.h==-1}r.l=function(D){return D=at(this,D),F(D)?-1:$(D)?0:1};function q(D){const S=D.g.length,C=[];for(let O=0;O<S;O++)C[O]=~D.g[O];return new d(C,~D.h).add(w)}r.abs=function(){return F(this)?q(this):this},r.add=function(D){const S=Math.max(this.g.length,D.g.length),C=[];let O=0;for(let I=0;I<=S;I++){let z=O+(this.i(I)&65535)+(D.i(I)&65535),R=(z>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);O=R>>>16,z&=65535,R&=65535,C[I]=R<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function at(D,S){return D.add(q(S))}r.j=function(D){if($(this)||$(D))return T;if(F(this))return F(D)?q(this).j(q(D)):q(q(this).j(D));if(F(D))return q(this.j(q(D)));if(this.l(L)<0&&D.l(L)<0)return p(this.m()*D.m());const S=this.g.length+D.g.length,C=[];for(var O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<D.g.length;I++){const z=this.i(O)>>>16,R=this.i(O)&65535,Nt=D.i(I)>>>16,ae=D.i(I)&65535;C[2*O+2*I]+=R*ae,nt(C,2*O+2*I),C[2*O+2*I+1]+=z*ae,nt(C,2*O+2*I+1),C[2*O+2*I+1]+=R*Nt,nt(C,2*O+2*I+1),C[2*O+2*I+2]+=z*Nt,nt(C,2*O+2*I+2)}for(D=0;D<S;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=S;D<2*S;D++)C[D]=0;return new d(C,0)};function nt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function st(D,S){this.g=D,this.h=S}function vt(D,S){if($(S))throw Error("division by zero");if($(D))return new st(T,T);if(F(D))return S=vt(q(D),S),new st(q(S.g),q(S.h));if(F(S))return S=vt(D,q(S)),new st(q(S.g),S.h);if(D.g.length>30){if(F(D)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var C=w,O=S;O.l(D)<=0;)C=wt(C),O=wt(O);var I=Tt(C,1),z=Tt(O,1);for(O=Tt(O,2),C=Tt(C,2);!$(O);){var R=z.add(O);R.l(D)<=0&&(I=I.add(C),z=R),O=Tt(O,1),C=Tt(C,1)}return S=at(D,I.j(S)),new st(I,S)}for(I=T;D.l(S)>=0;){for(C=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=p(C),R=z.j(S);F(R)||R.l(D)>0;)C-=O,z=p(C),R=z.j(S);$(z)&&(z=w),I=I.add(z),D=at(D,R)}return new st(I,D)}r.B=function(D){return vt(this,D).h},r.and=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)&D.i(O);return new d(C,this.h&D.h)},r.or=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)|D.i(O);return new d(C,this.h|D.h)},r.xor=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)^D.i(O);return new d(C,this.h^D.h)};function wt(D){const S=D.g.length+1,C=[];for(let O=0;O<S;O++)C[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(C,D.h)}function Tt(D,S){const C=S>>5;S%=32;const O=D.g.length-C,I=[];for(let z=0;z<O;z++)I[z]=S>0?D.i(z+C)>>>S|D.i(z+C+1)<<32-S:D.i(z+C);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,iv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Ua=d}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var av,so,rv,pc,Md,sv,lv,ov;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break t;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=y,p.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function T(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,Q){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return m.prototype[j].apply(A,lt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function $(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const Q=j.length||0;u.length=v+Q;for(let lt=0;lt<Q;lt++)u[v+lt]=j[lt]}else u.push(j)}}class F{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function q(u){d.setTimeout(()=>{throw u},0)}function at(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class nt{constructor(){this.h=this.g=null}add(m,v){const A=st.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new F(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Tt=!1,D=new nt,S=()=>{const u=Promise.resolve(void 0);wt=()=>{u.then(C)}};function C(){for(var u;u=at();){try{u.h.call(u.g)}catch(v){q(v)}var m=st;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Tt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Nt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}T(Nt,I),Nt.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Nt.Z.h.call(this)},Nt.prototype.h=function(){Nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),M=0;function G(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++M,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function rt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let Q=0;Q<K.length;Q++)v=K[Q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ct(u){this.src=u,this.g={},this.h=0}ct.prototype.add=function(u,m,v,A,j){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const lt=xt(u,m,A,j);return lt>-1?(m=u[lt],v||(m.fa=!1)):(m=new G(m,this.src,Q,!!A,j),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),Q;(Q=j>=0)&&Array.prototype.splice.call(A,j,1),Q&&(it(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xt(u,m,v,A){for(let j=0;j<u.length;++j){const Q=u[j];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==A)return j}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,A,j){if(Array.isArray(m)){for(let Q=0;Q<m.length;Q++)re(u,m[Q],v,A,j);return null}return v=tl(v),u&&u[ae]?u.J(m,v,g(A)?!!A.capture:!1,j):Xa(u,m,v,!1,A,j)}function Xa(u,m,v,A,j,Q){if(!m)throw Error("Invalid event type");const lt=g(j)?!!j.capture:!!j;let Rt=$a(u);if(Rt||(u[Lt]=Rt=new ct(u)),v=Rt.add(m,v,A,lt,Q),v.proxy)return v;if(A=Or(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)z||(j=lt),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(ti(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Or(){function u(v){return m.call(u.src,u.listener,v)}const m=Js;return u}function kr(u,m,v,A,j){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)kr(u,m[Q],v,A,j);else A=g(A)?!!A.capture:!!A,v=tl(v),u&&u[ae]?(u=u.i,Q=String(m).toString(),Q in u.g&&(m=u.g[Q],v=xt(m,v,A,j),v>-1&&(it(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[Q],u.h--)))):u&&(u=$a(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,v,A,j)),(v=u>-1?m[u]:null)&&zr(v))}function zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ae])Et(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ti(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=$a(m))?(Et(v,u),v.h==0&&(v.src=null,m[Lt]=null)):it(u)}}}function ti(u){return u in De?De[u]:De[u]="on"+u}function Js(u,m){if(u.da)u=!0;else{m=new Nt(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&zr(u),u=v.call(A,m)}return u}function $a(u){return u=u[Lt],u instanceof ct?u:null}var Ws="__closure_events_fn_"+(Math.random()*1e9>>>0);function tl(u){return typeof u=="function"?u:(u[Ws]||(u[Ws]=function(m){return u.handleEvent(m)}),u[Ws])}function ye(){O.call(this),this.i=new ct(this),this.M=this,this.G=null}T(ye,O),ye.prototype[ae]=!0,ye.prototype.removeEventListener=function(u,m,v,A){kr(this,u,m,v,A)};function Ne(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var j=m;m=new I(A,u),ot(m,j)}j=!0;let Q,lt;if(v)for(lt=v.length-1;lt>=0;lt--)Q=m.g=v[lt],j=ea(Q,A,!0,m)&&j;if(Q=m.g=u,j=ea(Q,A,!0,m)&&j,j=ea(Q,A,!1,m)&&j,v)for(lt=0;lt<v.length;lt++)Q=m.g=v[lt],j=ea(Q,A,!1,m)&&j}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)it(v[A]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ye.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ea(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let Q=0;Q<m.length;++Q){const lt=m[Q];if(lt&&!lt.da&&lt.capture==v){const Rt=lt.listener,de=lt.ha||lt.src;lt.fa&&Et(u.i,lt),j=Rt.call(de,A)!==!1&&j}}return j&&!A.defaultPrevented}function uh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Oo(u){u.g=uh(()=>{u.g=null,u.i&&(u.i=!1,Oo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Oo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(u){O.call(this),this.h=u,this.g={}}T(Za,O);var el=[];function nl(u){rt(u.g,function(m,v){this.g.hasOwnProperty(v)&&zr(m)},u),u.g={}}Za.prototype.N=function(){Za.Z.N.call(this),nl(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=d.JSON.stringify,ch=d.JSON.parse,ko=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function zo(){}function Uo(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){I.call(this,"d")}T(je,I);function An(){I.call(this,"c")}T(An,I);var fe={},Lo=null;function Ur(){return Lo=Lo||new ye}fe.Ia="serverreachability";function jo(u){I.call(this,fe.Ia,u)}T(jo,I);function ei(u){const m=Ur();Ne(m,new jo(m))}fe.STAT_EVENT="statevent";function Ja(u,m){I.call(this,fe.STAT_EVENT,u),this.stat=m}T(Ja,I);function _e(u){const m=Ur();Ne(m,new Ja(m,u))}fe.Ja="timingevent";function ni(u,m){I.call(this,fe.Ja,u),this.size=m}T(ni,I);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function hh(u,m,v,A,j,Q){u.info(function(){if(u.g)if(Q){var lt="",Rt=Q.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var de=Rt[Ht].split("=");if(de.length>1){const se=de[0];de=de[1];const Cn=se.split("_");lt=Cn.length>=2&&Cn[1]=="type"?lt+(se+"="+de+"&"):lt+(se+"=redacted&")}}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+lt})}function Bo(u,m,v,A,j,Q,lt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+Q+" "+lt})}function ai(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+fh(u,v)+(A?" "+A:"")})}function Wa(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function fh(u,m){if(!u.g)return m;if(!m)return null;try{const Q=JSON.parse(m);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var v=Q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let lt=1;lt<A.length;lt++)A[lt]=""}}}}return na(Q)}catch{return m}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},al;function er(){}T(er,zo),er.prototype.g=function(){return new XMLHttpRequest},al=new er;function xi(u){return encodeURIComponent(String(u))}function Po(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Pn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Za(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var ve={},ke={};function ri(u,m,v){u.M=1,u.A=nr(be(m)),u.u=v,u.R=!0,Lr(u,null)}function Lr(u,m){u.F=Date.now(),si(u),u.B=be(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),qr(v.i,"t",A),u.C=0,v=u.j.L,u.h=new qn,u.g=nu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(el[0]=j.toString()),j=el);for(let Q=0;Q<j.length;Q++){const lt=re(v,j[Q],A||m.handleEvent,!1,m.h||m);if(!lt)break;m.g[lt.key]=lt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),hh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Fn(this.g),de=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Rt!=4||de==7||(de==8||Ht<=0?ei(3):ei(2)),li(this);var m=this.g.ca();this.X=m;var v=dh(this);if(this.o=m==200,Bo(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var Q=A;break e}}Q=null}if(u=Q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,_e(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<v.length;)if(se=Ho(this,v),se==ke){Rt==4&&(this.m=4,_e(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ve){this.m=4,_e(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,se,null),oi(this,se);if(qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),vl(lt),lt.P=!0,_e(11))}}else ai(this.i,this.l,v,null),oi(this,v);Rt==4&&fn(this),this.o&&!this.K&&(Rt==4?Jo(this.j,this):(this.o=!1,si(this)))}else Ni(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),fn(this),Sn(this)}}}catch{}finally{}};function dh(u){if(!qo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const A=m.length,j=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let Q=0;Q<A;Q++)u.h.h=!0,v+=u.h.i.decode(m[Q],{stream:!(j&&Q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function qo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ho(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?ke:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?ke:(m=m.slice(A,A+v),u.C=A+v,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,jr(u,u.H)}function jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(p(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wa(this.i,this.B),this.M!=2&&(ei(),_e(17)),fn(this),this.m=2,Sn(this)):jr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||Jo(u.j,u)}function fn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,nl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Yr(v),ca(v);else break t;ur(v),_e(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(p(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&Yr(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Ht=j[m];const se=Ht[0];if(!(se<=v.K))if(v.K=se,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=Ht[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Qn=Ht[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(A=1.5*Qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=u.g;if(Yn){const cr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var Q=A.h;Q.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ll(Q,Q.h),Q.h=null))}if(A.G){const Kr=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kr&&(A.wa=Kr,Qt(A.J,A.G,Kr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var lt=u;if(A.na=eu(A,A.L?A.ba:null,A.W),lt.L){ol(A.h,lt);var Rt=lt,de=A.O;de&&(Rt.H=de),Rt.D&&(li(Rt),si(Rt)),A.g=lt}else $o(A);v.i.length>0&&gi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||pi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?pi(v,7):yl(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function rl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ll(u,m){u.g?u.g.add(m):u.h=m}function ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}rl.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ul(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return L(u.i)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Br(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,Q=null;A>=0?(j=u[v].substring(0,A),Q=u[v].substring(A+1)):j=u[v],m(j,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,ia(this,u.u),this.h=u.h,cl(this,Ko(u.i)),this.m=u.m):u&&(m=String(u).match(Go))?(this.l=!1,ze(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),ia(this,m[4]),this.h=hi(m[5]||"",!0),cl(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ra(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ir(m,Pr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ir(m,Pr,!0),"@"),u.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ir(v,v.charAt(0)=="/"?hl:Fo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ir(v,Qo)),u.join("")},dn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)ia(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const Q=[];for(let lt=0;lt<j.length;){const Rt=j[lt++];Rt=="."?A&&lt==j.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&lt==j.length&&Q.push("")):(Q.push(Rt),A=!0)}A=Q.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?cl(m,Ko(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new dn(u)}function ze(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ia(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function cl(u,m,v){m instanceof ra?(u.i=m,Hr(u.i,u.l)):(v||(m=ir(m,aa)),u.i=new ra(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function nr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pr=/[#\/\?@]/g,Fo=/[#\?:]/g,hl=/[#\?]/g,aa=/[#\?@]/g,Qo=/#/g;function ra(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Br(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ra.prototype,r.add=function(u,m){nn(this),this.i=null,u=sa(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Yo(u,m){nn(u),m=sa(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fl(u,m){return nn(u),m=sa(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function dl(u,m){nn(u);let v=[];if(typeof m=="string")fl(u,m)&&(v=v.concat(u.g.get(sa(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return nn(this),this.i=null,u=sa(this,u),fl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=dl(this,u),u.length>0?String(u[0]):m):m};function qr(u,m,v){Yo(u,m),v.length>0&&(u.i=null,u.g.set(sa(u,m),L(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=xi(v);v=dl(this,v);for(let Q=0;Q<v.length;Q++){let lt=j;v[Q]!==""&&(lt+="="+xi(v[Q])),u.push(lt)}}return this.i=u.join("&")};function Ko(u){const m=new ra;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function sa(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Hr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Yo(this,A),qr(this,j,v))},u)),u.j=m}function Hn(u,m){const v=new Bn;if(d.Image){const A=new Image;A.onload=E(wn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(wn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(wn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function ml(u,m){const v=new Bn,A=new AbortController,j=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(Q=>{clearTimeout(j),Q.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function la(){this.g=new ko}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}T(fi,zo),fi.prototype.g=function(){return new ar(this.i,this.h)};function ar(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ar,ye),r=ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?oa(this):Gn(this),this.readyState==3&&Gr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,oa(this))},r.Na=function(u){this.g&&(this.response=u,oa(this))},r.ga=function(){this.g&&oa(this)};function oa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return rt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function rr(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Rn(v),typeof u=="string"?v!=null&&xi(v):Qt(u,m,v))}function Xt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xt,ye);var di=/^https?$/i,gl=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():al.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){sr(this,Q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(gl,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of v)this.g.setRequestHeader(Q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){sr(this,Q)}};function sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,pl(u),Di(u)}function pl(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Di(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},r.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const Q=u.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=Q===0){let lt=String(u.D).match(Go)[1]||null;!lt&&d.self&&d.self.location&&(lt=d.self.location.protocol.slice(0,-1)),A=!di.test(lt?lt.toLowerCase():"")}v=A}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var j=Fn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",pl(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ch(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=Po(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[j]||[];m[j]=Q,Q.push(v)}ft(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ua(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new rl(u&&u.concurrentRequestLimit),this.Ba=new la,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ua.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){_e(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=eu(this,null,this.W),gi(this)};function yl(u){if(Fr(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),or(u,v),m=new Pn(u,u.j,m),m.M=2,m.A=nr(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}tu(u)}function ca(u){u.g&&(vl(u),u.g.cancel(),u.g=null)}function Fr(u){ca(u),u.v&&(d.clearTimeout(u.v),u.v=null),Yr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!sl(u.h)&&!u.m){u.m=!0;var m=u.Ea;wt||S(),Tt||(wt(),Tt=!0),D.add(m,u),u.D=0}}function Qr(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(p(u.Ea,u,m),Wo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Pn(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=x(Q),ot(Q,this.U)):Q=this.U),this.u!==null||this.R||(j.J=Q,Q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Xo(this,j,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),or(this,v),Q&&(this.R?m="headers="+xi(Rn(Q))+"&"+m:this.u&&rr(v,this.u,Q)),ll(this.h,j),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),j.U=!0,ri(j,v,null)):ri(j,v,m),this.I=2}}else this.I==3&&(u?_l(this,u):this.i.length==0||sl(this.h)||_l(this))};function _l(u,m){var v;m?v=m.l:v=u.V++;const A=be(u.J);Qt(A,"SID",u.M),Qt(A,"RID",v),Qt(A,"AID",u.K),or(u,A),u.u&&u.o&&rr(A,u.u,u.o),v=new Pn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Xo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ll(u.h,v),ri(v,A,m)}function or(u,m){u.H&&rt(u.H,function(v,A){Qt(m,A,v)}),u.l&&rt({},function(v,A){Qt(m,A,v)})}function Xo(u,m,v){v=Math.min(u.i.length,v);const A=u.l?p(u.l.Ka,u.l,u):null;t:{var j=u.i;let Rt=-1;for(;;){const de=["count="+v];Rt==-1?v>0?(Rt=j[0].g,de.push("ofs="+Rt)):Rt=0:de.push("ofs="+Rt);let Ht=!0;for(let se=0;se<v;se++){var Q=j[se].g;const Cn=j[se].map;if(Q-=Rt,Q<0)Rt=Math.max(0,j[se].g-100),Ht=!1;else try{Q="req"+Q+"_"||"";try{var lt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Qn]of lt){let Yn=Qn;g(Qn)&&(Yn=na(Qn)),de.push(Q+yi+"="+encodeURIComponent(Yn))}}catch(yi){throw de.push(Q+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(Cn)}}if(Ht){lt=de.join("&");break t}}lt=void 0}return u=u.i.splice(0,v),m.G=u,lt}function $o(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;wt||S(),Tt||(wt(),Tt=!0),D.add(m,u),u.A=0}}function ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(p(u.Da,u),Wo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ca(this),Zo(this))};function vl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Zo(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),or(u,m),u.u&&u.o&&rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=nr(be(m)),v.u=null,v.R=!0,Lr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ca(this),ur(this),_e(19))};function Yr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Jo(u,m){var v=null;if(u.g==m){Yr(u),vl(u),u.g=null;var A=2}else if(ci(u.h,m))v=m.G,ol(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=Ur(),Ne(A,new ni(A,v)),gi(u)}else $o(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&Qr(u,m)||A==2&&ur(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Wo(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),A=u.Ua;const j=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(A,"https"),nr(A),j?Hn(A.toString(),v):ml(A.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),tu(u),Fr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function tu(u){if(u.I=0,u.ja=[],u.l){const m=ul(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function eu(u,m,v){var A=v instanceof dn?be(v):new dn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ia(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const Q=new dn(null);A&&ze(Q,A),m&&(Q.g=m),j&&ia(Q,j),v&&(Q.h=v),A=Q}return v=u.G,m=u.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",u.ka),or(u,A),A}function nu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new fi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}r=iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ha(){}ha.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ii(this)}T(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){yl(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=na(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&gi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,We.Z.N.call(this)};function au(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}T(au,je);function ru(){An.call(this),this.status=1}T(ru,An);function Ii(u){this.g=u}T(Ii,iu),Ii.prototype.ra=function(){Ne(this.g,"a")},Ii.prototype.qa=function(u){Ne(this.g,new au(u))},Ii.prototype.pa=function(u){Ne(this.g,new ru)},Ii.prototype.oa=function(){Ne(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,ov=function(){return new ha},lv=function(){return Ur()},sv=fe,Md={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,pc=tr,il.COMPLETE="complete",rv=il,Uo.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,so=Uo,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,av=Xt}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",U_="4.9.2";class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let Fs="12.3.0";const xr=new Z0("@firebase/firestore");function Rs(){return xr.logLevel}function ht(r,...e){if(xr.logLevel<=Bt.DEBUG){const i=e.map(im);xr.debug(`Firestore (${Fs}): ${r}`,...i)}}function $i(r,...e){if(xr.logLevel<=Bt.ERROR){const i=e.map(im);xr.error(`Firestore (${Fs}): ${r}`,...i)}}function Us(r,...e){if(xr.logLevel<=Bt.WARN){const i=e.map(im);xr.warn(`Firestore (${Fs}): ${r}`,...i)}}function im(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,uv(r,s,i)}function uv(r,e,i){let s=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw $i(s),new Error(s)}function Ft(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||uv(e,o,s)}function St(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class La{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class cv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class d2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class m2{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new La;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new La,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new La)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new cv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class g2{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new g2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=c=>{c.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new L_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=_2(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function kt(r,e){return r<e?-1:r>e?1:0}function Od(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return _d(o)===_d(c)?kt(o,c):_d(o)?1:-1}return kt(r.length,e.length)}const v2=55296,E2=57343;function _d(r){const e=r.charCodeAt(0);return e>=v2&&e<=E2}function Ls(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const j_="__name__";class Ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return kt(e.length,i.length)}static compareSegments(e,i){const s=Ti.isNumericId(e),o=Ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):Od(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ua.fromString(e.substring(4,e.length-2))}}class te extends Ti{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(e,i,s){return new Qe(e,i,s)}static isValidIdentifier(e){return b2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new Qe([j_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(te.fromString(e))}static fromName(e){return new gt(te.fromString(e).popFirst(5))}static empty(){return new gt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new te(e.slice()))}}function hv(r,e,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function T2(r,e,i,s){if(e===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function B_(r){if(!gt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function P_(r){if(gt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Ba(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qc(r);throw new ut(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function A2(r,e){if(e<=0)throw new ut(J.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function xe(r,e){const i={typeString:r};return e&&(i.value=e),i}function So(r,e){if(!fv(r))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const q_=-62135596800,H_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*H_);return new ie(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<q_)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(So(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:xe("string",ie._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ie(0,0))}static max(){return new bt(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const po=-1;function S2(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new Pa(o,gt.empty(),e)}function w2(r){return new Pa(r.readTime,r.key,po)}class Pa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Pa(bt.min(),gt.empty(),po)}static max(){return new Pa(bt.max(),gt.empty(),po)}}function R2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:kt(r.largestBatchId,e.largestBatchId))}const C2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Qs(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==C2)throw r;ht("LocalStore","Unexpectedly lost primary lease")}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new et(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):et.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):et.reject(i)}static resolve(e){return new et(((i,s)=>{i(e)}))}static reject(e){return new et(((i,s)=>{s(e)}))}static waitFor(e){return new et(((i,s)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>s(y)))})),d=!0,c===o&&i()}))}static or(e){let i=et.resolve(!1);for(const s of e)i=i.next((o=>o?et.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new et(((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(e[p]).next((E=>{d[p]=E,++g,g===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new et(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function D2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ys(r){return r.name==="IndexedDbTransactionError"}class Hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hc.ce=-1;const rm=-1;function Gc(r){return r==null}function Dc(r){return r===0&&1/r==-1/0}function N2(r){return typeof r=="number"&&Number.isInteger(r)&&!Dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const dv="";function I2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=G_(e)),e=V2(r.get(i),e);return G_(e)}function V2(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case dv:i+="";break;default:i+=c}}return i}function G_(r){return r+dv+""}function F_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ya(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function mv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Fe(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gv("Invalid base64 string: "+c):c}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=M2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ha(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const pv="server_timestamp",yv="__type__",_v="__previous_value__",vv="__local_write_time__";function Fc(r){return(r?.mapValue?.fields||{})[yv]?.stringValue===pv}function Qc(r){const e=r.mapValue.fields[_v];return Fc(e)?Qc(e):e}function yo(r){const e=qa(r.mapValue.fields[vv].timestampValue);return new ie(e.seconds,e.nanos)}class O2{constructor(e,i,s,o,c,d,g,y,p,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Nc="(default)";class _o{constructor(e,i){this.projectId=e,this.database=i||Nc}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}const Ev="__type__",k2="__max__",hc={mapValue:{}},bv="__vector__",Ic="value";function Ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fc(r)?4:U2(r)?9007199254740991:z2(r)?10:11:_t(28295,{value:r})}function Ci(r,e){if(r===e)return!0;const i=Ga(r);if(i!==Ga(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yo(r).isEqual(yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=qa(o.timestampValue),g=qa(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Ha(o.bytesValue).isEqual(Ha(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return pe(o.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pe(o.integerValue)===pe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=pe(o.doubleValue),g=pe(c.doubleValue);return d===g?Dc(d)===Dc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Ls(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(F_(d)!==F_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ci(d[y],g[y])))return!1;return!0})(r,e);default:return _t(52216,{left:r})}}function vo(r,e){return(r.values||[]).find((i=>Ci(i,e)))!==void 0}function js(r,e){if(r===e)return 0;const i=Ga(r),s=Ga(e);if(i!==s)return kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),y=pe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return Y_(r.timestampValue,e.timestampValue);case 4:return Y_(yo(r),yo(e));case 5:return Od(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=Ha(c),y=Ha(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=kt(g[p],y[p]);if(E!==0)return E}return kt(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=kt(pe(c.latitude),pe(d.latitude));return g!==0?g:kt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return K_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},p=g[Ic]?.arrayValue,E=y[Ic]?.arrayValue,T=kt(p?.values?.length||0,E?.values?.length||0);return T!==0?T:K_(p,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===hc.mapValue&&d===hc.mapValue)return 0;if(c===hc.mapValue)return 1;if(d===hc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let T=0;T<y.length&&T<E.length;++T){const w=Od(y[T],E[T]);if(w!==0)return w;const L=js(g[y[T]],p[E[T]]);if(L!==0)return L}return kt(y.length,E.length)})(r.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function Y_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return kt(r,e);const i=qa(r),s=qa(e),o=kt(i.seconds,s.seconds);return o!==0?o:kt(i.nanos,s.nanos)}function K_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=js(i[o],s[o]);if(c)return c}return kt(i.length,s.length)}function Bs(r){return kd(r)}function kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=qa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ha(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=kd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${kd(i.fields[d])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function yc(r){switch(Ga(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qc(r);return e?16+yc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ha(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+yc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ya(s.fields,((c,d)=>{o+=c.length+yc(d)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function Vc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zd(r){return!!r&&"integerValue"in r}function sm(r){return!!r&&"arrayValue"in r}function X_(r){return!!r&&"nullValue"in r}function $_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _c(r){return!!r&&"mapValue"in r}function z2(r){return(r?.mapValue?.fields||{})[Ev]?.stringValue===bv}function co(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ya(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=co(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=co(r.arrayValue.values[i]);return e}return{...r}}function U2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===k2}class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!_c(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=co(i)}setAll(e){let i=Qe.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=co(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());_c(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];_c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ya(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new cn(co(this.value))}}function Tv(r){const e=[];return Ya(r.fields,((i,s)=>{const o=new Qe([i]);if(_c(s)){const c=Tv(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Tn(e)}class Ze{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ze(e,0,bt.min(),bt.min(),bt.min(),cn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,bt.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,bt.min(),bt.min(),cn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,bt.min(),bt.min(),cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ps{constructor(e,i){this.position=e,this.inclusive=i}}function Z_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=js(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function J_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],e.position[i]))return!1;return!0}class Eo{constructor(e,i="asc"){this.field=e,this.dir=i}}function L2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Av{}class Ce extends Av{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new B2(e,i,s):i==="array-contains"?new H2(e,s):i==="in"?new G2(e,s):i==="not-in"?new F2(e,s):i==="array-contains-any"?new Q2(e,s):new Ce(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new P2(e,s):new q2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(js(i,this.value)):i!==null&&Ga(this.value)===Ga(i)&&this.matchesComparison(js(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends Av{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Jn(e,i)}matches(e){return Sv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sv(r){return r.op==="and"}function wv(r){return j2(r)&&Sv(r)}function j2(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function Ud(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+Bs(r.value);if(wv(r))return r.filters.map((e=>Ud(e))).join(",");{const e=r.filters.map((i=>Ud(i))).join(",");return`${r.op}(${e})`}}function Rv(r,e){return r instanceof Ce?(function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&Ci(s.value,o.value)})(r,e):r instanceof Jn?(function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,g)=>c&&Rv(d,o.filters[g])),!0):!1})(r,e):void _t(19439)}function Cv(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Bs(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Cv).join(" ,")+"}"})(r):"Filter"}class B2 extends Ce{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class P2 extends Ce{constructor(e,i){super(e,"in",i),this.keys=xv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class q2 extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=xv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function xv(r,e){return(e.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class H2 extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return sm(i)&&vo(i.arrayValue,this.value)}}class G2 extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class F2 extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vo(this.value.arrayValue,i)}}class Q2 extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>vo(this.value.arrayValue,s)))}}class Y2{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function W_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new Y2(r,e,i,s,o,c,d)}function lm(r){const e=St(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ud(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Bs(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Bs(s))).join(",")),e.Te=i}return e.Te}function om(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!L2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Rv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!J_(r.startAt,e.startAt)&&J_(r.endAt,e.endAt)}function Ld(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Nr{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K2(r,e,i,s,o,c,d,g){return new Nr(r,e,i,s,o,c,d,g)}function Dv(r){return new Nr(r)}function t0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function um(r){return r.collectionGroup!==null}function Ms(r){const e=St(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Eo(c,s))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new Eo(Qe.keyField(),s))}return e.Ie}function Ai(r){const e=St(r);return e.Ee||(e.Ee=X2(e,Ms(r))),e.Ee}function X2(r,e){if(r.limitType==="F")return W_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Eo(o.field,c)}));const i=r.endAt?new Ps(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ps(r.startAt.position,r.startAt.inclusive):null;return W_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function jd(r,e){const i=r.filters.concat([e]);return new Nr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Mc(r,e,i){return new Nr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Yc(r,e){return om(Ai(r),Ai(e))&&r.limitType===e.limitType}function Nv(r){return`${lm(Ai(r))}|lt:${r.limitType}`}function Cs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Cv(o))).join(", ")}]`),Gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Bs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Bs(o))).join(",")),`Target(${s})`})(Ai(r))}; limitType=${r.limitType})`}function Kc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Ms(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,y){const p=Z_(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,Ms(s),o)||s.endAt&&!(function(d,g,y){const p=Z_(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,Ms(s),o))})(r,e)}function $2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Iv(r){return(e,i)=>{let s=!1;for(const o of Ms(r)){const c=Z2(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function Z2(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?js(y,p):_t(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}class Ir{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return mv(this.inner)}size(){return this.innerSize}}const J2=new oe(gt.comparator);function Zi(){return J2}const Vv=new oe(gt.comparator);function lo(...r){let e=Vv;for(const i of r)e=e.insert(i.key,i);return e}function Mv(r){let e=Vv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Cr(){return ho()}function Ov(){return ho()}function ho(){return new Ir((r=>r.toString()),((r,e)=>r.isEqual(e)))}const W2=new oe(gt.comparator),tS=new Me(gt.comparator);function zt(...r){let e=tS;for(const i of r)e=e.add(i);return e}const eS=new Me(kt);function nS(){return eS}function cm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function kv(r){return{integerValue:""+r}}function iS(r,e){return N2(e)?kv(e):cm(r,e)}class Xc{constructor(){this._=void 0}}function aS(r,e,i){return r instanceof Oc?(function(o,c){const d={fields:{[yv]:{stringValue:pv},[vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Fc(c)&&(c=Qc(c)),c&&(d.fields[_v]=c),{mapValue:d}})(i,e):r instanceof bo?Uv(r,e):r instanceof To?Lv(r,e):(function(o,c){const d=zv(o,c),g=e0(d)+e0(o.Ae);return zd(d)&&zd(o.Ae)?kv(g):cm(o.serializer,g)})(r,e)}function rS(r,e,i){return r instanceof bo?Uv(r,e):r instanceof To?Lv(r,e):i}function zv(r,e){return r instanceof kc?(function(s){return zd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Oc extends Xc{}class bo extends Xc{constructor(e){super(),this.elements=e}}function Uv(r,e){const i=jv(e);for(const s of r.elements)i.some((o=>Ci(o,s)))||i.push(s);return{arrayValue:{values:i}}}class To extends Xc{constructor(e){super(),this.elements=e}}function Lv(r,e){let i=jv(e);for(const s of r.elements)i=i.filter((o=>!Ci(o,s)));return{arrayValue:{values:i}}}class kc extends Xc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function e0(r){return pe(r.integerValue||r.doubleValue)}function jv(r){return sm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function sS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof bo&&o instanceof bo||s instanceof To&&o instanceof To?Ls(s.elements,o.elements,Ci):s instanceof kc&&o instanceof kc?Ci(s.Ae,o.Ae):s instanceof Oc&&o instanceof Oc})(r.transform,e.transform)}class lS{constructor(e,i){this.version=e,this.transformResults=i}}class hn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $c{}function Bv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zc(r.key,hn.none()):new wo(r.key,r.data,hn.none());{const i=r.data,s=cn.empty();let o=new Me(Qe.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ka(r.key,s,new Tn(o.toArray()),hn.none())}}function oS(r,e,i){r instanceof wo?(function(o,c,d){const g=o.value.clone(),y=i0(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Ka?(function(o,c,d){if(!vc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=i0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Pv(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function fo(r,e,i,s){return r instanceof wo?(function(c,d,g,y){if(!vc(c.precondition,d))return g;const p=c.value.clone(),E=a0(c.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ka?(function(c,d,g,y){if(!vc(c.precondition,d))return g;const p=a0(c.fieldTransforms,y,d),E=d.data;return E.setAll(Pv(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(r,e,i,s):(function(c,d,g){return vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function uS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=zv(s.transform,o||null);c!=null&&(i===null&&(i=cn.empty()),i.set(s.field,c))}return i||null}function n0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ls(s,o,((c,d)=>sS(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class wo extends $c{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ka extends $c{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Pv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function i0(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,rS(d,g,i[o]))}return s}function a0(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,aS(c,d,e))}return s}class Zc extends $c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cS extends $c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&oS(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=fo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=fo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Ov();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=Bv(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),zt())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,((i,s)=>n0(i,s)))&&Ls(this.baseMutations,e.baseMutations,((i,s)=>n0(i,s)))}}class hm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return W2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new hm(e,i,s,o)}}class fS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,jt;function mS(r){switch(r){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function qv(r){if(r===void 0)return $i("GRPC error has no .code"),J.UNKNOWN;switch(r){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:r})}}(jt=Re||(Re={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function gS(){return new TextEncoder}const pS=new Ua([4294967295,4294967295],0);function r0(r){const e=gS().encode(r),i=new iv;return i.update(e),new Uint8Array(i.digest())}function s0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ua([i,s],0),new Ua([o,c],0)]}class fm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new oo(`Invalid padding: ${i}`);if(s<0)throw new oo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new oo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ua.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ua.fromNumber(s)));return o.compare(pS)===1&&(o=new Ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=r0(e),[s,o]=s0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new fm(c,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=r0(e),[s,o]=s0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Ro.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Jc(bt.min(),o,new oe(kt),Zi(),zt())}}class Ro{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Ro(s,i,zt(),zt(),zt())}}class Ec{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Hv{constructor(e,i){this.targetId=e,this.Ce=i}}class Gv{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class l0{constructor(){this.ve=0,this.Fe=o0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=zt(),i=zt(),s=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:c})}})),new Ro(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=o0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zi(),this.Je=fc(),this.He=fc(),this.Ye=new oe(kt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Ld(c))if(s===0){const d=new gt(c.path);this.et(i,d,Ze.newNoDocument(d,bt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Ha(s).toUint8Array()}catch(y){if(y instanceof gv)return Us("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new fm(d,o,c)}catch(y){return Us(y instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Ld(g.target)){const y=new gt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Jc(e,i,this.Ye,this.je,s);return this.je=Zi(),this.Je=fc(),this.He=fc(),this.Ye=new oe(kt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new l0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(kt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(kt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function fc(){return new oe(gt.comparator)}function o0(){return new oe(gt.comparator)}const _S={asc:"ASCENDING",desc:"DESCENDING"},vS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ES={and:"AND",or:"OR"};class bS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bd(r,e){return r.useProto3Json||Gc(e)?e:{value:e}}function zc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function TS(r,e){return zc(r,e.toTimestamp())}function Si(r){return Ft(!!r,49232),bt.fromTimestamp((function(i){const s=qa(i);return new ie(s.seconds,s.nanos)})(r))}function dm(r,e){return Pd(r,e).canonicalString()}function Pd(r,e){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Qv(r){const e=te.fromString(r);return Ft(Zv(e),10190,{key:e.toString()}),e}function qd(r,e){return dm(r.databaseId,e.path)}function vd(r,e){const i=Qv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(Kv(i))}function Yv(r,e){return dm(r.databaseId,e)}function AS(r){const e=Qv(r);return e.length===4?te.emptyPath():Kv(e)}function Hd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Kv(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u0(r,e,i){return{name:qd(r,e),fields:i.value.mapValue.fields}}function SS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,E){return p.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const E=p.code===void 0?J.UNKNOWN:qv(p.code);return new ut(E,p.message||"")})(d);i=new Gv(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vd(r,s.document.name),c=Si(s.document.updateTime),d=s.document.createTime?Si(s.document.createTime):bt.min(),g=new cn({mapValue:{fields:s.document.fields}}),y=Ze.newFoundDocument(o,c,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new Ec(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vd(r,s.document),c=s.readTime?Si(s.readTime):bt.min(),d=Ze.newNoDocument(o,c),g=s.removedTargetIds||[];i=new Ec([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vd(r,s.document),c=s.removedTargetIds||[];i=new Ec([],c,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new dS(o,c),g=s.targetId;i=new Hv(g,d)}}return i}function wS(r,e){let i;if(e instanceof wo)i={update:u0(r,e.key,e.value)};else if(e instanceof Zc)i={delete:qd(r,e.key)};else if(e instanceof Ka)i={update:u0(r,e.key,e.data),updateMask:OS(e.fieldMask)};else{if(!(e instanceof cS))return _t(16599,{Vt:e.type});i={verify:qd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof bo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof kc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:TS(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,e.precondition)),i}function RS(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Si(o.updateTime):Si(c);return d.isEqual(bt.min())&&(d=Si(c)),new lS(d,o.transformResults||[])})(i,e)))):[]}function CS(r,e){return{documents:[Yv(r,e.path)]}}function xS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Yv(r,o);const c=(function(p){if(p.length!==0)return $v(Jn.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((E=>(function(w){return{field:xs(w.field),direction:IS(w.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Bd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:o}}function DS(r){let e=AS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(T){const w=Xv(T);return w instanceof Jn&&wv(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(T){return T.map((w=>(function($){return new Eo(Ds($.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(w)))})(i.orderBy));let g=null;i.limit&&(g=(function(T){let w;return w=typeof T=="object"?T.value:T,Gc(w)?null:w})(i.limit));let y=null;i.startAt&&(y=(function(T){const w=!!T.before,L=T.values||[];return new Ps(L,w)})(i.startAt));let p=null;return i.endAt&&(p=(function(T){const w=!T.before,L=T.values||[];return new Ps(L,w)})(i.endAt)),K2(e,o,d,c,g,"F",y,p)}function NS(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Xv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ds(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ds(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ds(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ds(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Ds(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((s=>Xv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function IS(r){return _S[r]}function VS(r){return vS[r]}function MS(r){return ES[r]}function xs(r){return{fieldPath:r.canonicalString()}}function Ds(r){return Qe.fromServerFormat(r.fieldPath)}function $v(r){return r instanceof Ce?(function(i){if(i.op==="=="){if($_(i.value))return{unaryFilter:{field:xs(i.field),op:"IS_NAN"}};if(X_(i.value))return{unaryFilter:{field:xs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($_(i.value))return{unaryFilter:{field:xs(i.field),op:"IS_NOT_NAN"}};if(X_(i.value))return{unaryFilter:{field:xs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(i.field),op:VS(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const s=i.getFilters().map((o=>$v(o)));return s.length===1?s[0]:{compositeFilter:{op:MS(i.op),filters:s}}})(r):_t(54877,{filter:r})}function OS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Zv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Oa{constructor(e,i,s,o,c=bt.min(),d=bt.min(),g=Ye.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kS{constructor(e){this.yt=e}}function zS(r){const e=DS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mc(e,e.limit,"L"):e}class US{constructor(){this.Cn=new LS}addToCollectionParentIndex(e,i){return this.Cn.add(i),et.resolve()}getCollectionParents(e,i){return et.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return et.resolve()}deleteFieldIndex(e,i){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,i){return et.resolve()}getDocumentsMatchingTarget(e,i){return et.resolve(null)}getIndexType(e,i){return et.resolve(0)}getFieldIndexes(e,i){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,i){return et.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,i){return et.resolve(Pa.min())}updateCollectionGroup(e,i,s){return et.resolve()}updateIndexEntries(e,i){return et.resolve()}}class LS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me(te.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me(te.comparator)).toArray()}}const c0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jv=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Jv,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class qs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qs(0)}static cr(){return new qs(-1)}}const h0="LruGarbageCollector",jS=1048576;function f0([r,e],[i,s]){const o=kt(r,i);return o===0?kt(e,s):o}class BS{constructor(e){this.Ir=e,this.buffer=new Me(f0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();f0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class PS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ht(h0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ys(i)?ht(h0,"Ignoring IndexedDB error during garbage collection: ",i):await Qs(i)}await this.Vr(3e5)}))}}class qS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return et.resolve(Hc.ce);const s=new BS(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(c0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,g,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,g=Date.now(),this.removeTargets(e,s,i)))).next((T=>(c=T,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),Rs()<=Bt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${T} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function HS(r,e){return new qS(r,e)}class GS{constructor(){this.changes=new Ir((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?et.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class QS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&fo(s.mutation,o,Tn.empty(),ie.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,zt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=zt()){const o=Cr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=lo();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Cr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,zt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let c=Zi();const d=ho(),g=(function(){return ho()})();return i.forEach(((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Ka)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),fo(E.mutation,p,E.mutation.getFieldMask(),ie.now())):d.set(p.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((p,E)=>d.set(p,E))),i.forEach(((p,E)=>g.set(p,new FS(E,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=ho();let o=new oe(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=i.get(y);if(p===null)return;let E=s.get(y)||Tn.empty();E=g.applyToLocalView(p,E),s.set(y,E);const T=(o.get(g.batchId)||zt()).add(y);o=o.insert(g.batchId,T)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,T=Ov();E.forEach((w=>{if(!c.has(w)){const L=Bv(i.get(w),s.get(w));L!==null&&T.set(w,L),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,T))}return et.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):um(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):et.resolve(Cr());let g=po,y=c;return d.next((p=>et.forEach(p,((E,T)=>(g<T.largestBatchId&&(g=T.largestBatchId),c.get(E)?et.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{y=y.insert(E,w)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,y,p,zt()))).next((E=>({batchId:g,changes:Mv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((s=>{let o=lo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=lo();return this.indexManager.getCollectionParents(e,c).next((g=>et.forEach(g,(y=>{const p=(function(T,w){return new Nr(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((T,w)=>{d=d.insert(T,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let g=lo();return d.forEach(((y,p)=>{const E=c.get(y);E!==void 0&&fo(E.mutation,p,Tn.empty(),ie.now()),Kc(i,p)&&(g=g.insert(y,p))})),g}))}}class YS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return et.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(i)),et.resolve()}getNamedQuery(e,i){return et.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:zS(o.bundledQuery),readTime:Si(o.readTime)}})(i)),et.resolve()}}class KS{constructor(){this.overlays=new oe(gt.comparator),this.qr=new Map}getOverlay(e,i){return et.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Cr();return et.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),et.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(e,i,s){const o=Cr(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return et.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new oe(((p,E)=>p-E));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=Cr(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Cr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=o)););return et.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new fS(i,s));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class XS{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,et.resolve()}}class mm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new gt(new te([])),s=new Le(i,e),o=new Le(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new te([])),s=new Le(i,e),o=new Le(i,e+1);let c=zt();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||kt(e.Yr,i.Yr)}static Kr(e,i){return kt(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}class $S{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hS(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(d)}lookupMutationBatch(e,i){return et.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?rm:this.tr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(kt);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new gt(c),0);let g=new Me(kt);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Yr)),!0)}),d),et.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ZS{constructor(e){this.ri=e,this.docs=(function(){return new oe(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return et.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=Zi();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Zi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||R2(w2(E),s)<=0||(o.has(E.key)||Kc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ii(e,i){return et.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new JS(this)}getSize(e){return et.resolve(this.size)}}class JS extends GS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),et.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class WS{constructor(e){this.persistence=e,this.si=new Ir((i=>lm(i)),om),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new mm,this.targetCount=0,this.ai=qs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),et.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new qs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,et.resolve()}updateTargetData(e,i){return this.Pr(i),et.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),et.waitFor(c).next((()=>o))}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return et.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),et.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),et.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),et.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return et.resolve(s)}containsKey(e,i){return et.resolve(this._i.containsKey(i))}}class Wv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Hc(0),this.li=!1,this.li=!0,this.hi=new XS,this.referenceDelegate=e(this),this.Pi=new WS(this),this.indexManager=new US,this.remoteDocumentCache=(function(o){return new ZS(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new kS(i),this.Ii=new YS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new KS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new $S(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ht("MemoryPersistence","Starting transaction:",e);const o=new tw(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class tw extends x2{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.Ri=new mm,this.Vi=null}static mi(e){return new gm(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),et.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),et.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return et.or([()=>et.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Uc{constructor(e,i){this.persistence=e,this.pi=new Ir((s=>I2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=HS(this,i)}static mi(e,i){return new Uc(e,i)}Ei(){}di(e){return et.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return et.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?et.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),et.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),et.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),et.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=yc(e.data.value)),i}br(e,i,s){return et.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new pm(e,i.fromCache,s,o)}}class ew{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QT()?8:D2(GT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new ew;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Rs()<=Bt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Rs()<=Bt.DEBUG&&ht("QueryEngine","Query:",Cs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Rs()<=Bt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(i))):et.resolve())}ys(e,i){if(t0(i))return et.resolve(null);let s=Ai(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Mc(i,null,"F"),s=Ai(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=zt(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,Mc(i,null,"F")):this.vs(e,p,i,y)}))))})))))}ws(e,i,s,o){return t0(i)||o.isEqual(bt.min())?et.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?et.resolve(null):(Rs()<=Bt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cs(i)),this.vs(e,d,i,S2(o,po)).next((g=>g)))}))}Ds(e,i){let s=new Me(Iv(e));return i.forEach(((o,c)=>{Kc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return Rs()<=Bt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Cs(i)),this.ps.getDocumentsMatchingQuery(e,i,Pa.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ym="LocalStore",iw=3e8;class aw{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(kt),this.xs=new Ir((c=>lm(c)),om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function rw(r,e,i,s){return new aw(r,e,i,s)}async function tE(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=zt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function sw(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,E){const T=p.batch,w=T.keys();let L=et.resolve();return w.forEach(($=>{L=L.next((()=>E.getEntry(y,$))).next((F=>{const q=p.docVersions.get($);Ft(q!==null,48541),F.version.compareTo(q)<0&&(T.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),E.addEntry(F)))}))})),L.next((()=>g.mutationQueue.removeMutationBatch(y,T)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=zt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function eE(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lw(r,e){const i=St(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,T))));let L=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Ye.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(F,q,at){return F.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=iw?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(w,L,E)&&g.push(i.Pi.updateTargetData(c,L))}));let y=Zi(),p=zt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(ow(c,d,e.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!s.isEqual(bt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((T=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return et.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,p))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function ow(r,e,i){let s=zt(),o=zt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=Zi();return i.forEach(((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(bt.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ht(ym,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function uw(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=rm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function cw(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,et.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Oa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Gd(r,e,i){const s=St(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ys(d))throw d;ht(ym,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function d0(r,e,i){const s=St(r);let o=bt.min(),c=zt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,E){const T=St(y),w=T.xs.get(E);return w!==void 0?et.resolve(T.Ms.get(w)):T.Pi.getTargetData(p,E)})(s,d,Ai(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?c:zt()))).next((g=>(hw(s,$2(e),g),{documents:g,Qs:c})))))}function hw(r,e,i){let s=r.Os.get(e)||bt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class m0{constructor(){this.activeTargetIds=nS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fw{constructor(){this.Mo=new m0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dw{Oo(e){}shutdown(){}}const g0="ConnectivityMonitor";class p0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(g0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ht(g0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dc=null;function Fd(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}const Ed="RestConnection",mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=Fd(),g=this.zo(e,i.toUriEncodedString());ht(Ed,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:p}=new URL(g),E=em(p);return this.Jo(e,g,y,s,E).then((T=>(ht(Ed,`Received RPC '${e}' ${d}: `,T),T)),(T=>{throw Us(Ed,`RPC '${e}' ${d} failed with error: `,T,"url: ",g,"request:",s),T}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=mw[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class pw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class yw extends gw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=Fd();return new Promise(((g,y)=>{const p=new av;p.setWithCredentials(!0),p.listenOnce(rv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case pc.NO_ERROR:const T=p.getResponseJson();ht(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(T)),g(T);break;case pc.TIMEOUT:ht(Xe,`RPC '${e}' ${d} timed out`),y(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const w=p.getStatus();if(ht(Xe,`RPC '${e}' ${d} failed with status:`,w,"response text:",p.getResponseText()),w>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const $=L?.error;if($&&$.status&&$.message){const F=(function(at){const nt=at.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(nt)>=0?nt:J.UNKNOWN})($.status);y(new ut(F,$.message))}else y(new ut(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ut(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ht(Xe,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ht(Xe,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Fd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ov(),g=lv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ht(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,y);const T=d.createWebChannel(E,y);this.I_(T);let w=!1,L=!1;const $=new pw({Yo:q=>{L?ht(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(ht(Xe,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ht(Xe,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),F=(q,at,nt)=>{q.listen(at,(st=>{try{nt(st)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return F(T,so.EventType.OPEN,(()=>{L||(ht(Xe,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),F(T,so.EventType.CLOSE,(()=>{L||(L=!0,ht(Xe,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(T))})),F(T,so.EventType.ERROR,(q=>{L||(L=!0,Us(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),$.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),F(T,so.EventType.MESSAGE,(q=>{if(!L){const at=q.data[0];Ft(!!at,16349);const nt=at,st=nt?.error||nt[0]?.error;if(st){ht(Xe,`RPC '${e}' stream ${o} received error:`,st);const vt=st.status;let wt=(function(S){const C=Re[S];if(C!==void 0)return qv(C)})(vt),Tt=st.message;wt===void 0&&(wt=J.INTERNAL,Tt="Unknown error status: "+vt+" with message "+st.message),L=!0,$.a_(new ut(wt,Tt)),T.close()}else ht(Xe,`RPC '${e}' stream ${o} received:`,at),$.u_(at)}})),F(g,sv.STAT_EVENT,(q=>{q.stat===Md.PROXY?ht(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Md.NOPROXY&&ht(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function bd(){return typeof document<"u"?document:null}function Wc(r){return new bS(r,!0)}class nE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const y0="PersistentStream";class iE{constructor(e,i,s,o,c,d,g,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ht(y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ht(y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _w extends iE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=SS(this.serializer,e),s=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Si(d.readTime):bt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Hd(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=Ld(y)?{documents:CS(c,y)}:{query:xS(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Fv(c,d.resumeToken);const p=Bd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=zc(c,d.snapshotVersion.toTimestamp());const p=Bd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=NS(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Hd(this.serializer),i.removeTarget=e,this.q_(i)}}class vw extends iE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=RS(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Hd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>wS(this.serializer,s)))};this.q_(i)}}class Ew{}class bw extends Ew{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Pd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Pd(i,s),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Tw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Dr="RemoteStore";class Aw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Vr(this)&&(ht(Dr,"Restarting streams for network reachability change."),await(async function(y){const p=St(y);p.Ea.add(4),await Co(p),p.Ra.set("Unknown"),p.Ea.delete(4),await th(p)})(this))}))})),this.Ra=new Tw(s,o)}}async function th(r){if(Vr(r))for(const e of r.da)await e(!0)}async function Co(r){for(const e of r.da)await e(!1)}function aE(r,e){const i=St(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),bm(i)?Em(i):Ks(i).O_()&&vm(i,e))}function _m(r,e){const i=St(r),s=Ks(i);i.Ia.delete(e),s.O_()&&rE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Vr(i)&&i.Ra.set("Unknown"))}function vm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ks(r).Y_(e)}function rE(r,e){r.Va.Ue(e),Ks(r).Z_(e)}function Em(r){r.Va=new yS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ks(r).start(),r.Ra.ua()}function bm(r){return Vr(r)&&!Ks(r).x_()&&r.Ia.size>0}function Vr(r){return St(r).Ea.size===0}function sE(r){r.Va=void 0}async function Sw(r){r.Ra.set("Online")}async function ww(r){r.Ia.forEach(((e,i)=>{vm(r,e)}))}async function Rw(r,e){sE(r),bm(r)?(r.Ra.ha(e),Em(r)):r.Ra.set("Unknown")}async function Cw(r,e,i){if(r.Ra.set("Online"),e instanceof Gv&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){ht(Dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lc(r,s)}else if(e instanceof Ec?r.Va.Ze(e):e instanceof Hv?r.Va.st(e):r.Va.tt(e),!i.isEqual(bt.min()))try{const s=await eE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),rE(c,y);const T=new Oa(E.target,y,p,E.sequenceNumber);vm(c,T)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ht(Dr,"Failed to raise snapshot:",s),await Lc(r,s)}}async function Lc(r,e,i){if(!Ys(e))throw e;r.Ea.add(1),await Co(r),r.Ra.set("Offline"),i||(i=()=>eE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(Dr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await th(r)}))}function lE(r,e){return e().catch((i=>Lc(r,i,e)))}async function eh(r){const e=St(r),i=Fa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rm;for(;xw(e);)try{const o=await uw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,Dw(e,o)}catch(o){await Lc(e,o)}oE(e)&&uE(e)}function xw(r){return Vr(r)&&r.Ta.length<10}function Dw(r,e){r.Ta.push(e);const i=Fa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function oE(r){return Vr(r)&&!Fa(r).x_()&&r.Ta.length>0}function uE(r){Fa(r).start()}async function Nw(r){Fa(r).ra()}async function Iw(r){const e=Fa(r);for(const i of r.Ta)e.ea(i.mutations)}async function Vw(r,e,i){const s=r.Ta.shift(),o=hm.from(s,e,i);await lE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await eh(r)}async function Mw(r,e){e&&Fa(r).X_&&await(async function(s,o){if((function(d){return mS(d)&&d!==J.ABORTED})(o.code)){const c=s.Ta.shift();Fa(s).B_(),await lE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await eh(s)}})(r,e),oE(r)&&uE(r)}async function _0(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ht(Dr,"RemoteStore received new credentials");const s=Vr(i);i.Ea.add(3),await Co(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await th(i)}async function Ow(r,e){const i=St(r);e?(i.Ea.delete(2),await th(i)):e||(i.Ea.add(2),await Co(i),i.Ra.set("Unknown"))}function Ks(r){return r.ma||(r.ma=(function(i,s,o){const c=St(i);return c.sa(),new _w(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Sw.bind(null,r),t_:ww.bind(null,r),r_:Rw.bind(null,r),H_:Cw.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),bm(r)?Em(r):r.Ra.set("Unknown")):(await r.ma.stop(),sE(r))}))),r.ma}function Fa(r){return r.fa||(r.fa=(function(i,s,o){const c=St(i);return c.sa(),new vw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Nw.bind(null,r),r_:Mw.bind(null,r),ta:Iw.bind(null,r),na:Vw.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await eh(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(Dr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Tm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Tm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(r,e){if($i("AsyncQueue",`${e}: ${r}`),Ys(r))return new ut(J.UNAVAILABLE,`${e}: ${r}`);throw r}class Os{static emptySet(e){return new Os(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=lo(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Os;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class v0{constructor(){this.ga=new oe(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Hs{constructor(e,i,s,o,c,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Hs(e,i,Os.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class kw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zw{constructor(){this.queries=E0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=E0(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function E0(){return new Ir((r=>Nv(r)),Yc)}async function Uw(r,e){const i=St(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new kw,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Am(d,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Sm(i)}async function Lw(r,e){const i=St(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function jw(r,e){const i=St(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Sm(i)}function Bw(r,e,i){const s=St(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function Sm(r){r.Ca.forEach((e=>{e.next()}))}var Qd,b0;(b0=Qd||(Qd={})).Ma="default",b0.Cache="cache";class Pw{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qd.Cache}}class cE{constructor(e){this.key=e}}class hE{constructor(e){this.key=e}}class qw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=Iv(e),this.tu=new Os(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new v0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),L=Kc(this.query,T)?T:null,$=!!w&&this.mutatedKeys.has(w.key),F=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let q=!1;w&&L?w.data.isEqual(L.data)?$!==F&&(s.track({type:3,doc:L}),q=!0):this.su(w,L)||(s.track({type:2,doc:L}),q=!0,(y&&this.eu(L,y)>0||p&&this.eu(L,p)<0)&&(g=!0)):!w&&L?(s.track({type:0,doc:L}),q=!0):w&&!L&&(s.track({type:1,doc:w}),q=!0,(y||p)&&(g=!0)),q&&(L?(d=d.add(L),c=F?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,T)=>(function(L,$){const F=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:q})}};return F(L)-F($)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Hs(this.query,e.tu,c,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new hE(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new cE(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=zt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Hs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wm="SyncEngine";class Hw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Gw{constructor(e){this.key=e,this.hu=!1}}class Fw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ir((g=>Nv(g)),Yc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(gt.comparator),this.Au=new Map,this.Ru=new mm,this.Vu={},this.mu=new Map,this.fu=qs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qw(r,e,i=!0){const s=yE(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await fE(s,e,i,!0),o}async function Yw(r,e){const i=yE(r);await fE(i,e,!0,!1)}async function fE(r,e,i,s){const o=await cw(r.localStore,Ai(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await Kw(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&aE(r.remoteStore,o),g}async function Kw(r,e,i,s,o){r.pu=(T,w,L)=>(async function(F,q,at,nt){let st=q.view.ru(at);st.Cs&&(st=await d0(F.localStore,q.query,!1).then((({documents:D})=>q.view.ru(D,st))));const vt=nt&&nt.targetChanges.get(q.targetId),wt=nt&&nt.targetMismatches.get(q.targetId)!=null,Tt=q.view.applyChanges(st,F.isPrimaryClient,vt,wt);return A0(F,q.targetId,Tt.au),Tt.snapshot})(r,T,w,L);const c=await d0(r.localStore,e,!0),d=new qw(e,c.Qs),g=d.ru(c.documents),y=Ro.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,y);A0(r,i,p.au);const E=new Hw(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),p.snapshot}async function Xw(r,e,i){const s=St(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Yc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&_m(s.remoteStore,o.targetId),Yd(s,o.targetId)})).catch(Qs)):(Yd(s,o.targetId),await Gd(s.localStore,o.targetId,!0))}async function $w(r,e){const i=St(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),_m(i.remoteStore,s.targetId))}async function Zw(r,e,i){const s=aR(r);try{const o=await(function(d,g){const y=St(d),p=ie.now(),E=g.reduce(((L,$)=>L.add($.key)),zt());let T,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let $=Zi(),F=zt();return y.Ns.getEntries(L,E).next((q=>{$=q,$.forEach(((at,nt)=>{nt.isValidDocument()||(F=F.add(at))}))})).next((()=>y.localDocuments.getOverlayedDocuments(L,$))).next((q=>{T=q;const at=[];for(const nt of g){const st=uS(nt,T.get(nt.key).overlayedDocument);st!=null&&at.push(new Ka(nt.key,st,Tv(st.value.mapValue),hn.exists(!0)))}return y.mutationQueue.addMutationBatch(L,p,at,g)})).next((q=>{w=q;const at=q.applyToLocalDocumentSet(T,F);return y.documentOverlayCache.saveOverlays(L,q.batchId,at)}))})).then((()=>({batchId:w.batchId,changes:Mv(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new oe(kt)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,o.batchId,i),await xo(s,o.changes),await eh(s.remoteStore)}catch(o){const c=Am(o,"Failed to persist write");i.reject(c)}}async function dE(r,e){const i=St(r);try{const s=await lw(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await xo(i,s,e)}catch(s){await Qs(s)}}function T0(r,e,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=St(d);y.onlineState=g;let p=!1;y.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(g)&&(p=!0)})),p&&Sm(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Jw(r,e,i){const s=St(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new oe(gt.comparator);d=d.insert(c,Ze.newNoDocument(c,bt.min()));const g=zt().add(c),y=new Jc(bt.min(),new Map,new oe(kt),d,g);await dE(s,y),s.du=s.du.remove(c),s.Au.delete(e),Rm(s)}else await Gd(s.localStore,e,!1).then((()=>Yd(s,e,i))).catch(Qs)}async function Ww(r,e){const i=St(r),s=e.batch.batchId;try{const o=await sw(i.localStore,e);gE(i,s,null),mE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await xo(i,o)}catch(o){await Qs(o)}}async function tR(r,e,i){const s=St(r);try{const o=await(function(d,g){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next((T=>(Ft(T!==null,37113),E=T.keys(),y.mutationQueue.removeMutationBatch(p,T)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);gE(s,e,i),mE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await xo(s,o)}catch(o){await Qs(o)}}function mE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function gE(r,e,i){const s=St(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Yd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||pE(r,s)}))}function pE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(_m(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Rm(r))}function A0(r,e,i){for(const s of i)s instanceof cE?(r.Ru.addReference(s.key,e),eR(r,s)):s instanceof hE?(ht(wm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||pE(r,s.key)):_t(19791,{wu:s})}function eR(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ht(wm,"New document in limbo: "+i),r.Eu.add(s),Rm(r))}function Rm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new gt(te.fromString(e)),s=r.fu.next();r.Au.set(s,new Gw(i)),r.du=r.du.insert(i,s),aE(r.remoteStore,new Oa(Ai(Dv(i.path)),s,"TargetPurposeLimboResolution",Hc.ce))}}async function xo(r,e,i){const s=St(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,i).then((p=>{if((p||i)&&s.isPrimaryClient){const E=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=pm.As(y.targetId,p);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(y,p){const E=St(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(p,(w=>et.forEach(w.Es,(L=>E.persistence.referenceDelegate.addReference(T,w.targetId,L))).next((()=>et.forEach(w.ds,(L=>E.persistence.referenceDelegate.removeReference(T,w.targetId,L)))))))))}catch(T){if(!Ys(T))throw T;ht(ym,"Failed to update sequence numbers: "+T)}for(const T of p){const w=T.targetId;if(!T.fromCache){const L=E.Ms.get(w),$=L.snapshotVersion,F=L.withLastLimboFreeSnapshotVersion($);E.Ms=E.Ms.insert(w,F)}}})(s.localStore,c))}async function nR(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){ht(wm,"User change. New user:",e.toKey());const s=await tE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xo(i,s.Ls)}}function iR(r,e){const i=St(r),s=i.Au.get(e);if(s&&s.hu)return zt().add(s.key);{let o=zt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function yE(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=dE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jw.bind(null,e),e.Pu.H_=jw.bind(null,e.eventManager),e.Pu.yu=Bw.bind(null,e.eventManager),e}function aR(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ww.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,e),e}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return rw(this.persistence,new nw,e.initialUser,this.serializer)}Cu(e){return new Wv(gm.mi,this.serializer)}Du(e){return new fw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class rR extends jc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Wv((s=>Uc.mi(s,i)),this.serializer)}}class Kd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nR.bind(null,this.syncEngine),await Ow(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zw})()}createDatastore(e){const i=Wc(e.databaseInfo.databaseId),s=(function(c){return new yw(c)})(e.databaseInfo);return(function(c,d,g,y){return new bw(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,g){return new Aw(s,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>T0(this.syncEngine,i,0)),(function(){return p0.v()?new p0:new dw})())}createSyncEngine(e,i){return(function(o,c,d,g,y,p,E){const T=new Fw(o,c,d,g,y,p);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=St(i);ht(Dr,"RemoteStore shutting down."),s.Ea.add(5),await Co(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kd.provider={build:()=>new Kd};class sR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Qa="FirestoreClient";class lR{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ht(Qa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ht(Qa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Am(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Td(r,e){r.asyncQueue.verifyOperationInProgress(),ht(Qa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await tE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function S0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await oR(r);ht(Qa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>_0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>_0(e.remoteStore,o))),r._onlineComponents=e}async function oR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(Qa,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Us("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new jc)}}else ht(Qa,"Using default OfflineComponentProvider"),await Td(r,new rR(void 0));return r._offlineComponents}async function _E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(Qa,"Using user provided OnlineComponentProvider"),await S0(r,r._uninitializedComponentsProvider._online)):(ht(Qa,"Using default OnlineComponentProvider"),await S0(r,new Kd))),r._onlineComponents}function uR(r){return _E(r).then((e=>e.syncEngine))}async function cR(r){const e=await _E(r),i=e.eventManager;return i.onListen=Qw.bind(null,e.syncEngine),i.onUnlisten=Xw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Yw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=$w.bind(null,e.syncEngine),i}function hR(r,e,i={}){const s=new La;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,p){const E=new sR({next:w=>{E.Nu(),d.enqueueAndForget((()=>Lw(c,T))),w.fromCache&&y.source==="server"?p.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new Pw(g,E,{includeMetadataChanges:!0,qa:!0});return Uw(c,T)})(await cR(r),r.asyncQueue,e,i,s))),s.promise}function vE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const w0=new Map;const EE="firestore.googleapis.com",R0=!0;class C0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EE,this.ssl=R0}else this.host=e.host,this.ssl=e.ssl??R0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jS)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nh{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new f2;switch(s.type){case"firstParty":return new p2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=w0.get(i);s&&(ht("ComponentProvider","Removing Datastore"),w0.delete(i),s.terminate())})(this),Promise.resolve()}}function fR(r,e,i,s={}){r=Ba(r,nh);const o=em(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(jT(`https://${g}`),HT("Firestore",!0)),c.host!==EE&&c.host!==g&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:s};if(!Rc(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=$e.MOCK_USER;else{p=BT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(T)}r._authCredentials=new d2(new cv(p,E))}}class Wi{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Ve{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(So(i,Ve._jsonSchema))return new Ve(e,s||null,new gt(te.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:xe("string",Ve._jsonSchemaVersion),referencePath:xe("string")};class ja extends Wi{constructor(e,i,s){super(e,i,Dv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new gt(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function Ss(r,e,...i){if(r=Un(r),hv("collection","path",e),r instanceof nh){const s=te.fromString(e,...i);return P_(s),new ja(r,null,s)}{if(!(r instanceof Ve||r instanceof ja))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return P_(s),new ja(r.firestore,null,s)}}function Ns(r,e,...i){if(r=Un(r),arguments.length===1&&(e=am.newId()),hv("doc","path",e),r instanceof nh){const s=te.fromString(e,...i);return B_(s),new Ve(r,null,new gt(s))}{if(!(r instanceof Ve||r instanceof ja))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return B_(s),new Ve(r.firestore,r instanceof ja?r.converter:null,new gt(s))}}const x0="AsyncQueue";class D0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nE(this,"async_queue_retry"),this._c=()=>{const s=bd();s&&ht(x0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new La;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ys(e))throw e;ht(x0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",N0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Tm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:N0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function N0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Xs extends nh{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new D0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D0(e),this._firestoreClient=void 0,await e}}}function dR(r,e){const i=typeof r=="object"?r:WA(),s=typeof r=="string"?r:Nc,o=KA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=UT("firestore");c&&fR(o,...c)}return o}function Cm(r){if(r._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mR(r),r._firestoreClient}function mR(r){const e=r._freezeSettings(),i=(function(o,c,d,g){return new O2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,vE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ye.fromBase64String(e))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(So(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:xe("string",zn._jsonSchemaVersion),bytes:xe("string")};class Do{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xm{constructor(e){this._methodName=e}}class wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(So(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:xe("string",wi._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class Ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(So(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ri(e.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:xe("string",Ri._jsonSchemaVersion),vectorValues:xe("object")};const gR=/^__.*__$/;class pR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms):new wo(e,this.data,i,this.fieldTransforms)}}class bE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function TE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Dm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TE(this.Ac)&&gR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Wc(e)}Cc(e,i,s,o=!1){return new Dm({Ac:e,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function No(r){const e=r._freezeSettings(),i=Wc(r._databaseId);return new yR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function AE(r,e,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);Nm("Data must be an object, but it was:",d,s);const g=CE(s,d);let y,p;if(c.merge)y=new Tn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const w=Xd(e,T,i);if(!d.contains(w))throw new ut(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);DE(E,w)||E.push(w)}y=new Tn(E),p=d.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,p=d.fieldTransforms;return new pR(new cn(g),y,p)}class ih extends xm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}function SE(r,e,i,s){const o=r.Cc(1,e,i);Nm("Data must be an object, but it was:",o,s);const c=[],d=cn.empty();Ya(s,((y,p)=>{const E=Im(e,y,i);p=Un(p);const T=o.yc(E);if(p instanceof ih)c.push(E);else{const w=Io(p,T);w!=null&&(c.push(E),d.set(E,w))}}));const g=new Tn(c);return new bE(d,g,o.fieldTransforms)}function wE(r,e,i,s,o,c){const d=r.Cc(1,e,i),g=[Xd(e,s,i)],y=[o];if(c.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(Xd(e,c[w])),y.push(c[w+1]);const p=[],E=cn.empty();for(let w=g.length-1;w>=0;--w)if(!DE(p,g[w])){const L=g[w];let $=y[w];$=Un($);const F=d.yc(L);if($ instanceof ih)p.push(L);else{const q=Io($,F);q!=null&&(p.push(L),E.set(L,q))}}const T=new Tn(p);return new bE(E,T,d.fieldTransforms)}function RE(r,e,i,s=!1){return Io(i,r.Cc(s?4:3,e))}function Io(r,e){if(xE(r=Un(r)))return Nm("Unsupported field value:",e,r),CE(r,e);if(r instanceof xm)return(function(s,o){if(!TE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const g of s){let y=Io(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ie.fromDate(s);return{timestampValue:zc(o.serializer,c)}}if(s instanceof ie){const c=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zc(o.serializer,c)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:Fv(o.serializer,s._byteString)};if(s instanceof Ve){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ri)return(function(d,g){return{mapValue:{fields:{[Ev]:{stringValue:bv},[Ic]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return cm(g.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${qc(s)}`)})(r,e)}function CE(r,e){const i={};return mv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(r,((s,o)=>{const c=Io(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function xE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof wi||r instanceof zn||r instanceof Ve||r instanceof xm||r instanceof Ri)}function Nm(r,e,i){if(!xE(i)||!fv(i)){const s=qc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Xd(r,e,i){if((e=Un(e))instanceof Do)return e._internalPath;if(typeof e=="string")return Im(r,e);throw Bc("Field path arguments must be of type string or ",r,!1,void 0,i)}const _R=new RegExp("[~\\*/\\[\\]]");function Im(r,e,i){if(e.search(_R)>=0)throw Bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Do(...e.split("."))._internalPath}catch{throw Bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Bc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ut(J.INVALID_ARGUMENT,g+r+y)}function DE(r,e){return r.some((i=>i.isEqual(e)))}class Vm{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Mm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class vR extends Vm{data(){return super.data()}}function Mm(r,e){return typeof e=="string"?Im(r,e):e instanceof Do?e._internalPath:e._delegate._internalPath}function ER(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Om{}class ah extends Om{}function Ad(r,e,...i){let s=[];e instanceof Om&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof zm)).length,g=c.filter((y=>y instanceof km)).length;if(d>1||d>0&&g>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class km extends ah{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new km(e,i,s)}_apply(e){const i=this._parse(e);return NE(e._query,i),new Wi(e.firestore,e.converter,jd(e._query,i))}_parse(e){const i=No(e.firestore);return(function(c,d,g,y,p,E,T){let w;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){M0(T,E);const $=[];for(const F of T)$.push(V0(y,c,F));w={arrayValue:{values:$}}}else w=V0(y,c,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||M0(T,E),w=RE(g,d,T,E==="in"||E==="not-in");return Ce.create(p,E,w)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class zm extends Om{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new zm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)NE(d,y),d=jd(d,y)})(e._query,i),new Wi(e.firestore,e.converter,jd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Um extends ah{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Um(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eo(c,d)})(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Nr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function ao(r,e="asc"){const i=e,s=Mm("orderBy",r);return Um._create(s,i)}class Lm extends ah{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Lm(e,i,s)}_apply(e){return new Wi(e.firestore,e.converter,Mc(e._query,this._limit,this._limitType))}}function I0(r){return A2("limit",r),Lm._create("limit",r,"F")}class jm extends ah{constructor(e,i,s){super(),this.type=e,this._docOrFields=i,this._inclusive=s}static _create(e,i,s){return new jm(e,i,s)}_apply(e){const i=TR(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(function(o,c){return new Nr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)})(e._query,i))}}function bR(...r){return jm._create("startAfter",r,!1)}function TR(r,e,i,s){if(i[0]=Un(i[0]),i[0]instanceof Vm)return(function(c,d,g,y,p){if(!y)throw new ut(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const E=[];for(const T of Ms(c))if(T.field.isKeyField())E.push(Vc(d,y.key));else{const w=y.data.field(T.field);if(Fc(w))throw new ut(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const L=T.field.canonicalString();throw new ut(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}E.push(w)}return new Ps(E,p)})(r._query,r.firestore._databaseId,e,i[0]._document,s);{const o=No(r.firestore);return(function(d,g,y,p,E,T){const w=d.explicitOrderBy;if(E.length>w.length)throw new ut(J.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let $=0;$<E.length;$++){const F=E[$];if(w[$].field.isKeyField()){if(typeof F!="string")throw new ut(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof F}`);if(!um(d)&&F.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${F}' contains a slash.`);const q=d.path.child(te.fromString(F));if(!gt.isDocumentKey(q))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const at=new gt(q);L.push(Vc(g,at))}else{const q=RE(y,p,F);L.push(q)}}return new Ps(L,T)})(r._query,r.firestore._databaseId,o,e,i,s)}}function V0(r,e,i){if(typeof(i=Un(i))=="string"){if(i==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!um(e)&&i.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(te.fromString(i));if(!gt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vc(r,new gt(s))}if(i instanceof Ve)return Vc(r,i._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qc(i)}.`)}function M0(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NE(r,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class AR{convertValue(e,i="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ya(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Ic].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new Ri(i)}convertGeoPoint(e){return new wi(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Qc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const i=qa(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);Ft(Zv(s),9688,{name:e});const o=new _o(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function IE(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class mc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends Vm{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Mm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ks._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:xe("string",ks._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class bc extends ks{data(e={}){return super.data(e)}}class zs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new mc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new bc(this._firestore,this._userDataWriter,s.key,s,new mc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new mc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new mc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:SR(g.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=am.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:xe("string",zs._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class wR extends AR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function Sd(r){r=Ba(r,Wi);const e=Ba(r.firestore,Xs),i=Cm(e),s=new wR(e);return ER(r._query),hR(i,r._query).then((o=>new zs(e,s,r,o)))}function O0(r,e,i,...s){r=Ba(r,Ve);const o=Ba(r.firestore,Xs),c=No(o);let d;return d=typeof(e=Un(e))=="string"||e instanceof Do?wE(c,"updateDoc",r._key,e,i,s):SE(c,"updateDoc",r._key,e),rh(o,[d.toMutation(r._key,hn.exists(!0))])}function RR(r){return rh(Ba(r.firestore,Xs),[new Zc(r._key,hn.none())])}function k0(r,e){const i=Ba(r.firestore,Xs),s=Ns(r),o=IE(r.converter,e);return rh(i,[AE(No(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,hn.exists(!1))]).then((()=>s))}function rh(r,e){return(function(s,o){const c=new La;return s.asyncQueue.enqueueAndForget((async()=>Zw(await uR(s),o,c))),c.promise})(Cm(r),e)}class CR{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=No(e)}set(e,i,s){this._verifyNotCommitted();const o=wd(e,this._firestore),c=IE(o.converter,i,s),d=AE(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,hn.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const c=wd(e,this._firestore);let d;return d=typeof(i=Un(i))=="string"||i instanceof Do?wE(this._dataReader,"WriteBatch.update",c._key,i,s,o):SE(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=wd(e,this._firestore);return this._mutations=this._mutations.concat(new Zc(i._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wd(r,e){if((r=Un(r)).firestore!==e)throw new ut(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function z0(r){return Cm(r=Ba(r,Xs)),new CR(r,(e=>rh(r,e)))}(function(e,i=!0){(function(o){Fs=o})(JA),xc(new mo("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Xs(new m2(s.getProvider("auth-internal")),new y2(d,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(p.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Vs(z_,U_,e),Vs(z_,U_,"esm2020")})();const xR={apiKey:"AIzaSyBdcEGmCXwYX8y4vZ6xWSvqhpKeBzG3sjI",authDomain:"noc-timeline.firebaseapp.com",projectId:"noc-timeline",storageBucket:"noc-timeline.firebasestorage.app",messagingSenderId:"41507495114",appId:"1:41507495114:web:4d2118a77fb4be05142833"},DR=tv(xR),bn=dR(DR),Zn="incidents",ws="events",Yi={getIncidents:async(r=null,e=20)=>{try{let i=Ad(Ss(bn,Zn),ao("createdAt","desc"),I0(e));r&&(i=Ad(Ss(bn,Zn),ao("createdAt","desc"),bR(r),I0(e)));const s=await Sd(i);return{data:s.docs.map(c=>({id:c.id,...c.data(),events:[]})),lastVisible:s.docs[s.docs.length-1]||null}}catch(i){throw console.error("Error:",i),i}},getIncidentEvents:async r=>{try{const e=Ss(bn,Zn,r,ws),i=Ad(e,ao("order","asc"),ao("date","asc"),ao("time","asc"));return(await Sd(i)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){throw console.error(e),e}},createIncident:async r=>{const e={...r,type:"Incident",status:"Open",impact:"",root_cause:"",action:"",createdAt:new Date().toISOString()};return{id:(await k0(Ss(bn,Zn),e)).id,...e,events:[]}},updateIncident:async(r,e)=>{const{events:i,...s}=e;await O0(Ns(bn,Zn,r),s)},deleteIncident:async r=>{const e=await Sd(Ss(bn,Zn,r,ws)),i=z0(bn);e.docs.forEach(s=>i.delete(s.ref)),i.delete(Ns(bn,Zn,r)),await i.commit()},createEvent:async r=>{const{incident_id:e,...i}=r,s={...i,order:999999};return{id:(await k0(Ss(bn,Zn,e,ws),s)).id,...s}},updateEvent:async(r,e,i)=>{await O0(Ns(bn,Zn,r,ws,e),i)},deleteEvent:async(r,e)=>{await RR(Ns(bn,Zn,r,ws,e))},reorderEvents:async(r,e)=>{try{const i=z0(bn);e.forEach((s,o)=>{const c=Ns(bn,Zn,r,ws,s.id);i.update(c,{order:o})}),await i.commit()}catch(i){throw console.error("Error reordering:",i),i}}};function NR(){const[r,e]=X.useState([]),[i,s]=X.useState(null),[o,c]=X.useState(!0),[d,g]=X.useState(!0),[y,p]=X.useState(null),[E,T]=X.useState(!0),[w,L]=X.useState(!1),[$,F]=X.useState([]),[q,at]=X.useState({isOpen:!1,type:null,args:[],title:"",message:""}),nt=(G,it="success")=>{const rt=Date.now();F(ft=>[...ft,{id:rt,message:G,type:it}])},st=G=>F(it=>it.filter(rt=>rt.id!==G));X.useEffect(()=>{d?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[d]);const vt=()=>g(!d);X.useEffect(()=>{wt(!0)},[]);const wt=async(G=!1)=>{try{G?c(!0):L(!0);const it=G?null:y,{data:rt,lastVisible:ft}=await Yi.getIncidents(it);e(G?rt:x=>[...x,...rt]),p(ft),T(!!ft)}catch(it){console.error(it),nt("Failed to load data","error")}finally{c(!1),L(!1)}},Tt=async G=>{s(G);const it=r.find(rt=>rt.id===G);if(it&&(!it.events||it.events.length===0))try{const rt=await Yi.getIncidentEvents(G);e(ft=>ft.map(x=>x.id===G?{...x,events:rt||[]}:x))}catch(rt){console.error(rt)}},D=()=>{!w&&E&&wt(!1)},S=r.find(G=>G.id===i),C=async()=>{try{const G=await Yi.createIncident({project:"New Project",subject:"New Incident",ticket:""});e([G,...r]),s(G.id),nt("New incident created")}catch(G){nt(G.message,"error")}},O=G=>{at({isOpen:!0,type:"incident",args:[G],title:"Delete Incident?",message:"Are you sure you want to delete this incident and all its events? This cannot be undone."})},I=(G,it)=>{e(rt=>rt.map(ft=>ft.id===G?{...ft,...it}:ft)),Yi.updateIncident(G,it)},z=async(G,it)=>{try{const rt=await Yi.createEvent({incident_id:G,...it});e(ft=>ft.map(x=>x.id===G?{...x,events:[...x.events||[],rt]}:x)),nt("Event added successfully")}catch(rt){nt(rt.message,"error")}},R=(G,it)=>{at({isOpen:!0,type:"event",args:[G,it],title:"Delete Event?",message:"Do you really want to remove this event from the timeline?"})},Nt=async(G,it,rt)=>{try{e(ft=>ft.map(x=>x.id===G?{...x,events:x.events.map(K=>K.id===it?{...K,...rt}:K)}:x)),await Yi.updateEvent(G,it,rt),nt("Event updated")}catch{nt("Update failed","error")}},ae=async(G,it)=>{e(rt=>rt.map(ft=>ft.id===G?{...ft,events:it}:ft));try{await Yi.reorderEvents(G,it)}catch(rt){console.error("Reorder failed",rt),nt("Failed to save order","error")}},M=async()=>{const{type:G,args:it}=q;at({...q,isOpen:!1});try{if(G==="incident"){const[rt]=it;await Yi.deleteIncident(rt),e(ft=>ft.filter(x=>x.id!==rt)),i===rt&&s(null),nt("Incident deleted successfully")}else if(G==="event"){const[rt,ft]=it;await Yi.deleteEvent(rt,ft),e(x=>x.map(K=>K.id===rt?{...K,events:K.events.filter(ot=>ot.id!==ft)}:K)),nt("Event deleted")}}catch(rt){nt("Delete failed: "+rt.message,"error")}};return o?k.jsx("div",{className:"h-screen w-screen flex items-center justify-center text-gray-400",children:"Loading..."}):k.jsxs("div",{className:"h-dvh w-screen bg-gray-200 dark:bg-black flex items-center justify-center p-2 lg:p-8 transition-colors duration-300",children:[k.jsx(ST,{toasts:$,removeToast:st}),k.jsx(RT,{isOpen:q.isOpen,onClose:()=>at({...q,isOpen:!1}),onConfirm:M,title:q.title,message:q.message}),k.jsxs("div",{className:"w-full max-w-400 h-full bg-white dark:bg-zinc-900 rounded-2xl shadow-xl overflow-hidden grid grid-cols-1 lg:grid-cols-12 border-2 border-gray-300 dark:border-zinc-700",children:[k.jsx(TT,{incidents:r,selectedId:i,onSelect:Tt,onAddIncident:C,onDeleteIncident:O,darkMode:d,toggleTheme:vt,onLoadMore:D,hasMore:E,isLoadingMore:w}),k.jsx(AT,{incident:S,onUpdateIncident:I,onAddEvent:z,onDeleteEvent:R,onUpdateEvent:Nt,onReorderEvent:ae})]})]})}var U0="popstate";function IR(r={}){function e(o,c){let{pathname:d="/",search:g="",hash:y=""}=$s(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),$d("",{pathname:d,search:g,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let y=o.location.href,p=y.indexOf("#");g=p===-1?y:y.slice(0,p)}return g+"#"+(typeof c=="string"?c:Ao(c))}function s(o,c){Ln(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return MR(e,i,s,r)}function Oe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ln(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VR(){return Math.random().toString(36).substring(2,10)}function L0(r,e){return{usr:r.state,key:r.key,idx:e}}function $d(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:i,key:e&&e.key||s||VR()}}function Ao({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function $s(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function MR(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",y=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function T(){g="POP";let q=E(),at=q==null?null:q-p;p=q,y&&y({action:g,location:F.location,delta:at})}function w(q,at){g="PUSH";let nt=$d(F.location,q,at);i&&i(nt,q),p=E()+1;let st=L0(nt,p),vt=F.createHref(nt);try{d.pushState(st,"",vt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(vt)}c&&y&&y({action:g,location:F.location,delta:1})}function L(q,at){g="REPLACE";let nt=$d(F.location,q,at);i&&i(nt,q),p=E();let st=L0(nt,p),vt=F.createHref(nt);d.replaceState(st,"",vt),c&&y&&y({action:g,location:F.location,delta:0})}function $(q){return OR(q)}let F={get action(){return g},get location(){return r(o,d)},listen(q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(U0,T),y=q,()=>{o.removeEventListener(U0,T),y=null}},createHref(q){return e(o,q)},createURL:$,encodeLocation(q){let at=$(q);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:w,replace:L,go(q){return d.go(q)}};return F}function OR(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ao(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function VE(r,e,i="/"){return kR(r,e,i,!1)}function kR(r,e,i,s){let o=typeof e=="string"?$s(e):e,c=Ji(o.pathname||"/",i);if(c==null)return null;let d=ME(r);zR(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=YR(c);g=FR(d[y],p,s)}return g}function ME(r,e=[],i=[],s="",o=!1){let c=(d,g,y=o,p)=>{let E={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;Oe(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Ki([s,E.relativePath]),w=i.concat(E);d.children&&d.children.length>0&&(Oe(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),ME(d.children,e,w,T,y)),!(d.path==null&&!d.index)&&e.push({path:T,score:HR(T,d.index),routesMeta:w})};return r.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let y of OE(d.path))c(d,g,!0,y)}),e}function OE(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=OE(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...d),g.map(y=>r.startsWith("/")&&y===""?"/":y)}function zR(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:GR(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var UR=/^:[\w-]+$/,LR=3,jR=2,BR=1,PR=10,qR=-2,j0=r=>r==="*";function HR(r,e){let i=r.split("/"),s=i.length;return i.some(j0)&&(s+=qR),e&&(s+=jR),i.filter(o=>!j0(o)).reduce((o,c)=>o+(UR.test(c)?LR:c===""?BR:PR),s)}function GR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function FR(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",T=Pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),w=y.route;if(!T&&p&&i&&!s[s.length-1].route.index&&(T=Pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:Ki([c,T.pathname]),pathnameBase:JR(Ki([c,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(c=Ki([c,T.pathnameBase]))}return d}function Pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=QR(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:T},w)=>{if(E==="*"){let $=g[w]||"";d=c.slice(0,c.length-$.length).replace(/(.)\/+$/,"$1")}const L=g[w];return T&&!L?p[E]=void 0:p[E]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function QR(r,e=!1,i=!0){Ln(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function YR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ji(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var KR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XR=r=>KR.test(r);function $R(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?$s(r):r,c;if(i)if(XR(i))c=i;else{if(i.includes("//")){let d=i;i=i.replace(/\/\/+/g,"/"),Ln(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${i}`)}i.startsWith("/")?c=B0(i.substring(1),"/"):c=B0(i,e)}else c=e;return{pathname:c,search:WR(s),hash:tC(o)}}function B0(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Rd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZR(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function kE(r){let e=ZR(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function zE(r,e,i,s=!1){let o;typeof r=="string"?o=$s(r):(o={...r},Oe(!o.pathname||!o.pathname.includes("?"),Rd("?","pathname","search",o)),Oe(!o.pathname||!o.pathname.includes("#"),Rd("#","pathname","hash",o)),Oe(!o.search||!o.search.includes("#"),Rd("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let T=e.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}g=T>=0?e[T]:"/"}let y=$R(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var Ki=r=>r.join("/").replace(/\/\/+/g,"/"),JR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),WR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function eC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function nC(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var iC=["GET",...UE];new Set(iC);var Zs=X.createContext(null);Zs.displayName="DataRouter";var sh=X.createContext(null);sh.displayName="DataRouterState";X.createContext(!1);var LE=X.createContext({isTransitioning:!1});LE.displayName="ViewTransition";var aC=X.createContext(new Map);aC.displayName="Fetchers";var rC=X.createContext(null);rC.displayName="Await";var Wn=X.createContext(null);Wn.displayName="Navigation";var lh=X.createContext(null);lh.displayName="Location";var ta=X.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var Bm=X.createContext(null);Bm.displayName="RouteError";function sC(r,{relative:e}={}){Oe(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=X.useContext(Wn),{hash:o,pathname:c,search:d}=Mo(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Ki([i,c])),s.createHref({pathname:g,search:d,hash:o})}function Vo(){return X.useContext(lh)!=null}function Mr(){return Oe(Vo(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(lh).location}var jE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BE(r){X.useContext(Wn).static||X.useLayoutEffect(r)}function lC(){let{isDataRoute:r}=X.useContext(ta);return r?EC():oC()}function oC(){Oe(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(Zs),{basename:e,navigator:i}=X.useContext(Wn),{matches:s}=X.useContext(ta),{pathname:o}=Mr(),c=JSON.stringify(kE(s)),d=X.useRef(!1);return BE(()=>{d.current=!0}),X.useCallback((y,p={})=>{if(Ln(d.current,jE),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=zE(y,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ki([e,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[e,i,c,o,r])}X.createContext(null);function Mo(r,{relative:e}={}){let{matches:i}=X.useContext(ta),{pathname:s}=Mr(),o=JSON.stringify(kE(i));return X.useMemo(()=>zE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function uC(r,e,i,s,o){Oe(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=X.useContext(Wn),{matches:d}=X.useContext(ta),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",E=g?g.pathnameBase:"/",T=g&&g.route;{let nt=T&&T.path||"";PE(p,!T||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let w=Mr(),L;L=w;let $=L.pathname||"/",F=$;if(E!=="/"){let nt=E.replace(/^\//,"").split("/");F="/"+$.replace(/^\//,"").split("/").slice(nt.length).join("/")}let q=VE(r,{pathname:F});return Ln(T||q!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Ln(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),mC(q&&q.map(nt=>Object.assign({},nt,{params:Object.assign({},y,nt.params),pathname:Ki([E,c.encodeLocation?c.encodeLocation(nt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?E:Ki([E,c.encodeLocation?c.encodeLocation(nt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathnameBase])})),d,i,s,o)}function cC(){let r=vC(),e=eC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:c},"ErrorBoundary")," or"," ",X.createElement("code",{style:c},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),i?X.createElement("pre",{style:o},i):null,d)}var hC=X.createElement(cC,null),fC=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?X.createElement(ta.Provider,{value:this.props.routeContext},X.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dC({routeContext:r,match:e,children:i}){let s=X.useContext(Zs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(ta.Provider,{value:r},i)}function mC(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let E=c.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);Oe(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let g=!1,y=-1;if(i)for(let E=0;E<c.length;E++){let T=c[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=E),T.route.id){let{loaderData:w,errors:L}=i,$=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||$){g=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let p=i&&s?(E,T)=>{s(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:nC(i.matches),errorInfo:T})}:void 0;return c.reduceRight((E,T,w)=>{let L,$=!1,F=null,q=null;i&&(L=d&&T.route.id?d[T.route.id]:void 0,F=T.route.errorElement||hC,g&&(y<0&&w===0?(PE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,q=null):y===w&&($=!0,q=T.route.hydrateFallbackElement||null)));let at=e.concat(c.slice(0,w+1)),nt=()=>{let st;return L?st=F:$?st=q:T.route.Component?st=X.createElement(T.route.Component,null):T.route.element?st=T.route.element:st=E,X.createElement(dC,{match:T,routeContext:{outlet:E,matches:at,isDataRoute:i!=null},children:st})};return i&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?X.createElement(fC,{location:i.location,revalidation:i.revalidation,component:F,error:L,children:nt(),routeContext:{outlet:null,matches:at,isDataRoute:!0},onError:p}):nt()},null)}function Pm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gC(r){let e=X.useContext(Zs);return Oe(e,Pm(r)),e}function pC(r){let e=X.useContext(sh);return Oe(e,Pm(r)),e}function yC(r){let e=X.useContext(ta);return Oe(e,Pm(r)),e}function qm(r){let e=yC(r),i=e.matches[e.matches.length-1];return Oe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function _C(){return qm("useRouteId")}function vC(){let r=X.useContext(Bm),e=pC("useRouteError"),i=qm("useRouteError");return r!==void 0?r:e.errors?.[i]}function EC(){let{router:r}=gC("useNavigate"),e=qm("useNavigate"),i=X.useRef(!1);return BE(()=>{i.current=!0}),X.useCallback(async(o,c={})=>{Ln(i.current,jE),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var P0={};function PE(r,e,i){!e&&!P0[r]&&(P0[r]=!0,Ln(!1,i))}X.memo(bC);function bC({routes:r,future:e,state:i,unstable_onError:s}){return uC(r,void 0,i,s,e)}function TC({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){Oe(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),y=X.useMemo(()=>({basename:g,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[g,o,c,d]);typeof i=="string"&&(i=$s(i));let{pathname:p="/",search:E="",hash:T="",state:w=null,key:L="default"}=i,$=X.useMemo(()=>{let F=Ji(p,g);return F==null?null:{location:{pathname:F,search:E,hash:T,state:w,key:L},navigationType:s}},[g,p,E,T,w,L,s]);return Ln($!=null,`<Router basename="${g}"> is not able to match the URL "${p}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:X.createElement(Wn.Provider,{value:y},X.createElement(lh.Provider,{children:e,value:$}))}var Tc="get",Ac="application/x-www-form-urlencoded";function oh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function AC(r){return oh(r)&&r.tagName.toLowerCase()==="button"}function SC(r){return oh(r)&&r.tagName.toLowerCase()==="form"}function wC(r){return oh(r)&&r.tagName.toLowerCase()==="input"}function RC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function CC(r,e){return r.button===0&&(!e||e==="_self")&&!RC(r)}var gc=null;function xC(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var DC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cd(r){return r!=null&&!DC.has(r)?(Ln(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ac}"`),null):r}function NC(r,e){let i,s,o,c,d;if(SC(r)){let g=r.getAttribute("action");s=g?Ji(g,e):null,i=r.getAttribute("method")||Tc,o=Cd(r.getAttribute("enctype"))||Ac,c=new FormData(r)}else if(AC(r)||wC(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||g.getAttribute("action");if(s=y?Ji(y,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||Tc,o=Cd(r.getAttribute("formenctype"))||Cd(g.getAttribute("enctype"))||Ac,c=new FormData(g,r),!xC()){let{name:p,type:E,value:T}=r;if(E==="image"){let w=p?`${p}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else p&&c.append(p,T)}}else{if(oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Tc,s=null,o=Ac,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function IC(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Ji(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function VC(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function OC(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await VC(c,i);return d.links?d.links():[]}return[]}));return LC(s.flat(1).filter(MC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function q0(r,e,i,s,o,c){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function kC(r,e,{includeHydrateFallback:i}={}){return zC(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function zC(r){return[...new Set(r)]}function UC(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function LC(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(UC(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function qE(){let r=X.useContext(Zs);return Hm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jC(){let r=X.useContext(sh);return Hm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gm=X.createContext(void 0);Gm.displayName="FrameworkContext";function HE(){let r=X.useContext(Gm);return Hm(r,"You must render this element inside a <HydratedRouter> element"),r}function BC(r,e){let i=X.useContext(Gm),[s,o]=X.useState(!1),[c,d]=X.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:T}=e,w=X.useRef(null);X.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let F=at=>{at.forEach(nt=>{d(nt.isIntersecting)})},q=new IntersectionObserver(F,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[r]),X.useEffect(()=>{if(s){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[s]);let L=()=>{o(!0)},$=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,w,{}]:[c,w,{onFocus:ro(g,L),onBlur:ro(y,$),onMouseEnter:ro(p,L),onMouseLeave:ro(E,$),onTouchStart:ro(T,L)}]:[!1,w,{}]}function ro(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function PC({page:r,...e}){let{router:i}=qE(),s=X.useMemo(()=>VE(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?X.createElement(HC,{page:r,matches:s,...e}):null}function qC(r){let{manifest:e,routeModules:i}=HE(),[s,o]=X.useState([]);return X.useEffect(()=>{let c=!1;return OC(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function HC({page:r,matches:e,...i}){let s=Mr(),{manifest:o,routeModules:c}=HE(),{basename:d}=qE(),{loaderData:g,matches:y}=jC(),p=X.useMemo(()=>q0(r,e,y,o,s,"data"),[r,e,y,o,s]),E=X.useMemo(()=>q0(r,e,y,o,s,"assets"),[r,e,y,o,s]),T=X.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,F=!1;if(e.forEach(at=>{let nt=o.routes[at.route.id];!nt||!nt.hasLoader||(!p.some(st=>st.route.id===at.route.id)&&at.route.id in g&&c[at.route.id]?.shouldRevalidate||nt.hasClientLoader?F=!0:$.add(at.route.id))}),$.size===0)return[];let q=IC(r,d,"data");return F&&$.size>0&&q.searchParams.set("_routes",e.filter(at=>$.has(at.route.id)).map(at=>at.route.id).join(",")),[q.pathname+q.search]},[d,g,s,o,p,e,r,c]),w=X.useMemo(()=>kC(E,o),[E,o]),L=qC(E);return X.createElement(X.Fragment,null,T.map($=>X.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...i})),w.map($=>X.createElement("link",{key:$,rel:"modulepreload",href:$,...i})),L.map(({key:$,link:F})=>X.createElement("link",{key:$,nonce:i.nonce,...F})))}function GC(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GE&&(window.__reactRouterVersion="7.10.1")}catch{}function FC({basename:r,children:e,unstable_useTransitions:i,window:s}){let o=X.useRef();o.current==null&&(o.current=IR({window:s,v5Compat:!0}));let c=o.current,[d,g]=X.useState({action:c.action,location:c.location}),y=X.useCallback(p=>{i===!1?g(p):X.startTransition(()=>g(p))},[i]);return X.useLayoutEffect(()=>c.listen(y),[c,y]),X.createElement(TC,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i===!0})}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QE=X.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:E,viewTransition:T,...w},L){let{basename:$,unstable_useTransitions:F}=X.useContext(Wn),q=typeof p=="string"&&FE.test(p),at,nt=!1;if(typeof p=="string"&&q&&(at=p,GE))try{let O=new URL(window.location.href),I=p.startsWith("//")?new URL(O.protocol+p):new URL(p),z=Ji(I.pathname,$);I.origin===O.origin&&z!=null?p=z+I.search+I.hash:nt=!0}catch{Ln(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let st=sC(p,{relative:o}),[vt,wt,Tt]=BC(s,w),D=XC(p,{replace:d,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:F});function S(O){e&&e(O),O.defaultPrevented||D(O)}let C=X.createElement("a",{...w,...Tt,href:at||st,onClick:nt||c?e:S,ref:GC(L,wt),target:y,"data-discover":!q&&i==="render"?"true":void 0});return vt&&!q?X.createElement(X.Fragment,null,C,X.createElement(PC,{page:st})):C});QE.displayName="Link";var QC=X.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:y,...p},E){let T=Mo(d,{relative:p.relative}),w=Mr(),L=X.useContext(sh),{navigator:$,basename:F}=X.useContext(Wn),q=L!=null&&tx(T)&&g===!0,at=$.encodeLocation?$.encodeLocation(T).pathname:T.pathname,nt=w.pathname,st=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),st=st?st.toLowerCase():null,at=at.toLowerCase()),st&&F&&(st=Ji(st,F)||st);const vt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let wt=nt===at||!o&&nt.startsWith(at)&&nt.charAt(vt)==="/",Tt=st!=null&&(st===at||!o&&st.startsWith(at)&&st.charAt(at.length)==="/"),D={isActive:wt,isPending:Tt,isTransitioning:q},S=wt?e:void 0,C;typeof s=="function"?C=s(D):C=[s,wt?"active":null,Tt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(D):c;return X.createElement(QE,{...p,"aria-current":S,className:C,ref:E,style:O,to:d,viewTransition:g},typeof y=="function"?y(D):y)});QC.displayName="NavLink";var YC=X.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Tc,action:g,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:T,...w},L)=>{let{unstable_useTransitions:$}=X.useContext(Wn),F=JC(),q=WC(g,{relative:p}),at=d.toLowerCase()==="get"?"get":"post",nt=typeof g=="string"&&FE.test(g),st=vt=>{if(y&&y(vt),vt.defaultPrevented)return;vt.preventDefault();let wt=vt.nativeEvent.submitter,Tt=wt?.getAttribute("formmethod")||d,D=()=>F(wt||vt.currentTarget,{fetcherKey:e,method:Tt,navigate:i,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:T});$&&i!==!1?X.startTransition(()=>D()):D()};return X.createElement("form",{ref:L,method:at,action:q,onSubmit:s?y:st,...w,"data-discover":!nt&&r==="render"?"true":void 0})});YC.displayName="Form";function KC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YE(r){let e=X.useContext(Zs);return Oe(e,KC(r)),e}function XC(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_useTransitions:g}={}){let y=lC(),p=Mr(),E=Mo(r,{relative:c});return X.useCallback(T=>{if(CC(T,e)){T.preventDefault();let w=i!==void 0?i:Ao(p)===Ao(E),L=()=>y(r,{replace:w,state:s,preventScrollReset:o,relative:c,viewTransition:d});g?X.startTransition(()=>L()):L()}},[p,y,E,i,s,e,r,o,c,d,g])}var $C=0,ZC=()=>`__${String(++$C)}__`;function JC(){let{router:r}=YE("useSubmit"),{basename:e}=X.useContext(Wn),i=_C(),s=r.fetch,o=r.navigate;return X.useCallback(async(c,d={})=>{let{action:g,method:y,encType:p,formData:E,body:T}=NC(c,e);if(d.navigate===!1){let w=d.fetcherKey||ZC();await s(w,i,d.action||g,{preventScrollReset:d.preventScrollReset,formData:E,body:T,formMethod:d.method||y,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||g,{preventScrollReset:d.preventScrollReset,formData:E,body:T,formMethod:d.method||y,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,i])}function WC(r,{relative:e}={}){let{basename:i}=X.useContext(Wn),s=X.useContext(ta);Oe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Mo(r||".",{relative:e})},d=Mr();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(T=>T).forEach(T=>g.append("index",T));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Ki([i,c.pathname])),Ao(c)}function tx(r,{relative:e}={}){let i=X.useContext(LE);Oe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=YE("useViewTransitionState"),o=Mo(r,{relative:e});if(!i.isTransitioning)return!1;let c=Ji(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Ji(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Pc(o.pathname,d)!=null||Pc(o.pathname,c)!=null}kb.createRoot(document.getElementById("root")).render(k.jsx(FC,{children:k.jsx(NR,{})}));
