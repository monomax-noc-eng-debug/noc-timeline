(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function W2(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ud={exports:{}},To={};var W0;function eT(){if(W0)return To;W0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(i,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:i,key:f,ref:o!==void 0?o:null,props:u}}return To.Fragment=e,To.jsx=r,To.jsxs=r,To}var e_;function tT(){return e_||(e_=1,Ud.exports=eT()),Ud.exports}var E=tT(),Ld={exports:{}},Se={};var t_;function nT(){if(t_)return Se;t_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,z={};function X(V,Y,ae){this.props=V,this.context=Y,this.refs=z,this.updater=ae||U}X.prototype.isReactComponent={},X.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},X.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=X.prototype;function ne(V,Y,ae){this.props=V,this.context=Y,this.refs=z,this.updater=ae||U}var ce=ne.prototype=new re;ce.constructor=ne,G(ce,X.prototype),ce.isPureReactComponent=!0;var de=Array.isArray;function ve(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function S(V,Y,ae){var ue=ae.ref;return{$$typeof:a,type:V,key:Y,ref:ue!==void 0?ue:null,props:ae}}function I(V,Y){return S(V.type,Y,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function j(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return Y[ae]})}var C=/\/+/g;function xe(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):Y.toString(36)}function nt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ve,ve):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,Y,ae,ue,_e){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ae){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case a:case e:Ue=!0;break;case b:return Ue=V._init,K(Ue(V._payload),Y,ae,ue,_e)}}if(Ue)return _e=_e(V),Ue=ue===""?"."+xe(V,0):ue,de(_e)?(ae="",Ue!=null&&(ae=Ue.replace(C,"$&/")+"/"),K(_e,Y,ae,"",function(ui){return ui})):_e!=null&&(N(_e)&&(_e=I(_e,ae+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+Ue)),Y.push(_e)),1;Ue=0;var Ot=ue===""?".":ue+":";if(de(V))for(var lt=0;lt<V.length;lt++)ue=V[lt],Ae=Ot+xe(ue,lt),Ue+=K(ue,Y,ae,Ae,_e);else if(lt=O(V),typeof lt=="function")for(V=lt.call(V),lt=0;!(ue=V.next()).done;)ue=ue.value,Ae=Ot+xe(ue,lt++),Ue+=K(ue,Y,ae,Ae,_e);else if(Ae==="object"){if(typeof V.then=="function")return K(nt(V),Y,ae,ue,_e);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(V,Y,ae){if(V==null)return V;var ue=[],_e=0;return K(V,ue,"","",function(Ae){return Y.call(ae,Ae,_e++)}),ue}function ge(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Te=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},se={map:oe,forEach:function(V,Y,ae){oe(V,function(){Y.apply(this,arguments)},ae)},count:function(V){var Y=0;return oe(V,function(){Y++}),Y},toArray:function(V){return oe(V,function(Y){return Y})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=T,Se.Children=se,Se.Component=X,Se.Fragment=r,Se.Profiler=o,Se.PureComponent=ne,Se.StrictMode=i,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,Y,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=G({},V.props),_e=V.key;if(Y!=null)for(Ae in Y.key!==void 0&&(_e=""+Y.key),Y)!A.call(Y,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Y.ref===void 0||(ue[Ae]=Y[Ae]);var Ae=arguments.length-2;if(Ae===1)ue.children=ae;else if(1<Ae){for(var Ue=Array(Ae),Ot=0;Ot<Ae;Ot++)Ue[Ot]=arguments[Ot+2];ue.children=Ue}return S(V.type,_e,ue)},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,Y,ae){var ue,_e={},Ae=null;if(Y!=null)for(ue in Y.key!==void 0&&(Ae=""+Y.key),Y)A.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=Y[ue]);var Ue=arguments.length-2;if(Ue===1)_e.children=ae;else if(1<Ue){for(var Ot=Array(Ue),lt=0;lt<Ue;lt++)Ot[lt]=arguments[lt+2];_e.children=Ot}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)_e[ue]===void 0&&(_e[ue]=Ue[ue]);return S(V,Ae,_e)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=N,Se.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ge}},Se.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},Se.startTransition=function(V){var Y=D.T,ae={};D.T=ae;try{var ue=V(),_e=D.S;_e!==null&&_e(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ve,Te)}catch(Ae){Te(Ae)}finally{Y!==null&&ae.types!==null&&(Y.types=ae.types),D.T=Y}},Se.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Se.use=function(V){return D.H.use(V)},Se.useActionState=function(V,Y,ae){return D.H.useActionState(V,Y,ae)},Se.useCallback=function(V,Y){return D.H.useCallback(V,Y)},Se.useContext=function(V){return D.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,Y){return D.H.useDeferredValue(V,Y)},Se.useEffect=function(V,Y){return D.H.useEffect(V,Y)},Se.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Se.useId=function(){return D.H.useId()},Se.useImperativeHandle=function(V,Y,ae){return D.H.useImperativeHandle(V,Y,ae)},Se.useInsertionEffect=function(V,Y){return D.H.useInsertionEffect(V,Y)},Se.useLayoutEffect=function(V,Y){return D.H.useLayoutEffect(V,Y)},Se.useMemo=function(V,Y){return D.H.useMemo(V,Y)},Se.useOptimistic=function(V,Y){return D.H.useOptimistic(V,Y)},Se.useReducer=function(V,Y,ae){return D.H.useReducer(V,Y,ae)},Se.useRef=function(V){return D.H.useRef(V)},Se.useState=function(V){return D.H.useState(V)},Se.useSyncExternalStore=function(V,Y,ae){return D.H.useSyncExternalStore(V,Y,ae)},Se.useTransition=function(){return D.H.useTransition()},Se.version="19.2.3",Se}var n_;function Mm(){return n_||(n_=1,Ld.exports=nT()),Ld.exports}var q=Mm(),Pd={exports:{}},xo={},Bd={exports:{}},Fd={};var r_;function rT(){return r_||(r_=1,(function(a){function e(K,oe){var ge=K.length;K.push(oe);e:for(;0<ge;){var Te=ge-1>>>1,se=K[Te];if(0<o(se,oe))K[Te]=oe,K[ge]=se,ge=Te;else break e}}function r(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var oe=K[0],ge=K.pop();if(ge!==oe){K[0]=ge;e:for(var Te=0,se=K.length,V=se>>>1;Te<V;){var Y=2*(Te+1)-1,ae=K[Y],ue=Y+1,_e=K[ue];if(0>o(ae,ge))ue<se&&0>o(_e,ae)?(K[Te]=_e,K[ue]=ge,Te=ue):(K[Te]=ae,K[Y]=ge,Te=Y);else if(ue<se&&0>o(_e,ge))K[Te]=_e,K[ue]=ge,Te=ue;else break e}}return oe}function o(K,oe){var ge=K.sortIndex-oe.sortIndex;return ge!==0?ge:K.id-oe.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,T=null,R=3,O=!1,U=!1,G=!1,z=!1,X=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ce(K){for(var oe=r(y);oe!==null;){if(oe.callback===null)i(y);else if(oe.startTime<=K)i(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=r(y)}}function de(K){if(G=!1,ce(K),!U)if(r(g)!==null)U=!0,ve||(ve=!0,j());else{var oe=r(y);oe!==null&&nt(de,oe.startTime-K)}}var ve=!1,D=-1,A=5,S=-1;function I(){return z?!0:!(a.unstable_now()-S<A)}function N(){if(z=!1,ve){var K=a.unstable_now();S=K;var oe=!0;try{e:{U=!1,G&&(G=!1,re(D),D=-1),O=!0;var ge=R;try{t:{for(ce(K),T=r(g);T!==null&&!(T.expirationTime>K&&I());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,R=T.priorityLevel;var se=Te(T.expirationTime<=K);if(K=a.unstable_now(),typeof se=="function"){T.callback=se,ce(K),oe=!0;break t}T===r(g)&&i(g),ce(K)}else i(g);T=r(g)}if(T!==null)oe=!0;else{var V=r(y);V!==null&&nt(de,V.startTime-K),oe=!1}}break e}finally{T=null,R=ge,O=!1}oe=void 0}}finally{oe?j():ve=!1}}}var j;if(typeof ne=="function")j=function(){ne(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xe=C.port2;C.port1.onmessage=N,j=function(){xe.postMessage(null)}}else j=function(){X(N,0)};function nt(K,oe){D=X(function(){K(a.unstable_now())},oe)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(K){switch(R){case 1:case 2:case 3:var oe=3;break;default:oe=R}var ge=R;R=oe;try{return K()}finally{R=ge}},a.unstable_requestPaint=function(){z=!0},a.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=R;R=K;try{return oe()}finally{R=ge}},a.unstable_scheduleCallback=function(K,oe,ge){var Te=a.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Te+ge:Te):ge=Te,K){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ge+se,K={id:b++,callback:oe,priorityLevel:K,startTime:ge,expirationTime:se,sortIndex:-1},ge>Te?(K.sortIndex=ge,e(y,K),r(g)===null&&K===r(y)&&(G?(re(D),D=-1):G=!0,nt(de,ge-Te))):(K.sortIndex=se,e(g,K),U||O||(U=!0,ve||(ve=!0,j()))),K},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(K){var oe=R;return function(){var ge=R;R=oe;try{return K.apply(this,arguments)}finally{R=ge}}}})(Fd)),Fd}var a_;function aT(){return a_||(a_=1,Bd.exports=rT()),Bd.exports}var qd={exports:{}},Wt={};var i_;function iT(){if(i_)return Wt;i_=1;var a=Mm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Wt.flushSync=function(g){var y=f.T,b=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=y,i.p=b,i.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:O}):b==="script"&&i.d.X(g,{crossOrigin:T,integrity:R,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin);i.d.L(g,b,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},Wt.requestFormReset=function(g){i.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var s_;function sT(){if(s_)return qd.exports;s_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),qd.exports=iT(),qd.exports}var l_;function lT(){if(l_)return xo;l_=1;var a=aT(),e=Mm(),r=sT();function i(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(i(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),t;if(d===l)return g(h),n;d=d.sibling}throw Error(i(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,x=h.child;x;){if(x===s){_=!0,s=h,l=d;break}if(x===l){_=!0,l=h,s=d;break}x=x.sibling}if(!_){for(x=d.child;x;){if(x===s){_=!0,s=d,l=h;break}if(x===l){_=!0,l=d,s=h;break}x=x.sibling}if(!_)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case X:return"Profiler";case z:return"StrictMode";case de:return"Suspense";case ve:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ne:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var nt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Te=[],se=-1;function V(t){return{current:t}}function Y(t){0>se||(t.current=Te[se],Te[se]=null,se--)}function ae(t,n){se++,Te[se]=t.current,t.current=n}var ue=V(null),_e=V(null),Ae=V(null),Ue=V(null);function Ot(t,n){switch(ae(Ae,n),ae(_e,t),ae(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?T0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=T0(n),t=x0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ue),ae(ue,t)}function lt(){Y(ue),Y(_e),Y(Ae)}function ui(t){t.memoizedState!==null&&ae(Ue,t);var n=ue.current,s=x0(n,t.type);n!==s&&(ae(_e,t),ae(ue,s))}function ns(t){_e.current===t&&(Y(ue),Y(_e)),Ue.current===t&&(Y(Ue),_o._currentValue=ge)}var rs,as;function ur(t){if(rs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);rs=n&&n[1]||"",as=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+t+as}var yl=!1;function ci(t,n){if(!t||yl)return"";yl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var H=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){H=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){H=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],x=d[1];if(_&&x){var k=_.split(`
`),F=x.split(`
`);for(h=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===k.length||h===F.length)for(l=k.length-1,h=F.length-1;1<=l&&0<=h&&k[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(k[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||k[l]!==F[h]){var Z=`
`+k[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{yl=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ur(s):""}function _l(t,n){switch(t.tag){case 26:case 27:case 5:return ur(t.type);case 16:return ur("Lazy");case 13:return t.child!==n&&n!==null?ur("Suspense Fallback"):ur("Suspense");case 19:return ur("SuspenseList");case 0:case 15:return ci(t.type,!1);case 11:return ci(t.type.render,!1);case 1:return ci(t.type,!0);case 31:return ur("Activity");default:return""}}function vl(t){try{var n="",s=null;do n+=_l(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Vt=a.unstable_scheduleCallback,ha=a.unstable_cancelCallback,Lh=a.unstable_shouldYield,ru=a.unstable_requestPaint,an=a.unstable_now,hi=a.unstable_getCurrentPriorityLevel,bl=a.unstable_ImmediatePriority,El=a.unstable_UserBlockingPriority,fa=a.unstable_NormalPriority,Ph=a.unstable_LowPriority,au=a.unstable_IdlePriority,iu=a.log,su=a.unstable_setDisableYieldValue,$n=null,qt=null;function kn(t){if(typeof iu=="function"&&su(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode($n,t)}catch{}}var gt=Math.clz32?Math.clz32:ou,lu=Math.log,is=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(lu(t)/is|0)|0}var cr=256,fi=262144,Et=4194304;function hr(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fr(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=hr(l):(_&=x,_!==0?h=hr(_):s||(s=x&~t,s!==0&&(h=hr(s))))):(x=l&~d,x!==0?h=hr(x):_!==0?h=hr(_):s||(s=l&~t,s!==0&&(h=hr(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function dr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function di(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fh(t,n,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,k=t.expirationTimes,F=t.hiddenUpdates;for(s=_&~s;0<s;){var Z=31-gt(s),ee=1<<Z;x[Z]=0,k[Z]=-1;var H=F[Z];if(H!==null)for(F[Z]=null,Z=0;Z<H.length;Z++){var $=H[Z];$!==null&&($.lane&=-536870913)}s&=~ee}l!==0&&mi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function mi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-gt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Tl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-gt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function xl(t,n){var s=n&-n;return s=(s&42)!==0?1:gi(s),(s&(t.suspendedLanes|n))!==0?0:s}function gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Lr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Q0(t.type))}function Kn(t,n){var s=oe.p;try{return oe.p=t,n()}finally{oe.p=s}}var Xn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Xn,Ut="__reactProps$"+Xn,mr="__reactContainer$"+Xn,ss="__reactEvents$"+Xn,qh="__reactListeners$"+Xn,hu="__reactHandles$"+Xn,fu="__reactResources$"+Xn,gr="__reactMarker$"+Xn;function ls(t){delete t[Tt],delete t[Ut],delete t[ss],delete t[qh],delete t[hu]}function pr(t){var n=t[Tt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[mr]||s[Tt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=D0(t);t!==null;){if(s=t[Tt])return s;t=D0(t)}return n}t=s,s=t.parentNode}return null}function On(t){if(t=t[Tt]||t[mr]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(i(33))}function yr(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[gr]=!0}var Al=new Set,wl={};function _r(t,n){vr(t,n),vr(t+"Capture",n)}function vr(t,n){for(wl[t]=n,t=0;t<n.length;t++)Al.add(n[t])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Cl={};function du(t){return bt.call(Cl,t)?!0:bt.call(Rl,t)?!1:Sl.test(t)?Cl[t]=!0:(Rl[t]=!0,!1)}function os(t,n,s){if(du(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function En(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function At(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function da(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=da(t)?"checked":"value";t._valueTracker=Nl(t,n,""+t[n])}}function pi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=da(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yi=/[\n"\\]/g;function cn(t){return t.replace(yi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function us(t,n,s,l,h,d,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Dl(t,_,Lt(n)):s!=null?Dl(t,_,Lt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Lt(x):t.removeAttribute("name")}function mu(t,n,s,l,h,d,_,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){$e(t);return}s=s!=null?""+Lt(s):"",n=n!=null?""+Lt(n):s,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function Dl(t,n,s){n==="number"&&br(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ma(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Lt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function gu(t,n,s){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Lt(s):""}function ga(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(i(92));if(nt(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Lt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),$e(t)}function hn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||pu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function kl(t,n,s){if(n!=null&&typeof n!="object")throw Error(i(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Il(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Il(t,d,n[d])}function cs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(t){return pa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Ol=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,Er=null;function _i(t){var n=On(t);if(n&&(t=n.stateNode)){var s=t[Ut]||null;e:switch(t=n.stateNode,n.type){case"input":if(us(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(i(90));us(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&pi(l)}break e;case"textarea":gu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&ma(t,!!s.multiple,n,!1)}}}var fs=!1;function _a(t,n,s){if(fs)return t(n,s);fs=!0;try{var l=t(n);return l}finally{if(fs=!1,(ya!==null||Er!==null)&&(cc(),ya&&(n=ya,t=Er,Er=ya=null,_i(n),t)))for(n=0;n<t.length;n++)_i(t[n])}}function Jn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ut]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vi=!1;if(Mn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){vi=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{vi=!1}var Tr=null,Vl=null,bi=null;function Ml(){if(bi)return bi;var t,n=Vl,s=n.length,l,h="value"in Tr?Tr.value:Tr.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&n[s-l]===h[d-l];l++);return bi=h.slice(t,1<l?1-l:void 0)}function Ei(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Pr(){return!0}function Wn(){return!1}function Ht(t){function n(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pr:Wn,this.isPropagationStopped=Wn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),n}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=Ht(Br),va=T({},Br,{view:0,detail:0}),jl=Ht(va),ba,ds,Ar,ms=T({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(ba=t.screenX-Ar.screenX,ds=t.screenY-Ar.screenY):ds=ba=0,Ar=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:ds}}),zl=Ht(ms),Ti=T({},ms,{dataTransfer:0}),_u=Ht(Ti),vu=T({},va,{relatedTarget:0}),xi=Ht(vu),Ul=T({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Ht(Ul),gs=T({},Br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Ht(gs),Tu=T({},Br,{data:0}),wr=Ht(Tu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Ea(){return Su}var sn=T({},va,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Ht(sn),Cu=T({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fr=Ht(Cu),c=T({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),p=Ht(c),v=T({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(v),P=T({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ht(P),ie=T({},Br,{newState:0,oldState:0}),Ce=Ht(ie),pt=[9,13,27,32],He=Mn&&"CompositionEvent"in window,ot=null;Mn&&"documentMode"in document&&(ot=document.documentMode);var jn=Mn&&"TextEvent"in window&&!ot,Sr=Mn&&(!He||ot&&8<ot&&11>=ot),er=" ",tr=!1;function Ai(t,n){switch(t){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ps(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function xE(t,n){switch(t){case"compositionend":return ps(n);case"keypress":return n.which!==32?null:(tr=!0,er);case"textInput":return t=n.data,t===er&&tr?null:t;default:return null}}function AE(t,n){if(ys)return t==="compositionend"||!He&&Ai(t,n)?(t=Ml(),bi=Vl=Tr=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Sr&&n.locale!=="ko"?null:n.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!wE[t.type]:n==="textarea"}function Vg(t,n,s,l){ya?Er?Er.push(l):Er=[l]:ya=l,n=yc(n,"onChange"),0<n.length&&(s=new xr("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ll=null,Pl=null;function SE(t){p0(t,0)}function Nu(t){var n=bn(t);if(pi(n))return t}function Mg(t,n){if(t==="change")return n}var jg=!1;if(Mn){var Hh;if(Mn){var Gh="oninput"in document;if(!Gh){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Gh=typeof zg.oninput=="function"}Hh=Gh}else Hh=!1;jg=Hh&&(!document.documentMode||9<document.documentMode)}function Ug(){Ll&&(Ll.detachEvent("onpropertychange",Lg),Pl=Ll=null)}function Lg(t){if(t.propertyName==="value"&&Nu(Pl)){var n=[];Vg(n,Pl,t,Vn(t)),_a(SE,n)}}function RE(t,n,s){t==="focusin"?(Ug(),Ll=n,Pl=s,Ll.attachEvent("onpropertychange",Lg)):t==="focusout"&&Ug()}function CE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Pl)}function NE(t,n){if(t==="click")return Nu(n)}function DE(t,n){if(t==="input"||t==="change")return Nu(n)}function IE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Tn=typeof Object.is=="function"?Object.is:IE;function Bl(t,n){if(Tn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!bt.call(n,h)||!Tn(t[h],n[h]))return!1}return!0}function Pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,n){var s=Pg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Pg(s)}}function Fg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=br(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=br(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var kE=Mn&&"documentMode"in document&&11>=document.documentMode,_s=null,$h=null,Fl=null,Yh=!1;function Hg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yh||_s==null||_s!==br(l)||(l=_s,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&Bl(Fl,l)||(Fl=l,l=yc($h,"onSelect"),0<l.length&&(n=new xr("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=_s)))}function wi(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var vs={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},Kh={},Gg={};Mn&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Si(t){if(Kh[t])return Kh[t];if(!vs[t])return t;var n=vs[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Gg)return Kh[t]=n[s];return t}var Qg=Si("animationend"),$g=Si("animationiteration"),Yg=Si("animationstart"),OE=Si("transitionrun"),VE=Si("transitionstart"),ME=Si("transitioncancel"),Kg=Si("transitionend"),Xg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function nr(t,n){Xg.set(t,n),_r(n,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],bs=0,Zh=0;function Iu(){for(var t=bs,n=Zh=bs=0;n<t;){var s=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var d=zn[n];if(zn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Zg(s,h,d)}}function ku(t,n,s,l){zn[bs++]=t,zn[bs++]=n,zn[bs++]=s,zn[bs++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,s,l){return ku(t,n,s,l),Ou(t)}function Ri(t,n){return ku(t,null,null,n),Ou(t)}function Zg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-gt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function Ou(t){if(50<co)throw co=0,od=null,Error(i(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Es={};function jE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,s,l){return new jE(t,n,s,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,n){var s=t.alternate;return s===null?(s=xn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Jg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,s,l,h,d){var _=0;if(l=t,typeof t=="function")Wh(t)&&(_=1);else if(typeof t=="string")_=B2(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=xn(31,s,n,h),t.elementType=S,t.lanes=d,t;case G:return Ci(s.children,h,d,n);case z:_=8,h|=24;break;case X:return t=xn(12,s,n,h|2),t.elementType=X,t.lanes=d,t;case de:return t=xn(13,s,n,h),t.elementType=de,t.lanes=d,t;case ve:return t=xn(19,s,n,h),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case re:_=9;break e;case ce:_=11;break e;case D:_=14;break e;case A:_=16,l=null;break e}_=29,s=Error(i(130,t===null?"null":typeof t,"")),l=null}return n=xn(_,s,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Ci(t,n,s,l){return t=xn(7,t,l,n),t.lanes=s,t}function ef(t,n,s){return t=xn(6,t,null,n),t.lanes=s,t}function Wg(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,s){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ep=new WeakMap;function Un(t,n){if(typeof t=="object"&&t!==null){var s=ep.get(t);return s!==void 0?s:(n={value:t,source:n,stack:vl(n)},ep.set(t,n),n)}return{value:t,source:n,stack:vl(n)}}var Ts=[],xs=0,Mu=null,ql=0,Ln=[],Pn=0,Ta=null,Rr=1,Cr="";function Hr(t,n){Ts[xs++]=ql,Ts[xs++]=Mu,Mu=t,ql=n}function tp(t,n,s){Ln[Pn++]=Rr,Ln[Pn++]=Cr,Ln[Pn++]=Ta,Ta=t;var l=Rr;t=Cr;var h=32-gt(l)-1;l&=~(1<<h),s+=1;var d=32-gt(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Rr=1<<32-gt(n)+h|s<<h|l,Cr=d+t}else Rr=1<<d|s<<h|l,Cr=t}function nf(t){t.return!==null&&(Hr(t,1),tp(t,1,0))}function rf(t){for(;t===Mu;)Mu=Ts[--xs],Ts[xs]=null,ql=Ts[--xs],Ts[xs]=null;for(;t===Ta;)Ta=Ln[--Pn],Ln[Pn]=null,Cr=Ln[--Pn],Ln[Pn]=null,Rr=Ln[--Pn],Ln[Pn]=null}function np(t,n){Ln[Pn++]=Rr,Ln[Pn++]=Cr,Ln[Pn++]=Ta,Rr=n.id,Cr=n.overflow,Ta=t}var Gt=null,rt=null,ze=!1,xa=null,Bn=!1,af=Error(i(519));function Aa(t){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Un(n,t)),af}function rp(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Tt]=t,n[Ut]=l,s){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<fo.length;s++)ke(fo[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),ga(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||b0(n.textContent,s)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Aa(t,!0)}function ap(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Gt=Gt.return}}function As(t){if(t!==Gt)return!1;if(!ze)return ap(t),ze=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||xd(t.type,t.memoizedProps)),s=!s),s&&rt&&Aa(t),ap(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=N0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));rt=N0(t)}else n===27?(n=rt,Ua(t.type)?(t=Cd,Cd=null,rt=t):rt=n):rt=Gt?qn(t.stateNode.nextSibling):null;return!0}function Ni(){rt=Gt=null,ze=!1}function sf(){var t=xa;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),xa=null),t}function Hl(t){xa===null?xa=[t]:xa.push(t)}var lf=V(null),Di=null,Gr=null;function wa(t,n,s){ae(lf,n._currentValue),n._currentValue=s}function Qr(t){t._currentValue=lf.current,Y(lf)}function of(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function uf(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var k=0;k<n.length;k++)if(x.context===n[k]){d.lanes|=s,x=d.alternate,x!==null&&(x.lanes|=s),of(d.return,s,t),l||(_=null);break e}d=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),of(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ws(t,n,s,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var x=h.type;Tn(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_o):t=[_o])}h=h.return}t!==null&&uf(n,t,s,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ii(t){Di=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return ip(Di,t)}function zu(t,n){return Di===null&&Ii(t),ip(t,n)}function ip(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gr===null){if(t===null)throw Error(i(308));Gr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Gr=Gr.next=n;return s}var zE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},UE=a.unstable_scheduleCallback,LE=a.unstable_NormalPriority,wt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new zE,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&UE(LE,function(){t.controller.abort()})}var Ql=null,hf=0,Ss=0,Rs=null;function PE(t,n){if(Ql===null){var s=Ql=[];hf=0,Ss=md(),Rs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return hf++,n.then(sp,sp),n}function sp(){if(--hf===0&&Ql!==null){Rs!==null&&(Rs.status="fulfilled");var t=Ql;Ql=null,Ss=0,Rs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function BE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var lp=K.S;K.S=function(t,n){Hy=an(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&PE(t,n),lp!==null&&lp(t,n)};var ki=V(null);function ff(){var t=ki.current;return t!==null?t:et.pooledCache}function Uu(t,n){n===null?ae(ki,ki.current):ae(ki,n.pool)}function op(){var t=ff();return t===null?null:{parent:wt._currentValue,pool:t}}var Cs=Error(i(460)),df=Error(i(474)),Lu=Error(i(542)),Pu={then:function(){}};function up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Zn,Zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fp(t),t;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fp(t),t}throw Vi=n,Cs}}function Oi(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vi=s,Cs):s}}var Vi=null;function hp(){if(Vi===null)throw Error(i(459));var t=Vi;return Vi=null,t}function fp(t){if(t===Cs||t===Lu)throw Error(i(483))}var Ns=null,$l=0;function Bu(t){var n=$l;return $l+=1,Ns===null&&(Ns=[]),cp(Ns,t,n)}function Yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===R?Error(i(525)):(t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dp(t){function n(L,M){if(t){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function s(L,M){if(!t)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=qr(L,M),L.index=0,L.sibling=null,L}function d(L,M,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function x(L,M,B,W){return M===null||M.tag!==6?(M=ef(B,L.mode,W),M.return=L,M):(M=h(M,B),M.return=L,M)}function k(L,M,B,W){var ye=B.type;return ye===G?Z(L,M,B.props.children,W,B.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Oi(ye)===M.type)?(M=h(M,B.props),Yl(M,B),M.return=L,M):(M=Vu(B.type,B.key,B.props,null,L.mode,W),Yl(M,B),M.return=L,M)}function F(L,M,B,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=tf(B,L.mode,W),M.return=L,M):(M=h(M,B.children||[]),M.return=L,M)}function Z(L,M,B,W,ye){return M===null||M.tag!==7?(M=Ci(B,L.mode,W,ye),M.return=L,M):(M=h(M,B),M.return=L,M)}function ee(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ef(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return B=Vu(M.type,M.key,M.props,null,L.mode,B),Yl(B,M),B.return=L,B;case U:return M=tf(M,L.mode,B),M.return=L,M;case A:return M=Oi(M),ee(L,M,B)}if(nt(M)||j(M))return M=Ci(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return ee(L,Bu(M),B);if(M.$$typeof===ne)return ee(L,zu(L,M),B);Fu(L,M)}return null}function H(L,M,B,W){var ye=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:x(L,M,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return B.key===ye?k(L,M,B,W):null;case U:return B.key===ye?F(L,M,B,W):null;case A:return B=Oi(B),H(L,M,B,W)}if(nt(B)||j(B))return ye!==null?null:Z(L,M,B,W,null);if(typeof B.then=="function")return H(L,M,Bu(B),W);if(B.$$typeof===ne)return H(L,M,zu(L,B),W);Fu(L,B)}return null}function $(L,M,B,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(B)||null,x(M,L,""+W,ye);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return L=L.get(W.key===null?B:W.key)||null,k(M,L,W,ye);case U:return L=L.get(W.key===null?B:W.key)||null,F(M,L,W,ye);case A:return W=Oi(W),$(L,M,B,W,ye)}if(nt(W)||j(W))return L=L.get(B)||null,Z(M,L,W,ye,null);if(typeof W.then=="function")return $(L,M,B,Bu(W),ye);if(W.$$typeof===ne)return $(L,M,B,zu(M,W),ye);Fu(M,W)}return null}function fe(L,M,B,W){for(var ye=null,Fe=null,me=M,De=M=0,Ve=null;me!==null&&De<B.length;De++){me.index>De?(Ve=me,me=null):Ve=me.sibling;var qe=H(L,me,B[De],W);if(qe===null){me===null&&(me=Ve);break}t&&me&&qe.alternate===null&&n(L,me),M=d(qe,M,De),Fe===null?ye=qe:Fe.sibling=qe,Fe=qe,me=Ve}if(De===B.length)return s(L,me),ze&&Hr(L,De),ye;if(me===null){for(;De<B.length;De++)me=ee(L,B[De],W),me!==null&&(M=d(me,M,De),Fe===null?ye=me:Fe.sibling=me,Fe=me);return ze&&Hr(L,De),ye}for(me=l(me);De<B.length;De++)Ve=$(me,L,De,B[De],W),Ve!==null&&(t&&Ve.alternate!==null&&me.delete(Ve.key===null?De:Ve.key),M=d(Ve,M,De),Fe===null?ye=Ve:Fe.sibling=Ve,Fe=Ve);return t&&me.forEach(function(qa){return n(L,qa)}),ze&&Hr(L,De),ye}function be(L,M,B,W){if(B==null)throw Error(i(151));for(var ye=null,Fe=null,me=M,De=M=0,Ve=null,qe=B.next();me!==null&&!qe.done;De++,qe=B.next()){me.index>De?(Ve=me,me=null):Ve=me.sibling;var qa=H(L,me,qe.value,W);if(qa===null){me===null&&(me=Ve);break}t&&me&&qa.alternate===null&&n(L,me),M=d(qa,M,De),Fe===null?ye=qa:Fe.sibling=qa,Fe=qa,me=Ve}if(qe.done)return s(L,me),ze&&Hr(L,De),ye;if(me===null){for(;!qe.done;De++,qe=B.next())qe=ee(L,qe.value,W),qe!==null&&(M=d(qe,M,De),Fe===null?ye=qe:Fe.sibling=qe,Fe=qe);return ze&&Hr(L,De),ye}for(me=l(me);!qe.done;De++,qe=B.next())qe=$(me,L,De,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&me.delete(qe.key===null?De:qe.key),M=d(qe,M,De),Fe===null?ye=qe:Fe.sibling=qe,Fe=qe);return t&&me.forEach(function(J2){return n(L,J2)}),ze&&Hr(L,De),ye}function We(L,M,B,W){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case O:e:{for(var ye=B.key;M!==null;){if(M.key===ye){if(ye=B.type,ye===G){if(M.tag===7){s(L,M.sibling),W=h(M,B.props.children),W.return=L,L=W;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Oi(ye)===M.type){s(L,M.sibling),W=h(M,B.props),Yl(W,B),W.return=L,L=W;break e}s(L,M);break}else n(L,M);M=M.sibling}B.type===G?(W=Ci(B.props.children,L.mode,W,B.key),W.return=L,L=W):(W=Vu(B.type,B.key,B.props,null,L.mode,W),Yl(W,B),W.return=L,L=W)}return _(L);case U:e:{for(ye=B.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){s(L,M.sibling),W=h(M,B.children||[]),W.return=L,L=W;break e}else{s(L,M);break}else n(L,M);M=M.sibling}W=tf(B,L.mode,W),W.return=L,L=W}return _(L);case A:return B=Oi(B),We(L,M,B,W)}if(nt(B))return fe(L,M,B,W);if(j(B)){if(ye=j(B),typeof ye!="function")throw Error(i(150));return B=ye.call(B),be(L,M,B,W)}if(typeof B.then=="function")return We(L,M,Bu(B),W);if(B.$$typeof===ne)return We(L,M,zu(L,B),W);Fu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(s(L,M.sibling),W=h(M,B),W.return=L,L=W):(s(L,M),W=ef(B,L.mode,W),W.return=L,L=W),_(L)):s(L,M)}return function(L,M,B,W){try{$l=0;var ye=We(L,M,B,W);return Ns=null,ye}catch(me){if(me===Cs||me===Lu)throw me;var Fe=xn(29,me,null,L.mode);return Fe.lanes=W,Fe.return=L,Fe}finally{}}}var Mi=dp(!0),mp=dp(!1),Sa=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ou(t),Zg(t,null,s),n}return ku(t,l,n,s),Ou(t)}function Kl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Tl(t,s)}}function pf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var yf=!1;function Xl(){if(yf){var t=Rs;if(t!==null)throw t}}function Zl(t,n,s,l){yf=!1;var h=t.updateQueue;Sa=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var k=x,F=k.next;k.next=null,_===null?d=F:_.next=F,_=k;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,x=Z.lastBaseUpdate,x!==_&&(x===null?Z.firstBaseUpdate=F:x.next=F,Z.lastBaseUpdate=k))}if(d!==null){var ee=h.baseState;_=0,Z=F=k=null,x=d;do{var H=x.lane&-536870913,$=H!==x.lane;if($?(Oe&H)===H:(l&H)===H){H!==0&&H===Ss&&(yf=!0),Z!==null&&(Z=Z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var fe=t,be=x;H=n;var We=s;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){ee=fe.call(We,ee,H);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,H=typeof fe=="function"?fe.call(We,ee,H):fe,H==null)break e;ee=T({},ee,H);break e;case 2:Sa=!0}}H=x.callback,H!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Z===null?(F=Z=$,k=ee):Z=Z.next=$,_|=H;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;$=x,x=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(k=ee),h.baseState=k,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Oa|=_,t.lanes=_,t.memoizedState=ee}}function gp(t,n){if(typeof t!="function")throw Error(i(191,t));t.call(n)}function pp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)gp(s[t],n)}var Ds=V(null),qu=V(0);function yp(t,n){t=ta,ae(qu,t),ae(Ds,n),ta=t|n.baseLanes}function _f(){ae(qu,ta),ae(Ds,Ds.current)}function vf(){ta=qu.current,Y(Ds),Y(qu)}var An=V(null),Fn=null;function Na(t){var n=t.alternate;ae(yt,yt.current&1),ae(An,t),Fn===null&&(n===null||Ds.current!==null||n.memoizedState!==null)&&(Fn=t)}function bf(t){ae(yt,yt.current),ae(An,t),Fn===null&&(Fn=t)}function _p(t){t.tag===22?(ae(yt,yt.current),ae(An,t),Fn===null&&(Fn=t)):Da()}function Da(){ae(yt,yt.current),ae(An,An.current)}function wn(t){Y(An),Fn===t&&(Fn=null),Y(yt)}var yt=V(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sd(s)||Rd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $r=0,Ne=null,Ze=null,St=null,Gu=!1,Is=!1,ji=!1,Qu=0,Jl=0,ks=null,FE=0;function ht(){throw Error(i(321))}function Ef(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Tn(t[s],n[s]))return!1;return!0}function Tf(t,n,s,l,h,d){return $r=d,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?ty:zf,ji=!1,d=s(l,h),ji=!1,Is&&(d=bp(n,s,l,h)),vp(t),d}function vp(t){K.H=to;var n=Ze!==null&&Ze.next!==null;if($r=0,St=Ze=Ne=null,Gu=!1,Jl=0,ks=null,n)throw Error(i(300));t===null||Rt||(t=t.dependencies,t!==null&&ju(t)&&(Rt=!0))}function bp(t,n,s,l){Ne=t;var h=0;do{if(Is&&(ks=null),Jl=0,Is=!1,25<=h)throw Error(i(301));if(h+=1,St=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=ny,d=n(s,l)}while(Is);return d}function qE(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Wl(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ne.flags|=1024),n}function xf(){var t=Qu!==0;return Qu=0,t}function Af(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function wf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}$r=0,St=Ze=Ne=null,Is=!1,Jl=Qu=0,ks=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ne.memoizedState=St=t:St=St.next=t,St}function _t(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=St===null?Ne.memoizedState:St.next;if(n!==null)St=n,Ze=t;else{if(t===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Ne.memoizedState=St=t:St=St.next=t}return St}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var n=Jl;return Jl+=1,ks===null&&(ks=[]),t=cp(ks,t,n),n=Ne,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?ty:zf),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===ne)return Qt(t)}throw Error(i(438,String(t)))}function Sf(t){var n=null,s=Ne.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=$u(),Ne.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=I;return n.index++,s}function Yr(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=_t();return Rf(n,Ze,t)}function Rf(t,n,s){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var x=_=null,k=null,F=n,Z=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Oe&ee)===ee:($r&ee)===ee){var H=F.revertLane;if(H===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ss&&(Z=!0);else if(($r&H)===H){F=F.next,H===Ss&&(Z=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(x=k=ee,_=d):k=k.next=ee,Ne.lanes|=H,Oa|=H;ee=F.action,ji&&s(d,ee),d=F.hasEagerState?F.eagerState:s(d,ee)}else H={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(x=k=H,_=d):k=k.next=H,Ne.lanes|=ee,Oa|=ee;F=F.next}while(F!==null&&F!==n);if(k===null?_=d:k.next=x,!Tn(d,t.memoizedState)&&(Rt=!0,Z&&(s=Rs,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=k,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var n=_t(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Tn(d,n.memoizedState)||(Rt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Ep(t,n,s){var l=Ne,h=_t(),d=ze;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=n();var _=!Tn((Ze||h).memoizedState,s);if(_&&(h.memoizedState=s,Rt=!0),h=h.queue,If(Ap.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Os(9,{destroy:void 0},xp.bind(null,l,h,s,n),null),et===null)throw Error(i(349));d||($r&127)!==0||Tp(l,n,s)}return s}function Tp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ne.updateQueue,n===null?(n=$u(),Ne.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function xp(t,n,s,l){n.value=s,n.getSnapshot=l,wp(n)&&Sp(t)}function Ap(t,n,s){return s(function(){wp(n)&&Sp(t)})}function wp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Tn(t,s)}catch{return!0}}function Sp(t){var n=Ri(t,2);n!==null&&pn(n,t,2)}function Nf(t){var n=ln();if(typeof t=="function"){var s=t;if(t=s(),ji){kn(!0);try{s()}finally{kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},n}function Rp(t,n,s,l){return t.baseState=s,Rf(t,Ze,typeof l=="function"?l:Yr)}function HE(t,n,s,l,h){if(Ju(t))throw Error(i(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,Cp(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Cp(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=K.T,_={};K.T=_;try{var x=s(h,l),k=K.S;k!==null&&k(_,x),Np(t,n,x)}catch(F){Df(t,n,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=s(h,l),Np(t,n,d)}catch(F){Df(t,n,F)}}function Np(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Dp(t,n,l)},function(l){return Df(t,n,l)}):Dp(t,n,s)}function Dp(t,n,s){n.status="fulfilled",n.value=s,Ip(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Cp(t,s)))}function Df(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Ip(n),n=n.next;while(n!==l)}t.action=null}function Ip(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function kp(t,n){return n}function Op(t,n){if(ze){var s=et.formState;if(s!==null){e:{var l=Ne;if(ze){if(rt){t:{for(var h=rt,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=qn(h.nextSibling),l=h.data==="F!";break e}}Aa(l)}l=!1}l&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:n},s.queue=l,s=Jp.bind(null,Ne,l),l.dispatch=s,l=Nf(!1),d=jf.bind(null,Ne,!1,l.queue),l=ln(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=HE.bind(null,Ne,h,d,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function Vp(t){var n=_t();return Mp(n,Ze,t)}function Mp(t,n,s){if(n=Rf(t,n,kp)[0],t=Ku(Yr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wl(n)}catch(_){throw _===Cs?Lu:_}else l=n;n=_t();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Ne.flags|=2048,Os(9,{destroy:void 0},GE.bind(null,h,s),null)),[l,d,t]}function GE(t,n){t.action=n}function jp(t){var n=_t(),s=Ze;if(s!==null)return Mp(n,s,t);_t(),n=n.memoizedState,s=_t();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Os(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=$u(),Ne.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function zp(){return _t().memoizedState}function Xu(t,n,s,l){var h=ln();Ne.flags|=t,h.memoizedState=Os(1|n,{destroy:void 0},s,l===void 0?null:l)}function Zu(t,n,s,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Ef(l,Ze.memoizedState.deps)?h.memoizedState=Os(n,d,s,l):(Ne.flags|=t,h.memoizedState=Os(1|n,d,s,l))}function Up(t,n){Xu(8390656,8,t,n)}function If(t,n){Zu(2048,8,t,n)}function QE(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=$u(),Ne.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Lp(t){var n=_t().memoizedState;return QE({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Pp(t,n){return Zu(4,2,t,n)}function Bp(t,n){return Zu(4,4,t,n)}function Fp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qp(t,n,s){s=s!=null?s.concat([t]):null,Zu(4,4,Fp.bind(null,n,t),s)}function kf(){}function Hp(t,n){var s=_t();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Gp(t,n){var s=_t();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),ji){kn(!0);try{t()}finally{kn(!1)}}return s.memoizedState=[l,n],l}function Of(t,n,s){return s===void 0||($r&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Qy(),Ne.lanes|=t,Oa|=t,s)}function Qp(t,n,s,l){return Tn(s,n)?s:Ds.current!==null?(t=Of(t,s,l),Tn(t,n)||(Rt=!0),t):($r&42)===0||($r&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=s):(t=Qy(),Ne.lanes|=t,Oa|=t,n)}function $p(t,n,s,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=K.T,x={};K.T=x,jf(t,!1,n,s);try{var k=h(),F=K.S;if(F!==null&&F(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=BE(k,l);eo(t,n,Z,Cn(t))}else eo(t,n,l,Cn(t))}catch(ee){eo(t,n,{then:function(){},status:"rejected",reason:ee},Cn())}finally{oe.p=d,_!==null&&x.types!==null&&(_.types=x.types),K.T=_}}function $E(){}function Vf(t,n,s,l){if(t.tag!==5)throw Error(i(476));var h=Yp(t).queue;$p(t,h,n,ge,s===null?$E:function(){return Kp(t),s(l)})}function Yp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:ge},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kp(t){var n=Yp(t);n.next===null&&(n=t.alternate.memoizedState),eo(t,n.next.queue,{},Cn())}function Mf(){return Qt(_o)}function Xp(){return _t().memoizedState}function Zp(){return _t().memoizedState}function YE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();t=Ra(s);var l=Ca(n,t,s);l!==null&&(pn(l,n,s),Kl(l,n,s)),n={cache:cf()},t.payload=n;return}n=n.return}}function KE(t,n,s){var l=Cn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Wp(n,s):(s=Jh(t,n,s,l),s!==null&&(pn(s,t,l),ey(s,n,l)))}function Jp(t,n,s){var l=Cn();eo(t,n,s,l)}function eo(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Wp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,x=d(_,s);if(h.hasEagerState=!0,h.eagerState=x,Tn(x,_))return ku(t,n,h,0),et===null&&Iu(),!1}catch{}finally{}if(s=Jh(t,n,h,l),s!==null)return pn(s,t,l),ey(s,n,l),!0}return!1}function jf(t,n,s,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(i(479))}else n=Jh(t,s,l,2),n!==null&&pn(n,t,2)}function Ju(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Wp(t,n){Is=Gu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function ey(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Tl(t,s)}}var to={readContext:Qt,use:Yu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};to.useEffectEvent=ht;var ty={readContext:Qt,use:Yu,useCallback:function(t,n){return ln().memoizedState=[t,n===void 0?null:n],t},useContext:Qt,useEffect:Up,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Xu(4194308,4,Fp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var s=ln();n=n===void 0?null:n;var l=t();if(ji){kn(!0);try{t()}finally{kn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=ln();if(s!==void 0){var h=s(n);if(ji){kn(!0);try{s(n)}finally{kn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KE.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=ln();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,s=Jp.bind(null,Ne,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:kf,useDeferredValue:function(t,n){var s=ln();return Of(s,t,n)},useTransition:function(){var t=Nf(!1);return t=$p.bind(null,Ne,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ne,h=ln();if(ze){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),et===null)throw Error(i(349));(Oe&127)!==0||Tp(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,Up(Ap.bind(null,l,d,t),[t]),l.flags|=2048,Os(9,{destroy:void 0},xp.bind(null,l,d,s,n),null),s},useId:function(){var t=ln(),n=et.identifierPrefix;if(ze){var s=Cr,l=Rr;s=(l&~(1<<32-gt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=FE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Op,useActionState:Op,useOptimistic:function(t){var n=ln();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=jf.bind(null,Ne,!0,s),s.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return ln().memoizedState=YE.bind(null,Ne)},useEffectEvent:function(t){var n=ln(),s={impl:t};return n.memoizedState=s,function(){if((Ge&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},zf={readContext:Qt,use:Yu,useCallback:Hp,useContext:Qt,useEffect:If,useImperativeHandle:qp,useInsertionEffect:Pp,useLayoutEffect:Bp,useMemo:Gp,useReducer:Ku,useRef:zp,useState:function(){return Ku(Yr)},useDebugValue:kf,useDeferredValue:function(t,n){var s=_t();return Qp(s,Ze.memoizedState,t,n)},useTransition:function(){var t=Ku(Yr)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:Mf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,n){var s=_t();return Rp(s,Ze,t,n)},useMemoCache:Sf,useCacheRefresh:Zp};zf.useEffectEvent=Lp;var ny={readContext:Qt,use:Yu,useCallback:Hp,useContext:Qt,useEffect:If,useImperativeHandle:qp,useInsertionEffect:Pp,useLayoutEffect:Bp,useMemo:Gp,useReducer:Cf,useRef:zp,useState:function(){return Cf(Yr)},useDebugValue:kf,useDeferredValue:function(t,n){var s=_t();return Ze===null?Of(s,t,n):Qp(s,Ze.memoizedState,t,n)},useTransition:function(){var t=Cf(Yr)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:Mf,useFormState:jp,useActionState:jp,useOptimistic:function(t,n){var s=_t();return Ze!==null?Rp(s,Ze,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Zp};ny.useEffectEvent=Lp;function Uf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Lf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Cn(),h=Ra(l);h.payload=n,s!=null&&(h.callback=s),n=Ca(t,h,l),n!==null&&(pn(n,t,l),Kl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Cn(),h=Ra(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ca(t,h,l),n!==null&&(pn(n,t,l),Kl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Cn(),l=Ra(s);l.tag=2,n!=null&&(l.callback=n),n=Ca(t,l,s),n!==null&&(pn(n,t,s),Kl(n,t,s))}};function ry(t,n,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Bl(s,l)||!Bl(h,d):!0}function ay(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function zi(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function iy(t){Du(t)}function sy(t){console.error(t)}function ly(t){Du(t)}function Wu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function oy(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,s){return s=Ra(s),s.tag=3,s.payload={element:null},s.callback=function(){Wu(t,n)},s}function uy(t){return t=Ra(t),t.tag=3,t}function cy(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){oy(n,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){oy(n,s,l),typeof h!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function XE(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ws(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return Fn===null?hc():s.alternate===null&&ft===0&&(ft=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Pu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),hd(t,l,h)),!1;case 22:return s.flags|=65536,l===Pu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),hd(t,l,h)),!1}throw Error(i(435,s.tag))}return hd(t,l,h),hc(),!1}if(ze)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==af&&(t=Error(i(422),{cause:l}),Hl(Un(t,s)))):(l!==af&&(n=Error(i(423),{cause:l}),Hl(Un(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,s),h=Pf(t.stateNode,l,h),pf(t,h),ft!==4&&(ft=2)),!1;var d=Error(i(520),{cause:l});if(d=Un(d,s),uo===null?uo=[d]:uo.push(d),ft!==4&&(ft=2),n===null)return!0;l=Un(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Pf(s.stateNode,l,t),pf(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Va===null||!Va.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=uy(h),cy(h,t,s,l),pf(s,h),!1}s=s.return}while(s!==null);return!1}var Bf=Error(i(461)),Rt=!1;function $t(t,n,s,l){n.child=t===null?mp(n,null,s,l):Mi(n,t.child,s,l)}function hy(t,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var _={};for(var x in l)x!=="ref"&&(_[x]=l[x])}else _=l;return Ii(n),l=Tf(t,n,s,_,d,h),x=xf(),t!==null&&!Rt?(Af(t,n,h),Kr(t,n,h)):(ze&&x&&nf(n),n.flags|=1,$t(t,n,l,h),n.child)}function fy(t,n,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Wh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,dy(t,n,d,l,h)):(t=Vu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Kf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Bl,s(_,l)&&t.ref===n.ref)return Kr(t,n,h)}return n.flags|=1,t=qr(d,l),t.ref=n.ref,t.return=n,n.child=t}function dy(t,n,s,l,h){if(t!==null){var d=t.memoizedProps;if(Bl(d,l)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=l=d,Kf(t,h))(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,Kr(t,n,h)}return Ff(t,n,s,l,h)}function my(t,n,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return gy(t,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,d!==null?d.cachePool:null),d!==null?yp(n,d):_f(),_p(n);else return l=n.lanes=536870912,gy(t,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Uu(n,d.cachePool),yp(n,d),Da(),n.memoizedState=null):(t!==null&&Uu(n,null),_f(),Da());return $t(t,n,h,s),n.child}function no(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(t,n,s,l,h){var d=ff();return d=d===null?null:{parent:wt._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&Uu(n,null),_f(),_p(n),t!==null&&ws(t,n,l,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function py(t,n,s){return Mi(n,t.child,null,s),t=ec(n,n.pendingProps),t.flags|=2,wn(n),n.memoizedState=null,t}function ZE(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=ec(n,l),n.lanes=536870912,no(null,t);if(bf(n),(t=rt)?(t=C0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ta!==null?{id:Rr,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},s=Wg(t),s.return=n,n.child=s,Gt=n,rt=null)):t=null,t===null)throw Aa(n);return n.lanes=536870912,null}return ec(n,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=py(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(i(558));else if(Rt||ws(t,n,s,!1),h=(s&t.childLanes)!==0,Rt||h){if(l=et,l!==null&&(_=xl(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ri(t,_),pn(l,t,_),Bf;hc(),n=py(t,n,s)}else t=d.treeContext,rt=qn(_.nextSibling),Gt=n,ze=!0,xa=null,Bn=!1,t!==null&&np(n,t),n=ec(n,l),n.flags|=4096;return n}return t=qr(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Ff(t,n,s,l,h){return Ii(n),s=Tf(t,n,s,l,void 0,h),l=xf(),t!==null&&!Rt?(Af(t,n,h),Kr(t,n,h)):(ze&&l&&nf(n),n.flags|=1,$t(t,n,s,h),n.child)}function yy(t,n,s,l,h,d){return Ii(n),n.updateQueue=null,s=bp(n,l,s,h),vp(t),l=xf(),t!==null&&!Rt?(Af(t,n,d),Kr(t,n,d)):(ze&&l&&nf(n),n.flags|=1,$t(t,n,s,d),n.child)}function _y(t,n,s,l,h){if(Ii(n),n.stateNode===null){var d=Es,_=s.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},mf(n),_=s.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):Es,d.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Uf(n,s,_,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Lf.enqueueReplaceState(d,d.state,null),Zl(n,l,d,h),Xl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,k=zi(s,x);d.props=k;var F=d.context,Z=s.contextType;_=Es,typeof Z=="object"&&Z!==null&&(_=Qt(Z));var ee=s.getDerivedStateFromProps;Z=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||F!==_)&&ay(n,d,l,_),Sa=!1;var H=n.memoizedState;d.state=H,Zl(n,l,d,h),Xl(),F=n.memoizedState,x||H!==F||Sa?(typeof ee=="function"&&(Uf(n,s,ee,l),F=n.memoizedState),(k=Sa||ry(n,s,k,l,H,F,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=_,l=k):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,gf(t,n),_=n.memoizedProps,Z=zi(s,_),d.props=Z,ee=n.pendingProps,H=d.context,F=s.contextType,k=Es,typeof F=="object"&&F!==null&&(k=Qt(F)),x=s.getDerivedStateFromProps,(F=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||H!==k)&&ay(n,d,l,k),Sa=!1,H=n.memoizedState,d.state=H,Zl(n,l,d,h),Xl();var $=n.memoizedState;_!==ee||H!==$||Sa||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof x=="function"&&(Uf(n,s,x,l),$=n.memoizedState),(Z=Sa||ry(n,s,Z,l,H,$,k)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,k)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),d.props=l,d.state=$,d.context=k,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,tc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Mi(n,t.child,null,h),n.child=Mi(n,null,s,h)):$t(t,n,s,h),n.memoizedState=d.state,t=n.child):t=Kr(t,n,h),t}function vy(t,n,s,l){return Ni(),n.flags|=256,$t(t,n,s,l),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:op()}}function Gf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Rn),t}function by(t,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?Na(n):Da(),(t=rt)?(t=C0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ta!==null?{id:Rr,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},s=Wg(t),s.return=n,n.child=s,Gt=n,rt=null)):t=null,t===null)throw Aa(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Da(),h=n.mode,x=nc({mode:"hidden",children:x},h),l=Ci(l,h,s,null),x.return=n,l.return=n,x.sibling=l,n.child=x,l=n.child,l.memoizedState=Hf(s),l.childLanes=Gf(t,_,s),n.memoizedState=qf,no(null,l)):(Na(n),Qf(n,x))}var k=t.memoizedState;if(k!==null&&(x=k.dehydrated,x!==null)){if(d)n.flags&256?(Na(n),n.flags&=-257,n=$f(t,n,s)):n.memoizedState!==null?(Da(),n.child=t.child,n.flags|=128,n=null):(Da(),x=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),x=Ci(x,h,s,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,Mi(n,t.child,null,s),l=n.child,l.memoizedState=Hf(s),l.childLanes=Gf(t,_,s),n.memoizedState=qf,n=no(null,l));else if(Na(n),Rd(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(i(419)),l.stack="",l.digest=_,Hl({value:l,source:null,stack:null}),n=$f(t,n,s)}else if(Rt||ws(t,n,s,!1),_=(s&t.childLanes)!==0,Rt||_){if(_=et,_!==null&&(l=xl(_,s),l!==0&&l!==k.retryLane))throw k.retryLane=l,Ri(t,l),pn(_,t,l),Bf;Sd(x)||hc(),n=$f(t,n,s)}else Sd(x)?(n.flags|=192,n.child=t.child,n=null):(t=k.treeContext,rt=qn(x.nextSibling),Gt=n,ze=!0,xa=null,Bn=!1,t!==null&&np(n,t),n=Qf(n,l.children),n.flags|=4096);return n}return h?(Da(),x=l.fallback,h=n.mode,k=t.child,F=k.sibling,l=qr(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,F!==null?x=qr(F,x):(x=Ci(x,h,s,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,no(null,l),l=n.child,x=t.child.memoizedState,x===null?x=Hf(s):(h=x.cachePool,h!==null?(k=wt._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=op(),x={baseLanes:x.baseLanes|s,cachePool:h}),l.memoizedState=x,l.childLanes=Gf(t,_,s),n.memoizedState=qf,no(t.child,l)):(Na(n),s=t.child,t=s.sibling,s=qr(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=s,n.memoizedState=null,s)}function Qf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function $f(t,n,s){return Mi(n,t.child,null,s),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ey(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),of(t.return,n,s)}function Yf(t,n,s,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function Ty(t,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,x=(_&2)!==0;if(x?(_=_&1|2,n.flags|=128):_&=1,ae(yt,_),$t(t,n,l,s),l=ze?ql:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,s,n);else if(t.tag===19)Ey(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Hu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Yf(n,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Yf(n,!0,s,null,d,l);break;case"together":Yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Kr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Oa|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ws(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,s=qr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=qr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function JE(t,n,s){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),wa(n,wt,t.memoizedState.cache),Ni();break;case 27:case 5:ui(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:wa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Na(n),n.flags|=128,null):(s&n.child.childLanes)!==0?by(t,n,s):(Na(n),t=Kr(t,n,s),t!==null?t.sibling:null);Na(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ws(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Ty(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(yt,yt.current),l)break;return null;case 22:return n.lanes=0,my(t,n,s,n.pendingProps);case 24:wa(n,wt,t.memoizedState.cache)}return Kr(t,n,s)}function xy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rt=!0;else{if(!Kf(t,s)&&(n.flags&128)===0)return Rt=!1,JE(t,n,s);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(n.flags&1048576)!==0&&tp(n,ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Oi(n.elementType),n.type=t,typeof t=="function")Wh(t)?(l=zi(t,l),n.tag=1,n=_y(null,n,t,l,s)):(n.tag=0,n=Ff(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ce){n.tag=11,n=hy(null,n,t,l,s);break e}else if(h===D){n.tag=14,n=fy(null,n,t,l,s);break e}}throw n=xe(t)||t,Error(i(306,n,""))}}return n;case 0:return Ff(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=zi(l,n.pendingProps),_y(t,n,l,h,s);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(i(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,gf(t,n),Zl(n,l,null,s);var _=n.memoizedState;if(l=_.cache,wa(n,wt,l),l!==d.cache&&uf(n,[wt],s,!0),Xl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=vy(t,n,l,s);break e}else if(l!==h){h=Un(Error(i(424)),n),Hl(h),n=vy(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=qn(t.firstChild),Gt=n,ze=!0,xa=null,Bn=!0,s=mp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ni(),l===h){n=Kr(t,n,s);break e}$t(t,n,l,s)}n=n.child}return n;case 26:return tc(t,n),t===null?(s=V0(n.type,null,n.pendingProps,null))?n.memoizedState=s:ze||(s=n.type,t=n.pendingProps,l=_c(Ae.current).createElement(s),l[Tt]=n,l[Ut]=t,Yt(l,s,t),xt(l),n.stateNode=l):n.memoizedState=V0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ui(n),t===null&&ze&&(l=n.stateNode=I0(n.type,n.pendingProps,Ae.current),Gt=n,Bn=!0,h=rt,Ua(n.type)?(Cd=h,rt=qn(l.firstChild)):rt=h),$t(t,n,n.pendingProps.children,s),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=l=rt)&&(l=C2(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Gt=n,rt=qn(l.firstChild),Bn=!1,h=!0):h=!1),h||Aa(n)),ui(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,xd(h,d)?l=null:_!==null&&xd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,qE,null,null,s),_o._currentValue=h),tc(t,n),$t(t,n,l,s),n.child;case 6:return t===null&&ze&&((t=s=rt)&&(s=N2(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Gt=n,rt=null,t=!0):t=!1),t||Aa(n)),null;case 13:return by(t,n,s);case 4:return Ot(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Mi(n,null,l,s):$t(t,n,l,s),n.child;case 11:return hy(t,n,n.type,n.pendingProps,s);case 7:return $t(t,n,n.pendingProps,s),n.child;case 8:return $t(t,n,n.pendingProps.children,s),n.child;case 12:return $t(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,wa(n,n.type,l.value),$t(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ii(n),h=Qt(h),l=l(h),n.flags|=1,$t(t,n,l,s),n.child;case 14:return fy(t,n,n.type,n.pendingProps,s);case 15:return dy(t,n,n.type,n.pendingProps,s);case 19:return Ty(t,n,s);case 31:return ZE(t,n,s);case 22:return my(t,n,s,n.pendingProps);case 24:return Ii(n),l=Qt(wt),t===null?(h=ff(),h===null&&(h=et,d=cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},mf(n),wa(n,wt,h)):((t.lanes&s)!==0&&(gf(t,n),Zl(n,null,null,s),Xl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),wa(n,wt,l)):(l=d.cache,wa(n,wt,l),l!==h.cache&&uf(n,[wt],s,!0))),$t(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Xr(t){t.flags|=4}function Xf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xy())t.flags|=8192;else throw Vi=Pu,df}else t.flags&=-16777217}function Ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(n))if(Xy())t.flags|=8192;else throw Vi=Pu,df}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,zs|=n)}function ro(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function WE(t,n,s){var l=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qr(wt),lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(As(n)?Xr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),at(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Xr(n),d!==null?(at(n),Ay(n,d)):(at(n),Xf(n,h,null,l,s))):d?d!==t.memoizedState?(Xr(n),at(n),Ay(n,d)):(at(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xr(n),at(n),Xf(n,h,t,l,s)),null;case 27:if(ns(n),s=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Xr(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return at(n),null}t=ue.current,As(n)?rp(n):(t=I0(h,l,s),n.stateNode=t,Xr(n))}return at(n),null;case 5:if(ns(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Xr(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return at(n),null}if(d=ue.current,As(n))rp(n);else{var _=_c(Ae.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=n,d[Ut]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;e:switch(Yt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xr(n)}}return at(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Xr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(t=Ae.current,As(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||b0(t.nodeValue,s)),t||Aa(n,!0)}else t=_c(t).createTextNode(l),t[Tt]=n,n.stateNode=t}return at(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=As(n),s!==null){if(t===null){if(!l)throw Error(i(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Tt]=n}else Ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),t=!1}else s=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return at(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=As(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Tt]=n}else Ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),h=!1}else h=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),rc(n,n.updateQueue),at(n),null);case 4:return lt(),t===null&&_d(n.stateNode.containerInfo),at(n),null;case 10:return Qr(n.type),at(n),null;case 19:if(Y(yt),l=n.memoizedState,l===null)return at(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)ro(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Hu(t),d!==null){for(n.flags|=128,ro(l,!1),t=d.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Jg(s,t),s=s.sibling;return ae(yt,yt.current&1|2),ze&&Hr(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&an()>oc&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(n),null}else 2*an()-l.renderingStartTime>oc&&s!==536870912&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,s=yt.current,ae(yt,h?s&1|2:s&1),ze&&Hr(n,l.treeForkCount),t):(at(n),null);case 22:case 23:return wn(n),vf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),s=n.updateQueue,s!==null&&rc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(ki),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qr(wt),at(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function e2(t,n){switch(rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qr(wt),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ns(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(i(340));Ni()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(wn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ni()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(yt),null;case 4:return lt(),null;case 10:return Qr(n.type),null;case 22:case 23:return wn(n),vf(),t!==null&&Y(ki),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qr(wt),null;case 25:return null;default:return null}}function wy(t,n){switch(rf(n),n.tag){case 3:Qr(wt),lt();break;case 26:case 27:case 5:ns(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:Y(yt);break;case 10:Qr(n.type);break;case 22:case 23:wn(n),vf(),t!==null&&Y(ki);break;case 24:Qr(wt)}}function ao(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(x){Ke(n,n.return,x)}}function Ia(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=n;var k=s,F=x;try{F()}catch(Z){Ke(h,k,Z)}}}l=l.next}while(l!==d)}}catch(Z){Ke(n,n.return,Z)}}function Sy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{pp(n,s)}catch(l){Ke(t,t.return,l)}}}function Ry(t,n,s){s.props=zi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ke(t,n,l)}}function io(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Ke(t,n,h)}}function Nr(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Ke(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ke(t,n,h)}else s.current=null}function Cy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Ke(t,t.return,h)}}function Zf(t,n,s){try{var l=t.stateNode;T2(l,t.type,s,n),l[Ut]=n}catch(h){Ke(t,t.return,h)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ua(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Zn));else if(l!==4&&(l===27&&Ua(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,s),t=t.sibling;t!==null;)Wf(t,n,s),t=t.sibling}function ac(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ua(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ac(t,n,s),t=t.sibling;t!==null;)ac(t,n,s),t=t.sibling}function Dy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Yt(n,l,s),n[Tt]=t,n[Ut]=s}catch(d){Ke(t,t.return,d)}}var Zr=!1,Ct=!1,ed=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function t2(t,n){if(t=t.containerInfo,Ed=wc,t=qg(t),Qh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,x=-1,k=-1,F=0,Z=0,ee=t,H=null;t:for(;;){for(var $;ee!==s||h!==0&&ee.nodeType!==3||(x=_+h),ee!==d||l!==0&&ee.nodeType!==3||(k=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)H=ee,ee=$;for(;;){if(ee===t)break t;if(H===s&&++F===h&&(x=_),H===d&&++Z===l&&(k=_),($=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=$}s=x===-1||k===-1?null:{start:x,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Td={focusedElem:t,selectionRange:s},wc=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var fe=zi(s.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ke(s,s.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)wd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function ky(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Wr(t,s),l&4&&ao(5,s);break;case 1:if(Wr(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(_){Ke(s,s.return,_)}else{var h=zi(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(s,s.return,_)}}l&64&&Sy(s),l&512&&io(s,s.return);break;case 3:if(Wr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{pp(t,n)}catch(_){Ke(s,s.return,_)}}break;case 27:n===null&&l&4&&Dy(s);case 26:case 5:Wr(t,s),n===null&&l&4&&Cy(s),l&512&&io(s,s.return);break;case 12:Wr(t,s);break;case 31:Wr(t,s),l&4&&My(t,s);break;case 13:Wr(t,s),l&4&&jy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=c2.bind(null,s),D2(t,s))));break;case 22:if(l=s.memoizedState!==null||Zr,!l){n=n!==null&&n.memoizedState!==null||Ct,h=Zr;var d=Ct;Zr=l,(Ct=n)&&!d?ea(t,s,(s.subtreeFlags&8772)!==0):Wr(t,s),Zr=h,Ct=d}break;case 30:break;default:Wr(t,s)}}function Oy(t){var n=t.alternate;n!==null&&(t.alternate=null,Oy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ls(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,fn=!1;function Jr(t,n,s){for(s=s.child;s!==null;)Vy(t,n,s),s=s.sibling}function Vy(t,n,s){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:Ct||Nr(s,n),Jr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ct||Nr(s,n);var l=ut,h=fn;Ua(s.type)&&(ut=s.stateNode,fn=!1),Jr(t,n,s),go(s.stateNode),ut=l,fn=h;break;case 5:Ct||Nr(s,n);case 6:if(l=ut,h=fn,ut=null,Jr(t,n,s),ut=l,fn=h,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(d){Ke(s,n,d)}else try{ut.removeChild(s.stateNode)}catch(d){Ke(s,n,d)}break;case 18:ut!==null&&(fn?(t=ut,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Gs(t)):S0(ut,s.stateNode));break;case 4:l=ut,h=fn,ut=s.stateNode.containerInfo,fn=!0,Jr(t,n,s),ut=l,fn=h;break;case 0:case 11:case 14:case 15:Ia(2,s,n),Ct||Ia(4,s,n),Jr(t,n,s);break;case 1:Ct||(Nr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ry(s,n,l)),Jr(t,n,s);break;case 21:Jr(t,n,s);break;case 22:Ct=(l=Ct)||s.memoizedState!==null,Jr(t,n,s),Ct=l;break;default:Jr(t,n,s)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Gs(t)}catch(s){Ke(n,n.return,s)}}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gs(t)}catch(s){Ke(n,n.return,s)}}function n2(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Iy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Iy),n;default:throw Error(i(435,t.tag))}}function ic(t,n){var s=n2(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=h2.bind(null,t,l);l.then(h,h)}})}function dn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=n,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Ua(x.type)){ut=x.stateNode,fn=!1;break e}break;case 5:ut=x.stateNode,fn=!1;break e;case 3:case 4:ut=x.stateNode.containerInfo,fn=!0;break e}x=x.return}if(ut===null)throw Error(i(160));Vy(d,_,h),ut=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)zy(n,t),n=n.sibling}var rr=null;function zy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),l&4&&(Ia(3,t,t.return),ao(3,t),Ia(5,t,t.return));break;case 1:dn(n,t),mn(t),l&512&&(Ct||s===null||Nr(s,s.return)),l&64&&Zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=rr;if(dn(n,t),mn(t),l&512&&(Ct||s===null||Nr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gr]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,s),d[Tt]=t,xt(d),l=d;break e;case"link":var _=z0("link","href",h).get(l+(s.href||""));if(_){for(var x=0;x<_.length;x++)if(d=_[x],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(x,1);break t}}d=h.createElement(l),Yt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=z0("meta","content",h).get(l+(s.content||""))){for(x=0;x<_.length;x++)if(d=_[x],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(x,1);break t}}d=h.createElement(l),Yt(d,l,s),h.head.appendChild(d);break;default:throw Error(i(468,l))}d[Tt]=t,xt(d),l=d}t.stateNode=l}else U0(h,t.type,t.stateNode);else t.stateNode=j0(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?U0(h,t.type,t.stateNode):j0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,s.memoizedProps)}break;case 27:dn(n,t),mn(t),l&512&&(Ct||s===null||Nr(s,s.return)),s!==null&&l&4&&Zf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(dn(n,t),mn(t),l&512&&(Ct||s===null||Nr(s,s.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(fe){Ke(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(dn(n,t),mn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(fe){Ke(t,t.return,fe)}}break;case 3:if(Ec=null,h=rr,rr=vc(n.containerInfo),dn(n,t),rr=h,mn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Gs(n.containerInfo)}catch(fe){Ke(t,t.return,fe)}ed&&(ed=!1,Uy(t));break;case 4:l=rr,rr=vc(t.stateNode.containerInfo),dn(n,t),mn(t),rr=l;break;case 12:dn(n,t),mn(t);break;case 31:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lc=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:h=t.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,F=Zr,Z=Ct;if(Zr=F||h,Ct=Z||k,dn(n,t),Ct=Z,Zr=F,mn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||k||Zr||Ct||Ui(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){k=s=n;try{if(d=k.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=k.stateNode;var ee=k.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;x.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){Ke(k,k.return,fe)}}}else if(n.tag===6){if(s===null){k=n;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(fe){Ke(k,k.return,fe)}}}else if(n.tag===18){if(s===null){k=n;try{var $=k.stateNode;h?R0($,!0):R0(k.stateNode,!1)}catch(fe){Ke(k,k.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ic(t,s))));break;case 19:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Ny(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var h=s.stateNode,d=Jf(t);ac(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(hn(_,""),s.flags&=-33);var x=Jf(t);ac(t,x,_);break;case 3:case 4:var k=s.stateNode.containerInfo,F=Jf(t);Wf(t,F,k);break;default:throw Error(i(161))}}catch(Z){Ke(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ky(t,n.alternate,n),n=n.sibling}function Ui(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ia(4,n,n.return),Ui(n);break;case 1:Nr(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ry(n,n.return,s),Ui(n);break;case 27:go(n.stateNode);case 26:case 5:Nr(n,n.return),Ui(n);break;case 22:n.memoizedState===null&&Ui(n);break;case 30:Ui(n);break;default:Ui(n)}t=t.sibling}}function ea(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:ea(h,d,s),ao(4,d);break;case 1:if(ea(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ke(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)gp(k[h],x)}catch(F){Ke(l,l.return,F)}}s&&_&64&&Sy(d),io(d,d.return);break;case 27:Dy(d);case 26:case 5:ea(h,d,s),s&&l===null&&_&4&&Cy(d),io(d,d.return);break;case 12:ea(h,d,s);break;case 31:ea(h,d,s),s&&_&4&&My(h,d);break;case 13:ea(h,d,s),s&&_&4&&jy(h,d);break;case 22:d.memoizedState===null&&ea(h,d,s),io(d,d.return);break;case 30:break;default:ea(h,d,s)}n=n.sibling}}function td(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Gl(s))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t))}function ar(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,s,l),n=n.sibling}function Ly(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ar(t,n,s,l),h&2048&&ao(9,n);break;case 1:ar(t,n,s,l);break;case 3:ar(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t)));break;case 12:if(h&2048){ar(t,n,s,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,x=d.onPostCommit;typeof x=="function"&&x(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Ke(n,n.return,k)}}else ar(t,n,s,l);break;case 31:ar(t,n,s,l);break;case 13:ar(t,n,s,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?ar(t,n,s,l):so(t,n):d._visibility&2?ar(t,n,s,l):(d._visibility|=2,Vs(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(_,n);break;case 24:ar(t,n,s,l),h&2048&&nd(n.alternate,n);break;default:ar(t,n,s,l)}}function Vs(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,_=n,x=s,k=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Vs(d,_,x,k,h),ao(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Vs(d,_,x,k,h):so(d,_):(Z._visibility|=2,Vs(d,_,x,k,h)),h&&F&2048&&td(_.alternate,_);break;case 24:Vs(d,_,x,k,h),h&&F&2048&&nd(_.alternate,_);break;default:Vs(d,_,x,k,h)}n=n.sibling}}function so(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:so(s,l),h&2048&&td(l.alternate,l);break;case 24:so(s,l),h&2048&&nd(l.alternate,l);break;default:so(s,l)}n=n.sibling}}var lo=8192;function Ms(t,n,s){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)Py(t,n,s),t=t.sibling}function Py(t,n,s){switch(t.tag){case 26:Ms(t,n,s),t.flags&lo&&t.memoizedState!==null&&F2(s,rr,t.memoizedState,t.memoizedProps);break;case 5:Ms(t,n,s);break;case 3:case 4:var l=rr;rr=vc(t.stateNode.containerInfo),Ms(t,n,s),rr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,Ms(t,n,s),lo=l):Ms(t,n,s));break;default:Ms(t,n,s)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Pt=l,qy(l,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&Ia(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):oo(t);break;default:oo(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Pt=l,qy(l,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ia(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function qy(t,n){for(;Pt!==null;){var s=Pt;switch(s.tag){case 0:case 11:case 15:Ia(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Pt=l;else e:for(s=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Oy(l),l===s){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var r2={getCacheForType:function(t){var n=Qt(wt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Qt(wt).controller.signal}},a2=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ie=null,Oe=0,Ye=0,Sn=null,ka=!1,js=!1,rd=!1,ta=0,ft=0,Oa=0,Li=0,ad=0,Rn=0,zs=0,uo=null,gn=null,id=!1,lc=0,Hy=0,oc=1/0,uc=null,Va=null,Mt=0,Ma=null,Us=null,na=0,sd=0,ld=null,Gy=null,co=0,od=null;function Cn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:K.T!==null?md():cu()}function Qy(){if(Rn===0)if((Oe&536870912)===0||ze){var t=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),Rn=t}else Rn=536870912;return t=An.current,t!==null&&(t.flags|=32),Rn}function pn(t,n,s){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ls(t,0),ja(t,Oe,Rn,!1)),di(t,s),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Li|=s),ft===4&&ja(t,Oe,Rn,!1)),Dr(t))}function $y(t,n,s){if((Ge&6)!==0)throw Error(i(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Yn(t,n),h=l?l2(t,n):cd(t,n,!0),d=l;do{if(h===0){js&&!l&&ja(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!i2(s)){h=cd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var x=t;h=uo;var k=x.current.memoizedState.isDehydrated;if(k&&(Ls(x,_).flags|=256),_=cd(x,_,!1),_!==2){if(rd&&!k){x.errorRecoveryDisabledLanes|=d,Li|=d,h=4;break e}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ls(t,0),ja(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:ja(l,n,Rn,!ka);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(h=lc+300-an(),10<h)){if(ja(l,n,Rn,!ka),fr(l,0,!0)!==0)break e;na=n,l.timeoutHandle=A0(Yy.bind(null,l,s,gn,uc,id,n,Rn,Li,zs,ka,d,"Throttled",-0,0),h);break e}Yy(l,s,gn,uc,id,n,Rn,Li,zs,ka,d,null,-0,0)}}break}while(!0);Dr(t)}function Yy(t,n,s,l,h,d,_,x,k,F,Z,ee,H,$){if(t.timeoutHandle=-1,ee=n.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Py(n,d,ee);var fe=(d&62914560)===d?lc-an():(d&4194048)===d?Hy-an():0;if(fe=q2(ee,fe),fe!==null){na=d,t.cancelPendingCommit=fe(n0.bind(null,t,n,d,s,l,h,_,x,k,Z,ee,null,H,$)),ja(t,d,_,!F);return}}n0(t,n,d,s,l,h,_,x,k)}function i2(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ja(t,n,s,l){n&=~ad,n&=~Li,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-gt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&mi(t,s,n)}function cc(){return(Ge&6)===0?(ho(0),!1):!0}function ud(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,Gr=Di=null,wf(t),Ns=null,$l=0,t=Ie;for(;t!==null;)wy(t.alternate,t),t=t.return;Ie=null}}function Ls(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,w2(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),na=0,ud(),et=t,Ie=s=qr(t.current,null),Oe=n,Ye=0,Sn=null,ka=!1,js=Yn(t,n),rd=!1,zs=Rn=ad=Li=Oa=ft=0,gn=uo=null,id=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-gt(l),d=1<<h;n|=t[h],l&=~d}return ta=n,Iu(),s}function Ky(t,n){Ne=null,K.H=to,n===Cs||n===Lu?(n=hp(),Ye=3):n===df?(n=hp(),Ye=4):Ye=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Ie===null&&(ft=1,Wu(t,Un(n,t.current)))}function Xy(){var t=An.current;return t===null?!0:(Oe&4194048)===Oe?Fn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Fn:!1}function Zy(){var t=K.H;return K.H=to,t===null?to:t}function Jy(){var t=K.A;return K.A=r2,t}function hc(){ft=4,ka||(Oe&4194048)!==Oe&&An.current!==null||(js=!0),(Oa&134217727)===0&&(Li&134217727)===0||et===null||ja(et,Oe,Rn,!1)}function cd(t,n,s){var l=Ge;Ge|=2;var h=Zy(),d=Jy();(et!==t||Oe!==n)&&(uc=null,Ls(t,n)),n=!1;var _=ft;e:do try{if(Ye!==0&&Ie!==null){var x=Ie,k=Sn;switch(Ye){case 8:ud(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var F=Ye;if(Ye=0,Sn=null,Ps(t,x,k,F),s&&js){_=0;break e}break;default:F=Ye,Ye=0,Sn=null,Ps(t,x,k,F)}}s2(),_=ft;break}catch(Z){Ky(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Gr=Di=null,Ge=l,K.H=h,K.A=d,Ie===null&&(et=null,Oe=0,Iu()),_}function s2(){for(;Ie!==null;)Wy(Ie)}function l2(t,n){var s=Ge;Ge|=2;var l=Zy(),h=Jy();et!==t||Oe!==n?(uc=null,oc=an()+500,Ls(t,n)):js=Yn(t,n);e:do try{if(Ye!==0&&Ie!==null){n=Ie;var d=Sn;t:switch(Ye){case 1:Ye=0,Sn=null,Ps(t,n,d,1);break;case 2:case 9:if(up(d)){Ye=0,Sn=null,e0(n);break}n=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Dr(t)},d.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:up(d)?(Ye=0,Sn=null,e0(n)):(Ye=0,Sn=null,Ps(t,n,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var x=Ie;if(_?L0(_):x.stateNode.complete){Ye=0,Sn=null;var k=x.sibling;if(k!==null)Ie=k;else{var F=x.return;F!==null?(Ie=F,fc(F)):Ie=null}break t}}Ye=0,Sn=null,Ps(t,n,d,5);break;case 6:Ye=0,Sn=null,Ps(t,n,d,6);break;case 8:ud(),ft=6;break e;default:throw Error(i(462))}}o2();break}catch(Z){Ky(t,Z)}while(!0);return Gr=Di=null,K.H=l,K.A=h,Ge=s,Ie!==null?0:(et=null,Oe=0,Iu(),ft)}function o2(){for(;Ie!==null&&!Lh();)Wy(Ie)}function Wy(t){var n=xy(t.alternate,t,ta);t.memoizedProps=t.pendingProps,n===null?fc(t):Ie=n}function e0(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=yy(s,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=yy(s,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:wf(n);default:wy(s,n),n=Ie=Jg(n,ta),n=xy(s,n,ta)}t.memoizedProps=t.pendingProps,n===null?fc(t):Ie=n}function Ps(t,n,s,l){Gr=Di=null,wf(n),Ns=null,$l=0;var h=n.return;try{if(XE(t,h,n,s,Oe)){ft=1,Wu(t,Un(s,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;ft=1,Wu(t,Un(s,t.current)),Ie=null;return}n.flags&32768?(ze||l===1?t=!0:js||(Oe&536870912)!==0?t=!1:(ka=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),t0(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){t0(n,ka);return}t=n.return;var s=WE(n.alternate,n,ta);if(s!==null){Ie=s;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=t}while(n!==null);ft===0&&(ft=5)}function t0(t,n){do{var s=e2(t.alternate,t);if(s!==null){s.flags&=32767,Ie=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=s}while(t!==null);ft=6,Ie=null}function n0(t,n,s,l,h,d,_,x,k){t.cancelPendingCommit=null;do dc();while(Mt!==0);if((Ge&6)!==0)throw Error(i(327));if(n!==null){if(n===t.current)throw Error(i(177));if(d=n.lanes|n.childLanes,d|=Zh,Fh(t,s,d,_,x,k),t===et&&(Ie=et=null,Oe=0),Us=n,Ma=t,na=s,sd=d,ld=h,Gy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,f2(fa,function(){return l0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=oe.p,oe.p=2,_=Ge,Ge|=4;try{t2(t,n,s)}finally{Ge=_,oe.p=h,K.T=l}}Mt=1,r0(),a0(),i0()}}function r0(){if(Mt===1){Mt=0;var t=Ma,n=Us,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{zy(n,t);var d=Td,_=qg(t.containerInfo),x=d.focusedElem,k=d.selectionRange;if(_!==x&&x&&x.ownerDocument&&Fg(x.ownerDocument.documentElement,x)){if(k!==null&&Qh(x)){var F=k.start,Z=k.end;if(Z===void 0&&(Z=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(Z,x.value.length);else{var ee=x.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var $=H.getSelection(),fe=x.textContent.length,be=Math.min(k.start,fe),We=k.end===void 0?be:Math.min(k.end,fe);!$.extend&&be>We&&(_=We,We=be,be=_);var L=Bg(x,be),M=Bg(x,We);if(L&&M&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),$.removeAllRanges(),be>We?($.addRange(B),$.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),$.addRange(B))}}}}for(ee=[],$=x;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ee.length;x++){var W=ee[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}wc=!!Ed,Td=Ed=null}finally{Ge=h,oe.p=l,K.T=s}}t.current=n,Mt=2}}function a0(){if(Mt===2){Mt=0;var t=Ma,n=Us,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{ky(t,n.alternate,n)}finally{Ge=h,oe.p=l,K.T=s}}Mt=3}}function i0(){if(Mt===4||Mt===3){Mt=0,ru();var t=Ma,n=Us,s=na,l=Gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Us=Ma=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Va=null),Lr(s),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=oe.p,oe.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var x=l[_];d(x.value,{componentStack:x.stack})}}finally{K.T=n,oe.p=h}}(na&3)!==0&&dc(),Dr(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===od?co++:(co=0,od=t):co=0,ho(0)}}function s0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Gl(n)))}function dc(){return r0(),a0(),i0(),l0()}function l0(){if(Mt!==5)return!1;var t=Ma,n=sd;sd=0;var s=Lr(na),l=K.T,h=oe.p;try{oe.p=32>s?32:s,K.T=null,s=ld,ld=null;var d=Ma,_=na;if(Mt=0,Us=Ma=null,na=0,(Ge&6)!==0)throw Error(i(331));var x=Ge;if(Ge|=4,Fy(d.current),Ly(d,d.current,_,s),Ge=x,ho(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{oe.p=h,K.T=l,s0(t,n)}}function o0(t,n,s){n=Un(s,n),n=Pf(t.stateNode,n,2),t=Ca(t,n,2),t!==null&&(di(t,2),Dr(t))}function Ke(t,n,s){if(t.tag===3)o0(t,t,s);else for(;n!==null;){if(n.tag===3){o0(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Va===null||!Va.has(l))){t=Un(s,t),s=uy(2),l=Ca(n,s,2),l!==null&&(cy(s,l,n,t),di(l,2),Dr(l));break}}n=n.return}}function hd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new a2;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(rd=!0,h.add(s),t=u2.bind(null,t,n,s),n.then(t,t))}function u2(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,et===t&&(Oe&s)===s&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>an()-lc?(Ge&2)===0&&Ls(t,0):ad|=s,zs===Oe&&(zs=0)),Dr(t)}function u0(t,n){n===0&&(n=uu()),t=Ri(t,n),t!==null&&(di(t,n),Dr(t))}function c2(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),u0(t,s)}function h2(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),u0(t,s)}function f2(t,n){return Vt(t,n)}var mc=null,Bs=null,fd=!1,gc=!1,dd=!1,za=0;function Dr(t){t!==Bs&&t.next===null&&(Bs===null?mc=Bs=t:Bs=Bs.next=t),gc=!0,fd||(fd=!0,m2())}function ho(t,n){if(!dd&&gc){dd=!0;do for(var s=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(_&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,d0(l,d))}else d=Oe,d=fr(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(s=!0,d0(l,d));l=l.next}while(s);dd=!1}}function d2(){c0()}function c0(){gc=fd=!1;var t=0;za!==0&&A2()&&(t=za);for(var n=an(),s=null,l=mc;l!==null;){var h=l.next,d=h0(l,n);d===0?(l.next=null,s===null?mc=h:s.next=h,h===null&&(Bs=s)):(s=l,(t!==0||(d&3)!==0)&&(gc=!0)),l=h}Mt!==0&&Mt!==5||ho(t),za!==0&&(za=0)}function h0(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),x=1<<_,k=h[_];k===-1?((x&s)===0||(x&l)!==0)&&(h[_]=Bh(x,n)):k<=n&&(t.expiredLanes|=x),d&=~x}if(n=et,s=Oe,s=fr(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Yn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ha(l),Lr(s)){case 2:case 8:s=El;break;case 32:s=fa;break;case 268435456:s=au;break;default:s=fa}return l=f0.bind(null,t),s=Vt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ha(l),t.callbackPriority=2,t.callbackNode=null,2}function f0(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(dc()&&t.callbackNode!==s)return null;var l=Oe;return l=fr(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($y(t,l,n),h0(t,an()),t.callbackNode!=null&&t.callbackNode===s?f0.bind(null,t):null)}function d0(t,n){if(dc())return null;$y(t,n,!0)}function m2(){S2(function(){(Ge&6)!==0?Vt(bl,d2):c0()})}function md(){if(za===0){var t=Ss;t===0&&(t=cr,cr<<=1,(cr&261888)===0&&(cr=256)),za=t}return za}function m0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hs(""+t)}function g0(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function g2(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=m0((h[Ut]||null).action),_=l.submitter;_&&(n=(n=_[Ut]||null)?m0(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var x=new xr("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(za!==0){var k=_?g0(h,_):new FormData(h);Vf(s,{pending:!0,data:k,method:h.method,action:d},null,k)}}else typeof d=="function"&&(x.preventDefault(),k=_?g0(h,_):new FormData(h),Vf(s,{pending:!0,data:k,method:h.method,action:d},d,k))},currentTarget:h}]})}}for(var gd=0;gd<Xh.length;gd++){var pd=Xh[gd],p2=pd.toLowerCase(),y2=pd[0].toUpperCase()+pd.slice(1);nr(p2,"on"+y2)}nr(Qg,"onAnimationEnd"),nr($g,"onAnimationIteration"),nr(Yg,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(OE,"onTransitionRun"),nr(VE,"onTransitionStart"),nr(ME,"onTransitionCancel"),nr(Kg,"onTransitionEnd"),vr("onMouseEnter",["mouseout","mouseover"]),vr("onMouseLeave",["mouseout","mouseover"]),vr("onPointerEnter",["pointerout","pointerover"]),vr("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function p0(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var x=l[_],k=x.instance,F=x.currentTarget;if(x=x.listener,k!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=F;try{d(h)}catch(Z){Du(Z)}h.currentTarget=null,d=k}else for(_=0;_<l.length;_++){if(x=l[_],k=x.instance,F=x.currentTarget,x=x.listener,k!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=F;try{d(h)}catch(Z){Du(Z)}h.currentTarget=null,d=k}}}}function ke(t,n){var s=n[ss];s===void 0&&(s=n[ss]=new Set);var l=t+"__bubble";s.has(l)||(y0(n,t,2,!1),s.add(l))}function yd(t,n,s){var l=0;n&&(l|=4),y0(s,t,l,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[pc]){t[pc]=!0,Al.forEach(function(s){s!=="selectionchange"&&(_2.has(s)||yd(s,!1,t),yd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pc]||(n[pc]=!0,yd("selectionchange",!1,n))}}function y0(t,n,s,l){switch(Q0(n)){case 2:var h=Q2;break;case 8:h=$2;break;default:h=Od}s=h.bind(null,n,s,t),h=void 0,!vi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function vd(t,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var x=l.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=l.return;_!==null;){var k=_.tag;if((k===3||k===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=pr(x),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){l=d=_;continue e}x=x.parentNode}}l=l.return}_a(function(){var F=d,Z=Vn(s),ee=[];e:{var H=Xg.get(t);if(H!==void 0){var $=xr,fe=t;switch(t){case"keypress":if(Ei(s)===0)break e;case"keydown":case"keyup":$=Ru;break;case"focusin":fe="focus",$=xi;break;case"focusout":fe="blur",$=xi;break;case"beforeblur":case"afterblur":$=xi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=p;break;case Qg:case $g:case Yg:$=bu;break;case Kg:$=w;break;case"scroll":case"scrollend":$=jl;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Fr;break;case"toggle":case"beforetoggle":$=Ce}var be=(n&4)!==0,We=!be&&(t==="scroll"||t==="scrollend"),L=be?H!==null?H+"Capture":null:H;be=[];for(var M=F,B;M!==null;){var W=M;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||L===null||(W=Jn(M,L),W!=null&&be.push(mo(M,W,B))),We)break;M=M.return}0<be.length&&(H=new $(H,fe,null,s,Z),ee.push({event:H,listeners:be}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",H&&s!==Ol&&(fe=s.relatedTarget||s.fromElement)&&(pr(fe)||fe[mr]))break e;if(($||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,$?(fe=s.relatedTarget||s.toElement,$=F,fe=fe?pr(fe):null,fe!==null&&(We=u(fe),be=fe.tag,fe!==We||be!==5&&be!==27&&be!==6)&&(fe=null)):($=null,fe=F),$!==fe)){if(be=zl,W="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(be=Fr,W="onPointerLeave",L="onPointerEnter",M="pointer"),We=$==null?H:bn($),B=fe==null?H:bn(fe),H=new be(W,M+"leave",$,s,Z),H.target=We,H.relatedTarget=B,W=null,pr(Z)===F&&(be=new be(L,M+"enter",fe,s,Z),be.target=B,be.relatedTarget=We,W=be),We=W,$&&fe)t:{for(be=v2,L=$,M=fe,B=0,W=L;W;W=be(W))B++;W=0;for(var ye=M;ye;ye=be(ye))W++;for(;0<B-W;)L=be(L),B--;for(;0<W-B;)M=be(M),W--;for(;B--;){if(L===M||M!==null&&L===M.alternate){be=L;break t}L=be(L),M=be(M)}be=null}else be=null;$!==null&&_0(ee,H,$,be,!1),fe!==null&&We!==null&&_0(ee,We,fe,be,!0)}}e:{if(H=F?bn(F):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var Fe=Mg;else if(Og(H))if(jg)Fe=DE;else{Fe=CE;var me=RE}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&cs(F.elementType)&&(Fe=Mg):Fe=NE;if(Fe&&(Fe=Fe(t,F))){Vg(ee,Fe,s,Z);break e}me&&me(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Dl(H,"number",H.value)}switch(me=F?bn(F):window,t){case"focusin":(Og(me)||me.contentEditable==="true")&&(_s=me,$h=F,Fl=null);break;case"focusout":Fl=$h=_s=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Hg(ee,s,Z);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":Hg(ee,s,Z)}var De;if(He)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ys?Ai(t,s)&&(Ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ve="onCompositionStart");Ve&&(Sr&&s.locale!=="ko"&&(ys||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ys&&(De=Ml()):(Tr=Z,Vl="value"in Tr?Tr.value:Tr.textContent,ys=!0)),me=yc(F,Ve),0<me.length&&(Ve=new wr(Ve,t,null,s,Z),ee.push({event:Ve,listeners:me}),De?Ve.data=De:(De=ps(s),De!==null&&(Ve.data=De)))),(De=jn?xE(t,s):AE(t,s))&&(Ve=yc(F,"onBeforeInput"),0<Ve.length&&(me=new wr("onBeforeInput","beforeinput",null,s,Z),ee.push({event:me,listeners:Ve}),me.data=De)),g2(ee,t,F,s,Z)}p0(ee,n)})}function mo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function yc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jn(t,s),h!=null&&l.unshift(mo(t,h,d)),h=Jn(t,n),h!=null&&l.push(mo(t,h,d))),t.tag===3)return l;t=t.return}return[]}function v2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _0(t,n,s,l,h){for(var d=n._reactName,_=[];s!==null&&s!==l;){var x=s,k=x.alternate,F=x.stateNode;if(x=x.tag,k!==null&&k===l)break;x!==5&&x!==26&&x!==27||F===null||(k=F,h?(F=Jn(s,d),F!=null&&_.unshift(mo(s,F,k))):h||(F=Jn(s,d),F!=null&&_.push(mo(s,F,k)))),s=s.return}_.length!==0&&t.push({event:n,listeners:_})}var b2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function v0(t){return(typeof t=="string"?t:""+t).replace(b2,`
`).replace(E2,"")}function b0(t,n){return n=v0(n),v0(t)===n}function Je(t,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,s,l);break;case"style":kl(t,l,d);break;case"data":if(n!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=hs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=hs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=hs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),os(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":os(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yu.get(s)||s,os(t,s,l))}}function bd(t,n,s,l,h,d){switch(s){case"style":kl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=t[Ut]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):os(t,s,l)}}}function Yt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Je(t,n,d,_,s,null)}}h&&Je(t,n,"srcSet",s.srcSet,s,null),l&&Je(t,n,"src",s.src,s,null);return;case"input":ke("invalid",t);var x=d=_=h=null,k=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":k=Z;break;case"defaultChecked":F=Z;break;case"value":d=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,n));break;default:Je(t,n,l,Z,s,null)}}mu(t,d,x,k,F,_,h,!1);return;case"select":ke("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":_=x;break;case"multiple":l=x;default:Je(t,n,h,x,s,null)}n=d,s=_,t.multiple=!!l,n!=null?ma(t,!!l,n,!1):s!=null&&ma(t,!!l,s,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(x=s[_],x!=null))switch(_){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Je(t,n,_,x,s,null)}ga(t,l,h,d);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,n,k,l,s,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<fo.length;l++)ke(fo[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Je(t,n,F,l,s,null)}return;default:if(cs(n)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&bd(t,n,Z,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&Je(t,n,x,l,s,null))}function T2(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,x=null,k=null,F=null,Z=null;for($ in s){var ee=s[$];if(s.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":k=ee;default:l.hasOwnProperty($)||Je(t,n,$,null,l,ee)}}for(var H in l){var $=l[H];if(ee=s[H],l.hasOwnProperty(H)&&($!=null||ee!=null))switch(H){case"type":d=$;break;case"name":h=$;break;case"checked":F=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,n));break;default:$!==ee&&Je(t,n,H,$,l,ee)}}us(t,_,x,k,F,Z,d,h);return;case"select":$=_=x=H=null;for(d in s)if(k=s[d],s.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":$=k;default:l.hasOwnProperty(d)||Je(t,n,d,null,l,k)}for(h in l)if(d=l[h],k=s[h],l.hasOwnProperty(h)&&(d!=null||k!=null))switch(h){case"value":H=d;break;case"defaultValue":x=d;break;case"multiple":_=d;default:d!==k&&Je(t,n,h,d,l,k)}n=x,s=_,l=$,H!=null?ma(t,!!s,H,!1):!!l!=!!s&&(n!=null?ma(t,!!s,n,!0):ma(t,!!s,s?[]:"",!1));return;case"textarea":$=H=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Je(t,n,x,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&Je(t,n,_,h,l,d)}gu(t,H,$);return;case"option":for(var fe in s)if(H=s[fe],s.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Je(t,n,fe,null,l,H)}for(k in l)if(H=l[k],$=s[k],l.hasOwnProperty(k)&&H!==$&&(H!=null||$!=null))switch(k){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(t,n,k,H,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)H=s[be],s.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be)&&Je(t,n,be,null,l,H);for(F in l)if(H=l[F],$=s[F],l.hasOwnProperty(F)&&H!==$&&(H!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:Je(t,n,F,H,l,$)}return;default:if(cs(n)){for(var We in s)H=s[We],s.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&bd(t,n,We,void 0,l,H);for(Z in l)H=l[Z],$=s[Z],!l.hasOwnProperty(Z)||H===$||H===void 0&&$===void 0||bd(t,n,Z,H,l,$);return}}for(var L in s)H=s[L],s.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Je(t,n,L,null,l,H);for(ee in l)H=l[ee],$=s[ee],!l.hasOwnProperty(ee)||H===$||H==null&&$==null||Je(t,n,ee,H,l,$)}function E0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,_=h.initiatorType,x=h.duration;if(d&&x&&E0(_)){for(_=0,x=h.responseEnd,l+=1;l<s.length;l++){var k=s[l],F=k.startTime;if(F>x)break;var Z=k.transferSize,ee=k.initiatorType;Z&&E0(ee)&&(k=k.responseEnd,_+=Z*(k<x?1:(x-F)/(k-F)))}if(--l,n+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function T0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function A2(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(R2)}:A0;function R2(t){setTimeout(function(){throw t})}function Ua(t){return t==="head"}function S0(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Gs(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")go(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,go(s);for(var d=s.firstChild;d;){var _=d.nextSibling,x=d.nodeName;d[gr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&go(t.ownerDocument.body);s=h}while(s);Gs(n)}function R0(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wd(s),ls(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function C2(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function N2(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function C0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=qn(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function D2(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cd=null;function N0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return qn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function D0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function I0(t,n,s){switch(n=_c(s),t){case"html":if(t=n.documentElement,!t)throw Error(i(452));return t;case"head":if(t=n.head,!t)throw Error(i(453));return t;case"body":if(t=n.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function go(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ls(t)}var Hn=new Map,k0=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ra=oe.d;oe.d={f:I2,r:k2,D:O2,C:V2,L:M2,m:j2,X:U2,S:z2,M:L2};function I2(){var t=ra.f(),n=cc();return t||n}function k2(t){var n=On(t);n!==null&&n.tag===5&&n.type==="form"?Kp(n):ra.r(t)}var Fs=typeof document>"u"?null:document;function O0(t,n,s){var l=Fs;if(l&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),k0.has(h)||(k0.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Yt(n,"link",t),xt(n),l.head.appendChild(n)))}}function O2(t){ra.D(t),O0("dns-prefetch",t,null)}function V2(t,n){ra.C(t,n),O0("preconnect",t,n)}function M2(t,n,s){ra.L(t,n,s);var l=Fs;if(l&&t&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+cn(s.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var d=h;switch(n){case"style":d=qs(t);break;case"script":d=Hs(t)}Hn.has(d)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Hn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(po(d))||n==="script"&&l.querySelector(yo(d))||(n=l.createElement("link"),Yt(n,"link",t),xt(n),l.head.appendChild(n)))}}function j2(t,n){ra.m(t,n);var s=Fs;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Hs(t)}if(!Hn.has(d)&&(t=T({rel:"modulepreload",href:t},n),Hn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yo(d)))return}l=s.createElement("link"),Yt(l,"link",t),xt(l),s.head.appendChild(l)}}}function z2(t,n,s){ra.S(t,n,s);var l=Fs;if(l&&t){var h=yr(l).hoistableStyles,d=qs(t);n=n||"default";var _=h.get(d);if(!_){var x={loading:0,preload:null};if(_=l.querySelector(po(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Hn.get(d))&&Nd(t,s);var k=_=l.createElement("link");xt(k),Yt(k,"link",t),k._p=new Promise(function(F,Z){k.onload=F,k.onerror=Z}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,bc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(d,_)}}}function U2(t,n){ra.X(t,n);var s=Fs;if(s&&t){var l=yr(s).hoistableScripts,h=Hs(t),d=l.get(h);d||(d=s.querySelector(yo(h)),d||(t=T({src:t,async:!0},n),(n=Hn.get(h))&&Dd(t,n),d=s.createElement("script"),xt(d),Yt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function L2(t,n){ra.M(t,n);var s=Fs;if(s&&t){var l=yr(s).hoistableScripts,h=Hs(t),d=l.get(h);d||(d=s.querySelector(yo(h)),d||(t=T({src:t,async:!0,type:"module"},n),(n=Hn.get(h))&&Dd(t,n),d=s.createElement("script"),xt(d),Yt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V0(t,n,s,l){var h=(h=Ae.current)?vc(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=qs(s.href),s=yr(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=qs(s.href);var d=yr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(po(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(t,s),d||P2(h,t,s,_.state))),n&&l===null)throw Error(i(528,""));return _}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Hs(s),s=yr(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function qs(t){return'href="'+cn(t)+'"'}function po(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function P2(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Yt(n,"link",s),xt(n),t.head.appendChild(n))}function Hs(t){return'[src="'+cn(t)+'"]'}function yo(t){return"script[async]"+t}function j0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+cn(s.href)+'"]');if(l)return n.instance=l,xt(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Yt(l,"style",h),bc(l,s.precedence,t),n.instance=l;case"stylesheet":h=qs(s.href);var d=t.querySelector(po(h));if(d)return n.state.loading|=4,n.instance=d,xt(d),d;l=M0(s),(h=Hn.get(h))&&Nd(l,h),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(x,k){_.onload=x,_.onerror=k}),Yt(d,"link",l),n.state.loading|=4,bc(d,s.precedence,t),n.instance=d;case"script":return d=Hs(s.src),(h=t.querySelector(yo(d)))?(n.instance=h,xt(h),h):(l=s,(h=Hn.get(d))&&(l=T({},s),Dd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Yt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,s.precedence,t));return n.instance}function bc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var x=l[_];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function z0(t,n,s){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(s,l)}else h=Ec,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[gr]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var x=l.get(_);x?x.push(d):l.set(_,[d])}}return l}function U0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function B2(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function F2(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=qs(l.href),d=n.querySelector(po(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=d,xt(d);return}d=n.ownerDocument||n,l=M0(l),(h=Hn.get(h))&&Nd(l,h),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(x,k){_.onload=x,_.onerror=k}),Yt(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Tc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Id=0;function q2(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*x2());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(H2,t),xc=null,Tc.call(t))}function H2(t,n){if(!(n.state.loading&4)){var s=xc.get(t);if(s)var l=s.get(null);else{s=new Map,xc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _o={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function G2(t,n,s,l,h,d,_,x,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function P0(t,n,s,l,h,d,_,x,k,F,Z,ee){return t=new G2(t,n,s,_,k,F,Z,ee,x),n=1,d===!0&&(n|=24),d=xn(3,null,null,n),t.current=d,d.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},mf(d),t}function B0(t){return t?(t=Es,t):Es}function F0(t,n,s,l,h,d){h=B0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ra(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ca(t,l,n),s!==null&&(pn(s,t,n),Kl(s,t,n))}function q0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function kd(t,n){q0(t,n),(t=t.alternate)&&q0(t,n)}function H0(t){if(t.tag===13||t.tag===31){var n=Ri(t,67108864);n!==null&&pn(n,t,67108864),kd(t,67108864)}}function G0(t){if(t.tag===13||t.tag===31){var n=Cn();n=gi(n);var s=Ri(t,n);s!==null&&pn(s,t,n),kd(t,n)}}var wc=!0;function Q2(t,n,s,l){var h=K.T;K.T=null;var d=oe.p;try{oe.p=2,Od(t,n,s,l)}finally{oe.p=d,K.T=h}}function $2(t,n,s,l){var h=K.T;K.T=null;var d=oe.p;try{oe.p=8,Od(t,n,s,l)}finally{oe.p=d,K.T=h}}function Od(t,n,s,l){if(wc){var h=Vd(l);if(h===null)vd(t,n,l,Sc,s),$0(t,l);else if(K2(h,t,n,s,l))l.stopPropagation();else if($0(t,l),n&4&&-1<Y2.indexOf(t)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hr(d.pendingLanes);if(_!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var k=1<<31-gt(_);x.entanglements[1]|=k,_&=~k}Dr(d),(Ge&6)===0&&(oc=an()+500,ho(0))}}break;case 31:case 13:x=Ri(d,2),x!==null&&pn(x,d,2),cc(),kd(d,2)}if(d=Vd(l),d===null&&vd(t,n,l,Sc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else vd(t,n,l,null,s)}}function Vd(t){return t=Vn(t),Md(t)}var Sc=null;function Md(t){if(Sc=null,t=pr(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===31){if(t=m(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function Q0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case bl:return 2;case El:return 8;case fa:case Ph:return 32;case au:return 268435456;default:return 32}default:return 32}}var jd=!1,La=null,Pa=null,Ba=null,vo=new Map,bo=new Map,Fa=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(t,n){switch(t){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function Eo(t,n,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&H0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function K2(t,n,s,l,h){switch(n){case"focusin":return La=Eo(La,t,n,s,l,h),!0;case"dragenter":return Pa=Eo(Pa,t,n,s,l,h),!0;case"mouseover":return Ba=Eo(Ba,t,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return vo.set(d,Eo(vo.get(d)||null,t,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bo.set(d,Eo(bo.get(d)||null,t,n,s,l,h)),!0}return!1}function Y0(t){var n=pr(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Kn(t.priority,function(){G0(s)});return}}else if(n===31){if(n=m(s),n!==null){t.blockedOn=n,Kn(t.priority,function(){G0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Vd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ol=l,s.target.dispatchEvent(l),Ol=null}else return n=On(s),n!==null&&H0(n),t.blockedOn=s,!1;n.shift()}return!0}function K0(t,n,s){Rc(t)&&s.delete(n)}function X2(){jd=!1,La!==null&&Rc(La)&&(La=null),Pa!==null&&Rc(Pa)&&(Pa=null),Ba!==null&&Rc(Ba)&&(Ba=null),vo.forEach(K0),bo.forEach(K0)}function Cc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,X2)))}var Nc=null;function X0(t){Nc!==t&&(Nc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Md(l||s)===null)continue;break}var d=On(s);d!==null&&(t.splice(n,3),n-=3,Vf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Gs(t){function n(k){return Cc(k,t)}La!==null&&Cc(La,t),Pa!==null&&Cc(Pa,t),Ba!==null&&Cc(Ba,t),vo.forEach(n),bo.forEach(n);for(var s=0;s<Fa.length;s++){var l=Fa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fa.length&&(s=Fa[0],s.blockedOn===null);)Y0(s),s.blockedOn===null&&Fa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Ut]||null;if(typeof d=="function")_||X0(s);else if(_){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ut]||null)x=_.formAction;else if(Md(h)!==null)continue}else x=_.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),X0(s)}}}function Z0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(t){this._internalRoot=t}Dc.prototype.render=zd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));var s=n.current,l=Cn();F0(s,l,t,n,null,null)},Dc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;F0(t.current,2,null,t,null,null),cc(),n[mr]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Fa.length&&n!==0&&n<Fa[s].priority;s++);Fa.splice(s,0,t),s===0&&Y0(t)}};var J0=e.version;if(J0!=="19.2.3")throw Error(i(527,J0,"19.2.3"));oe.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Z2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{$n=Ic.inject(Z2),qt=Ic}catch{}}return xo.createRoot=function(t,n){if(!o(t))throw Error(i(299));var s=!1,l="",h=iy,d=sy,_=ly;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=P0(t,1,!1,null,null,s,l,null,h,d,_,Z0),t[mr]=n.current,_d(t),new zd(n)},xo.hydrateRoot=function(t,n,s){if(!o(t))throw Error(i(299));var l=!1,h="",d=iy,_=sy,x=ly,k=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(k=s.formState)),n=P0(t,1,!0,n,s??null,l,h,k,d,_,x,Z0),n.context=B0(null),s=n.current,l=Cn(),l=gi(l),h=Ra(l),h.callback=null,Ca(s,h,l),s=l,n.current.lanes=s,di(n,s),Dr(n),t[mr]=n.current,_d(t),new Dc(n)},xo.version="19.2.3",xo}var o_;function oT(){if(o_)return Pd.exports;o_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Pd.exports=lT(),Pd.exports}var uT=oT();const cT=W2(uT);const hT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,i)=>i?i.toUpperCase():r.toLowerCase()),u_=a=>{const e=fT(a);return e.charAt(0).toUpperCase()+e.slice(1)},Vv=(...a)=>a.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim(),dT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var mT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gT=q.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:f,...m},g)=>q.createElement("svg",{ref:g,...mT,width:e,height:e,stroke:a,strokeWidth:i?Number(r)*24/Number(e):r,className:Vv("lucide",o),...!u&&!dT(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,b])=>q.createElement(y,b)),...Array.isArray(u)?u:[u]]));const Be=(a,e)=>{const r=q.forwardRef(({className:i,...o},u)=>q.createElement(gT,{ref:u,iconNode:e,className:Vv(`lucide-${hT(u_(a))}`,`lucide-${a}`,i),...o}));return r.displayName=u_(a),r};const pT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yT=Be("arrow-left",pT);const _T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vT=Be("arrow-right",_T);const bT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mv=Be("calendar",bT);const ET=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jm=Be("check",ET);const TT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jv=Be("chevron-down",TT);const xT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AT=Be("chevron-up",xT);const wT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kc=Be("circle-alert",wT);const ST=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Go=Be("circle-check",ST);const RT=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zv=Be("circle-play",RT);const CT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],NT=Be("circle-question-mark",CT);const DT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fh=Be("circle-x",DT);const IT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kT=Be("clipboard-list",IT);const OT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xc=Be("clock",OT);const VT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],MT=Be("copy",VT);const jT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Uv=Be("download",jT);const zT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],UT=Be("external-link",zT);const LT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PT=Be("eye",LT);const BT=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],FT=Be("file-plus-corner",BT);const qT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lm=Be("file-text",qT);const HT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],om=Be("funnel",HT);const GT=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],QT=Be("image-plus",GT);const $T=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Lv=Be("layout-dashboard",$T);const YT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],KT=Be("link",YT);const XT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dh=Be("moon",XT);const ZT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pv=Be("pencil",ZT);const JT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bv=Be("plus",JT);const WT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],um=Be("search",WT);const ex=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],jo=Be("sun",ex);const tx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zm=Be("trash-2",tx);const nx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Um=Be("triangle-alert",nx);const rx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ax=Be("user",rx);const ix=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sx=Be("users",ix);const lx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qi=Be("x",lx);function ox({children:a,activeTab:e,setActiveTab:r,currentUser:i,setCurrentUser:o,nocMembers:u,darkMode:f,setDarkMode:m}){const[g,y]=q.useState(!1);return E.jsxs("div",{className:"h-screen w-screen flex flex-col overflow-hidden transition-colors duration-300 bg-[#F3F4F6] dark:bg-[#000000]",children:[E.jsxs("nav",{className:`h-16 shrink-0 z-50 flex justify-between items-center px-4 lg:px-6 \r
        bg-white dark:bg-[#111111] border-b border-gray-200 dark:border-[#333] shadow-sm`,children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-md \r
              bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]`,children:E.jsx("span",{className:"text-xl font-black leading-none",children:"N"})}),E.jsxs("div",{className:"hidden sm:block",children:[E.jsx("h1",{className:"text-lg font-black tracking-tighter uppercase leading-none text-[#1F2937] dark:text-[#F2F2F2]",children:"NOCNTT"}),E.jsx("p",{className:"text-[10px] font-bold tracking-widest uppercase text-gray-400",children:"Managament System"})]})]}),E.jsx("div",{className:"flex items-center gap-1 p-1 rounded-xl bg-gray-100 dark:bg-[#000000] border border-gray-200 dark:border-[#333]",children:["incidents","handover"].map(b=>E.jsxs("button",{onClick:()=>r(b),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold uppercase transition-all 
                  ${e===b?"bg-white dark:bg-[#333] shadow-sm text-[#1F2937] dark:text-[#F2F2F2]":"text-gray-500 hover:text-[#1F2937] dark:text-[#666] dark:hover:text-[#F2F2F2]"}`,children:[b==="incidents"?E.jsx(Lv,{size:16}):E.jsx(kT,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:b})]},b))})]}),E.jsx("div",{className:"flex items-center",children:E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>y(!g),className:"flex items-center gap-3 focus:outline-none group pl-2",children:[E.jsxs("div",{className:"flex flex-col items-end",children:[E.jsx("span",{className:"text-[10px] font-bold uppercase leading-none mb-0.5 text-gray-400",children:"Signed in as"}),E.jsx("span",{className:"text-sm font-bold leading-none group-hover:text-black dark:group-hover:text-white transition-colors text-[#1F2937] dark:text-[#F2F2F2]",children:i})]}),E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shadow-md ring-2 transition-transform group-hover:scale-105\r
                bg-[#1F2937] text-white ring-gray-200 dark:ring-[#333]`,children:E.jsx("span",{className:"font-bold text-lg leading-none",children:i.charAt(0)})})]}),g&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),E.jsxs("div",{className:`absolute right-0 top-full mt-2 w-56 rounded-xl shadow-xl overflow-hidden z-50 animate-in slide-in-from-top-2 fade-in duration-200\r
                  bg-white dark:bg-[#111111] border border-gray-200 dark:border-[#333]`,children:[E.jsx("div",{className:"px-4 py-3 border-b bg-gray-50 dark:bg-[#000000] border-gray-200 dark:border-[#333]",children:E.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Switch Account"})}),E.jsx("div",{className:"p-1 max-h-48 overflow-y-auto custom-scrollbar",children:u.map(b=>E.jsxs("button",{onClick:()=>{o(b.name),y(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-bold transition-colors 
                        ${i===b.name?"bg-gray-100 text-[#1F2937] dark:bg-[#333] dark:text-[#F2F2F2]":"text-gray-500 hover:bg-gray-50 hover:text-[#1F2937] dark:text-[#888] dark:hover:bg-[#222]"}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] 
                            ${i===b.name?"bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]":"bg-gray-200 text-gray-600 dark:bg-[#333] dark:text-[#ccc]"}`,children:b.name.charAt(0)}),b.name]}),i===b.name&&E.jsx(jm,{size:14})]},b.id))}),E.jsx("div",{className:"border-t p-2 border-gray-200 dark:border-[#333]",children:E.jsxs("button",{onClick:()=>m(!f),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-bold transition-colors \r
                      text-[#1F2937] hover:bg-gray-100 dark:text-[#F2F2F2] dark:hover:bg-[#222]`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[f?E.jsx(dh,{size:16}):E.jsx(jo,{size:16})," ",E.jsx("span",{children:"Appearance"})]}),E.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded uppercase font-bold bg-gray-200 text-gray-600 dark:bg-[#333] dark:text-[#F2F2F2]",children:f?"Dark":"Light"})]})})]})]})]})})]}),E.jsx("main",{className:"flex-1 overflow-hidden relative p-0 lg:p-6",children:E.jsx("div",{className:`w-full h-full shadow-xl overflow-hidden border relative lg:rounded-2xl \r
          bg-[#F3F4F6] dark:bg-[#000000] border-gray-200 dark:border-[#333]`,children:a})})]})}const ux=a=>{switch(a){case"Open":return{color:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-800",icon:Kc};case"In Progress":return{color:"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:border-blue-800",icon:zv};case"Monitoring":return{color:"bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-900/40 dark:text-orange-300 dark:border-orange-800",icon:Xc};case"Resolved":return{color:"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:border-emerald-800",icon:Go};case"Completed":case"Closed":return{color:"bg-gray-100 text-gray-600 border-gray-200 dark:bg-[#111] dark:text-gray-400 dark:border-[#333]",icon:fh};default:return{color:"bg-gray-50 text-gray-700 border-gray-200",icon:Kc}}};function cx({incident:a,isSelected:e,onClick:r,onDelete:i}){const{color:o,icon:u}=ux(a.status);return E.jsxs("div",{onClick:r,className:`
        group relative p-4 rounded-xl cursor-pointer border-2 transition-all duration-200
        ${e?"bg-white border-[#1F2937] shadow-md scale-[1.02] dark:bg-[#000000] dark:border-[#F2F2F2]":"bg-white border-transparent hover:border-gray-300 hover:shadow-sm dark:bg-[#111] dark:hover:border-[#333]"}
      `,children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest line-clamp-1 text-gray-400",children:a.project||"No Project"}),E.jsx("button",{onClick:f=>{f.stopPropagation(),i(a.id)},className:"text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",title:"Delete Incident",children:E.jsx(zm,{size:14})})]}),E.jsx("h3",{className:"font-bold text-sm leading-tight mb-3 text-[#1F2937] dark:text-[#F2F2F2]",children:a.subject||"New Incident"}),E.jsxs("div",{className:"flex justify-between items-end",children:[E.jsxs("div",{className:"flex flex-col gap-1.5",children:[E.jsx("span",{className:"text-[9px] font-bold font-mono text-gray-400",children:a.ticket||"-"}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("span",{className:"text-[9px] font-bold flex items-center gap-1 text-gray-400",children:[E.jsx(Mv,{size:10}),a.createdAt?new Date(a.createdAt).toLocaleDateString("th-TH",{day:"numeric",month:"short"}):"-"]}),a.createdBy&&E.jsxs("div",{className:"flex items-center gap-1.5",title:`Created by ${a.createdBy}`,children:[E.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-[8px] font-black shadow-sm \r
                  bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]`,children:a.createdBy.charAt(0).toUpperCase()}),E.jsx("span",{className:"text-[9px] font-bold text-gray-500 dark:text-gray-400",children:a.createdBy})]})]})]}),E.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-md border text-[9px] font-black uppercase tracking-wide ${o}`,children:[E.jsx(u,{size:12}),E.jsx("span",{children:a.status||"Open"})]})]})]})}function hx({incidents:a,selectedId:e,onSelect:r,onAddIncident:i,onDeleteIncident:o,onExportCSV:u}){const[f,m]=q.useState(""),[g,y]=q.useState("All"),[b,T]=q.useState("All"),R=a.filter(O=>{const U=f.toLowerCase(),G=(O.subject||"").toLowerCase().includes(U)||(O.project||"").toLowerCase().includes(U)||(O.ticket||"").toLowerCase().includes(U),z=g==="All"||O.status===g,X=b==="All"||O.type===b;return G&&z&&X});return E.jsxs("div",{className:`lg:col-span-3 flex flex-col h-full overflow-hidden transition-colors duration-300\r
      bg-[#F9FAFB] dark:bg-[#000000] border-r-2 border-gray-200 dark:border-[#333]`,children:[E.jsxs("div",{className:"p-4 flex flex-col gap-4 shrink-0 z-10 shadow-sm bg-white dark:bg-[#111] border-b-2 border-gray-200 dark:border-[#333]",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 tracking-tight text-[#1F2937] dark:text-[#F2F2F2]",children:[E.jsx("span",{className:"bg-white text-[#1F2937] p-1.5 rounded-lg shadow-sm border border-gray-200 dark:bg-[#333] dark:text-[#F2F2F2] dark:border-[#444]",children:E.jsx(Lv,{size:20})}),"INCIDENTS"]}),E.jsxs("p",{className:"text-[10px] mt-1 ml-1 font-mono font-bold tracking-widest uppercase text-gray-400",children:[R.length," LOGS"]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>u(R),className:"h-8 w-8 flex items-center justify-center rounded-lg transition-colors shadow-md bg-white border border-gray-200 text-gray-500 hover:bg-gray-50 hover:text-black dark:bg-[#222] dark:text-[#F2F2F2] dark:border-[#333]",title:"Export CSV",children:E.jsx(Uv,{size:16})}),E.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 h-8 rounded-lg text-xs font-black uppercase tracking-widest transition-colors shadow-md bg-[#1F2937] text-white hover:bg-black dark:bg-[#F2F2F2] dark:text-[#000000]",children:[E.jsx(FT,{size:16})," ",E.jsx("span",{className:"hidden sm:inline",children:"New"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsxs("div",{className:"relative",children:[E.jsxs("select",{value:g,onChange:O=>y(O.target.value),className:"w-full h-8 pl-2 pr-6 bg-gray-100 dark:bg-[#222] border-none rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 appearance-none outline-none focus:ring-2 focus:ring-gray-300 cursor-pointer",children:[E.jsx("option",{value:"All",children:"All Status"}),E.jsx("option",{value:"Open",children:"Open"}),E.jsx("option",{value:"In Progress",children:"In Progress"}),E.jsx("option",{value:"Monitoring",children:"Monitoring"}),E.jsx("option",{value:"Resolved",children:"Resolved"}),E.jsx("option",{value:"Closed",children:"Closed"})]}),E.jsx(om,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{value:b,onChange:O=>T(O.target.value),className:"w-full h-8 pl-2 pr-6 bg-gray-100 dark:bg-[#222] border-none rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 appearance-none outline-none focus:ring-2 focus:ring-gray-300 cursor-pointer",children:[E.jsx("option",{value:"All",children:"All Types"}),E.jsx("option",{value:"Incident",children:"Incident"}),E.jsx("option",{value:"Request",children:"Request"}),E.jsx("option",{value:"Maintenance",children:"Maintenance"})]}),E.jsx(om,{size:12,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),E.jsxs("div",{className:"relative",children:[E.jsx(um,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),E.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:O=>m(O.target.value),className:"w-full pl-9 pr-8 py-2 rounded-lg text-xs font-bold outline-none border-2 transition-all bg-white text-[#1F2937] border-gray-200 focus:border-gray-400 placeholder-gray-400 dark:bg-[#000] dark:text-[#F2F2F2] dark:border-[#333] dark:focus:border-[#666]"}),f&&E.jsx("button",{onClick:()=>m(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-500 p-1",children:E.jsx(Qi,{size:14})})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 custom-scrollbar",children:R.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center py-10 opacity-50 space-y-2",children:[E.jsx(um,{size:24,className:"text-gray-400"}),E.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 dark:text-[#F2F2F2]",children:"No matching incidents"}),(f||g!=="All"||b!=="All")&&E.jsx("button",{onClick:()=>{m(""),y("All"),T("All")},className:"text-[10px] text-blue-500 hover:underline",children:"Reset Filters"})]}):R.map(O=>E.jsx(cx,{incident:O,isSelected:e===O.id,onClick:()=>r(O.id),onDelete:o},O.id))})]})}const fx=a=>{if(!a)return"";if(a.includes("drive.google.com")||a.includes("docs.google.com")){const e=a.match(/\/d\/(.*?)(?:\/|$)/);if(e&&e[1])return`https://lh3.googleusercontent.com/d/${e[1]}`}return a};function dx({event:a,index:e,isLastItem:r,showDateHeader:i,dateLabel:o,onMove:u,onEdit:f,onDelete:m}){let g=a.imageUrls||[];return!g.length&&a.imageUrl&&(g=[a.imageUrl]),E.jsxs("div",{className:"relative flex items-start gap-4 sm:gap-6 mb-8 z-10",children:[E.jsxs("div",{className:"flex-none w-[56px] sm:w-[90px] flex flex-col items-center pt-1 z-10",children:[E.jsx("div",{className:"w-4 h-4 rounded-full bg-white dark:bg-zinc-900 border-[4px] border-black dark:border-white shadow-md ring-4 ring-gray-50 dark:ring-zinc-950 z-20"}),E.jsx("div",{className:"mt-2 flex flex-col items-center",children:E.jsx("span",{className:"font-mono text-[10px] sm:text-xs font-bold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-zinc-900 px-1.5 py-0.5 rounded text-center",children:a.time})})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[i&&E.jsx("div",{className:"mb-4 -mt-2",children:E.jsx("span",{className:"inline-block text-[10px] font-black text-white dark:text-black uppercase tracking-widest bg-black dark:bg-white px-3 py-1 rounded-full shadow-md opacity-90",children:o})}),E.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border-2 border-gray-200 dark:border-zinc-800 shadow-sm flex gap-4 relative group/card hover:border-black dark:hover:border-white transition-all duration-200 hover:shadow-md",children:[E.jsx("div",{className:"absolute top-5 -left-[9px] w-4 h-4 bg-white dark:bg-zinc-900 border-l-2 border-b-2 border-gray-200 dark:border-zinc-800 transform rotate-45 group-hover/card:border-black dark:group-hover/card:border-white transition-colors duration-200"}),E.jsxs("div",{className:"flex flex-col gap-1 justify-center border-r pr-3 border-gray-100 dark:border-zinc-800 opacity-0 group-hover/card:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>u(e,"up"),disabled:e===0,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-0 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded transition-all",children:E.jsx(AT,{size:16})}),E.jsx("button",{onClick:()=>u(e,"down"),disabled:r,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-0 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded transition-all",children:E.jsx(jv,{size:16})})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight mr-4",children:a.title||a.time}),E.jsxs("div",{className:"flex gap-2 flex-none opacity-0 group-hover/card:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>f(a),className:"text-gray-400 hover:text-black dark:hover:text-white",title:"Edit Event",children:E.jsx(Pv,{size:12})}),E.jsx("button",{onClick:()=>m(a.id),className:"text-gray-400 hover:text-red-500",title:"Delete Event",children:E.jsx(zm,{size:12})})]})]}),a.desc&&E.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-wrap mb-3",children:a.desc}),g.length>0&&E.jsx("div",{className:`grid gap-3 mt-3 ${g.length>1?"grid-cols-2":"grid-cols-1 max-w-md"}`,children:g.map((y,b)=>E.jsxs("div",{className:"rounded-xl overflow-hidden border-2 border-gray-200 dark:border-zinc-700 bg-gray-100 dark:bg-zinc-800 relative group/image h-auto shadow-sm",children:[E.jsx("img",{src:fx(y),className:"w-full h-auto block",alt:`Evidence ${b+1}`,onError:T=>T.target.style.display="none"}),E.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"absolute top-2 right-2 bg-black/60 hover:bg-black text-white p-1.5 rounded-lg opacity-0 group-hover/image:opacity-100 transition backdrop-blur-sm",children:E.jsx(UT,{size:14})})]},b))})]})]})]})]})}function mx({isOpen:a,onClose:e,onSubmit:r,initialData:i}){const[o,u]=q.useState({date:"",time:"",desc:"",imageUrls:[]}),[f,m]=q.useState(""),g="w-full bg-transparent border-b-2 border-gray-200 dark:border-zinc-700 hover:border-black dark:hover:border-white focus:border-black dark:focus:border-white font-bold text-xs text-gray-900 dark:text-white transition-all pb-0.5 placeholder-gray-400 dark:placeholder-zinc-600 outline-none",y="block text-[9px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-0.5";q.useEffect(()=>{if(a){if(i){let U=i.imageUrls||[];!U.length&&i.imageUrl&&(U=[i.imageUrl]),u({...i,imageUrls:U})}else{const U=new Date;u({date:U.toISOString().split("T")[0],time:`${String(U.getHours()).padStart(2,"0")}:${String(U.getMinutes()).padStart(2,"0")}`,desc:"",imageUrls:[]})}m("")}},[a,i]);const b=()=>{f.trim()&&(u(U=>({...U,imageUrls:[...U.imageUrls,f.trim()]})),m(""))},T=U=>{u(G=>({...G,imageUrls:G.imageUrls.filter((z,X)=>X!==U)}))},R=U=>{U.preventDefault();const G=o.desc.trim().split(`
`)[0].substring(0,50)+(o.desc.length>50?"...":"")||"Log Update";r({...o,title:G})},O=U=>{if(U.includes("drive.google.com")||U.includes("docs.google.com")){const G=U.match(/\/d\/(.*?)(?:\/|$)/);if(G&&G[1])return`https://lh3.googleusercontent.com/d/${G[1]}`}return U};return a?E.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-all z-[100]",children:E.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl border-2 border-gray-300 dark:border-zinc-700 shadow-2xl p-6 animate-in zoom-in-95 relative",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white uppercase",children:i?"Edit Event":"New Event"}),E.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-full text-gray-400 hover:text-black dark:hover:text-white",children:E.jsx(Qi,{size:20})})]}),E.jsxs("form",{onSubmit:R,className:"space-y-4",children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("div",{className:"w-1/2 space-y-1",children:[E.jsx("label",{className:y,children:"Date"}),E.jsx("input",{required:!0,type:"date",className:`${g} bg-gray-50 dark:bg-zinc-800 rounded-lg p-2.5 border-2 border-gray-300 dark:border-zinc-700 focus:border-black dark:focus:border-white`,value:o.date,onChange:U=>u({...o,date:U.target.value})})]}),E.jsxs("div",{className:"w-1/2 space-y-1",children:[E.jsx("label",{className:y,children:"Time"}),E.jsx("input",{required:!0,type:"time",className:`${g} bg-gray-50 dark:bg-zinc-800 rounded-lg p-2.5 border-2 border-gray-300 dark:border-zinc-700 focus:border-black dark:focus:border-white`,value:o.time,onChange:U=>u({...o,time:U.target.value})})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:y,children:"Description"}),E.jsx("textarea",{required:!0,rows:5,placeholder:"What happened?...",className:"w-full text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-zinc-800 rounded-lg p-2 border-2 border-gray-200 dark:border-zinc-700 focus:bg-white dark:focus:bg-zinc-900 focus:border-black dark:focus:border-white transition-all resize-none placeholder-gray-400 dark:placeholder-zinc-600 outline-none",value:o.desc,onChange:U=>u({...o,desc:U.target.value})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:y,children:"Image Links"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("div",{className:"relative flex-1",children:[E.jsx(KT,{size:14,className:"absolute left-3 top-3 text-gray-400"}),E.jsx("input",{type:"text",placeholder:"Paste image/drive URL here...",className:`${g} bg-gray-50 dark:bg-zinc-800 rounded-lg p-2.5 pl-9 border-2 border-gray-300 dark:border-zinc-700 focus:border-black dark:focus:border-white`,value:f,onChange:U=>m(U.target.value),onKeyDown:U=>U.key==="Enter"&&(U.preventDefault(),b())})]}),E.jsx("button",{type:"button",onClick:b,disabled:!f.trim(),className:"px-3 bg-gray-100 dark:bg-zinc-800 text-gray-600 dark:text-gray-300 rounded-lg border-2 border-gray-300 dark:border-zinc-700 hover:border-black dark:hover:border-white hover:text-black dark:hover:text-white transition-colors disabled:opacity-50",children:E.jsx(QT,{size:18})})]}),o.imageUrls.length>0&&E.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2 max-h-[150px] overflow-y-auto custom-scrollbar p-1",children:o.imageUrls.map((U,G)=>E.jsxs("div",{className:"relative group/preview rounded-lg overflow-hidden border-2 border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800 h-20 flex items-center justify-center",children:[E.jsx("img",{src:O(U),alt:"Preview",className:"h-full w-full object-cover",onError:z=>z.target.style.opacity="0.3"}),E.jsx("button",{type:"button",onClick:()=>T(G),className:"absolute top-1 right-1 bg-red-500 text-white p-0.5 rounded-full opacity-0 group-hover/preview:opacity-100 transition-opacity shadow-sm hover:bg-red-600",children:E.jsx(Qi,{size:12})})]},G))})]}),E.jsx("button",{type:"submit",className:"w-full bg-black dark:bg-white text-white dark:text-black py-3 rounded-lg font-black uppercase tracking-widest hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors shadow-md border-2 border-transparent hover:border-black dark:hover:border-white",children:"SAVE EVENT"})]})]})}):null}function gx({isOpen:a,onClose:e,text:r}){return a?E.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-all z-[100]",children:E.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-2xl h-[70vh] rounded-2xl border-2 border-gray-300 dark:border-zinc-700 shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 relative",children:[E.jsxs("div",{className:"flex justify-between items-center p-5 border-b-2 border-gray-300 dark:border-zinc-700",children:[E.jsx("h3",{className:"font-black text-lg text-gray-900 dark:text-white uppercase",children:"Report Preview"}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-black dark:hover:text-white",children:E.jsx(Qi,{size:20})})]}),E.jsx("textarea",{readOnly:!0,value:r,className:"flex-1 p-6 font-mono text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-zinc-950 resize-none border-none outline-none custom-scrollbar"}),E.jsx("div",{className:"p-5 border-t-2 border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 flex justify-end",children:E.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(r),alert("Copied!"),e()},className:"bg-black dark:bg-white text-white dark:text-black px-6 py-2.5 rounded-lg text-xs font-black uppercase tracking-widest hover:bg-gray-800 dark:hover:bg-gray-200 transition-all shadow-md flex items-center gap-2 border-2 border-transparent hover:border-black dark:hover:border-white",children:[E.jsx(MT,{size:16})," Copy to Clipboard"]})})]})}):null}function px({incident:a,isLoading:e,onUpdateIncident:r,onAddEvent:i,onDeleteEvent:o,onUpdateEvent:u,onReorderEvent:f,onBack:m}){const[g,y]=q.useState(!1),[b,T]=q.useState(null),[R,O]=q.useState(!1),[U,G]=q.useState(""),z="w-full bg-transparent border-b-2 border-gray-200 dark:border-zinc-700 hover:border-black dark:hover:border-white focus:border-black dark:focus:border-white font-bold text-xs text-gray-900 dark:text-white transition-all pb-0.5 placeholder-gray-400 dark:placeholder-zinc-600 outline-none",X="block text-[9px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-0.5",re="w-full text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-zinc-800 rounded-lg p-2 border-2 border-gray-200 dark:border-zinc-700 focus:bg-white dark:focus:bg-zinc-900 focus:border-black dark:focus:border-white transition-all resize-none placeholder-gray-400 dark:placeholder-zinc-600 outline-none";if(!a)return E.jsxs("div",{className:"lg:col-span-9 flex flex-col items-center justify-center h-full bg-white dark:bg-zinc-900 transition-colors",children:[E.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-zinc-800 border-2 border-gray-300 dark:border-zinc-700 flex items-center justify-center mb-4",children:E.jsx(vT,{size:24,className:"text-gray-400 dark:text-gray-500"})}),E.jsx("p",{className:"font-bold text-gray-500 dark:text-gray-400",children:"Select an incident to view details"})]});const ne=[...a.events||[]].sort((A,S)=>{if(typeof A.order=="number"&&typeof S.order=="number"&&A.order!==S.order)return A.order-S.order;const I=new Date(`${A.date||"1970-01-01"}T${A.time||"00:00"}`).getTime(),N=new Date(`${S.date||"1970-01-01"}T${S.time||"00:00"}`).getTime();return I-N}),ce=(A,S)=>{const I=[...ne],N=S==="up"?A-1:A+1;if(N<0||N>=I.length)return;[I[A],I[N]]=[I[N],I[A]];const j=I.map((C,xe)=>({...C,order:xe}));f&&f(a.id,j)},de=()=>{const S=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"2-digit"}).replace(/ /g,"-").toLowerCase(),I={};ne.forEach(j=>{const xe=(j.date?new Date(j.date):new Date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"});I[xe]||(I[xe]=[]),I[xe].push(j)});let N=`Project: ${a.project||"-"}
Subject: ${a.type||"Incident"} | ${a.subject||"-"} | ${S}
Status: ${a.status||"-"}
Ticket: ${a.ticket||"-"}
Impact: ${a.impact||"-"}
Root Cause: ${a.root_cause||"-"}
Action Taken: ${a.action||"-"}

`;Object.keys(I).forEach(j=>{N+=`${j}
`,I[j].forEach(C=>N+=`${C.time} - ${C.desc||C.title}
`),N+=`
`}),G(N),O(!0)},ve=A=>({Open:"bg-red-100 text-red-700 border-red-200 dark:bg-red-500/20 dark:text-red-300 dark:border-red-500/30","In Progress":"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-500/20 dark:text-blue-300 dark:border-blue-500/30",Monitoring:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-500/20 dark:text-orange-300 dark:border-orange-500/30",Resolved:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-500/20 dark:text-emerald-300 dark:border-emerald-500/30",Closed:"bg-zinc-100 text-zinc-600 border-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:border-zinc-700"})[A]||"bg-gray-100 text-gray-700 border-gray-200",D=A=>{switch(A){case"Open":return E.jsx(Kc,{size:14});case"In Progress":return E.jsx(zv,{size:14});case"Monitoring":return E.jsx(Xc,{size:14});case"Resolved":return E.jsx(Go,{size:14});case"Closed":return E.jsx(fh,{size:14});default:return E.jsx(Kc,{size:14})}};return E.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-zinc-900 relative transition-colors duration-300 overflow-hidden",children:[E.jsxs("div",{className:"px-5 py-4 border-b-2 border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 z-10 shadow-sm shrink-0",children:[E.jsx("div",{className:"lg:hidden mb-4 -mt-1",children:E.jsxs("button",{onClick:m,className:"flex items-center gap-2 text-gray-500 hover:text-black dark:hover:text-white font-bold uppercase text-xs tracking-widest p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-800 transition-colors",children:[E.jsx(yT,{size:16})," ",E.jsx("span",{className:"text-sm",children:"BACK TO LIST"})]})}),E.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 lg:grid-cols-12 gap-x-4 gap-y-3 mb-3 items-end",children:[E.jsxs("div",{className:"group col-span-2 lg:col-span-2",children:[E.jsx("label",{className:X,children:"Project"}),E.jsx("input",{type:"text",className:z,value:a.project||"",onChange:A=>r(a.id,{project:A.target.value})})]}),E.jsxs("div",{className:"group col-span-2 lg:col-span-1",children:[E.jsx("label",{className:X,children:"Type"}),E.jsxs("select",{value:a.type||"Incident",onChange:A=>r(a.id,{type:A.target.value}),className:`${z} cursor-pointer appearance-none`,children:[E.jsx("option",{className:"dark:bg-zinc-800",value:"Incident",children:"Incident"}),E.jsx("option",{className:"dark:bg-zinc-800",value:"Request",children:"Request"}),E.jsx("option",{className:"dark:bg-zinc-800",value:"Maintenance",children:"Maintenance"})]})]}),E.jsxs("div",{className:"group col-span-2 lg:col-span-2",children:[E.jsx("label",{className:X,children:"Ticket ID"}),E.jsx("input",{type:"text",className:`${z} font-mono`,value:a.ticket||"",onChange:A=>r(a.id,{ticket:A.target.value})})]}),E.jsxs("div",{className:"group col-span-2 lg:col-span-2",children:[E.jsx("label",{className:X,children:"Status"}),E.jsxs("div",{className:`relative flex items-center h-[30px] w-full rounded-lg border-2 transition-all px-2 ${ve(a.status)}`,children:[E.jsx("div",{className:"mr-2 flex-none",children:D(a.status)}),E.jsx("select",{value:a.status||"Open",onChange:A=>r(a.id,{status:A.target.value}),className:"w-full bg-transparent font-black uppercase text-[10px] tracking-widest cursor-pointer appearance-none outline-none z-10",children:["Open","In Progress","Monitoring","Resolved","Completed","Closed"].map(A=>E.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:A,children:A},A))}),E.jsx(jv,{size:14,className:"absolute right-2 opacity-50 pointer-events-none"})]})]}),E.jsxs("div",{className:"col-span-4 lg:col-span-3",children:[E.jsx("label",{className:X,children:"Subject / Alert"}),E.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.createdBy&&E.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-1.5 py-0.5 rounded uppercase tracking-wider",children:[E.jsx(ax,{size:10})," Created by ",a.createdBy]})}),E.jsx("input",{type:"text",className:"w-full text-lg font-black text-gray-900 dark:text-white placeholder-gray-300 dark:placeholder-zinc-700 border-none bg-transparent p-0 focus:ring-0 leading-tight",value:a.subject||"",onChange:A=>r(a.id,{subject:A.target.value}),placeholder:"Subject..."})]}),E.jsx("div",{className:"col-span-4 flex justify-end lg:col-span-1 lg:justify-start",children:E.jsx("button",{onClick:de,className:"text-gray-400 hover:text-black dark:hover:text-white transition-colors p-1.5 border-2 border-transparent hover:border-gray-200 dark:hover:border-zinc-700 rounded-lg lg:mb-1 mt-1 lg:mt-0",title:"View Report",children:E.jsx(lm,{size:18})})})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["impact","root_cause","action"].map(A=>E.jsxs("div",{children:[E.jsx("label",{className:X,children:A.replace("_"," ")}),E.jsx("textarea",{className:`${re} h-[60px]`,value:a[A]||"",onChange:S=>r(a.id,{[A]:S.target.value}),placeholder:"..."})]},A))})]}),E.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-8 custom-scrollbar bg-gray-50 dark:bg-zinc-950 relative transition-colors min-h-0",children:e?E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 gap-3",children:[E.jsx("div",{className:"w-8 h-8 border-4 border-gray-300 border-t-black dark:border-t-white rounded-full animate-spin"}),E.jsx("span",{className:"text-xs font-bold uppercase tracking-widest animate-pulse",children:"Loading Timeline..."})]}):ne.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 opacity-50 pb-20",children:[E.jsx(Xc,{size:48,className:"mb-2"}),E.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"No timeline events yet"})]}):E.jsxs("div",{className:"flex flex-col pb-20 relative",children:[E.jsx("div",{className:"absolute top-0 bottom-0 left-[26px] sm:left-[43px] w-[3px] bg-gray-200 dark:bg-zinc-800 z-0"}),ne.map((A,S)=>{const I=S===0||A.date!==ne[S-1].date,N=A.date?new Date(A.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}):"-";return E.jsx(dx,{event:A,index:S,isLastItem:S===ne.length-1,showDateHeader:I,dateLabel:N,onMove:ce,onEdit:j=>{T(j),y(!0)},onDelete:j=>o(a.id,j)},A.id)})]})}),E.jsx("button",{onClick:()=>{T(null),y(!0)},className:"absolute bottom-6 right-6 bg-black dark:bg-white text-white dark:text-black w-14 h-14 rounded-xl shadow-lg hover:shadow-xl hover:scale-105 border-4 border-white dark:border-zinc-800 transition-all z-20 flex items-center justify-center active:scale-95",children:E.jsx(Bv,{size:24,strokeWidth:3})}),E.jsx(mx,{isOpen:g,onClose:()=>y(!1),initialData:b,onSubmit:A=>{b?u(a.id,b.id,A):i(a.id,A),y(!1)}}),E.jsx(gx,{isOpen:R,onClose:()=>O(!1),text:U})]})}function Fv({message:a,type:e="success",onClose:r}){q.useEffect(()=>{const o=setTimeout(()=>{r()},3e3);return()=>clearTimeout(o)},[r]);const i=e==="success";return E.jsx("div",{className:"fixed top-5 right-5 z-[80] animate-in slide-in-from-right duration-300",children:E.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border ${i?"bg-[#1F2937] border-gray-300 text-white dark:bg-[#F2F2F2] dark:text-[#000000]":"bg-red-50 border-red-200 text-red-800"}`,children:[i?E.jsx(Go,{size:20,className:"text-gray-300 dark:text-[#333]"}):E.jsx(fh,{size:20,className:"text-red-500"}),E.jsx("p",{className:"text-sm font-bold pr-2",children:a}),E.jsx("button",{onClick:r,className:`p-1 rounded-full hover:bg-white/10 ${i?"text-gray-300":"text-red-400"}`,children:E.jsx(Qi,{size:14})})]})})}function qv({isOpen:a,onClose:e,title:r,message:i,onConfirm:o,isDanger:u=!1}){return a?E.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-white w-full max-w-sm rounded-xl shadow-2xl border border-gray-200 overflow-hidden dark:bg-[#111] dark:border-[#333]",children:[E.jsxs("div",{className:`px-4 py-3 flex items-center gap-3 border-b border-gray-200 ${u?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-[#000]"}`,children:[E.jsx("div",{className:`p-2 rounded-full ${u?"bg-red-100 text-red-600":"bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]"}`,children:u?E.jsx(Um,{size:20}):E.jsx(NT,{size:20})}),E.jsx("h3",{className:`font-bold text-lg ${u?"text-red-700 dark:text-red-400":"text-[#1F2937] dark:text-[#F2F2F2]"}`,children:r})]}),E.jsx("div",{className:"p-5",children:E.jsx("p",{className:"text-gray-700 dark:text-[#F2F2F2] text-sm leading-relaxed font-medium",children:i})}),E.jsxs("div",{className:"p-3 bg-gray-50 flex justify-end gap-2 border-t border-gray-200 dark:bg-[#000] dark:border-[#333]",children:[E.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-500 hover:bg-gray-200 dark:hover:bg-[#222] dark:hover:text-[#F2F2F2] transition-colors",children:"Cancel"}),E.jsx("button",{onClick:o,className:`px-4 py-2 rounded-lg text-sm font-bold text-white shadow-md transition-transform active:scale-95 ${u?"bg-red-600 hover:bg-red-700":"bg-[#1F2937] hover:bg-black dark:bg-[#F2F2F2] dark:text-[#000000] dark:hover:bg-[#ccc]"}`,children:"Confirm"})]})]})}):null}const yx=()=>{};var c_={};const Hv=function(a){const e=[];let r=0;for(let i=0;i<a.length;i++){let o=a.charCodeAt(i);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++i)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},_x=function(a){const e=[];let r=0,i=0;for(;r<a.length;){const o=a[r++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[r++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[r++],f=a[r++],m=a[r++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=a[r++],f=a[r++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,m=f?a[o+1]:0,g=o+2<a.length,y=g?a[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,O=y&63;g||(O=64,f||(R=64)),i.push(r[b],r[T],r[R],r[O])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Hv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):_x(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<a.length;){const u=r[a.charAt(o++)],m=o<a.length?r[a.charAt(o)]:0;++o;const y=o<a.length?r[a.charAt(o)]:64;++o;const T=o<a.length?r[a.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new vx;const R=u<<2|m>>4;if(i.push(R),y!==64){const O=m<<4&240|y>>2;if(i.push(O),T!==64){const U=y<<6&192|T;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bx=function(a){const e=Hv(a);return Gv.encodeByteArray(e,!0)},Zc=function(a){return bx(a).replace(/\./g,"")},Ex=function(a){try{return Gv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xx=()=>Tx().__FIREBASE_DEFAULTS__,Ax=()=>{if(typeof process>"u"||typeof c_>"u")return;const a=c_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},wx=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Ex(a[1]);return e&&JSON.parse(e)},Lm=()=>{try{return yx()||xx()||Ax()||wx()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Sx=a=>Lm()?.emulatorHosts?.[a],Qv=a=>{const e=Sx(a);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),i]:[e.substring(0,r),i]},$v=()=>Lm()?.config;class Rx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,i))}}}function Qo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yv(a){return(await fetch(a,{credentials:"include"})).ok}function Kv(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Zc(JSON.stringify(r)),Zc(JSON.stringify(f)),""].join(".")}const Io={};function Cx(){const a={prod:[],emulator:[]};for(const e of Object.keys(Io))Io[e]?a.emulator.push(e):a.prod.push(e);return a}function Nx(a){let e=document.getElementById(a),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),r=!0),{created:r,element:e}}let h_=!1;function Xv(a,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Io[a]===e||Io[a]||h_)return;Io[a]=e;function r(R){return`__firebase__banner__${R}`}const i="__firebase__banner",u=Cx().prod.length>0;function f(){const R=document.getElementById(i);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,O){R.setAttribute("width","24"),R.setAttribute("id",O),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{h_=!0,f()},R}function b(R,O){R.setAttribute("id",O),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=Nx(i),O=r("text"),U=document.getElementById(O)||document.createElement("span"),G=r("learnmore"),z=document.getElementById(G)||document.createElement("a"),X=r("preprendIcon"),re=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ne=R.element;m(ne),b(z,G);const ce=y();g(re,X),ne.append(re,U,z,ce),document.body.appendChild(ne)}u?(U.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Dx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ix(){const a=Lm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kx(){return!Ix()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ox(){try{return typeof indexedDB=="object"}catch{return!1}}function Vx(){return new Promise((a,e)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(i),a(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(r){e(r)}})}const Mx="FirebaseError";class Xi extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=Mx,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zv.prototype.create)}}class Zv{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){const i=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?jx(u,i):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Xi(o,m,i)}}function jx(a,e){return a.replace(zx,(r,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const zx=/\{\$([^}]+)}/g;function el(a,e){if(a===e)return!0;const r=Object.keys(a),i=Object.keys(e);for(const o of r){if(!i.includes(o))return!1;const u=a[o],f=e[o];if(f_(u)&&f_(f)){if(!el(u,f))return!1}else if(u!==f)return!1}for(const o of i)if(!r.includes(o))return!1;return!0}function f_(a){return a!==null&&typeof a=="object"}function Zt(a){return a&&a._delegate?a._delegate:a}class tl{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bi="[DEFAULT]";class Ux{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const i=new Rx;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Px(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&f.resolve(o)}return o}onInit(e,r){const i=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const i=this.onInitCallbacks.get(r);if(i)for(const o of i)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Lx(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lx(a){return a===Bi?void 0:a}function Px(a){return a.instantiationMode==="EAGER"}class Bx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Ux(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pe||(Pe={}));const Fx={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},qx=Pe.INFO,Hx={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Gx=(a,e,...r)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),o=Hx[e];if(o)console[o](`[${i}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=qx,this._logHandler=Gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Qx=(a,e)=>e.some(r=>a instanceof r);let d_,m_;function $x(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yx(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wv=new WeakMap,cm=new WeakMap,e1=new WeakMap,Hd=new WeakMap,Pm=new WeakMap;function Kx(a){const e=new Promise((r,i)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{r(Ya(a.result)),o()},f=()=>{i(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&Wv.set(r,a)}).catch(()=>{}),Pm.set(e,a),e}function Xx(a){if(cm.has(a))return;const e=new Promise((r,i)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{i(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});cm.set(a,e)}let hm={get(a,e,r){if(a instanceof IDBTransaction){if(e==="done")return cm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||e1.get(a);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ya(a[e])},set(a,e,r){return a[e]=r,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Zx(a){hm=a(hm)}function Jx(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=a.call(Gd(this),e,...r);return e1.set(i,e.sort?e.sort():[e]),Ya(i)}:Yx().includes(a)?function(...e){return a.apply(Gd(this),e),Ya(Wv.get(this))}:function(...e){return Ya(a.apply(Gd(this),e))}}function Wx(a){return typeof a=="function"?Jx(a):(a instanceof IDBTransaction&&Xx(a),Qx(a,$x())?new Proxy(a,hm):a)}function Ya(a){if(a instanceof IDBRequest)return Kx(a);if(Hd.has(a))return Hd.get(a);const e=Wx(a);return e!==a&&(Hd.set(a,e),Pm.set(e,a)),e}const Gd=a=>Pm.get(a);function eA(a,e,{blocked:r,upgrade:i,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),m=Ya(f);return i&&f.addEventListener("upgradeneeded",g=>{i(Ya(f.result),g.oldVersion,g.newVersion,Ya(f.transaction),g)}),r&&f.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const tA=["get","getKey","getAll","getAllKeys","count"],nA=["put","add","delete","clear"],Qd=new Map;function g_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,o=nA.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(o||tA.includes(r)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),o&&g.done]))[0]};return Qd.set(e,u),u}Zx(a=>({...a,get:(e,r,i)=>g_(e,r)||a.get(e,r,i),has:(e,r)=>!!g_(e,r)||a.has(e,r)}));class rA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(aA(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function aA(a){return a.getComponent()?.type==="VERSION"}const fm="@firebase/app",p_="0.14.6";const sa=new Jv("@firebase/app"),iA="@firebase/app-compat",sA="@firebase/analytics-compat",lA="@firebase/analytics",oA="@firebase/app-check-compat",uA="@firebase/app-check",cA="@firebase/auth",hA="@firebase/auth-compat",fA="@firebase/database",dA="@firebase/data-connect",mA="@firebase/database-compat",gA="@firebase/functions",pA="@firebase/functions-compat",yA="@firebase/installations",_A="@firebase/installations-compat",vA="@firebase/messaging",bA="@firebase/messaging-compat",EA="@firebase/performance",TA="@firebase/performance-compat",xA="@firebase/remote-config",AA="@firebase/remote-config-compat",wA="@firebase/storage",SA="@firebase/storage-compat",RA="@firebase/firestore",CA="@firebase/ai",NA="@firebase/firestore-compat",DA="firebase",IA="12.6.0";const dm="[DEFAULT]",kA={[fm]:"fire-core",[iA]:"fire-core-compat",[lA]:"fire-analytics",[sA]:"fire-analytics-compat",[uA]:"fire-app-check",[oA]:"fire-app-check-compat",[cA]:"fire-auth",[hA]:"fire-auth-compat",[fA]:"fire-rtdb",[dA]:"fire-data-connect",[mA]:"fire-rtdb-compat",[gA]:"fire-fn",[pA]:"fire-fn-compat",[yA]:"fire-iid",[_A]:"fire-iid-compat",[vA]:"fire-fcm",[bA]:"fire-fcm-compat",[EA]:"fire-perf",[TA]:"fire-perf-compat",[xA]:"fire-rc",[AA]:"fire-rc-compat",[wA]:"fire-gcs",[SA]:"fire-gcs-compat",[RA]:"fire-fst",[NA]:"fire-fst-compat",[CA]:"fire-vertex","fire-js":"fire-js",[DA]:"fire-js-all"};const Jc=new Map,OA=new Map,mm=new Map;function y_(a,e){try{a.container.addComponent(e)}catch(r){sa.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,r)}}function zo(a){const e=a.name;if(mm.has(e))return sa.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,a);for(const r of Jc.values())y_(r,a);for(const r of OA.values())y_(r,a);return!0}function t1(a,e){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(e)}function n1(a){return a==null?!1:a.settings!==void 0}const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new Zv("app","Firebase",VA);class MA{constructor(e,r,i){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}const r1=IA;function a1(a,e={}){let r=a;typeof e!="object"&&(e={name:e});const i={name:dm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ka.create("bad-app-name",{appName:String(o)});if(r||(r=$v()),!r)throw Ka.create("no-options");const u=Jc.get(o);if(u){if(el(r,u.options)&&el(i,u.config))return u;throw Ka.create("duplicate-app",{appName:o})}const f=new Bx(o);for(const g of mm.values())f.addComponent(g);const m=new MA(r,i,f);return Jc.set(o,m),m}function i1(a=dm){const e=Jc.get(a);if(!e&&a===dm&&$v())return a1();if(!e)throw Ka.create("no-app",{appName:a});return e}function Xa(a,e,r){let i=kA[a]??a;r&&(i+=`-${r}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sa.warn(f.join(" "));return}zo(new tl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const jA="firebase-heartbeat-database",zA=1,Uo="firebase-heartbeat-store";let $d=null;function s1(){return $d||($d=eA(jA,zA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Uo)}catch(r){console.warn(r)}}}}).catch(a=>{throw Ka.create("idb-open",{originalErrorMessage:a.message})})),$d}async function UA(a){try{const r=(await s1()).transaction(Uo),i=await r.objectStore(Uo).get(l1(a));return await r.done,i}catch(e){if(e instanceof Xi)sa.warn(e.message);else{const r=Ka.create("idb-get",{originalErrorMessage:e?.message});sa.warn(r.message)}}}async function __(a,e){try{const i=(await s1()).transaction(Uo,"readwrite");await i.objectStore(Uo).put(e,l1(a)),await i.done}catch(r){if(r instanceof Xi)sa.warn(r.message);else{const i=Ka.create("idb-set",{originalErrorMessage:r?.message});sa.warn(i.message)}}}function l1(a){return`${a.name}!${a.options.appId}`}const LA=1024,PA=30;class BA{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new qA(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=v_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>PA){const o=HA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v_(),{heartbeatsToSend:r,unsentEntries:i}=FA(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sa.warn(e),""}}}function v_(){return new Date().toISOString().substring(0,10)}function FA(a,e=LA){const r=[];let i=a.slice();for(const o of a){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),b_(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),b_(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class qA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ox()?Vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await UA(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function b_(a){return Zc(JSON.stringify({version:2,heartbeats:a})).length}function HA(a){if(a.length===0)return-1;let e=0,r=a[0].date;for(let i=1;i<a.length;i++)a[i].date<r&&(r=a[i].date,e=i);return e}function GA(a){zo(new tl("platform-logger",e=>new rA(e),"PRIVATE")),zo(new tl("heartbeat",e=>new BA(e),"PRIVATE")),Xa(fm,p_,a),Xa(fm,p_,"esm2020"),Xa("fire-js","")}GA("");var QA="firebase",$A="12.6.0";Xa(QA,$A,"app");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Za,o1;(function(){var a;function e(D,A){function S(){}S.prototype=A.prototype,D.F=A.prototype,D.prototype=new S,D.prototype.constructor=D,D.D=function(I,N,j){for(var C=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)C[xe-2]=arguments[xe];return A.prototype[N].apply(I,C)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,r),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,S){S||(S=0);const I=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)I[N]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(N=0;N<16;++N)I[N]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=D.g[0],S=D.g[1],N=D.g[2];let j=D.g[3],C;C=A+(j^S&(N^j))+I[0]+3614090360&4294967295,A=S+(C<<7&4294967295|C>>>25),C=j+(N^A&(S^N))+I[1]+3905402710&4294967295,j=A+(C<<12&4294967295|C>>>20),C=N+(S^j&(A^S))+I[2]+606105819&4294967295,N=j+(C<<17&4294967295|C>>>15),C=S+(A^N&(j^A))+I[3]+3250441966&4294967295,S=N+(C<<22&4294967295|C>>>10),C=A+(j^S&(N^j))+I[4]+4118548399&4294967295,A=S+(C<<7&4294967295|C>>>25),C=j+(N^A&(S^N))+I[5]+1200080426&4294967295,j=A+(C<<12&4294967295|C>>>20),C=N+(S^j&(A^S))+I[6]+2821735955&4294967295,N=j+(C<<17&4294967295|C>>>15),C=S+(A^N&(j^A))+I[7]+4249261313&4294967295,S=N+(C<<22&4294967295|C>>>10),C=A+(j^S&(N^j))+I[8]+1770035416&4294967295,A=S+(C<<7&4294967295|C>>>25),C=j+(N^A&(S^N))+I[9]+2336552879&4294967295,j=A+(C<<12&4294967295|C>>>20),C=N+(S^j&(A^S))+I[10]+4294925233&4294967295,N=j+(C<<17&4294967295|C>>>15),C=S+(A^N&(j^A))+I[11]+2304563134&4294967295,S=N+(C<<22&4294967295|C>>>10),C=A+(j^S&(N^j))+I[12]+1804603682&4294967295,A=S+(C<<7&4294967295|C>>>25),C=j+(N^A&(S^N))+I[13]+4254626195&4294967295,j=A+(C<<12&4294967295|C>>>20),C=N+(S^j&(A^S))+I[14]+2792965006&4294967295,N=j+(C<<17&4294967295|C>>>15),C=S+(A^N&(j^A))+I[15]+1236535329&4294967295,S=N+(C<<22&4294967295|C>>>10),C=A+(N^j&(S^N))+I[1]+4129170786&4294967295,A=S+(C<<5&4294967295|C>>>27),C=j+(S^N&(A^S))+I[6]+3225465664&4294967295,j=A+(C<<9&4294967295|C>>>23),C=N+(A^S&(j^A))+I[11]+643717713&4294967295,N=j+(C<<14&4294967295|C>>>18),C=S+(j^A&(N^j))+I[0]+3921069994&4294967295,S=N+(C<<20&4294967295|C>>>12),C=A+(N^j&(S^N))+I[5]+3593408605&4294967295,A=S+(C<<5&4294967295|C>>>27),C=j+(S^N&(A^S))+I[10]+38016083&4294967295,j=A+(C<<9&4294967295|C>>>23),C=N+(A^S&(j^A))+I[15]+3634488961&4294967295,N=j+(C<<14&4294967295|C>>>18),C=S+(j^A&(N^j))+I[4]+3889429448&4294967295,S=N+(C<<20&4294967295|C>>>12),C=A+(N^j&(S^N))+I[9]+568446438&4294967295,A=S+(C<<5&4294967295|C>>>27),C=j+(S^N&(A^S))+I[14]+3275163606&4294967295,j=A+(C<<9&4294967295|C>>>23),C=N+(A^S&(j^A))+I[3]+4107603335&4294967295,N=j+(C<<14&4294967295|C>>>18),C=S+(j^A&(N^j))+I[8]+1163531501&4294967295,S=N+(C<<20&4294967295|C>>>12),C=A+(N^j&(S^N))+I[13]+2850285829&4294967295,A=S+(C<<5&4294967295|C>>>27),C=j+(S^N&(A^S))+I[2]+4243563512&4294967295,j=A+(C<<9&4294967295|C>>>23),C=N+(A^S&(j^A))+I[7]+1735328473&4294967295,N=j+(C<<14&4294967295|C>>>18),C=S+(j^A&(N^j))+I[12]+2368359562&4294967295,S=N+(C<<20&4294967295|C>>>12),C=A+(S^N^j)+I[5]+4294588738&4294967295,A=S+(C<<4&4294967295|C>>>28),C=j+(A^S^N)+I[8]+2272392833&4294967295,j=A+(C<<11&4294967295|C>>>21),C=N+(j^A^S)+I[11]+1839030562&4294967295,N=j+(C<<16&4294967295|C>>>16),C=S+(N^j^A)+I[14]+4259657740&4294967295,S=N+(C<<23&4294967295|C>>>9),C=A+(S^N^j)+I[1]+2763975236&4294967295,A=S+(C<<4&4294967295|C>>>28),C=j+(A^S^N)+I[4]+1272893353&4294967295,j=A+(C<<11&4294967295|C>>>21),C=N+(j^A^S)+I[7]+4139469664&4294967295,N=j+(C<<16&4294967295|C>>>16),C=S+(N^j^A)+I[10]+3200236656&4294967295,S=N+(C<<23&4294967295|C>>>9),C=A+(S^N^j)+I[13]+681279174&4294967295,A=S+(C<<4&4294967295|C>>>28),C=j+(A^S^N)+I[0]+3936430074&4294967295,j=A+(C<<11&4294967295|C>>>21),C=N+(j^A^S)+I[3]+3572445317&4294967295,N=j+(C<<16&4294967295|C>>>16),C=S+(N^j^A)+I[6]+76029189&4294967295,S=N+(C<<23&4294967295|C>>>9),C=A+(S^N^j)+I[9]+3654602809&4294967295,A=S+(C<<4&4294967295|C>>>28),C=j+(A^S^N)+I[12]+3873151461&4294967295,j=A+(C<<11&4294967295|C>>>21),C=N+(j^A^S)+I[15]+530742520&4294967295,N=j+(C<<16&4294967295|C>>>16),C=S+(N^j^A)+I[2]+3299628645&4294967295,S=N+(C<<23&4294967295|C>>>9),C=A+(N^(S|~j))+I[0]+4096336452&4294967295,A=S+(C<<6&4294967295|C>>>26),C=j+(S^(A|~N))+I[7]+1126891415&4294967295,j=A+(C<<10&4294967295|C>>>22),C=N+(A^(j|~S))+I[14]+2878612391&4294967295,N=j+(C<<15&4294967295|C>>>17),C=S+(j^(N|~A))+I[5]+4237533241&4294967295,S=N+(C<<21&4294967295|C>>>11),C=A+(N^(S|~j))+I[12]+1700485571&4294967295,A=S+(C<<6&4294967295|C>>>26),C=j+(S^(A|~N))+I[3]+2399980690&4294967295,j=A+(C<<10&4294967295|C>>>22),C=N+(A^(j|~S))+I[10]+4293915773&4294967295,N=j+(C<<15&4294967295|C>>>17),C=S+(j^(N|~A))+I[1]+2240044497&4294967295,S=N+(C<<21&4294967295|C>>>11),C=A+(N^(S|~j))+I[8]+1873313359&4294967295,A=S+(C<<6&4294967295|C>>>26),C=j+(S^(A|~N))+I[15]+4264355552&4294967295,j=A+(C<<10&4294967295|C>>>22),C=N+(A^(j|~S))+I[6]+2734768916&4294967295,N=j+(C<<15&4294967295|C>>>17),C=S+(j^(N|~A))+I[13]+1309151649&4294967295,S=N+(C<<21&4294967295|C>>>11),C=A+(N^(S|~j))+I[4]+4149444226&4294967295,A=S+(C<<6&4294967295|C>>>26),C=j+(S^(A|~N))+I[11]+3174756917&4294967295,j=A+(C<<10&4294967295|C>>>22),C=N+(A^(j|~S))+I[2]+718787259&4294967295,N=j+(C<<15&4294967295|C>>>17),C=S+(j^(N|~A))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+j&4294967295}i.prototype.v=function(D,A){A===void 0&&(A=D.length);const S=A-this.blockSize,I=this.C;let N=this.h,j=0;for(;j<A;){if(N==0)for(;j<=S;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<A;)if(I[N++]=D.charCodeAt(j++),N==this.blockSize){o(this,I),N=0;break}}else for(;j<A;)if(I[N++]=D[j++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=A},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var S=D.length-8;S<D.length;++S)D[S]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,S=0;S<4;++S)for(let I=0;I<32;I+=8)D[A++]=this.g[S]>>>I&255;return D};function u(D,A){var S=m;return Object.prototype.hasOwnProperty.call(S,D)?S[D]:S[D]=A(D)}function f(D,A){this.h=A;const S=[];let I=!0;for(let N=D.length-1;N>=0;N--){const j=D[N]|0;I&&j==A||(S[N]=j,I=!1)}this.g=S}var m={};function g(D){return-128<=D&&D<128?u(D,function(A){return new f([A|0],A<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return z(y(-D));const A=[];let S=1;for(let I=0;D>=S;I++)A[I]=D/S|0,S*=4294967296;return new f(A,0)}function b(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return z(b(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(A,8));let I=T;for(let j=0;j<D.length;j+=8){var N=Math.min(8,D.length-j);const C=parseInt(D.substring(j,j+N),A);N<8?(N=y(Math.pow(A,N)),I=I.j(N).add(y(C))):(I=I.j(S),I=I.add(y(C)))}return I}var T=g(0),R=g(1),O=g(16777216);a=f.prototype,a.m=function(){if(G(this))return-z(this).m();let D=0,A=1;for(let S=0;S<this.g.length;S++){const I=this.i(S);D+=(I>=0?I:4294967296+I)*A,A*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(G(this))return"-"+z(this).toString(D);const A=y(Math.pow(D,6));var S=this;let I="";for(;;){const N=ce(S,A).g;S=X(S,N.j(A));let j=((S.g.length>0?S.g[0]:S.h)>>>0).toString(D);if(S=N,U(S))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function G(D){return D.h==-1}a.l=function(D){return D=X(this,D),G(D)?-1:U(D)?0:1};function z(D){const A=D.g.length,S=[];for(let I=0;I<A;I++)S[I]=~D.g[I];return new f(S,~D.h).add(R)}a.abs=function(){return G(this)?z(this):this},a.add=function(D){const A=Math.max(this.g.length,D.g.length),S=[];let I=0;for(let N=0;N<=A;N++){let j=I+(this.i(N)&65535)+(D.i(N)&65535),C=(j>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);I=C>>>16,j&=65535,C&=65535,S[N]=C<<16|j}return new f(S,S[S.length-1]&-2147483648?-1:0)};function X(D,A){return D.add(z(A))}a.j=function(D){if(U(this)||U(D))return T;if(G(this))return G(D)?z(this).j(z(D)):z(z(this).j(D));if(G(D))return z(this.j(z(D)));if(this.l(O)<0&&D.l(O)<0)return y(this.m()*D.m());const A=this.g.length+D.g.length,S=[];for(var I=0;I<2*A;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<D.g.length;N++){const j=this.i(I)>>>16,C=this.i(I)&65535,xe=D.i(N)>>>16,nt=D.i(N)&65535;S[2*I+2*N]+=C*nt,re(S,2*I+2*N),S[2*I+2*N+1]+=j*nt,re(S,2*I+2*N+1),S[2*I+2*N+1]+=C*xe,re(S,2*I+2*N+1),S[2*I+2*N+2]+=j*xe,re(S,2*I+2*N+2)}for(D=0;D<A;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=A;D<2*A;D++)S[D]=0;return new f(S,0)};function re(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function ne(D,A){this.g=D,this.h=A}function ce(D,A){if(U(A))throw Error("division by zero");if(U(D))return new ne(T,T);if(G(D))return A=ce(z(D),A),new ne(z(A.g),z(A.h));if(G(A))return A=ce(D,z(A)),new ne(z(A.g),A.h);if(D.g.length>30){if(G(D)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var S=R,I=A;I.l(D)<=0;)S=de(S),I=de(I);var N=ve(S,1),j=ve(I,1);for(I=ve(I,2),S=ve(S,2);!U(I);){var C=j.add(I);C.l(D)<=0&&(N=N.add(S),j=C),I=ve(I,1),S=ve(S,1)}return A=X(D,N.j(A)),new ne(N,A)}for(N=T;D.l(A)>=0;){for(S=Math.max(1,Math.floor(D.m()/A.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=y(S),C=j.j(A);G(C)||C.l(D)>0;)S-=I,j=y(S),C=j.j(A);U(j)&&(j=R),N=N.add(j),D=X(D,C)}return new ne(N,D)}a.B=function(D){return ce(this,D).h},a.and=function(D){const A=Math.max(this.g.length,D.g.length),S=[];for(let I=0;I<A;I++)S[I]=this.i(I)&D.i(I);return new f(S,this.h&D.h)},a.or=function(D){const A=Math.max(this.g.length,D.g.length),S=[];for(let I=0;I<A;I++)S[I]=this.i(I)|D.i(I);return new f(S,this.h|D.h)},a.xor=function(D){const A=Math.max(this.g.length,D.g.length),S=[];for(let I=0;I<A;I++)S[I]=this.i(I)^D.i(I);return new f(S,this.h^D.h)};function de(D){const A=D.g.length+1,S=[];for(let I=0;I<A;I++)S[I]=D.i(I)<<1|D.i(I-1)>>>31;return new f(S,D.h)}function ve(D,A){const S=A>>5;A%=32;const I=D.g.length-S,N=[];for(let j=0;j<I;j++)N[j]=A>0?D.i(j+S)>>>A|D.i(j+S+1)<<32-A:D.i(j+S);return new f(N,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,o1=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Za=f}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var u1,Ro,c1,Bc,gm,h1,f1,d1;(function(){var a,e=Object.defineProperty;function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=r(this);function o(c,p){if(p)e:{var v=i;c=c.split(".");for(var w=0;w<c.length-1;w++){var P=c[w];if(!(P in v))break e;v=v[P]}c=c[c.length-1],w=v[c],p=p(w),p!=w&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&v.push([w,p[w]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function b(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,P,Q){for(var ie=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ie[Ce-2]=arguments[Ce];return p.prototype[P].apply(w,ie)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const p=c.length;if(p>0){const v=Array(p);for(let w=0;w<p;w++)v[w]=c[w];return v}return[]}function U(c,p){for(let w=1;w<arguments.length;w++){const P=arguments[w];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const Q=P.length||0;c.length=v+Q;for(let ie=0;ie<Q;ie++)c[v+ie]=P[ie]}else c.push(P)}}class G{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function z(c){f.setTimeout(()=>{throw c},0)}function X(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class re{constructor(){this.h=this.g=null}add(p,v){const w=ne.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ne=new G(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ve=!1,D=new re,A=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(S)}};function S(){for(var c;c=X();){try{c.h.call(c.g)}catch(v){z(v)}var p=ne;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ve=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function xe(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}T(xe,N),xe.prototype.init=function(c,p){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),K=0;function oe(c,p,v,w,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=P,this.key=++K,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Te(c,p,v){for(const w in c)p.call(v,c[w],w,c)}function se(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function V(c){const p={};for(const v in c)p[v]=c[v];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,p){let v,w;for(let P=1;P<arguments.length;P++){w=arguments[P];for(v in w)c[v]=w[v];for(let Q=0;Q<Y.length;Q++)v=Y[Q],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,v,w,P){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ie=Ae(c,p,w,P);return ie>-1?(p=c[ie],v||(p.fa=!1)):(p=new oe(p,this.src,Q,!!w,P),p.fa=v,c.push(p)),p};function _e(c,p){const v=p.type;if(v in c.g){var w=c.g[v],P=Array.prototype.indexOf.call(w,p,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(w,P,1),Q&&(ge(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ae(c,p,v,w){for(let P=0;P<c.length;++P){const Q=c[P];if(!Q.da&&Q.listener==p&&Q.capture==!!v&&Q.ha==w)return P}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function lt(c,p,v,w,P){if(Array.isArray(p)){for(let Q=0;Q<p.length;Q++)lt(c,p[Q],v,w,P);return null}return v=vl(v),c&&c[nt]?c.J(p,v,m(w)?!!w.capture:!1,P):ui(c,p,v,!1,w,P)}function ui(c,p,v,w,P,Q){if(!p)throw Error("Invalid event type");const ie=m(P)?!!P.capture:!!P;let Ce=ci(c);if(Ce||(c[Ue]=Ce=new ue(c)),v=Ce.add(p,v,w,ie,Q),v.proxy)return v;if(w=ns(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)j||(P=ie),P===void 0&&(P=!1),c.addEventListener(p.toString(),w,P);else if(c.attachEvent)c.attachEvent(ur(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ns(){function c(v){return p.call(c.src,c.listener,v)}const p=yl;return c}function rs(c,p,v,w,P){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)rs(c,p[Q],v,w,P);else w=m(w)?!!w.capture:!!w,v=vl(v),c&&c[nt]?(c=c.i,Q=String(p).toString(),Q in c.g&&(p=c.g[Q],v=Ae(p,v,w,P),v>-1&&(ge(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[Q],c.h--)))):c&&(c=ci(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ae(p,v,w,P)),(v=c>-1?p[c]:null)&&as(v))}function as(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[nt])_e(p.i,c);else{var v=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(v,w,c.capture):p.detachEvent?p.detachEvent(ur(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=ci(p))?(_e(v,c),v.h==0&&(v.src=null,p[Ue]=null)):ge(c)}}}function ur(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function yl(c,p){if(c.da)c=!0;else{p=new xe(p,this);const v=c.listener,w=c.ha||c.src;c.fa&&as(c),c=v.call(w,p)}return c}function ci(c){return c=c[Ue],c instanceof ue?c:null}var _l="__closure_events_fn_"+(Math.random()*1e9>>>0);function vl(c){return typeof c=="function"?c:(c[_l]||(c[_l]=function(p){return c.handleEvent(p)}),c[_l])}function bt(){I.call(this),this.i=new ue(this),this.M=this,this.G=null}T(bt,I),bt.prototype[nt]=!0,bt.prototype.removeEventListener=function(c,p,v,w){rs(this,c,p,v,w)};function Vt(c,p){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var P=p;p=new N(w,c),ae(p,P)}P=!0;let Q,ie;if(v)for(ie=v.length-1;ie>=0;ie--)Q=p.g=v[ie],P=ha(Q,w,!0,p)&&P;if(Q=p.g=c,P=ha(Q,w,!0,p)&&P,P=ha(Q,w,!1,p)&&P,v)for(ie=0;ie<v.length;ie++)Q=p.g=v[ie],P=ha(Q,w,!1,p)&&P}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let w=0;w<v.length;w++)ge(v[w]);delete c.g[p],c.h--}}this.G=null},bt.prototype.J=function(c,p,v,w){return this.i.add(String(c),p,!1,v,w)},bt.prototype.K=function(c,p,v,w){return this.i.add(String(c),p,!0,v,w)};function ha(c,p,v,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let Q=0;Q<p.length;++Q){const ie=p[Q];if(ie&&!ie.da&&ie.capture==v){const Ce=ie.listener,pt=ie.ha||ie.src;ie.fa&&_e(c.i,ie),P=Ce.call(pt,w)!==!1&&P}}return P&&!w.defaultPrevented}function Lh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function ru(c){c.g=Lh(()=>{c.g=null,c.i&&(c.i=!1,ru(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class an extends I{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(c){I.call(this),this.h=c,this.g={}}T(hi,I);var bl=[];function El(c){Te(c.g,function(p,v){this.g.hasOwnProperty(v)&&as(p)},c),c.g={}}hi.prototype.N=function(){hi.Z.N.call(this),El(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=f.JSON.stringify,Ph=f.JSON.parse,au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function iu(){}function su(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){N.call(this,"d")}T(qt,N);function kn(){N.call(this,"c")}T(kn,N);var gt={},lu=null;function is(){return lu=lu||new bt}gt.Ia="serverreachability";function ou(c){N.call(this,gt.Ia,c)}T(ou,N);function cr(c){const p=is();Vt(p,new ou(p))}gt.STAT_EVENT="statevent";function fi(c,p){N.call(this,gt.STAT_EVENT,c),this.stat=p}T(fi,N);function Et(c){const p=is();Vt(p,new fi(p,c))}gt.Ja="timingevent";function hr(c,p){N.call(this,gt.Ja,c),this.size=p}T(hr,N);function fr(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Bh(c,p,v,w,P,Q){c.info(function(){if(c.g)if(Q){var ie="",Ce=Q.split("&");for(let He=0;He<Ce.length;He++){var pt=Ce[He].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const jn=ot.split("_");ie=jn.length>=2&&jn[1]=="type"?ie+(ot+"="+pt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=Q;return"XMLHTTP REQ ("+w+") [attempt "+P+"]: "+p+`
`+v+`
`+ie})}function uu(c,p,v,w,P,Q,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+P+"]: "+p+`
`+v+`
`+Q+" "+ie})}function dr(c,p,v,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Fh(c,v)+(w?" "+w:"")})}function di(c,p){c.info(function(){return"TIMEOUT: "+p})}Yn.prototype.info=function(){};function Fh(c,p){if(!c.g)return p;if(!p)return null;try{const Q=JSON.parse(p);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var P=w[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return fa(Q)}catch{return p}}var mi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function gi(){}T(gi,iu),gi.prototype.g=function(){return new XMLHttpRequest},xl=new gi;function Lr(c){return encodeURIComponent(String(c))}function cu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Kn(c,p,v,w){this.j=c,this.i=p,this.l=v,this.S=w||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Tt={},Ut={};function mr(c,p,v){c.M=1,c.A=pi(At(p)),c.u=v,c.R=!0,ss(c,null)}function ss(c,p){c.F=Date.now(),gr(c),c.B=At(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),cs(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Xn,c.g=wu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new an(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,w=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(bl[0]=P.toString()),P=bl);for(let Q=0;Q<P.length;Q++){const ie=lt(v,P[Q],w||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),cr(),Bh(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Wn(c)==3?p.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Wn(this.g),pt=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ce!=4||pt==7||(pt==8||He<=0?cr(3):cr(2)),pr(this);var p=this.g.ca();this.X=p;var v=qh(this);if(this.o=p==200,uu(this.i,this.v,this.B,this.l,this.S,Ce,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,P=this.g;if((w=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var Q=w;break t}}Q=null}if(c=Q)dr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yr(this,c);else{this.o=!1,this.m=3,Et(12),bn(this),On(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=fu(this,v),ot==Ut){Ce==4&&(this.m=4,Et(14),c=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),dr(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else dr(this.i,this.l,ot,null),yr(this,ot);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)dr(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ul(ie),ie.P=!0,Et(11))}}else dr(this.i,this.l,v,null),yr(this,v);Ce==4&&bn(this),this.o&&!this.K&&(Ce==4?Eu(this.j,this):(this.o=!1,gr(this)))}else Br(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),bn(this),On(this)}}}catch{}finally{}};function qh(c){if(!hu(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let v="";const w=p.length,P=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),On(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<w;Q++)c.h.h=!0,v+=c.h.i.decode(p[Q],{stream:!(P&&Q==w-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,p){var v=c.C,w=p.indexOf(`
`,v);return w==-1?Ut:(v=Number(p.substring(v,w)),isNaN(v)?Tt:(w+=1,w+v>p.length?Ut:(p=p.slice(w,w+v),c.C=w+v,p)))}Kn.prototype.cancel=function(){this.K=!0,bn(this)};function gr(c){c.T=Date.now()+c.H,ls(c,c.H)}function ls(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fr(y(c.aa,c),p)}function pr(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(di(this.i,this.B),this.M!=2&&(cr(),Et(17)),bn(this),this.m=2,On(this)):ls(this,this.T-c)};function On(c){c.j.I==0||c.K||Eu(c.j,c)}function bn(c){pr(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,El(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function yr(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||vr(v.h,c))){if(!c.L&&vr(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var P=w;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)gs(v),ba(v);else break e;xi(v),Et(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fr(y(v.Va,v),6e3));_r(v.h)<=1&&v.ta&&(v.ta=void 0)}else wr(v,11)}else if((c.L||v.g==c)&&gs(v),!C(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let He=P[p];const ot=He[0];if(!(ot<=v.K))if(v.K=ot,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const jn=He[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Sr=He[4];Sr!=null&&(v.za=Sr,v.j.info("SVER="+v.za));const er=He[5];er!=null&&typeof er=="number"&&er>0&&(w=1.5*er,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const tr=c.g;if(tr){const Ai=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var Q=w.h;Q.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Sl(Q,Q.h),Q.h=null))}if(w.G){const ps=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(w.wa=ps,$e(w.J,w.G,ps))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ie=c;if(w.na=Au(w,w.L?w.ba:null,w.W),ie.L){Rl(w.h,ie);var Ce=ie,pt=w.O;pt&&(Ce.H=pt),Ce.D&&(pr(Ce),gr(Ce)),w.g=ie}else vu(w);v.i.length>0&&Ar(v)}else He[0]!="stop"&&He[0]!="close"||wr(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?wr(v,7):jl(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}cr(4)}catch{}}var xt=class{constructor(c,p){this.g=c,this.map=p}};function Al(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _r(c){return c.h?1:c.g?c.g.size:0}function vr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Sl(c,p){c.g?c.g.add(p):c.h=p}function Rl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Al.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return O(c.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let P,Q=null;w>=0?(P=c[v].substring(0,w),Q=c[v].substring(w+1)):P=c[v],p(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof En?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,da(this,c.u),this.h=c.h,Nl(this,yu(c.i)),this.m=c.m):c&&(p=String(c).match(du))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=br(p[2]||""),this.g=br(p[3]||"",!0),da(this,p[4]),this.h=br(p[5]||"",!0),Nl(this,p[6]||"",!0),this.m=br(p[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}En.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(yi(p,us,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(yi(p,us,!0),"@"),c.push(Lr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(yi(v,v.charAt(0)=="/"?Dl:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",yi(v,gu)),c.join("")},En.prototype.resolve=function(c){const p=At(this);let v=!!c.j;v?Lt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var w=c.h;if(v)da(p,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var P=p.h.lastIndexOf("/");P!=-1&&(w=p.h.slice(0,P+1)+w)}if(P=w,P==".."||P==".")w="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){w=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let ie=0;ie<P.length;){const Ce=P[ie++];Ce=="."?w&&ie==P.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ie==P.length&&Q.push("")):(Q.push(Ce),w=!0)}w=Q.join("/")}else w=P}return v?p.h=w:v=c.i.toString()!=="",v?Nl(p,yu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function At(c){return new En(c)}function Lt(c,p,v){c.j=v?br(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function da(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Nl(c,p,v){p instanceof ga?(c.i=p,hs(c.i,c.l)):(v||(p=yi(p,ma)),c.i=new ga(p,c.l))}function $e(c,p,v){c.i.set(p,v)}function pi(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function br(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yi(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,cn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var us=/[#\/\?@]/g,mu=/[#\?:]/g,Dl=/[#\?]/g,ma=/[#\?@]/g,gu=/#/g;function ga(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&os(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}a=ga.prototype,a.add=function(c,p){hn(this),this.i=null,c=pa(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function pu(c,p){hn(c),p=pa(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Il(c,p){return hn(c),p=pa(c,p),c.g.has(p)}a.forEach=function(c,p){hn(this),this.g.forEach(function(v,w){v.forEach(function(P){c.call(p,P,w,this)},this)},this)};function kl(c,p){hn(c);let v=[];if(typeof p=="string")Il(c,p)&&(v=v.concat(c.g.get(pa(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}a.set=function(c,p){return hn(this),this.i=null,c=pa(this,c),Il(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},a.get=function(c,p){return c?(c=kl(this,c),c.length>0?String(c[0]):p):p};function cs(c,p,v){pu(c,p),v.length>0&&(c.i=null,c.g.set(pa(c,p),O(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var v=p[w];const P=Lr(v);v=kl(this,v);for(let Q=0;Q<v.length;Q++){let ie=P;v[Q]!==""&&(ie+="="+Lr(v[Q])),c.push(ie)}}return this.i=c.join("&")};function yu(c){const p=new ga;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function pa(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function hs(c,p){p&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(v,w){const P=w.toLowerCase();w!=P&&(pu(this,w),cs(this,P,v))},c)),c.j=p}function Zn(c,p){const v=new Yn;if(f.Image){const w=new Image;w.onload=b(Vn,v,"TestLoadImage: loaded",!0,p,w),w.onerror=b(Vn,v,"TestLoadImage: error",!1,p,w),w.onabort=b(Vn,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=b(Vn,v,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function Ol(c,p){const v=new Yn,w=new AbortController,P=setTimeout(()=>{w.abort(),Vn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(P),Q.ok?Vn(v,"TestPingServer: ok",!0,p):Vn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Vn(v,"TestPingServer: error",!1,p)})}function Vn(c,p,v,w,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),w(v)}catch{}}function ya(){this.g=new au}function Er(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Er,iu),Er.prototype.g=function(){return new _i(this.i,this.h)};function _i(c,p){bt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(_i,bt),a=_i.prototype,a.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Jn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_a(this):Jn(this),this.readyState==3&&fs(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,_a(this))},a.Na=function(c){this.g&&(this.response=c,_a(this))},a.ga=function(){this.g&&_a(this)};function _a(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}a.setRequestHeader=function(c,p){this.A.append(c,p)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let p="";return Te(c,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function vi(c,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Mn(v),typeof c=="string"?v!=null&&Lr(v):$e(c,p,v))}function Xe(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,bt);var Tr=/^https?$/i,Vl=["POST","PUT"];a=Xe.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){bi(this,Q);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var P in w)v.set(P,w[P]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())v.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Vl,p,void 0)>=0)||w||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ie]of v)this.g.setRequestHeader(Q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){bi(this,Q)}};function bi(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ml(c),Pr(c)}function Ml(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Pr(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),Xe.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ei(this):this.Xa())},a.Xa=function(){Ei(this)};function Ei(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=Q===0){let ie=String(c.D).match(du)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),w=!Tr.test(ie?ie.toLowerCase():"")}v=w}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var P=Wn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Ml(c)}}finally{Pr(c)}}}}function Pr(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ph(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Br(c){const p={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var v=cu(c[w]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=p[P]||[];p[P]=Q,Q.push(v)}se(p,function(w){return w.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function va(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xr("baseRetryDelayMs",5e3,c),this.Za=xr("retryDelaySeedMs",1e4,c),this.Ta=xr("forwardChannelMaxRetries",2,c),this.va=xr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(c&&c.concurrentRequestLimit),this.Ba=new ya,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=va.prototype,a.ka=8,a.I=1,a.connect=function(c,p,v,w){Et(0),this.W=c,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Au(this,null,this.W),Ar(this)};function jl(c){if(ds(c),c.I==3){var p=c.V++,v=At(c.J);if($e(v,"SID",c.M),$e(v,"RID",p),$e(v,"TYPE","terminate"),Ti(c,v),p=new Kn(c,c.j,p),p.M=2,p.A=pi(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=wu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gr(p)}xu(c)}function ba(c){c.g&&(Ul(c),c.g.cancel(),c.g=null)}function ds(c){ba(c),c.v&&(f.clearTimeout(c.v),c.v=null),gs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ar(c){if(!wl(c.h)&&!c.m){c.m=!0;var p=c.Ea;de||A(),ve||(de(),ve=!0),D.add(p,c),c.D=0}}function ms(c,p){return _r(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fr(y(c.Ea,c,p),Tu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Kn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=V(Q),ae(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=_u(this,P,p),v=At(this.J),$e(v,"RID",c),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),Ti(this,v),Q&&(this.R?p="headers="+Lr(Mn(Q))+"&"+p:this.u&&vi(v,this.u,Q)),Sl(this.h,P),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",p),$e(v,"SID","null"),P.U=!0,mr(P,v,null)):mr(P,v,p),this.I=2}}else this.I==3&&(c?zl(this,c):this.i.length==0||wl(this.h)||zl(this))};function zl(c,p){var v;p?v=p.l:v=c.V++;const w=At(c.J);$e(w,"SID",c.M),$e(w,"RID",v),$e(w,"AID",c.K),Ti(c,w),c.u&&c.o&&vi(w,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=_u(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Sl(c.h,v),mr(v,w,p)}function Ti(c,p){c.H&&Te(c.H,function(v,w){$e(p,w,v)}),c.l&&Te({},function(v,w){$e(p,w,v)})}function _u(c,p,v){v=Math.min(c.i.length,v);const w=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ce=-1;for(;;){const pt=["count="+v];Ce==-1?v>0?(Ce=P[0].g,pt.push("ofs="+Ce)):Ce=0:pt.push("ofs="+Ce);let He=!0;for(let ot=0;ot<v;ot++){var Q=P[ot].g;const jn=P[ot].map;if(Q-=Ce,Q<0)Ce=Math.max(0,P[ot].g-100),He=!1;else try{Q="req"+Q+"_"||"";try{var ie=jn instanceof Map?jn:Object.entries(jn);for(const[Sr,er]of ie){let tr=er;m(er)&&(tr=fa(er)),pt.push(Q+Sr+"="+encodeURIComponent(tr))}}catch(Sr){throw pt.push(Q+"type="+encodeURIComponent("_badmap")),Sr}}catch{w&&w(jn)}}if(He){ie=pt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),p.G=c,ie}function vu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;de||A(),ve||(de(),ve=!0),D.add(p,c),c.A=0}}function xi(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fr(y(c.Da,c),Tu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fr(y(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),ba(this),bu(this))};function Ul(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function bu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=At(c.na);$e(p,"RID","rpc"),$e(p,"SID",c.M),$e(p,"AID",c.K),$e(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(p,"TO",c.ia),$e(p,"TYPE","xmlhttp"),Ti(c,p),c.u&&c.o&&vi(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=pi(At(p)),v.u=null,v.R=!0,ss(v,c)}a.Va=function(){this.C!=null&&(this.C=null,ba(this),xi(this),Et(19))};function gs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Eu(c,p){var v=null;if(c.g==p){gs(c),Ul(c),c.g=null;var w=2}else if(vr(c.h,p))v=p.G,Rl(c.h,p),w=1;else return;if(c.I!=0){if(p.o)if(w==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;w=is(),Vt(w,new hr(w,v)),Ar(c)}else vu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(w==1&&ms(c,p)||w==2&&xi(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:wr(c,5);break;case 4:wr(c,10);break;case 3:wr(c,6);break;default:wr(c,2)}}}function Tu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function wr(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),w=c.Ua;const P=!w;w=new En(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(w,"https"),pi(w),P?Zn(w.toString(),v):Ol(w.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(p),xu(c),ds(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function xu(c){if(c.I=0,c.ja=[],c.l){const p=Cl(c.h);(p.length!=0||c.i.length!=0)&&(U(c.ja,p),U(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function Au(c,p,v){var w=v instanceof En?At(v):new En(v);if(w.g!="")p&&(w.g=p+"."+w.g),da(w,w.u);else{var P=f.location;w=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const Q=new En(null);w&&Lt(Q,w),p&&(Q.g=p),P&&da(Q,P),v&&(Q.h=v),w=Q}return v=c.G,p=c.wa,v&&p&&$e(w,v,p),$e(w,"VER",c.ka),Ti(c,w),w}function wu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xe(new Er({ab:v})):new Xe(c.ma),p.Fa(c.L),p}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}a=Su.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ea(){}Ea.prototype.g=function(c,p){return new sn(c,p)};function sn(c,p){bt.call(this),this.g=new va(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Fr(this)}T(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){jl(this.g)},sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fa(c),c=v);p.i.push(new xt(p.Ya++,c)),p.I==3&&Ar(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,sn.Z.N.call(this)};function Ru(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(Ru,qt);function Cu(){kn.call(this),this.status=1}T(Cu,kn);function Fr(c){this.g=c}T(Fr,Su),Fr.prototype.ra=function(){Vt(this.g,"a")},Fr.prototype.qa=function(c){Vt(this.g,new Ru(c))},Fr.prototype.pa=function(c){Vt(this.g,new Cu)},Fr.prototype.oa=function(){Vt(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,d1=function(){return new Ea},f1=function(){return is()},h1=gt,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,Bc=mi,Tl.COMPLETE="complete",c1=Tl,su.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Ro=su,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,u1=Xe}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",x_="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let hl="12.3.0";const $i=new Jv("@firebase/firestore");function Ys(){return $i.logLevel}function he(a,...e){if($i.logLevel<=Pe.DEBUG){const r=e.map(Bm);$i.debug(`Firestore (${hl}): ${a}`,...r)}}function la(a,...e){if($i.logLevel<=Pe.ERROR){const r=e.map(Bm);$i.error(`Firestore (${hl}): ${a}`,...r)}}function nl(a,...e){if($i.logLevel<=Pe.WARN){const r=e.map(Bm);$i.warn(`Firestore (${hl}): ${a}`,...r)}}function Bm(a){if(typeof a=="string")return a;try{return(function(r){return JSON.stringify(r)})(a)}catch{return a}}function Ee(a,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,m1(a,i,r)}function m1(a,e,r){let i=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(r!==void 0)try{i+=" CONTEXT: "+JSON.stringify(r)}catch{i+=" CONTEXT: "+r}throw la(i),new Error(i)}function Qe(a,e,r,i){let o="Unexpected state";typeof r=="string"?o=r:i=r,a||m1(e,o,i)}function Re(a,e){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Xi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ja{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class g1{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(nn.UNAUTHENTICATED)))}shutdown(){}}class KA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class XA{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Qe(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,r(g)):Promise.resolve();let u=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ja,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ja)}}),0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string",31837,{l:i}),new g1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class ZA{constructor(e,r,i){this.P=e,this.T=r,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JA{constructor(e,r,i){this.P=e,this.T=r,this.I=i}getToken(){return Promise.resolve(new ZA(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,n1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Qe(this.o===void 0,3512);const i=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Qe(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new A_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ew(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<a;i++)r[i]=Math.floor(256*Math.random());return r}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=ew(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<r&&(i+=e.charAt(o[u]%62))}return i}}function Me(a,e){return a<e?-1:a>e?1:0}function pm(a,e){const r=Math.min(a.length,e.length);for(let i=0;i<r;i++){const o=a.charAt(i),u=e.charAt(i);if(o!==u)return Yd(o)===Yd(u)?Me(o,u):Yd(o)?1:-1}return Me(a.length,e.length)}const tw=55296,nw=57343;function Yd(a){const e=a.charCodeAt(0);return e>=tw&&e<=nw}function rl(a,e,r){return a.length===e.length&&a.every(((i,o)=>r(i,e[o])))}const w_="__name__";class Ir{constructor(e,r,i){r===void 0?r=0:r>e.length&&Ee(637,{offset:r,range:e.length}),i===void 0?i=e.length-r:i>e.length-r&&Ee(1746,{length:i,range:e.length-r}),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return Ir.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ir?e.forEach((i=>{r.push(i)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const i=Math.min(e.length,r.length);for(let o=0;o<i;o++){const u=Ir.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Me(e.length,r.length)}static compareSegments(e,r){const i=Ir.isNumericId(e),o=Ir.isNumericId(r);return i&&!o?-1:!i&&o?1:i&&o?Ir.extractNumericId(e).compare(Ir.extractNumericId(r)):pm(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class tt extends Ir{construct(e,r,i){return new tt(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter((o=>o.length>0)))}return new tt(r)}static emptyPath(){return new tt([])}}const rw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ir{construct(e,r,i){return new Xt(e,r,i)}static isValidIdentifier(e){return rw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w_}static keyField(){return new Xt([w_])}static fromServerFormat(e){const r=[];let i="",o=0;const u=()=>{if(i.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(i+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(r)}static emptyPath(){return new Xt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return tt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}function p1(a,e,r){if(!r)throw new le(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function aw(a,e,r,i){if(e===!0&&i===!0)throw new le(J.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function S_(a){if(!pe.isDocumentKey(a))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function R_(a){if(pe.isDocumentKey(a))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function y1(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function mh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ee(12329,{type:typeof a})}function sr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=mh(a);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function iw(a,e){if(e<=0)throw new le(J.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}function It(a,e){const r={typeString:a};return e&&(r.value=e),r}function $o(a,e){if(!y1(a))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let r;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in a)){r=`JSON missing required field: '${i}'`;break}const f=a[i];if(o&&typeof f!==o){r=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){r=`Expected '${i}' field to equal '${u.value}'`;break}}if(r)throw new le(J.INVALID_ARGUMENT,r);return!0}const C_=-62135596800,N_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),i=Math.floor((e-1e3*r)*N_);return new st(r,i)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<C_)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($o(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:It("string",st._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new st(0,0))}static max(){return new we(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Lo=-1;function sw(a,e){const r=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,o=we.fromTimestamp(i===1e9?new st(r+1,0):new st(r,i));return new ei(o,pe.empty(),e)}function lw(a){return new ei(a.readTime,a.key,Lo)}class ei{constructor(e,r,i){this.readTime=e,this.documentKey=r,this.largestBatchId=i}static min(){return new ei(we.min(),pe.empty(),Lo)}static max(){return new ei(we.max(),pe.empty(),Lo)}}function ow(a,e){let r=a.readTime.compareTo(e.readTime);return r!==0?r:(r=pe.comparator(a.documentKey,e.documentKey),r!==0?r:Me(a.largestBatchId,e.largestBatchId))}const uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fl(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==uw)throw a;he("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new te(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(i,o)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof te?r:te.resolve(r)}catch(r){return te.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):te.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):te.reject(r)}static resolve(e){return new te(((r,i)=>{r(e)}))}static reject(e){return new te(((r,i)=>{i(e)}))}static waitFor(e){return new te(((r,i)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&r()}),(g=>i(g)))})),f=!0,u===o&&r()}))}static or(e){let r=te.resolve(!1);for(const i of e)r=r.next((o=>o?te.resolve(o):i()));return r}static forEach(e,r){const i=[];return e.forEach(((o,u)=>{i.push(r.call(this,o,u))})),this.waitFor(i)}static mapArray(e,r){return new te(((i,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;r(e[y]).next((b=>{f[y]=b,++m,m===u&&i(f)}),(b=>o(b)))}}))}static doWhile(e,r){return new te(((i,o)=>{const u=()=>{e()===!0?r().next((()=>{u()}),o):i()};u()}))}}function hw(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function dl(a){return a.name==="IndexedDbTransactionError"}class gh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const qm=-1;function ph(a){return a==null}function Wc(a){return a===0&&1/a==-1/0}function fw(a){return typeof a=="number"&&Number.isInteger(a)&&!Wc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const _1="";function dw(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=D_(e)),e=mw(a.get(r),e);return D_(e)}function mw(a,e){let r=e;const i=a.length;for(let o=0;o<i;o++){const u=a.charAt(o);switch(u){case"\0":r+="";break;case _1:r+="";break;default:r+=u}}return r}function D_(a){return a+_1+""}function I_(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function li(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function v1(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ct{constructor(e,r){this.comparator=e,this.root=r||Kt.EMPTY}insert(e,r){return new ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return r+i.left.size;o<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,i)=>(e(r,i),!1)))}toString(){const e=[];return this.inorderTraversal(((r,i)=>(e.push(`${r}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,r,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?i(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,r,i,o,u){this.key=e,this.value=r,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,o,u){return new Kt(e??this.key,r??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,i),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,r,i,o,u){return this}insert(e,r,i){return new Kt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,i)=>(e(r),!1)))}forEachInRange(e,r){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((i=>{r=r.add(i)})),r}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new jt(this.comparator);return r.data=e,r}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Dn([])}unionWith(e){let r=new jt(Xt.comparator);for(const i of this.fields)r=r.add(i);for(const i of e)r=r.add(i);return new Dn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((r,i)=>r.isEqual(i)))}}class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new b1("Invalid base64 string: "+u):u}})(e);return new Jt(r)}static fromUint8Array(e){const r=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const gw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(a){if(Qe(!!a,39018),typeof a=="string"){let e=0;const r=gw.exec(a);if(Qe(!!r,46558,{timestamp:a}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(a.seconds),nanos:vt(a.nanos)}}function vt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ni(a){return typeof a=="string"?Jt.fromBase64String(a):Jt.fromUint8Array(a)}const E1="server_timestamp",T1="__type__",x1="__previous_value__",A1="__local_write_time__";function yh(a){return(a?.mapValue?.fields||{})[T1]?.stringValue===E1}function _h(a){const e=a.mapValue.fields[x1];return yh(e)?_h(e):e}function Po(a){const e=ti(a.mapValue.fields[A1].timestampValue);return new st(e.seconds,e.nanos)}class pw{constructor(e,r,i,o,u,f,m,g,y,b){this.databaseId=e,this.appId=r,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const eh="(default)";class Bo{constructor(e,r){this.projectId=e,this.database=r||eh}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Bo&&e.projectId===this.projectId&&e.database===this.database}}const w1="__type__",yw="__max__",Vc={mapValue:{}},S1="__vector__",th="value";function ri(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?yh(a)?4:vw(a)?9007199254740991:_w(a)?10:11:Ee(28295,{value:a})}function zr(a,e){if(a===e)return!0;const r=ri(a);if(r!==ri(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Po(a).isEqual(Po(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ti(o.timestampValue),m=ti(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return ni(o.bytesValue).isEqual(ni(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Wc(f)===Wc(m):isNaN(f)&&isNaN(m)}return!1})(a,e);case 9:return rl(a.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(I_(f)!==I_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!zr(f[g],m[g])))return!1;return!0})(a,e);default:return Ee(52216,{left:a})}}function Fo(a,e){return(a.values||[]).find((r=>zr(r,e)))!==void 0}function al(a,e){if(a===e)return 0;const r=ri(a),i=ri(e);if(r!==i)return Me(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return Me(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(a,e);case 3:return O_(a.timestampValue,e.timestampValue);case 4:return O_(Po(a),Po(e));case 5:return pm(a.stringValue,e.stringValue);case 6:return(function(u,f){const m=ni(u),g=ni(f);return m.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Me(m[y],g[y]);if(b!==0)return b}return Me(m.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Me(vt(u.latitude),vt(f.latitude));return m!==0?m:Me(vt(u.longitude),vt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return V_(a.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[th]?.arrayValue,b=g[th]?.arrayValue,T=Me(y?.values?.length||0,b?.values?.length||0);return T!==0?T:V_(y,b)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const R=pm(g[T],b[T]);if(R!==0)return R;const O=al(m[g[T]],y[b[T]]);if(O!==0)return O}return Me(g.length,b.length)})(a.mapValue,e.mapValue);default:throw Ee(23264,{he:r})}}function O_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Me(a,e);const r=ti(a),i=ti(e),o=Me(r.seconds,i.seconds);return o!==0?o:Me(r.nanos,i.nanos)}function V_(a,e){const r=a.values||[],i=e.values||[];for(let o=0;o<r.length&&o<i.length;++o){const u=al(r[o],i[o]);if(u)return u}return Me(r.length,i.length)}function il(a){return ym(a)}function ym(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const i=ti(r);return`time(${i.seconds},${i.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return ni(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return pe.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let i="[",o=!0;for(const u of r.values||[])o?o=!1:i+=",",i+=ym(u);return i+"]"})(a.arrayValue):"mapValue"in a?(function(r){const i=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${ym(r.fields[f])}`;return o+"}"})(a.mapValue):Ee(61005,{value:a})}function Fc(a){switch(ri(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(a);return e?16+Fc(e):16;case 5:return 2*a.stringValue.length;case 6:return ni(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+Fc(u)),0)})(a.arrayValue);case 10:case 11:return(function(i){let o=0;return li(i.fields,((u,f)=>{o+=u.length+Fc(f)})),o})(a.mapValue);default:throw Ee(13486,{value:a})}}function nh(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function _m(a){return!!a&&"integerValue"in a}function Hm(a){return!!a&&"arrayValue"in a}function M_(a){return!!a&&"nullValue"in a}function j_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qc(a){return!!a&&"mapValue"in a}function _w(a){return(a?.mapValue?.fields||{})[w1]?.stringValue===S1}function ko(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return li(a.mapValue.fields,((r,i)=>e.mapValue.fields[r]=ko(i))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ko(a.arrayValue.values[r]);return e}return{...a}}function vw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===yw}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let i=0;i<e.length-1;++i)if(r=(r.mapValue.fields||{})[e.get(i)],!qc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(r)}setAll(e){let r=Xt.emptyPath(),i={},o=[];e.forEach(((f,m)=>{if(!r.isImmediateParentOf(m)){const g=this.getFieldsMap(r);this.applyChanges(g,i,o),i={},o=[],r=m.popLast()}f?i[m.lastSegment()]=ko(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,i,o)}delete(e){const r=this.field(e.popLast());qc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=r.mapValue.fields[e.get(i)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(i)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,i){li(r,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new _n(ko(this.value))}}function R1(a){const e=[];return li(a.fields,((r,i)=>{const o=new Xt([r]);if(qc(i)){const u=R1(i.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Dn(e)}class rn{constructor(e,r,i,o,u,f,m){this.key=e,this.documentType=r,this.version=i,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,r,i,o){return new rn(e,1,r,we.min(),i,o,0)}static newNoDocument(e,r){return new rn(e,2,r,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,r){return new rn(e,3,r,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sl{constructor(e,r){this.position=e,this.inclusive=r}}function z_(a,e,r){let i=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?i=pe.comparator(pe.fromName(f.referenceValue),r.key):i=al(f,r.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function U_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!zr(a.position[r],e.position[r]))return!1;return!0}class qo{constructor(e,r="asc"){this.field=e,this.dir=r}}function bw(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class C1{}class Dt extends C1{constructor(e,r,i){super(),this.field=e,this.op=r,this.value=i}static create(e,r,i){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,i):new Tw(e,r,i):r==="array-contains"?new ww(e,i):r==="in"?new Sw(e,i):r==="not-in"?new Rw(e,i):r==="array-contains-any"?new Cw(e,i):new Dt(e,r,i)}static createKeyFieldInFilter(e,r,i){return r==="in"?new xw(e,i):new Aw(e,i)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(al(r,this.value)):r!==null&&ri(this.value)===ri(r)&&this.matchesComparison(al(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends C1{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new lr(e,r)}matches(e){return N1(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N1(a){return a.op==="and"}function D1(a){return Ew(a)&&N1(a)}function Ew(a){for(const e of a.filters)if(e instanceof lr)return!1;return!0}function vm(a){if(a instanceof Dt)return a.field.canonicalString()+a.op.toString()+il(a.value);if(D1(a))return a.filters.map((e=>vm(e))).join(",");{const e=a.filters.map((r=>vm(r))).join(",");return`${a.op}(${e})`}}function I1(a,e){return a instanceof Dt?(function(i,o){return o instanceof Dt&&i.op===o.op&&i.field.isEqual(o.field)&&zr(i.value,o.value)})(a,e):a instanceof lr?(function(i,o){return o instanceof lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,f,m)=>u&&I1(f,o.filters[m])),!0):!1})(a,e):void Ee(19439)}function k1(a){return a instanceof Dt?(function(r){return`${r.field.canonicalString()} ${r.op} ${il(r.value)}`})(a):a instanceof lr?(function(r){return r.op.toString()+" {"+r.getFilters().map(k1).join(" ,")+"}"})(a):"Filter"}class Tw extends Dt{constructor(e,r,i){super(e,r,i),this.key=pe.fromName(i.referenceValue)}matches(e){const r=pe.comparator(e.key,this.key);return this.matchesComparison(r)}}class xw extends Dt{constructor(e,r){super(e,"in",r),this.keys=O1("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Aw extends Dt{constructor(e,r){super(e,"not-in",r),this.keys=O1("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function O1(a,e){return(e.arrayValue?.values||[]).map((r=>pe.fromName(r.referenceValue)))}class ww extends Dt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Hm(r)&&Fo(r.arrayValue,this.value)}}class Sw extends Dt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Fo(this.value.arrayValue,r)}}class Rw extends Dt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Fo(this.value.arrayValue,r)}}class Cw extends Dt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Hm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((i=>Fo(this.value.arrayValue,i)))}}class Nw{constructor(e,r=null,i=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=r,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function L_(a,e=null,r=[],i=[],o=null,u=null,f=null){return new Nw(a,e,r,i,o,u,f)}function Gm(a){const e=Re(a);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((i=>vm(i))).join(","),r+="|ob:",r+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),ph(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((i=>il(i))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((i=>il(i))).join(",")),e.Te=r}return e.Te}function Qm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!bw(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!I1(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!U_(a.startAt,e.startAt)&&U_(a.endAt,e.endAt)}function bm(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Zi{constructor(e,r=null,i=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dw(a,e,r,i,o,u,f,m){return new Zi(a,e,r,i,o,u,f,m)}function $m(a){return new Zi(a)}function P_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Ym(a){return a.collectionGroup!==null}function Js(a){const e=Re(a);if(e.Ie===null){e.Ie=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),r.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new jt(Xt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qo(u,i))})),r.has(Xt.keyField().canonicalString())||e.Ie.push(new qo(Xt.keyField(),i))}return e.Ie}function Or(a){const e=Re(a);return e.Ee||(e.Ee=Iw(e,Js(a))),e.Ee}function Iw(a,e){if(a.limitType==="F")return L_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new qo(o.field,u)}));const r=a.endAt?new sl(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new sl(a.startAt.position,a.startAt.inclusive):null;return L_(a.path,a.collectionGroup,e,a.filters,a.limit,r,i)}}function Em(a,e){const r=a.filters.concat([e]);return new Zi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function rh(a,e,r){return new Zi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function vh(a,e){return Qm(Or(a),Or(e))&&a.limitType===e.limitType}function V1(a){return`${Gm(Or(a))}|lt:${a.limitType}`}function Ks(a){return`Query(target=${(function(r){let i=r.path.canonicalString();return r.collectionGroup!==null&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map((o=>k1(o))).join(", ")}]`),ph(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),r.startAt&&(i+=", startAt: ",i+=r.startAt.inclusive?"b:":"a:",i+=r.startAt.position.map((o=>il(o))).join(",")),r.endAt&&(i+=", endAt: ",i+=r.endAt.inclusive?"a:":"b:",i+=r.endAt.position.map((o=>il(o))).join(",")),`Target(${i})`})(Or(a))}; limitType=${a.limitType})`}function bh(a,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):pe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(a,e)&&(function(i,o){for(const u of Js(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(i,o){return!(i.startAt&&!(function(f,m,g){const y=z_(f,m,g);return f.inclusive?y<=0:y<0})(i.startAt,Js(i),o)||i.endAt&&!(function(f,m,g){const y=z_(f,m,g);return f.inclusive?y>=0:y>0})(i.endAt,Js(i),o))})(a,e)}function kw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function M1(a){return(e,r)=>{let i=!1;for(const o of Js(a)){const u=Ow(o,e,r);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function Ow(a,e,r){const i=a.field.isKeyField()?pe.comparator(e.key,r.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?al(g,y):Ee(42886)})(a.field,e,r);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:a.dir})}}class Ji{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[r]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,((r,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}const Vw=new ct(pe.comparator);function oa(){return Vw}const j1=new ct(pe.comparator);function Co(...a){let e=j1;for(const r of a)e=e.insert(r.key,r);return e}function z1(a){let e=j1;return a.forEach(((r,i)=>e=e.insert(r,i.overlayedDocument))),e}function Fi(){return Oo()}function U1(){return Oo()}function Oo(){return new Ji((a=>a.toString()),((a,e)=>a.isEqual(e)))}const Mw=new ct(pe.comparator),jw=new jt(pe.comparator);function je(...a){let e=jw;for(const r of a)e=e.add(r);return e}const zw=new jt(Me);function Uw(){return zw}function Km(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function L1(a){return{integerValue:""+a}}function Lw(a,e){return fw(e)?L1(e):Km(a,e)}class Eh{constructor(){this._=void 0}}function Pw(a,e,r){return a instanceof ah?(function(o,u){const f={fields:{[T1]:{stringValue:E1},[A1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yh(u)&&(u=_h(u)),u&&(f.fields[x1]=u),{mapValue:f}})(r,e):a instanceof ll?B1(a,e):a instanceof ol?F1(a,e):(function(o,u){const f=P1(o,u),m=B_(f)+B_(o.Ae);return _m(f)&&_m(o.Ae)?L1(m):Km(o.serializer,m)})(a,e)}function Bw(a,e,r){return a instanceof ll?B1(a,e):a instanceof ol?F1(a,e):r}function P1(a,e){return a instanceof ih?(function(i){return _m(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class ah extends Eh{}class ll extends Eh{constructor(e){super(),this.elements=e}}function B1(a,e){const r=q1(e);for(const i of a.elements)r.some((o=>zr(o,i)))||r.push(i);return{arrayValue:{values:r}}}class ol extends Eh{constructor(e){super(),this.elements=e}}function F1(a,e){let r=q1(e);for(const i of a.elements)r=r.filter((o=>!zr(o,i)));return{arrayValue:{values:r}}}class ih extends Eh{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function B_(a){return vt(a.integerValue||a.doubleValue)}function q1(a){return Hm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class H1{constructor(e,r){this.field=e,this.transform=r}}function Fw(a,e){return a.field.isEqual(e.field)&&(function(i,o){return i instanceof ll&&o instanceof ll||i instanceof ol&&o instanceof ol?rl(i.elements,o.elements,zr):i instanceof ih&&o instanceof ih?zr(i.Ae,o.Ae):i instanceof ah&&o instanceof ah})(a.transform,e.transform)}class qw{constructor(e,r){this.version=e,this.transformResults=r}}class vn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Th{}function G1(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new xh(a.key,vn.none()):new Yo(a.key,a.data,vn.none());{const r=a.data,i=_n.empty();let o=new jt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?i.delete(u):i.set(u,f),o=o.add(u)}return new oi(a.key,i,new Dn(o.toArray()),vn.none())}}function Hw(a,e,r){a instanceof Yo?(function(o,u,f){const m=o.value.clone(),g=q_(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(a,e,r):a instanceof oi?(function(o,u,f){if(!Hc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=q_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(Q1(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,r):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,r)}function Vo(a,e,r,i){return a instanceof Yo?(function(u,f,m,g){if(!Hc(u.precondition,f))return m;const y=u.value.clone(),b=H_(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,r,i):a instanceof oi?(function(u,f,m,g){if(!Hc(u.precondition,f))return m;const y=H_(u.fieldTransforms,g,f),b=f.data;return b.setAll(Q1(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(a,e,r,i):(function(u,f,m){return Hc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(a,e,r)}function Gw(a,e){let r=null;for(const i of a.fieldTransforms){const o=e.data.field(i.field),u=P1(i.transform,o||null);u!=null&&(r===null&&(r=_n.empty()),r.set(i.field,u))}return r||null}function F_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&rl(i,o,((u,f)=>Fw(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Yo extends Th{constructor(e,r,i,o=[]){super(),this.key=e,this.value=r,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oi extends Th{constructor(e,r,i,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(a){const e=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const i=a.data.field(r);e.set(r,i)}})),e}function q_(a,e,r){const i=new Map;Qe(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let o=0;o<r.length;o++){const u=a[o],f=u.transform,m=e.data.field(u.field);i.set(u.field,Bw(f,m,r[o]))}return i}function H_(a,e,r){const i=new Map;for(const o of a){const u=o.transform,f=r.data.field(o.field);i.set(o.field,Pw(u,f,e))}return i}class xh extends Th{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qw extends Th{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $w{constructor(e,r,i,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,r){const i=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Hw(u,e,i[o])}}applyToLocalView(e,r){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(r=Vo(i,e,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(r=Vo(i,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const i=U1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=r.has(o.key)?null:m;const g=G1(f,m);g!==null&&i.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())})),i}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),je())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((r,i)=>F_(r,i)))&&rl(this.baseMutations,e.baseMutations,((r,i)=>F_(r,i)))}}class Xm{constructor(e,r,i,o){this.batch=e,this.commitVersion=r,this.mutationResults=i,this.docVersions=o}static from(e,r,i){Qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return Mw})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,i[f].version);return new Xm(e,r,i,o)}}class Yw{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Kw{constructor(e,r){this.count=e,this.unchangedNames=r}}var Nt,Le;function Xw(a){switch(a){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:a})}}function $1(a){if(a===void 0)return la("GRPC error has no .code"),J.UNKNOWN;switch(a){case Nt.OK:return J.OK;case Nt.CANCELLED:return J.CANCELLED;case Nt.UNKNOWN:return J.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return J.INTERNAL;case Nt.UNAVAILABLE:return J.UNAVAILABLE;case Nt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Nt.NOT_FOUND:return J.NOT_FOUND;case Nt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Nt.ABORTED:return J.ABORTED;case Nt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Nt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:a})}}(Le=Nt||(Nt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function Zw(){return new TextEncoder}const Jw=new Za([4294967295,4294967295],0);function G_(a){const e=Zw().encode(a),r=new o1;return r.update(e),new Uint8Array(r.digest())}function Q_(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Za([r,i],0),new Za([o,u],0)]}class Zm{constructor(e,r,i){if(this.bitmap=e,this.padding=r,this.hashCount=i,r<0||r>=8)throw new No(`Invalid padding: ${r}`);if(i<0)throw new No(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${i}`);if(e.length===0&&r!==0)throw new No(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Za.fromNumber(this.ge)}ye(e,r,i){let o=e.add(r.multiply(Za.fromNumber(i)));return o.compare(Jw)===1&&(o=new Za([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=G_(e),[i,o]=Q_(r);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,o,u);if(!this.we(f))return!1}return!0}static create(e,r,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Zm(u,o,r);return i.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const r=G_(e),[i,o]=Q_(r);for(let u=0;u<this.hashCount;u++){const f=this.ye(i,o,u);this.Se(f)}}Se(e){const r=Math.floor(e/8),i=e%8;this.bitmap[r]|=1<<i}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,r,i,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,i){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,r,i)),new Ah(we.min(),o,new ct(Me),oa(),je())}}class Ko{constructor(e,r,i,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,i){return new Ko(i,r,je(),je(),je())}}class Gc{constructor(e,r,i,o){this.be=e,this.removedTargetIds=r,this.key=i,this.De=o}}class Y1{constructor(e,r){this.targetId=e,this.Ce=r}}class K1{constructor(e,r,i=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=i,this.cause=o}}class $_{constructor(){this.ve=0,this.Fe=Y_(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),r=je(),i=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:u})}})),new Ko(this.Me,this.xe,e,r,i)}qe(){this.Oe=!1,this.Fe=Y_()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ww{constructor(e){this.Ge=e,this.ze=new Map,this.je=oa(),this.Je=Mc(),this.He=Mc(),this.Ye=new ct(Me)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const i=this.nt(r);switch(e.state){case 0:this.rt(r)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((i,o)=>{this.rt(o)&&r(o)}))}st(e){const r=e.targetId,i=e.Ce.count,o=this.ot(r);if(o){const u=o.target;if(bm(u))if(i===0){const f=new pe(u.path);this.et(r,f,rn.newNoDocument(f,we.min()))}else Qe(i===1,20013,{expectedCount:i});else{const f=this._t(r);if(f!==i){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,y)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=r;let f,m;try{f=ni(i).toUint8Array()}catch(g){if(g instanceof b1)return nl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Zm(f,o,u)}catch(g){return nl(g instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,r,i){return r.Ce.count===i-this.Pt(e,r.targetId)?0:2}Pt(e,r){const i=this.Ge.getRemoteKeysForTarget(r);let o=0;return i.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(r,u,null),o++)})),o}Tt(e){const r=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&bm(m.target)){const g=new pe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,rn.newNoDocument(g,e))}u.Be&&(r.set(f,u.ke()),u.qe())}}));let i=je();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Ah(e,r,this.Ye,this.je,i);return this.je=oa(),this.Je=Mc(),this.He=Mc(),this.Ye=new ct(Me),o}Xe(e,r){if(!this.rt(e))return;const i=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,i),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,r)?o.Qe(r,1):o.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),i&&(this.je=this.je.insert(r,i))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new $_,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new jt(Me),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new jt(Me),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||he("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $_),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Mc(){return new ct(pe.comparator)}function Y_(){return new ct(pe.comparator)}const eS={asc:"ASCENDING",desc:"DESCENDING"},tS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nS={and:"AND",or:"OR"};class rS{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Tm(a,e){return a.useProto3Json||ph(e)?e:{value:e}}function sh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X1(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function aS(a,e){return sh(a,e.toTimestamp())}function Vr(a){return Qe(!!a,49232),we.fromTimestamp((function(r){const i=ti(r);return new st(i.seconds,i.nanos)})(a))}function Jm(a,e){return xm(a,e).canonicalString()}function xm(a,e){const r=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?r:r.child(e)}function Z1(a){const e=tt.fromString(a);return Qe(nb(e),10190,{key:e.toString()}),e}function Am(a,e){return Jm(a.databaseId,e.path)}function Kd(a,e){const r=Z1(e);if(r.get(1)!==a.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new pe(W1(r))}function J1(a,e){return Jm(a.databaseId,e)}function iS(a){const e=Z1(a);return e.length===4?tt.emptyPath():W1(e)}function wm(a){return new tt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function W1(a){return Qe(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function K_(a,e,r){return{name:Am(a,e),fields:r.value.mapValue.fields}}function sS(a,e){let r;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Qe(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):(Qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?J.UNKNOWN:$1(y.code);return new le(b,y.message||"")})(f);r=new K1(i,o,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Kd(a,i.document.name),u=Vr(i.document.updateTime),f=i.document.createTime?Vr(i.document.createTime):we.min(),m=new _n({mapValue:{fields:i.document.fields}}),g=rn.newFoundDocument(o,u,f,m),y=i.targetIds||[],b=i.removedTargetIds||[];r=new Gc(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Kd(a,i.document),u=i.readTime?Vr(i.readTime):we.min(),f=rn.newNoDocument(o,u),m=i.removedTargetIds||[];r=new Gc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Kd(a,i.document),u=i.removedTargetIds||[];r=new Gc([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,f=new Kw(o,u),m=i.targetId;r=new Y1(m,f)}}return r}function lS(a,e){let r;if(e instanceof Yo)r={update:K_(a,e.key,e.value)};else if(e instanceof xh)r={delete:Am(a,e.key)};else if(e instanceof oi)r={update:K_(a,e.key,e.data),updateMask:pS(e.fieldMask)};else{if(!(e instanceof Qw))return Ee(16599,{Vt:e.type});r={verify:Am(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((i=>(function(u,f){const m=f.transform;if(m instanceof ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ll)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ol)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ih)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,i)))),e.precondition.isNone||(r.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:aS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(a,e.precondition)),r}function oS(a,e){return a&&a.length>0?(Qe(e!==void 0,14353),a.map((r=>(function(o,u){let f=o.updateTime?Vr(o.updateTime):Vr(u);return f.isEqual(we.min())&&(f=Vr(u)),new qw(f,o.transformResults||[])})(r,e)))):[]}function uS(a,e){return{documents:[J1(a,e.path)]}}function cS(a,e){const r={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=J1(a,o);const u=(function(y){if(y.length!==0)return tb(lr.create(y,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(R){return{field:Xs(R.field),direction:dS(R.dir)}})(b)))})(e.orderBy);f&&(r.structuredQuery.orderBy=f);const m=Tm(a,e.limit);return m!==null&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:r,parent:o}}function hS(a){let e=iS(a.parent);const r=a.structuredQuery,i=r.from?r.from.length:0;let o=null;if(i>0){Qe(i===1,65062);const b=r.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];r.where&&(u=(function(T){const R=eb(T);return R instanceof lr&&D1(R)?R.getFilters():[R]})(r.where));let f=[];r.orderBy&&(f=(function(T){return T.map((R=>(function(U){return new qo(Zs(U.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(R)))})(r.orderBy));let m=null;r.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,ph(R)?null:R})(r.limit));let g=null;r.startAt&&(g=(function(T){const R=!!T.before,O=T.values||[];return new sl(O,R)})(r.startAt));let y=null;return r.endAt&&(y=(function(T){const R=!T.before,O=T.values||[];return new sl(O,R)})(r.endAt)),Dw(e,o,f,u,m,"F",g,y)}function fS(a,e){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function eb(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const i=Zs(r.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Zs(r.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Zs(r.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Zs(r.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(a):a.fieldFilter!==void 0?(function(r){return Dt.create(Zs(r.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return lr.create(r.compositeFilter.filters.map((i=>eb(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(r.compositeFilter.op))})(a):Ee(30097,{filter:a})}function dS(a){return eS[a]}function mS(a){return tS[a]}function gS(a){return nS[a]}function Xs(a){return{fieldPath:a.canonicalString()}}function Zs(a){return Xt.fromServerFormat(a.fieldPath)}function tb(a){return a instanceof Dt?(function(r){if(r.op==="=="){if(j_(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NAN"}};if(M_(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(j_(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NOT_NAN"}};if(M_(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(r.field),op:mS(r.op),value:r.value}}})(a):a instanceof lr?(function(r){const i=r.getFilters().map((o=>tb(o)));return i.length===1?i[0]:{compositeFilter:{op:gS(r.op),filters:i}}})(a):Ee(54877,{filter:a})}function pS(a){const e=[];return a.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function nb(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class $a{constructor(e,r,i,o,u=we.min(),f=we.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=r,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yS{constructor(e){this.yt=e}}function _S(a){const e=hS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?rh(e,e.limit,"L"):e}class vS{constructor(){this.Cn=new bS}addToCollectionParentIndex(e,r){return this.Cn.add(r),te.resolve()}getCollectionParents(e,r){return te.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return te.resolve()}deleteFieldIndex(e,r){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,r){return te.resolve()}getDocumentsMatchingTarget(e,r){return te.resolve(null)}getIndexType(e,r){return te.resolve(0)}getFieldIndexes(e,r){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,r){return te.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,r){return te.resolve(ei.min())}updateCollectionGroup(e,r,i){return te.resolve()}updateIndexEntries(e,r){return te.resolve()}}class bS{constructor(){this.index={}}add(e){const r=e.lastSegment(),i=e.popLast(),o=this.index[r]||new jt(tt.comparator),u=!o.has(i);return this.index[r]=o.add(i),u}has(e){const r=e.lastSegment(),i=e.popLast(),o=this.index[r];return o&&o.has(i)}getEntries(e){return(this.index[e]||new jt(tt.comparator)).toArray()}}const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rb=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(rb,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}const Z_="LruGarbageCollector",ES=1048576;function J_([a,e],[r,i]){const o=Me(a,r);return o===0?Me(e,i):o}class TS{constructor(e){this.Ir=e,this.buffer=new jt(J_),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const i=this.buffer.last();J_(r,i)<0&&(this.buffer=this.buffer.delete(i).add(r))}}get maxValue(){return this.buffer.last()[0]}}class xS{constructor(e,r,i){this.garbageCollector=e,this.asyncQueue=r,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){dl(r)?he(Z_,"Ignoring IndexedDB error during garbage collection: ",r):await fl(r)}await this.Vr(3e5)}))}}class AS{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((i=>Math.floor(r/100*i)))}nthSequenceNumber(e,r){if(r===0)return te.resolve(gh.ce);const i=new TS(r);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,r,i){return this.mr.removeTargets(e,r,i)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(X_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let i,o,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(i=T,m=Date.now(),this.removeTargets(e,i,r)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(y=Date.now(),Ys()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function wS(a,e){return new AS(a,e)}class SS{constructor(){this.changes=new Ji((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?te.resolve(i):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RS{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class CS{constructor(e,r,i,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,r){let i=null;return this.documentOverlayCache.getOverlay(e,r).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,r)))).next((o=>(i!==null&&Vo(i.mutation,o,Dn.empty(),st.now()),o)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((i=>this.getLocalViewOfDocuments(e,i,je()).next((()=>i))))}getLocalViewOfDocuments(e,r,i=je()){const o=Fi();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,i).next((u=>{let f=Co();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,r){const i=Fi();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,je())))}populateOverlays(e,r,i){const o=[];return i.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{r.set(f,m)}))}))}computeViews(e,r,i,o){let u=oa();const f=Oo(),m=(function(){return Oo()})();return r.forEach(((g,y)=>{const b=i.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof oi)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Vo(b.mutation,y,b.mutation.getFieldMask(),st.now())):f.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),r.forEach(((y,b)=>m.set(y,new RS(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,r){const i=Oo();let o=new ct(((f,m)=>f-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=r.get(g);if(y===null)return;let b=i.get(g)||Dn.empty();b=m.applyToLocalView(y,b),i.set(g,b);const T=(o.get(m.batchId)||je()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,T=U1();b.forEach((R=>{if(!u.has(R)){const O=G1(r.get(R),i.get(R));O!==null&&T.set(R,O),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return te.waitFor(f)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,r,i,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Ym(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,i,o):this.getDocumentsMatchingCollectionQuery(e,r,i,o)}getNextDocuments(e,r,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,i,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,i.largestBatchId,o-u.size):te.resolve(Fi());let m=Lo,g=u;return f.next((y=>te.forEach(y,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((R=>{g=g.insert(b,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,je()))).next((b=>({batchId:m,changes:z1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new pe(r)).next((i=>{let o=Co();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,r,i,o){const u=r.collectionGroup;let f=Co();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const y=(function(T,R){return new Zi(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((b=>{b.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,r,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,i.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,i,u,o)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,rn.newInvalidDocument(b)))}));let m=Co();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&Vo(b.mutation,y,Dn.empty(),st.now()),bh(r,y)&&(m=m.insert(g,y))})),m}))}}class NS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return te.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}})(r)),te.resolve()}getNamedQuery(e,r){return te.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(o){return{name:o.name,query:_S(o.bundledQuery),readTime:Vr(o.readTime)}})(r)),te.resolve()}}class DS{constructor(){this.overlays=new ct(pe.comparator),this.qr=new Map}getOverlay(e,r){return te.resolve(this.overlays.get(r))}getOverlays(e,r){const i=Fi();return te.forEach(r,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,r,i){return i.forEach(((o,u)=>{this.St(e,r,u)})),te.resolve()}removeOverlaysForBatchId(e,r,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,r,i){const o=Fi(),u=r.length+1,f=new pe(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,r,i,o){let u=new ct(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>i){let b=u.get(y.largestBatchId);b===null&&(b=Fi(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Fi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return te.resolve(m)}St(e,r,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new Yw(r,i));let u=this.qr.get(r);u===void 0&&(u=je(),this.qr.set(r,u)),this.qr.set(r,u.add(i.key))}}class IS{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,te.resolve()}}class Wm{constructor(){this.Qr=new jt(Bt.$r),this.Ur=new jt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const i=new Bt(e,r);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,r){e.forEach((i=>this.addReference(i,r)))}removeReference(e,r){this.Gr(new Bt(e,r))}zr(e,r){e.forEach((i=>this.removeReference(i,r)))}jr(e){const r=new pe(new tt([])),i=new Bt(r,e),o=new Bt(r,e+1),u=[];return this.Ur.forEachInRange([i,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new pe(new tt([])),i=new Bt(r,e),o=new Bt(r,e+1);let u=je();return this.Ur.forEachInRange([i,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const r=new Bt(e,0),i=this.Qr.firstAfterOrEqual(r);return i!==null&&e.isEqual(i.key)}}class Bt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return pe.comparator(e.key,r.key)||Me(e.Yr,r.Yr)}static Kr(e,r){return Me(e.Yr,r.Yr)||pe.comparator(e.key,r.key)}}class kS{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Bt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $w(u,r,i,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,r){return te.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const i=r+1,o=this.ei(i),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const i=new Bt(r,0),o=new Bt(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let i=new jt(Me);return r.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{i=i.add(m.Yr)}))})),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,r){const i=r.path,o=i.length+1;let u=i;pe.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new pe(u),0);let m=new jt(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const r=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&r.push(o)})),r}removeMutationBatch(e,r){Qe(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(r.mutations,(o=>{const u=new Bt(o.key,r.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,r){const i=new Bt(r,0),o=this.Zr.firstAfterOrEqual(i);return te.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class OS{constructor(e){this.ri=e,this.docs=(function(){return new ct(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const i=r.key,o=this.docs.get(i),u=o?o.size:0,f=this.ri(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const i=this.docs.get(r);return te.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(r))}getEntries(e,r){let i=oa();return r.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),te.resolve(i)}getDocumentsMatchingQuery(e,r,i,o){let u=oa();const f=r.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||ow(lw(b),i)<=0||(o.has(b.key)||bh(r,b))&&(u=u.insert(b.key,b.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,r,i,o){Ee(9500)}ii(e,r){return te.forEach(this.docs,(i=>r(i)))}newChangeBuffer(e){return new VS(this)}getSize(e){return te.resolve(this.size)}}class VS extends SS{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?r.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),te.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}class MS{constructor(e){this.persistence=e,this.si=new Ji((r=>Gm(r)),Qm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,r){return this.si.forEach(((i,o)=>r(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.oi&&(this.oi=r),te.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new ul(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,te.resolve()}updateTargetData(e,r){return this.Pr(r),te.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,r,i){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=r&&i.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,r){const i=this.si.get(r)||null;return te.resolve(i)}addMatchingKeys(e,r,i){return this._i.Wr(r,i),te.resolve()}removeMatchingKeys(e,r,i){this._i.zr(r,i);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),te.resolve()}getMatchingKeysForTargetId(e,r){const i=this._i.Hr(r);return te.resolve(i)}containsKey(e,r){return te.resolve(this._i.containsKey(r))}}class ab{constructor(e,r){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new IS,this.referenceDelegate=e(this),this.Pi=new MS(this),this.indexManager=new vS,this.remoteDocumentCache=(function(o){return new OS(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new yS(r),this.Ii=new NS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new DS,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let i=this.ui[e.toKey()];return i||(i=new kS(r,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,i){he("MemoryPersistence","Starting transaction:",e);const o=new jS(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,r){return te.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,r))))}}class jS extends cw{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Wm,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,r,i){return this.Ri.addReference(i,r),this.fi.delete(i.toString()),te.resolve()}removeReference(e,r,i){return this.Ri.removeReference(i,r),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),te.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,r.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(i=>{const o=pe.fromPath(i);return this.gi(e,o).next((u=>{u||r.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((i=>{i?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return te.or([()=>te.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class lh{constructor(e,r){this.persistence=e,this.pi=new Ji((i=>dw(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=wS(this,r)}static mi(e,r){return new lh(e,r)}Ei(){}di(e){return te.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>r.next((o=>i+o))))}wr(e){let r=0;return this.pr(e,(i=>{r++})).next((()=>r))}pr(e,r){return te.forEach(this.pi,((i,o)=>this.br(e,i,o).next((u=>u?te.resolve():r(o)))))}removeTargets(e,r,i){return this.persistence.getTargetCache().removeTargets(e,r,i)}removeOrphanedDocuments(e,r){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,r).next((m=>{m||(i++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeTarget(e,r){const i=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,r,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,r,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Fc(e.data.value)),r}br(e,r,i){return te.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.pi.get(r);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,r,i,o){this.targetId=e,this.fromCache=r,this.Es=i,this.ds=o}static As(e,r){let i=je(),o=je();for(const u of r.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,r.fromCache,i,o)}}class zS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class US{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kx()?8:hw(Dx())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,i,o){const u={result:null};return this.ys(e,r).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,r,o,i).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new zS;return this.Ss(e,r,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,r,f,m.size)}))})).next((()=>u.result))}bs(e,r,i,o){return i.documentReadCount<this.fs?(Ys()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ks(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ys()<=Pe.DEBUG&&he("QueryEngine","Query:",Ks(r),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Ys()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ks(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(r))):te.resolve())}ys(e,r){if(P_(r))return te.resolve(null);let i=Or(r);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=rh(r,null,"F"),i=Or(r)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const f=je(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(r,m);return this.Cs(r,y,f,g.readTime)?this.ys(e,rh(r,null,"F")):this.vs(e,y,r,g)}))))})))))}ws(e,r,i,o){return P_(r)||o.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,i).next((u=>{const f=this.Ds(r,u);return this.Cs(r,f,i,o)?te.resolve(null):(Ys()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ks(r)),this.vs(e,f,r,sw(o,Lo)).next((m=>m)))}))}Ds(e,r){let i=new jt(M1(e));return r.forEach(((o,u)=>{bh(e,u)&&(i=i.add(u))})),i}Cs(e,r,i,o){if(e.limit===null)return!1;if(i.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,r,i){return Ys()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ks(r)),this.ps.getDocumentsMatchingQuery(e,r,ei.min(),i)}vs(e,r,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((u=>(r.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const ng="LocalStore",LS=3e8;class PS{constructor(e,r,i,o){this.persistence=e,this.Fs=r,this.serializer=o,this.Ms=new ct(Me),this.xs=new Ji((u=>Gm(u)),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function BS(a,e,r,i){return new PS(a,e,r,i)}async function ib(a,e){const r=Re(a);return await r.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return r.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,r.Bs(e),r.mutationQueue.getAllMutationBatches(i)))).next((u=>{const f=[],m=[];let g=je();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return r.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function FS(a,e){const r=Re(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const T=y.batch,R=T.keys();let O=te.resolve();return R.forEach((U=>{O=O.next((()=>b.getEntry(g,U))).next((G=>{const z=y.docVersions.get(U);Qe(z!==null,48541),G.version.compareTo(z)<0&&(T.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(r,i,e,u).next((()=>u.apply(i))).next((()=>r.mutationQueue.performConsistencyCheck(i))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=je();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>r.localDocuments.getDocuments(i,o)))}))}function sb(a){const e=Re(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function qS(a,e){const r=Re(a),i=e.snapshotVersion;let o=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=r.Ns.newChangeBuffer({trackRemovals:!0});o=r.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const R=o.get(T);if(!R)return;m.push(r.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>r.Pi.addMatchingKeys(u,b.addedDocuments,T))));let O=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Jt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,i)),o=o.insert(T,O),(function(G,z,X){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=LS?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(R,O,b)&&m.push(r.Pi.updateTargetData(u,O))}));let g=oa(),y=je();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(HS(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!i.isEqual(we.min())){const b=r.Pi.getLastRemoteSnapshotVersion(u).next((T=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));m.push(b)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(r.Ms=o,u)))}function HS(a,e,r){let i=je(),o=je();return r.forEach((u=>i=i.add(u))),e.getEntries(a,i).next((u=>{let f=oa();return r.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):he(ng,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function GS(a,e){const r=Re(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=qm),r.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function QS(a,e){const r=Re(a);return r.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return r.Pi.getTargetData(i,e).next((u=>u?(o=u,te.resolve(o)):r.Pi.allocateTargetId(i).next((f=>(o=new $a(e,f,"TargetPurposeListen",i.currentSequenceNumber),r.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=r.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(i.targetId,i),r.xs.set(e,i.targetId)),i}))}async function Sm(a,e,r){const i=Re(a),o=i.Ms.get(e),u=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",u,(f=>i.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!dl(f))throw f;he(ng,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function W_(a,e,r){const i=Re(a);let o=we.min(),u=je();return i.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const T=Re(g),R=T.xs.get(b);return R!==void 0?te.resolve(T.Ms.get(R)):T.Pi.getTargetData(y,b)})(i,f,Or(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(f,e,r?o:we.min(),r?u:je()))).next((m=>($S(i,kw(e),m),{documents:m,Qs:u})))))}function $S(a,e,r){let i=a.Os.get(e)||we.min();r.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),a.Os.set(e,i)}class ev{constructor(){this.activeTargetIds=Uw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YS{constructor(){this.Mo=new ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,i){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,i){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ev,Promise.resolve()}handleUserChange(e,r,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KS{Oo(e){}shutdown(){}}const tv="ConnectivityMonitor";class nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(tv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(tv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Rm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Xd="RestConnection",XS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,r,i,o,u){const f=Rm(),m=this.zo(e,r.toUriEncodedString());he(Xd,`Sending RPC '${e}' ${f}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),b=Qo(y);return this.Jo(e,m,g,i,b).then((T=>(he(Xd,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw nl(Xd,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",i),T}))}Ho(e,r,i,o,u,f){return this.Go(e,r,i,o,u)}jo(e,r,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}zo(e,r){const i=XS[e];return`${this.Uo}/v1/${r}:${i}`}terminate(){}}class JS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class WS extends ZS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,i,o,u){const f=Rm();return new Promise(((m,g)=>{const y=new u1;y.setWithCredentials(!0),y.listenOnce(c1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bc.NO_ERROR:const T=y.getResponseJson();he(en,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case Bc.TIMEOUT:he(en,`RPC '${e}' ${f} timed out`),g(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const R=y.getStatus();if(he(en,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O?.error;if(U&&U.status&&U.message){const G=(function(X){const re=X.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(re)>=0?re:J.UNKNOWN})(U.status);g(new le(G,U.message))}else g(new le(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(en,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);he(en,`RPC '${e}' ${f} sending request:`,o),y.send(r,"POST",b,i,15)}))}T_(e,r,i){const o=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=d1(),m=f1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,r,i),g.encodeInitMessageHeaders=!0;const b=u.join("");he(en,`Creating RPC '${e}' stream ${o}: ${b}`,g);const T=f.createWebChannel(b,g);this.I_(T);let R=!1,O=!1;const U=new JS({Yo:z=>{O?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(R||(he(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),he(en,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),G=(z,X,re)=>{z.listen(X,(ne=>{try{re(ne)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return G(T,Ro.EventType.OPEN,(()=>{O||(he(en,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),G(T,Ro.EventType.CLOSE,(()=>{O||(O=!0,he(en,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),G(T,Ro.EventType.ERROR,(z=>{O||(O=!0,nl(en,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),U.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),G(T,Ro.EventType.MESSAGE,(z=>{if(!O){const X=z.data[0];Qe(!!X,16349);const re=X,ne=re?.error||re[0]?.error;if(ne){he(en,`RPC '${e}' stream ${o} received error:`,ne);const ce=ne.status;let de=(function(A){const S=Nt[A];if(S!==void 0)return $1(S)})(ce),ve=ne.message;de===void 0&&(de=J.INTERNAL,ve="Unknown error status: "+ce+" with message "+ne.message),O=!0,U.a_(new le(de,ve)),T.close()}else he(en,`RPC '${e}' stream ${o} received:`,X),U.u_(X)}})),G(m,h1.STAT_EVENT,(z=>{z.stat===gm.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===gm.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function Zd(){return typeof document<"u"?document:null}function wh(a){return new rS(a,!0)}class lb{constructor(e,r,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=r,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rv="PersistentStream";class ob{constructor(e,r,i,o,u,f,m,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lb(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===J.RESOURCE_EXHAUSTED?(la(r.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===r&&this.G_(i,o)}),(i=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,r){const i=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(he(rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eR extends ob{constructor(e,r,i,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,f),this.serializer=u}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=sS(this.serializer,e),i=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Vr(f.readTime):we.min()})(e);return this.listener.H_(r,i)}Y_(e){const r={};r.database=wm(this.serializer),r.addTarget=(function(u,f){let m;const g=f.target;if(m=bm(g)?{documents:uS(u,g)}:{query:cS(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=X1(u,f.resumeToken);const y=Tm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=sh(u,f.snapshotVersion.toTimestamp());const y=Tm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const i=fS(this.serializer,e);i&&(r.labels=i),this.q_(r)}Z_(e){const r={};r.database=wm(this.serializer),r.removeTarget=e,this.q_(r)}}class tR extends ob{constructor(e,r,i,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=oS(e.writeResults,e.commitTime),i=Vr(e.commitTime);return this.listener.na(i,r)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((i=>lS(this.serializer,i)))};this.q_(r)}}class nR{}class rR extends nR{constructor(e,r,i,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,xm(r,i),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,r,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,xm(r,i),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aR{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(la(r),this.aa=!1):he("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yi="RemoteStore";class iR{constructor(e,r,i,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{i.enqueueAndForget((async()=>{Wi(this)&&(he(Yi,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await Xo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Sh(y)})(this))}))})),this.Ra=new aR(i,o)}}async function Sh(a){if(Wi(a))for(const e of a.da)await e(!0)}async function Xo(a){for(const e of a.da)await e(!1)}function ub(a,e){const r=Re(a);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),sg(r)?ig(r):ml(r).O_()&&ag(r,e))}function rg(a,e){const r=Re(a),i=ml(r);r.Ia.delete(e),i.O_()&&cb(r,e),r.Ia.size===0&&(i.O_()?i.L_():Wi(r)&&r.Ra.set("Unknown"))}function ag(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ml(a).Y_(e)}function cb(a,e){a.Va.Ue(e),ml(a).Z_(e)}function ig(a){a.Va=new Ww({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),ml(a).start(),a.Ra.ua()}function sg(a){return Wi(a)&&!ml(a).x_()&&a.Ia.size>0}function Wi(a){return Re(a).Ea.size===0}function hb(a){a.Va=void 0}async function sR(a){a.Ra.set("Online")}async function lR(a){a.Ia.forEach(((e,r)=>{ag(a,e)}))}async function oR(a,e){hb(a),sg(a)?(a.Ra.ha(e),ig(a)):a.Ra.set("Unknown")}async function uR(a,e,r){if(a.Ra.set("Online"),e instanceof K1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(a,e)}catch(i){he(Yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await oh(a,i)}else if(e instanceof Gc?a.Va.Ze(e):e instanceof Y1?a.Va.st(e):a.Va.tt(e),!r.isEqual(we.min()))try{const i=await sb(a.localStore);r.compareTo(i)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),cb(u,g);const T=new $a(b.target,g,y,b.sequenceNumber);ag(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(a,r)}catch(i){he(Yi,"Failed to raise snapshot:",i),await oh(a,i)}}async function oh(a,e,r){if(!dl(e))throw e;a.Ea.add(1),await Xo(a),a.Ra.set("Offline"),r||(r=()=>sb(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{he(Yi,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await Sh(a)}))}function fb(a,e){return e().catch((r=>oh(a,r,e)))}async function Rh(a){const e=Re(a),r=ai(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;cR(e);)try{const o=await GS(e.localStore,i);if(o===null){e.Ta.length===0&&r.L_();break}i=o.batchId,hR(e,o)}catch(o){await oh(e,o)}db(e)&&mb(e)}function cR(a){return Wi(a)&&a.Ta.length<10}function hR(a,e){a.Ta.push(e);const r=ai(a);r.O_()&&r.X_&&r.ea(e.mutations)}function db(a){return Wi(a)&&!ai(a).x_()&&a.Ta.length>0}function mb(a){ai(a).start()}async function fR(a){ai(a).ra()}async function dR(a){const e=ai(a);for(const r of a.Ta)e.ea(r.mutations)}async function mR(a,e,r){const i=a.Ta.shift(),o=Xm.from(i,e,r);await fb(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Rh(a)}async function gR(a,e){e&&ai(a).X_&&await(async function(i,o){if((function(f){return Xw(f)&&f!==J.ABORTED})(o.code)){const u=i.Ta.shift();ai(i).B_(),await fb(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rh(i)}})(a,e),db(a)&&mb(a)}async function av(a,e){const r=Re(a);r.asyncQueue.verifyOperationInProgress(),he(Yi,"RemoteStore received new credentials");const i=Wi(r);r.Ea.add(3),await Xo(r),i&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Sh(r)}async function pR(a,e){const r=Re(a);e?(r.Ea.delete(2),await Sh(r)):e||(r.Ea.add(2),await Xo(r),r.Ra.set("Unknown"))}function ml(a){return a.ma||(a.ma=(function(r,i,o){const u=Re(r);return u.sa(),new eR(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:sR.bind(null,a),t_:lR.bind(null,a),r_:oR.bind(null,a),H_:uR.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),sg(a)?ig(a):a.Ra.set("Unknown")):(await a.ma.stop(),hb(a))}))),a.ma}function ai(a){return a.fa||(a.fa=(function(r,i,o){const u=Re(r);return u.sa(),new tR(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:fR.bind(null,a),r_:gR.bind(null,a),ta:dR.bind(null,a),na:mR.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Rh(a)):(await a.fa.stop(),a.Ta.length>0&&(he(Yi,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class lg{constructor(e,r,i,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,i,o,u){const f=Date.now()+i,m=new lg(e,r,f,o,u);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(a,e){if(la("AsyncQueue",`${e}: ${a}`),dl(a))return new le(J.UNAVAILABLE,`${e}: ${a}`);throw a}class Ws{static emptySet(e){return new Ws(e.comparator)}constructor(e){this.comparator=e?(r,i)=>e(r,i)||pe.comparator(r.key,i.key):(r,i)=>pe.comparator(r.key,i.key),this.keyedMap=Co(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,i)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const i=new Ws;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=r,i}}class iv{constructor(){this.ga=new ct(pe.comparator)}track(e){const r=e.doc.key,i=this.ga.get(r);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(r,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(r,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(r):e.type===1&&i.type===2?this.ga=this.ga.insert(r,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,i)=>{e.push(i)})),e}}class cl{constructor(e,r,i,o,u,f,m,g,y){this.query=e,this.docs=r,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,r,i,o,u){const f=[];return r.forEach((m=>{f.push({type:0,doc:m})})),new cl(e,r,Ws.emptySet(r),f,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,i=e.docChanges;if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==i[o].type||!r[o].doc.isEqual(i[o].doc))return!1;return!0}}class yR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _R{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,i){const o=Re(r),u=o.queries;o.queries=sv(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(i)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function sv(){return new Ji((a=>V1(a)),vh)}async function gb(a,e){const r=Re(a);let i=3;const o=e.query;let u=r.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new yR,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await r.onListen(o,!0);break;case 1:u.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const m=og(f,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(m)}r.queries.set(o,u),u.Sa.push(e),e.va(r.onlineState),u.wa&&e.Fa(u.wa)&&ug(r)}async function pb(a,e){const r=Re(a),i=e.query;let o=3;const u=r.queries.get(i);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function vR(a,e){const r=Re(a);let i=!1;for(const o of e){const u=o.query,f=r.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(i=!0);f.wa=o}}i&&ug(r)}function bR(a,e,r){const i=Re(a),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(r);i.queries.delete(e)}function ug(a){a.Ca.forEach((e=>{e.next()}))}var Cm,lv;(lv=Cm||(Cm={})).Ma="default",lv.Cache="cache";class yb{constructor(e,r,i){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new cl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const i=r!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class _b{constructor(e){this.key=e}}class vb{constructor(e){this.key=e}}class ER{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=M1(e),this.tu=new Ws(this.eu)}get nu(){return this.Ya}ru(e,r){const i=r?r.iu:new iv,o=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const R=o.get(b),O=bh(this.query,T)?T:null,U=!!R&&this.mutatedKeys.has(R.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;R&&O?R.data.isEqual(O.data)?U!==G&&(i.track({type:3,doc:O}),z=!0):this.su(R,O)||(i.track({type:2,doc:O}),z=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(m=!0)):!R&&O?(i.track({type:0,doc:O}),z=!0):R&&!O&&(i.track({type:1,doc:R}),z=!0,(g||y)&&(m=!0)),z&&(O?(f=f.add(O),u=G?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),i.track({type:1,doc:b})}return{tu:f,iu:i,Cs:m,mutatedKeys:u}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(O,U){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:z})}};return G(O)-G(U)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(i),o=o??!1;const m=r&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new cl(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const r=[];return e.forEach((i=>{this.Xa.has(i)||r.push(new vb(i))})),this.Xa.forEach((i=>{e.has(i)||r.push(new _b(i))})),r}cu(e){this.Ya=e.Qs,this.Xa=je();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class TR{constructor(e,r,i){this.query=e,this.targetId=r,this.view=i}}class xR{constructor(e){this.key=e,this.hu=!1}}class AR{constructor(e,r,i,o,u,f){this.localStore=e,this.remoteStore=r,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ji((m=>V1(m)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(pe.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wR(a,e,r=!0){const i=wb(a);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await bb(i,e,r,!0),o}async function SR(a,e){const r=wb(a);await bb(r,e,!0,!1)}async function bb(a,e,r,i){const o=await QS(a.localStore,Or(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,r);let m;return i&&(m=await RR(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&r&&ub(a.remoteStore,o),m}async function RR(a,e,r,i,o){a.pu=(T,R,O)=>(async function(G,z,X,re){let ne=z.view.ru(X);ne.Cs&&(ne=await W_(G.localStore,z.query,!1).then((({documents:D})=>z.view.ru(D,ne))));const ce=re&&re.targetChanges.get(z.targetId),de=re&&re.targetMismatches.get(z.targetId)!=null,ve=z.view.applyChanges(ne,G.isPrimaryClient,ce,de);return uv(G,z.targetId,ve.au),ve.snapshot})(a,T,R,O);const u=await W_(a.localStore,e,!0),f=new ER(e,u.Qs),m=f.ru(u.documents),g=Ko.createSynthesizedTargetChangeForCurrentChange(r,i&&a.onlineState!=="Offline",o),y=f.applyChanges(m,a.isPrimaryClient,g);uv(a,r,y.au);const b=new TR(e,r,f);return a.Tu.set(e,b),a.Iu.has(r)?a.Iu.get(r).push(e):a.Iu.set(r,[e]),y.snapshot}async function CR(a,e,r){const i=Re(a),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((f=>!vh(f,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),r&&rg(i.remoteStore,o.targetId),Nm(i,o.targetId)})).catch(fl)):(Nm(i,o.targetId),await Sm(i.localStore,o.targetId,!0))}async function NR(a,e){const r=Re(a),i=r.Tu.get(e),o=r.Iu.get(i.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),rg(r.remoteStore,i.targetId))}async function DR(a,e,r){const i=zR(a);try{const o=await(function(f,m){const g=Re(f),y=st.now(),b=m.reduce(((O,U)=>O.add(U.key)),je());let T,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let U=oa(),G=je();return g.Ns.getEntries(O,b).next((z=>{U=z,U.forEach(((X,re)=>{re.isValidDocument()||(G=G.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,U))).next((z=>{T=z;const X=[];for(const re of m){const ne=Gw(re,T.get(re.key).overlayedDocument);ne!=null&&X.push(new oi(re.key,ne,R1(ne.value.mapValue),vn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,X,m)})).next((z=>{R=z;const X=z.applyToLocalDocumentSet(T,G);return g.documentOverlayCache.saveOverlays(O,z.batchId,X)}))})).then((()=>({batchId:R.batchId,changes:z1(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Me)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(i,o.batchId,r),await Zo(i,o.changes),await Rh(i.remoteStore)}catch(o){const u=og(o,"Failed to persist write");r.reject(u)}}async function Eb(a,e){const r=Re(a);try{const i=await qS(r.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=r.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Zo(r,i,e)}catch(i){await fl(i)}}function ov(a,e,r){const i=Re(a);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const o=[];i.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Re(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,T)=>{for(const R of T.Sa)R.va(m)&&(y=!0)})),y&&ug(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function IR(a,e,r){const i=Re(a);i.sharedClientState.updateQueryState(e,"rejected",r);const o=i.Au.get(e),u=o&&o.key;if(u){let f=new ct(pe.comparator);f=f.insert(u,rn.newNoDocument(u,we.min()));const m=je().add(u),g=new Ah(we.min(),new Map,new ct(Me),f,m);await Eb(i,g),i.du=i.du.remove(u),i.Au.delete(e),hg(i)}else await Sm(i.localStore,e,!1).then((()=>Nm(i,e,r))).catch(fl)}async function kR(a,e){const r=Re(a),i=e.batch.batchId;try{const o=await FS(r.localStore,e);xb(r,i,null),Tb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await Zo(r,o)}catch(o){await fl(o)}}async function OR(a,e,r){const i=Re(a);try{const o=await(function(f,m){const g=Re(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(Qe(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(i.localStore,e);xb(i,e,r),Tb(i,e),i.sharedClientState.updateMutationState(e,"rejected",r),await Zo(i,o)}catch(o){await fl(o)}}function Tb(a,e){(a.mu.get(e)||[]).forEach((r=>{r.resolve()})),a.mu.delete(e)}function xb(a,e,r){const i=Re(a);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Nm(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.Iu.get(e))a.Tu.delete(i),r&&a.Pu.yu(i,r);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((i=>{a.Ru.containsKey(i)||Ab(a,i)}))}function Ab(a,e){a.Eu.delete(e.path.canonicalString());const r=a.du.get(e);r!==null&&(rg(a.remoteStore,r),a.du=a.du.remove(e),a.Au.delete(r),hg(a))}function uv(a,e,r){for(const i of r)i instanceof _b?(a.Ru.addReference(i.key,e),VR(a,i)):i instanceof vb?(he(cg,"Document no longer in limbo: "+i.key),a.Ru.removeReference(i.key,e),a.Ru.containsKey(i.key)||Ab(a,i.key)):Ee(19791,{wu:i})}function VR(a,e){const r=e.key,i=r.path.canonicalString();a.du.get(r)||a.Eu.has(i)||(he(cg,"New document in limbo: "+r),a.Eu.add(i),hg(a))}function hg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const r=new pe(tt.fromString(e)),i=a.fu.next();a.Au.set(i,new xR(r)),a.du=a.du.insert(r,i),ub(a.remoteStore,new $a(Or($m(r.path)),i,"TargetPurposeLimboResolution",gh.ce))}}async function Zo(a,e,r){const i=Re(a),o=[],u=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,g)=>{f.push(i.pu(g,e,r).then((y=>{if((y||r)&&i.isPrimaryClient){const b=y?!y.fromCache:r?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=tg.As(g.targetId,y);u.push(b)}})))})),await Promise.all(f),i.Pu.H_(o),await(async function(g,y){const b=Re(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(y,(R=>te.forEach(R.Es,(O=>b.persistence.referenceDelegate.addReference(T,R.targetId,O))).next((()=>te.forEach(R.ds,(O=>b.persistence.referenceDelegate.removeReference(T,R.targetId,O)))))))))}catch(T){if(!dl(T))throw T;he(ng,"Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const O=b.Ms.get(R),U=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(U);b.Ms=b.Ms.insert(R,G)}}})(i.localStore,u))}async function MR(a,e){const r=Re(a);if(!r.currentUser.isEqual(e)){he(cg,"User change. New user:",e.toKey());const i=await ib(r.localStore,e);r.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(J.CANCELLED,f))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Zo(r,i.Ls)}}function jR(a,e){const r=Re(a),i=r.Au.get(e);if(i&&i.hu)return je().add(i.key);{let o=je();const u=r.Iu.get(e);if(!u)return o;for(const f of u){const m=r.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function wb(a){const e=Re(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IR.bind(null,e),e.Pu.H_=vR.bind(null,e.eventManager),e.Pu.yu=bR.bind(null,e.eventManager),e}function zR(a){const e=Re(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OR.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return BS(this.persistence,new US,e.initialUser,this.serializer)}Cu(e){return new ab(eg.mi,this.serializer)}Du(e){return new YS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class UR extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Qe(this.persistence.referenceDelegate instanceof lh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new xS(i,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new ab((i=>lh.mi(i,r)),this.serializer)}}class Dm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ov(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MR.bind(null,this.syncEngine),await pR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _R})()}createDatastore(e){const r=wh(e.databaseInfo.databaseId),i=(function(u){return new WS(u)})(e.databaseInfo);return(function(u,f,m,g){return new rR(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return(function(i,o,u,f,m){return new iR(i,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(r=>ov(this.syncEngine,r,0)),(function(){return nv.v()?new nv:new KS})())}createSyncEngine(e,r){return(function(o,u,f,m,g,y,b){const T=new AR(o,u,f,m,g,y);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const i=Re(r);he(Yi,"RemoteStore shutting down."),i.Ea.add(5),await Xo(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class Sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const ii="FirestoreClient";class LR{constructor(e,r,i,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async f=>{he(ii,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(i,(f=>(he(ii,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=og(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Jd(a,e){a.asyncQueue.verifyOperationInProgress(),he(ii,"Initializing OfflineComponentProvider");const r=a.configuration;await e.initialize(r);let i=r.initialUser;a.setCredentialChangeListener((async o=>{i.isEqual(o)||(await ib(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function cv(a,e){a.asyncQueue.verifyOperationInProgress();const r=await PR(a);he(ii,"Initializing OnlineComponentProvider"),await e.initialize(r,a.configuration),a.setCredentialChangeListener((i=>av(e.remoteStore,i))),a.setAppCheckTokenChangeListener(((i,o)=>av(e.remoteStore,o))),a._onlineComponents=e}async function PR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){he(ii,"Using user provided OfflineComponentProvider");try{await Jd(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;nl("Error using user provided cache. Falling back to memory cache: "+r),await Jd(a,new uh)}}else he(ii,"Using default OfflineComponentProvider"),await Jd(a,new UR(void 0));return a._offlineComponents}async function Rb(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(he(ii,"Using user provided OnlineComponentProvider"),await cv(a,a._uninitializedComponentsProvider._online)):(he(ii,"Using default OnlineComponentProvider"),await cv(a,new Dm))),a._onlineComponents}function BR(a){return Rb(a).then((e=>e.syncEngine))}async function Im(a){const e=await Rb(a),r=e.eventManager;return r.onListen=wR.bind(null,e.syncEngine),r.onUnlisten=CR.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=SR.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=NR.bind(null,e.syncEngine),r}function FR(a,e,r={}){const i=new Ja;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new Sb({next:R=>{b.Nu(),f.enqueueAndForget((()=>pb(u,T))),R.fromCache&&g.source==="server"?y.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new yb(m,b,{includeMetadataChanges:!0,qa:!0});return gb(u,T)})(await Im(a),a.asyncQueue,e,r,i))),i.promise}function Cb(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const hv=new Map;const Nb="firestore.googleapis.com",fv=!0;class dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nb,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ES)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cb(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,r,i,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new YA;switch(i.type){case"firstParty":return new JA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const i=hv.get(r);i&&(he("ComponentProvider","Removing Datastore"),hv.delete(r),i.terminate())})(this),Promise.resolve()}}function qR(a,e,r,i={}){a=sr(a,Ch);const o=Qo(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${r}`;o&&(Yv(`https://${m}`),Xv("Firestore",!0)),u.host!==Nb&&u.host!==m&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:i};if(!el(g,f)&&(a._setSettings(g),i.mockUserToken)){let y,b;if(typeof i.mockUserToken=="string")y=i.mockUserToken,b=nn.MOCK_USER;else{y=Kv(i.mockUserToken,a._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(T)}a._authCredentials=new KA(new g1(y,b))}}class Ur{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class kt{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,i){if($o(r,kt._jsonSchema))return new kt(e,i||null,new pe(tt.fromString(r.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:It("string",kt._jsonSchemaVersion),referencePath:It("string")};class Wa extends Ur{constructor(e,r,i){super(e,r,$m(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new pe(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function Nn(a,e,...r){if(a=Zt(a),p1("collection","path",e),a instanceof Ch){const i=tt.fromString(e,...r);return R_(i),new Wa(a,null,i)}{if(!(a instanceof kt||a instanceof Wa))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(tt.fromString(e,...r));return R_(i),new Wa(a.firestore,null,i)}}function ir(a,e,...r){if(a=Zt(a),arguments.length===1&&(e=Fm.newId()),p1("doc","path",e),a instanceof Ch){const i=tt.fromString(e,...r);return S_(i),new kt(a,null,new pe(i))}{if(!(a instanceof kt||a instanceof Wa))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(tt.fromString(e,...r));return S_(i),new kt(a.firestore,a instanceof Wa?a.converter:null,new pe(i))}}const mv="AsyncQueue";class gv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lb(this,"async_queue_retry"),this._c=()=>{const i=Zd();i&&he(mv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const r=Zd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Zd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;he(mv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,la("INTERNAL UNHANDLED ERROR: ",pv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=r,r}enqueueAfterDelay(e,r,i){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const o=lg.createAndSchedule(this,e,r,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,i)=>r.targetTimeMs-i.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function pv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function yv(a){return(function(r,i){if(typeof r!="object"||r===null)return!1;const o=r;for(const u of i)if(u in o&&typeof o[u]=="function")return!0;return!1})(a,["next","error","complete"])}class si extends Ch{constructor(e,r,i,o){super(e,r,i,o),this.type="firestore",this._queue=new gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gv(e),this._firestoreClient=void 0,await e}}}function HR(a,e){const r=typeof a=="object"?a:i1(),i=typeof a=="string"?a:eh,o=t1(r,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=Qv("firestore");u&&qR(o,...u)}return o}function Nh(a){if(a._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||GR(a),a._firestoreClient}function GR(a){const e=a._freezeSettings(),r=(function(o,u,f,m){return new pw(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Cb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new LR(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Jt.fromBase64String(e))}catch(r){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Gn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($o(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:It("string",Gn._jsonSchemaVersion),bytes:It("string")};class Jo{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wo{constructor(e){this._methodName=e}}class Mr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mr._jsonSchemaVersion}}static fromJSON(e){if($o(e,Mr._jsonSchema))return new Mr(e.latitude,e.longitude)}}Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:It("string",Mr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class jr{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($o(e,jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new jr(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:It("string",jr._jsonSchemaVersion),vectorValues:It("object")};const QR=/^__.*__$/;class $R{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Yo(e,this.data,r,this.fieldTransforms)}}class Db{constructor(e,r,i){this.data=e,this.fieldMask=r,this.fieldTransforms=i}toMutation(e,r){return new oi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ib(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:a})}}class Dh{constructor(e,r,i,o,u,f){this.settings=e,this.databaseId=r,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),i=this.Vc({path:r,fc:!1});return i.gc(e),i}yc(e){const r=this.path?.child(e),i=this.Vc({path:r,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ib(this.Ac)&&QR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YR{constructor(e,r,i){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=i||wh(e)}Cc(e,r,i,o=!1){return new Dh({Ac:e,methodName:r,Dc:i,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eu(a){const e=a._freezeSettings(),r=wh(a._databaseId);return new YR(a._databaseId,!!e.ignoreUndefinedProperties,r)}function kb(a,e,r,i,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,r,o);mg("Data must be an object, but it was:",f,i);const m=zb(i,f);let g,y;if(u.merge)g=new Dn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const R=km(e,T,r);if(!f.contains(R))throw new le(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Lb(b,R)||b.push(R)}g=new Dn(b),y=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=f.fieldTransforms;return new $R(new _n(m),g,y)}class Ih extends Wo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function Ob(a,e,r){return new Dh({Ac:3,Dc:e.settings.Dc,methodName:a._methodName,fc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fg extends Wo{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=Ob(this,e,!0),i=this.vc.map((u=>es(u,r))),o=new ll(i);return new H1(e.path,o)}isEqual(e){return e instanceof fg&&el(this.vc,e.vc)}}class dg extends Wo{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=Ob(this,e,!0),i=this.vc.map((u=>es(u,r))),o=new ol(i);return new H1(e.path,o)}isEqual(e){return e instanceof dg&&el(this.vc,e.vc)}}function Vb(a,e,r,i){const o=a.Cc(1,e,r);mg("Data must be an object, but it was:",o,i);const u=[],f=_n.empty();li(i,((g,y)=>{const b=gg(e,g,r);y=Zt(y);const T=o.yc(b);if(y instanceof Ih)u.push(b);else{const R=es(y,T);R!=null&&(u.push(b),f.set(b,R))}}));const m=new Dn(u);return new Db(f,m,o.fieldTransforms)}function Mb(a,e,r,i,o,u){const f=a.Cc(1,e,r),m=[km(e,i,r)],g=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(km(e,u[R])),g.push(u[R+1]);const y=[],b=_n.empty();for(let R=m.length-1;R>=0;--R)if(!Lb(y,m[R])){const O=m[R];let U=g[R];U=Zt(U);const G=f.yc(O);if(U instanceof Ih)y.push(O);else{const z=es(U,G);z!=null&&(y.push(O),b.set(O,z))}}const T=new Dn(y);return new Db(b,T,f.fieldTransforms)}function jb(a,e,r,i=!1){return es(r,a.Cc(i?4:3,e))}function es(a,e){if(Ub(a=Zt(a)))return mg("Unsupported field value:",e,a),zb(a,e);if(a instanceof Wo)return(function(i,o){if(!Ib(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let f=0;for(const m of i){let g=es(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(a,e)}return(function(i,o){if((i=Zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Lw(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=st.fromDate(i);return{timestampValue:sh(o.serializer,u)}}if(i instanceof st){const u=new st(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sh(o.serializer,u)}}if(i instanceof Mr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Gn)return{bytesValue:X1(o.serializer,i._byteString)};if(i instanceof kt){const u=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof jr)return(function(f,m){return{mapValue:{fields:{[w1]:{stringValue:S1},[th]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Km(m.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${mh(i)}`)})(a,e)}function zb(a,e){const r={};return v1(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(a,((i,o)=>{const u=es(o,e.mc(i));u!=null&&(r[i]=u)})),{mapValue:{fields:r}}}function Ub(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof st||a instanceof Mr||a instanceof Gn||a instanceof kt||a instanceof Wo||a instanceof jr)}function mg(a,e,r){if(!Ub(r)||!y1(r)){const i=mh(r);throw i==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+i)}}function km(a,e,r){if((e=Zt(e))instanceof Jo)return e._internalPath;if(typeof e=="string")return gg(a,e);throw ch("Field path arguments must be of type string or ",a,!1,void 0,r)}const KR=new RegExp("[~\\*/\\[\\]]");function gg(a,e,r){if(e.search(KR)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Jo(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function ch(a,e,r,i,o){const u=i&&!i.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${i}`),f&&(g+=` in document ${o}`),g+=")"),new le(J.INVALID_ARGUMENT,m+a+g)}function Lb(a,e){return a.some((r=>r.isEqual(e)))}class pg{constructor(e,r,i,o,u){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class XR extends pg{data(){return super.data()}}function kh(a,e){return typeof e=="string"?gg(a,e):e instanceof Jo?e._internalPath:e._delegate._internalPath}function Pb(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class Oh extends yg{}function aa(a,e,...r){let i=[];e instanceof yg&&i.push(e),i=i.concat(r),(function(u){const f=u.filter((g=>g instanceof _g)).length,m=u.filter((g=>g instanceof Vh)).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)a=o._apply(a);return a}class Vh extends Oh{constructor(e,r,i){super(),this._field=e,this._op=r,this._value=i,this.type="where"}static _create(e,r,i){return new Vh(e,r,i)}_apply(e){const r=this._parse(e);return Bb(e._query,r),new Ur(e.firestore,e.converter,Em(e._query,r))}_parse(e){const r=eu(e.firestore);return(function(u,f,m,g,y,b,T){let R;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){bv(T,b);const U=[];for(const G of T)U.push(vv(g,u,G));R={arrayValue:{values:U}}}else R=vv(g,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||bv(T,b),R=jb(m,f,T,b==="in"||b==="not-in");return Dt.create(y,b,R)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function ZR(a,e,r){const i=e,o=kh("where",a);return Vh._create(o,i,r)}class _g extends yg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new _g(e,r)}_parse(e){const r=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return r.length===1?r[0]:lr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)Bb(f,g),f=Em(f,g)})(e._query,r),new Ur(e.firestore,e.converter,Em(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vg extends Oh{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new vg(e,r)}_apply(e){const r=(function(o,u,f){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qo(u,f)})(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Zi(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,r))}}function tn(a,e="asc"){const r=e,i=kh("orderBy",a);return vg._create(i,r)}class bg extends Oh{constructor(e,r,i){super(),this.type=e,this._limit=r,this._limitType=i}static _create(e,r,i){return new bg(e,r,i)}_apply(e){return new Ur(e.firestore,e.converter,rh(e._query,this._limit,this._limitType))}}function Qs(a){return iw("limit",a),bg._create("limit",a,"F")}class Eg extends Oh{constructor(e,r,i){super(),this.type=e,this._docOrFields=r,this._inclusive=i}static _create(e,r,i){return new Eg(e,r,i)}_apply(e){const r=JR(e,this.type,this._docOrFields,this._inclusive);return new Ur(e.firestore,e.converter,(function(o,u){return new Zi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,r))}}function _v(...a){return Eg._create("startAfter",a,!1)}function JR(a,e,r,i){if(r[0]=Zt(r[0]),r[0]instanceof pg)return(function(u,f,m,g,y){if(!g)throw new le(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const b=[];for(const T of Js(u))if(T.field.isKeyField())b.push(nh(f,g.key));else{const R=g.data.field(T.field);if(yh(R))throw new le(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(R===null){const O=T.field.canonicalString();throw new le(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(R)}return new sl(b,y)})(a._query,a.firestore._databaseId,e,r[0]._document,i);{const o=eu(a.firestore);return(function(f,m,g,y,b,T){const R=f.explicitOrderBy;if(b.length>R.length)throw new le(J.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let U=0;U<b.length;U++){const G=b[U];if(R[U].field.isKeyField()){if(typeof G!="string")throw new le(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!Ym(f)&&G.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const z=f.path.child(tt.fromString(G));if(!pe.isDocumentKey(z))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const X=new pe(z);O.push(nh(m,X))}else{const z=jb(g,y,G);O.push(z)}}return new sl(O,T)})(a._query,a.firestore._databaseId,o,e,r,i)}}function vv(a,e,r){if(typeof(r=Zt(r))=="string"){if(r==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ym(e)&&r.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const i=e.path.child(tt.fromString(r));if(!pe.isDocumentKey(i))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nh(a,new pe(i))}if(r instanceof kt)return nh(a,r._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(r)}.`)}function bv(a,e){if(!Array.isArray(a)||a.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bb(a,e){const r=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class WR{convertValue(e,r="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const i={};return li(e,((o,u)=>{i[o]=this.convertValue(u,r)})),i}convertVectorValue(e){const r=e.fields?.[th].arrayValue?.values?.map((i=>vt(i.doubleValue)));return new jr(r)}convertGeoPoint(e){return new Mr(vt(e.latitude),vt(e.longitude))}convertArray(e,r){return(e.values||[]).map((i=>this.convertValue(i,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const i=_h(e);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const r=ti(e);return new st(r.seconds,r.nanos)}convertDocumentKey(e,r){const i=tt.fromString(e);Qe(nb(i),9688,{name:e});const o=new Bo(i.get(1),i.get(3)),u=new pe(i.popFirst(5));return o.isEqual(r)||la(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}function Fb(a,e,r){let i;return i=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,i}class Do{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qi extends pg{constructor(e,r,i,o,u,f){super(e,r,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const i=this._document.data.field(kh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=qi._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",qi._jsonSchema={type:It("string",qi._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Qc extends qi{data(e={}){return super.data(e)}}class Hi{constructor(e,r,i,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new Do(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((i=>{e.call(r,new Qc(this._firestore,this._userDataWriter,i.key,i,new Do(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Do(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Do(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:eC(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:a})}}Hi._jsonSchemaVersion="firestore/querySnapshot/1.0",Hi._jsonSchema={type:It("string",Hi._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class Tg extends WR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,r)}}function Ao(a){a=sr(a,Ur);const e=sr(a.firestore,si),r=Nh(e),i=new Tg(e);return Pb(a._query),FR(r,a._query).then((o=>new Hi(e,i,a,o)))}function $s(a,e,r,...i){a=sr(a,kt);const o=sr(a.firestore,si),u=eu(o);let f;return f=typeof(e=Zt(e))=="string"||e instanceof Jo?Mb(u,"updateDoc",a._key,e,r,i):Vb(u,"updateDoc",a._key,e),Mh(o,[f.toMutation(a._key,vn.exists(!0))])}function Ev(a){return Mh(sr(a.firestore,si),[new xh(a._key,vn.none())])}function Wd(a,e){const r=sr(a.firestore,si),i=ir(a),o=Fb(a.converter,e);return Mh(r,[kb(eu(a.firestore),"addDoc",i._key,o,a.converter!==null,{}).toMutation(i._key,vn.exists(!1))]).then((()=>i))}function em(a,...e){a=Zt(a);let r={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||yv(e[i])||(r=e[i++]);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(yv(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let u,f,m;if(a instanceof kt)f=sr(a.firestore,si),m=$m(a._key.path),u={next:g=>{e[i]&&e[i](tC(f,a,g))},error:e[i+1],complete:e[i+2]};else{const g=sr(a,Ur);f=sr(g.firestore,si),m=g._query;const y=new Tg(f);u={next:b=>{e[i]&&e[i](new Hi(f,y,g,b))},error:e[i+1],complete:e[i+2]},Pb(a._query)}return(function(y,b,T,R){const O=new Sb(R),U=new yb(b,O,T);return y.asyncQueue.enqueueAndForget((async()=>gb(await Im(y),U))),()=>{O.Nu(),y.asyncQueue.enqueueAndForget((async()=>pb(await Im(y),U)))}})(Nh(f),m,o,u)}function Mh(a,e){return(function(i,o){const u=new Ja;return i.asyncQueue.enqueueAndForget((async()=>DR(await BR(i),o,u))),u.promise})(Nh(a),e)}function tC(a,e,r){const i=r.docs.get(e._key),o=new Tg(a);return new qi(a,o,e._key,i,new Do(r.hasPendingWrites,r.fromCache),e.converter)}class nC{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=eu(e)}set(e,r,i){this._verifyNotCommitted();const o=tm(e,this._firestore),u=Fb(o.converter,r,i),f=kb(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(f.toMutation(o._key,vn.none())),this}update(e,r,i,...o){this._verifyNotCommitted();const u=tm(e,this._firestore);let f;return f=typeof(r=Zt(r))=="string"||r instanceof Jo?Mb(this._dataReader,"WriteBatch.update",u._key,r,i,o):Vb(this._dataReader,"WriteBatch.update",u._key,r),this._mutations.push(f.toMutation(u._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=tm(e,this._firestore);return this._mutations=this._mutations.concat(new xh(r._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tm(a,e){if((a=Zt(a)).firestore!==e)throw new le(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}function rC(...a){return new fg("arrayUnion",a)}function aC(...a){return new dg("arrayRemove",a)}function Tv(a){return Nh(a=sr(a,si)),new nC(a,(e=>Mh(a,e)))}(function(e,r=!0){(function(o){hl=o})(r1),zo(new tl("firestore",((i,{instanceIdentifier:o,options:u})=>{const f=i.getProvider("app").getImmediate(),m=new si(new XA(i.getProvider("auth-internal")),new WA(f,i.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:r,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Xa(T_,x_,e),Xa(T_,x_,"esm2020")})();const qb="firebasestorage.googleapis.com",Hb="storageBucket",iC=120*1e3,sC=600*1e3;class mt extends Xi{constructor(e,r,i=0){super(nm(e),`Firebase Storage: ${r} (${nm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function nm(a){return"storage/"+a}function xg(){const a="An unknown error occurred, please check the error payload for server response.";return new mt(dt.UNKNOWN,a)}function lC(a){return new mt(dt.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function oC(a){return new mt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uC(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(dt.UNAUTHENTICATED,a)}function cC(){return new mt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hC(a){return new mt(dt.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function fC(){return new mt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dC(){return new mt(dt.CANCELED,"User canceled the upload/download.")}function mC(a){return new mt(dt.INVALID_URL,"Invalid URL '"+a+"'.")}function gC(a){return new mt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function pC(){return new mt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hb+"' property when initializing the app?")}function yC(){return new mt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _C(){return new mt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vC(a){return new mt(dt.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Om(a){return new mt(dt.INVALID_ARGUMENT,a)}function Gb(){return new mt(dt.APP_DELETED,"The Firebase app was deleted.")}function bC(a){return new mt(dt.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mo(a,e){return new mt(dt.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function wo(a){throw new mt(dt.INTERNAL_ERROR,"Internal error: "+a)}class In{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let i;try{i=In.makeFromUrl(e,r)}catch{return new In(e,"")}if(i.path==="")return i;throw gC(e)}static makeFromUrl(e,r){let i=null;const o="([A-Za-z0-9.\\-_]+)";function u(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(ce){ce.path_=decodeURIComponent(ce.path)}const b="v[A-Za-z0-9_]+",T=r.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${b}/b/${o}/o${R}`,"i"),U={bucket:1,path:3},G=r===qb?"(?:storage.googleapis.com|storage.cloud.google.com)":r,z="([^?#]*)",X=new RegExp(`^https?://${G}/${o}/${z}`,"i"),ne=[{regex:m,indices:g,postModify:u},{regex:O,indices:U,postModify:y},{regex:X,indices:{bucket:1,path:2},postModify:y}];for(let ce=0;ce<ne.length;ce++){const de=ne[ce],ve=de.regex.exec(e);if(ve){const D=ve[de.indices.bucket];let A=ve[de.indices.path];A||(A=""),i=new In(D,A),de.postModify(i);break}}if(i==null)throw mC(e);return i}}class EC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function TC(a,e,r){let i=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let y=!1;function b(...z){y||(y=!0,e.apply(null,z))}function T(z){o=setTimeout(()=>{o=null,a(O,g())},z)}function R(){u&&clearTimeout(u)}function O(z,...X){if(y){R();return}if(z){R(),b.call(null,z,...X);return}if(g()||f){R(),b.call(null,z,...X);return}i<64&&(i*=2);let ne;m===1?(m=2,ne=0):ne=(i+Math.random())*1e3,T(ne)}let U=!1;function G(z){U||(U=!0,R(),!y&&(o!==null?(z||(m=2),clearTimeout(o),T(0)):z||(m=1)))}return T(0),u=setTimeout(()=>{f=!0,G(!0)},r),G}function xC(a){a(!1)}function AC(a){return a!==void 0}function wC(a){return typeof a=="object"&&!Array.isArray(a)}function Ag(a){return typeof a=="string"||a instanceof String}function xv(a){return wg()&&a instanceof Blob}function wg(){return typeof Blob<"u"}function Av(a,e,r,i){if(i<e)throw Om(`Invalid value for '${a}'. Expected ${e} or greater.`);if(i>r)throw Om(`Invalid value for '${a}'. Expected ${r} or less.`)}function Sg(a,e,r){let i=e;return r==null&&(i=`https://${e}`),`${r}://${i}/v0${a}`}function Qb(a){const e=encodeURIComponent;let r="?";for(const i in a)if(a.hasOwnProperty(i)){const o=e(i)+"="+e(a[i]);r=r+o+"&"}return r=r.slice(0,-1),r}var Gi;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Gi||(Gi={}));function SC(a,e){const r=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return r||o||u}class RC{constructor(e,r,i,o,u,f,m,g,y,b,T,R=!0,O=!1){this.url_=e,this.method_=r,this.headers_=i,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=T,this.retry=R,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,G)=>{this.resolve_=U,this.reject_=G,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new zc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Gi.NO_ERROR,g=u.getStatus();if(!m||SC(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===Gi.ABORT;i(!1,new zc(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new zc(y,u))})},r=(i,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());AC(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=xg();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?Gb():dC();f(g)}else{const g=fC();f(g)}};this.canceled_?r(!1,new zc(!1,null,!0)):this.backoffId_=TC(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zc{constructor(e,r,i){this.wasSuccessCode=e,this.connection=r,this.canceled=!!i}}function CC(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function NC(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DC(a,e){e&&(a["X-Firebase-GMPID"]=e)}function IC(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function kC(a,e,r,i,o,u,f=!0,m=!1){const g=Qb(a.urlParams),y=a.url+g,b=Object.assign({},a.headers);return DC(b,e),CC(b,r),NC(b,u),IC(b,i),new RC(y,a.method,b,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,f,m)}function OC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VC(...a){const e=OC();if(e!==void 0){const r=new e;for(let i=0;i<a.length;i++)r.append(a[i]);return r.getBlob()}else{if(wg())return new Blob(a);throw new mt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function MC(a,e,r){return a.webkitSlice?a.webkitSlice(e,r):a.mozSlice?a.mozSlice(e,r):a.slice?a.slice(e,r):null}function jC(a){if(typeof atob>"u")throw vC("base-64");return atob(a)}const kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rm{constructor(e,r){this.data=e,this.contentType=r||null}}function zC(a,e){switch(a){case kr.RAW:return new rm($b(e));case kr.BASE64:case kr.BASE64URL:return new rm(Yb(a,e));case kr.DATA_URL:return new rm(LC(e),PC(e))}throw xg()}function $b(a){const e=[];for(let r=0;r<a.length;r++){let i=a.charCodeAt(r);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(r<a.length-1&&(a.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const u=i,f=a.charCodeAt(++r);i=65536|(u&1023)<<10|f&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function UC(a){let e;try{e=decodeURIComponent(a)}catch{throw Mo(kr.DATA_URL,"Malformed data URL.")}return $b(e)}function Yb(a,e){switch(a){case kr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Mo(a,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case kr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Mo(a,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=jC(e)}catch(o){throw o.message.includes("polyfill")?o:Mo(a,"Invalid character found")}const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}class Kb{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Mo(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=r[1]||null;i!=null&&(this.base64=BC(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function LC(a){const e=new Kb(a);return e.base64?Yb(kr.BASE64,e.rest):UC(e.rest)}function PC(a){return new Kb(a).contentType}function BC(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}class Qa{constructor(e,r){let i=0,o="";xv(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,r){if(xv(this.data_)){const i=this.data_,o=MC(i,e,r);return o===null?null:new Qa(o)}else{const i=new Uint8Array(this.data_.buffer,e,r-e);return new Qa(i,!0)}}static getBlob(...e){if(wg()){const r=e.map(i=>i instanceof Qa?i.data_:i);return new Qa(VC.apply(null,r))}else{const r=e.map(f=>Ag(f)?zC(kr.RAW,f).data:f.data_);let i=0;r.forEach(f=>{i+=f.byteLength});const o=new Uint8Array(i);let u=0;return r.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Qa(o,!0)}}uploadData(){return this.data_}}function Xb(a){let e;try{e=JSON.parse(a)}catch{return null}return wC(e)?e:null}function FC(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function qC(a,e){const r=e.split("/").filter(i=>i.length>0).join("/");return a.length===0?r:a+"/"+r}function Zb(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}function HC(a,e){return e}class on{constructor(e,r,i,o){this.server=e,this.local=r||e,this.writable=!!i,this.xform=o||HC}}let Uc=null;function GC(a){return!Ag(a)||a.length<2?a:Zb(a)}function Jb(){if(Uc)return Uc;const a=[];a.push(new on("bucket")),a.push(new on("generation")),a.push(new on("metageneration")),a.push(new on("name","fullPath",!0));function e(u,f){return GC(f)}const r=new on("name");r.xform=e,a.push(r);function i(u,f){return f!==void 0?Number(f):f}const o=new on("size");return o.xform=i,a.push(o),a.push(new on("timeCreated")),a.push(new on("updated")),a.push(new on("md5Hash",null,!0)),a.push(new on("cacheControl",null,!0)),a.push(new on("contentDisposition",null,!0)),a.push(new on("contentEncoding",null,!0)),a.push(new on("contentLanguage",null,!0)),a.push(new on("contentType",null,!0)),a.push(new on("metadata","customMetadata",!0)),Uc=a,Uc}function QC(a,e){function r(){const i=a.bucket,o=a.fullPath,u=new In(i,o);return e._makeStorageReference(u)}Object.defineProperty(a,"ref",{get:r})}function $C(a,e,r){const i={};i.type="file";const o=r.length;for(let u=0;u<o;u++){const f=r[u];i[f.local]=f.xform(i,e[f.server])}return QC(i,a),i}function Wb(a,e,r){const i=Xb(e);return i===null?null:$C(a,i,r)}function YC(a,e,r,i){const o=Xb(e);if(o===null||!Ag(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const b=a.bucket,T=a.fullPath,R="/b/"+f(b)+"/o/"+f(T),O=Sg(R,r,i),U=Qb({alt:"media",token:y});return O+U})[0]}function KC(a,e){const r={},i=e.length;for(let o=0;o<i;o++){const u=e[o];u.writable&&(r[u.server]=a[u.local])}return JSON.stringify(r)}class eE{constructor(e,r,i,o){this.url=e,this.method=r,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tE(a){if(!a)throw xg()}function XC(a,e){function r(i,o){const u=Wb(a,o,e);return tE(u!==null),u}return r}function ZC(a,e){function r(i,o){const u=Wb(a,o,e);return tE(u!==null),YC(u,o,a.host,a._protocol)}return r}function nE(a){function e(r,i){let o;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?o=cC():o=uC():r.getStatus()===402?o=oC(a.bucket):r.getStatus()===403?o=hC(a.path):o=i,o.status=r.getStatus(),o.serverResponse=i.serverResponse,o}return e}function JC(a){const e=nE(a);function r(i,o){let u=e(i,o);return i.getStatus()===404&&(u=lC(a.path)),u.serverResponse=o.serverResponse,u}return r}function WC(a,e,r){const i=e.fullServerUrl(),o=Sg(i,a.host,a._protocol),u="GET",f=a.maxOperationRetryTime,m=new eE(o,u,ZC(a,r),f);return m.errorHandler=JC(e),m}function eN(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function tN(a,e,r){const i=Object.assign({},r);return i.fullPath=a.path,i.size=e.size(),i.contentType||(i.contentType=eN(null,e)),i}function nN(a,e,r,i,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let ne="";for(let ce=0;ce<2;ce++)ne=ne+Math.random().toString().slice(2);return ne}const g=m();f["Content-Type"]="multipart/related; boundary="+g;const y=tN(e,i,o),b=KC(y,r),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,R=`\r
--`+g+"--",O=Qa.getBlob(T,i,R);if(O===null)throw yC();const U={name:y.fullPath},G=Sg(u,a.host,a._protocol),z="POST",X=a.maxUploadRetryTime,re=new eE(G,z,XC(a,r),X);return re.urlParams=U,re.headers=f,re.body=O.uploadData(),re.errorHandler=nE(e),re}class rN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,i,o,u){if(this.sent_)throw wo("cannot .send() more than once");if(Qo(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aN extends rN{initXhr(){this.xhr_.responseType="text"}}function rE(){return new aN}class Ki{constructor(e,r){this._service=e,r instanceof In?this._location=r:this._location=In.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Ki(e,r)}get root(){const e=new In(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zb(this._location.path)}get storage(){return this._service}get parent(){const e=FC(this._location.path);if(e===null)return null;const r=new In(this._location.bucket,e);return new Ki(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw bC(e)}}function iN(a,e,r){a._throwIfRoot("uploadBytes");const i=nN(a.storage,a._location,Jb(),new Qa(e,!0),r);return a.storage.makeRequestWithTokens(i,rE).then(o=>({metadata:o,ref:a}))}function sN(a){a._throwIfRoot("getDownloadURL");const e=WC(a.storage,a._location,Jb());return a.storage.makeRequestWithTokens(e,rE).then(r=>{if(r===null)throw _C();return r})}function lN(a,e){const r=qC(a._location.path,e),i=new In(a._location.bucket,r);return new Ki(a.storage,i)}function oN(a){return/^[A-Za-z]+:\/\//.test(a)}function uN(a,e){return new Ki(a,e)}function aE(a,e){if(a instanceof Rg){const r=a;if(r._bucket==null)throw pC();const i=new Ki(r,r._bucket);return e!=null?aE(i,e):i}else return e!==void 0?lN(a,e):a}function cN(a,e){if(e&&oN(e)){if(a instanceof Rg)return uN(a,e);throw Om("To use ref(service, url), the first argument must be a Storage instance.")}else return aE(a,e)}function wv(a,e){const r=e?.[Hb];return r==null?null:In.makeFromBucketSpec(r,a)}function hN(a,e,r,i={}){a.host=`${e}:${r}`;const o=Qo(e);o&&(Yv(`https://${a.host}/b`),Xv("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:u}=i;u&&(a._overrideAuthToken=typeof u=="string"?u:Kv(u,a.app.options.projectId))}class Rg{constructor(e,r,i,o,u,f=!1){this.app=e,this._authProvider=r,this._appCheckProvider=i,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iC,this._maxUploadRetryTime=sC,this._requests=new Set,o!=null?this._bucket=In.makeFromBucketSpec(o,this._host):this._bucket=wv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,e):this._bucket=wv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Av("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Av("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(n1(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ki(this,e)}_makeRequest(e,r,i,o,u=!0){if(this._deleted)return new EC(Gb());{const f=kC(e,this._appId,i,o,r,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,r){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,i,o).getPromise()}}const Sv="@firebase/storage",Rv="0.14.0";const iE="storage";function fN(a,e,r){return a=Zt(a),iN(a,e,r)}function dN(a){return a=Zt(a),sN(a)}function mN(a,e){return a=Zt(a),cN(a,e)}function gN(a=i1(),e){a=Zt(a);const i=t1(a,iE).getImmediate({identifier:e}),o=Qv("storage");return o&&pN(i,...o),i}function pN(a,e,r,i={}){hN(a,e,r,i)}function yN(a,{instanceIdentifier:e}){const r=a.getProvider("app").getImmediate(),i=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new Rg(r,i,o,e,r1)}function _N(){zo(new tl(iE,yN,"PUBLIC").setMultipleInstances(!0)),Xa(Sv,Rv,""),Xa(Sv,Rv,"esm2020")}_N();const vN={apiKey:"AIzaSyBdcEGmCXwYX8y4vZ6xWSvqhpKeBzG3sjI",authDomain:"noc-timeline.firebaseapp.com",projectId:"noc-timeline",storageBucket:"noc-timeline.firebasestorage.app",messagingSenderId:"41507495114",appId:"1:41507495114:web:4d2118a77fb4be05142833"},sE=a1(vN),it=HR(sE),bN=gN(sE),un="incidents",Pi="events",Ha="shift_handovers",Ft={subscribeIncidents:(a,e=50)=>{const r=aa(Nn(it,un),tn("createdAt","desc"),Qs(e));return em(r,i=>{const o=i.docs.map(u=>({id:u.id,...u.data()}));a(o)})},getIncidents:async(a=null,e=20)=>{try{let r=aa(Nn(it,un),tn("createdAt","desc"),Qs(e));a&&(r=aa(Nn(it,un),tn("createdAt","desc"),_v(a),Qs(e)));const i=await Ao(r);return{data:i.docs.map(u=>({id:u.id,...u.data()})),lastVisible:i.docs[i.docs.length-1]||null}}catch(r){throw console.error(r),r}},createIncident:async a=>{const e={...a,type:"Incident",status:"Open",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{id:(await Wd(Nn(it,un),e)).id,...e,events:[]}},updateIncident:async(a,e)=>{const{events:r,...i}=e;await $s(ir(it,un,a),{...i,updatedAt:new Date().toISOString()})},deleteIncident:async a=>{const e=Nn(it,un,a,Pi),r=await Ao(e),i=Tv(it);r.docs.forEach(o=>i.delete(o.ref)),i.delete(ir(it,un,a)),await i.commit()},subscribeIncidentEvents:(a,e)=>{const r=aa(Nn(it,un,a,Pi),tn("order","asc"),tn("date","asc"),tn("time","asc"));return em(r,i=>{const o=i.docs.map(u=>({id:u.id,...u.data()}));e(o)})},getIncidentEvents:async a=>{const e=aa(Nn(it,un,a,Pi),tn("order","asc"),tn("date","asc"),tn("time","asc"));return(await Ao(e)).docs.map(i=>({id:i.id,...i.data()}))},createEvent:async({incident_id:a,...e})=>{const r={...e,order:999999},i=await Wd(Nn(it,un,a,Pi),r);return await $s(ir(it,un,a),{updatedAt:new Date().toISOString()}),{id:i.id,...r}},updateEvent:async(a,e,r)=>{await $s(ir(it,un,a,Pi,e),r),await $s(ir(it,un,a),{updatedAt:new Date().toISOString()})},deleteEvent:async(a,e)=>{await Ev(ir(it,un,a,Pi,e))},reorderEvents:async(a,e)=>{const r=Tv(it);e.forEach((i,o)=>{const u=ir(it,un,a,Pi,i.id);r.update(u,{order:o})}),await r.commit()},uploadImage:async a=>{const e=`evidence/${Date.now()}_${a.name}`,r=mN(bN,e),i=await fN(r,a);return await dN(i.ref)},subscribeHandovers:(a,e=50)=>{const r=aa(Nn(it,Ha),tn("date","desc"),tn("createdAt","desc"),Qs(e));return em(r,i=>{const o=i.docs.map(u=>({id:u.id,...u.data()}));a(o)})},getShiftHandovers:async(a=null,e=20)=>{try{let r=aa(Nn(it,Ha),tn("date","desc"),tn("createdAt","desc"),Qs(e));a&&(r=aa(Nn(it,Ha),tn("date","desc"),tn("createdAt","desc"),_v(a),Qs(e)));const i=await Ao(r);return{data:i.docs.map(u=>({id:u.id,...u.data()})),lastVisible:i.docs[i.docs.length-1]||null}}catch(r){throw console.error(r),r}},getShiftHandoversByDate:async a=>{try{const e=aa(Nn(it,Ha),ZR("date","==",a),tn("createdAt","desc"));return(await Ao(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error(e),e}},createShiftHandover:async a=>({id:(await Wd(Nn(it,Ha),{...a,createdAt:new Date().toISOString()})).id,...a}),updateShiftHandover:async(a,e)=>{await $s(ir(it,Ha,a),e)},deleteShiftHandover:async a=>{await Ev(ir(it,Ha,a))},toggleAcknowledge:async(a,e,r)=>{const i=ir(it,Ha,a);await $s(i,{acknowledgedBy:r?aC(e):rC(e)})}},Ga={getIncidents:async(a=null)=>{try{return await Ft.getIncidents(a)}catch(e){throw console.error("Fetch incidents error:",e),new Error("Failed to load incidents.")}},getIncidentEvents:async a=>await Ft.getIncidentEvents(a),createIncident:async a=>{try{const e={project:"MONOMAX",subject:"New Incident",ticket:"",createdBy:a};return await Ft.createIncident(e)}catch{throw new Error("Failed to create case.")}},updateIncident:async(a,e)=>await Ft.updateIncident(a,e),deleteIncident:async a=>await Ft.deleteIncident(a),addEvent:async(a,e)=>await Ft.createEvent({incident_id:a,...e}),updateEvent:async(a,e,r)=>await Ft.updateEvent(a,e,r),deleteEvent:async(a,e)=>await Ft.deleteEvent(a,e),reorderEvents:async(a,e)=>await Ft.reorderEvents(a,e)},EN=a=>{const[e,r]=q.useState([]),[i,o]=q.useState(null),[u,f]=q.useState(!0),[m,g]=q.useState(!1),[y,b]=q.useState({show:!1,message:"",type:"success"}),[T,R]=q.useState({isOpen:!1}),O=q.useCallback((A,S="success")=>{b({show:!0,message:A,type:S}),setTimeout(()=>b(I=>({...I,show:!1})),3e3)},[]);return q.useEffect(()=>{f(!0);const A=Ft.subscribeIncidents(S=>{r(S),f(!1)});return()=>A()},[]),q.useEffect(()=>{let A=null;return i&&(g(!0),A=Ft.subscribeIncidentEvents(i,S=>{r(I=>I.map(N=>N.id===i?{...N,events:S}:N)),g(!1)})),()=>{A&&A()}},[i]),{incidents:e,loading:u,selectedIncidentId:i,setSelectedIncidentId:o,isEventsLoading:m,handleSelectIncident:A=>o(A),handleCreate:async()=>{if(!a)return O("Please select user first","error");try{const A=await Ga.createIncident(a);o(A.id),O("Case created")}catch(A){O(A.message,"error")}},handleUpdate:async(A,S)=>{r(I=>I.map(N=>N.id===A?{...N,...S}:N)),await Ga.updateIncident(A,S)},requestDelete:A=>{R({isOpen:!0,type:"incident",args:[A],title:"Delete Incident?",message:"Confirm delete?",isDanger:!0})},handleAddEvent:async(A,S)=>{try{await Ga.addEvent(A,S),O("Event added")}catch(I){O(I.message,"error")}},handleUpdateEvent:async(A,S,I)=>{try{await Ga.updateEvent(A,S,I),O("Updated")}catch{O("Failed","error")}},requestDeleteEvent:(A,S)=>{R({isOpen:!0,type:"event",args:[A,S],title:"Delete Event?",message:"Remove this event?",isDanger:!0})},handleReorderEvents:async(A,S)=>{r(I=>I.map(N=>N.id===A?{...N,events:S}:N));try{await Ga.reorderEvents(A,S)}catch(I){console.error(I)}},toast:y,setToast:b,confirmConfig:T,setConfirmConfig:R,executeConfirmAction:async()=>{const{type:A,args:S}=T;R({...T,isOpen:!1});try{A==="incident"?(await Ga.deleteIncident(S[0]),i===S[0]&&o(null),O("Deleted")):A==="event"&&(await Ga.deleteEvent(S[0],S[1]),O("Deleted"))}catch{O("Error","error")}},handleExportCSV:async A=>{O("Preparing download data...","info");const S="Date,Time,Project,Type,Ticket,Subject,Status,CreatedBy,Impact,Root Cause,Action,Timeline Details",I=await Promise.all(A.map(async xe=>{let nt="";try{const se=await Ga.getIncidentEvents(xe.id);se&&se.length>0&&(nt=se.sort((Y,ae)=>{const ue=new Date(`${Y.date}T${Y.time}`),_e=new Date(`${ae.date}T${ae.time}`);return ue-_e}).map(Y=>`[${Y.date} ${Y.time}] ${Y.title||Y.desc}`).join(`
`))}catch{nt="Error loading timeline"}const K=xe.createdAt?new Date(xe.createdAt):new Date,oe=K.toLocaleDateString("en-GB"),ge=K.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),Te=se=>(se||"").toString().replace(/"/g,'""');return`"${oe}","${ge}","${Te(xe.project)}","${Te(xe.type)}","${Te(xe.ticket)}","${Te(xe.subject)}","${Te(xe.status)}","${Te(xe.createdBy)}","${Te(xe.impact)}","${Te(xe.root_cause)}","${Te(xe.action)}","${Te(nt)}"`})),N=[S,...I].join(`
`),j=new Blob(["\uFEFF"+N],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(j),C.download=`NOC_Incidents_${new Date().toISOString().split("T")[0]}.csv`,C.click(),O("CSV Exported Successfully")}}};function TN({currentUser:a}){const{incidents:e,loading:r,isEventsLoading:i,selectedIncidentId:o,setSelectedIncidentId:u,handleSelectIncident:f,handleCreate:m,handleUpdate:g,requestDelete:y,handleAddEvent:b,handleUpdateEvent:T,requestDeleteEvent:R,handleReorderEvents:O,toast:U,setToast:G,confirmConfig:z,setConfirmConfig:X,executeConfirmAction:re,handleExportCSV:ne}=EN(a),ce=e.find(de=>de.id===o);return r&&e.length===0?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 gap-2",children:[E.jsx("div",{className:"w-8 h-8 border-4 border-gray-300 border-t-black dark:border-zinc-700 dark:border-t-white rounded-full animate-spin"}),E.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Data..."})]}):E.jsxs("div",{className:"w-full h-full relative",children:[U.show&&E.jsx(Fv,{message:U.message,type:U.type,onClose:()=>G(de=>({...de,show:!1}))}),E.jsx(qv,{isOpen:z.isOpen,onClose:()=>X({...z,isOpen:!1}),onConfirm:re,title:z.title,message:z.message,isDanger:!0}),E.jsxs("div",{className:"w-full h-full grid grid-cols-1 lg:grid-cols-12",children:[E.jsx("div",{className:`lg:col-span-3 h-full border-r-2 border-gray-200 dark:border-[#333] overflow-hidden flex-col ${o?"hidden lg:flex":"flex"}`,children:E.jsx(hx,{incidents:e,selectedId:o,onSelect:de=>f(de),onAddIncident:m,onDeleteIncident:y,onExportCSV:ne})}),E.jsx("div",{className:`lg:col-span-9 h-full overflow-hidden flex flex-col bg-[#F3F4F6] dark:bg-[#000000] ${o?"absolute inset-0 z-40 lg:relative lg:flex animate-in slide-in-from-right duration-300":"hidden lg:flex"}`,children:E.jsx(px,{incident:ce,isLoading:i,onUpdateIncident:g,onAddEvent:b,onDeleteEvent:R,onUpdateEvent:T,onReorderEvent:O,onBack:()=>u(null)})})]})]})}const Lc={getHandovers:async(a=null,e="")=>{try{return e?await Ft.getShiftHandoversByDate(e):await Ft.getShiftHandovers(a)}catch(r){throw console.error("Error fetching shifts:",r),new Error("Failed to load shift history.")}},createHandover:async a=>{try{const e={...a,createdAt:new Date().toISOString(),acknowledgedBy:[]};return await Ft.createShiftHandover(e)}catch(e){throw console.error("Error creating shift:",e),new Error("Failed to create shift log.")}},updateHandover:async(a,e)=>{try{return await Ft.updateShiftHandover(a,e),{id:a,...e}}catch(r){throw console.error("Error updating shift:",r),new Error("Failed to update shift log.")}},deleteHandover:async a=>{try{return await Ft.deleteShiftHandover(a),a}catch(e){throw console.error("Error deleting shift:",e),new Error("Failed to delete shift log.")}},toggleAcknowledge:async(a,e,r)=>{try{return await Ft.toggleAcknowledge(a,e,r),{id:a,memberName:e,isRemoving:r}}catch(i){throw console.error("Error toggling acknowledge:",i),new Error("Failed to update acknowledgment.")}}},xN=a=>{const[e,r]=q.useState([]),[i,o]=q.useState(!0),[u,f]=q.useState(""),[m,g]=q.useState(""),[y,b]=q.useState({show:!1,message:"",type:"success"}),T=q.useCallback((z,X="success")=>{b({show:!0,message:z,type:X}),setTimeout(()=>b(re=>({...re,show:!1})),3e3)},[]);return q.useEffect(()=>{o(!0);const z=Ft.subscribeHandovers(X=>{r(X),o(!1)});return()=>z()},[]),{history:e,loading:i,filterDate:u,setFilterDate:f,searchText:m,setSearchText:g,toast:y,setToast:b,handleDelete:async z=>{try{await Lc.deleteHandover(z),T("Deleted")}catch(X){T(X.message,"error")}},handleSave:async(z,X,re)=>{try{return X?(await Lc.updateHandover(re,z),T("Updated")):(await Lc.createHandover(z),T("Created")),!0}catch(ne){return T(ne.message,"error"),!1}},handleAcknowledge:async(z,X)=>{if(!a)return T("Select user first!","error"),!1;const re=(z.acknowledgedBy||[]).includes(X);try{return await Lc.toggleAcknowledge(z.id,X,re),T(re?"Ack removed":"Acknowledged"),!0}catch(ne){return T(ne.message,"error"),!1}},handleExportCSV:z=>{const re=["Date,Time,Shift,Status,Team,Ack,Note",...z.map(de=>{const ve=new Date(de.date).toLocaleDateString("en-GB"),D=(de.note||"").replace(/"/g,'""'),A=(de.onDuty||[]).join("; "),S=(de.acknowledgedBy||[]).join("; ");return`"${ve}","${de.time}","${de.shift}","${de.status}","${A}","${S}","${D}"`})].join(`
`),ne=new Blob(["\uFEFF"+re],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a");ce.href=URL.createObjectURL(ne),ce.download=`NOC_Handover_${new Date().toISOString().split("T")[0]}.csv`,ce.click(),T("CSV Exported")}}};function AN({isOpen:a,onClose:e,onSubmit:r,initialData:i,isEditing:o,currentUser:u,isLoading:f}){const[m,g]=q.useState({date:"",time:"",shift:"Morning",onDuty:[],status:"Normal",note:""});if(q.useEffect(()=>{if(a)if(i)g(i);else{const b=new Date,T=b.getFullYear(),R=String(b.getMonth()+1).padStart(2,"0"),O=String(b.getDate()).padStart(2,"0"),U=`${T}-${R}-${O}`,G=b.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),z=b.getHours(),X=z>=8&&z<20?"Morning":"Night";g({date:U,time:G,shift:X,onDuty:u?[u]:[],status:"Normal",note:""})}},[a,i,u]),!a)return null;const y=b=>{if(b.preventDefault(),m.onDuty.length===0)return alert("Please assign an officer");r(m)};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"w-full max-w-md rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden bg-white dark:bg-[#111]",children:[E.jsxs("div",{className:"px-5 py-4 bg-gray-50 dark:bg-[#000] flex justify-between items-center border-b border-gray-200 dark:border-[#333]",children:[E.jsx("h2",{className:"text-sm font-bold uppercase text-[#1F2937] dark:text-[#F2F2F2] tracking-wider",children:o?"Edit Log":"New Shift Log"}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-black dark:hover:text-[#F2F2F2] transition-colors",children:E.jsx(Qi,{size:18})})]}),E.jsxs("div",{className:"p-5 space-y-5 bg-white dark:bg-[#111]",children:[E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Date"}),E.jsx("input",{type:"date",value:m.date,onChange:b=>g({...m,date:b.target.value}),className:`w-full h-10 px-3 text-sm border border-gray-200 rounded-lg focus:border-black focus:ring-1 focus:ring-black outline-none font-bold\r
                bg-white text-[#1F2937] dark:bg-[#222] dark:text-[#F2F2F2] dark:border-[#333]`})]}),E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Time"}),E.jsx("input",{type:"time",value:m.time,onChange:b=>g({...m,time:b.target.value}),className:`w-full h-10 px-3 text-sm border border-gray-200 rounded-lg focus:border-black focus:ring-1 focus:ring-black outline-none font-bold\r
                bg-white text-[#1F2937] dark:bg-[#222] dark:text-[#F2F2F2] dark:border-[#333]`})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Shift"}),E.jsx("div",{className:"flex gap-2 p-1 bg-gray-100 dark:bg-[#222] rounded-lg",children:["Morning","Night"].map(b=>E.jsxs("button",{type:"button",onClick:()=>g({...m,shift:b}),className:`flex-1 h-9 flex items-center justify-center gap-2 text-xs font-bold rounded-md transition-all 
                  ${m.shift===b?"bg-black text-white shadow-md dark:bg-[#F2F2F2] dark:text-[#000000]":"text-gray-500 hover:bg-gray-200 dark:text-[#F2F2F2]"}`,children:[b==="Morning"?E.jsx(jo,{size:14}):E.jsx(dh,{size:14})," ",b]},b))})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Status"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{type:"button",onClick:()=>g({...m,status:"Normal"}),className:`flex-1 h-9 rounded-lg border text-xs font-bold flex items-center justify-center gap-1 transition-all 
                ${m.status==="Normal"?"bg-[#1F2937] border-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]":"bg-white border-gray-200 text-gray-400 dark:bg-[#222] dark:border-[#333]"}`,children:[E.jsx(Go,{size:14})," Normal"]}),E.jsxs("button",{type:"button",onClick:()=>g({...m,status:"Issue Found"}),className:`flex-1 h-9 rounded-lg border text-xs font-bold flex items-center justify-center gap-1 transition-all 
                ${m.status==="Issue Found"?"bg-red-600 border-red-600 text-white":"bg-white border-gray-200 text-gray-400 dark:bg-[#222] dark:border-[#333]"}`,children:[E.jsx(Um,{size:14})," Issues"]})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Note"}),E.jsx("textarea",{rows:4,value:m.note,onChange:b=>g({...m,note:b.target.value}),className:`w-full p-3 text-sm border border-gray-200 rounded-lg focus:border-black focus:ring-1 focus:ring-black outline-none resize-none \r
              bg-white text-[#1F2937] dark:bg-[#222] dark:text-[#F2F2F2] dark:border-[#333]`,placeholder:"Type handover notes here..."})]})]}),E.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end gap-3 dark:bg-[#000] dark:border-[#333]",children:[E.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg text-xs font-bold text-gray-500 hover:bg-gray-200 dark:hover:bg-[#222]",children:"CANCEL"}),E.jsx("button",{type:"button",onClick:y,disabled:f,className:"px-6 py-2 bg-[#1F2937] text-white rounded-lg text-xs font-bold uppercase hover:bg-black shadow-lg transition-all dark:bg-[#F2F2F2] dark:text-[#000000] dark:hover:bg-[#ccc]",children:f?"Saving...":"SAVE LOG"})]})]})})}const wN=[{id:"NOC-1",name:"Mekin S.",role:"NOC"},{id:"NOC-2",name:"Akkapol P.",role:"NOC"},{id:"NOC-3",name:"Nawapat R.",role:"NOC"},{id:"NOC-4",name:"Watcharapol P.",role:"NOC"},{id:"NOC-5",name:"Supporter",role:"NOC"}],SN=({log:a,isOpen:e,onClose:r,nocMembers:i})=>{if(!e||!a)return null;const o=i.every(u=>(a.acknowledgedBy||[]).includes(u.name));return E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] bg-[#F3F4F6] dark:bg-[#111]",children:[E.jsxs("div",{className:"px-6 py-4 flex justify-between items-start border-b border-gray-200 bg-white dark:bg-[#000] dark:border-[#333]",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase border ${a.status==="Normal"?"bg-[#1F2937] text-white border-transparent":"bg-red-500 text-white border-transparent"}`,children:a.status}),E.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["ID: ",a.id.slice(0,8),"..."]})]}),E.jsxs("h2",{className:"text-xl font-bold text-[#1F2937] dark:text-[#F2F2F2] flex items-center gap-2",children:[a.shift==="Morning"?E.jsx(jo,{className:"text-[#1F2937] dark:text-[#F2F2F2]",size:20}):E.jsx(dh,{className:"text-gray-500",size:20}),a.shift," Shift"]})]}),E.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100 text-gray-500 dark:text-[#F2F2F2] dark:hover:bg-[#222] transition-colors",children:E.jsx(Qi,{size:20})})]}),E.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 bg-[#F3F4F6] dark:bg-[#111]",children:[E.jsxs("div",{className:"flex gap-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-white dark:bg-[#333] rounded-lg text-[#1F2937] dark:text-[#F2F2F2] shadow-sm",children:E.jsx(Mv,{size:18})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Date"}),E.jsx("p",{className:"text-sm font-bold text-[#1F2937] dark:text-[#F2F2F2]",children:new Date(a.date).toLocaleDateString("en-GB",{dateStyle:"long"})})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-white dark:bg-[#333] rounded-lg text-[#1F2937] dark:text-[#F2F2F2] shadow-sm",children:E.jsx(Xc,{size:18})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Time"}),E.jsx("p",{className:"text-sm font-bold text-[#1F2937] dark:text-[#F2F2F2]",children:a.time})]})]})]}),E.jsxs("div",{className:"p-4 rounded-xl border shadow-sm bg-white dark:bg-[#222] border-gray-200 dark:border-[#333]",children:[E.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-400 mb-2",children:"Log Note"}),E.jsx("p",{className:"text-sm whitespace-pre-line leading-relaxed text-[#1F2937] dark:text-[#F2F2F2]",children:a.note||"No details provided."})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsxs("p",{className:"text-[10px] font-bold uppercase mb-2 flex items-center gap-2 text-gray-500",children:[E.jsx(sx,{size:12})," On Duty"]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:a.onDuty.map((u,f)=>E.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium shadow-sm bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]",children:u},f))})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-end mb-2",children:[E.jsx("p",{className:"text-[10px] font-bold uppercase text-gray-500",children:"Acknowledgments"}),o&&E.jsx("span",{className:"text-[10px] font-bold text-white bg-[#1F2937] px-2 py-0.5 rounded-full",children:"All Ack"})]}),E.jsx("div",{className:"space-y-1",children:i.map((u,f)=>{const m=(a.acknowledgedBy||[]).includes(u.name);return E.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded-lg text-xs transition-all ${m?"bg-gray-200 text-[#1F2937] font-bold dark:bg-[#333] dark:text-[#F2F2F2]":"text-gray-400 grayscale opacity-70"}`,children:[E.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-[8px] font-bold ${m?"bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]":"bg-gray-300 text-gray-600 dark:bg-[#333] dark:text-[#666]"}`,children:m?E.jsx(jm,{size:10,strokeWidth:4}):null}),u.name]},f)})})]})]})]}),E.jsx("div",{className:"p-4 flex justify-end bg-gray-50 border-t border-gray-200 dark:bg-[#000] dark:border-[#333]",children:E.jsx("button",{onClick:r,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-bold text-[#1F2937] hover:bg-gray-50 transition-colors shadow-sm dark:bg-[#222] dark:border-[#444] dark:text-[#F2F2F2] dark:hover:bg-[#333]",children:"Close"})})]})})};function RN({currentUser:a,nocMembers:e=wN}){const{history:r,loading:i,filterDate:o,setFilterDate:u,searchText:f,setSearchText:m,toast:g,setToast:y,handleDelete:b,handleSave:T,handleAcknowledge:R,handleExportCSV:O}=xN(a),[U,G]=q.useState("All"),[z,X]=q.useState("All"),[re,ne]=q.useState(!1),[ce,de]=q.useState(!1),[ve,D]=q.useState(!1),[A,S]=q.useState(null),[I,N]=q.useState({isOpen:!1}),j=r.filter(se=>{const V=f.toLowerCase(),Y=se.note&&se.note.toLowerCase().includes(V)||se.onDuty.some(Ae=>Ae.toLowerCase().includes(V))||se.status.toLowerCase().includes(V),ae=!o||se.date===o,ue=U==="All"||se.shift===U,_e=z==="All"||se.status===z;return Y&&ae&&ue&&_e}),C=()=>{if(!a)return y({show:!0,message:"Please select 'I am' first!",type:"error"});D(!1),S(null),ne(!0)},xe=(se,V)=>{se.stopPropagation(),D(!0),S(V),ne(!0)},nt=se=>{S(se),de(!0)},K=(se,V)=>{se.stopPropagation(),N({isOpen:!0,title:"Delete Log?",message:"This action cannot be undone.",isDanger:!0,onConfirm:async()=>{await b(V),N({isOpen:!1})}})},oe=async se=>{await T(se,ve,A?.id)&&ne(!1)},ge=(se,V,Y)=>{se.stopPropagation(),(V.acknowledgedBy||[]).includes(Y)?N({isOpen:!0,title:"Revoke Ack?",message:`Remove acknowledgment for ${Y}?`,isDanger:!0,onConfirm:async()=>{await R(V,Y),N({isOpen:!1})}}):R(V,Y)},Te=se=>new Date(se).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"2-digit"});return E.jsxs("div",{className:"h-full bg-[#F3F4F6] dark:bg-[#000000] p-3 sm:p-6 font-sans flex flex-col transition-colors duration-300",children:[g.show&&E.jsx(Fv,{message:g.message,type:g.type,onClose:()=>y(se=>({...se,show:!1}))}),E.jsx(qv,{isOpen:I.isOpen,onClose:()=>N({isOpen:!1}),...I}),E.jsx(AN,{isOpen:re,onClose:()=>ne(!1),onSubmit:oe,initialData:A,isEditing:ve,currentUser:a,isLoading:i}),E.jsx(SN,{log:A,isOpen:ce,onClose:()=>de(!1),nocMembers:e}),E.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2 tracking-tight text-[#1F2937] dark:text-[#F2F2F2]",children:[E.jsx("span",{className:"bg-white text-[#1F2937] p-1.5 rounded-lg shadow-sm border border-gray-200 dark:bg-[#333] dark:text-[#F2F2F2] dark:border-[#444]",children:E.jsx(lm,{size:20})})," Shift Handover"]}),E.jsxs("p",{className:"text-xs mt-1 ml-1 font-mono text-gray-500",children:[j.length," LOGS RECORDED"]})]}),E.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[E.jsxs("div",{className:"relative grow md:grow-0",children:[E.jsx(um,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),E.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:se=>m(se.target.value),className:"w-full md:w-48 h-10 pl-9 pr-3 border-none rounded-xl text-sm font-medium outline-none bg-white text-[#1F2937] focus:ring-2 focus:ring-gray-300 shadow-sm dark:bg-[#111] dark:text-[#F2F2F2] dark:focus:ring-[#F2F2F2]"}),f&&E.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black",children:E.jsx(fh,{size:12})})]}),E.jsx("button",{onClick:()=>O(j),className:"h-10 w-10 flex items-center justify-center rounded-xl transition-colors shadow-sm bg-white border border-gray-200 text-gray-500 hover:bg-gray-50 hover:text-black dark:bg-[#111] dark:text-[#F2F2F2] dark:border-[#333]",children:E.jsx(Uv,{size:18})}),E.jsxs("button",{onClick:C,className:"h-10 px-4 bg-[#1F2937] text-white rounded-xl text-sm font-bold shadow-lg hover:bg-black transition-all flex items-center gap-2 dark:bg-[#F2F2F2] dark:text-[#000000]",children:[E.jsx(Bv,{size:18})," ",E.jsx("span",{className:"hidden sm:inline",children:"NEW LOG"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[E.jsx("input",{type:"date",value:o,onChange:se=>u(se.target.value),className:"h-9 w-full bg-white dark:bg-[#111] border-none rounded-lg px-3 text-xs font-bold text-gray-600 dark:text-gray-300 outline-none focus:ring-2 focus:ring-gray-300 shadow-sm"}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{value:U,onChange:se=>G(se.target.value),className:"w-full h-9 pl-3 pr-8 bg-white dark:bg-[#111] border-none rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 appearance-none outline-none focus:ring-2 focus:ring-gray-300 shadow-sm cursor-pointer",children:[E.jsx("option",{value:"All",children:"All Shifts"}),E.jsx("option",{value:"Morning",children:"Morning"}),E.jsx("option",{value:"Night",children:"Night"})]}),E.jsx(jo,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{value:z,onChange:se=>X(se.target.value),className:"w-full h-9 pl-3 pr-8 bg-white dark:bg-[#111] border-none rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 appearance-none outline-none focus:ring-2 focus:ring-gray-300 shadow-sm cursor-pointer",children:[E.jsx("option",{value:"All",children:"All Status"}),E.jsx("option",{value:"Normal",children:"Normal"}),E.jsx("option",{value:"Issue Found",children:"Issues"})]}),E.jsx(om,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),(o||U!=="All"||z!=="All"||f)&&E.jsx("button",{onClick:()=>{u(""),G("All"),X("All"),m("")},className:"h-9 w-full border border-dashed border-gray-300 text-gray-400 rounded-lg text-xs font-bold hover:text-black hover:border-gray-400 dark:hover:text-white transition-colors",children:"RESET FILTERS"})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto pr-1 custom-scrollbar space-y-3",children:j.length===0&&!i?E.jsxs("div",{className:"text-center py-20 rounded-2xl border-2 border-dashed border-gray-200 bg-white/50 dark:bg-[#111] dark:border-[#333]",children:[E.jsx("div",{className:"inline-flex p-4 rounded-full mb-3 bg-white dark:bg-[#333]",children:E.jsx(lm,{size:32,className:"text-gray-300 dark:text-gray-600"})}),E.jsx("p",{className:"text-gray-400 font-medium",children:"No logs found."})]}):j.map(se=>{const V=se.status!=="Normal",Y=se.acknowledgedBy||[];return E.jsxs("div",{onClick:()=>nt(se),className:"group relative rounded-xl p-4 shadow-sm hover:shadow-lg border cursor-pointer flex flex-col sm:flex-row gap-4 transition-all bg-white border-gray-100 hover:border-gray-300 dark:bg-[#111] dark:border-[#333] dark:hover:border-[#F2F2F2]",children:[E.jsxs("div",{className:"flex sm:flex-col items-center sm:items-start gap-3 sm:w-32 shrink-0 border-b sm:border-b-0 sm:border-r border-gray-100 dark:border-[#333] pb-3 sm:pb-0 sm:pr-4",children:[E.jsx("div",{className:`p-2.5 rounded-xl ${se.shift==="Morning"?"bg-orange-50 text-orange-500":"bg-indigo-50 text-indigo-500 dark:bg-[#333] dark:text-indigo-300"}`,children:se.shift==="Morning"?E.jsx(jo,{size:24}):E.jsx(dh,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-sm text-[#1F2937] dark:text-[#F2F2F2]",children:Te(se.date)}),E.jsx("p",{className:"text-xs font-mono text-gray-400",children:se.time})]})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-md text-[10px] font-bold uppercase border ${V?"bg-red-50 text-red-600 border-red-100":"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-[#333] dark:text-emerald-400 dark:border-[#444]"}`,children:[V?E.jsx(Um,{size:10}):E.jsx(Go,{size:10})," ",se.status]}),E.jsx("div",{className:"flex -space-x-1",children:se.onDuty.map((ae,ue)=>E.jsx("div",{title:ae,className:"w-5 h-5 rounded-full border border-white bg-[#1F2937] flex items-center justify-center text-[8px] font-bold text-white shadow-sm",children:ae[0]},ue))})]}),E.jsx("p",{className:"text-sm line-clamp-2 leading-relaxed text-[#1F2937]/80 dark:text-[#F2F2F2]/80",children:se.note||E.jsx("span",{className:"italic opacity-50",children:"No note recorded..."})})]}),E.jsxs("div",{className:"flex sm:flex-col justify-between items-end gap-3 sm:w-40 shrink-0 sm:pl-4 sm:border-l border-gray-100 dark:border-[#333]",children:[E.jsx("div",{className:"flex -space-x-1.5 py-1",children:e.map((ae,ue)=>{const _e=Y.includes(ae.name);return E.jsx("button",{onClick:Ae=>ge(Ae,se,ae.name),title:ae.name,className:`w-7 h-7 rounded-full border-2 border-white dark:border-[#111] flex items-center justify-center text-[10px] font-bold transition-all hover:scale-110 z-0 hover:z-10 ${_e?"bg-[#1F2937] text-white shadow-sm dark:bg-[#F2F2F2] dark:text-[#000000]":"bg-gray-200 text-gray-400 grayscale dark:bg-[#333] dark:text-[#666]"} ${ae.name===a&&!_e?"ring-2 ring-blue-200 ring-offset-1 animate-pulse":""}`,children:_e?E.jsx(jm,{size:12,strokeWidth:4}):ae.name[0]},ue)})}),E.jsxs("div",{className:"flex items-center gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:ae=>{ae.stopPropagation(),nt(se)},className:"p-2 text-gray-400 hover:text-black hover:bg-gray-100 rounded-lg dark:hover:bg-[#333] dark:hover:text-[#F2F2F2]",children:E.jsx(PT,{size:16})}),E.jsx("button",{onClick:ae=>xe(ae,se),className:"p-2 text-gray-400 hover:text-black hover:bg-gray-100 rounded-lg dark:hover:bg-[#333] dark:hover:text-[#F2F2F2]",children:E.jsx(Pv,{size:16})}),E.jsx("button",{onClick:ae=>K(ae,se.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:E.jsx(zm,{size:16})})]})]})]},se.id)})})]})}const am=[{id:"NOC-1",name:"Mekin S.",role:"NOC"},{id:"NOC-2",name:"Akkapol P.",role:"NOC"},{id:"NOC-3",name:"Nawapat R.",role:"NOC"},{id:"NOC-4",name:"Watcharapol P.",role:"NOC"},{id:"NOC-5",name:"Supporter",role:"NOC"}];function CN(){const[a,e]=q.useState("incidents"),[r,i]=q.useState(()=>localStorage.getItem("theme")==="dark"),[o,u]=q.useState(am[0].name);return q.useEffect(()=>{r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[r]),E.jsxs(ox,{activeTab:a,setActiveTab:e,currentUser:o,setCurrentUser:u,nocMembers:am,darkMode:r,setDarkMode:i,children:[a==="incidents"&&E.jsx(TN,{currentUser:o}),a==="handover"&&E.jsx(RN,{currentUser:o,nocMembers:am})]})}var Cv="popstate";function NN(a={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=gl(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Vm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Ho(u))}function i(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return IN(e,r,i,a)}function zt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Qn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DN(){return Math.random().toString(36).substring(2,10)}function Nv(a,e){return{usr:a.state,key:a.key,idx:e}}function Vm(a,e,r=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:r,key:e&&e.key||i||DN()}}function Ho({pathname:a="/",search:e="",hash:r=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function gl(a){let e={};if(a){let r=a.indexOf("#");r>=0&&(e.hash=a.substring(r),a=a.substring(0,r));let i=a.indexOf("?");i>=0&&(e.search=a.substring(i),a=a.substring(0,i)),a&&(e.pathname=a)}return e}function IN(a,e,r,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,m="POP",g=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function T(){m="POP";let z=b(),X=z==null?null:z-y;y=z,g&&g({action:m,location:G.location,delta:X})}function R(z,X){m="PUSH";let re=Vm(G.location,z,X);r&&r(re,z),y=b()+1;let ne=Nv(re,y),ce=G.createHref(re);try{f.pushState(ne,"",ce)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ce)}u&&g&&g({action:m,location:G.location,delta:1})}function O(z,X){m="REPLACE";let re=Vm(G.location,z,X);r&&r(re,z),y=b();let ne=Nv(re,y),ce=G.createHref(re);f.replaceState(ne,"",ce),u&&g&&g({action:m,location:G.location,delta:0})}function U(z){return kN(z)}let G={get action(){return m},get location(){return a(o,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Cv,T),g=z,()=>{o.removeEventListener(Cv,T),g=null}},createHref(z){return e(o,z)},createURL:U,encodeLocation(z){let X=U(z);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:R,replace:O,go(z){return f.go(z)}};return G}function kN(a,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),zt(r,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:Ho(a);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function lE(a,e,r="/"){return ON(a,e,r,!1)}function ON(a,e,r,i){let o=typeof e=="string"?gl(e):e,u=ua(o.pathname||"/",r);if(u==null)return null;let f=oE(a);VN(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=GN(u);m=qN(f[g],y,i)}return m}function oE(a,e=[],r=[],i="",o=!1){let u=(f,m,g=o,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&g)return;zt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let T=ia([i,b.relativePath]),R=r.concat(b);f.children&&f.children.length>0&&(zt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),oE(f.children,e,R,T,g)),!(f.path==null&&!f.index)&&e.push({path:T,score:BN(T,f.index),routesMeta:R})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of uE(f.path))u(f,m,!0,g)}),e}function uE(a){let e=a.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let f=uE(i.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function VN(a){a.sort((e,r)=>e.score!==r.score?r.score-e.score:FN(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var MN=/^:[\w-]+$/,jN=3,zN=2,UN=1,LN=10,PN=-2,Dv=a=>a==="*";function BN(a,e){let r=a.split("/"),i=r.length;return r.some(Dv)&&(i+=PN),e&&(i+=zN),r.filter(o=>!Dv(o)).reduce((o,u)=>o+(MN.test(u)?jN:u===""?UN:LN),i)}function FN(a,e){return a.length===e.length&&a.slice(0,-1).every((i,o)=>i===e[o])?a[a.length-1]-e[e.length-1]:0}function qN(a,e,r=!1){let{routesMeta:i}=a,o={},u="/",f=[];for(let m=0;m<i.length;++m){let g=i[m],y=m===i.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),R=g.route;if(!T&&y&&r&&!i[i.length-1].route.index&&(T=hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ia([u,T.pathname]),pathnameBase:XN(ia([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=ia([u,T.pathnameBase]))}return f}function hh(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,i]=HN(a.path,a.caseSensitive,a.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((y,{paramName:b,isOptional:T},R)=>{if(b==="*"){let U=m[R]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const O=m[R];return T&&!O?y[b]=void 0:y[b]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function HN(a,e=!1,r=!0){Qn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function GN(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ua(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=a.charAt(r);return i&&i!=="/"?null:a.slice(r)||"/"}var QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$N=a=>QN.test(a);function YN(a,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof a=="string"?gl(a):a,u;if(r)if($N(r))u=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${r}`)}r.startsWith("/")?u=Iv(r.substring(1),"/"):u=Iv(r,e)}else u=e;return{pathname:u,search:ZN(i),hash:JN(o)}}function Iv(a,e){let r=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function im(a,e,r,i){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KN(a){return a.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cE(a){let e=KN(a);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function hE(a,e,r,i=!1){let o;typeof a=="string"?o=gl(a):(o={...a},zt(!o.pathname||!o.pathname.includes("?"),im("?","pathname","search",o)),zt(!o.pathname||!o.pathname.includes("#"),im("#","pathname","hash",o)),zt(!o.search||!o.search.includes("#"),im("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=r;else{let T=e.length-1;if(!i&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let g=YN(o,m),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var ia=a=>a.join("/").replace(/\/\/+/g,"/"),XN=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),ZN=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,JN=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function WN(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function e4(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fE=["POST","PUT","PATCH","DELETE"];new Set(fE);var t4=["GET",...fE];new Set(t4);var pl=q.createContext(null);pl.displayName="DataRouter";var jh=q.createContext(null);jh.displayName="DataRouterState";q.createContext(!1);var dE=q.createContext({isTransitioning:!1});dE.displayName="ViewTransition";var n4=q.createContext(new Map);n4.displayName="Fetchers";var r4=q.createContext(null);r4.displayName="Await";var or=q.createContext(null);or.displayName="Navigation";var zh=q.createContext(null);zh.displayName="Location";var ca=q.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var Cg=q.createContext(null);Cg.displayName="RouteError";function a4(a,{relative:e}={}){zt(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=q.useContext(or),{hash:o,pathname:u,search:f}=nu(a,{relative:e}),m=u;return r!=="/"&&(m=u==="/"?r:ia([r,u])),i.createHref({pathname:m,search:f,hash:o})}function tu(){return q.useContext(zh)!=null}function ts(){return zt(tu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(zh).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gE(a){q.useContext(or).static||q.useLayoutEffect(a)}function i4(){let{isDataRoute:a}=q.useContext(ca);return a?_4():s4()}function s4(){zt(tu(),"useNavigate() may be used only in the context of a <Router> component.");let a=q.useContext(pl),{basename:e,navigator:r}=q.useContext(or),{matches:i}=q.useContext(ca),{pathname:o}=ts(),u=JSON.stringify(cE(i)),f=q.useRef(!1);return gE(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(Qn(f.current,mE),!f.current)return;if(typeof g=="number"){r.go(g);return}let b=hE(g,JSON.parse(u),o,y.relative==="path");a==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ia([e,b.pathname])),(y.replace?r.replace:r.push)(b,y.state,y)},[e,r,u,o,a])}q.createContext(null);function nu(a,{relative:e}={}){let{matches:r}=q.useContext(ca),{pathname:i}=ts(),o=JSON.stringify(cE(r));return q.useMemo(()=>hE(a,JSON.parse(o),i,e==="path"),[a,o,i,e])}function l4(a,e,r,i,o){zt(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(or),{matches:f}=q.useContext(ca),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let re=T&&T.path||"";pE(y,!T||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let R=ts(),O;O=R;let U=O.pathname||"/",G=U;if(b!=="/"){let re=b.replace(/^\//,"").split("/");G="/"+U.replace(/^\//,"").split("/").slice(re.length).join("/")}let z=lE(a,{pathname:G});return Qn(T||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Qn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),f4(z&&z.map(re=>Object.assign({},re,{params:Object.assign({},g,re.params),pathname:ia([b,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?b:ia([b,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,r,i,o)}function o4(){let a=y4(),e=WN(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),r?q.createElement("pre",{style:o},r):null,f)}var u4=q.createElement(o4,null),c4=class extends q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?q.createElement(ca.Provider,{value:this.props.routeContext},q.createElement(Cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h4({routeContext:a,match:e,children:r}){let i=q.useContext(pl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ca.Provider,{value:a},r)}function f4(a,e=[],r=null,i=null,o=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,f=r?.errors;if(f!=null){let b=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);zt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,g=-1;if(r)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=b),T.route.id){let{loaderData:R,errors:O}=r,U=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!O||O[T.route.id]===void 0);if(T.route.lazy||U){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=r&&i?(b,T)=>{i(b,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:e4(r.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,R)=>{let O,U=!1,G=null,z=null;r&&(O=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||u4,m&&(g<0&&R===0?(pE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,z=null):g===R&&(U=!0,z=T.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,R+1)),re=()=>{let ne;return O?ne=G:U?ne=z:T.route.Component?ne=q.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=b,q.createElement(h4,{match:T,routeContext:{outlet:b,matches:X,isDataRoute:r!=null},children:ne})};return r&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?q.createElement(c4,{location:r.location,revalidation:r.revalidation,component:G,error:O,children:re(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:y}):re()},null)}function Ng(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d4(a){let e=q.useContext(pl);return zt(e,Ng(a)),e}function m4(a){let e=q.useContext(jh);return zt(e,Ng(a)),e}function g4(a){let e=q.useContext(ca);return zt(e,Ng(a)),e}function Dg(a){let e=g4(a),r=e.matches[e.matches.length-1];return zt(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function p4(){return Dg("useRouteId")}function y4(){let a=q.useContext(Cg),e=m4("useRouteError"),r=Dg("useRouteError");return a!==void 0?a:e.errors?.[r]}function _4(){let{router:a}=d4("useNavigate"),e=Dg("useNavigate"),r=q.useRef(!1);return gE(()=>{r.current=!0}),q.useCallback(async(o,u={})=>{Qn(r.current,mE),r.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var kv={};function pE(a,e,r){!e&&!kv[a]&&(kv[a]=!0,Qn(!1,r))}q.memo(v4);function v4({routes:a,future:e,state:r,unstable_onError:i}){return l4(a,void 0,r,i,e)}function b4({basename:a="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){zt(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof r=="string"&&(r=gl(r));let{pathname:y="/",search:b="",hash:T="",state:R=null,key:O="default"}=r,U=q.useMemo(()=>{let G=ua(y,m);return G==null?null:{location:{pathname:G,search:b,hash:T,state:R,key:O},navigationType:i}},[m,y,b,T,R,O,i]);return Qn(U!=null,`<Router basename="${m}"> is not able to match the URL "${y}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:q.createElement(or.Provider,{value:g},q.createElement(zh.Provider,{children:e,value:U}))}var $c="get",Yc="application/x-www-form-urlencoded";function Uh(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function E4(a){return Uh(a)&&a.tagName.toLowerCase()==="button"}function T4(a){return Uh(a)&&a.tagName.toLowerCase()==="form"}function x4(a){return Uh(a)&&a.tagName.toLowerCase()==="input"}function A4(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function w4(a,e){return a.button===0&&(!e||e==="_self")&&!A4(a)}var Pc=null;function S4(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var R4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(a){return a!=null&&!R4.has(a)?(Qn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):a}function C4(a,e){let r,i,o,u,f;if(T4(a)){let m=a.getAttribute("action");i=m?ua(m,e):null,r=a.getAttribute("method")||$c,o=sm(a.getAttribute("enctype"))||Yc,u=new FormData(a)}else if(E4(a)||x4(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(i=g?ua(g,e):null,r=a.getAttribute("formmethod")||m.getAttribute("method")||$c,o=sm(a.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||Yc,u=new FormData(m,a),!S4()){let{name:y,type:b,value:T}=a;if(b==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,T)}}else{if(Uh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$c,i=null,o=Yc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ig(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function N4(a,e,r){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${r}`:e&&ua(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function D4(a,e){if(a.id in e)return e[a.id];try{let r=await import(a.module);return e[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I4(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function k4(a,e,r){let i=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await D4(u,r);return f.links?f.links():[]}return[]}));return j4(i.flat(1).filter(I4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ov(a,e,r,i,o,u){let f=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,m=(g,y)=>r[y].pathname!==g.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function O4(a,e,{includeHydrateFallback:r}={}){return V4(a.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function V4(a){return[...new Set(a)]}function M4(a){let e={},r=Object.keys(a).sort();for(let i of r)e[i]=a[i];return e}function j4(a,e){let r=new Set;return new Set(e),a.reduce((i,o)=>{let u=JSON.stringify(M4(o));return r.has(u)||(r.add(u),i.push({key:u,link:o})),i},[])}function yE(){let a=q.useContext(pl);return Ig(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function z4(){let a=q.useContext(jh);return Ig(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var kg=q.createContext(void 0);kg.displayName="FrameworkContext";function _E(){let a=q.useContext(kg);return Ig(a,"You must render this element inside a <HydratedRouter> element"),a}function U4(a,e){let r=q.useContext(kg),[i,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:T}=e,R=q.useRef(null);q.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let G=X=>{X.forEach(re=>{f(re.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return R.current&&z.observe(R.current),()=>{z.disconnect()}}},[a]),q.useEffect(()=>{if(i){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[i]);let O=()=>{o(!0)},U=()=>{o(!1),f(!1)};return r?a!=="intent"?[u,R,{}]:[u,R,{onFocus:So(m,O),onBlur:So(g,U),onMouseEnter:So(y,O),onMouseLeave:So(b,U),onTouchStart:So(T,O)}]:[!1,R,{}]}function So(a,e){return r=>{a&&a(r),r.defaultPrevented||e(r)}}function L4({page:a,...e}){let{router:r}=yE(),i=q.useMemo(()=>lE(r.routes,a,r.basename),[r.routes,a,r.basename]);return i?q.createElement(B4,{page:a,matches:i,...e}):null}function P4(a){let{manifest:e,routeModules:r}=_E(),[i,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return k4(a,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[a,e,r]),i}function B4({page:a,matches:e,...r}){let i=ts(),{manifest:o,routeModules:u}=_E(),{basename:f}=yE(),{loaderData:m,matches:g}=z4(),y=q.useMemo(()=>Ov(a,e,g,o,i,"data"),[a,e,g,o,i]),b=q.useMemo(()=>Ov(a,e,g,o,i,"assets"),[a,e,g,o,i]),T=q.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let U=new Set,G=!1;if(e.forEach(X=>{let re=o.routes[X.route.id];!re||!re.hasLoader||(!y.some(ne=>ne.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:U.add(X.route.id))}),U.size===0)return[];let z=N4(a,f,"data");return G&&U.size>0&&z.searchParams.set("_routes",e.filter(X=>U.has(X.route.id)).map(X=>X.route.id).join(",")),[z.pathname+z.search]},[f,m,i,o,y,e,a,u]),R=q.useMemo(()=>O4(b,o),[b,o]),O=P4(b);return q.createElement(q.Fragment,null,T.map(U=>q.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...r})),R.map(U=>q.createElement("link",{key:U,rel:"modulepreload",href:U,...r})),O.map(({key:U,link:G})=>q.createElement("link",{key:U,nonce:r.nonce,...G})))}function F4(...a){return e=>{a.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vE&&(window.__reactRouterVersion="7.10.1")}catch{}function q4({basename:a,children:e,unstable_useTransitions:r,window:i}){let o=q.useRef();o.current==null&&(o.current=NN({window:i,v5Compat:!0}));let u=o.current,[f,m]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{r===!1?m(y):q.startTransition(()=>m(y))},[r]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(b4,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:r===!0})}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EE=q.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:b,viewTransition:T,...R},O){let{basename:U,unstable_useTransitions:G}=q.useContext(or),z=typeof y=="string"&&bE.test(y),X,re=!1;if(typeof y=="string"&&z&&(X=y,vE))try{let I=new URL(window.location.href),N=y.startsWith("//")?new URL(I.protocol+y):new URL(y),j=ua(N.pathname,U);N.origin===I.origin&&j!=null?y=j+N.search+N.hash:re=!0}catch{Qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=a4(y,{relative:o}),[ce,de,ve]=U4(i,R),D=$4(y,{replace:f,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:T,unstable_useTransitions:G});function A(I){e&&e(I),I.defaultPrevented||D(I)}let S=q.createElement("a",{...R,...ve,href:X||ne,onClick:re||u?e:A,ref:F4(O,de),target:g,"data-discover":!z&&r==="render"?"true":void 0});return ce&&!z?q.createElement(q.Fragment,null,S,q.createElement(L4,{page:ne})):S});EE.displayName="Link";var H4=q.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},b){let T=nu(f,{relative:y.relative}),R=ts(),O=q.useContext(jh),{navigator:U,basename:G}=q.useContext(or),z=O!=null&&J4(T)&&m===!0,X=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,re=R.pathname,ne=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;r||(re=re.toLowerCase(),ne=ne?ne.toLowerCase():null,X=X.toLowerCase()),ne&&G&&(ne=ua(ne,G)||ne);const ce=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let de=re===X||!o&&re.startsWith(X)&&re.charAt(ce)==="/",ve=ne!=null&&(ne===X||!o&&ne.startsWith(X)&&ne.charAt(X.length)==="/"),D={isActive:de,isPending:ve,isTransitioning:z},A=de?e:void 0,S;typeof i=="function"?S=i(D):S=[i,de?"active":null,ve?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(D):u;return q.createElement(EE,{...y,"aria-current":A,className:S,ref:b,style:I,to:f,viewTransition:m},typeof g=="function"?g(D):g)});H4.displayName="NavLink";var G4=q.forwardRef(({discover:a="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:u,method:f=$c,action:m,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:T,...R},O)=>{let{unstable_useTransitions:U}=q.useContext(or),G=X4(),z=Z4(m,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&bE.test(m),ne=ce=>{if(g&&g(ce),ce.defaultPrevented)return;ce.preventDefault();let de=ce.nativeEvent.submitter,ve=de?.getAttribute("formmethod")||f,D=()=>G(de||ce.currentTarget,{fetcherKey:e,method:ve,navigate:r,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:T});U&&r!==!1?q.startTransition(()=>D()):D()};return q.createElement("form",{ref:O,method:X,action:z,onSubmit:i?g:ne,...R,"data-discover":!re&&a==="render"?"true":void 0})});G4.displayName="Form";function Q4(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TE(a){let e=q.useContext(pl);return zt(e,Q4(a)),e}function $4(a,{target:e,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let g=i4(),y=ts(),b=nu(a,{relative:u});return q.useCallback(T=>{if(w4(T,e)){T.preventDefault();let R=r!==void 0?r:Ho(y)===Ho(b),O=()=>g(a,{replace:R,state:i,preventScrollReset:o,relative:u,viewTransition:f});m?q.startTransition(()=>O()):O()}},[y,g,b,r,i,e,a,o,u,f,m])}var Y4=0,K4=()=>`__${String(++Y4)}__`;function X4(){let{router:a}=TE("useSubmit"),{basename:e}=q.useContext(or),r=p4(),i=a.fetch,o=a.navigate;return q.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:b,body:T}=C4(u,e);if(f.navigate===!1){let R=f.fetcherKey||K4();await i(R,r,f.action||m,{preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,o,e,r])}function Z4(a,{relative:e}={}){let{basename:r}=q.useContext(or),i=q.useContext(ca);zt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...nu(a||".",{relative:e})},f=ts();if(a==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ia([r,u.pathname])),Ho(u)}function J4(a,{relative:e}={}){let r=q.useContext(dE);zt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=TE("useViewTransitionState"),o=nu(a,{relative:e});if(!r.isTransitioning)return!1;let u=ua(r.currentLocation.pathname,i)||r.currentLocation.pathname,f=ua(r.nextLocation.pathname,i)||r.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}cT.createRoot(document.getElementById("root")).render(E.jsx(q4,{children:E.jsx(CN,{})}));
