const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TicketSyncModal-0dSiSYoL.js","assets/index-BFEWtwhJ.js","assets/index-CVhFeo2U.css","assets/useTicketLog-paVOWVN_.js","assets/useBaseQuery-BL-GicvM.js","assets/cloud-download-DowHwPwg.js","assets/sliders-horizontal-iwKFpgUC.js","assets/arrow-right-Br0XfVuf.js","assets/database-4IflcLbJ.js","assets/parse-ChHvz_2n.js","assets/format-DU8rxv2E.js","assets/addYears-C7ezsmVv.js"])))=>i.map(i=>d[i]);
import{d as Q,r as i,al as Ue,C as $e,j as e,y as u,ai as ke,X as H,U as te,L as je,a as Ve,b as Be,N as He,u as Qe,ac as Ge,J as he,O as We,P as pe,_ as Ke}from"./index-BFEWtwhJ.js";import{t as R,F as ge,u as Xe,I as Je}from"./useTicketLog-paVOWVN_.js";import{i as Ze}from"./incidentService-B6Q9IEZj.js";import{S as ve,u as Ne,F as Ye}from"./FilterBar-B7acpHUP.js";import{C as et}from"./circle-check-big-DsCc5FBF.js";import{C as tt}from"./configService-D_rl3Y87.js";import{C as ye,a as we,S as st}from"./sliders-horizontal-iwKFpgUC.js";import{T as Ce,P as rt}from"./trash-2-DeAKwTRc.js";import{f as O}from"./format-DU8rxv2E.js";import{V as it,u as at}from"./VirtualizedList-BvEmNleU.js";import{T as De}from"./tag-Bs9kkiC0.js";import{P as Se}from"./panels-top-left-C7ECsTKU.js";import{A as Te}from"./activity-CgZXiaul.js";import{S as nt}from"./save-CToUh0ov.js";import{C as fe}from"./cloud-download-DowHwPwg.js";import{G as ct}from"./globe-D8FC7nwy.js";import{C as Fe}from"./chevron-right-DVovX0bV.js";import"./useBaseQuery-BL-GicvM.js";import"./search-Caa-NJMl.js";const lt=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Le=Q("chevrons-left",lt);const dt=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Me=Q("chevrons-right",dt);const ot=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]],xt=Q("circle-arrow-right",ot);const mt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],bt=Q("info",mt),ut=()=>{const t=i.useRef(!1);i.useEffect(()=>{t.current||(t.current=!0,R.checkAndSyncTickets())},[])},Ae=i.memo(({label:t,value:n,icon:r,colorClass:d,borderColorClass:o})=>{const a=r;return e.jsx("div",{className:u("relative bg-white dark:bg-zinc-900 border-l-[3px] rounded-r-lg p-4","shadow-sm hover:shadow-md transition-shadow",o),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-semibold text-zinc-400 dark:text-zinc-500 uppercase tracking-wide mb-1",children:t}),e.jsx("h4",{className:"text-2xl font-bold text-zinc-900 dark:text-white leading-none",children:typeof n=="number"?n.toLocaleString():n})]}),e.jsx("div",{className:u("w-10 h-10 rounded-lg flex items-center justify-center bg-zinc-50 dark:bg-zinc-800"),children:e.jsx(a,{size:20,className:d,strokeWidth:2})})]})})});Ae.displayName="StatCard";function ht({stats:t={}}){const n=[{label:"Total Tickets",value:t?.total||0,icon:Ue,colorClass:"text-[#0078D4]",borderColorClass:"border-[#0078D4]"},{label:"Resolved",value:t?.succeed||0,icon:et,colorClass:"text-emerald-500",borderColorClass:"border-emerald-500"},{label:"Pending",value:t?.pending||0,icon:tt,colorClass:"text-amber-500",borderColorClass:"border-amber-500"},{label:"Incidents",value:t?.incidents||0,icon:$e,colorClass:"text-red-500",borderColorClass:"border-red-500"}];return e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:n.map((r,d)=>e.jsx(Ae,{label:r.label,value:r.value,icon:r.icon,colorClass:r.colorClass,borderColorClass:r.borderColorClass},d))})}const pt=t=>{switch(t?.toLowerCase()){case"open":return"bg-red-500";case"pending":return"bg-amber-500";case"in progress":return"bg-[#0078D4]";case"resolved":case"succeed":case"completed":return"bg-emerald-500";default:return"bg-zinc-400"}},gt=t=>{switch(t?.toLowerCase()){case"open":return{text:"text-red-600",bg:"bg-red-50"};case"pending":return{text:"text-amber-600",bg:"bg-amber-50"};case"in progress":return{text:"text-[#0078D4]",bg:"bg-blue-50"};case"resolved":case"succeed":case"completed":return{text:"text-emerald-600",bg:"bg-emerald-50"};default:return{text:"text-zinc-500",bg:"bg-zinc-50"}}},Ie=i.memo(({log:t,onClick:n,isActive:r,onFlag:d,onDelete:o})=>{const a=pt(t.status),l=gt(t.status);return e.jsxs("div",{onClick:()=>n(t),className:u("group relative flex cursor-pointer transition-all border-b border-zinc-100 dark:border-zinc-800/50 hover:bg-zinc-50 dark:hover:bg-zinc-800/50",r?"bg-[#cce3f5] dark:bg-[#0078D4]/20":t.isFlagged?"bg-amber-50/40 dark:bg-amber-900/10":"bg-white dark:bg-zinc-900"),children:[e.jsx("div",{className:u("w-1 shrink-0",r?"bg-[#0078D4]":a)}),e.jsxs("div",{className:"flex-1 p-3 min-w-0 flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.isFlagged&&e.jsx("div",{className:"shrink-0 flex items-center justify-center w-5 h-5 bg-amber-100 dark:bg-amber-900/50 rounded text-amber-600 dark:text-amber-500",title:"Pinned Ticket",children:e.jsx(ge,{size:12,fill:"currentColor"})}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[e.jsx("div",{className:u("w-5 h-5 rounded-full flex items-center justify-center font-bold text-[10px]",l.bg,l.text),children:t.responsibility?t.responsibility.charAt(0).toUpperCase():"?"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:u("font-semibold truncate",r?"text-zinc-900 dark:text-white":"text-zinc-700 dark:text-zinc-300"),children:t.responsibility||"Unassigned"}),t.assign&&e.jsxs("span",{className:"text-[9px] text-zinc-400 leading-none",children:["To: ",t.assign]})]})]}),(t.severity==="Critical"||t.severity==="High")&&e.jsx("span",{className:u("px-1.5 py-0.5 rounded text-[9px] font-black uppercase tracking-wider ml-1",t.severity==="Critical"?"bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400 animate-pulse":"bg-orange-100 text-orange-600 dark:bg-orange-900/50 dark:text-orange-400"),children:t.severity})]}),e.jsx("span",{className:u("text-[10px] shrink-0",r?"text-zinc-700 dark:text-zinc-300":"text-zinc-400 group-hover:hidden"),children:t.createdAt?O(new Date(t.createdAt),"MMM dd"):""}),e.jsxs("div",{className:"hidden group-hover:flex items-center gap-2 shrink-0 animate-in fade-in duration-200",children:[e.jsx("button",{onClick:m=>{m.stopPropagation(),d&&d(t)},className:u("transition-colors",t.isFlagged?"text-amber-500 hover:text-amber-600":"text-zinc-400 hover:text-amber-500"),title:t.isFlagged?"Remove Pin":"Pin to Top",children:e.jsx(ge,{size:14,fill:t.isFlagged?"currentColor":"none"})}),e.jsx("button",{onClick:m=>{m.stopPropagation(),o&&o(t.ticketNumber)},className:"text-zinc-400 hover:text-red-500 transition-colors",title:"Delete",children:e.jsx(Ce,{size:14})})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("h4",{className:u("text-sm font-semibold truncate",r?"text-[#0078D4]":"text-zinc-900 dark:text-white",t.isFlagged?"italic":""),children:t.shortDesc||t.details||"(No Subject)"})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs truncate",children:[e.jsxs("span",{className:"shrink-0 font-mono text-[10px] bg-zinc-100 dark:bg-zinc-800 text-zinc-500 px-1.5 py-0.5 rounded",children:["#",t.ticketNumber]}),e.jsx("span",{className:u("truncate",r?"text-zinc-600 dark:text-zinc-400":"text-zinc-500"),children:t.details?.substring(0,60)||"No details preview..."}),!r&&e.jsx("span",{className:u("ml-auto shrink-0 px-1.5 py-0.5 rounded-[3px] text-[10px] font-medium uppercase tracking-wider",l.bg,l.text),children:t.status})]})]})]})});Ie.displayName="TicketListItem";const Ee=i.memo(({logs:t,onLogClick:n,isLoading:r,activeLogId:d,onFlag:o,onDelete:a})=>r?e.jsx("div",{className:"p-4 space-y-3",children:[1,2,3,4,5].map(l=>e.jsx("div",{className:"h-20 bg-zinc-100 dark:bg-zinc-800/50 rounded-lg animate-pulse"},l))}):!t||t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-zinc-400",children:[e.jsx("div",{className:"w-16 h-16 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mb-4",children:e.jsx(ye,{size:32})}),e.jsx("p",{className:"font-medium",children:"All caught up!"}),e.jsx("p",{className:"text-sm",children:"No tickets found."})]}):e.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800 border-t border-zinc-200 dark:border-zinc-800",children:t.map(l=>e.jsx(Ie,{log:l,onClick:n,isActive:d===l.ticketNumber,onFlag:o,onDelete:a},l.id||l.ticketNumber))}));Ee.displayName="TicketTable";const ft=t=>{switch(t?.toLowerCase()){case"open":return"bg-red-50 dark:bg-red-950/30 text-red-600 dark:text-red-400 border-red-200 dark:border-red-900/50";case"pending":return"bg-amber-50 dark:bg-amber-950/30 text-amber-600 dark:text-amber-400 border-amber-200 dark:border-amber-900/50";case"succeed":return"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-900/50";default:return"bg-zinc-50 dark:bg-zinc-900/50 text-zinc-500 border-zinc-200 dark:border-zinc-800"}},ze=t=>{switch(t?.toLowerCase()){case"critical":return"text-red-500";case"high":return"text-orange-500";case"medium":return"text-[#0078D4]";case"low":return"text-emerald-500";default:return"text-zinc-400"}},Re=i.memo(({date:t})=>{const n=t?new Date(t):new Date;return e.jsxs("div",{className:"w-10 h-10 sm:w-11 sm:h-11 rounded-md bg-zinc-50 dark:bg-zinc-800 border border-zinc-200/60 dark:border-zinc-700/60 flex flex-col items-center justify-center shrink-0 shadow-sm",children:[e.jsx("span",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-500 dark:text-zinc-500 uppercase leading-none",children:O(n,"MMM")}),e.jsx("span",{className:"text-sm sm:text-base font-bold text-zinc-900 dark:text-white leading-none mt-0.5",children:O(n,"dd")}),e.jsx("span",{className:"text-[7px] font-medium text-zinc-400 dark:text-zinc-600 leading-none mt-0.5 hidden sm:block",children:O(n,"yy")})]})});Re.displayName="DateBox";const se=i.memo(({log:t,onClick:n,onEdit:r,canEdit:d})=>e.jsx("div",{onClick:n,className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-4 shadow-sm hover:border-[#0078D4]/50 transition-all active:scale-[0.99] group overflow-hidden",children:e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx(Re,{date:t.createdAt}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-[#deecf9] dark:bg-blue-900/20 text-[#0078D4] dark:text-[#4ba0e8] text-[10px] sm:text-xs font-semibold rounded-md border border-blue-100 dark:border-blue-800/50",children:["#",t.ticketNumber]}),e.jsx("span",{className:`text-[9px] sm:text-[10px] uppercase font-semibold px-2 py-0.5 rounded-md border ${ft(t.status)}`,children:t.status})]}),d&&e.jsx("div",{className:"flex gap-1",children:e.jsx("button",{onClick:o=>{o.stopPropagation(),r(t)},className:"p-1.5 text-zinc-400 hover:text-[#0078D4] hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",children:e.jsx(ve,{size:14})})})]}),e.jsx("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 line-clamp-2 leading-tight mb-2",children:t.shortDesc||t.details||"No Description"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-3 border-t border-zinc-100 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-5 h-5 rounded bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-[9px] font-bold text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-700",children:t.assign?t.assign.charAt(0).toUpperCase():"U"}),e.jsx("span",{className:"text-[11px] font-medium text-zinc-500 truncate max-w-[70px]",children:t.assign||"Unassigned"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ke,{size:12,className:ze(t.severity)}),e.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${ze(t.severity)}`,children:t.severity||"Low"})]}),e.jsx("div",{className:"ml-auto text-[10px] text-zinc-500 border border-zinc-200 dark:border-zinc-800 dark:text-zinc-400 font-medium bg-zinc-50 dark:bg-zinc-900 px-2 py-0.5 rounded",children:t.type})]})]})]})}));se.displayName="MobileTicketCard";function zt({logs:t,onLogClick:n,onEdit:r,canEdit:d}){const o=i.useCallback(a=>e.jsx(se,{log:a,onClick:()=>n(a),onEdit:r,canEdit:d},a.id),[n,r,d]);return t.length<=15?e.jsx("div",{className:"md:hidden space-y-4",children:t.map(a=>e.jsx(se,{log:a,onClick:()=>n(a),onEdit:r,canEdit:d},a.ticketNumber))}):e.jsx("div",{className:"md:hidden",children:e.jsx(it,{items:t,itemHeight:140,renderItem:o,containerHeight:"calc(100vh - 280px)",className:"space-y-4"})})}const V=i.memo(({label:t,required:n,icon:r,error:d,...o})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[10px] font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wide flex items-center gap-1",children:[r&&e.jsx(r,{size:10,className:"text-[#0078D4]"}),t," ",n&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...o,className:u("w-full h-9 px-3 bg-zinc-50 dark:bg-zinc-800 border rounded-lg text-sm transition-all","text-zinc-900 dark:text-white placeholder:text-zinc-400","focus:ring-2 focus:ring-[#0078D4]/20 focus:border-[#0078D4] focus:outline-none disabled:opacity-50 disabled:bg-zinc-100 dark:disabled:bg-zinc-900",d?"border-red-400 dark:border-red-500":"border-zinc-200 dark:border-zinc-700")}),d&&e.jsx("p",{className:"text-[10px] text-red-500 font-medium",children:d})]}));V.displayName="FormInput";const N=i.memo(({label:t,value:n,onChange:r,options:d,required:o,icon:a,error:l})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[10px] font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wide flex items-center gap-1",children:[a&&e.jsx(a,{size:10,className:"text-[#0078D4]"}),t," ",o&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:n,onChange:m=>r(m.target.value),className:u("w-full h-9 px-3 bg-zinc-50 dark:bg-zinc-800 border rounded-lg text-sm transition-all cursor-pointer","text-zinc-900 dark:text-white focus:ring-2 focus:ring-[#0078D4]/20 focus:border-[#0078D4] focus:outline-none",l?"border-red-400 dark:border-red-500":"border-zinc-200 dark:border-zinc-700"),children:[e.jsx("option",{value:"",children:"Select..."}),d.map(m=>e.jsx("option",{value:m,children:m},m))]}),l&&e.jsx("p",{className:"text-[10px] text-red-500 font-medium",children:l})]}));N.displayName="FormSelect";const B=i.memo(({label:t,icon:n,...r})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[10px] font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wide flex items-center gap-1",children:[n&&e.jsx(n,{size:10,className:"text-[#0078D4]"}),t]}),e.jsx("textarea",{...r,className:u("w-full px-3 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-sm transition-all resize-none","text-zinc-900 dark:text-white placeholder:text-zinc-400","focus:ring-2 focus:ring-[#0078D4]/20 focus:border-[#0078D4] focus:outline-none")})]}));B.displayName="FormTextarea";const ee={ticketNumber:"",type:"Incident",status:"Open",severity:"Low",category:"",subCategory:"",shortDesc:"",details:"",action:"",resolvedDetail:"",responsibility:"",assign:"",remark:""},re=i.memo(({onClose:t,onSubmit:n,initialData:r=null,isSubmitting:d=!1})=>{const{ticketOptions:o}=Ne();at();const[a,l]=i.useState(ee),[m,z]=i.useState({}),k=r!==null;i.useEffect(()=>{l(r?{...ee,...r}:ee),z({})},[r]);const h=i.useCallback((c,y)=>{let L=y;c==="ticketNumber"&&(L=y.toUpperCase()),l(j=>({...j,[c]:L})),m[c]&&z(j=>({...j,[c]:null}))},[m]),p=i.useCallback(()=>{const c={},y=/^[A-Z]{3}\d{9}$/;return a.ticketNumber?.trim()?y.test(a.ticketNumber)||(c.ticketNumber="Format must be 3 letters + 9 numbers (e.g. SVR123456789)"):c.ticketNumber="Ticket Number is required",a.type?.trim()||(c.type="Type is required"),a.status?.trim()||(c.status="Status is required"),a.shortDesc?.trim()||(c.shortDesc="Subject is required"),z(c),Object.keys(c).length===0},[a]),P=i.useCallback(c=>{c.preventDefault(),p()&&n&&n(a)},[a,n,p]);return e.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-zinc-900 overflow-hidden",children:[e.jsx("div",{className:"shrink-0 px-5 py-4 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:t,className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded transition-colors",children:e.jsx(H,{size:18,className:"text-zinc-500"})}),e.jsxs("div",{children:[e.jsx("span",{className:u("px-2 py-0.5 text-[10px] font-semibold rounded",k?"bg-amber-500 text-white":"bg-[#0078D4] text-white"),children:k?"EDIT":"NEW"}),e.jsx("h2",{className:"text-base font-semibold text-zinc-900 dark:text-white mt-1",children:k?`Edit Ticket #${r?.ticketNumber}`:"Create New Ticket"})]})]})})}),e.jsxs("form",{id:"ticket-form-panel",onSubmit:P,className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(V,{label:"Ticket No.",icon:De,required:!0,disabled:k,value:a.ticketNumber,onChange:c=>h("ticketNumber",c.target.value),error:m.ticketNumber,placeholder:"e.g. SVR090924001",maxLength:12}),e.jsx(N,{label:"Type",icon:Se,required:!0,value:a.type,onChange:c=>h("type",c),options:o.types||["Incident","Request","Problem"],error:m.type})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(N,{label:"Status",required:!0,value:a.status,onChange:c=>h("status",c),options:o.statuses||["Open","Pending","In Progress","Succeed"],error:m.status}),e.jsx(N,{label:"Severity",value:a.severity,onChange:c=>h("severity",c),options:o.severities||["Critical","High","Medium","Low"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(N,{label:"Category",value:a.category,onChange:c=>h("category",c),options:o.categories||[]}),e.jsx(N,{label:"Sub Category",value:a.subCategory,onChange:c=>h("subCategory",c),options:o.subCategories||[]})]}),e.jsx("hr",{className:"border-zinc-100 dark:border-zinc-800"}),e.jsx(V,{label:"Subject / Short Description",icon:bt,required:!0,value:a.shortDesc,onChange:c=>h("shortDesc",c.target.value),error:m.shortDesc,placeholder:"Brief description of the issue"}),e.jsx(B,{label:"Ticket Details",rows:3,value:a.details,onChange:c=>h("details",c.target.value),placeholder:"Describe the incident or request in detail..."}),e.jsx("hr",{className:"border-zinc-100 dark:border-zinc-800"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(N,{label:"Responsibility",icon:te,value:a.responsibility,onChange:c=>h("responsibility",c),options:o.responsibilities||[]}),e.jsx(N,{label:"Assignee",icon:te,value:a.assign,onChange:c=>h("assign",c),options:o.assignees||[],required:!1})]}),e.jsx(B,{label:"Action Taken / Mitigation",icon:Te,rows:2,value:a.action,onChange:c=>h("action",c.target.value)}),e.jsx(V,{label:"Resolution Result",value:a.resolvedDetail,onChange:c=>h("resolvedDetail",c.target.value)}),e.jsx(B,{label:"Remarks",rows:2,value:a.remark,onChange:c=>h("remark",c.target.value)})]}),e.jsx("div",{className:"shrink-0 p-4 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:t,className:"flex-1 h-10 px-4 border border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-300 rounded-lg text-sm font-medium hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",form:"ticket-form-panel",disabled:d,className:u("flex-[2] flex items-center justify-center gap-2 h-10 px-4 rounded-lg text-sm font-medium text-white transition-all",k?"bg-amber-500 hover:bg-amber-600":"bg-[#0078D4] hover:bg-[#106EBE]","disabled:opacity-50"),children:d?e.jsx(je,{size:16,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{size:16}),k?"Save Changes":"Create Ticket"]})})]})})]})});re.displayName="TicketFormPanel";const $=({label:t,value:n,icon:r,className:d})=>e.jsxs("div",{className:u("space-y-1",d),children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium text-zinc-500 uppercase tracking-wide",children:[r&&e.jsx(r,{size:12,className:"text-[#0078D4]"}),t]}),e.jsx("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 break-words",children:n||"-"})]}),ie=i.memo(({ticket:t,onClose:n,onEdit:r,onDelete:d,onSendToIncident:o,canEdit:a})=>t?e.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-zinc-900",children:[e.jsxs("div",{className:"shrink-0 flex items-center justify-between px-6 py-3 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:n,className:"p-2 -ml-2 text-zinc-500 hover:text-zinc-900 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-all lg:hidden",children:e.jsx(H,{size:20})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[e.jsxs("span",{className:"font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded text-xs",children:["#",t.ticketNumber]}),e.jsx("span",{children:"/"}),e.jsx("span",{children:t.type})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[a&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>r(t),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-colors",children:[e.jsx(ve,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),e.jsx("button",{onClick:()=>d(t.ticketNumber),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",title:"Delete Ticket",children:e.jsx(Ce,{size:16})})]}),e.jsx("div",{className:"w-px h-5 bg-zinc-200 dark:bg-zinc-700 mx-2"}),e.jsxs("button",{onClick:()=>o(t),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-[#0078D4] hover:bg-[#0078D4]/10 rounded-md transition-colors",title:"Convert to Incident",children:[e.jsx(xt,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"To Incident"})]}),e.jsx("button",{onClick:n,className:"p-2 ml-1 text-zinc-400 hover:text-zinc-600 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md transition-all hidden lg:block",children:e.jsx(H,{size:18})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white dark:bg-zinc-900",children:e.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-zinc-900 dark:text-white leading-tight",children:t.shortDesc}),e.jsxs("div",{className:"flex items-center gap-3 pb-6 border-b border-zinc-100 dark:border-zinc-800",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-[#0078D4]/10 text-[#0078D4] flex items-center justify-center font-bold text-lg",children:t.assign?t.assign.charAt(0).toUpperCase():e.jsx(te,{size:20})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-zinc-900 dark:text-white text-sm",children:t.assign||"Unassigned"}),e.jsx("span",{className:"text-zinc-400 text-xs",children:"â€¢"}),e.jsx("span",{className:"text-zinc-500 text-xs",children:t.createdAt?O(new Date(t.createdAt),"EEE, MMM d, yyyy h:mm a"):"-"})]}),e.jsxs("div",{className:"text-xs text-zinc-500",children:["Responsibility: ",t.responsibility||"-"]})]})]})]}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-100 dark:border-zinc-800 rounded-lg p-4 grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsx($,{label:"Status",value:t.status,icon:Te}),e.jsx($,{label:"Severity",value:t.severity,icon:ke,className:t.severity==="Critical"?"text-red-600":""}),e.jsx($,{label:"Category",value:t.category,icon:Se}),e.jsx($,{label:"Sub-Category",value:t.subCategory,icon:De})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-4 bg-[#0078D4] rounded-full"}),"Description"]}),e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-zinc-700 dark:text-zinc-300 leading-relaxed whitespace-pre-wrap",children:t.details||"No description provided."})]}),(t.action||t.resolvedDetail||t.remark)&&e.jsxs("div",{className:"space-y-6 pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[t.action&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Action Taken"}),e.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 bg-amber-50 dark:bg-amber-900/10 p-3 rounded-md border border-amber-100 dark:border-amber-900/20",children:t.action})]}),t.resolvedDetail&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider flex items-center gap-1",children:[e.jsx(ye,{size:12})," Resolution"]}),e.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:t.resolvedDetail})]}),t.remark&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Remarks"}),e.jsxs("p",{className:"text-sm text-zinc-500 italic",children:['"',t.remark,'"']})]})]})]})})]}):null);ie.displayName="TicketDetailPanel";const kt=i.lazy(()=>Ke(()=>import("./TicketSyncModal-0dSiSYoL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),jt=i.memo(({currentPage:t,totalPages:n,totalItems:r,itemsPerPage:d,onPageChange:o})=>{if(n<=1)return null;const a=(t-1)*d+1,l=Math.min(t*d,r);return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-50 dark:bg-zinc-900/50 border-t border-zinc-200 dark:border-zinc-800",children:[e.jsxs("p",{className:"text-xs text-zinc-500",children:["Showing ",a," - ",l," of ",r]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"w-7 h-7 flex items-center justify-center rounded border border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",disabled:t===1,onClick:()=>o(1),children:e.jsx(Le,{size:14})}),e.jsx("button",{className:"w-7 h-7 flex items-center justify-center rounded border border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",disabled:t===1,onClick:()=>o(t-1),children:e.jsx(we,{size:14})}),e.jsxs("span",{className:"px-3 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:[t," / ",n]}),e.jsx("button",{className:"w-7 h-7 flex items-center justify-center rounded border border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",disabled:t===n,onClick:()=>o(t+1),children:e.jsx(Fe,{size:14})}),e.jsx("button",{className:"w-7 h-7 flex items-center justify-center rounded border border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",disabled:t===n,onClick:()=>o(n),children:e.jsx(Me,{size:14})})]})]})});jt.displayName="PaginationFooter";function $t(){const{logs:t,loading:n,stats:r,loadMore:d,hasMore:o,loadingMore:a}=Xe(),{toast:l}=Ve(),{currentUser:m}=Be(),z=He(m,[pe.LEAD,pe.ENGINEER]),{ticketOptions:k}=Ne(),h=Qe(),p=Ge(),[P,c]=i.useState(!1),[y,L]=i.useState(""),[j,ae]=i.useState("All"),[M,ne]=i.useState("All"),[g,w]=i.useState(1),[S,ce]=i.useState(15),[vt,q]=i.useState("inbox"),G=he.useRef(null);he.useEffect(()=>{const s=()=>{const x=window.innerHeight;if(G.current){const b=G.current.clientHeight,D=Math.max(5,Math.floor((b-40)/40));ce(D)}else{const b=x-350,D=Math.max(5,Math.floor(b/40));ce(D)}};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const W=i.useDeferredValue(y),[f,_]=i.useState(null),[C,U]=i.useState("view"),[le,de]=i.useState(!1),[T,K]=i.useState(null),[Oe,A]=i.useState(!1);ut();const oe=i.useCallback((s,x)=>{s(x),w(1)},[]),xe=i.useCallback(s=>{_(s),U("view")},[]),Pe=i.useCallback(()=>{_(null),U("create")},[]),X=i.useCallback(s=>{_(s),U("edit")},[]),v=i.useCallback(()=>{_(null),U("view")},[]),me=i.useCallback(async s=>{de(!0);try{C==="edit"&&f?(await R.updateLog(f.ticketNumber,s),l({className:"bg-emerald-500 text-white border-none",title:"Update Successful",description:`Ticket #${f.ticketNumber} has been updated.`})):(await R.createLog(s),l({className:"bg-[#0078D4] text-white border-none",title:"Ticket Created",description:"New operational log has been recorded."})),p.invalidateQueries(["ticketLogs"]),v()}catch(x){console.error("Submit Error:",x),l({variant:"destructive",title:"Submission Failed",description:x.message||"Could not save the ticket."})}finally{de(!1)}},[C,f,p,l,v]),J=i.useCallback(s=>{K(s)},[]),qe=i.useCallback(async()=>{if(T)try{await R.deleteLog(T),l({title:"Ticket Deleted",description:`Ticket #${T} removed.`}),p.invalidateQueries(["ticketLogs"]),v()}catch(s){l({variant:"destructive",title:"Delete Failed",description:s.message})}finally{K(null)}},[T,p,l,v]),be=i.useCallback(async(s,x)=>{if(x&&x.stopPropagation(),!m){l({variant:"destructive",title:"Auth Required",description:"Please login first."});return}try{const b=typeof m=="object"&&m!==null?{name:m.name,id:m.id,role:m.role}:{name:m};await Ze.createIncident({subject:s.shortDesc||s.details||"New Incident from Log",ticket:s.ticketNumber||"",project:"MONOMAX",type:["Incident","Request","Maintenance"].includes(s.type)?s.type:"Incident",status:"Open",createdBy:b,impact:"",root_cause:s.details||"",action:s.action||""}),l({title:"Successfully Added",description:`Ticket #${s.ticketNumber} is now in Ticket Timeline.`,action:e.jsx("button",{onClick:()=>h("/incidents"),className:"px-2.5 py-1 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded text-[9px] font-bold",children:"Go Now"})})}catch(b){console.error(b),l({variant:"destructive",title:"Error",description:"Failed to add to timeline."})}},[m,h,l]),_e=i.useCallback(async s=>{try{const x=!s.isFlagged;await R.updateLog(s.ticketNumber,{isFlagged:x}),p.invalidateQueries(["ticketLogs"]),l({title:x?"Flagged":"Unflagged",description:`Ticket #${s.ticketNumber} ${x?"pinned to top":"unpinned"}.`})}catch{l({variant:"destructive",title:"Error",description:"Failed to update flag status."})}},[p,l]),I=i.useMemo(()=>{let s=t;if(W){const x=W.toLowerCase();s=s.filter(b=>b.ticketNumber?.toLowerCase().includes(x)||b.shortDesc?.toLowerCase().includes(x)||b.details?.toLowerCase().includes(x))}return j!=="All"&&(s=s.filter(x=>x.status===j)),M!=="All"&&(s=s.filter(x=>x.type===M)),s.sort((x,b)=>x.isFlagged&&!b.isFlagged?-1:!x.isFlagged&&b.isFlagged?1:new Date(b.createdAt||0)-new Date(x.createdAt||0))},[t,W,j,M]),E=Math.ceil(I.length/S),Z=i.useMemo(()=>{const s=(g-1)*S;return I.slice(s,s+S)},[I,g,S]),ue=i.useCallback(()=>{ae("All"),ne("All"),L(""),w(1)},[]),Y=f!==null||C==="create";return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-black transition-colors",children:[e.jsx(Ye,{title:"Ticketing Log",icon:Je,searchTerm:y,onSearch:s=>oe(L,s),actions:[{label:"New",icon:rt,onClick:()=>{q("new"),Pe()},variant:"primary",disabled:!z,hideTextOnMobile:!0},{label:"Sync",icon:fe,onClick:()=>{q("sync"),c(!0)},variant:"secondary",disabled:!z||n,hideTextOnMobile:!0}],isFilterActive:M!=="All",onFilterClick:()=>A(!0)}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:u("flex-1 flex flex-col overflow-hidden transition-all",Y?"hidden lg:flex lg:w-[55%] xl:w-[60%]":"w-full"),children:e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden p-4 sm:p-6 space-y-4",children:[e.jsx("div",{className:"shrink-0",children:!n&&e.jsx(ht,{stats:r})}),e.jsx("div",{ref:G,className:"flex-1 min-h-0 bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800 flex flex-col overflow-hidden",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-3",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-zinc-200 dark:border-zinc-700 border-t-[#0078D4] rounded-full animate-spin"}),e.jsx("span",{className:"text-xs font-medium text-zinc-400",children:"Loading tickets..."})]}):Z.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4 text-zinc-300 dark:text-zinc-700",children:[e.jsx(ct,{size:60,strokeWidth:1}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"No records found"}),e.jsx("button",{onClick:ue,className:"px-3 py-1.5 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-xs font-medium text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:"Reset Filters"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.jsx(Ee,{logs:Z,onLogClick:xe,activeLogId:f?.ticketNumber,onFlag:_e,onDelete:J}),e.jsx(zt,{logs:Z,onLogClick:xe,onEdit:X,canEdit:z})]}),e.jsxs("div",{className:"shrink-0 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 px-4 py-2 flex flex-col sm:flex-row justify-between items-center gap-2",children:[e.jsxs("span",{className:"text-[10px] text-zinc-500 font-medium order-2 sm:order-1",children:["Showing ",(g-1)*S+1," - ",Math.min(g*S,I.length)," of ",I.length]}),e.jsxs("div",{className:"flex items-center gap-1 order-1 sm:order-2",children:[e.jsx("button",{onClick:()=>w(1),disabled:g===1,className:"w-7 h-7 flex items-center justify-center rounded border border-zinc-200 dark:border-zinc-700 text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-xs",children:e.jsx(Le,{size:14})}),e.jsx("button",{onClick:()=>w(s=>Math.max(1,s-1)),disabled:g===1,className:"w-7 h-7 flex items-center justify-center rounded border border-zinc-200 dark:border-zinc-700 text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-xs",children:e.jsx(we,{size:14})}),(()=>{const s=[];let b=Math.max(1,g-Math.floor(2.5)),D=Math.min(E,b+5-1);D-b+1<5&&(b=Math.max(1,D-5+1));for(let F=b;F<=D;F++)s.push(e.jsx("button",{onClick:()=>w(F),className:u("w-7 h-7 flex items-center justify-center rounded text-xs font-medium transition-colors",g===F?"bg-[#0078D4] text-white":"border border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800"),children:F},F));return s})(),e.jsx("button",{onClick:()=>w(s=>Math.min(E,s+1)),disabled:g===E,className:"w-7 h-7 flex items-center justify-center rounded border border-zinc-200 dark:border-zinc-700 text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-xs",children:e.jsx(Fe,{size:14})}),e.jsx("button",{onClick:()=>w(E),disabled:g===E,className:"w-7 h-7 flex items-center justify-center rounded border border-zinc-200 dark:border-zinc-700 text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors text-xs",children:e.jsx(Me,{size:14})})]}),e.jsxs("button",{onClick:()=>d(),disabled:!o||a,className:"px-3 py-1.5 bg-zinc-800 dark:bg-zinc-700 text-white rounded text-[10px] font-bold uppercase disabled:opacity-50 hover:bg-zinc-700 dark:hover:bg-zinc-600 transition-colors flex items-center gap-1.5 order-3",children:[a?e.jsx(je,{size:10,className:"animate-spin"}):e.jsx(fe,{size:10}),a?"Loading...":"Load More"]})]})]})})]})}),e.jsx("div",{className:u("hidden lg:block shrink-0 overflow-hidden transition-all",Y?"w-[45%] xl:w-[40%]":"w-0"),children:C==="view"?e.jsx(ie,{ticket:f,mode:C,onClose:v,onEdit:X,onDelete:J,onSendToIncident:be,canEdit:z}):e.jsx(re,{onClose:v,onSubmit:me,initialData:f,isSubmitting:le})})]}),Y&&e.jsx("div",{className:"lg:hidden fixed inset-0 z-50 bg-black/50 flex items-end",children:e.jsx("div",{className:"w-full max-h-[90vh] bg-white dark:bg-zinc-900 rounded-t-2xl overflow-hidden animate-in slide-in-from-bottom duration-300",children:C==="view"?e.jsx(ie,{ticket:f,mode:C,onClose:v,onEdit:X,onDelete:J,onSendToIncident:be,canEdit:z}):e.jsx(re,{onClose:v,onSubmit:me,initialData:f,isSubmitting:le})})}),e.jsx(We,{isOpen:!!T,onClose:()=>K(null),onConfirm:qe,title:"Delete Confirmation",message:`Are you sure you want to delete ticket #${T}?`,isDanger:!0}),e.jsx(i.Suspense,{fallback:null,children:P&&e.jsx(kt,{isOpen:P,onClose:()=>{c(!1),q("inbox")},currentLogs:t,onSyncComplete:s=>{l({title:"Sync Completed",description:`Updated ${s} records.`}),p.invalidateQueries({queryKey:["ticketLogs"]}),c(!1),q("inbox")}})}),Oe&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:()=>A(!1)}),e.jsxs("div",{className:"relative w-full sm:w-[400px] bg-white dark:bg-zinc-900 rounded-t-xl sm:rounded-xl p-5 shadow-2xl animate-in slide-in-from-bottom sm:zoom-in-95 duration-300 pointer-events-auto m-0 sm:m-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[e.jsx(st,{size:18,className:"text-[#0078D4]"})," Filters"]}),e.jsx("button",{onClick:()=>A(!1),className:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded-full text-zinc-600 hover:text-zinc-900 transition-colors",children:e.jsx(H,{size:16})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-2",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["All",...k.statuses].map(s=>{const x=s.toLowerCase(),b=r[x]!==void 0?r[x]:null;return e.jsxs("button",{onClick:()=>oe(ae,s),className:u("px-3 py-2 rounded-lg text-xs font-bold transition-all border flex items-center gap-1.5",j===s?"bg-[#0078D4] text-white border-transparent":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-700"),children:[s,b!==null&&e.jsxs("span",{className:"opacity-60 text-[10px]",children:["(",b,")"]})]},s)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-500 uppercase block mb-2",children:"Ticket Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["All",...k.types].map(s=>e.jsx("button",{onClick:()=>ne(s),className:u("px-3 py-2 rounded-lg text-xs font-bold transition-all border",M===s?"bg-[#0078D4] text-white border-transparent":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-700"),children:s},s))})]})]}),e.jsxs("div",{className:"mt-8 flex gap-3",children:[e.jsx("button",{onClick:()=>{ue(),A(!1)},className:"flex-1 py-2.5 text-zinc-600 font-bold bg-zinc-100 dark:bg-zinc-800 rounded-lg hover:bg-zinc-200 transition-colors text-sm",children:"Reset"}),e.jsx("button",{onClick:()=>A(!1),className:"flex-[2] py-2.5 bg-[#0078D4] text-white font-bold rounded-lg shadow-lg shadow-[#0078D4]/20 hover:bg-[#106EBE] transition-colors text-sm",children:"Apply Filters"})]})]})]})]})}export{$t as default};
