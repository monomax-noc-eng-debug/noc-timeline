import{c as xe,r as o,x as sn,s as an,j as e,F as ft,X as Ge,a as It,b as q,E as Er,T as $e,C as on,L as ln,m as ye,k as ht,f as cn,n as Et,P as V,h as K,o as dn,i as oe,D as un,G as Rr,g as Ar,H as ge,d as pn,V as Dr,l as _r,S as Or,e as Lr,q as qr,t as Vt}from"./index-DAanvQcz.js";import{u as Fr,d as Ht,a as $r,i as Wt,F as Br,R as Vr}from"./useMatches-DTUWqtg5.js";import{e as xn,d as he,a as de,u as gt,f as Hr,g as et,q as Ut,o as tt,n as Wr,h as Ur,j as Gt,s as nt,k as Gr}from"./firebaseConfig-CyCI-yMF.js";import{t as Kr,f as Re}from"./format-B568ns5f.js";import{a as mn}from"./addMonths-C-BMKM1V.js";import{i as Qr}from"./isSameMonth-CRYCS6Ki.js";import{p as Kt}from"./parse-B7oZ5ZXB.js";import{G as Yr}from"./gauge-BCQlAoFf.js";import{C as Rt}from"./clock-BlplEjJw.js";import{A as Zr}from"./useBaseQuery-DFxn4vC0.js";import{C as ke}from"./check-COupuRFH.js";import{G as fn}from"./globe-bxdyJ4_K.js";import{S as Xr,u as Jr,I as rt}from"./index-DMZk_QU2.js";import{T as Ke}from"./trash-2-1ZQVMCmo.js";import{P as At}from"./plus-CcHBTCAP.js";import{C as es}from"./copy-CwsAZBTG.js";import{f as fe,a as st,p as ts,c as ns,L as rs,D as ss}from"./DataPreviewPanel-ChBr33q4.js";import{C as bt,S as hn}from"./search-26ZHywIY.js";import{U as gn}from"./users-DkzfUVat.js";import{c as bn}from"./configService-hzZxIssI.js";import{L as as}from"./layers-Djmn8i5g.js";import{S as vt}from"./save-B9S0bGgd.js";import{c as os,B as _e}from"./index-B4l1GjT4.js";import{S as is,P as wt,a as kt,p as Qt,b as yt,C as vn,F as ls}from"./popover-BQsVCM6W.js";import{u as cs,C as wn,B as ds,P as us}from"./index-DC5w-ZAL.js";import{u as ie,h as kn,b as yn,a as jn,F as Sn,c as Nn,R as ps,A as xs,C as ms,d as fs}from"./Combination-DKX6l_39.js";import{C as Dt}from"./chevron-down-C-Yf2SUI.js";import{Z as hs}from"./zap-F_G-BL33.js";import{T as Cn,a as gs}from"./tv-BhCofRON.js";import{C as bs}from"./chevron-left-DNlK2B-C.js";import{C as vs}from"./chevron-right-D1m-G7UY.js";import"./cloud-download-DYiVjBpa.js";import"./addYears-Ds2_z7Vb.js";const ws=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],ks=xe("arrow-left-right",ws);const ys=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],js=xe("bell",ys);const Ss=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Yt=xe("chevrons-up-down",Ss);const Ns=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Cs=xe("eraser",Ns);const zs=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Ts=xe("monitor-play",zs);const Ps=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ms=xe("rotate-ccw",Ps);const Is=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zn=xe("server",Is);const Es=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Rs=xe("sword",Es);const As=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Tn=xe("wand-sparkles",As);const Ds=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Pn=xe("wifi",Ds);function He(t,r){const n=Kr(t,r?.in);return n.setSeconds(0,0),n}function _s(t,r){return+He(t)==+He(r)}function Os(t,r,n){return mn(t,-1,n)}const at={subscribeMatches:(t,r)=>{let n=Ut(et(de,"schedules"),tt("startDate","desc"),tt("startTime","asc"));return t&&(n=Ut(et(de,"schedules"),Wr("startDate","==",t),tt("startTime","asc"))),Ur(n,a=>{const s=a.docs.map(i=>({id:i.id,...i.data()}));r(s)})},createMatch:async t=>{try{const r={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1};return await Hr(et(de,"schedules"),r)}catch(r){throw console.error("Error creating match:",r),r}},updateMatch:async(t,r)=>{try{const n=he(de,"schedules",t);await gt(n,{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error updating match:",n),n}},deleteMatch:async t=>{try{await xn(he(de,"schedules",t))}catch(r){throw console.error("Error deleting match:",r),r}}},Ls=(t=new Date)=>{const[r,n]=o.useState(t),a=Re(r,"yyyy-MM-dd"),s=Qr(r,new Date),{matches:i,loading:d}=Fr(r,null,s),l=sn(),{toast:c}=an(),[u,p]=o.useState(null),[m,f]=o.useState(!1),[j,k]=o.useState(null),[h,x]=o.useState(!1),[T,C]=o.useState({isOpen:!1,id:null}),[R,$]=o.useState(!1),[P,M]=o.useState(""),[I,Q]=o.useState("ALL"),[W,Y]=o.useState(He(new Date)),[G,B]=o.useState(!1),Z=o.useRef(new Set);o.useEffect(()=>{const g=setInterval(()=>{const z=new Date;Y(N=>_s(N,z)?N:He(z))},1e3);return()=>clearInterval(g)},[]),o.useEffect(()=>{"Notification"in window&&Notification.permission==="granted"&&B(!0)},[]);const O=async()=>{if(!("Notification"in window))return;await Notification.requestPermission()==="granted"&&B(!0)};o.useEffect(()=>{!G||!s||i.length===0||i.forEach(L=>{if(!L.startTime||L.hasStartStat||Z.current.has(L.id))return;const g=Kt(L.startTime,"HH:mm",r),z=Ht(g,W);z<=15&&z>=0&&(new Notification("Match Alert",{body:`${L.teamA} vs ${L.teamB} starts in ${z} mins!`,icon:"/vite.svg"}),Z.current.add(L.id))})},[i,G,W,r,s]);const H=()=>n(L=>Os(L)),U=()=>n(L=>mn(L,1)),X=()=>n(new Date),te=async L=>{x(!0);try{j?(await at.updateMatch(j.id,L),c({title:"Success",description:"Match updated successfully."})):(await at.createMatch({...L,startDate:a}),c({title:"Success",description:"Match created successfully."})),l.invalidateQueries({queryKey:["matches"]}),f(!1),k(null)}catch(g){c({variant:"destructive",title:"Error",description:g.message||"Something went wrong."})}finally{x(!1)}},ne=async()=>{if(T.id)try{await at.deleteMatch(T.id),l.invalidateQueries({queryKey:["matches"]}),c({title:"Success",description:"Match deleted successfully."})}catch(L){c({variant:"destructive",title:"Error",description:L.message||"Failed to delete match."})}finally{C({isOpen:!1,id:null})}},le=o.useMemo(()=>{const L=i.map(N=>{let S="Upcoming",D=null,w=!1,_=!1;if(N.startTime){const b=Kt(N.startTime,"HH:mm",r),y=$r(b,2),v=Ht(b,W);N.hasEndStat?(S="Finished",_=!0):N.hasStartStat?(S="Live",w=!0):W>=b&&W<=y?(S="Live (Time)",w=!0):W>y?(S="Finished (Time)",_=!0):v<=60&&v>0?D=`${v}m`:D=Re(b,"HH:mm")}return{...N,statusDisplay:S,countdown:D,isLiveTime:w,isFinished:_}}),g={total:L.length,live:L.filter(N=>N.isLiveTime).length,finished:L.filter(N=>N.isFinished).length,pending:L.filter(N=>!N.isLiveTime&&!N.isFinished).length};return{matches:L.filter(N=>{const S=P.toLowerCase().trim(),D=!S||(N._searchString||"").includes(S);let w=!0;return I==="LIVE"?w=N.isLiveTime:I==="FINISHED"?w=N.isFinished:I==="UPCOMING"&&(w=!N.isLiveTime&&!N.isFinished),D&&w}),stats:g}},[i,W,r,P,I]);return{selectedDate:r,setSelectedDate:n,dateStr:a,matches:le.matches,allMatches:i,stats:le.stats,loading:d,searchQuery:P,setSearchQuery:M,filterType:I,setFilterType:Q,selectedMatch:u,setSelectedMatch:p,isManualModalOpen:m,setIsManualModalOpen:f,editingMatch:j,setEditingMatch:k,saving:h,deleteConfirm:T,setDeleteConfirm:C,isDataPreviewOpen:R,setIsDataPreviewOpen:$,notificationEnabled:G,handlePrevDay:H,handleNextDay:U,handleGoToday:X,handleSaveMatch:te,handleDeleteMatch:ne,requestNotifyPermission:O}};function qs({form:t,setForm:r,isMultiCdnMode:n,toggleCdnMode:a,cdnList:s,onAdd:i,onRemove:d,onUpdate:l,onAutoFix:c,statType:u,masterConfigs:p={channels:[],cdnOptions:[]},canEdit:m=!0}){const[f,j]=o.useState(!1),k=h=>t.cdn===h;return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400",children:[e.jsx(Yr,{size:14,className:"text-orange-500"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Configuration"})]})}),e.jsxs("div",{className:"group bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm overflow-hidden flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x divide-zinc-100 dark:divide-zinc-800",children:[e.jsxs("div",{className:"flex-1 p-2 flex items-center gap-3 relative",children:[e.jsx(Rt,{size:14,className:"text-zinc-400 shrink-0"}),e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none mb-0.5",children:"Start"}),e.jsx("input",{type:"time",value:t.rangeStart,onChange:h=>r({...t,rangeStart:h.target.value}),disabled:!m,className:"bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 w-[60px] h-4 leading-none disabled:opacity-50"})]}),e.jsx(Zr,{size:12,className:"text-zinc-300 dark:text-zinc-700"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none mb-0.5",children:["End ",u==="START"?"(+15m)":"(+2h)"]}),e.jsx("input",{type:"time",value:t.rangeEnd,onChange:h=>r({...t,rangeEnd:h.target.value}),disabled:!m,className:"bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 w-[60px] h-4 leading-none disabled:opacity-50"})]})]}),c&&m&&e.jsx("button",{onClick:c,title:"Auto Calculate Time",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-md text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",children:e.jsx(Tn,{size:12})})]}),e.jsxs("div",{className:"flex-[1.5] p-2 flex items-center gap-3 relative",children:[e.jsx(Ts,{size:14,className:"text-zinc-400 shrink-0"}),e.jsxs("div",{className:"w-full relative",children:[e.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none block mb-0.5",children:"Channel Source"}),e.jsx("input",{type:"text",value:t.liveChannel,onChange:h=>r({...t,liveChannel:h.target.value}),onFocus:()=>m&&j(!0),onBlur:()=>setTimeout(()=>j(!1),200),disabled:!m,placeholder:"Select Channel...",className:"w-full bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 h-4 leading-none placeholder:text-zinc-300 dark:placeholder:text-zinc-700 disabled:opacity-50"}),f&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-3 max-h-40 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-xl z-50 py-1",children:p.channels.length>0?p.channels.filter(h=>h.toLowerCase().includes((t.liveChannel||"").toLowerCase())).map(h=>e.jsxs("div",{onMouseDown:()=>r({...t,liveChannel:h}),className:"px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 cursor-pointer text-xs font-medium text-zinc-700 dark:text-zinc-300 flex items-center justify-between group/item",children:[h,t.liveChannel===h&&e.jsx(ke,{size:12,className:"text-orange-500"})]},h)):e.jsx("div",{className:"px-3 py-2 text-xs text-zinc-400 italic",children:"No channels found"})})]})]})]}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-2 border border-zinc-200/50 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wide pl-1",children:"CDN Distribution"}),e.jsxs("div",{className:"flex bg-zinc-200 dark:bg-zinc-800 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>m&&n&&a(),disabled:!m,className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all flex items-center gap-1.5 ${n?"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400":"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm"} ${!m&&"cursor-not-allowed opacity-50"}`,children:"Single"}),e.jsx("button",{onClick:()=>m&&!n&&a(),disabled:!m,className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all flex items-center gap-1.5 ${n?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400"} ${!m&&"cursor-not-allowed opacity-50"}`,children:"Multi-CDN"})]})]}),n?e.jsxs("div",{className:"space-y-1.5",children:[s.map(h=>e.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-white dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700 shadow-sm group",children:[e.jsx("div",{className:"w-[120px] shrink-0 border-r border-zinc-100 dark:border-zinc-700 pr-2",children:e.jsxs("select",{value:h.provider,onChange:x=>l(h.id,"provider",x.target.value),className:"w-full bg-transparent text-[11px] font-bold text-zinc-700 dark:text-zinc-200 outline-none cursor-pointer py-1",children:[e.jsx("option",{value:"Select Provider",children:"Select Provider"}),p.cdnOptions.filter(x=>x.id!=="Multi CDN").map(x=>e.jsx("option",{value:x.id,children:x.label},x.id))]})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Xr,{size:10,className:"absolute left-0 top-1/2 -translate-y-1/2 text-zinc-300 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Enter Config Key...",value:h.key||"",onChange:x=>l(h.id,"key",x.target.value),className:"w-full pl-4 bg-transparent text-[11px] font-medium text-zinc-600 dark:text-zinc-300 placeholder:text-zinc-300 outline-none border-none p-0 focus:ring-0"})]}),s.length>1&&e.jsx("button",{onClick:()=>d(h.id),className:"opacity-0 group-hover:opacity-100 p-1 text-zinc-300 hover:text-red-500 transition-all",children:e.jsx(Ke,{size:12})})]},h.id)),e.jsxs("button",{onClick:i,className:"w-full py-1.5 mt-2 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-700 hover:border-orange-300 dark:hover:border-orange-900/50 text-[10px] font-bold text-zinc-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all flex items-center justify-center gap-1",children:[e.jsx(At,{size:10})," Add Provider Layer"]})]}):e.jsx("div",{className:"flex flex-wrap gap-2",children:p.cdnOptions.filter(h=>h.id!=="Multi CDN").map(h=>e.jsxs("button",{onClick:()=>r({...t,cdn:h.id}),className:`group relative px-3 py-1.5 rounded-lg border text-[11px] font-bold transition-all flex items-center gap-2 ${k(h.id)?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-[1.02]":"bg-white dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600 hover:bg-white"}`,children:[e.jsx(fn,{size:12,className:k(h.id)?"opacity-100":"opacity-50 group-hover:opacity-100"}),h.label,k(h.id)&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-orange-500 rounded-full border-2 border-white dark:border-zinc-900"})]},h.id))})]})]})}function Fs({isOpen:t,onClose:r,data:n,headers:a}){const[s,i]=o.useState(!1);if(!t)return null;const d=async()=>{if(n)try{const l=a.join("	"),c=n.map(p=>Object.values(p).join("	")).join(`
`),u=`${l}
${c}`;await navigator.clipboard.writeText(u),i(!0),setTimeout(()=>i(!1),2e3)}catch(l){console.error("Failed to copy:",l)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:r}),e.jsx("div",{className:"fixed inset-0 z-[201] flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"pointer-events-auto bg-white dark:bg-[#0c0c0e] w-full max-w-6xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden border border-slate-100 dark:border-zinc-800 animate-in zoom-in-95 duration-200",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-zinc-800 flex justify-between items-center bg-white dark:bg-zinc-900",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-xl",children:e.jsx(ft,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Data Preview"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Review data before exporting"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:d,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${s?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"bg-slate-900 text-white hover:bg-slate-800 shadow-md"}`,children:[s?e.jsx(ke,{size:16}):e.jsx(es,{size:16}),s?"Copied!":"Copy Data"]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-zinc-800 rounded-lg text-slate-400 hover:text-rose-500 transition-colors",children:e.jsx(Ge,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar bg-slate-50 dark:bg-[#0c0c0e]",children:!n||n.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 gap-3 min-h-[300px]",children:[e.jsx(ft,{size:48,className:"opacity-20"}),e.jsx("p",{children:"No data available to preview"})]}):e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-100 dark:bg-zinc-900/50 sticky top-0 z-10 shadow-sm",children:e.jsx("tr",{children:a.map((l,c)=>e.jsx("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider whitespace-nowrap border-b border-slate-200 dark:border-zinc-800",children:l},c))})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-zinc-800/50 bg-white dark:bg-zinc-900",children:n.map((l,c)=>e.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-zinc-800/50 transition-colors",children:Object.values(l).map((u,p)=>e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 whitespace-nowrap border-r border-transparent last:border-0",children:u===null||u===""?e.jsx("span",{className:"text-slate-300",children:"-"}):u},p))},c))})]})}),e.jsxs("div",{className:"px-6 py-3 bg-slate-50 dark:bg-zinc-900 border-t border-slate-200 dark:border-zinc-800 text-xs text-slate-400 flex justify-between",children:[e.jsxs("span",{children:["Total Rows: ",n?n.length:0]}),e.jsx("span",{children:"Tab-separated format ready for Excel/Sheets"})]})]})})]})}const Te="schedules",ee=(t,r="")=>{if(!t&&t!==0)return{val:"",unit:r};if(typeof t=="object"&&t.val!==void 0)return t;const n=String(t).toLowerCase();let a=parseFloat(n),s=r;return n.endsWith("m")?s="m":n.endsWith("k")?s="k":n.endsWith("gb")?s="GB":n.endsWith("tb")?s="TB":n.endsWith("mb")&&(s="MB"),{val:isNaN(a)?"":a,unit:s}},Zt={ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:"",rangeStart:"",rangeEnd:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},cdn:"AWS",liveChannel:""};function $s(t,r){const[n,a]=o.useState("START"),[s,i]=o.useState(!0),[d,l]=o.useState(!1),[c,u]=o.useState(!1),[p,m]=o.useState(!1),[f,j]=o.useState(Zt),[k,h]=o.useState([]),[x,T]=o.useState(!1),[C,R]=o.useState("Unknown"),$=o.useRef(null),[P,M]=o.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[I,Q]=o.useState({show:!1,data:[]}),[W,Y]=o.useState({isOpen:!1,data:[]}),G=sn(),{currentUser:B}=It(),{toast:Z}=an(),O=o.useCallback((b,y="success")=>{b&&Z({description:b,variant:y})},[Z]),H=t?.id?`draft_stats_${t.id}_${n}`:null,U=o.useCallback(async()=>{if(t?.id){l(!0),$.current=null;try{const b=he(de,Te,t.id),y=n==="START"?"start_stat":"end_stat",v=he(de,Te,t.id,"statistics",y),[E,A]=await Promise.all([Gt(b),Gt(v)]),re=E.exists()?E.data():{};let ae={...Zt},J=[],se=!1;if(A.exists()){const F=A.data();ae={...ae,...F,liveChannel:F.liveChannel||re.liveChannel||re.channel||t.channel||"",requestPeak:ee(F.requestPeak,""),muxViewerUniq:ee(F.muxViewerUniq,""),reqPeakMin:ee(F.reqPeakMin,""),reqTotal:ee(F.reqTotal,""),bwPeakGbps:ee(F.bwPeakGbps,""),bandwidth:ee(F.bandwidth,"")},F.cdnDetails?.length>0?(J=F.cdnDetails.map(me=>({...me,requestPeak:ee(me.requestPeak,""),reqPeakMin:ee(me.reqPeakMin,""),reqTotal:ee(me.reqTotal,""),bwPeakGbps:ee(me.bwPeakGbps,""),bandwidth:ee(me.bandwidth,""),muxViewerUniq:ee(me.muxViewerUniq,"")})),se=!0):se=F.cdn==="Multi CDN",R(F.reporter||"Unknown")}else{const F=re.cdn||"AWS";se=F==="Multi CDN",ae.cdn=F,ae.liveChannel=re.liveChannel||re.channel||t.channel||"",se?J=[{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]:J=[]}const ze=localStorage.getItem(H);if(ze)try{const F=JSON.parse(ze);F.matchId===t.id&&(F.form&&(ae={...ae,...F.form}),F.cdnList&&(J=F.cdnList),F.isMultiCdnMode!==void 0&&(se=F.isMultiCdnMode))}catch(F){console.error("Draft load error",F)}A.exists()||R("Unknown"),j(ae),h(J),T(se),$.current=t.id}catch(b){console.error("Fetch Error:",b),O("โหลดข้อมูลไม่สำเร็จ","error")}finally{l(!1),i(!1)}}},[t,n,O,H]);o.useEffect(()=>{U()},[U]),o.useEffect(()=>{if(!s&&!d&&H&&$.current===t?.id){const b={matchId:t.id,form:f,cdnList:k,isMultiCdnMode:x,timestamp:Date.now()};localStorage.setItem(H,JSON.stringify(b))}},[f,k,x,H,s,d,t?.id]),o.useEffect(()=>{x&&f.liveChannel&&k.length>0&&(!k[0].key||k[0].key.trim()==="")&&h(b=>b.map((y,v)=>v===0?{...y,key:f.liveChannel}:y))},[f.liveChannel,x,k]);const X=()=>{T(b=>!b),!x&&k.length===0&&h([{id:Date.now(),provider:"AWS",key:f.liveChannel||"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]),j(b=>({...b,cdn:x?"AWS":"Multi CDN"}))},te=()=>h(b=>[...b,{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}]),ne=b=>k.length>1&&h(y=>y.filter(v=>v.id!==b)),le=(b,y,v)=>h(E=>E.map(A=>A.id!==b?A:typeof A[y]=="object"&&A[y]!==null?{...A,[y]:{...A[y],...v}}:{...A,[y]:v})),L=()=>{if(k.length<2)return;const b=k[0];h(y=>y.map((v,E)=>E===0?v:{...v,ecsSport:b.ecsSport,ecsEntitlement:b.ecsEntitlement,apiHuawei:b.apiHuawei})),O("Autofilled System Health values","success")},g=b=>{h(y=>y.map(v=>v.id!==b?v:{...v,ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""})),O("Cleared row data","default")},z=b=>{if(!b||!Array.isArray(b)||b.length===0)return;const y=b.map(v=>({id:Date.now()+Math.random(),provider:v.provider||"Select Provider",key:v.key||"",ecsSport:v.ecsSport||"",ecsEntitlement:v.ecsEntitlement||"",apiHuawei:v.apiHuawei||"",requestPeak:ee(v.requestPeak),reqPeakMin:ee(v.reqPeakMin),reqTotal:ee(v.reqTotal),bwPeakGbps:ee(v.bwPeakGbps),bandwidth:ee(v.bandwidth),muxViewerUniq:ee(v.muxViewerUniq),muxScore:v.muxScore||""}));y.length>0&&(h(y),T(!0),Y({isOpen:!1,data:[]}),O(`Imported ${y.length} rows successfully`,"success"))},N=o.useCallback((b=!1)=>{let y=t?.startTime||t?.start_time||t?.time;if(!y){b&&O("Time not found","error");return}try{const E=(J=>{let se=String(J).toLowerCase().trim().replace(".",":"),ze=se.replace(/[a-z]/g,"").trim(),[F,me]=ze.split(":"),Fe=parseInt(F,10),Ir=parseInt(me||"0",10);return isNaN(Fe)?null:(se.includes("pm")&&Fe<12&&(Fe+=12),{h:Fe,m:Ir})})(y);if(!E)return;const A=(J,se,ze)=>{let F=J*60+se+ze;return F=(F%1440+1440)%1440,`${String(Math.floor(F/60)).padStart(2,"0")}:${String(F%60).padStart(2,"0")}`},re=A(E.h,E.m,0),ae=A(E.h,E.m,n==="START"?15:120);$.current===t?.id&&j(J=>J.rangeStart&&J.rangeEnd?J:{...J,rangeStart:re,rangeEnd:ae})}catch{}},[t,n,O]);o.useEffect(()=>{!d&&!s&&t&&N()},[d,s,t,n,N]);const S=o.useCallback(()=>{const b=[];(!f.rangeStart||!f.rangeEnd)&&b.push("กรุณาระบุเวลา Start/End"),f.liveChannel||b.push("กรุณาระบุ Channel");const y=v=>{const E=typeof v=="object"?v?.val:v;return E===""||E===null||E===void 0};return x?(k.length===0&&b.push("At least one CDN provider is required"),k.forEach((v,E)=>{const A=`CDN #${E+1}`;(!v.provider||v.provider==="Select Provider")&&b.push(`${A}: Provider required`),y(v.ecsSport)&&b.push(`${A}: ECS Sport required`),y(v.muxScore)&&b.push(`${A}: Score required`)})):(y(f.ecsSport)&&b.push("ECS Sport required"),y(f.muxScore)&&b.push("Smoothness Score required")),b.length>0?(O(b[0],"error"),!1):!0},[f,k,x,O]);return{state:{statType:n,loading:s,fetching:d,saving:c,isSuccess:p,form:f,cdnList:k,isMultiCdnMode:x,reporterName:C,confirmModal:P,preview:I,importModal:W},actions:{setStatType:a,setForm:j,toggleCdnMode:X,handleAddCdn:te,handleRemoveCdn:ne,handleUpdateCdnRow:le,handleAutoFixTime:()=>N(!0),handleSmartSave:async b=>{if(t?.id&&S()){u(!0);try{const y=n==="START"?"start_stat":"end_stat",v={...f,cdn:x?"Multi CDN":f.cdn,cdnDetails:x?k:null,updatedAt:nt(),statType:n,reporter:typeof B=="object"?B?.name:B||"Unknown"};await Gr(he(de,Te,t.id,"statistics",y),v),await gt(he(de,Te,t.id),{[n==="START"?"hasStartStat":"hasEndStat"]:!0,[n==="START"?"startStats":"endStats"]:v,updatedAt:nt()}),localStorage.removeItem(H),G.invalidateQueries({queryKey:["matches"]}),O("บันทึกข้อมูลเรียบร้อยแล้ว","success"),m(!0),setTimeout(()=>m(!1),2e3),b&&b()}catch{O("บันทึกข้อมูลล้มเหลว","error")}finally{u(!1)}}},requestDelete:()=>{M({isOpen:!0,title:`Reset ${n}?`,message:"Sure to delete?",isDanger:!0,onConfirm:async()=>{M(b=>({...b,isOpen:!1})),u(!0);try{const b=n==="START"?"start_stat":"end_stat";await xn(he(de,Te,t.id,"statistics",b)),await gt(he(de,Te,t.id),{[n==="START"?"hasStartStat":"hasEndStat"]:!1,[n==="START"?"startStats":"endStats"]:null,updatedAt:nt()}),localStorage.removeItem(H),G.invalidateQueries({queryKey:["matches"]}),O("Reset Success","success"),setTimeout(r,1e3)}catch{O("Reset Failed","error")}finally{u(!1)}}})},handlePreview:()=>{const b=v=>{if(!v)return 0;if(typeof v=="object"&&v.val!==void 0){const E=parseFloat(v.val||0),A=(v.unit||"").toLowerCase();return A==="m"?E*1e6:A==="b"?E*1e9:A==="k"?E*1e3:E}return ts(v)},y=v=>{const E=v?.val||0,A=v?.unit||"";return ns(E,A===""?"GB":A)?.toLocaleString("en-US",{maximumFractionDigits:4})};try{const v={no:"1",league:t?.league||"-",title:t?.title||t?.match||"-",time:t?.startTime||"-",ecsSport:st(f.ecsSport,2),ecsEnt:st(f.ecsEntitlement,2),api:st(f.apiHuawei,2),reqPeak:fe(b(f.requestPeak)),viewers:fe(b(f.muxViewerUniq)),score:f.muxScore,start:f.rangeStart||"-",end:f.rangeEnd||"-"},E=x&&k.length>0?k.map(A=>[v.no,v.league,v.title,v.time,v.ecsSport,v.ecsEnt,v.api,fe(b(A.requestPeak)),A.provider||"-",A.key||"-",fe(b(A.reqPeakMin)),fe(b(A.reqTotal)),y(A.bwPeakGbps),y(A.bandwidth),fe(b(A.muxViewerUniq)),v.score,v.start,v.end]):[[v.no,v.league,v.title,v.time,v.ecsSport,v.ecsEnt,v.api,fe(b(f.requestPeak)),f.cdn||"-",f.liveChannel||"-",fe(b(f.reqPeakMin)),fe(b(f.reqTotal)),y(f.bwPeakGbps),y(f.bandwidth),v.viewers,v.score,v.start,v.end]];Q({show:!0,data:E})}catch{O("Preview Error","error")}},closeConfirm:()=>M(b=>({...b,isOpen:!1})),closePreview:()=>Q(b=>({...b,show:!1})),handleAutofillSystemHealth:L,handleClearCdnRow:g,openImportModal:b=>Y({isOpen:!0,data:b}),closeImportModal:()=>Y({isOpen:!1,data:[]}),handleApplyImport:z}}}function pe({label:t,value:r,unit:n,onChange:a,onUnitChange:s,placeholder:i,color:d="blue",type:l="text",tooltip:c,compact:u=!1,max:p,readOnly:m=!1,thresholds:f,thresholdType:j="lower-is-bad"}){let k=d,h=null;if(f&&r!==""&&r!==null&&r!==void 0){const P=parseFloat(r);isNaN(P)||(j==="higher-is-bad"?P>=f.critical?(k="red",h=$e):P>=f.warning?(k="orange",h=$e):(k="emerald",h=bt):P<=f.critical?(k="red",h=$e):P<=f.warning?(k="orange",h=$e):(k="emerald",h=bt))}const x=P=>{if(!m){if(p!==void 0&&P!==""){const M=parseFloat(P);if(!isNaN(M)&&M>p){a(p.toString());return}if(M<0){a("0");return}}a(P)}},T={blue:{bg:"bg-blue-50/50 dark:bg-blue-900/10",border:"border-blue-100/50 dark:border-blue-900/30",text:"text-blue-600 dark:text-blue-400",accent:"bg-blue-500",glow:"shadow-blue-500/10"},emerald:{bg:"bg-emerald-50/50 dark:bg-emerald-900/10",border:"border-emerald-100/50 dark:border-emerald-900/30",text:"text-emerald-600 dark:text-emerald-400",accent:"bg-emerald-500",glow:"shadow-emerald-500/10"},orange:{bg:"bg-orange-50/50 dark:bg-orange-900/10",border:"border-orange-100/50 dark:border-orange-900/30",text:"text-orange-600 dark:text-orange-400",accent:"bg-orange-500",glow:"shadow-orange-500/10"},purple:{bg:"bg-purple-50/50 dark:bg-purple-900/10",border:"border-purple-100/50 dark:border-purple-900/30",text:"text-purple-600 dark:text-purple-400",accent:"bg-purple-500",glow:"shadow-purple-500/10"},violet:{bg:"bg-violet-50/50 dark:bg-violet-900/10",border:"border-violet-100/50 dark:border-violet-900/30",text:"text-violet-600 dark:text-violet-400",accent:"bg-violet-500",glow:"shadow-violet-500/10"},pink:{bg:"bg-pink-50/50 dark:bg-pink-900/10",border:"border-pink-100/50 dark:border-pink-900/30",text:"text-pink-600 dark:text-pink-400",accent:"bg-pink-500",glow:"shadow-pink-500/10"},cyan:{bg:"bg-cyan-50/50 dark:bg-cyan-900/10",border:"border-cyan-100/50 dark:border-cyan-900/30",text:"text-cyan-600 dark:text-cyan-400",accent:"bg-cyan-500",glow:"shadow-cyan-500/10"},red:{bg:"bg-red-50/50 dark:bg-red-900/10",border:"border-red-100/50 dark:border-red-900/30",text:"text-red-600 dark:text-red-400",accent:"bg-red-500",glow:"shadow-red-500/10"}},C=T[k]||T.blue,$=(()=>{if(!r||isNaN(r))return null;const P=parseFloat(r);if(s){if(!n||n==="raw")return P.toLocaleString();let M=P,I="";switch(n){case"TB":M=P*1024,I="GB";break;case"MB":M=P/1024,I="GB";break;case"KB":M=P/(1024*1024),I="GB";break;case"GB":M=P,I="GB";break;case"k":M=P*1e3,I="";break;case"m":M=P*1e6,I="";break;default:M=P}return I?`${M.toLocaleString(void 0,{maximumFractionDigits:2})} ${I}`:M.toLocaleString()}return null})();return e.jsxs("div",{className:q("relative group rounded-2xl border transition-all duration-300",C.border,C.bg,u?"p-3":"p-4","hover:ring-1 hover:ring-current/10 shadow-sm",C.glow,m&&"opacity-80 grayscale-[0.3]"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:q("font-black uppercase tracking-[0.15em] leading-none truncate pr-2 flex items-center gap-1.5",u?"text-[8px]":"text-[9px]","text-zinc-500 dark:text-zinc-400"),children:[h&&e.jsx(h,{size:10,className:C.text}),t]}),c&&e.jsx(Er,{size:10,className:"text-zinc-300 cursor-help"})]}),e.jsxs("div",{className:q("flex items-center rounded-xl overflow-hidden bg-white dark:bg-zinc-950 border border-zinc-100 dark:border-zinc-800/50 transition-all",!m&&"focus-within:ring-2 focus-within:ring-offset-1 dark:focus-within:ring-offset-zinc-950",!m&&C.text.replace("text-","focus-within:ring-"),u?"h-10":"h-12"),children:[e.jsx("input",{type:l==="percentage"?"number":l,step:"any",value:r,onChange:P=>x(P.target.value),readOnly:m,placeholder:i||"0",className:q("flex-1 bg-transparent border-none outline-none px-3 font-mono font-black tabular-nums transition-colors min-w-0","placeholder:text-zinc-300 dark:placeholder:text-zinc-800",u?"text-sm":"text-base","dark:text-white",m&&"cursor-not-allowed text-zinc-500",f&&k!=="emerald"&&C.text)}),s?e.jsxs("select",{value:n||"",onChange:P=>!m&&s(P.target.value),disabled:m,className:"h-full w-[60px] shrink-0 bg-zinc-50 dark:bg-zinc-900 border-l border-zinc-100 dark:border-zinc-800 px-1 text-[9px] font-black uppercase text-zinc-500 dark:text-zinc-400 outline-none cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors text-center disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Raw"}),e.jsxs("optgroup",{label:"Count",className:"dark:bg-zinc-900",children:[e.jsx("option",{value:"k",children:"k"}),e.jsx("option",{value:"m",children:"m"})]}),e.jsxs("optgroup",{label:"Data",className:"dark:bg-zinc-900",children:[e.jsx("option",{value:"GB",children:"GB"}),e.jsx("option",{value:"TB",children:"TB"}),e.jsx("option",{value:"MB",children:"MB"}),e.jsx("option",{value:"KB",children:"KB"})]})]}):l==="percentage"?e.jsx("div",{className:"h-full px-3 flex items-center bg-zinc-50 dark:bg-zinc-900 border-l border-zinc-100 dark:border-zinc-800 shrink-0",children:e.jsx("span",{className:"text-[10px] font-black text-zinc-400",children:"%"})}):null]}),$&&e.jsxs("div",{className:"mt-1.5 flex items-center justify-end gap-1 px-1",children:[e.jsx("span",{className:"text-[7px] font-black text-zinc-300 uppercase",children:"Val"}),e.jsx("span",{className:q("text-[9px] font-black tracking-tight",C.text),children:$})]})]})}const _t=({item:t,index:r,icon:n,onRemove:a,onClear:s,isRemovable:i})=>{const d=n;return e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-zinc-100 dark:border-zinc-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-xl bg-zinc-900 dark:bg-zinc-100 dark:text-black text-white flex items-center justify-center shadow-lg",children:e.jsx(d,{size:14})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-zinc-900 dark:text-white uppercase tracking-[0.2em]",children:t.provider||`Provider ${r+1}`}),e.jsx("p",{className:"text-[9px] text-zinc-400 font-bold uppercase tracking-widest",children:t.key||"Universal Node"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.jsx("button",{onClick:s,className:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",title:"Clear Data",children:e.jsx(Cs,{size:14})}),i&&e.jsx("button",{onClick:a,className:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",children:e.jsx(Ke,{size:16})})]})]})},Ot=({onClick:t})=>e.jsxs("button",{onClick:t,className:"w-full py-4 border-2 border-dashed border-zinc-200 dark:border-zinc-800/50 rounded-2xl flex justify-center items-center gap-2 text-zinc-400 font-black text-[10px] uppercase tracking-[0.2em] hover:text-blue-500 hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-all active:scale-[0.98]",children:[e.jsx(At,{size:14})," Add Provider Layer"]}),Ie=(t,r)=>({...t,val:r}),Ee=(t,r)=>({...t,unit:r}),Mn="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",Bs=({data:t,onChange:r,isMulti:n,cdnList:a,onUpdateCdn:s,onRemoveCdn:i,onAddCdn:d,onAutofill:l,onClearRow:c,canEdit:u=!0})=>{const p=(m,f)=>e.jsxs("div",{className:Mn,children:[e.jsx(pe,{label:"ECS Sport",value:m.ecsSport,onChange:j=>f("ecsSport",j),type:"percentage",color:"blue",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!u}),e.jsx(pe,{label:"ECS Entitlement",value:m.ecsEntitlement,onChange:j=>f("ecsEntitlement",j),type:"percentage",color:"purple",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!u}),e.jsx(pe,{label:"API Huawei",value:m.apiHuawei,onChange:j=>f("apiHuawei",j),type:"percentage",color:"orange",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!u}),e.jsx(pe,{label:"WWW & API REQ",value:m.requestPeak?.val,unit:m.requestPeak?.unit,onChange:j=>f("requestPeak",Ie(m.requestPeak,j)),onUnitChange:j=>f("requestPeak",Ee(m.requestPeak,j)),type:"number",color:"emerald",compact:!0,readOnly:!u})]});return n?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.length>1&&u&&e.jsx("div",{className:"flex justify-end mb-2",children:e.jsxs("button",{onClick:l,className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:[e.jsx(Tn,{size:12})," Autofill System Health"]})}),a.map((m,f)=>e.jsxs("div",{className:"group",children:[e.jsx(_t,{item:m,index:f,icon:zn,onRemove:u?()=>i(m.id):null,onClear:u?()=>c(m.id):null,isRemovable:u&&a.length>1}),p(m,(j,k)=>s(m.id,j,k))]},m.id)),u&&e.jsx(Ot,{onClick:d})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:p(t,r)})},Vs=({data:t,onChange:r,isMulti:n,cdnList:a,onUpdateCdn:s,onRemoveCdn:i,onAddCdn:d,onClearRow:l,canEdit:c=!0})=>{const u=(p,m)=>e.jsxs("div",{className:Mn,children:[e.jsx(pe,{label:"Req Peak",value:p.reqPeakMin?.val,unit:p.reqPeakMin?.unit,onChange:f=>m("reqPeakMin",Ie(p.reqPeakMin,f)),onUnitChange:f=>m("reqPeakMin",Ee(p.reqPeakMin,f)),type:"number",color:"blue",compact:!0,readOnly:!c}),e.jsx(pe,{label:"Req Total",value:p.reqTotal?.val,unit:p.reqTotal?.unit,onChange:f=>m("reqTotal",Ie(p.reqTotal,f)),onUnitChange:f=>m("reqTotal",Ee(p.reqTotal,f)),type:"number",color:"cyan",compact:!0,readOnly:!c}),e.jsx(pe,{label:"BW Peak",value:p.bwPeakGbps?.val,unit:p.bwPeakGbps?.unit,onChange:f=>m("bwPeakGbps",Ie(p.bwPeakGbps,f)),onUnitChange:f=>m("bwPeakGbps",Ee(p.bwPeakGbps,f)),type:"number",color:"red",compact:!0,readOnly:!c}),e.jsx(pe,{label:"BW Total",value:p.bandwidth?.val,unit:p.bandwidth?.unit,onChange:f=>m("bandwidth",Ie(p.bandwidth,f)),onUnitChange:f=>m("bandwidth",Ee(p.bandwidth,f)),type:"number",color:"orange",compact:!0,readOnly:!c})]});return n?e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.map((p,m)=>e.jsxs("div",{className:"group",children:[e.jsx(_t,{item:p,index:m,icon:Pn,onRemove:c?()=>i(p.id):null,onClear:c?()=>l(p.id):null,isRemovable:c&&a.length>1}),u(p,(f,j)=>s(p.id,f,j))]},p.id)),c&&e.jsx(Ot,{onClick:d})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:u(t,r)})},Hs=({data:t,onChange:r,isMulti:n,cdnList:a,onUpdateCdn:s,onRemoveCdn:i,onAddCdn:d,onClearRow:l,canEdit:c=!0})=>{const u=(p,m)=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(pe,{label:"Live Viewers",value:p.muxViewerUniq?.val,unit:p.muxViewerUniq?.unit,onChange:f=>m("muxViewerUniq",Ie(p.muxViewerUniq,f)),onUnitChange:f=>m("muxViewerUniq",Ee(p.muxViewerUniq,f)),type:"number",color:"purple",compact:!0,readOnly:!c}),e.jsx(pe,{label:"Smoothness Score",value:p.muxScore,onChange:f=>m("muxScore",f),type:"number",color:"pink",max:100,thresholdType:"lower-is-bad",thresholds:{warning:80,critical:60},readOnly:!c})]});return n?e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.map((p,m)=>e.jsxs("div",{className:"group bg-zinc-50 dark:bg-zinc-900/40 p-5 rounded-3xl border border-zinc-100 dark:border-zinc-800/50",children:[e.jsx(_t,{item:p,index:m,icon:gn,onRemove:c?()=>i(p.id):null,onClear:c?()=>l(p.id):null,isRemovable:c&&a.length>1}),u(p,(f,j)=>s(p.id,f,j))]},p.id)),c&&e.jsx(Ot,{onClick:d})]}):e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:u(t,r)})},Ws=()=>e.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-6 animate-pulse p-6",children:[e.jsx("div",{className:"h-40 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"h-64 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"}),e.jsx("div",{className:"h-64 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"})]})]}),Be=({icon:t,title:r,iconColor:n,children:a,className:s=""})=>e.jsxs("div",{className:`bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800/50 rounded-[2rem] shadow-sm overflow-hidden transition-all hover:shadow-md ${s}`,children:[(t||r)&&e.jsx("div",{className:"px-6 py-5 border-b border-zinc-50 dark:border-zinc-800/50 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[t&&e.jsx("div",{className:`p-2 rounded-xl bg-zinc-50 dark:bg-zinc-800 ${n}`,children:e.jsx(t,{size:18})}),e.jsx("h3",{className:"text-sm font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-widest",children:r})]})}),e.jsx("div",{className:"p-6",children:a})]});function Us({isOpen:t,onClose:r,matchData:n,canEdit:a}){const{state:s,actions:i}=$s(n,r),[d,l]=o.useState({channels:[],cdnOptions:[]});if(o.useEffect(()=>t?bn.subscribeConfigs(l):void 0,[t]),!t)return null;const c=n?.isLiveTime||n?.hasStartStat&&!n?.hasEndStat;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed z-[200]",children:e.jsx(on,{isOpen:s.confirmModal.isOpen,onClose:i.closeConfirm,...s.confirmModal})}),e.jsx(Fs,{isOpen:s.preview.show,onClose:i.closePreview,data:s.preview.data,headers:["#","League","Match","Time","ECS Sport","ECS Entitlement","API Huawei","WWW & API Request","CDN","Key","Req Peak","Req Total","BW Peak","BW Total","Viewers","Score","Start","End"]}),e.jsx("div",{className:"fixed inset-0 z-[100] bg-zinc-950/60 backdrop-blur-md transition-opacity duration-300",onClick:s.loading?void 0:r}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-0 sm:p-6 pointer-events-none",children:e.jsxs("div",{className:"pointer-events-auto w-full h-full sm:h-[90vh] sm:max-w-7xl bg-white dark:bg-[#050505] sm:rounded-[2.5rem] shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-300 border border-zinc-200 dark:border-zinc-800",onClick:u=>u.stopPropagation(),children:[e.jsx("div",{className:"shrink-0 bg-white dark:bg-zinc-900/50 border-b border-zinc-50 dark:border-zinc-800/50 z-20 backdrop-blur-md",children:e.jsxs("div",{className:"px-6 py-5 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1.5",children:[c?e.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-rose-500 text-white shadow-lg shadow-rose-500/30",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]})," LIVE"]}):e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-zinc-100 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-700",children:[e.jsx(Rt,{size:12})," ",n?.startTime||"--:--"]}),e.jsxs("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${s.statType==="START"?"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800/50":"bg-purple-50 text-purple-600 border-purple-100 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800/50"}`,children:[s.statType," Phase"]})]}),e.jsx("h2",{className:"text-xl font-black text-zinc-900 dark:text-white tracking-tight truncate",children:n?.teamA&&n?.teamB?e.jsxs("span",{className:"flex items-center gap-2",children:[n.teamA," ",e.jsx("span",{className:"text-zinc-300 dark:text-zinc-800 italic font-medium",children:"vs"})," ",n.teamB]}):n?.title||"Match Operational Record"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:i.toggleCdnMode,className:"hidden md:flex h-11 px-5 items-center gap-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700 border border-zinc-100 dark:border-zinc-700 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-600 dark:text-zinc-300 transition-all active:scale-95",children:[e.jsx(as,{size:14,className:s.isMultiCdnMode?"text-blue-500":"text-zinc-400"}),e.jsx("span",{children:s.isMultiCdnMode?"Multi-CDN":"Single"})]}),e.jsx("button",{onClick:()=>i.setStatType(s.statType==="START"?"END":"START"),className:"h-11 w-11 flex items-center justify-center rounded-xl bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700 text-zinc-500 border border-zinc-100 dark:border-zinc-700 transition-all active:scale-95",title:"Switch Phase",children:e.jsx(ks,{size:18})})]}),e.jsx("div",{className:"w-px h-6 bg-zinc-200 dark:bg-zinc-800 mx-1"}),e.jsx("button",{onClick:r,className:"h-11 w-11 flex items-center justify-center rounded-xl bg-zinc-900 dark:bg-white text-white dark:text-black shadow-lg hover:scale-105 active:scale-90 transition-all",children:e.jsx(Ge,{size:20,strokeWidth:2.5})})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 bg-[#fafafa] dark:bg-[#050505] space-y-8",children:s.fetching?e.jsx(Ws,{}):e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsx(Be,{className:"shadow-sm border-none bg-zinc-50 dark:bg-zinc-900/30",children:e.jsx(qs,{form:s.form,setForm:i.setForm,isMultiCdnMode:s.isMultiCdnMode,toggleCdnMode:i.toggleCdnMode,cdnList:s.cdnList,onAdd:i.handleAddCdn,onRemove:i.handleRemoveCdn,onUpdate:i.handleUpdateCdnRow,onAutoFix:i.handleAutoFixTime,statType:s.statType,masterConfigs:d,canEdit:a})}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(Be,{title:"System Health",icon:zn,iconColor:"text-blue-500 bg-blue-50 dark:bg-blue-900/30",children:e.jsx(Bs,{data:s.form,onChange:(u,p)=>i.setForm({...s.form,[u]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:i.handleUpdateCdnRow,onAddCdn:i.handleAddCdn,onRemoveCdn:i.handleRemoveCdn,canEdit:a})}),e.jsx(Be,{title:"Traffic & Bandwidth",icon:Pn,iconColor:"text-rose-500 bg-rose-50 dark:bg-rose-900/30",children:e.jsx(Vs,{data:s.form,onChange:(u,p)=>i.setForm({...s.form,[u]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:i.handleUpdateCdnRow,onAddCdn:i.handleAddCdn,onRemoveCdn:i.handleRemoveCdn,canEdit:a})}),e.jsx(Be,{title:"Audience & Engagement",icon:gn,iconColor:"text-violet-500 bg-violet-50 dark:bg-violet-900/30",children:e.jsx(Hs,{data:s.form,onChange:(u,p)=>i.setForm({...s.form,[u]:p}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:i.handleUpdateCdnRow,onAddCdn:i.handleAddCdn,onRemoveCdn:i.handleRemoveCdn,canEdit:a})})]})]})}),e.jsx("div",{className:"shrink-0 p-6 bg-white dark:bg-[#0a0a0a] border-t border-zinc-100 dark:border-zinc-900 transition-all",children:e.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto gap-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:i.requestDelete,disabled:s.loading,className:"group flex items-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all disabled:opacity-30",children:[e.jsx(Ke,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Flush Data"})]}),e.jsxs("button",{onClick:i.handlePreview,disabled:s.loading,className:"group flex items-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all disabled:opacity-30",children:[e.jsx(ft,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[e.jsx("button",{onClick:r,disabled:s.loading,className:"px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:"Dismiss"}),a&&e.jsxs("button",{onClick:()=>i.handleSmartSave(),disabled:s.loading||s.isSuccess,className:`flex-1 sm:flex-none h-14 px-10 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-3 shadow-2xl transition-all active:scale-95 ${s.isSuccess?"bg-emerald-500 text-white shadow-emerald-500/30":"bg-zinc-900 dark:bg-white text-white dark:text-black shadow-zinc-900/20 dark:shadow-white/10"} ${s.loading?"opacity-50 cursor-not-allowed cursor-wait":""}`,children:[s.loading?e.jsx(ln,{size:18,className:"animate-spin"}):s.isSuccess?e.jsx(ke,{size:18,strokeWidth:3}):e.jsx(vt,{size:18}),e.jsx("span",{children:s.loading?"Executing...":s.isSuccess?"Finalized":"Commit Changes"})]})]})]})})]})})]})}var Gs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ks=Gs.reduce((t,r)=>{const n=os(`Primitive.${r}`),a=o.forwardRef((s,i)=>{const{asChild:d,...l}=s,c=d?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...t,[r]:a}},{}),Qs="Label",In=o.forwardRef((t,r)=>e.jsx(Ks.label,{...t,ref:r,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));In.displayName=Qs;var Ys=In;function jt({className:t,...r}){return e.jsx(Ys,{"data-slot":"label",className:q("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}function Zs(t){const r=Xs(t),n=o.forwardRef((a,s)=>{const{children:i,...d}=a,l=o.Children.toArray(i),c=l.find(ea);if(c){const u=c.props.children,p=l.map(m=>m===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:m);return e.jsx(r,{...d,ref:s,children:o.isValidElement(u)?o.cloneElement(u,void 0,p):null})}return e.jsx(r,{...d,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Xs(t){const r=o.forwardRef((n,a)=>{const{children:s,...i}=n;if(o.isValidElement(s)){const d=na(s),l=ta(i,s.props);return s.type!==o.Fragment&&(l.ref=a?ye(a,d):d),o.cloneElement(s,l)}return o.Children.count(s)>1?o.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Js=Symbol("radix.slottable");function ea(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Js}function ta(t,r){const n={...r};for(const a in r){const s=t[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function na(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Qe="Dialog",[En]=cn(Qe),[ra,ue]=En(Qe),Rn=t=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:d=!0}=t,l=o.useRef(null),c=o.useRef(null),[u,p]=ht({prop:a,defaultProp:s??!1,onChange:i,caller:Qe});return e.jsx(ra,{scope:r,triggerRef:l,contentRef:c,contentId:ie(),titleId:ie(),descriptionId:ie(),open:u,onOpenChange:p,onOpenToggle:o.useCallback(()=>p(m=>!m),[p]),modal:d,children:n})};Rn.displayName=Qe;var An="DialogTrigger",sa=o.forwardRef((t,r)=>{const{__scopeDialog:n,...a}=t,s=ue(An,n),i=oe(r,s.triggerRef);return e.jsx(V.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ft(s.open),...a,ref:i,onClick:K(t.onClick,s.onOpenToggle)})});sa.displayName=An;var Lt="DialogPortal",[aa,Dn]=En(Lt,{forceMount:void 0}),_n=t=>{const{__scopeDialog:r,forceMount:n,children:a,container:s}=t,i=ue(Lt,r);return e.jsx(aa,{scope:r,forceMount:n,children:o.Children.map(a,d=>e.jsx(Et,{present:n||i.open,children:e.jsx(dn,{asChild:!0,container:s,children:d})}))})};_n.displayName=Lt;var We="DialogOverlay",On=o.forwardRef((t,r)=>{const n=Dn(We,t.__scopeDialog),{forceMount:a=n.forceMount,...s}=t,i=ue(We,t.__scopeDialog);return i.modal?e.jsx(Et,{present:a||i.open,children:e.jsx(ia,{...s,ref:r})}):null});On.displayName=We;var oa=Zs("DialogOverlay.RemoveScroll"),ia=o.forwardRef((t,r)=>{const{__scopeDialog:n,...a}=t,s=ue(We,n);return e.jsx(yn,{as:oa,allowPinchZoom:!0,shards:[s.contentRef],children:e.jsx(V.div,{"data-state":Ft(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),je="DialogContent",Ln=o.forwardRef((t,r)=>{const n=Dn(je,t.__scopeDialog),{forceMount:a=n.forceMount,...s}=t,i=ue(je,t.__scopeDialog);return e.jsx(Et,{present:a||i.open,children:i.modal?e.jsx(la,{...s,ref:r}):e.jsx(ca,{...s,ref:r})})});Ln.displayName=je;var la=o.forwardRef((t,r)=>{const n=ue(je,t.__scopeDialog),a=o.useRef(null),s=oe(r,n.contentRef,a);return o.useEffect(()=>{const i=a.current;if(i)return kn(i)},[]),e.jsx(qn,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:K(t.onPointerDownOutside,i=>{const d=i.detail.originalEvent,l=d.button===0&&d.ctrlKey===!0;(d.button===2||l)&&i.preventDefault()}),onFocusOutside:K(t.onFocusOutside,i=>i.preventDefault())})}),ca=o.forwardRef((t,r)=>{const n=ue(je,t.__scopeDialog),a=o.useRef(!1),s=o.useRef(!1);return e.jsx(qn,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||n.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=i.target;n.triggerRef.current?.contains(d)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),qn=o.forwardRef((t,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...d}=t,l=ue(je,n),c=o.useRef(null),u=oe(r,c);return jn(),e.jsxs(e.Fragment,{children:[e.jsx(Sn,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:e.jsx(un,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ft(l.open),...d,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ua,{titleId:l.titleId}),e.jsx(xa,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qt="DialogTitle",Fn=o.forwardRef((t,r)=>{const{__scopeDialog:n,...a}=t,s=ue(qt,n);return e.jsx(V.h2,{id:s.titleId,...a,ref:r})});Fn.displayName=qt;var $n="DialogDescription",da=o.forwardRef((t,r)=>{const{__scopeDialog:n,...a}=t,s=ue($n,n);return e.jsx(V.p,{id:s.descriptionId,...a,ref:r})});da.displayName=$n;var Bn="DialogClose",Vn=o.forwardRef((t,r)=>{const{__scopeDialog:n,...a}=t,s=ue(Bn,n);return e.jsx(V.button,{type:"button",...a,ref:r,onClick:K(t.onClick,()=>s.onOpenChange(!1))})});Vn.displayName=Bn;function Ft(t){return t?"open":"closed"}var Hn="DialogTitleWarning",[Si,Wn]=Rr(Hn,{contentName:je,titleName:qt,docsSlug:"dialog"}),ua=({titleId:t})=>{const r=Wn(Hn),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return o.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pa="DialogDescriptionWarning",xa=({contentRef:t,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wn(pa).contentName}}.`;return o.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,t,r]),null},Un=Rn,Gn=_n,Kn=On,Qn=Ln,ma=Fn,Yn=Vn;function fa({...t}){return e.jsx(Un,{"data-slot":"dialog",...t})}function ha({...t}){return e.jsx(Gn,{"data-slot":"dialog-portal",...t})}function ga({...t}){return e.jsx(Yn,{"data-slot":"dialog-close",...t})}function ba({className:t,...r}){return e.jsx(Kn,{"data-slot":"dialog-overlay",className:q("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function va({className:t,children:r,showCloseButton:n=!0,...a}){return e.jsxs(ha,{"data-slot":"dialog-portal",children:[e.jsx(ba,{}),e.jsxs(Qn,{"data-slot":"dialog-content",className:q("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...a,children:[r,n&&e.jsxs(Yn,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Ge,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function wa({className:t,...r}){return e.jsx("div",{"data-slot":"dialog-footer",className:q("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function ka({className:t,...r}){return e.jsx(ma,{"data-slot":"dialog-title",className:q("text-lg leading-none font-semibold",t),...r})}function Xt(t,[r,n]){return Math.min(n,Math.max(r,t))}function ya(t){const r=ja(t),n=o.forwardRef((a,s)=>{const{children:i,...d}=a,l=o.Children.toArray(i),c=l.find(Na);if(c){const u=c.props.children,p=l.map(m=>m===c?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:m);return e.jsx(r,{...d,ref:s,children:o.isValidElement(u)?o.cloneElement(u,void 0,p):null})}return e.jsx(r,{...d,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function ja(t){const r=o.forwardRef((n,a)=>{const{children:s,...i}=n;if(o.isValidElement(s)){const d=za(s),l=Ca(i,s.props);return s.type!==o.Fragment&&(l.ref=a?ye(a,d):d),o.cloneElement(s,l)}return o.Children.count(s)>1?o.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Sa=Symbol("radix.slottable");function Na(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Sa}function Ca(t,r){const n={...r};for(const a in r){const s=t[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function za(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ta=[" ","Enter","ArrowUp","ArrowDown"],Pa=[" ","Enter"],Se="Select",[Ye,Ze,Ma]=Ar(Se),[Ae]=cn(Se,[Ma,Nn]),Xe=Nn(),[Ia,ve]=Ae(Se),[Ea,Ra]=Ae(Se),Zn=t=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:s,onOpenChange:i,value:d,defaultValue:l,onValueChange:c,dir:u,name:p,autoComplete:m,disabled:f,required:j,form:k}=t,h=Xe(r),[x,T]=o.useState(null),[C,R]=o.useState(null),[$,P]=o.useState(!1),M=cs(u),[I,Q]=ht({prop:a,defaultProp:s??!1,onChange:i,caller:Se}),[W,Y]=ht({prop:d,defaultProp:l,onChange:c,caller:Se}),G=o.useRef(null),B=x?k||!!x.closest("form"):!0,[Z,O]=o.useState(new Set),H=Array.from(Z).map(U=>U.props.value).join(";");return e.jsx(ps,{...h,children:e.jsxs(Ia,{required:j,scope:r,trigger:x,onTriggerChange:T,valueNode:C,onValueNodeChange:R,valueNodeHasChildren:$,onValueNodeHasChildrenChange:P,contentId:ie(),value:W,onValueChange:Y,open:I,onOpenChange:Q,dir:M,triggerPointerDownPosRef:G,disabled:f,children:[e.jsx(Ye.Provider,{scope:r,children:e.jsx(Ea,{scope:t.__scopeSelect,onNativeOptionAdd:o.useCallback(U=>{O(X=>new Set(X).add(U))},[]),onNativeOptionRemove:o.useCallback(U=>{O(X=>{const te=new Set(X);return te.delete(U),te})},[]),children:n})}),B?e.jsxs(vr,{"aria-hidden":!0,required:j,tabIndex:-1,name:p,autoComplete:m,value:W,onChange:U=>Y(U.target.value),disabled:f,form:k,children:[W===void 0?e.jsx("option",{value:""}):null,Array.from(Z)]},H):null]})})};Zn.displayName=Se;var Xn="SelectTrigger",Jn=o.forwardRef((t,r)=>{const{__scopeSelect:n,disabled:a=!1,...s}=t,i=Xe(n),d=ve(Xn,n),l=d.disabled||a,c=oe(r,d.onTriggerChange),u=Ze(n),p=o.useRef("touch"),[m,f,j]=kr(h=>{const x=u().filter(R=>!R.disabled),T=x.find(R=>R.value===d.value),C=yr(x,h,T);C!==void 0&&d.onValueChange(C.value)}),k=h=>{l||(d.onOpenChange(!0),j()),h&&(d.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return e.jsx(xs,{asChild:!0,...i,children:e.jsx(V.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":wr(d.value)?"":void 0,...s,ref:c,onClick:K(s.onClick,h=>{h.currentTarget.focus(),p.current!=="mouse"&&k(h)}),onPointerDown:K(s.onPointerDown,h=>{p.current=h.pointerType;const x=h.target;x.hasPointerCapture(h.pointerId)&&x.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(k(h),h.preventDefault())}),onKeyDown:K(s.onKeyDown,h=>{const x=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&f(h.key),!(x&&h.key===" ")&&Ta.includes(h.key)&&(k(),h.preventDefault())})})})});Jn.displayName=Xn;var er="SelectValue",tr=o.forwardRef((t,r)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:d="",...l}=t,c=ve(er,n),{onValueNodeHasChildrenChange:u}=c,p=i!==void 0,m=oe(r,c.onValueNodeChange);return ge(()=>{u(p)},[u,p]),e.jsx(V.span,{...l,ref:m,style:{pointerEvents:"none"},children:wr(c.value)?e.jsx(e.Fragment,{children:d}):i})});tr.displayName=er;var Aa="SelectIcon",nr=o.forwardRef((t,r)=>{const{__scopeSelect:n,children:a,...s}=t;return e.jsx(V.span,{"aria-hidden":!0,...s,ref:r,children:a||"▼"})});nr.displayName=Aa;var Da="SelectPortal",rr=t=>e.jsx(dn,{asChild:!0,...t});rr.displayName=Da;var Ne="SelectContent",sr=o.forwardRef((t,r)=>{const n=ve(Ne,t.__scopeSelect),[a,s]=o.useState();if(ge(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?pn.createPortal(e.jsx(ar,{scope:t.__scopeSelect,children:e.jsx(Ye.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(or,{...t,ref:r})});sr.displayName=Ne;var ce=10,[ar,we]=Ae(Ne),_a="SelectContentImpl",Oa=ya("SelectContent.RemoveScroll"),or=o.forwardRef((t,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:d,side:l,sideOffset:c,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:f,collisionPadding:j,sticky:k,hideWhenDetached:h,avoidCollisions:x,...T}=t,C=ve(Ne,n),[R,$]=o.useState(null),[P,M]=o.useState(null),I=oe(r,w=>$(w)),[Q,W]=o.useState(null),[Y,G]=o.useState(null),B=Ze(n),[Z,O]=o.useState(!1),H=o.useRef(!1);o.useEffect(()=>{if(R)return kn(R)},[R]),jn();const U=o.useCallback(w=>{const[_,...b]=B().map(E=>E.ref.current),[y]=b.slice(-1),v=document.activeElement;for(const E of w)if(E===v||(E?.scrollIntoView({block:"nearest"}),E===_&&P&&(P.scrollTop=0),E===y&&P&&(P.scrollTop=P.scrollHeight),E?.focus(),document.activeElement!==v))return},[B,P]),X=o.useCallback(()=>U([Q,R]),[U,Q,R]);o.useEffect(()=>{Z&&X()},[Z,X]);const{onOpenChange:te,triggerPointerDownPosRef:ne}=C;o.useEffect(()=>{if(R){let w={x:0,y:0};const _=y=>{w={x:Math.abs(Math.round(y.pageX)-(ne.current?.x??0)),y:Math.abs(Math.round(y.pageY)-(ne.current?.y??0))}},b=y=>{w.x<=10&&w.y<=10?y.preventDefault():R.contains(y.target)||te(!1),document.removeEventListener("pointermove",_),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",_),document.addEventListener("pointerup",b,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",b,{capture:!0})}}},[R,te,ne]),o.useEffect(()=>{const w=()=>te(!1);return window.addEventListener("blur",w),window.addEventListener("resize",w),()=>{window.removeEventListener("blur",w),window.removeEventListener("resize",w)}},[te]);const[le,L]=kr(w=>{const _=B().filter(v=>!v.disabled),b=_.find(v=>v.ref.current===document.activeElement),y=yr(_,w,b);y&&setTimeout(()=>y.ref.current.focus())}),g=o.useCallback((w,_,b)=>{const y=!H.current&&!b;(C.value!==void 0&&C.value===_||y)&&(W(w),y&&(H.current=!0))},[C.value]),z=o.useCallback(()=>R?.focus(),[R]),N=o.useCallback((w,_,b)=>{const y=!H.current&&!b;(C.value!==void 0&&C.value===_||y)&&G(w)},[C.value]),S=a==="popper"?St:ir,D=S===St?{side:l,sideOffset:c,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:f,collisionPadding:j,sticky:k,hideWhenDetached:h,avoidCollisions:x}:{};return e.jsx(ar,{scope:n,content:R,viewport:P,onViewportChange:M,itemRefCallback:g,selectedItem:Q,onItemLeave:z,itemTextRefCallback:N,focusSelectedItem:X,selectedItemText:Y,position:a,isPositioned:Z,searchRef:le,children:e.jsx(yn,{as:Oa,allowPinchZoom:!0,children:e.jsx(Sn,{asChild:!0,trapped:C.open,onMountAutoFocus:w=>{w.preventDefault()},onUnmountAutoFocus:K(s,w=>{C.trigger?.focus({preventScroll:!0}),w.preventDefault()}),children:e.jsx(un,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:w=>w.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(S,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:w=>w.preventDefault(),...T,...D,onPlaced:()=>O(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:K(T.onKeyDown,w=>{const _=w.ctrlKey||w.altKey||w.metaKey;if(w.key==="Tab"&&w.preventDefault(),!_&&w.key.length===1&&L(w.key),["ArrowUp","ArrowDown","Home","End"].includes(w.key)){let y=B().filter(v=>!v.disabled).map(v=>v.ref.current);if(["ArrowUp","End"].includes(w.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(w.key)){const v=w.target,E=y.indexOf(v);y=y.slice(E+1)}setTimeout(()=>U(y)),w.preventDefault()}})})})})})})});or.displayName=_a;var La="SelectItemAlignedPosition",ir=o.forwardRef((t,r)=>{const{__scopeSelect:n,onPlaced:a,...s}=t,i=ve(Ne,n),d=we(Ne,n),[l,c]=o.useState(null),[u,p]=o.useState(null),m=oe(r,I=>p(I)),f=Ze(n),j=o.useRef(!1),k=o.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:T,focusSelectedItem:C}=d,R=o.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&h&&x&&T){const I=i.trigger.getBoundingClientRect(),Q=u.getBoundingClientRect(),W=i.valueNode.getBoundingClientRect(),Y=T.getBoundingClientRect();if(i.dir!=="rtl"){const v=Y.left-Q.left,E=W.left-v,A=I.left-E,re=I.width+A,ae=Math.max(re,Q.width),J=window.innerWidth-ce,se=Xt(E,[ce,Math.max(ce,J-ae)]);l.style.minWidth=re+"px",l.style.left=se+"px"}else{const v=Q.right-Y.right,E=window.innerWidth-W.right-v,A=window.innerWidth-I.right-E,re=I.width+A,ae=Math.max(re,Q.width),J=window.innerWidth-ce,se=Xt(E,[ce,Math.max(ce,J-ae)]);l.style.minWidth=re+"px",l.style.right=se+"px"}const G=f(),B=window.innerHeight-ce*2,Z=h.scrollHeight,O=window.getComputedStyle(u),H=parseInt(O.borderTopWidth,10),U=parseInt(O.paddingTop,10),X=parseInt(O.borderBottomWidth,10),te=parseInt(O.paddingBottom,10),ne=H+U+Z+te+X,le=Math.min(x.offsetHeight*5,ne),L=window.getComputedStyle(h),g=parseInt(L.paddingTop,10),z=parseInt(L.paddingBottom,10),N=I.top+I.height/2-ce,S=B-N,D=x.offsetHeight/2,w=x.offsetTop+D,_=H+U+w,b=ne-_;if(_<=N){const v=G.length>0&&x===G[G.length-1].ref.current;l.style.bottom="0px";const E=u.clientHeight-h.offsetTop-h.offsetHeight,A=Math.max(S,D+(v?z:0)+E+X),re=_+A;l.style.height=re+"px"}else{const v=G.length>0&&x===G[0].ref.current;l.style.top="0px";const A=Math.max(N,H+h.offsetTop+(v?g:0)+D)+b;l.style.height=A+"px",h.scrollTop=_-N+h.offsetTop}l.style.margin=`${ce}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=B+"px",a?.(),requestAnimationFrame(()=>j.current=!0)}},[f,i.trigger,i.valueNode,l,u,h,x,T,i.dir,a]);ge(()=>R(),[R]);const[$,P]=o.useState();ge(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const M=o.useCallback(I=>{I&&k.current===!0&&(R(),C?.(),k.current=!1)},[R,C]);return e.jsx(Fa,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:j,onScrollButtonChange:M,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:e.jsx(V.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ir.displayName=La;var qa="SelectPopperPosition",St=o.forwardRef((t,r)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=ce,...i}=t,d=Xe(n);return e.jsx(ms,{...d,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});St.displayName=qa;var[Fa,$t]=Ae(Ne,{}),Nt="SelectViewport",lr=o.forwardRef((t,r)=>{const{__scopeSelect:n,nonce:a,...s}=t,i=we(Nt,n),d=$t(Nt,n),l=oe(r,i.onViewportChange),c=o.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Ye.Slot,{scope:n,children:e.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:K(s.onScroll,u=>{const p=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=d;if(f?.current&&m){const j=Math.abs(c.current-p.scrollTop);if(j>0){const k=window.innerHeight-ce*2,h=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),T=Math.max(h,x);if(T<k){const C=T+j,R=Math.min(k,C),$=C-R;m.style.height=R+"px",m.style.bottom==="0px"&&(p.scrollTop=$>0?$:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});lr.displayName=Nt;var cr="SelectGroup",[$a,Ba]=Ae(cr),Va=o.forwardRef((t,r)=>{const{__scopeSelect:n,...a}=t,s=ie();return e.jsx($a,{scope:n,id:s,children:e.jsx(V.div,{role:"group","aria-labelledby":s,...a,ref:r})})});Va.displayName=cr;var dr="SelectLabel",Ha=o.forwardRef((t,r)=>{const{__scopeSelect:n,...a}=t,s=Ba(dr,n);return e.jsx(V.div,{id:s.id,...a,ref:r})});Ha.displayName=dr;var Ue="SelectItem",[Wa,ur]=Ae(Ue),pr=o.forwardRef((t,r)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...d}=t,l=ve(Ue,n),c=we(Ue,n),u=l.value===a,[p,m]=o.useState(i??""),[f,j]=o.useState(!1),k=oe(r,C=>c.itemRefCallback?.(C,a,s)),h=ie(),x=o.useRef("touch"),T=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Wa,{scope:n,value:a,disabled:s,textId:h,isSelected:u,onItemTextChange:o.useCallback(C=>{m(R=>R||(C?.textContent??"").trim())},[]),children:e.jsx(Ye.ItemSlot,{scope:n,value:a,disabled:s,textValue:p,children:e.jsx(V.div,{role:"option","aria-labelledby":h,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...d,ref:k,onFocus:K(d.onFocus,()=>j(!0)),onBlur:K(d.onBlur,()=>j(!1)),onClick:K(d.onClick,()=>{x.current!=="mouse"&&T()}),onPointerUp:K(d.onPointerUp,()=>{x.current==="mouse"&&T()}),onPointerDown:K(d.onPointerDown,C=>{x.current=C.pointerType}),onPointerMove:K(d.onPointerMove,C=>{x.current=C.pointerType,s?c.onItemLeave?.():x.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(d.onPointerLeave,C=>{C.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:K(d.onKeyDown,C=>{c.searchRef?.current!==""&&C.key===" "||(Pa.includes(C.key)&&T(),C.key===" "&&C.preventDefault())})})})})});pr.displayName=Ue;var Le="SelectItemText",xr=o.forwardRef((t,r)=>{const{__scopeSelect:n,className:a,style:s,...i}=t,d=ve(Le,n),l=we(Le,n),c=ur(Le,n),u=Ra(Le,n),[p,m]=o.useState(null),f=oe(r,T=>m(T),c.onItemTextChange,T=>l.itemTextRefCallback?.(T,c.value,c.disabled)),j=p?.textContent,k=o.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:j},c.value),[c.disabled,c.value,j]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=u;return ge(()=>(h(k),()=>x(k)),[h,x,k]),e.jsxs(e.Fragment,{children:[e.jsx(V.span,{id:c.textId,...i,ref:f}),c.isSelected&&d.valueNode&&!d.valueNodeHasChildren?pn.createPortal(i.children,d.valueNode):null]})});xr.displayName=Le;var mr="SelectItemIndicator",fr=o.forwardRef((t,r)=>{const{__scopeSelect:n,...a}=t;return ur(mr,n).isSelected?e.jsx(V.span,{"aria-hidden":!0,...a,ref:r}):null});fr.displayName=mr;var Ct="SelectScrollUpButton",hr=o.forwardRef((t,r)=>{const n=we(Ct,t.__scopeSelect),a=$t(Ct,t.__scopeSelect),[s,i]=o.useState(!1),d=oe(r,a.onScrollButtonChange);return ge(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?e.jsx(br,{...t,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hr.displayName=Ct;var zt="SelectScrollDownButton",gr=o.forwardRef((t,r)=>{const n=we(zt,t.__scopeSelect),a=$t(zt,t.__scopeSelect),[s,i]=o.useState(!1),d=oe(r,a.onScrollButtonChange);return ge(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<u;i(p)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?e.jsx(br,{...t,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});gr.displayName=zt;var br=o.forwardRef((t,r)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=t,i=we("SelectScrollButton",n),d=o.useRef(null),l=Ze(n),c=o.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return o.useEffect(()=>()=>c(),[c]),ge(()=>{l().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(V.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:K(s.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:K(s.onPointerMove,()=>{i.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:K(s.onPointerLeave,()=>{c()})})}),Ua="SelectSeparator",Ga=o.forwardRef((t,r)=>{const{__scopeSelect:n,...a}=t;return e.jsx(V.div,{"aria-hidden":!0,...a,ref:r})});Ga.displayName=Ua;var Tt="SelectArrow",Ka=o.forwardRef((t,r)=>{const{__scopeSelect:n,...a}=t,s=Xe(n),i=ve(Tt,n),d=we(Tt,n);return i.open&&d.position==="popper"?e.jsx(fs,{...s,...a,ref:r}):null});Ka.displayName=Tt;var Qa="SelectBubbleInput",vr=o.forwardRef(({__scopeSelect:t,value:r,...n},a)=>{const s=o.useRef(null),i=oe(a,s),d=Jr(r);return o.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(d!==r&&p){const m=new Event("change",{bubbles:!0});p.call(l,r),l.dispatchEvent(m)}},[d,r]),e.jsx(V.select,{...n,style:{...Dr,...n.style},ref:i,defaultValue:r})});vr.displayName=Qa;function wr(t){return t===""||t===void 0}function kr(t){const r=_r(t),n=o.useRef(""),a=o.useRef(0),s=o.useCallback(d=>{const l=n.current+d;r(l),(function c(u){n.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>c(""),1e3))})(l)},[r]),i=o.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function yr(t,r,n){const s=r.length>1&&Array.from(r).every(u=>u===r[0])?r[0]:r,i=n?t.indexOf(n):-1;let d=Ya(t,Math.max(i,0));s.length===1&&(d=d.filter(u=>u!==n));const c=d.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Ya(t,r){return t.map((n,a)=>t[(r+a)%t.length])}var Za=Zn,Xa=Jn,Ja=tr,eo=nr,to=rr,no=sr,ro=lr,so=pr,ao=xr,oo=fr,io=hr,lo=gr;function ot({...t}){return e.jsx(Za,{"data-slot":"select",...t})}function it({...t}){return e.jsx(Ja,{"data-slot":"select-value",...t})}function lt({className:t,size:r="default",children:n,...a}){return e.jsxs(Xa,{"data-slot":"select-trigger","data-size":r,className:q("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a,children:[n,e.jsx(eo,{asChild:!0,children:e.jsx(Dt,{className:"size-4 opacity-50"})})]})}function ct({className:t,children:r,position:n="item-aligned",align:a="center",...s}){return e.jsx(to,{children:e.jsxs(no,{"data-slot":"select-content",className:q("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,align:a,...s,children:[e.jsx(co,{}),e.jsx(ro,{className:q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),e.jsx(uo,{})]})})}function dt({className:t,children:r,...n}){return e.jsxs(so,{"data-slot":"select-item",className:q("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(oo,{children:e.jsx(ke,{className:"size-4"})})}),e.jsx(ao,{children:r})]})}function co({className:t,...r}){return e.jsx(io,{"data-slot":"select-scroll-up-button",className:q("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(wn,{className:"size-4"})})}function uo({className:t,...r}){return e.jsx(lo,{"data-slot":"select-scroll-down-button",className:q("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Dt,{className:"size-4"})})}var Jt=1,po=.9,xo=.8,mo=.17,ut=.1,pt=.999,fo=.9999,ho=.99,go=/[\\\/_+.#"@\[\(\{&]/,bo=/[\\\/_+.#"@\[\(\{&]/g,vo=/[\s-]/,jr=/[\s-]/g;function Pt(t,r,n,a,s,i,d){if(i===r.length)return s===t.length?Jt:ho;var l=`${s},${i}`;if(d[l]!==void 0)return d[l];for(var c=a.charAt(i),u=n.indexOf(c,s),p=0,m,f,j,k;u>=0;)m=Pt(t,r,n,a,u+1,i+1,d),m>p&&(u===s?m*=Jt:go.test(t.charAt(u-1))?(m*=xo,j=t.slice(s,u-1).match(bo),j&&s>0&&(m*=Math.pow(pt,j.length))):vo.test(t.charAt(u-1))?(m*=po,k=t.slice(s,u-1).match(jr),k&&s>0&&(m*=Math.pow(pt,k.length))):(m*=mo,s>0&&(m*=Math.pow(pt,u-s))),t.charAt(u)!==r.charAt(i)&&(m*=fo)),(m<ut&&n.charAt(u-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&n.charAt(u-1)!==a.charAt(i))&&(f=Pt(t,r,n,a,u+1,i+2,d),f*ut>m&&(m=f*ut)),m>p&&(p=m),u=n.indexOf(c,u+1);return d[l]=p,p}function en(t){return t.toLowerCase().replace(jr," ")}function wo(t,r,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Pt(t,r,en(t),en(r),0,0,{})}var Oe='[cmdk-group=""]',xt='[cmdk-group-items=""]',ko='[cmdk-group-heading=""]',Sr='[cmdk-item=""]',tn=`${Sr}:not([aria-disabled="true"])`,Mt="cmdk-item-select",Pe="data-value",yo=(t,r,n)=>wo(t,r,n),Nr=o.createContext(void 0),qe=()=>o.useContext(Nr),Cr=o.createContext(void 0),Bt=()=>o.useContext(Cr),zr=o.createContext(void 0),Tr=o.forwardRef((t,r)=>{let n=Me(()=>{var g,z;return{search:"",value:(z=(g=t.value)!=null?g:t.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Me(()=>new Set),s=Me(()=>new Map),i=Me(()=>new Map),d=Me(()=>new Set),l=Pr(t),{label:c,children:u,value:p,onValueChange:m,filter:f,shouldFilter:j,loop:k,disablePointerSelection:h=!1,vimBindings:x=!0,...T}=t,C=ie(),R=ie(),$=ie(),P=o.useRef(null),M=Ro();Ce(()=>{if(p!==void 0){let g=p.trim();n.current.value=g,I.emit()}},[p]),Ce(()=>{M(6,Z)},[]);let I=o.useMemo(()=>({subscribe:g=>(d.current.add(g),()=>d.current.delete(g)),snapshot:()=>n.current,setState:(g,z,N)=>{var S,D,w,_;if(!Object.is(n.current[g],z)){if(n.current[g]=z,g==="search")B(),Y(),M(1,G);else if(g==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let b=document.getElementById($);b?b.focus():(S=document.getElementById(C))==null||S.focus()}if(M(7,()=>{var b;n.current.selectedItemId=(b=O())==null?void 0:b.id,I.emit()}),N||M(5,Z),((D=l.current)==null?void 0:D.value)!==void 0){let b=z??"";(_=(w=l.current).onValueChange)==null||_.call(w,b);return}}I.emit()}},emit:()=>{d.current.forEach(g=>g())}}),[]),Q=o.useMemo(()=>({value:(g,z,N)=>{var S;z!==((S=i.current.get(g))==null?void 0:S.value)&&(i.current.set(g,{value:z,keywords:N}),n.current.filtered.items.set(g,W(z,N)),M(2,()=>{Y(),I.emit()}))},item:(g,z)=>(a.current.add(g),z&&(s.current.has(z)?s.current.get(z).add(g):s.current.set(z,new Set([g]))),M(3,()=>{B(),Y(),n.current.value||G(),I.emit()}),()=>{i.current.delete(g),a.current.delete(g),n.current.filtered.items.delete(g);let N=O();M(4,()=>{B(),N?.getAttribute("id")===g&&G(),I.emit()})}),group:g=>(s.current.has(g)||s.current.set(g,new Set),()=>{i.current.delete(g),s.current.delete(g)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:C,inputId:$,labelId:R,listInnerRef:P}),[]);function W(g,z){var N,S;let D=(S=(N=l.current)==null?void 0:N.filter)!=null?S:yo;return g?D(g,n.current.search,z):0}function Y(){if(!n.current.search||l.current.shouldFilter===!1)return;let g=n.current.filtered.items,z=[];n.current.filtered.groups.forEach(S=>{let D=s.current.get(S),w=0;D.forEach(_=>{let b=g.get(_);w=Math.max(b,w)}),z.push([S,w])});let N=P.current;H().sort((S,D)=>{var w,_;let b=S.getAttribute("id"),y=D.getAttribute("id");return((w=g.get(y))!=null?w:0)-((_=g.get(b))!=null?_:0)}).forEach(S=>{let D=S.closest(xt);D?D.appendChild(S.parentElement===D?S:S.closest(`${xt} > *`)):N.appendChild(S.parentElement===N?S:S.closest(`${xt} > *`))}),z.sort((S,D)=>D[1]-S[1]).forEach(S=>{var D;let w=(D=P.current)==null?void 0:D.querySelector(`${Oe}[${Pe}="${encodeURIComponent(S[0])}"]`);w?.parentElement.appendChild(w)})}function G(){let g=H().find(N=>N.getAttribute("aria-disabled")!=="true"),z=g?.getAttribute(Pe);I.setState("value",z||void 0)}function B(){var g,z,N,S;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let D=0;for(let w of a.current){let _=(z=(g=i.current.get(w))==null?void 0:g.value)!=null?z:"",b=(S=(N=i.current.get(w))==null?void 0:N.keywords)!=null?S:[],y=W(_,b);n.current.filtered.items.set(w,y),y>0&&D++}for(let[w,_]of s.current)for(let b of _)if(n.current.filtered.items.get(b)>0){n.current.filtered.groups.add(w);break}n.current.filtered.count=D}function Z(){var g,z,N;let S=O();S&&(((g=S.parentElement)==null?void 0:g.firstChild)===S&&((N=(z=S.closest(Oe))==null?void 0:z.querySelector(ko))==null||N.scrollIntoView({block:"nearest"})),S.scrollIntoView({block:"nearest"}))}function O(){var g;return(g=P.current)==null?void 0:g.querySelector(`${Sr}[aria-selected="true"]`)}function H(){var g;return Array.from(((g=P.current)==null?void 0:g.querySelectorAll(tn))||[])}function U(g){let z=H()[g];z&&I.setState("value",z.getAttribute(Pe))}function X(g){var z;let N=O(),S=H(),D=S.findIndex(_=>_===N),w=S[D+g];(z=l.current)!=null&&z.loop&&(w=D+g<0?S[S.length-1]:D+g===S.length?S[0]:S[D+g]),w&&I.setState("value",w.getAttribute(Pe))}function te(g){let z=O(),N=z?.closest(Oe),S;for(;N&&!S;)N=g>0?Io(N,Oe):Eo(N,Oe),S=N?.querySelector(tn);S?I.setState("value",S.getAttribute(Pe)):X(g)}let ne=()=>U(H().length-1),le=g=>{g.preventDefault(),g.metaKey?ne():g.altKey?te(1):X(1)},L=g=>{g.preventDefault(),g.metaKey?U(0):g.altKey?te(-1):X(-1)};return o.createElement(V.div,{ref:r,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:g=>{var z;(z=T.onKeyDown)==null||z.call(T,g);let N=g.nativeEvent.isComposing||g.keyCode===229;if(!(g.defaultPrevented||N))switch(g.key){case"n":case"j":{x&&g.ctrlKey&&le(g);break}case"ArrowDown":{le(g);break}case"p":case"k":{x&&g.ctrlKey&&L(g);break}case"ArrowUp":{L(g);break}case"Home":{g.preventDefault(),U(0);break}case"End":{g.preventDefault(),ne();break}case"Enter":{g.preventDefault();let S=O();if(S){let D=new Event(Mt);S.dispatchEvent(D)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:Q.inputId,id:Q.labelId,style:Do},c),Je(t,g=>o.createElement(Cr.Provider,{value:I},o.createElement(Nr.Provider,{value:Q},g))))}),jo=o.forwardRef((t,r)=>{var n,a;let s=ie(),i=o.useRef(null),d=o.useContext(zr),l=qe(),c=Pr(t),u=(a=(n=c.current)==null?void 0:n.forceMount)!=null?a:d?.forceMount;Ce(()=>{if(!u)return l.item(s,d?.id)},[u]);let p=Mr(s,i,[t.value,t.children,i],t.keywords),m=Bt(),f=be(M=>M.value&&M.value===p.current),j=be(M=>u||l.filter()===!1?!0:M.search?M.filtered.items.get(s)>0:!0);o.useEffect(()=>{let M=i.current;if(!(!M||t.disabled))return M.addEventListener(Mt,k),()=>M.removeEventListener(Mt,k)},[j,t.onSelect,t.disabled]);function k(){var M,I;h(),(I=(M=c.current).onSelect)==null||I.call(M,p.current)}function h(){m.setState("value",p.current,!0)}if(!j)return null;let{disabled:x,value:T,onSelect:C,forceMount:R,keywords:$,...P}=t;return o.createElement(V.div,{ref:ye(i,r),...P,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!f,"data-disabled":!!x,"data-selected":!!f,onPointerMove:x||l.getDisablePointerSelection()?void 0:h,onClick:x?void 0:k},t.children)}),So=o.forwardRef((t,r)=>{let{heading:n,children:a,forceMount:s,...i}=t,d=ie(),l=o.useRef(null),c=o.useRef(null),u=ie(),p=qe(),m=be(j=>s||p.filter()===!1?!0:j.search?j.filtered.groups.has(d):!0);Ce(()=>p.group(d),[]),Mr(d,l,[t.value,t.heading,c]);let f=o.useMemo(()=>({id:d,forceMount:s}),[s]);return o.createElement(V.div,{ref:ye(l,r),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&o.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Je(t,j=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},o.createElement(zr.Provider,{value:f},j))))}),No=o.forwardRef((t,r)=>{let{alwaysRender:n,...a}=t,s=o.useRef(null),i=be(d=>!d.search);return!n&&!i?null:o.createElement(V.div,{ref:ye(s,r),...a,"cmdk-separator":"",role:"separator"})}),Co=o.forwardRef((t,r)=>{let{onValueChange:n,...a}=t,s=t.value!=null,i=Bt(),d=be(u=>u.search),l=be(u=>u.selectedItemId),c=qe();return o.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),o.createElement(V.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?t.value:d,onChange:u=>{s||i.setState("search",u.target.value),n?.(u.target.value)}})}),zo=o.forwardRef((t,r)=>{let{children:n,label:a="Suggestions",...s}=t,i=o.useRef(null),d=o.useRef(null),l=be(u=>u.selectedItemId),c=qe();return o.useEffect(()=>{if(d.current&&i.current){let u=d.current,p=i.current,m,f=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let j=u.offsetHeight;p.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return f.observe(u),()=>{cancelAnimationFrame(m),f.unobserve(u)}}},[]),o.createElement(V.div,{ref:ye(i,r),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":a,id:c.listId},Je(t,u=>o.createElement("div",{ref:ye(d,c.listInnerRef),"cmdk-list-sizer":""},u)))}),To=o.forwardRef((t,r)=>{let{open:n,onOpenChange:a,overlayClassName:s,contentClassName:i,container:d,...l}=t;return o.createElement(Un,{open:n,onOpenChange:a},o.createElement(Gn,{container:d},o.createElement(Kn,{"cmdk-overlay":"",className:s}),o.createElement(Qn,{"aria-label":t.label,"cmdk-dialog":"",className:i},o.createElement(Tr,{ref:r,...l}))))}),Po=o.forwardRef((t,r)=>be(n=>n.filtered.count===0)?o.createElement(V.div,{ref:r,...t,"cmdk-empty":"",role:"presentation"}):null),Mo=o.forwardRef((t,r)=>{let{progress:n,children:a,label:s="Loading...",...i}=t;return o.createElement(V.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Je(t,d=>o.createElement("div",{"aria-hidden":!0},d)))}),De=Object.assign(Tr,{List:zo,Item:jo,Input:Co,Group:So,Separator:No,Dialog:To,Empty:Po,Loading:Mo});function Io(t,r){let n=t.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function Eo(t,r){let n=t.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function Pr(t){let r=o.useRef(t);return Ce(()=>{r.current=t}),r}var Ce=typeof window>"u"?o.useEffect:o.useLayoutEffect;function Me(t){let r=o.useRef();return r.current===void 0&&(r.current=t()),r}function be(t){let r=Bt(),n=()=>t(r.snapshot());return o.useSyncExternalStore(r.subscribe,n,n)}function Mr(t,r,n,a=[]){let s=o.useRef(),i=qe();return Ce(()=>{var d;let l=(()=>{var u;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(u=p.current.textContent)==null?void 0:u.trim():s.current}})(),c=a.map(u=>u.trim());i.value(t,l,c),(d=r.current)==null||d.setAttribute(Pe,l),s.current=l}),s}var Ro=()=>{let[t,r]=o.useState(),n=Me(()=>new Map);return Ce(()=>{n.current.forEach(a=>a()),n.current=new Map},[t]),(a,s)=>{n.current.set(a,s),r({})}};function Ao(t){let r=t.type;return typeof r=="function"?r(t.props):"render"in r?r.render(t.props):t}function Je({asChild:t,children:r},n){return t&&o.isValidElement(r)?o.cloneElement(Ao(r),{ref:r.ref},n(r.props.children)):n(r)}var Do={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function _o({className:t,...r}){return e.jsx(De,{"data-slot":"command",className:q("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...r})}function Oo({className:t,...r}){return e.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[e.jsx(hn,{className:"size-4 shrink-0 opacity-50"}),e.jsx(De.Input,{"data-slot":"command-input",className:q("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...r})]})}function Lo({className:t,...r}){return e.jsx(De.List,{"data-slot":"command-list",className:q("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...r})}function qo({...t}){return e.jsx(De.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function Fo({className:t,...r}){return e.jsx(De.Group,{"data-slot":"command-group",className:q("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...r})}function $o({className:t,...r}){return e.jsx(De.Item,{"data-slot":"command-item",className:q("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}const nn=({icon:t,title:r})=>{const n=t;return e.jsxs("div",{className:"flex items-center gap-2.5 pb-2.5 mb-4 border-b border-zinc-100 dark:border-zinc-800/50",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 flex items-center justify-center text-zinc-500",children:e.jsx(n,{size:16})}),e.jsx("span",{className:"text-sm font-bold tracking-tight text-zinc-900 dark:text-zinc-100",children:r})]})},mt=({label:t,icon:r,children:n})=>{const a=r;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(jt,{className:"text-[10px] font-black uppercase tracking-[0.1em] text-zinc-400 flex items-center gap-2 ml-1",children:[a&&e.jsx(a,{size:12,className:"text-zinc-400"}),t]}),n]})};function Bo({isOpen:t,onClose:r,onSubmit:n,initialData:a,selectedDate:s,saving:i}){const{currentUser:d}=It(),[l,c]=o.useState({league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:"",channel:"",cdn:"AWS"}),[u,p]=o.useState({leagues:[],channels:[],cdnOptions:[]}),[m,f]=o.useState(!1);o.useEffect(()=>{const x=bn.subscribeConfigs(T=>p(T));return()=>x()},[]),o.useEffect(()=>{let x=!0;return t&&setTimeout(()=>{x&&c(a?{league:a.league||"",match:a.match||a.title||"",teamA:a.teamA||"",teamB:a.teamB||"",startTime:a.startTime||"",startDate:a.startDate||"",channel:a.channel||a.liveChannel||"",cdn:a.cdn||"AWS"}:{league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:s||new Date().toISOString().split("T")[0],channel:"",cdn:"AWS"})},0),()=>{x=!1}},[t,a,s]);const j=x=>{let T={...l,match:x};const R=[" vs "," VS "," Vs "," - "," v "].find($=>x.includes($));if(R){const $=x.split(R);$.length>=2&&(T.teamA=$[0].trim(),T.teamB=$.slice(1).join(R).trim())}c(T)},k=x=>{x.preventDefault();const C=(typeof d=="object"?d?.name:d)||"System",R={...l,...a?{updatedBy:C}:{createdBy:C}};n(R)},h=l.teamA&&l.teamB&&l.startDate&&l.startTime;return e.jsx(fa,{open:t,onOpenChange:r,children:e.jsx(va,{showCloseButton:!1,className:"max-w-[95vw] sm:max-w-[750px] p-0 gap-0 overflow-hidden bg-white dark:bg-[#09090b] border-zinc-200 dark:border-zinc-800 sm:rounded-[2.5rem] rounded-t-[2.5rem] shadow-2xl block animate-in slide-in-from-bottom-5 duration-300",children:e.jsxs("form",{id:"match-form",onSubmit:k,className:"flex flex-col h-full max-h-[95vh]",children:[e.jsxs("div",{className:"shrink-0 px-6 py-6 bg-zinc-50/50 dark:bg-black/20 border-b border-zinc-100 dark:border-zinc-900 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-zinc-900 dark:bg-white text-white dark:text-black flex items-center justify-center shadow-xl shadow-zinc-200 dark:shadow-none",children:a?e.jsx(Or,{size:24}):e.jsx(vt,{size:24})}),e.jsxs("div",{children:[e.jsxs(ka,{className:"text-xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[a?"Edit Match":"New Match Entry",a&&e.jsx(ds,{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-none px-2 py-0 text-[10px] uppercase font-bold",children:"Live Sync"})]}),e.jsx("p",{className:"text-xs font-medium text-zinc-500 mt-0.5",children:"Configure tournament and broadcast details"})]})]}),e.jsx(ga,{asChild:!0,children:e.jsx(_e,{variant:"ghost",size:"icon",className:"w-10 h-10 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:e.jsx(Ge,{size:20})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-3",children:[e.jsx("div",{className:"w-full sm:w-48 shrink-0",children:e.jsxs(ot,{value:l.league,onValueChange:x=>c({...l,league:x}),children:[e.jsx(lt,{className:"h-11 bg-white dark:bg-black border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm pl-4 text-xs font-bold",children:e.jsx(it,{placeholder:""})}),e.jsx(ct,{className:"rounded-xl border-zinc-200 dark:border-zinc-800 shadow-xl",children:u.leagues.map(x=>e.jsx(dt,{value:x,className:"text-xs transition-colors",children:x},x))})]})}),e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none transition-transform group-focus-within:scale-110",children:e.jsx(hs,{size:16,className:"text-amber-500 fill-amber-500/10"})}),e.jsx(rt,{placeholder:"",value:l.match,onChange:x=>j(x.target.value),className:"pl-11 h-11 bg-white dark:bg-black border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white focus:border-transparent text-xs font-medium transition-all"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 sm:p-8 space-y-8",children:[e.jsx("div",{className:"relative bg-white dark:bg-[#0a0a0b] rounded-[2rem] border border-zinc-200 dark:border-zinc-800 shadow-xl p-6 sm:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsxs("div",{className:"flex-1 w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(is,{size:14,className:"text-zinc-400"}),e.jsx(jt,{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Home Team"})]}),e.jsx(rt,{value:l.teamA,onChange:x=>c({...l,teamA:x.target.value}),placeholder:"",className:"h-12 text-center text-lg font-bold bg-zinc-50 dark:bg-zinc-900/50 border-none transition-all rounded-2xl focus:bg-white dark:focus:bg-black ring-1 ring-zinc-100 dark:ring-zinc-800 focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white"})]}),e.jsxs("div",{className:"relative shrink-0 flex items-center justify-center w-14 h-14",children:[e.jsx("div",{className:"absolute inset-0 bg-zinc-100 dark:bg-zinc-800 rounded-full animate-pulse opacity-50"}),e.jsx("div",{className:"relative w-12 h-12 rounded-full bg-white dark:bg-zinc-900 flex items-center justify-center border-2 border-zinc-100 dark:border-zinc-800 text-zinc-900 dark:text-white font-black text-xs shadow-inner italic",children:"VS"})]}),e.jsxs("div",{className:"flex-1 w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 px-1",children:[e.jsx(jt,{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400 text-right",children:"Away Team"}),e.jsx(Rs,{size:14,className:"text-zinc-400"})]}),e.jsx(rt,{value:l.teamB,onChange:x=>c({...l,teamB:x.target.value}),placeholder:"",className:"h-12 text-center text-lg font-bold bg-zinc-50 dark:bg-zinc-900/50 border-none transition-all rounded-2xl focus:bg-white dark:focus:bg-black ring-1 ring-zinc-100 dark:ring-zinc-800 focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(nn,{icon:Cn,title:"Broadcast Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(mt,{label:"Date",icon:Lr,children:e.jsxs(wt,{children:[e.jsx(kt,{asChild:!0,children:e.jsx(_e,{variant:"outline",className:q("w-full h-11 justify-start rounded-xl border-zinc-200 dark:border-zinc-800 px-4 text-xs font-bold",!l.startDate&&"text-muted-foreground"),children:l.startDate?Re(Qt(l.startDate),"dd MMM yyyy"):""})}),e.jsx(yt,{className:"w-auto p-0 rounded-2xl border-zinc-200 dark:border-zinc-800 shadow-2xl",align:"start",children:e.jsx(vn,{mode:"single",selected:l.startDate?Qt(l.startDate):void 0,onSelect:x=>x&&c({...l,startDate:Re(x,"yyyy-MM-dd")}),initialFocus:!0,className:"rounded-2xl"})})]})}),e.jsx(mt,{label:"Time (UTC+7)",icon:Rt,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ot,{value:l.startTime?.split(":")[0]||"19",onValueChange:x=>c({...l,startTime:`${x}:${l.startTime?.split(":")[1]||"00"}`}),children:[e.jsx(lt,{className:"h-11 rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold",children:e.jsx(it,{placeholder:""})}),e.jsx(ct,{className:"h-64 rounded-xl",children:Array.from({length:24},(x,T)=>T.toString().padStart(2,"0")).map(x=>e.jsx(dt,{value:x,className:"text-xs",children:x},x))})]}),e.jsx("span",{className:"text-zinc-300 font-bold",children:":"}),e.jsxs(ot,{value:l.startTime?.split(":")[1]||"00",onValueChange:x=>c({...l,startTime:`${l.startTime?.split(":")[0]||"00"}:${x}`}),children:[e.jsx(lt,{className:"h-11 rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold",children:e.jsx(it,{placeholder:""})}),e.jsx(ct,{className:"h-64 rounded-xl",children:["00","05","10","15","20","25","30","35","40","45","50","55"].map(x=>e.jsx(dt,{value:x,className:"text-xs",children:x},x))})]})]})})]}),e.jsx(mt,{label:"Source Channel",icon:Yt,children:e.jsxs(wt,{open:m,onOpenChange:f,children:[e.jsx(kt,{asChild:!0,children:e.jsxs(_e,{variant:"outline",role:"combobox",className:"w-full h-11 justify-between rounded-xl border-zinc-200 dark:border-zinc-800 pl-4 text-xs font-bold text-zinc-700 dark:text-zinc-300 transition-all hover:bg-zinc-50 dark:hover:bg-zinc-900",children:[l.channel?l.channel:"",e.jsx(Yt,{className:"ml-2 h-4 w-4 shrink-0 opacity-40"})]})}),e.jsx(yt,{className:"w-[300px] p-0 rounded-2xl border-zinc-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:e.jsxs(_o,{className:"bg-white dark:bg-zinc-950",children:[e.jsx(Oo,{placeholder:"",className:"h-11 text-xs"}),e.jsxs(Lo,{className:"max-h-[240px] custom-scrollbar",children:[e.jsx(qo,{className:"py-6 text-xs text-zinc-500 text-center uppercase tracking-widest font-black",children:"No results found"}),e.jsx(Fo,{children:u.channels.map(x=>e.jsxs($o,{value:x,className:"flex items-center gap-2 py-2.5 px-4 cursor-pointer",onSelect:T=>{c({...l,channel:T===l.channel?"":T}),f(!1)},children:[e.jsx("div",{className:q("w-4 h-4 rounded-full border-2 flex items-center justify-center transition-all",l.channel===x?"border-zinc-900 dark:border-white bg-zinc-900 dark:bg-white":"border-zinc-200 dark:border-zinc-800"),children:e.jsx(ke,{className:q("h-2.5 w-2.5",l.channel===x?"text-white dark:text-black":"opacity-0")})}),e.jsx("span",{className:"text-xs font-medium",children:x})]},x))})]})]})})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(nn,{icon:fn,title:"Cloud Platform"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.cdnOptions.map(x=>e.jsxs("button",{type:"button",onClick:()=>c({...l,cdn:x.id}),className:q("relative flex flex-col items-start gap-4 p-4 rounded-2xl border-2 transition-all group overflow-hidden",l.cdn===x.id?"border-zinc-900 dark:border-white bg-zinc-50 dark:bg-zinc-900":"border-zinc-100 dark:border-zinc-900 bg-white dark:bg-black/40 hover:border-zinc-200 dark:hover:border-zinc-800"),children:[l.cdn===x.id&&e.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 bg-zinc-900 dark:bg-white rounded-bl-xl flex items-center justify-center text-white dark:text-black",children:e.jsx(ke,{size:14,strokeWidth:3})}),e.jsx("div",{className:q("w-8 h-8 rounded-xl flex items-center justify-center transition-all",l.cdn===x.id?"bg-white dark:bg-zinc-800 shadow-sm":"bg-zinc-50 dark:bg-zinc-900"),children:e.jsx("div",{className:q("w-2 h-2 rounded-full",x.color||"bg-zinc-400")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:q("text-[10px] font-black uppercase tracking-widest",l.cdn===x.id?"text-zinc-900 dark:text-zinc-100":"text-zinc-400"),children:"CDN Node"}),e.jsx("p",{className:q("text-xs font-bold leading-none mt-1",l.cdn===x.id?"text-zinc-900 dark:text-zinc-100":"text-zinc-500"),children:x.label})]})]},x.id))})]})]})]}),e.jsxs(wa,{className:"shrink-0 p-6 sm:px-10 bg-white dark:bg-black border-t border-zinc-100 dark:border-zinc-800 flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:[e.jsx(_e,{type:"button",variant:"outline",onClick:r,disabled:i,className:"h-12 border-none bg-zinc-100 dark:bg-zinc-900 hover:bg-zinc-200 dark:hover:bg-zinc-800 text-zinc-600 dark:text-zinc-400 rounded-2xl font-bold transition-all px-8 order-2 sm:order-1",children:"Cancel"}),e.jsxs(_e,{type:"submit",disabled:i||!h,className:q("h-12 min-w-[180px] rounded-2xl font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 flex items-center justify-center gap-3 order-1 sm:order-2",a?"bg-emerald-500 hover:bg-emerald-600 text-white shadow-emerald-200 dark:shadow-none":"bg-zinc-900 dark:bg-white text-white dark:text-black hover:bg-black dark:hover:bg-zinc-100 shadow-zinc-200 dark:shadow-none"),children:[i?e.jsx(ln,{className:"h-5 w-5 animate-spin"}):a?e.jsx(ke,{size:20,strokeWidth:3}):e.jsx(vt,{size:20}),i?"Synchronizing...":a?"Save Changes":"Publish Entry"]})]})]})})})}const Vo=({className:t})=>{const[r,n]=o.useState(new Date);return o.useEffect(()=>{const a=setInterval(()=>n(new Date),1e3);return()=>clearInterval(a)},[]),e.jsxs("div",{className:q("flex items-center gap-2 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-sm font-mono text-zinc-700 dark:text-zinc-300 font-bold",t),children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),e.jsx("span",{className:"min-w-[64px] text-center",children:Re(r,"HH:mm:ss")})]})},Ho=o.memo(({match:t,onClick:r,onEdit:n,onDelete:a,canEdit:s})=>{const[i,d]=o.useState(!1),l=t.isLiveTime,c=t.isFinished,u=l?"bg-red-500":c?"bg-zinc-400":"bg-emerald-500",p=l?"bg-red-50 dark:bg-red-950/20":c?"bg-zinc-50 dark:bg-zinc-900/50":"bg-white dark:bg-zinc-900",m=c?"text-zinc-400":"text-zinc-900 dark:text-zinc-100";return e.jsxs("div",{onClick:r,className:`relative group rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.005] hover:border-zinc-300 dark:hover:border-zinc-700 ${p}`,children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${u}`}),e.jsx("div",{className:"p-4 pl-5",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center min-w-[3.5rem] pt-1",children:[e.jsx("span",{className:`text-xl font-black tracking-tight ${l?"text-red-600":c?"text-zinc-400":"text-zinc-900 dark:text-white"}`,children:t.startTime}),e.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${l?"bg-red-500 animate-pulse":c?"bg-zinc-400":"bg-emerald-500"}`}),e.jsx("span",{className:"text-[9px] font-bold uppercase text-zinc-400",children:l?"LIVE":c?"END":"SOON"})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm md:text-base font-bold truncate pr-2 ${m}`,children:t.teamA}),(l||c)&&e.jsx("span",{className:"text-lg font-black font-mono w-8 text-center bg-zinc-100 dark:bg-zinc-800 rounded",children:t.scoreA})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm md:text-base font-bold truncate pr-2 ${m}`,children:t.teamB}),(l||c)&&e.jsx("span",{className:"text-lg font-black font-mono w-8 text-center bg-zinc-100 dark:bg-zinc-800 rounded",children:t.scoreB})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("button",{onClick:f=>{f.stopPropagation(),d(!i)},className:"md:hidden p-1 text-zinc-400",children:i?e.jsx(wn,{size:20}):e.jsx(Dt,{size:20})}),e.jsx("div",{className:"hidden md:flex items-center gap-1",children:s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:f=>{f.stopPropagation(),n(t)},className:"p-1.5 text-zinc-400 hover:text-blue-500 rounded-md hover:bg-blue-50 transition-colors",children:e.jsx(us,{size:14})}),e.jsx("button",{onClick:f=>{f.stopPropagation(),a(t.id)},className:"p-1.5 text-zinc-400 hover:text-red-500 rounded-md hover:bg-red-50 transition-colors",children:e.jsx(Ke,{size:14})})]})})]})]})}),e.jsxs("div",{className:`bg-zinc-50/80 dark:bg-zinc-900/50 border-t border-zinc-100 dark:border-zinc-800 px-4 py-2 text-xs text-zinc-500 flex flex-wrap items-center gap-x-4 gap-y-2 ${i?"block":"hidden md:flex"}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[40%]",children:[e.jsx(gs,{size:12,className:"shrink-0"}),e.jsx("span",{className:"truncate font-medium",children:t.league})]}),e.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[40%]",children:[e.jsx(Cn,{size:12,className:"shrink-0"}),e.jsx("span",{className:"truncate font-medium",children:t.channel||"No Channel"})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-3 shrink-0",children:[e.jsx(rn,{active:t.hasStartStat,label:"S",title:"Start Stats"}),e.jsx(rn,{active:t.hasEndStat,label:"E",title:"End Stats"})]}),i&&s&&e.jsxs("div",{className:"w-full flex justify-end gap-3 pt-2 mt-2 border-t border-zinc-200 dark:border-zinc-700 md:hidden",children:[e.jsx("button",{onClick:f=>{f.stopPropagation(),n(t)},className:"text-[10px] font-bold uppercase text-blue-600 bg-blue-50 px-3 py-1.5 rounded-md",children:"Edit"}),e.jsx("button",{onClick:f=>{f.stopPropagation(),a(t.id)},className:"text-[10px] font-bold uppercase text-red-600 bg-red-50 px-3 py-1.5 rounded-md",children:"Delete"})]})]})]})}),rn=({active:t,label:r,title:n})=>e.jsxs("div",{className:"flex items-center gap-1",title:n,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-zinc-300 dark:bg-zinc-700"}`}),e.jsx("span",{className:"text-[9px] font-black text-zinc-400",children:r})]}),Ve=o.memo(({label:t,icon:r,count:n,active:a,onClick:s,isLive:i})=>{const d=r;return e.jsxs("button",{onClick:s,className:q("flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all whitespace-nowrap border select-none",a?i?"bg-red-500 text-white border-red-500 shadow-sm":"bg-zinc-900 dark:bg-white text-white dark:text-black border-zinc-900 dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:[e.jsx(d,{size:14,className:i&&a?"animate-pulse":""}),e.jsx("span",{className:"hidden sm:inline",children:t}),e.jsx("span",{className:q("px-1.5 py-0.5 rounded-md text-[9px] min-w-[18px] text-center",a?"bg-white/20":"bg-zinc-100 dark:bg-zinc-800"),children:n})]})});function Ni(){const{currentUser:t}=It(),r=qr(t,[Vt.LEAD,Vt.ENGINEER]),{selectedDate:n,setSelectedDate:a,matches:s,allMatches:i,loading:d,stats:l,searchQuery:c,setSearchQuery:u,filterType:p,setFilterType:m,selectedMatch:f,setSelectedMatch:j,isManualModalOpen:k,setIsManualModalOpen:h,editingMatch:x,setEditingMatch:T,saving:C,deleteConfirm:R,setDeleteConfirm:$,isDataPreviewOpen:P,setIsDataPreviewOpen:M,handlePrevDay:I,handleNextDay:Q,handleGoToday:W,handleSaveMatch:Y,handleDeleteMatch:G}=Ls();return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-black overflow-hidden relative",children:[e.jsx("header",{className:"shrink-0 sticky top-0 z-10 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-xl border-b border-zinc-200 dark:border-zinc-800 px-4 py-3 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Vo,{className:"text-xs md:text-sm"}),e.jsx("div",{className:"hidden sm:block h-8 w-px bg-zinc-200 dark:bg-zinc-800"}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("h1",{className:"text-lg font-black tracking-tight dark:text-white uppercase leading-none",children:"Match Stat"})})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-zinc-100 dark:bg-zinc-900 p-1 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[e.jsx("button",{onClick:I,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-all",children:e.jsx(bs,{size:16})}),e.jsxs(wt,{children:[e.jsx(kt,{asChild:!0,children:e.jsx("button",{className:"px-3 py-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-xs font-black uppercase tracking-wider dark:text-zinc-300 transition-all",children:Wt(n)?"Today":Re(n,"dd MMM yyyy")})}),e.jsx(yt,{className:"w-auto p-0 border-zinc-200 dark:border-zinc-800",align:"center",children:e.jsx(vn,{mode:"single",selected:n,onSelect:B=>B&&a(B),initialFocus:!0,className:"bg-white dark:bg-zinc-950"})})]}),e.jsx("button",{onClick:Q,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-all",children:e.jsx(vs,{size:16})}),!Wt(n)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-4 bg-zinc-300 dark:bg-zinc-700 mx-1"}),e.jsx("button",{onClick:W,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 text-blue-500 hover:text-blue-600 rounded-lg transition-all",title:"Go to Today",children:e.jsx(Ms,{size:16})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>M(!0),disabled:d||i?.length===0,className:"h-9 px-4 items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-emerald-500/20 active:scale-95 flex disabled:opacity-50 disabled:pointer-events-none",children:[e.jsx(Br,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Data Preview"})]}),r&&e.jsxs("button",{onClick:()=>{T(null),h(!0)},className:"h-9 px-4 items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-indigo-500/20 active:scale-95 flex",children:[e.jsx(At,{size:16})," ",e.jsx("span",{className:"hidden md:inline",children:"Manual Add"})]})]})]})}),e.jsx("div",{className:"shrink-0 bg-white dark:bg-zinc-950 border-b border-zinc-100 dark:border-zinc-900 px-4 py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 overflow-x-auto no-scrollbar",children:[e.jsx(Ve,{label:"All Matches",icon:rs,count:l.total,active:p==="ALL",onClick:()=>m("ALL")}),e.jsx(Ve,{label:"Live Now",icon:Vr,count:l.live,active:p==="LIVE",onClick:()=>m("LIVE"),isLive:!0}),e.jsx(Ve,{label:"Upcoming",icon:js,count:l.pending,active:p==="UPCOMING",onClick:()=>m("UPCOMING")}),e.jsx(Ve,{label:"Finished",icon:bt,count:l.finished,active:p==="FINISHED",onClick:()=>m("FINISHED")}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-indigo-500 transition-colors",size:14}),e.jsx("input",{type:"text",placeholder:"Search...",value:c,onChange:B=>u(B.target.value),className:"h-9 pl-9 pr-4 bg-zinc-100 dark:bg-zinc-900 border-transparent rounded-xl text-xs font-medium outline-none focus:bg-white dark:focus:bg-zinc-950 focus:ring-2 focus:ring-indigo-500/20 transition-all w-32 md:w-48 placeholder:text-zinc-400"})]})})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto h-full",children:d?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(B=>e.jsx("div",{className:"h-28 bg-zinc-100 dark:bg-zinc-900 rounded-xl animate-pulse"},B))}):s.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] gap-4 opacity-60",children:[e.jsx(ls,{size:48,className:"text-zinc-300",strokeWidth:1}),e.jsx("p",{className:"text-sm font-medium text-zinc-500",children:"No matches found"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-20",children:s.map((B,Z)=>e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-backwards",style:{animationDelay:`${Z*50}ms`},children:e.jsx(Ho,{match:B,onClick:()=>j(B),onEdit:O=>{T(O),h(!0)},onDelete:O=>$({isOpen:!0,id:O}),canEdit:r})},B.id))})})}),e.jsx(Us,{isOpen:!!f,onClose:()=>j(null),matchData:f,canEdit:r}),e.jsx(Bo,{isOpen:k,onClose:()=>h(!1),onSubmit:Y,initialData:x,saving:C}),e.jsx(ss,{data:i||[],isOpen:P,onClose:()=>M(!1)}),e.jsx(on,{isOpen:R.isOpen,onClose:()=>$({isOpen:!1,id:null}),title:"Delete Match",message:"Are you sure you want to remove this match? This cannot be undone.",onConfirm:G,isDanger:!0})]})}export{Ni as default};
