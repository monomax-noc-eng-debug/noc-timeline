import{u as y,a as w,b as S,r as l,j as e,B as c,L as h,c as C,d as p}from"./index-Q34mk0jU.js";import{I as f}from"./input-BwwmxUUi.js";import{S as m}from"./shield-check-DtcuAYQr.js";import{C as k,U as L}from"./user-plus-DogJnwvF.js";import{M as z}from"./mail-DkWz_QbG.js";import{E}from"./eye-off-CI_8UmWm.js";import{E as F}from"./eye-BQDK3RpT.js";function M(){const n=y(),{toast:i}=w(),{setCurrentUser:u}=S(),[r,x]=l.useState({email:"",password:""}),[t,g]=l.useState(!1),[o,b]=l.useState(!1),[d,j]=l.useState(!1),v=async s=>{if(s.preventDefault(),!r.email||!r.password){i({variant:"destructive",title:"Missing Credentials",description:"Please enter both email and password"});return}try{g(!0);const a=await p.login(r.email,r.password);u({uid:a.uid,name:a.name,email:a.email,role:a.role}),i({title:"Login Successful",description:`Welcome back, ${a.name}!`,className:"bg-emerald-600 text-white border-none"}),n("/")}catch(a){i({variant:"destructive",title:"Login Failed",description:a.message})}finally{g(!1)}},N=async()=>{try{b(!0);const s=await p.loginWithGoogle();u({uid:s.uid,name:s.name,email:s.email,role:s.role}),i({title:"Login Successful",description:`Welcome, ${s.name}!`,className:"bg-emerald-600 text-white border-none"}),n("/")}catch(s){s.message!=="Sign-in cancelled"&&i({variant:"destructive",title:"Login Failed",description:s.message})}finally{b(!1)}};return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background p-4 font-sans",children:e.jsxs("div",{className:"w-full max-w-md bg-card rounded-3xl shadow-[0_20px_60px_rgba(0,0,0,0.12)] border border-border overflow-hidden",children:[e.jsxs("div",{className:"p-8 pb-6 bg-gradient-to-br from-primary to-accent text-primary-foreground text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-white/10 backdrop-blur-sm mb-4 shadow-lg",children:e.jsx(m,{size:32,strokeWidth:2.5})}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"NOC Operations"}),e.jsx("p",{className:"text-primary-foreground/80 text-sm mt-2 font-medium",children:"Sign in to access the operations dashboard"})]}),e.jsxs("div",{className:"p-8",children:[e.jsx(c,{type:"button",onClick:N,disabled:o||t,variant:"outline",className:"w-full h-12 border-2 border-border hover:border-primary hover:bg-primary/5 font-bold rounded-xl transition-all mb-6 group",children:o?e.jsxs(e.Fragment,{children:[e.jsx(h,{size:20,className:"animate-spin mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{size:20,className:"mr-2 text-primary group-hover:scale-110 transition-transform"}),"Sign in with Google"]})}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-border"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-3 text-muted-foreground font-bold tracking-wider",children:"Or use email"})})]}),e.jsxs("form",{onSubmit:v,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(f,{type:"email",autoComplete:"email",value:r.email,onChange:s=>x({...r,email:s.target.value}),placeholder:"your@email.com",className:"pl-10 bg-muted/30 border-border h-12 focus:border-primary",disabled:t||o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-foreground mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),e.jsx(f,{type:d?"text":"password",autoComplete:"current-password",value:r.password,onChange:s=>x({...r,password:s.target.value}),placeholder:"Enter your password",className:"pl-10 pr-10 bg-muted/30 border-border h-12 focus:border-primary",disabled:t||o}),e.jsx("button",{type:"button",onClick:()=>j(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:t||o,children:d?e.jsx(E,{size:18}):e.jsx(F,{size:18})})]})]}),e.jsx(c,{type:"submit",disabled:t||o,className:"w-full h-12 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-primary-foreground font-bold text-base rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-95",children:t?e.jsxs(e.Fragment,{children:[e.jsx(h,{size:20,className:"animate-spin mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{size:20,className:"mr-2"}),"Sign In"]})})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-border"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground font-bold tracking-wider",children:"New to NOC?"})})]}),e.jsxs(c,{type:"button",onClick:()=>n("/register"),variant:"outline",className:"w-full h-12 border-2 border-border hover:border-accent hover:bg-accent/10 font-bold rounded-xl transition-all",children:[e.jsx(L,{size:20,className:"mr-2"}),"Create New Account"]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1",children:[e.jsx(m,{size:12}),"Secure Access â€¢ Authorized Personnel Only"]})})]})]})})}export{M as default};
