function NO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ib={exports:{}},hd={};var vS;function RO(){if(vS)return hd;vS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return hd.Fragment=e,hd.jsx=n,hd.jsxs=n,hd}var xS;function DO(){return xS||(xS=1,Ib.exports=RO()),Ib.exports}var d=DO(),Pb={exports:{}},Be={};var wS;function zO(){if(wS)return Be;wS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function N(F,K,ue){this.props=F,this.context=K,this.refs=k,this.updater=ue||A}N.prototype.isReactComponent={},N.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},N.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function j(){}j.prototype=N.prototype;function z(F,K,ue){this.props=F,this.context=K,this.refs=k,this.updater=ue||A}var M=z.prototype=new j;M.constructor=z,S(M,N.prototype),M.isPureReactComponent=!0;var P=Array.isArray;function H(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(F,K,ue){var ge=ue.ref;return{$$typeof:t,type:F,key:K,ref:ge!==void 0?ge:null,props:ue}}function L(F,K){return I(F.type,K,F.props)}function U(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function q(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return K[ue]})}var B=/\/+/g;function oe(F,K){return typeof F=="object"&&F!==null&&F.key!=null?q(""+F.key):K.toString(36)}function _e(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(H,H):(F.status="pending",F.then(function(K){F.status==="pending"&&(F.status="fulfilled",F.value=K)},function(K){F.status==="pending"&&(F.status="rejected",F.reason=K)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function W(F,K,ue,ge,xe){var Te=typeof F;(Te==="undefined"||Te==="boolean")&&(F=null);var ie=!1;if(F===null)ie=!0;else switch(Te){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(F.$$typeof){case t:case e:ie=!0;break;case p:return ie=F._init,W(ie(F._payload),K,ue,ge,xe)}}if(ie)return xe=xe(F),ie=ge===""?"."+oe(F,0):ge,P(xe)?(ue="",ie!=null&&(ue=ie.replace(B,"$&/")+"/"),W(xe,K,ue,"",function(Qe){return Qe})):xe!=null&&(U(xe)&&(xe=L(xe,ue+(xe.key==null||F&&F.key===xe.key?"":(""+xe.key).replace(B,"$&/")+"/")+ie)),K.push(xe)),1;ie=0;var Ie=ge===""?".":ge+":";if(P(F))for(var qe=0;qe<F.length;qe++)ge=F[qe],Te=Ie+oe(ge,qe),ie+=W(ge,K,ue,Te,xe);else if(qe=w(F),typeof qe=="function")for(F=qe.call(F),qe=0;!(ge=F.next()).done;)ge=ge.value,Te=Ie+oe(ge,qe++),ie+=W(ge,K,ue,Te,xe);else if(Te==="object"){if(typeof F.then=="function")return W(_e(F),K,ue,ge,xe);throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ie}function te(F,K,ue){if(F==null)return F;var ge=[],xe=0;return W(F,ge,"","",function(Te){return K.call(ue,Te,xe++)}),ge}function Y(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var le=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},pe={map:te,forEach:function(F,K,ue){te(F,function(){K.apply(this,arguments)},ue)},count:function(F){var K=0;return te(F,function(){K++}),K},toArray:function(F){return te(F,function(K){return K})||[]},only:function(F){if(!U(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Be.Activity=b,Be.Children=pe,Be.Component=N,Be.Fragment=n,Be.Profiler=i,Be.PureComponent=z,Be.StrictMode=r,Be.Suspense=f,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Be.__COMPILER_RUNTIME={__proto__:null,c:function(F){return D.H.useMemoCache(F)}},Be.cache=function(F){return function(){return F.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(F,K,ue){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ge=S({},F.props),xe=F.key;if(K!=null)for(Te in K.key!==void 0&&(xe=""+K.key),K)!R.call(K,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&K.ref===void 0||(ge[Te]=K[Te]);var Te=arguments.length-2;if(Te===1)ge.children=ue;else if(1<Te){for(var ie=Array(Te),Ie=0;Ie<Te;Ie++)ie[Ie]=arguments[Ie+2];ge.children=ie}return I(F.type,xe,ge)},Be.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Be.createElement=function(F,K,ue){var ge,xe={},Te=null;if(K!=null)for(ge in K.key!==void 0&&(Te=""+K.key),K)R.call(K,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(xe[ge]=K[ge]);var ie=arguments.length-2;if(ie===1)xe.children=ue;else if(1<ie){for(var Ie=Array(ie),qe=0;qe<ie;qe++)Ie[qe]=arguments[qe+2];xe.children=Ie}if(F&&F.defaultProps)for(ge in ie=F.defaultProps,ie)xe[ge]===void 0&&(xe[ge]=ie[ge]);return I(F,Te,xe)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(F){return{$$typeof:u,render:F}},Be.isValidElement=U,Be.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:Y}},Be.memo=function(F,K){return{$$typeof:m,type:F,compare:K===void 0?null:K}},Be.startTransition=function(F){var K=D.T,ue={};D.T=ue;try{var ge=F(),xe=D.S;xe!==null&&xe(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(H,le)}catch(Te){le(Te)}finally{K!==null&&ue.types!==null&&(K.types=ue.types),D.T=K}},Be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Be.use=function(F){return D.H.use(F)},Be.useActionState=function(F,K,ue){return D.H.useActionState(F,K,ue)},Be.useCallback=function(F,K){return D.H.useCallback(F,K)},Be.useContext=function(F){return D.H.useContext(F)},Be.useDebugValue=function(){},Be.useDeferredValue=function(F,K){return D.H.useDeferredValue(F,K)},Be.useEffect=function(F,K){return D.H.useEffect(F,K)},Be.useEffectEvent=function(F){return D.H.useEffectEvent(F)},Be.useId=function(){return D.H.useId()},Be.useImperativeHandle=function(F,K,ue){return D.H.useImperativeHandle(F,K,ue)},Be.useInsertionEffect=function(F,K){return D.H.useInsertionEffect(F,K)},Be.useLayoutEffect=function(F,K){return D.H.useLayoutEffect(F,K)},Be.useMemo=function(F,K){return D.H.useMemo(F,K)},Be.useOptimistic=function(F,K){return D.H.useOptimistic(F,K)},Be.useReducer=function(F,K,ue){return D.H.useReducer(F,K,ue)},Be.useRef=function(F){return D.H.useRef(F)},Be.useState=function(F){return D.H.useState(F)},Be.useSyncExternalStore=function(F,K,ue){return D.H.useSyncExternalStore(F,K,ue)},Be.useTransition=function(){return D.H.useTransition()},Be.version="19.2.3",Be}var _S;function Fv(){return _S||(_S=1,Pb.exports=zO()),Pb.exports}var E=Fv();const be=Hv(E),qv=NO({__proto__:null,default:be},[E]);var Vb={exports:{}},md={},Lb={exports:{}},Ub={};var ES;function MO(){return ES||(ES=1,(function(t){function e(W,te){var Y=W.length;W.push(te);e:for(;0<Y;){var le=Y-1>>>1,pe=W[le];if(0<i(pe,te))W[le]=te,W[Y]=pe,Y=le;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var te=W[0],Y=W.pop();if(Y!==te){W[0]=Y;e:for(var le=0,pe=W.length,F=pe>>>1;le<F;){var K=2*(le+1)-1,ue=W[K],ge=K+1,xe=W[ge];if(0>i(ue,Y))ge<pe&&0>i(xe,ue)?(W[le]=xe,W[ge]=Y,le=ge):(W[le]=ue,W[K]=Y,le=K);else if(ge<pe&&0>i(xe,Y))W[le]=xe,W[ge]=Y,le=ge;else break e}}return te}function i(W,te){var Y=W.sortIndex-te.sortIndex;return Y!==0?Y:W.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],m=[],p=1,b=null,x=3,w=!1,A=!1,S=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function M(W){for(var te=n(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=W)r(m),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(m)}}function P(W){if(S=!1,M(W),!A)if(n(f)!==null)A=!0,H||(H=!0,q());else{var te=n(m);te!==null&&_e(P,te.startTime-W)}}var H=!1,D=-1,R=5,I=-1;function L(){return k?!0:!(t.unstable_now()-I<R)}function U(){if(k=!1,H){var W=t.unstable_now();I=W;var te=!0;try{e:{A=!1,S&&(S=!1,j(D),D=-1),w=!0;var Y=x;try{t:{for(M(W),b=n(f);b!==null&&!(b.expirationTime>W&&L());){var le=b.callback;if(typeof le=="function"){b.callback=null,x=b.priorityLevel;var pe=le(b.expirationTime<=W);if(W=t.unstable_now(),typeof pe=="function"){b.callback=pe,M(W),te=!0;break t}b===n(f)&&r(f),M(W)}else r(f);b=n(f)}if(b!==null)te=!0;else{var F=n(m);F!==null&&_e(P,F.startTime-W),te=!1}}break e}finally{b=null,x=Y,w=!1}te=void 0}}finally{te?q():H=!1}}}var q;if(typeof z=="function")q=function(){z(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,oe=B.port2;B.port1.onmessage=U,q=function(){oe.postMessage(null)}}else q=function(){N(U,0)};function _e(W,te){D=N(function(){W(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(W){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var Y=x;x=te;try{return W()}finally{x=Y}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=x;x=W;try{return te()}finally{x=Y}},t.unstable_scheduleCallback=function(W,te,Y){var le=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,W){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Y+pe,W={id:p++,callback:te,priorityLevel:W,startTime:Y,expirationTime:pe,sortIndex:-1},Y>le?(W.sortIndex=Y,e(m,W),n(f)===null&&W===n(m)&&(S?(j(D),D=-1):S=!0,_e(P,Y-le))):(W.sortIndex=pe,e(f,W),A||w||(A=!0,H||(H=!0,q()))),W},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(W){var te=x;return function(){var Y=x;x=te;try{return W.apply(this,arguments)}finally{x=Y}}}})(Ub)),Ub}var SS;function jO(){return SS||(SS=1,Lb.exports=MO()),Lb.exports}var Bb={exports:{}},Mn={};var kS;function OO(){if(kS)return Mn;kS=1;var t=Fv();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,m,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:f,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(f,m,null,p)},Mn.flushSync=function(f){var m=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=m,r.p=p,r.d.f()}},Mn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Mn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Mn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,b=u(p,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:b,integrity:x,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Mn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Mn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,b=u(p,m.crossOrigin);r.d.L(f,p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Mn.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=u(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Mn.requestFormReset=function(f){r.d.r(f)},Mn.unstable_batchedUpdates=function(f,m){return f(m)},Mn.useFormState=function(f,m,p){return l.H.useFormState(f,m,p)},Mn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Mn.version="19.2.3",Mn}var AS;function rC(){if(AS)return Bb.exports;AS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bb.exports=OO(),Bb.exports}var TS;function IO(){if(TS)return md;TS=1;var t=jO(),e=Fv(),n=rC();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(a(s)!==s)throw Error(r(188))}function m(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var c=s,h=o;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return f(y),s;if(v===h)return f(y),o;v=v.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=v;else{for(var T=!1,O=y.child;O;){if(O===c){T=!0,c=y,h=v;break}if(O===h){T=!0,h=y,c=v;break}O=O.sibling}if(!T){for(O=v.child;O;){if(O===c){T=!0,c=v,h=y;break}if(O===h){T=!0,h=v,c=y;break}O=O.sibling}if(!T)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function oe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case N:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case H:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case z:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return o=s.displayName||null,o!==null?o:oe(s.type)||"Memo";case R:o=s._payload,s=s._init;try{return oe(s(o))}catch{}}return null}var _e=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},le=[],pe=-1;function F(s){return{current:s}}function K(s){0>pe||(s.current=le[pe],le[pe]=null,pe--)}function ue(s,o){pe++,le[pe]=s.current,s.current=o}var ge=F(null),xe=F(null),Te=F(null),ie=F(null);function Ie(s,o){switch(ue(Te,o),ue(xe,s),ue(ge,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?HE(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=HE(o),s=FE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(ge),ue(ge,s)}function qe(){K(ge),K(xe),K(Te)}function Qe(s){s.memoizedState!==null&&ue(ie,s);var o=ge.current,c=FE(o,s.type);o!==c&&(ue(xe,s),ue(ge,c))}function kt(s){xe.current===s&&(K(ge),K(xe)),ie.current===s&&(K(ie),cd._currentValue=Y)}var Yt,Yn;function Qn(s){if(Yt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Yt=o&&o[1]||"",Yn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+s+Yn}var jr=!1;function Jr(s,o){if(!s||jr)return"";jr=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var ee=se}Reflect.construct(s,[],he)}else{try{he.call()}catch(se){ee=se}s.call(he.prototype)}}else{try{throw Error()}catch(se){ee=se}(he=s())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),T=v[0],O=v[1];if(T&&O){var $=T.split(`
`),J=O.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===J.length)for(h=$.length-1,y=J.length-1;1<=h&&0<=y&&$[h]!==J[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==J[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==J[y]){var ce=`
`+$[h].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=h&&0<=y);break}}}finally{jr=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Qn(c):""}function so(s,o){switch(s.tag){case 26:case 27:case 5:return Qn(s.type);case 16:return Qn("Lazy");case 13:return s.child!==o&&o!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Jr(s.type,!1);case 11:return Jr(s.type.render,!1);case 1:return Jr(s.type,!0);case 31:return Qn("Activity");default:return""}}function ao(s){try{var o="",c=null;do o+=so(s,c),c=s,s=s.return;while(s);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ft=Object.prototype.hasOwnProperty,Qt=t.unstable_scheduleCallback,wi=t.unstable_cancelCallback,du=t.unstable_shouldYield,oo=t.unstable_requestPaint,dn=t.unstable_now,ei=t.unstable_getCurrentPriorityLevel,lo=t.unstable_ImmediatePriority,co=t.unstable_UserBlockingPriority,_i=t.unstable_NormalPriority,fu=t.unstable_LowPriority,bl=t.unstable_IdlePriority,yl=t.log,vl=t.unstable_setDisableYieldValue,fr=null,fn=null;function Xn(s){if(typeof yl=="function"&&vl(s),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(fr,s)}catch{}}var Pt=Math.clz32?Math.clz32:Ve,uo=Math.log,Ws=Math.LN2;function Ve(s){return s>>>=0,s===0?32:31-(uo(s)/Ws|0)|0}var Ge=256,ze=262144,Me=4194304;function Rt(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Le(s,o,c){var h=s.pendingLanes;if(h===0)return 0;var y=0,v=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var O=h&134217727;return O!==0?(h=O&~v,h!==0?y=Rt(h):(T&=O,T!==0?y=Rt(T):c||(c=O&~s,c!==0&&(y=Rt(c))))):(O=h&~v,O!==0?y=Rt(O):T!==0?y=Rt(T):c||(c=h&~s,c!==0&&(y=Rt(c)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:y}function hr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function hu(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var s=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),s}function Kn(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function ti(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Bg(s,o,c,h,y,v){var T=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var O=s.entanglements,$=s.expirationTimes,J=s.hiddenUpdates;for(c=T&~c;0<c;){var ce=31-Pt(c),he=1<<ce;O[ce]=0,$[ce]=-1;var ee=J[ce];if(ee!==null)for(J[ce]=null,ce=0;ce<ee.length;ce++){var se=ee[ce];se!==null&&(se.lane&=-536870913)}c&=~he}h!==0&&fo(s,h,0),v!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=v&~(T&~o))}function fo(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-Pt(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function mu(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-Pt(c),y=1<<h;y&o|s[h]&o&&(s[h]|=o),c&=~y}}function pu(s,o){var c=o&-o;return c=(c&42)!==0?1:ho(c),(c&(s.suspendedLanes|o))!==0?0:c}function ho(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function us(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Uf(){var s=te.p;return s!==0?s:(s=window.event,s===void 0?32:fS(s.type))}function ni(s,o){var c=te.p;try{return te.p=s,o()}finally{te.p=c}}var ri=Math.random().toString(36).slice(2),en="__reactFiber$"+ri,gn="__reactProps$"+ri,Ei="__reactContainer$"+ri,wl="__reactEvents$"+ri,Hg="__reactListeners$"+ri,Bf="__reactHandles$"+ri,Hf="__reactResources$"+ri,Si="__reactMarker$"+ri;function _l(s){delete s[en],delete s[gn],delete s[wl],delete s[Hg],delete s[Bf]}function ki(s){var o=s[en];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Ei]||c[en]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=XE(s);s!==null;){if(c=s[en])return c;s=XE(s)}return o}s=c,c=s.parentNode}return null}function Or(s){if(s=s[en]||s[Ei]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function mr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function Ai(s){var o=s[Hf];return o||(o=s[Hf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function tn(s){s[Si]=!0}var gu=new Set,bu={};function Ti(s,o){Ci(s,o),Ci(s+"Capture",o)}function Ci(s,o){for(bu[s]=o,s=0;s<o.length;s++)gu.add(o[s])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},xu={};function Ff(s){return Ft.call(xu,s)?!0:Ft.call(vu,s)?!1:yu.test(s)?xu[s]=!0:(vu[s]=!0,!1)}function El(s,o,c){if(Ff(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function pr(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function nn(s,o,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+h)}}function bn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Gs(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function wu(s,o,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,v=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){c=""+T,v.call(this,T)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function pt(s){if(!s._valueTracker){var o=Gs(s)?"checked":"value";s._valueTracker=wu(s,o,""+s[o])}}function mo(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Gs(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Ni(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var po=/[\n"\\]/g;function Zn(s){return s.replace(po,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Sl(s,o,c,h,y,v,T,O){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),o!=null?T==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+bn(o)):s.value!==""+bn(o)&&(s.value=""+bn(o)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),o!=null?_u(s,T,bn(o)):c!=null?_u(s,T,bn(c)):h!=null&&s.removeAttribute("value"),y==null&&v!=null&&(s.defaultChecked=!!v),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.name=""+bn(O):s.removeAttribute("name")}function qf(s,o,c,h,y,v,T,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){pt(s);return}c=c!=null?""+bn(c):"",o=o!=null?""+bn(o):c,O||o===s.value||(s.value=o),s.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=O?s.checked:!!h,s.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),pt(s)}function _u(s,o,c){o==="number"&&Ni(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ys(s,o,c,h){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&h&&(s[c].defaultSelected=!0)}else{for(c=""+bn(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,h&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function $f(s,o,c){if(o!=null&&(o=""+bn(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+bn(c):""}function Qs(s,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(_e(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=bn(o),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),pt(s)}function Jn(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Wf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(s,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,c):typeof c!="number"||c===0||Wf.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function Su(s,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&c[y]!==h&&Eu(s,y,h)}else for(var v in o)o.hasOwnProperty(v)&&Eu(s,v,o[v])}function kl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(s){return Xs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ii(){}var ku=null;function Ir(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ks=null,Ri=null;function go(s){var o=Or(s);if(o&&(s=o.stateNode)){var c=s[gn]||null;e:switch(s=o.stateNode,o.type){case"input":if(Sl(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Zn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var y=h[gn]||null;if(!y)throw Error(r(90));Sl(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===s.form&&mo(h)}break e;case"textarea":$f(s,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ys(s,!!c.multiple,o,!1)}}}var Tl=!1;function Zs(s,o,c){if(Tl)return s(o,c);Tl=!0;try{var h=s(o);return h}finally{if(Tl=!1,(Ks!==null||Ri!==null)&&(Uh(),Ks&&(o=Ks,s=Ri,Ri=Ks=null,go(o),s)))for(o=0;o<s.length;o++)go(s[o])}}function si(s,o){var c=s.stateNode;if(c===null)return null;var h=c[gn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(Pr)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){bo=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{bo=!1}var Di=null,Au=null,yo=null;function Tu(){if(yo)return yo;var s,o=Au,c=o.length,h,y="value"in Di?Di.value:Di.textContent,v=y.length;for(s=0;s<c&&o[s]===y[s];s++);var T=c-s;for(h=1;h<=T&&o[c-h]===y[v-h];h++);return yo=y.slice(s,1<h?1-h:void 0)}function vo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ds(){return!0}function ai(){return!1}function Sn(s){function o(c,h,y,v,T){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(c=s[O],this[O]=c?c(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ds:ai,this.isPropagationStopped=ai,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),o}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=Sn(fs),Js=b({},fs,{view:0,detail:0}),Cu=Sn(Js),ea,Cl,Mi,Nl=b({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Mi&&(Mi&&s.type==="mousemove"?(ea=s.screenX-Mi.screenX,Cl=s.screenY-Mi.screenY):Cl=ea=0,Mi=s),ea)},movementY:function(s){return"movementY"in s?s.movementY:Cl}}),Nu=Sn(Nl),xo=b({},Nl,{dataTransfer:0}),Yf=Sn(xo),Qf=b({},Js,{relatedTarget:0}),wo=Sn(Qf),Ru=b({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xf=Sn(Ru),Rl=b({},fs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Kf=Sn(Rl),Zf=b({},fs,{data:0}),ji=Sn(Zf),Jf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nh(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=th[s])?!!o[s]:!1}function ta(){return nh}var Fn=b({},Js,{key:function(s){if(s.key){var o=Jf[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=vo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?eh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(s){return s.type==="keypress"?vo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),rh=Sn(Fn),ih=b({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=Sn(ih),g=b({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),_=Sn(g),C=b({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Sn(C),X=b({},Nl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Sn(X),ve=b({},fs,{newState:0,oldState:0}),$e=Sn(ve),Xt=[9,13,27,32],ut=Pr&&"CompositionEvent"in window,Dt=null;Pr&&"documentMode"in document&&(Dt=document.documentMode);var Vr=Pr&&"TextEvent"in window&&!Dt,Oi=Pr&&(!ut||Dt&&8<Dt&&11>=Dt),oi=" ",li=!1;function _o(s,o){switch(s){case"keyup":return Xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dl(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zl=!1;function JM(s,o){switch(s){case"compositionend":return Dl(o);case"keypress":return o.which!==32?null:(li=!0,oi);case"textInput":return s=o.data,s===oi&&li?null:s;default:return null}}function ej(s,o){if(zl)return s==="compositionend"||!ut&&_o(s,o)?(s=Tu(),yo=Au=Di=null,zl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oi&&o.locale!=="ko"?null:o.data;default:return null}}var tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!tj[s.type]:o==="textarea"}function e1(s,o,c,h){Ks?Ri?Ri.push(h):Ri=[h]:Ks=h,o=Gh(o,"onChange"),0<o.length&&(c=new zi("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Du=null,zu=null;function nj(s){IE(s,0)}function sh(s){var o=mr(s);if(mo(o))return s}function t1(s,o){if(s==="change")return o}var n1=!1;if(Pr){var Fg;if(Pr){var qg="oninput"in document;if(!qg){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),qg=typeof r1.oninput=="function"}Fg=qg}else Fg=!1;n1=Fg&&(!document.documentMode||9<document.documentMode)}function i1(){Du&&(Du.detachEvent("onpropertychange",s1),zu=Du=null)}function s1(s){if(s.propertyName==="value"&&sh(zu)){var o=[];e1(o,zu,s,Ir(s)),Zs(nj,o)}}function rj(s,o,c){s==="focusin"?(i1(),Du=o,zu=c,Du.attachEvent("onpropertychange",s1)):s==="focusout"&&i1()}function ij(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sh(zu)}function sj(s,o){if(s==="click")return sh(o)}function aj(s,o){if(s==="input"||s==="change")return sh(o)}function oj(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var gr=typeof Object.is=="function"?Object.is:oj;function Mu(s,o){if(gr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!Ft.call(o,y)||!gr(s[y],o[y]))return!1}return!0}function a1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function o1(s,o){var c=a1(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=a1(c)}}function l1(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?l1(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function c1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Ni(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Ni(s.document)}return o}function $g(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var lj=Pr&&"documentMode"in document&&11>=document.documentMode,Ml=null,Wg=null,ju=null,Gg=!1;function u1(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gg||Ml==null||Ml!==Ni(h)||(h=Ml,"selectionStart"in h&&$g(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ju&&Mu(ju,h)||(ju=h,h=Gh(Wg,"onSelect"),0<h.length&&(o=new zi("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=Ml)))}function Eo(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var jl={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionrun:Eo("Transition","TransitionRun"),transitionstart:Eo("Transition","TransitionStart"),transitioncancel:Eo("Transition","TransitionCancel"),transitionend:Eo("Transition","TransitionEnd")},Yg={},d1={};Pr&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function So(s){if(Yg[s])return Yg[s];if(!jl[s])return s;var o=jl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in d1)return Yg[s]=o[c];return s}var f1=So("animationend"),h1=So("animationiteration"),m1=So("animationstart"),cj=So("transitionrun"),uj=So("transitionstart"),dj=So("transitioncancel"),p1=So("transitionend"),g1=new Map,Qg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qg.push("scrollEnd");function ci(s,o){g1.set(s,o),Ti(o,[s])}var ah=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Lr=[],Ol=0,Xg=0;function oh(){for(var s=Ol,o=Xg=Ol=0;o<s;){var c=Lr[o];Lr[o++]=null;var h=Lr[o];Lr[o++]=null;var y=Lr[o];Lr[o++]=null;var v=Lr[o];if(Lr[o++]=null,h!==null&&y!==null){var T=h.pending;T===null?y.next=y:(y.next=T.next,T.next=y),h.pending=y}v!==0&&b1(c,y,v)}}function lh(s,o,c,h){Lr[Ol++]=s,Lr[Ol++]=o,Lr[Ol++]=c,Lr[Ol++]=h,Xg|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Kg(s,o,c,h){return lh(s,o,c,h),ch(s)}function ko(s,o){return lh(s,null,null,o),ch(s)}function b1(s,o,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var y=!1,v=s.return;v!==null;)v.childLanes|=c,h=v.alternate,h!==null&&(h.childLanes|=c),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(y=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,y&&o!==null&&(y=31-Pt(c),s=v.hiddenUpdates,h=s[y],h===null?s[y]=[o]:h.push(o),o.lane=c|536870912),v):null}function ch(s){if(50<nd)throw nd=0,ab=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Il={};function fj(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(s,o,c,h){return new fj(s,o,c,h)}function Zg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,o){var c=s.alternate;return c===null?(c=br(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function y1(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function uh(s,o,c,h,y,v){var T=0;if(h=s,typeof s=="function")Zg(s)&&(T=1);else if(typeof s=="string")T=bO(s,c,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=br(31,c,o,y),s.elementType=I,s.lanes=v,s;case S:return Ao(c.children,y,v,o);case k:T=8,y|=24;break;case N:return s=br(12,c,o,y|2),s.elementType=N,s.lanes=v,s;case P:return s=br(13,c,o,y),s.elementType=P,s.lanes=v,s;case H:return s=br(19,c,o,y),s.elementType=H,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:T=10;break e;case j:T=9;break e;case M:T=11;break e;case D:T=14;break e;case R:T=16,h=null;break e}T=29,c=Error(r(130,s===null?"null":typeof s,"")),h=null}return o=br(T,c,o,y),o.elementType=s,o.type=h,o.lanes=v,o}function Ao(s,o,c,h){return s=br(7,s,h,o),s.lanes=c,s}function Jg(s,o,c){return s=br(6,s,null,o),s.lanes=c,s}function v1(s){var o=br(18,null,null,0);return o.stateNode=s,o}function e0(s,o,c){return o=br(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var x1=new WeakMap;function Ur(s,o){if(typeof s=="object"&&s!==null){var c=x1.get(s);return c!==void 0?c:(o={value:s,source:o,stack:ao(o)},x1.set(s,o),o)}return{value:s,source:o,stack:ao(o)}}var Pl=[],Vl=0,dh=null,Ou=0,Br=[],Hr=0,na=null,Ii=1,Pi="";function ps(s,o){Pl[Vl++]=Ou,Pl[Vl++]=dh,dh=s,Ou=o}function w1(s,o,c){Br[Hr++]=Ii,Br[Hr++]=Pi,Br[Hr++]=na,na=s;var h=Ii;s=Pi;var y=32-Pt(h)-1;h&=~(1<<y),c+=1;var v=32-Pt(o)+y;if(30<v){var T=y-y%5;v=(h&(1<<T)-1).toString(32),h>>=T,y-=T,Ii=1<<32-Pt(o)+y|c<<y|h,Pi=v+s}else Ii=1<<v|c<<y|h,Pi=s}function t0(s){s.return!==null&&(ps(s,1),w1(s,1,0))}function n0(s){for(;s===dh;)dh=Pl[--Vl],Pl[Vl]=null,Ou=Pl[--Vl],Pl[Vl]=null;for(;s===na;)na=Br[--Hr],Br[Hr]=null,Pi=Br[--Hr],Br[Hr]=null,Ii=Br[--Hr],Br[Hr]=null}function _1(s,o){Br[Hr++]=Ii,Br[Hr++]=Pi,Br[Hr++]=na,Ii=o.id,Pi=o.overflow,na=s}var kn=null,At=null,it=!1,ra=null,Fr=!1,r0=Error(r(519));function ia(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Iu(Ur(o,s)),r0}function E1(s){var o=s.stateNode,c=s.type,h=s.memoizedProps;switch(o[en]=s,o[gn]=h,c){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(c=0;c<id.length;c++)Je(id[c],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":Je("invalid",o),qf(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Je("invalid",o);break;case"textarea":Je("invalid",o),Qs(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||UE(o.textContent,c)?(h.popover!=null&&(Je("beforetoggle",o),Je("toggle",o)),h.onScroll!=null&&Je("scroll",o),h.onScrollEnd!=null&&Je("scrollend",o),h.onClick!=null&&(o.onclick=ii),o=!0):o=!1,o||ia(s,!0)}function S1(s){for(kn=s.return;kn;)switch(kn.tag){case 5:case 31:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:kn=kn.return}}function Ll(s){if(s!==kn)return!1;if(!it)return S1(s),it=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||wb(s.type,s.memoizedProps)),c=!c),c&&At&&ia(s),S1(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));At=QE(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));At=QE(s)}else o===27?(o=At,ya(s.type)?(s=Ab,Ab=null,At=s):At=o):At=kn?$r(s.stateNode.nextSibling):null;return!0}function To(){At=kn=null,it=!1}function i0(){var s=ra;return s!==null&&(rr===null?rr=s:rr.push.apply(rr,s),ra=null),s}function Iu(s){ra===null?ra=[s]:ra.push(s)}var s0=F(null),Co=null,gs=null;function sa(s,o,c){ue(s0,o._currentValue),o._currentValue=c}function bs(s){s._currentValue=s0.current,K(s0)}function a0(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function o0(s,o,c,h){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var v=y.dependencies;if(v!==null){var T=y.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=y;for(var $=0;$<o.length;$++)if(O.context===o[$]){v.lanes|=c,O=v.alternate,O!==null&&(O.lanes|=c),a0(v.return,c,s),h||(T=null);break e}v=O.next}}else if(y.tag===18){if(T=y.return,T===null)throw Error(r(341));T.lanes|=c,v=T.alternate,v!==null&&(v.lanes|=c),a0(T,c,s),T=null}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}}function Ul(s,o,c,h){s=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var T=y.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var O=y.type;gr(y.pendingProps.value,T.value)||(s!==null?s.push(O):s=[O])}}else if(y===ie.current){if(T=y.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(cd):s=[cd])}y=y.return}s!==null&&o0(o,s,c,h),o.flags|=262144}function fh(s){for(s=s.firstContext;s!==null;){if(!gr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function No(s){Co=s,gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function An(s){return k1(Co,s)}function hh(s,o){return Co===null&&No(s),k1(s,o)}function k1(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},gs===null){if(s===null)throw Error(r(308));gs=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else gs=gs.next=o;return c}var hj=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},mj=t.unstable_scheduleCallback,pj=t.unstable_NormalPriority,rn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l0(){return{controller:new hj,data:new Map,refCount:0}}function Pu(s){s.refCount--,s.refCount===0&&mj(pj,function(){s.controller.abort()})}var Vu=null,c0=0,Bl=0,Hl=null;function gj(s,o){if(Vu===null){var c=Vu=[];c0=0,Bl=fb(),Hl={status:"pending",value:void 0,then:function(h){c.push(h)}}}return c0++,o.then(A1,A1),o}function A1(){if(--c0===0&&Vu!==null){Hl!==null&&(Hl.status="fulfilled");var s=Vu;Vu=null,Bl=0,Hl=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function bj(s,o){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var T1=W.S;W.S=function(s,o){uE=dn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&gj(s,o),T1!==null&&T1(s,o)};var Ro=F(null);function u0(){var s=Ro.current;return s!==null?s:Et.pooledCache}function mh(s,o){o===null?ue(Ro,Ro.current):ue(Ro,o.pool)}function C1(){var s=u0();return s===null?null:{parent:rn._currentValue,pool:s}}var Fl=Error(r(460)),d0=Error(r(474)),ph=Error(r(542)),gh={then:function(){}};function N1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function R1(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(ii,ii),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,z1(s),s;default:if(typeof o.status=="string")o.then(ii,ii);else{if(s=Et,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,z1(s),s}throw zo=o,Fl}}function Do(s){try{var o=s._init;return o(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(zo=c,Fl):c}}var zo=null;function D1(){if(zo===null)throw Error(r(459));var s=zo;return zo=null,s}function z1(s){if(s===Fl||s===ph)throw Error(r(483))}var ql=null,Lu=0;function bh(s){var o=Lu;return Lu+=1,ql===null&&(ql=[]),R1(ql,s,o)}function Uu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function yh(s,o){throw o.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function M1(s){function o(Q,G){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[G],Q.flags|=16):Z.push(G)}}function c(Q,G){if(!s)return null;for(;G!==null;)o(Q,G),G=G.sibling;return null}function h(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function y(Q,G){return Q=ms(Q,G),Q.index=0,Q.sibling=null,Q}function v(Q,G,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<G?(Q.flags|=67108866,G):Z):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function T(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function O(Q,G,Z,fe){return G===null||G.tag!==6?(G=Jg(Z,Q.mode,fe),G.return=Q,G):(G=y(G,Z),G.return=Q,G)}function $(Q,G,Z,fe){var Re=Z.type;return Re===S?ce(Q,G,Z.props.children,fe,Z.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&Do(Re)===G.type)?(G=y(G,Z.props),Uu(G,Z),G.return=Q,G):(G=uh(Z.type,Z.key,Z.props,null,Q.mode,fe),Uu(G,Z),G.return=Q,G)}function J(Q,G,Z,fe){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=e0(Z,Q.mode,fe),G.return=Q,G):(G=y(G,Z.children||[]),G.return=Q,G)}function ce(Q,G,Z,fe,Re){return G===null||G.tag!==7?(G=Ao(Z,Q.mode,fe,Re),G.return=Q,G):(G=y(G,Z),G.return=Q,G)}function he(Q,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Jg(""+G,Q.mode,Z),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return Z=uh(G.type,G.key,G.props,null,Q.mode,Z),Uu(Z,G),Z.return=Q,Z;case A:return G=e0(G,Q.mode,Z),G.return=Q,G;case R:return G=Do(G),he(Q,G,Z)}if(_e(G)||q(G))return G=Ao(G,Q.mode,Z,null),G.return=Q,G;if(typeof G.then=="function")return he(Q,bh(G),Z);if(G.$$typeof===z)return he(Q,hh(Q,G),Z);yh(Q,G)}return null}function ee(Q,G,Z,fe){var Re=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Re!==null?null:O(Q,G,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Re?$(Q,G,Z,fe):null;case A:return Z.key===Re?J(Q,G,Z,fe):null;case R:return Z=Do(Z),ee(Q,G,Z,fe)}if(_e(Z)||q(Z))return Re!==null?null:ce(Q,G,Z,fe,null);if(typeof Z.then=="function")return ee(Q,G,bh(Z),fe);if(Z.$$typeof===z)return ee(Q,G,hh(Q,Z),fe);yh(Q,Z)}return null}function se(Q,G,Z,fe,Re){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(Z)||null,O(G,Q,""+fe,Re);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return Q=Q.get(fe.key===null?Z:fe.key)||null,$(G,Q,fe,Re);case A:return Q=Q.get(fe.key===null?Z:fe.key)||null,J(G,Q,fe,Re);case R:return fe=Do(fe),se(Q,G,Z,fe,Re)}if(_e(fe)||q(fe))return Q=Q.get(Z)||null,ce(G,Q,fe,Re,null);if(typeof fe.then=="function")return se(Q,G,Z,bh(fe),Re);if(fe.$$typeof===z)return se(Q,G,Z,hh(G,fe),Re);yh(G,fe)}return null}function Se(Q,G,Z,fe){for(var Re=null,ot=null,Ce=G,Ye=G=0,tt=null;Ce!==null&&Ye<Z.length;Ye++){Ce.index>Ye?(tt=Ce,Ce=null):tt=Ce.sibling;var lt=ee(Q,Ce,Z[Ye],fe);if(lt===null){Ce===null&&(Ce=tt);break}s&&Ce&&lt.alternate===null&&o(Q,Ce),G=v(lt,G,Ye),ot===null?Re=lt:ot.sibling=lt,ot=lt,Ce=tt}if(Ye===Z.length)return c(Q,Ce),it&&ps(Q,Ye),Re;if(Ce===null){for(;Ye<Z.length;Ye++)Ce=he(Q,Z[Ye],fe),Ce!==null&&(G=v(Ce,G,Ye),ot===null?Re=Ce:ot.sibling=Ce,ot=Ce);return it&&ps(Q,Ye),Re}for(Ce=h(Ce);Ye<Z.length;Ye++)tt=se(Ce,Q,Ye,Z[Ye],fe),tt!==null&&(s&&tt.alternate!==null&&Ce.delete(tt.key===null?Ye:tt.key),G=v(tt,G,Ye),ot===null?Re=tt:ot.sibling=tt,ot=tt);return s&&Ce.forEach(function(Ea){return o(Q,Ea)}),it&&ps(Q,Ye),Re}function Oe(Q,G,Z,fe){if(Z==null)throw Error(r(151));for(var Re=null,ot=null,Ce=G,Ye=G=0,tt=null,lt=Z.next();Ce!==null&&!lt.done;Ye++,lt=Z.next()){Ce.index>Ye?(tt=Ce,Ce=null):tt=Ce.sibling;var Ea=ee(Q,Ce,lt.value,fe);if(Ea===null){Ce===null&&(Ce=tt);break}s&&Ce&&Ea.alternate===null&&o(Q,Ce),G=v(Ea,G,Ye),ot===null?Re=Ea:ot.sibling=Ea,ot=Ea,Ce=tt}if(lt.done)return c(Q,Ce),it&&ps(Q,Ye),Re;if(Ce===null){for(;!lt.done;Ye++,lt=Z.next())lt=he(Q,lt.value,fe),lt!==null&&(G=v(lt,G,Ye),ot===null?Re=lt:ot.sibling=lt,ot=lt);return it&&ps(Q,Ye),Re}for(Ce=h(Ce);!lt.done;Ye++,lt=Z.next())lt=se(Ce,Q,Ye,lt.value,fe),lt!==null&&(s&&lt.alternate!==null&&Ce.delete(lt.key===null?Ye:lt.key),G=v(lt,G,Ye),ot===null?Re=lt:ot.sibling=lt,ot=lt);return s&&Ce.forEach(function(CO){return o(Q,CO)}),it&&ps(Q,Ye),Re}function _t(Q,G,Z,fe){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Re=Z.key;G!==null;){if(G.key===Re){if(Re=Z.type,Re===S){if(G.tag===7){c(Q,G.sibling),fe=y(G,Z.props.children),fe.return=Q,Q=fe;break e}}else if(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&Do(Re)===G.type){c(Q,G.sibling),fe=y(G,Z.props),Uu(fe,Z),fe.return=Q,Q=fe;break e}c(Q,G);break}else o(Q,G);G=G.sibling}Z.type===S?(fe=Ao(Z.props.children,Q.mode,fe,Z.key),fe.return=Q,Q=fe):(fe=uh(Z.type,Z.key,Z.props,null,Q.mode,fe),Uu(fe,Z),fe.return=Q,Q=fe)}return T(Q);case A:e:{for(Re=Z.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){c(Q,G.sibling),fe=y(G,Z.children||[]),fe.return=Q,Q=fe;break e}else{c(Q,G);break}else o(Q,G);G=G.sibling}fe=e0(Z,Q.mode,fe),fe.return=Q,Q=fe}return T(Q);case R:return Z=Do(Z),_t(Q,G,Z,fe)}if(_e(Z))return Se(Q,G,Z,fe);if(q(Z)){if(Re=q(Z),typeof Re!="function")throw Error(r(150));return Z=Re.call(Z),Oe(Q,G,Z,fe)}if(typeof Z.then=="function")return _t(Q,G,bh(Z),fe);if(Z.$$typeof===z)return _t(Q,G,hh(Q,Z),fe);yh(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(c(Q,G.sibling),fe=y(G,Z),fe.return=Q,Q=fe):(c(Q,G),fe=Jg(Z,Q.mode,fe),fe.return=Q,Q=fe),T(Q)):c(Q,G)}return function(Q,G,Z,fe){try{Lu=0;var Re=_t(Q,G,Z,fe);return ql=null,Re}catch(Ce){if(Ce===Fl||Ce===ph)throw Ce;var ot=br(29,Ce,null,Q.mode);return ot.lanes=fe,ot.return=Q,ot}finally{}}}var Mo=M1(!0),j1=M1(!1),aa=!1;function f0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function h0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function oa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function la(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(dt&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=ch(s),b1(s,null,c),o}return lh(s,h,o,c),ch(s)}function Bu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,mu(s,c)}}function m0(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=T:v=v.next=T,c=c.next}while(c!==null);v===null?y=v=o:v=v.next=o}else y=v=o;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var p0=!1;function Hu(){if(p0){var s=Hl;if(s!==null)throw s}}function Fu(s,o,c,h){p0=!1;var y=s.updateQueue;aa=!1;var v=y.firstBaseUpdate,T=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var $=O,J=$.next;$.next=null,T===null?v=J:T.next=J,T=$;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==T&&(O===null?ce.firstBaseUpdate=J:O.next=J,ce.lastBaseUpdate=$))}if(v!==null){var he=y.baseState;T=0,ce=J=$=null,O=v;do{var ee=O.lane&-536870913,se=ee!==O.lane;if(se?(et&ee)===ee:(h&ee)===ee){ee!==0&&ee===Bl&&(p0=!0),ce!==null&&(ce=ce.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Se=s,Oe=O;ee=o;var _t=c;switch(Oe.tag){case 1:if(Se=Oe.payload,typeof Se=="function"){he=Se.call(_t,he,ee);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Oe.payload,ee=typeof Se=="function"?Se.call(_t,he,ee):Se,ee==null)break e;he=b({},he,ee);break e;case 2:aa=!0}}ee=O.callback,ee!==null&&(s.flags|=64,se&&(s.flags|=8192),se=y.callbacks,se===null?y.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(J=ce=se,$=he):ce=ce.next=se,T|=ee;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;se=O,O=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);ce===null&&($=he),y.baseState=$,y.firstBaseUpdate=J,y.lastBaseUpdate=ce,v===null&&(y.shared.lanes=0),ha|=T,s.lanes=T,s.memoizedState=he}}function O1(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function I1(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)O1(c[s],o)}var $l=F(null),vh=F(0);function P1(s,o){s=As,ue(vh,s),ue($l,o),As=s|o.baseLanes}function g0(){ue(vh,As),ue($l,$l.current)}function b0(){As=vh.current,K($l),K(vh)}var yr=F(null),qr=null;function ca(s){var o=s.alternate;ue(Kt,Kt.current&1),ue(yr,s),qr===null&&(o===null||$l.current!==null||o.memoizedState!==null)&&(qr=s)}function y0(s){ue(Kt,Kt.current),ue(yr,s),qr===null&&(qr=s)}function V1(s){s.tag===22?(ue(Kt,Kt.current),ue(yr,s),qr===null&&(qr=s)):ua()}function ua(){ue(Kt,Kt.current),ue(yr,yr.current)}function vr(s){K(yr),qr===s&&(qr=null),K(Kt)}var Kt=F(0);function xh(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Sb(c)||kb(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ys=0,We=null,xt=null,sn=null,wh=!1,Wl=!1,jo=!1,_h=0,qu=0,Gl=null,yj=0;function qt(){throw Error(r(321))}function v0(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!gr(s[c],o[c]))return!1;return!0}function x0(s,o,c,h,y,v){return ys=v,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=s===null||s.memoizedState===null?w_:O0,jo=!1,v=c(h,y),jo=!1,Wl&&(v=U1(o,c,h,y)),L1(s),v}function L1(s){W.H=Gu;var o=xt!==null&&xt.next!==null;if(ys=0,sn=xt=We=null,wh=!1,qu=0,Gl=null,o)throw Error(r(300));s===null||an||(s=s.dependencies,s!==null&&fh(s)&&(an=!0))}function U1(s,o,c,h){We=s;var y=0;do{if(Wl&&(Gl=null),qu=0,Wl=!1,25<=y)throw Error(r(301));if(y+=1,sn=xt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=__,v=o(c,h)}while(Wl);return v}function vj(){var s=W.H,o=s.useState()[0];return o=typeof o.then=="function"?$u(o):o,s=s.useState()[0],(xt!==null?xt.memoizedState:null)!==s&&(We.flags|=1024),o}function w0(){var s=_h!==0;return _h=0,s}function _0(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function E0(s){if(wh){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}wh=!1}ys=0,sn=xt=We=null,Wl=!1,qu=_h=0,Gl=null}function qn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?We.memoizedState=sn=s:sn=sn.next=s,sn}function Zt(){if(xt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=xt.next;var o=sn===null?We.memoizedState:sn.next;if(o!==null)sn=o,xt=s;else{if(s===null)throw We.alternate===null?Error(r(467)):Error(r(310));xt=s,s={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},sn===null?We.memoizedState=sn=s:sn=sn.next=s}return sn}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $u(s){var o=qu;return qu+=1,Gl===null&&(Gl=[]),s=R1(Gl,s,o),o=We,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?w_:O0),s}function Sh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return $u(s);if(s.$$typeof===z)return An(s)}throw Error(r(438,String(s)))}function S0(s){var o=null,c=We.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=We.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Eh(),We.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),h=0;h<s;h++)c[h]=L;return o.index++,c}function vs(s,o){return typeof o=="function"?o(s):o}function kh(s){var o=Zt();return k0(o,xt,s)}function k0(s,o,c){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=s.baseQueue,v=h.pending;if(v!==null){if(y!==null){var T=y.next;y.next=v.next,v.next=T}o.baseQueue=y=v,h.pending=null}if(v=s.baseState,y===null)s.memoizedState=v;else{o=y.next;var O=T=null,$=null,J=o,ce=!1;do{var he=J.lane&-536870913;if(he!==J.lane?(et&he)===he:(ys&he)===he){var ee=J.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),he===Bl&&(ce=!0);else if((ys&ee)===ee){J=J.next,ee===Bl&&(ce=!0);continue}else he={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(O=$=he,T=v):$=$.next=he,We.lanes|=ee,ha|=ee;he=J.action,jo&&c(v,he),v=J.hasEagerState?J.eagerState:c(v,he)}else ee={lane:he,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(O=$=ee,T=v):$=$.next=ee,We.lanes|=he,ha|=he;J=J.next}while(J!==null&&J!==o);if($===null?T=v:$.next=O,!gr(v,s.memoizedState)&&(an=!0,ce&&(c=Hl,c!==null)))throw c;s.memoizedState=v,s.baseState=T,s.baseQueue=$,h.lastRenderedState=v}return y===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function A0(s){var o=Zt(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=c.dispatch,y=c.pending,v=o.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do v=s(v,T.action),T=T.next;while(T!==y);gr(v,o.memoizedState)||(an=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,h]}function B1(s,o,c){var h=We,y=Zt(),v=it;if(v){if(c===void 0)throw Error(r(407));c=c()}else c=o();var T=!gr((xt||y).memoizedState,c);if(T&&(y.memoizedState=c,an=!0),y=y.queue,N0(q1.bind(null,h,y,s),[s]),y.getSnapshot!==o||T||sn!==null&&sn.memoizedState.tag&1){if(h.flags|=2048,Yl(9,{destroy:void 0},F1.bind(null,h,y,c,o),null),Et===null)throw Error(r(349));v||(ys&127)!==0||H1(h,o,c)}return c}function H1(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=We.updateQueue,o===null?(o=Eh(),We.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function F1(s,o,c,h){o.value=c,o.getSnapshot=h,$1(o)&&W1(s)}function q1(s,o,c){return c(function(){$1(o)&&W1(s)})}function $1(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!gr(s,c)}catch{return!0}}function W1(s){var o=ko(s,2);o!==null&&ir(o,s,2)}function T0(s){var o=qn();if(typeof s=="function"){var c=s;if(s=c(),jo){Xn(!0);try{c()}finally{Xn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:s},o}function G1(s,o,c,h){return s.baseState=c,k0(s,xt,typeof h=="function"?h:vs)}function xj(s,o,c,h,y){if(Ch(s))throw Error(r(485));if(s=o.action,s!==null){var v={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};W.T!==null?c(!0):v.isTransition=!1,h(v),c=o.pending,c===null?(v.next=o.pending=v,Y1(o,v)):(v.next=c.next,o.pending=c.next=v)}}function Y1(s,o){var c=o.action,h=o.payload,y=s.state;if(o.isTransition){var v=W.T,T={};W.T=T;try{var O=c(y,h),$=W.S;$!==null&&$(T,O),Q1(s,o,O)}catch(J){C0(s,o,J)}finally{v!==null&&T.types!==null&&(v.types=T.types),W.T=v}}else try{v=c(y,h),Q1(s,o,v)}catch(J){C0(s,o,J)}}function Q1(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){X1(s,o,h)},function(h){return C0(s,o,h)}):X1(s,o,c)}function X1(s,o,c){o.status="fulfilled",o.value=c,K1(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,Y1(s,c)))}function C0(s,o,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,K1(o),o=o.next;while(o!==h)}s.action=null}function K1(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Z1(s,o){return o}function J1(s,o){if(it){var c=Et.formState;if(c!==null){e:{var h=We;if(it){if(At){t:{for(var y=At,v=Fr;y.nodeType!==8;){if(!v){y=null;break t}if(y=$r(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){At=$r(y.nextSibling),h=y.data==="F!";break e}}ia(h)}h=!1}h&&(o=c[0])}}return c=qn(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z1,lastRenderedState:o},c.queue=h,c=y_.bind(null,We,h),h.dispatch=c,h=T0(!1),v=j0.bind(null,We,!1,h.queue),h=qn(),y={state:o,dispatch:null,action:s,pending:null},h.queue=y,c=xj.bind(null,We,y,v,c),y.dispatch=c,h.memoizedState=s,[o,c,!1]}function e_(s){var o=Zt();return t_(o,xt,s)}function t_(s,o,c){if(o=k0(s,o,Z1)[0],s=kh(vs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=$u(o)}catch(T){throw T===Fl?ph:T}else h=o;o=Zt();var y=o.queue,v=y.dispatch;return c!==o.memoizedState&&(We.flags|=2048,Yl(9,{destroy:void 0},wj.bind(null,y,c),null)),[h,v,s]}function wj(s,o){s.action=o}function n_(s){var o=Zt(),c=xt;if(c!==null)return t_(o,c,s);Zt(),o=o.memoizedState,c=Zt();var h=c.queue.dispatch;return c.memoizedState=s,[o,h,!1]}function Yl(s,o,c,h){return s={tag:s,create:c,deps:h,inst:o,next:null},o=We.updateQueue,o===null&&(o=Eh(),We.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s),s}function r_(){return Zt().memoizedState}function Ah(s,o,c,h){var y=qn();We.flags|=s,y.memoizedState=Yl(1|o,{destroy:void 0},c,h===void 0?null:h)}function Th(s,o,c,h){var y=Zt();h=h===void 0?null:h;var v=y.memoizedState.inst;xt!==null&&h!==null&&v0(h,xt.memoizedState.deps)?y.memoizedState=Yl(o,v,c,h):(We.flags|=s,y.memoizedState=Yl(1|o,v,c,h))}function i_(s,o){Ah(8390656,8,s,o)}function N0(s,o){Th(2048,8,s,o)}function _j(s){We.flags|=4;var o=We.updateQueue;if(o===null)o=Eh(),We.updateQueue=o,o.events=[s];else{var c=o.events;c===null?o.events=[s]:c.push(s)}}function s_(s){var o=Zt().memoizedState;return _j({ref:o,nextImpl:s}),function(){if((dt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function a_(s,o){return Th(4,2,s,o)}function o_(s,o){return Th(4,4,s,o)}function l_(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function c_(s,o,c){c=c!=null?c.concat([s]):null,Th(4,4,l_.bind(null,o,s),c)}function R0(){}function u_(s,o){var c=Zt();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&v0(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function d_(s,o){var c=Zt();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&v0(o,h[1]))return h[0];if(h=s(),jo){Xn(!0);try{s()}finally{Xn(!1)}}return c.memoizedState=[h,o],h}function D0(s,o,c){return c===void 0||(ys&1073741824)!==0&&(et&261930)===0?s.memoizedState=o:(s.memoizedState=c,s=fE(),We.lanes|=s,ha|=s,c)}function f_(s,o,c,h){return gr(c,o)?c:$l.current!==null?(s=D0(s,c,h),gr(s,o)||(an=!0),s):(ys&42)===0||(ys&1073741824)!==0&&(et&261930)===0?(an=!0,s.memoizedState=c):(s=fE(),We.lanes|=s,ha|=s,o)}function h_(s,o,c,h,y){var v=te.p;te.p=v!==0&&8>v?v:8;var T=W.T,O={};W.T=O,j0(s,!1,o,c);try{var $=y(),J=W.S;if(J!==null&&J(O,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ce=bj($,h);Wu(s,o,ce,_r(s))}else Wu(s,o,h,_r(s))}catch(he){Wu(s,o,{then:function(){},status:"rejected",reason:he},_r())}finally{te.p=v,T!==null&&O.types!==null&&(T.types=O.types),W.T=T}}function Ej(){}function z0(s,o,c,h){if(s.tag!==5)throw Error(r(476));var y=m_(s).queue;h_(s,y,o,Y,c===null?Ej:function(){return p_(s),c(h)})}function m_(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:Y},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function p_(s){var o=m_(s);o.next===null&&(o=s.alternate.memoizedState),Wu(s,o.next.queue,{},_r())}function M0(){return An(cd)}function g_(){return Zt().memoizedState}function b_(){return Zt().memoizedState}function Sj(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=_r();s=oa(c);var h=la(o,s,c);h!==null&&(ir(h,o,c),Bu(h,o,c)),o={cache:l0()},s.payload=o;return}o=o.return}}function kj(s,o,c){var h=_r();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ch(s)?v_(o,c):(c=Kg(s,o,c,h),c!==null&&(ir(c,s,h),x_(c,o,h)))}function y_(s,o,c){var h=_r();Wu(s,o,c,h)}function Wu(s,o,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ch(s))v_(o,y);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,O=v(T,c);if(y.hasEagerState=!0,y.eagerState=O,gr(O,T))return lh(s,o,y,0),Et===null&&oh(),!1}catch{}finally{}if(c=Kg(s,o,y,h),c!==null)return ir(c,s,h),x_(c,o,h),!0}return!1}function j0(s,o,c,h){if(h={lane:2,revertLane:fb(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ch(s)){if(o)throw Error(r(479))}else o=Kg(s,c,h,2),o!==null&&ir(o,s,2)}function Ch(s){var o=s.alternate;return s===We||o!==null&&o===We}function v_(s,o){Wl=wh=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function x_(s,o,c){if((c&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,mu(s,c)}}var Gu={readContext:An,use:Sh,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};Gu.useEffectEvent=qt;var w_={readContext:An,use:Sh,useCallback:function(s,o){return qn().memoizedState=[s,o===void 0?null:o],s},useContext:An,useEffect:i_,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Ah(4194308,4,l_.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Ah(4194308,4,s,o)},useInsertionEffect:function(s,o){Ah(4,2,s,o)},useMemo:function(s,o){var c=qn();o=o===void 0?null:o;var h=s();if(jo){Xn(!0);try{s()}finally{Xn(!1)}}return c.memoizedState=[h,o],h},useReducer:function(s,o,c){var h=qn();if(c!==void 0){var y=c(o);if(jo){Xn(!0);try{c(o)}finally{Xn(!1)}}}else y=o;return h.memoizedState=h.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},h.queue=s,s=s.dispatch=kj.bind(null,We,s),[h.memoizedState,s]},useRef:function(s){var o=qn();return s={current:s},o.memoizedState=s},useState:function(s){s=T0(s);var o=s.queue,c=y_.bind(null,We,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:R0,useDeferredValue:function(s,o){var c=qn();return D0(c,s,o)},useTransition:function(){var s=T0(!1);return s=h_.bind(null,We,s.queue,!0,!1),qn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var h=We,y=qn();if(it){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Et===null)throw Error(r(349));(et&127)!==0||H1(h,o,c)}y.memoizedState=c;var v={value:c,getSnapshot:o};return y.queue=v,i_(q1.bind(null,h,v,s),[s]),h.flags|=2048,Yl(9,{destroy:void 0},F1.bind(null,h,v,c,o),null),c},useId:function(){var s=qn(),o=Et.identifierPrefix;if(it){var c=Pi,h=Ii;c=(h&~(1<<32-Pt(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=_h++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=yj++,o="_"+o+"r_"+c.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:M0,useFormState:J1,useActionState:J1,useOptimistic:function(s){var o=qn();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=j0.bind(null,We,!0,c),c.dispatch=o,[s,o]},useMemoCache:S0,useCacheRefresh:function(){return qn().memoizedState=Sj.bind(null,We)},useEffectEvent:function(s){var o=qn(),c={impl:s};return o.memoizedState=c,function(){if((dt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},O0={readContext:An,use:Sh,useCallback:u_,useContext:An,useEffect:N0,useImperativeHandle:c_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:d_,useReducer:kh,useRef:r_,useState:function(){return kh(vs)},useDebugValue:R0,useDeferredValue:function(s,o){var c=Zt();return f_(c,xt.memoizedState,s,o)},useTransition:function(){var s=kh(vs)[0],o=Zt().memoizedState;return[typeof s=="boolean"?s:$u(s),o]},useSyncExternalStore:B1,useId:g_,useHostTransitionStatus:M0,useFormState:e_,useActionState:e_,useOptimistic:function(s,o){var c=Zt();return G1(c,xt,s,o)},useMemoCache:S0,useCacheRefresh:b_};O0.useEffectEvent=s_;var __={readContext:An,use:Sh,useCallback:u_,useContext:An,useEffect:N0,useImperativeHandle:c_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:d_,useReducer:A0,useRef:r_,useState:function(){return A0(vs)},useDebugValue:R0,useDeferredValue:function(s,o){var c=Zt();return xt===null?D0(c,s,o):f_(c,xt.memoizedState,s,o)},useTransition:function(){var s=A0(vs)[0],o=Zt().memoizedState;return[typeof s=="boolean"?s:$u(s),o]},useSyncExternalStore:B1,useId:g_,useHostTransitionStatus:M0,useFormState:n_,useActionState:n_,useOptimistic:function(s,o){var c=Zt();return xt!==null?G1(c,xt,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:S0,useCacheRefresh:b_};__.useEffectEvent=s_;function I0(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:b({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var P0={enqueueSetState:function(s,o,c){s=s._reactInternals;var h=_r(),y=oa(h);y.payload=o,c!=null&&(y.callback=c),o=la(s,y,h),o!==null&&(ir(o,s,h),Bu(o,s,h))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=_r(),y=oa(h);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=la(s,y,h),o!==null&&(ir(o,s,h),Bu(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=_r(),h=oa(c);h.tag=2,o!=null&&(h.callback=o),o=la(s,h,c),o!==null&&(ir(o,s,c),Bu(o,s,c))}};function E_(s,o,c,h,y,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,T):o.prototype&&o.prototype.isPureReactComponent?!Mu(c,h)||!Mu(y,v):!0}function S_(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&P0.enqueueReplaceState(o,o.state,null)}function Oo(s,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(s=s.defaultProps){c===o&&(c=b({},c));for(var y in s)c[y]===void 0&&(c[y]=s[y])}return c}function k_(s){ah(s)}function A_(s){console.error(s)}function T_(s){ah(s)}function Nh(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function C_(s,o,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function V0(s,o,c){return c=oa(c),c.tag=3,c.payload={element:null},c.callback=function(){Nh(s,o)},c}function N_(s){return s=oa(s),s.tag=3,s}function R_(s,o,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;s.payload=function(){return y(v)},s.callback=function(){C_(o,c,h)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){C_(o,c,h),typeof y!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function Aj(s,o,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Ul(o,c,y,!0),c=yr.current,c!==null){switch(c.tag){case 31:case 13:return qr===null?Bh():c.alternate===null&&$t===0&&($t=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===gh?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),cb(s,h,y)),!1;case 22:return c.flags|=65536,h===gh?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),cb(s,h,y)),!1}throw Error(r(435,c.tag))}return cb(s,h,y),Bh(),!1}if(it)return o=yr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==r0&&(s=Error(r(422),{cause:h}),Iu(Ur(s,c)))):(h!==r0&&(o=Error(r(423),{cause:h}),Iu(Ur(o,c))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,h=Ur(h,c),y=V0(s.stateNode,h,y),m0(s,y),$t!==4&&($t=2)),!1;var v=Error(r(520),{cause:h});if(v=Ur(v,c),td===null?td=[v]:td.push(v),$t!==4&&($t=2),o===null)return!0;h=Ur(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=y&-y,c.lanes|=s,s=V0(c.stateNode,h,s),m0(c,s),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ma===null||!ma.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=N_(y),R_(y,s,c,h),m0(c,y),!1}c=c.return}while(c!==null);return!1}var L0=Error(r(461)),an=!1;function Tn(s,o,c,h){o.child=s===null?j1(o,null,c,h):Mo(o,s.child,c,h)}function D_(s,o,c,h,y){c=c.render;var v=o.ref;if("ref"in h){var T={};for(var O in h)O!=="ref"&&(T[O]=h[O])}else T=h;return No(o),h=x0(s,o,c,T,v,y),O=w0(),s!==null&&!an?(_0(s,o,y),xs(s,o,y)):(it&&O&&t0(o),o.flags|=1,Tn(s,o,h,y),o.child)}function z_(s,o,c,h,y){if(s===null){var v=c.type;return typeof v=="function"&&!Zg(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,M_(s,o,v,h,y)):(s=uh(c.type,null,h,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!G0(s,y)){var T=v.memoizedProps;if(c=c.compare,c=c!==null?c:Mu,c(T,h)&&s.ref===o.ref)return xs(s,o,y)}return o.flags|=1,s=ms(v,h),s.ref=o.ref,s.return=o,o.child=s}function M_(s,o,c,h,y){if(s!==null){var v=s.memoizedProps;if(Mu(v,h)&&s.ref===o.ref)if(an=!1,o.pendingProps=h=v,G0(s,y))(s.flags&131072)!==0&&(an=!0);else return o.lanes=s.lanes,xs(s,o,y)}return U0(s,o,c,h,y)}function j_(s,o,c,h){var y=h.children,v=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,s!==null){for(h=o.child=s.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~v}else h=0,o.child=null;return O_(s,o,v,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&mh(o,v!==null?v.cachePool:null),v!==null?P1(o,v):g0(),V1(o);else return h=o.lanes=536870912,O_(s,o,v!==null?v.baseLanes|c:c,c,h)}else v!==null?(mh(o,v.cachePool),P1(o,v),ua(),o.memoizedState=null):(s!==null&&mh(o,null),g0(),ua());return Tn(s,o,y,c),o.child}function Yu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function O_(s,o,c,h,y){var v=u0();return v=v===null?null:{parent:rn._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},s!==null&&mh(o,null),g0(),V1(o),s!==null&&Ul(s,o,h,!0),o.childLanes=y,null}function Rh(s,o){return o=zh({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function I_(s,o,c){return Mo(o,s.child,null,c),s=Rh(o,o.pendingProps),s.flags|=2,vr(o),o.memoizedState=null,s}function Tj(s,o,c){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(it){if(h.mode==="hidden")return s=Rh(o,h),o.lanes=536870912,Yu(null,s);if(y0(o),(s=At)?(s=YE(s,Fr),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:na!==null?{id:Ii,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},c=v1(s),c.return=o,o.child=c,kn=o,At=null)):s=null,s===null)throw ia(o);return o.lanes=536870912,null}return Rh(o,h)}var v=s.memoizedState;if(v!==null){var T=v.dehydrated;if(y0(o),y)if(o.flags&256)o.flags&=-257,o=I_(s,o,c);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(an||Ul(s,o,c,!1),y=(c&s.childLanes)!==0,an||y){if(h=Et,h!==null&&(T=pu(h,c),T!==0&&T!==v.retryLane))throw v.retryLane=T,ko(s,T),ir(h,s,T),L0;Bh(),o=I_(s,o,c)}else s=v.treeContext,At=$r(T.nextSibling),kn=o,it=!0,ra=null,Fr=!1,s!==null&&_1(o,s),o=Rh(o,h),o.flags|=4096;return o}return s=ms(s.child,{mode:h.mode,children:h.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Dh(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function U0(s,o,c,h,y){return No(o),c=x0(s,o,c,h,void 0,y),h=w0(),s!==null&&!an?(_0(s,o,y),xs(s,o,y)):(it&&h&&t0(o),o.flags|=1,Tn(s,o,c,y),o.child)}function P_(s,o,c,h,y,v){return No(o),o.updateQueue=null,c=U1(o,h,c,y),L1(s),h=w0(),s!==null&&!an?(_0(s,o,v),xs(s,o,v)):(it&&h&&t0(o),o.flags|=1,Tn(s,o,c,v),o.child)}function V_(s,o,c,h,y){if(No(o),o.stateNode===null){var v=Il,T=c.contextType;typeof T=="object"&&T!==null&&(v=An(T)),v=new c(h,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=P0,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=h,v.state=o.memoizedState,v.refs={},f0(o),T=c.contextType,v.context=typeof T=="object"&&T!==null?An(T):Il,v.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(I0(o,c,T,h),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&P0.enqueueReplaceState(v,v.state,null),Fu(o,h,v,y),Hu(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){v=o.stateNode;var O=o.memoizedProps,$=Oo(c,O);v.props=$;var J=v.context,ce=c.contextType;T=Il,typeof ce=="object"&&ce!==null&&(T=An(ce));var he=c.getDerivedStateFromProps;ce=typeof he=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,ce||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||J!==T)&&S_(o,v,h,T),aa=!1;var ee=o.memoizedState;v.state=ee,Fu(o,h,v,y),Hu(),J=o.memoizedState,O||ee!==J||aa?(typeof he=="function"&&(I0(o,c,he,h),J=o.memoizedState),($=aa||E_(o,c,$,h,ee,J,T))?(ce||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=J),v.props=h,v.state=J,v.context=T,h=$):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{v=o.stateNode,h0(s,o),T=o.memoizedProps,ce=Oo(c,T),v.props=ce,he=o.pendingProps,ee=v.context,J=c.contextType,$=Il,typeof J=="object"&&J!==null&&($=An(J)),O=c.getDerivedStateFromProps,(J=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==he||ee!==$)&&S_(o,v,h,$),aa=!1,ee=o.memoizedState,v.state=ee,Fu(o,h,v,y),Hu();var se=o.memoizedState;T!==he||ee!==se||aa||s!==null&&s.dependencies!==null&&fh(s.dependencies)?(typeof O=="function"&&(I0(o,c,O,h),se=o.memoizedState),(ce=aa||E_(o,c,ce,h,ee,se,$)||s!==null&&s.dependencies!==null&&fh(s.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,se,$),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,se,$)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=se),v.props=h,v.state=se,v.context=$,h=ce):(typeof v.componentDidUpdate!="function"||T===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return v=h,Dh(s,o),h=(o.flags&128)!==0,v||h?(v=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,s!==null&&h?(o.child=Mo(o,s.child,null,y),o.child=Mo(o,null,c,y)):Tn(s,o,c,y),o.memoizedState=v.state,s=o.child):s=xs(s,o,y),s}function L_(s,o,c,h){return To(),o.flags|=256,Tn(s,o,c,h),o.child}var B0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function H0(s){return{baseLanes:s,cachePool:C1()}}function F0(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=wr),s}function U_(s,o,c){var h=o.pendingProps,y=!1,v=(o.flags&128)!==0,T;if((T=v)||(T=s!==null&&s.memoizedState===null?!1:(Kt.current&2)!==0),T&&(y=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,s===null){if(it){if(y?ca(o):ua(),(s=At)?(s=YE(s,Fr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:na!==null?{id:Ii,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},c=v1(s),c.return=o,o.child=c,kn=o,At=null)):s=null,s===null)throw ia(o);return kb(s)?o.lanes=32:o.lanes=536870912,null}var O=h.children;return h=h.fallback,y?(ua(),y=o.mode,O=zh({mode:"hidden",children:O},y),h=Ao(h,y,c,null),O.return=o,h.return=o,O.sibling=h,o.child=O,h=o.child,h.memoizedState=H0(c),h.childLanes=F0(s,T,c),o.memoizedState=B0,Yu(null,h)):(ca(o),q0(o,O))}var $=s.memoizedState;if($!==null&&(O=$.dehydrated,O!==null)){if(v)o.flags&256?(ca(o),o.flags&=-257,o=$0(s,o,c)):o.memoizedState!==null?(ua(),o.child=s.child,o.flags|=128,o=null):(ua(),O=h.fallback,y=o.mode,h=zh({mode:"visible",children:h.children},y),O=Ao(O,y,c,null),O.flags|=2,h.return=o,O.return=o,h.sibling=O,o.child=h,Mo(o,s.child,null,c),h=o.child,h.memoizedState=H0(c),h.childLanes=F0(s,T,c),o.memoizedState=B0,o=Yu(null,h));else if(ca(o),kb(O)){if(T=O.nextSibling&&O.nextSibling.dataset,T)var J=T.dgst;T=J,h=Error(r(419)),h.stack="",h.digest=T,Iu({value:h,source:null,stack:null}),o=$0(s,o,c)}else if(an||Ul(s,o,c,!1),T=(c&s.childLanes)!==0,an||T){if(T=Et,T!==null&&(h=pu(T,c),h!==0&&h!==$.retryLane))throw $.retryLane=h,ko(s,h),ir(T,s,h),L0;Sb(O)||Bh(),o=$0(s,o,c)}else Sb(O)?(o.flags|=192,o.child=s.child,o=null):(s=$.treeContext,At=$r(O.nextSibling),kn=o,it=!0,ra=null,Fr=!1,s!==null&&_1(o,s),o=q0(o,h.children),o.flags|=4096);return o}return y?(ua(),O=h.fallback,y=o.mode,$=s.child,J=$.sibling,h=ms($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&65011712,J!==null?O=ms(J,O):(O=Ao(O,y,c,null),O.flags|=2),O.return=o,h.return=o,h.sibling=O,o.child=h,Yu(null,h),h=o.child,O=s.child.memoizedState,O===null?O=H0(c):(y=O.cachePool,y!==null?($=rn._currentValue,y=y.parent!==$?{parent:$,pool:$}:y):y=C1(),O={baseLanes:O.baseLanes|c,cachePool:y}),h.memoizedState=O,h.childLanes=F0(s,T,c),o.memoizedState=B0,Yu(s.child,h)):(ca(o),c=s.child,s=c.sibling,c=ms(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,s!==null&&(T=o.deletions,T===null?(o.deletions=[s],o.flags|=16):T.push(s)),o.child=c,o.memoizedState=null,c)}function q0(s,o){return o=zh({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function zh(s,o){return s=br(22,s,null,o),s.lanes=0,s}function $0(s,o,c){return Mo(o,s.child,null,c),s=q0(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function B_(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),a0(s.return,o,c)}function W0(s,o,c,h,y,v){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:v}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=c,T.tailMode=y,T.treeForkCount=v)}function H_(s,o,c){var h=o.pendingProps,y=h.revealOrder,v=h.tail;h=h.children;var T=Kt.current,O=(T&2)!==0;if(O?(T=T&1|2,o.flags|=128):T&=1,ue(Kt,T),Tn(s,o,h,c),h=it?Ou:0,!O&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&B_(s,c,o);else if(s.tag===19)B_(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&xh(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),W0(o,!1,y,c,v,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&xh(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}W0(o,!0,c,null,v,h);break;case"together":W0(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function xs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),ha|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Ul(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,c=ms(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ms(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function G0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&fh(s)))}function Cj(s,o,c){switch(o.tag){case 3:Ie(o,o.stateNode.containerInfo),sa(o,rn,s.memoizedState.cache),To();break;case 27:case 5:Qe(o);break;case 4:Ie(o,o.stateNode.containerInfo);break;case 10:sa(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,y0(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ca(o),o.flags|=128,null):(c&o.child.childLanes)!==0?U_(s,o,c):(ca(o),s=xs(s,o,c),s!==null?s.sibling:null);ca(o);break;case 19:var y=(s.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Ul(s,o,c,!1),h=(c&o.childLanes)!==0),y){if(h)return H_(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ue(Kt,Kt.current),h)break;return null;case 22:return o.lanes=0,j_(s,o,c,o.pendingProps);case 24:sa(o,rn,s.memoizedState.cache)}return xs(s,o,c)}function F_(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)an=!0;else{if(!G0(s,c)&&(o.flags&128)===0)return an=!1,Cj(s,o,c);an=(s.flags&131072)!==0}else an=!1,it&&(o.flags&1048576)!==0&&w1(o,Ou,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(s=Do(o.elementType),o.type=s,typeof s=="function")Zg(s)?(h=Oo(s,h),o.tag=1,o=V_(null,o,s,h,c)):(o.tag=0,o=U0(null,o,s,h,c));else{if(s!=null){var y=s.$$typeof;if(y===M){o.tag=11,o=D_(null,o,s,h,c);break e}else if(y===D){o.tag=14,o=z_(null,o,s,h,c);break e}}throw o=oe(s)||s,Error(r(306,o,""))}}return o;case 0:return U0(s,o,o.type,o.pendingProps,c);case 1:return h=o.type,y=Oo(h,o.pendingProps),V_(s,o,h,y,c);case 3:e:{if(Ie(o,o.stateNode.containerInfo),s===null)throw Error(r(387));h=o.pendingProps;var v=o.memoizedState;y=v.element,h0(s,o),Fu(o,h,null,c);var T=o.memoizedState;if(h=T.cache,sa(o,rn,h),h!==v.cache&&o0(o,[rn],c,!0),Hu(),h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=L_(s,o,h,c);break e}else if(h!==y){y=Ur(Error(r(424)),o),Iu(y),o=L_(s,o,h,c);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(At=$r(s.firstChild),kn=o,it=!0,ra=null,Fr=!0,c=j1(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(To(),h===y){o=xs(s,o,c);break e}Tn(s,o,h,c)}o=o.child}return o;case 26:return Dh(s,o),s===null?(c=eS(o.type,null,o.pendingProps,null))?o.memoizedState=c:it||(c=o.type,s=o.pendingProps,h=Yh(Te.current).createElement(c),h[en]=o,h[gn]=s,Cn(h,c,s),tn(h),o.stateNode=h):o.memoizedState=eS(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Qe(o),s===null&&it&&(h=o.stateNode=KE(o.type,o.pendingProps,Te.current),kn=o,Fr=!0,y=At,ya(o.type)?(Ab=y,At=$r(h.firstChild)):At=y),Tn(s,o,o.pendingProps.children,c),Dh(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&it&&((y=h=At)&&(h=iO(h,o.type,o.pendingProps,Fr),h!==null?(o.stateNode=h,kn=o,At=$r(h.firstChild),Fr=!1,y=!0):y=!1),y||ia(o)),Qe(o),y=o.type,v=o.pendingProps,T=s!==null?s.memoizedProps:null,h=v.children,wb(y,v)?h=null:T!==null&&wb(y,T)&&(o.flags|=32),o.memoizedState!==null&&(y=x0(s,o,vj,null,null,c),cd._currentValue=y),Dh(s,o),Tn(s,o,h,c),o.child;case 6:return s===null&&it&&((s=c=At)&&(c=sO(c,o.pendingProps,Fr),c!==null?(o.stateNode=c,kn=o,At=null,s=!0):s=!1),s||ia(o)),null;case 13:return U_(s,o,c);case 4:return Ie(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Mo(o,null,h,c):Tn(s,o,h,c),o.child;case 11:return D_(s,o,o.type,o.pendingProps,c);case 7:return Tn(s,o,o.pendingProps,c),o.child;case 8:return Tn(s,o,o.pendingProps.children,c),o.child;case 12:return Tn(s,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,sa(o,o.type,h.value),Tn(s,o,h.children,c),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,No(o),y=An(y),h=h(y),o.flags|=1,Tn(s,o,h,c),o.child;case 14:return z_(s,o,o.type,o.pendingProps,c);case 15:return M_(s,o,o.type,o.pendingProps,c);case 19:return H_(s,o,c);case 31:return Tj(s,o,c);case 22:return j_(s,o,c,o.pendingProps);case 24:return No(o),h=An(rn),s===null?(y=u0(),y===null&&(y=Et,v=l0(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),o.memoizedState={parent:h,cache:y},f0(o),sa(o,rn,y)):((s.lanes&c)!==0&&(h0(s,o),Fu(o,null,null,c),Hu()),y=s.memoizedState,v=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),sa(o,rn,h)):(h=v.cache,sa(o,rn,h),h!==y.cache&&o0(o,[rn],c,!0))),Tn(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ws(s){s.flags|=4}function Y0(s,o,c,h,y){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(gE())s.flags|=8192;else throw zo=gh,d0}else s.flags&=-16777217}function q_(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sS(o))if(gE())s.flags|=8192;else throw zo=gh,d0}function Mh(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?xl():536870912,s.lanes|=o,Zl|=o)}function Qu(s,o){if(!it)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Tt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function Nj(s,o,c){var h=o.pendingProps;switch(n0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(o),null;case 1:return Tt(o),null;case 3:return c=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),bs(rn),qe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Ll(o)?ws(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,i0())),Tt(o),null;case 26:var y=o.type,v=o.memoizedState;return s===null?(ws(o),v!==null?(Tt(o),q_(o,v)):(Tt(o),Y0(o,y,null,h,c))):v?v!==s.memoizedState?(ws(o),Tt(o),q_(o,v)):(Tt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==h&&ws(o),Tt(o),Y0(o,y,s,h,c)),null;case 27:if(kt(o),c=Te.current,y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&ws(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Tt(o),null}s=ge.current,Ll(o)?E1(o):(s=KE(y,h,c),o.stateNode=s,ws(o))}return Tt(o),null;case 5:if(kt(o),y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&ws(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Tt(o),null}if(v=ge.current,Ll(o))E1(o);else{var T=Yh(Te.current);switch(v){case 1:v=T.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=T.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=T.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?T.createElement("select",{is:h.is}):T.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?T.createElement(y,{is:h.is}):T.createElement(y)}}v[en]=o,v[gn]=h;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)v.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=v;e:switch(Cn(v,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ws(o)}}return Tt(o),Y0(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,c),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&ws(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(s=Te.current,Ll(o)){if(s=o.stateNode,c=o.memoizedProps,h=null,y=kn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}s[en]=o,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||UE(s.nodeValue,c)),s||ia(o,!0)}else s=Yh(s).createTextNode(h),s[en]=o,o.stateNode=s}return Tt(o),null;case 31:if(c=o.memoizedState,s===null||s.memoizedState!==null){if(h=Ll(o),c!==null){if(s===null){if(!h)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[en]=o}else To(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Tt(o),s=!1}else c=i0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return o.flags&256?(vr(o),o):(vr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Tt(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Ll(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[en]=o}else To(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Tt(o),y=!1}else y=i0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(vr(o),o):(vr(o),null)}return vr(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)),c!==s&&c&&(o.child.flags|=8192),Mh(o,o.updateQueue),Tt(o),null);case 4:return qe(),s===null&&gb(o.stateNode.containerInfo),Tt(o),null;case 10:return bs(o.type),Tt(o),null;case 19:if(K(Kt),h=o.memoizedState,h===null)return Tt(o),null;if(y=(o.flags&128)!==0,v=h.rendering,v===null)if(y)Qu(h,!1);else{if($t!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(v=xh(s),v!==null){for(o.flags|=128,Qu(h,!1),s=v.updateQueue,o.updateQueue=s,Mh(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)y1(c,s),c=c.sibling;return ue(Kt,Kt.current&1|2),it&&ps(o,h.treeForkCount),o.child}s=s.sibling}h.tail!==null&&dn()>Vh&&(o.flags|=128,y=!0,Qu(h,!1),o.lanes=4194304)}else{if(!y)if(s=xh(v),s!==null){if(o.flags|=128,y=!0,s=s.updateQueue,o.updateQueue=s,Mh(o,s),Qu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!it)return Tt(o),null}else 2*dn()-h.renderingStartTime>Vh&&c!==536870912&&(o.flags|=128,y=!0,Qu(h,!1),o.lanes=4194304);h.isBackwards?(v.sibling=o.child,o.child=v):(s=h.last,s!==null?s.sibling=v:o.child=v,h.last=v)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=dn(),s.sibling=null,c=Kt.current,ue(Kt,y?c&1|2:c&1),it&&ps(o,h.treeForkCount),s):(Tt(o),null);case 22:case 23:return vr(o),b0(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Tt(o),o.subtreeFlags&6&&(o.flags|=8192)):Tt(o),c=o.updateQueue,c!==null&&Mh(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),s!==null&&K(Ro),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),bs(rn),Tt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Rj(s,o){switch(n0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return bs(rn),qe(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return kt(o),null;case 31:if(o.memoizedState!==null){if(vr(o),o.alternate===null)throw Error(r(340));To()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(vr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));To()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return K(Kt),null;case 4:return qe(),null;case 10:return bs(o.type),null;case 22:case 23:return vr(o),b0(),s!==null&&K(Ro),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return bs(rn),null;case 25:return null;default:return null}}function $_(s,o){switch(n0(o),o.tag){case 3:bs(rn),qe();break;case 26:case 27:case 5:kt(o);break;case 4:qe();break;case 31:o.memoizedState!==null&&vr(o);break;case 13:vr(o);break;case 19:K(Kt);break;case 10:bs(o.type);break;case 22:case 23:vr(o),b0(),s!==null&&K(Ro);break;case 24:bs(rn)}}function Xu(s,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&s)===s){h=void 0;var v=c.create,T=c.inst;h=v(),T.destroy=h}c=c.next}while(c!==y)}}catch(O){bt(o,o.return,O)}}function da(s,o,c){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&s)===s){var T=h.inst,O=T.destroy;if(O!==void 0){T.destroy=void 0,y=o;var $=c,J=O;try{J()}catch(ce){bt(y,$,ce)}}}h=h.next}while(h!==v)}}catch(ce){bt(o,o.return,ce)}}function W_(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{I1(o,c)}catch(h){bt(s,s.return,h)}}}function G_(s,o,c){c.props=Oo(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){bt(s,o,h)}}function Ku(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(y){bt(s,o,y)}}function Vi(s,o){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){bt(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){bt(s,o,y)}else c.current=null}function Y_(s){var o=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){bt(s,s.return,y)}}function Q0(s,o,c){try{var h=s.stateNode;Zj(h,s.type,c,o),h[gn]=o}catch(y){bt(s,s.return,y)}}function Q_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ya(s.type)||s.tag===4}function X0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Q_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ya(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function K0(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ii));else if(h!==4&&(h===27&&ya(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(K0(s,o,c),s=s.sibling;s!==null;)K0(s,o,c),s=s.sibling}function jh(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(h===27&&ya(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(jh(s,o,c),s=s.sibling;s!==null;)jh(s,o,c),s=s.sibling}function X_(s){var o=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Cn(o,h,c),o[en]=s,o[gn]=c}catch(v){bt(s,s.return,v)}}var _s=!1,on=!1,Z0=!1,K_=typeof WeakSet=="function"?WeakSet:Set,yn=null;function Dj(s,o){if(s=s.containerInfo,vb=tm,s=c1(s),$g(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var T=0,O=-1,$=-1,J=0,ce=0,he=s,ee=null;t:for(;;){for(var se;he!==c||y!==0&&he.nodeType!==3||(O=T+y),he!==v||h!==0&&he.nodeType!==3||($=T+h),he.nodeType===3&&(T+=he.nodeValue.length),(se=he.firstChild)!==null;)ee=he,he=se;for(;;){if(he===s)break t;if(ee===c&&++J===y&&(O=T),ee===v&&++ce===h&&($=T),(se=he.nextSibling)!==null)break;he=ee,ee=he.parentNode}he=se}c=O===-1||$===-1?null:{start:O,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(xb={focusedElem:s,selectionRange:c},tm=!1,yn=o;yn!==null;)if(o=yn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,yn=s;else for(;yn!==null;){switch(o=yn,v=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)y=s[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,c=o,y=v.memoizedProps,v=v.memoizedState,h=c.stateNode;try{var Se=Oo(c.type,y);s=h.getSnapshotBeforeUpdate(Se,v),h.__reactInternalSnapshotBeforeUpdate=s}catch(Oe){bt(c,c.return,Oe)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)Eb(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Eb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,yn=s;break}yn=o.return}}function Z_(s,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ss(s,c),h&4&&Xu(5,c);break;case 1:if(Ss(s,c),h&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(T){bt(c,c.return,T)}else{var y=Oo(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){bt(c,c.return,T)}}h&64&&W_(c),h&512&&Ku(c,c.return);break;case 3:if(Ss(s,c),h&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{I1(s,o)}catch(T){bt(c,c.return,T)}}break;case 27:o===null&&h&4&&X_(c);case 26:case 5:Ss(s,c),o===null&&h&4&&Y_(c),h&512&&Ku(c,c.return);break;case 12:Ss(s,c);break;case 31:Ss(s,c),h&4&&tE(s,c);break;case 13:Ss(s,c),h&4&&nE(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=Uj.bind(null,c),aO(s,c))));break;case 22:if(h=c.memoizedState!==null||_s,!h){o=o!==null&&o.memoizedState!==null||on,y=_s;var v=on;_s=h,(on=o)&&!v?ks(s,c,(c.subtreeFlags&8772)!==0):Ss(s,c),_s=y,on=v}break;case 30:break;default:Ss(s,c)}}function J_(s){var o=s.alternate;o!==null&&(s.alternate=null,J_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&_l(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var zt=null,er=!1;function Es(s,o,c){for(c=c.child;c!==null;)eE(s,o,c),c=c.sibling}function eE(s,o,c){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(fr,c)}catch{}switch(c.tag){case 26:on||Vi(c,o),Es(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:on||Vi(c,o);var h=zt,y=er;ya(c.type)&&(zt=c.stateNode,er=!1),Es(s,o,c),ad(c.stateNode),zt=h,er=y;break;case 5:on||Vi(c,o);case 6:if(h=zt,y=er,zt=null,Es(s,o,c),zt=h,er=y,zt!==null)if(er)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(c.stateNode)}catch(v){bt(c,o,v)}else try{zt.removeChild(c.stateNode)}catch(v){bt(c,o,v)}break;case 18:zt!==null&&(er?(s=zt,WE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),ac(s)):WE(zt,c.stateNode));break;case 4:h=zt,y=er,zt=c.stateNode.containerInfo,er=!0,Es(s,o,c),zt=h,er=y;break;case 0:case 11:case 14:case 15:da(2,c,o),on||da(4,c,o),Es(s,o,c);break;case 1:on||(Vi(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&G_(c,o,h)),Es(s,o,c);break;case 21:Es(s,o,c);break;case 22:on=(h=on)||c.memoizedState!==null,Es(s,o,c),on=h;break;default:Es(s,o,c)}}function tE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ac(s)}catch(c){bt(o,o.return,c)}}}function nE(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ac(s)}catch(c){bt(o,o.return,c)}}function zj(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new K_),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new K_),o;default:throw Error(r(435,s.tag))}}function Oh(s,o){var c=zj(s);o.forEach(function(h){if(!c.has(h)){c.add(h);var y=Bj.bind(null,s,h);h.then(y,y)}})}function tr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],v=s,T=o,O=T;e:for(;O!==null;){switch(O.tag){case 27:if(ya(O.type)){zt=O.stateNode,er=!1;break e}break;case 5:zt=O.stateNode,er=!1;break e;case 3:case 4:zt=O.stateNode.containerInfo,er=!0;break e}O=O.return}if(zt===null)throw Error(r(160));eE(v,T,y),zt=null,er=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)rE(o,s),o=o.sibling}var ui=null;function rE(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:tr(o,s),nr(s),h&4&&(da(3,s,s.return),Xu(3,s),da(5,s,s.return));break;case 1:tr(o,s),nr(s),h&512&&(on||c===null||Vi(c,c.return)),h&64&&_s&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=ui;if(tr(o,s),nr(s),h&512&&(on||c===null||Vi(c,c.return)),h&4){var v=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Si]||v[en]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),Cn(v,h,c),v[en]=s,tn(v),h=v;break e;case"link":var T=rS("link","href",y).get(h+(c.href||""));if(T){for(var O=0;O<T.length;O++)if(v=T[O],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(O,1);break t}}v=y.createElement(h),Cn(v,h,c),y.head.appendChild(v);break;case"meta":if(T=rS("meta","content",y).get(h+(c.content||""))){for(O=0;O<T.length;O++)if(v=T[O],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(O,1);break t}}v=y.createElement(h),Cn(v,h,c),y.head.appendChild(v);break;default:throw Error(r(468,h))}v[en]=s,tn(v),h=v}s.stateNode=h}else iS(y,s.type,s.stateNode);else s.stateNode=nS(y,h,s.memoizedProps);else v!==h?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,h===null?iS(y,s.type,s.stateNode):nS(y,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Q0(s,s.memoizedProps,c.memoizedProps)}break;case 27:tr(o,s),nr(s),h&512&&(on||c===null||Vi(c,c.return)),c!==null&&h&4&&Q0(s,s.memoizedProps,c.memoizedProps);break;case 5:if(tr(o,s),nr(s),h&512&&(on||c===null||Vi(c,c.return)),s.flags&32){y=s.stateNode;try{Jn(y,"")}catch(Se){bt(s,s.return,Se)}}h&4&&s.stateNode!=null&&(y=s.memoizedProps,Q0(s,y,c!==null?c.memoizedProps:y)),h&1024&&(Z0=!0);break;case 6:if(tr(o,s),nr(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(Se){bt(s,s.return,Se)}}break;case 3:if(Kh=null,y=ui,ui=Qh(o.containerInfo),tr(o,s),ui=y,nr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ac(o.containerInfo)}catch(Se){bt(s,s.return,Se)}Z0&&(Z0=!1,iE(s));break;case 4:h=ui,ui=Qh(s.stateNode.containerInfo),tr(o,s),nr(s),ui=h;break;case 12:tr(o,s),nr(s);break;case 31:tr(o,s),nr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Oh(s,h)));break;case 13:tr(o,s),nr(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ph=dn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Oh(s,h)));break;case 22:y=s.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,J=_s,ce=on;if(_s=J||y,on=ce||$,tr(o,s),on=ce,_s=J,nr(s),h&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||$||_s||on||Io(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){$=c=o;try{if(v=$.stateNode,y)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{O=$.stateNode;var he=$.memoizedProps.style,ee=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){bt($,$.return,Se)}}}else if(o.tag===6){if(c===null){$=o;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(Se){bt($,$.return,Se)}}}else if(o.tag===18){if(c===null){$=o;try{var se=$.stateNode;y?GE(se,!0):GE($.stateNode,!1)}catch(Se){bt($,$.return,Se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Oh(s,c))));break;case 19:tr(o,s),nr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Oh(s,h)));break;case 30:break;case 21:break;default:tr(o,s),nr(s)}}function nr(s){var o=s.flags;if(o&2){try{for(var c,h=s.return;h!==null;){if(Q_(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,v=X0(s);jh(s,v,y);break;case 5:var T=c.stateNode;c.flags&32&&(Jn(T,""),c.flags&=-33);var O=X0(s);jh(s,O,T);break;case 3:case 4:var $=c.stateNode.containerInfo,J=X0(s);K0(s,J,$);break;default:throw Error(r(161))}}catch(ce){bt(s,s.return,ce)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function iE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;iE(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ss(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Z_(s,o.alternate,o),o=o.sibling}function Io(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:da(4,o,o.return),Io(o);break;case 1:Vi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&G_(o,o.return,c),Io(o);break;case 27:ad(o.stateNode);case 26:case 5:Vi(o,o.return),Io(o);break;case 22:o.memoizedState===null&&Io(o);break;case 30:Io(o);break;default:Io(o)}s=s.sibling}}function ks(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=s,v=o,T=v.flags;switch(v.tag){case 0:case 11:case 15:ks(y,v,c),Xu(4,v);break;case 1:if(ks(y,v,c),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){bt(h,h.return,J)}if(h=v,y=h.updateQueue,y!==null){var O=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)O1($[y],O)}catch(J){bt(h,h.return,J)}}c&&T&64&&W_(v),Ku(v,v.return);break;case 27:X_(v);case 26:case 5:ks(y,v,c),c&&h===null&&T&4&&Y_(v),Ku(v,v.return);break;case 12:ks(y,v,c);break;case 31:ks(y,v,c),c&&T&4&&tE(y,v);break;case 13:ks(y,v,c),c&&T&4&&nE(y,v);break;case 22:v.memoizedState===null&&ks(y,v,c),Ku(v,v.return);break;case 30:break;default:ks(y,v,c)}o=o.sibling}}function J0(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Pu(c))}function eb(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s))}function di(s,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sE(s,o,c,h),o=o.sibling}function sE(s,o,c,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:di(s,o,c,h),y&2048&&Xu(9,o);break;case 1:di(s,o,c,h);break;case 3:di(s,o,c,h),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Pu(s)));break;case 12:if(y&2048){di(s,o,c,h),s=o.stateNode;try{var v=o.memoizedProps,T=v.id,O=v.onPostCommit;typeof O=="function"&&O(T,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch($){bt(o,o.return,$)}}else di(s,o,c,h);break;case 31:di(s,o,c,h);break;case 13:di(s,o,c,h);break;case 23:break;case 22:v=o.stateNode,T=o.alternate,o.memoizedState!==null?v._visibility&2?di(s,o,c,h):Zu(s,o):v._visibility&2?di(s,o,c,h):(v._visibility|=2,Ql(s,o,c,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&J0(T,o);break;case 24:di(s,o,c,h),y&2048&&eb(o.alternate,o);break;default:di(s,o,c,h)}}function Ql(s,o,c,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=s,T=o,O=c,$=h,J=T.flags;switch(T.tag){case 0:case 11:case 15:Ql(v,T,O,$,y),Xu(8,T);break;case 23:break;case 22:var ce=T.stateNode;T.memoizedState!==null?ce._visibility&2?Ql(v,T,O,$,y):Zu(v,T):(ce._visibility|=2,Ql(v,T,O,$,y)),y&&J&2048&&J0(T.alternate,T);break;case 24:Ql(v,T,O,$,y),y&&J&2048&&eb(T.alternate,T);break;default:Ql(v,T,O,$,y)}o=o.sibling}}function Zu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,h=o,y=h.flags;switch(h.tag){case 22:Zu(c,h),y&2048&&J0(h.alternate,h);break;case 24:Zu(c,h),y&2048&&eb(h.alternate,h);break;default:Zu(c,h)}o=o.sibling}}var Ju=8192;function Xl(s,o,c){if(s.subtreeFlags&Ju)for(s=s.child;s!==null;)aE(s,o,c),s=s.sibling}function aE(s,o,c){switch(s.tag){case 26:Xl(s,o,c),s.flags&Ju&&s.memoizedState!==null&&yO(c,ui,s.memoizedState,s.memoizedProps);break;case 5:Xl(s,o,c);break;case 3:case 4:var h=ui;ui=Qh(s.stateNode.containerInfo),Xl(s,o,c),ui=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Ju,Ju=16777216,Xl(s,o,c),Ju=h):Xl(s,o,c));break;default:Xl(s,o,c)}}function oE(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function ed(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];yn=h,cE(h,s)}oE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lE(s),s=s.sibling}function lE(s){switch(s.tag){case 0:case 11:case 15:ed(s),s.flags&2048&&da(9,s,s.return);break;case 3:ed(s);break;case 12:ed(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Ih(s)):ed(s);break;default:ed(s)}}function Ih(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];yn=h,cE(h,s)}oE(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:da(8,o,o.return),Ih(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ih(o));break;default:Ih(o)}s=s.sibling}}function cE(s,o){for(;yn!==null;){var c=yn;switch(c.tag){case 0:case 11:case 15:da(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Pu(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,yn=h;else e:for(c=s;yn!==null;){h=yn;var y=h.sibling,v=h.return;if(J_(h),h===c){yn=null;break e}if(y!==null){y.return=v,yn=y;break e}yn=v}}}var Mj={getCacheForType:function(s){var o=An(rn),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c},cacheSignal:function(){return An(rn).controller.signal}},jj=typeof WeakMap=="function"?WeakMap:Map,dt=0,Et=null,Ze=null,et=0,gt=0,xr=null,fa=!1,Kl=!1,tb=!1,As=0,$t=0,ha=0,Po=0,nb=0,wr=0,Zl=0,td=null,rr=null,rb=!1,Ph=0,uE=0,Vh=1/0,Lh=null,ma=null,hn=0,pa=null,Jl=null,Ts=0,ib=0,sb=null,dE=null,nd=0,ab=null;function _r(){return(dt&2)!==0&&et!==0?et&-et:W.T!==null?fb():Uf()}function fE(){if(wr===0)if((et&536870912)===0||it){var s=ze;ze<<=1,(ze&3932160)===0&&(ze=262144),wr=s}else wr=536870912;return s=yr.current,s!==null&&(s.flags|=32),wr}function ir(s,o,c){(s===Et&&(gt===2||gt===9)||s.cancelPendingCommit!==null)&&(ec(s,0),ga(s,et,wr,!1)),ti(s,c),((dt&2)===0||s!==Et)&&(s===Et&&((dt&2)===0&&(Po|=c),$t===4&&ga(s,et,wr,!1)),Li(s))}function hE(s,o,c){if((dt&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&s.expiredLanes)===0||hr(s,o),y=h?Pj(s,o):lb(s,o,!0),v=h;do{if(y===0){Kl&&!h&&ga(s,o,0,!1);break}else{if(c=s.current.alternate,v&&!Oj(c)){y=lb(s,o,!1),v=!1;continue}if(y===2){if(v=o,s.errorRecoveryDisabledLanes&v)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var O=s;y=td;var $=O.current.memoizedState.isDehydrated;if($&&(ec(O,T).flags|=256),T=lb(O,T,!1),T!==2){if(tb&&!$){O.errorRecoveryDisabledLanes|=v,Po|=v,y=4;break e}v=rr,rr=y,v!==null&&(rr===null?rr=v:rr.push.apply(rr,v))}y=T}if(v=!1,y!==2)continue}}if(y===1){ec(s,0),ga(s,o,0,!0);break}e:{switch(h=s,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ga(h,o,wr,!fa);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Ph+300-dn(),10<y)){if(ga(h,o,wr,!fa),Le(h,0,!0)!==0)break e;Ts=o,h.timeoutHandle=qE(mE.bind(null,h,c,rr,Lh,rb,o,wr,Po,Zl,fa,v,"Throttled",-0,0),y);break e}mE(h,c,rr,Lh,rb,o,wr,Po,Zl,fa,v,null,-0,0)}}break}while(!0);Li(s)}function mE(s,o,c,h,y,v,T,O,$,J,ce,he,ee,se){if(s.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},aE(o,v,he);var Se=(v&62914560)===v?Ph-dn():(v&4194048)===v?uE-dn():0;if(Se=vO(he,Se),Se!==null){Ts=v,s.cancelPendingCommit=Se(_E.bind(null,s,o,v,c,h,y,T,O,$,ce,he,null,ee,se)),ga(s,v,T,!J);return}}_E(s,o,v,c,h,y,T,O,$)}function Oj(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],v=y.getSnapshot;y=y.value;try{if(!gr(v(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ga(s,o,c,h){o&=~nb,o&=~Po,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var y=o;0<y;){var v=31-Pt(y),T=1<<v;h[v]=-1,y&=~T}c!==0&&fo(s,c,o)}function Uh(){return(dt&6)===0?(rd(0),!1):!0}function ob(){if(Ze!==null){if(gt===0)var s=Ze.return;else s=Ze,gs=Co=null,E0(s),ql=null,Lu=0,s=Ze;for(;s!==null;)$_(s.alternate,s),s=s.return;Ze=null}}function ec(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,tO(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Ts=0,ob(),Et=s,Ze=c=ms(s.current,null),et=o,gt=0,xr=null,fa=!1,Kl=hr(s,o),tb=!1,Zl=wr=nb=Po=ha=$t=0,rr=td=null,rb=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var y=31-Pt(h),v=1<<y;o|=s[y],h&=~v}return As=o,oh(),c}function pE(s,o){We=null,W.H=Gu,o===Fl||o===ph?(o=D1(),gt=3):o===d0?(o=D1(),gt=4):gt=o===L0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,xr=o,Ze===null&&($t=1,Nh(s,Ur(o,s.current)))}function gE(){var s=yr.current;return s===null?!0:(et&4194048)===et?qr===null:(et&62914560)===et||(et&536870912)!==0?s===qr:!1}function bE(){var s=W.H;return W.H=Gu,s===null?Gu:s}function yE(){var s=W.A;return W.A=Mj,s}function Bh(){$t=4,fa||(et&4194048)!==et&&yr.current!==null||(Kl=!0),(ha&134217727)===0&&(Po&134217727)===0||Et===null||ga(Et,et,wr,!1)}function lb(s,o,c){var h=dt;dt|=2;var y=bE(),v=yE();(Et!==s||et!==o)&&(Lh=null,ec(s,o)),o=!1;var T=$t;e:do try{if(gt!==0&&Ze!==null){var O=Ze,$=xr;switch(gt){case 8:ob(),T=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(o=!0);var J=gt;if(gt=0,xr=null,tc(s,O,$,J),c&&Kl){T=0;break e}break;default:J=gt,gt=0,xr=null,tc(s,O,$,J)}}Ij(),T=$t;break}catch(ce){pE(s,ce)}while(!0);return o&&s.shellSuspendCounter++,gs=Co=null,dt=h,W.H=y,W.A=v,Ze===null&&(Et=null,et=0,oh()),T}function Ij(){for(;Ze!==null;)vE(Ze)}function Pj(s,o){var c=dt;dt|=2;var h=bE(),y=yE();Et!==s||et!==o?(Lh=null,Vh=dn()+500,ec(s,o)):Kl=hr(s,o);e:do try{if(gt!==0&&Ze!==null){o=Ze;var v=xr;t:switch(gt){case 1:gt=0,xr=null,tc(s,o,v,1);break;case 2:case 9:if(N1(v)){gt=0,xr=null,xE(o);break}o=function(){gt!==2&&gt!==9||Et!==s||(gt=7),Li(s)},v.then(o,o);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:N1(v)?(gt=0,xr=null,xE(o)):(gt=0,xr=null,tc(s,o,v,7));break;case 5:var T=null;switch(Ze.tag){case 26:T=Ze.memoizedState;case 5:case 27:var O=Ze;if(T?sS(T):O.stateNode.complete){gt=0,xr=null;var $=O.sibling;if($!==null)Ze=$;else{var J=O.return;J!==null?(Ze=J,Hh(J)):Ze=null}break t}}gt=0,xr=null,tc(s,o,v,5);break;case 6:gt=0,xr=null,tc(s,o,v,6);break;case 8:ob(),$t=6;break e;default:throw Error(r(462))}}Vj();break}catch(ce){pE(s,ce)}while(!0);return gs=Co=null,W.H=h,W.A=y,dt=c,Ze!==null?0:(Et=null,et=0,oh(),$t)}function Vj(){for(;Ze!==null&&!du();)vE(Ze)}function vE(s){var o=F_(s.alternate,s,As);s.memoizedProps=s.pendingProps,o===null?Hh(s):Ze=o}function xE(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=P_(c,o,o.pendingProps,o.type,void 0,et);break;case 11:o=P_(c,o,o.pendingProps,o.type.render,o.ref,et);break;case 5:E0(o);default:$_(c,o),o=Ze=y1(o,As),o=F_(c,o,As)}s.memoizedProps=s.pendingProps,o===null?Hh(s):Ze=o}function tc(s,o,c,h){gs=Co=null,E0(o),ql=null,Lu=0;var y=o.return;try{if(Aj(s,y,o,c,et)){$t=1,Nh(s,Ur(c,s.current)),Ze=null;return}}catch(v){if(y!==null)throw Ze=y,v;$t=1,Nh(s,Ur(c,s.current)),Ze=null;return}o.flags&32768?(it||h===1?s=!0:Kl||(et&536870912)!==0?s=!1:(fa=s=!0,(h===2||h===9||h===3||h===6)&&(h=yr.current,h!==null&&h.tag===13&&(h.flags|=16384))),wE(o,s)):Hh(o)}function Hh(s){var o=s;do{if((o.flags&32768)!==0){wE(o,fa);return}s=o.return;var c=Nj(o.alternate,o,As);if(c!==null){Ze=c;return}if(o=o.sibling,o!==null){Ze=o;return}Ze=o=s}while(o!==null);$t===0&&($t=5)}function wE(s,o){do{var c=Rj(s.alternate,s);if(c!==null){c.flags&=32767,Ze=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=c}while(s!==null);$t=6,Ze=null}function _E(s,o,c,h,y,v,T,O,$){s.cancelPendingCommit=null;do Fh();while(hn!==0);if((dt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(v=o.lanes|o.childLanes,v|=Xg,Bg(s,c,v,T,O,$),s===Et&&(Ze=Et=null,et=0),Jl=o,pa=s,Ts=c,ib=v,sb=y,dE=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Hj(_i,function(){return TE(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,y=te.p,te.p=2,T=dt,dt|=4;try{Dj(s,o,c)}finally{dt=T,te.p=y,W.T=h}}hn=1,EE(),SE(),kE()}}function EE(){if(hn===1){hn=0;var s=pa,o=Jl,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var h=te.p;te.p=2;var y=dt;dt|=4;try{rE(o,s);var v=xb,T=c1(s.containerInfo),O=v.focusedElem,$=v.selectionRange;if(T!==O&&O&&O.ownerDocument&&l1(O.ownerDocument.documentElement,O)){if($!==null&&$g(O)){var J=$.start,ce=$.end;if(ce===void 0&&(ce=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(ce,O.value.length);else{var he=O.ownerDocument||document,ee=he&&he.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),Se=O.textContent.length,Oe=Math.min($.start,Se),_t=$.end===void 0?Oe:Math.min($.end,Se);!se.extend&&Oe>_t&&(T=_t,_t=Oe,Oe=T);var Q=o1(O,Oe),G=o1(O,_t);if(Q&&G&&(se.rangeCount!==1||se.anchorNode!==Q.node||se.anchorOffset!==Q.offset||se.focusNode!==G.node||se.focusOffset!==G.offset)){var Z=he.createRange();Z.setStart(Q.node,Q.offset),se.removeAllRanges(),Oe>_t?(se.addRange(Z),se.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),se.addRange(Z))}}}}for(he=[],se=O;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var fe=he[O];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}tm=!!vb,xb=vb=null}finally{dt=y,te.p=h,W.T=c}}s.current=o,hn=2}}function SE(){if(hn===2){hn=0;var s=pa,o=Jl,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var h=te.p;te.p=2;var y=dt;dt|=4;try{Z_(s,o.alternate,o)}finally{dt=y,te.p=h,W.T=c}}hn=3}}function kE(){if(hn===4||hn===3){hn=0,oo();var s=pa,o=Jl,c=Ts,h=dE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?hn=5:(hn=0,Jl=pa=null,AE(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(ma=null),us(c),o=o.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(fr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,y=te.p,te.p=2,W.T=null;try{for(var v=s.onRecoverableError,T=0;T<h.length;T++){var O=h[T];v(O.value,{componentStack:O.stack})}}finally{W.T=o,te.p=y}}(Ts&3)!==0&&Fh(),Li(s),y=s.pendingLanes,(c&261930)!==0&&(y&42)!==0?s===ab?nd++:(nd=0,ab=s):nd=0,rd(0)}}function AE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Pu(o)))}function Fh(){return EE(),SE(),kE(),TE()}function TE(){if(hn!==5)return!1;var s=pa,o=ib;ib=0;var c=us(Ts),h=W.T,y=te.p;try{te.p=32>c?32:c,W.T=null,c=sb,sb=null;var v=pa,T=Ts;if(hn=0,Jl=pa=null,Ts=0,(dt&6)!==0)throw Error(r(331));var O=dt;if(dt|=4,lE(v.current),sE(v,v.current,T,c),dt=O,rd(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(fr,v)}catch{}return!0}finally{te.p=y,W.T=h,AE(s,o)}}function CE(s,o,c){o=Ur(c,o),o=V0(s.stateNode,o,2),s=la(s,o,2),s!==null&&(ti(s,2),Li(s))}function bt(s,o,c){if(s.tag===3)CE(s,s,c);else for(;o!==null;){if(o.tag===3){CE(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ma===null||!ma.has(h))){s=Ur(c,s),c=N_(2),h=la(o,c,2),h!==null&&(R_(c,h,o,s),ti(h,2),Li(h));break}}o=o.return}}function cb(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new jj;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(c)||(tb=!0,y.add(c),s=Lj.bind(null,s,o,c),o.then(s,s))}function Lj(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Et===s&&(et&c)===c&&($t===4||$t===3&&(et&62914560)===et&&300>dn()-Ph?(dt&2)===0&&ec(s,0):nb|=c,Zl===et&&(Zl=0)),Li(s)}function NE(s,o){o===0&&(o=xl()),s=ko(s,o),s!==null&&(ti(s,o),Li(s))}function Uj(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),NE(s,c)}function Bj(s,o){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),NE(s,c)}function Hj(s,o){return Qt(s,o)}var qh=null,nc=null,ub=!1,$h=!1,db=!1,ba=0;function Li(s){s!==nc&&s.next===null&&(nc===null?qh=nc=s:nc=nc.next=s),$h=!0,ub||(ub=!0,qj())}function rd(s,o){if(!db&&$h){db=!0;do for(var c=!1,h=qh;h!==null;){if(s!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var T=h.suspendedLanes,O=h.pingedLanes;v=(1<<31-Pt(42|s)+1)-1,v&=y&~(T&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,ME(h,v))}else v=et,v=Le(h,h===Et?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||hr(h,v)||(c=!0,ME(h,v));h=h.next}while(c);db=!1}}function Fj(){RE()}function RE(){$h=ub=!1;var s=0;ba!==0&&eO()&&(s=ba);for(var o=dn(),c=null,h=qh;h!==null;){var y=h.next,v=DE(h,o);v===0?(h.next=null,c===null?qh=y:c.next=y,y===null&&(nc=c)):(c=h,(s!==0||(v&3)!==0)&&($h=!0)),h=y}hn!==0&&hn!==5||rd(s),ba!==0&&(ba=0)}function DE(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,y=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var T=31-Pt(v),O=1<<T,$=y[T];$===-1?((O&c)===0||(O&h)!==0)&&(y[T]=hu(O,o)):$<=o&&(s.expiredLanes|=O),v&=~O}if(o=Et,c=et,c=Le(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===o&&(gt===2||gt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&wi(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||hr(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(h!==null&&wi(h),us(c)){case 2:case 8:c=co;break;case 32:c=_i;break;case 268435456:c=bl;break;default:c=_i}return h=zE.bind(null,s),c=Qt(c,h),s.callbackPriority=o,s.callbackNode=c,o}return h!==null&&h!==null&&wi(h),s.callbackPriority=2,s.callbackNode=null,2}function zE(s,o){if(hn!==0&&hn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Fh()&&s.callbackNode!==c)return null;var h=et;return h=Le(s,s===Et?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(hE(s,h,o),DE(s,dn()),s.callbackNode!=null&&s.callbackNode===c?zE.bind(null,s):null)}function ME(s,o){if(Fh())return null;hE(s,o,!0)}function qj(){nO(function(){(dt&6)!==0?Qt(lo,Fj):RE()})}function fb(){if(ba===0){var s=Bl;s===0&&(s=Ge,Ge<<=1,(Ge&261888)===0&&(Ge=256)),ba=s}return ba}function jE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Al(""+s)}function OE(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function $j(s,o,c,h,y){if(o==="submit"&&c&&c.stateNode===y){var v=jE((y[gn]||null).action),T=h.submitter;T&&(o=(o=T[gn]||null)?jE(o.formAction):T.getAttribute("formAction"),o!==null&&(v=o,T=null));var O=new zi("action","action",null,h,y);s.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ba!==0){var $=T?OE(y,T):new FormData(y);z0(c,{pending:!0,data:$,method:y.method,action:v},null,$)}}else typeof v=="function"&&(O.preventDefault(),$=T?OE(y,T):new FormData(y),z0(c,{pending:!0,data:$,method:y.method,action:v},v,$))},currentTarget:y}]})}}for(var hb=0;hb<Qg.length;hb++){var mb=Qg[hb],Wj=mb.toLowerCase(),Gj=mb[0].toUpperCase()+mb.slice(1);ci(Wj,"on"+Gj)}ci(f1,"onAnimationEnd"),ci(h1,"onAnimationIteration"),ci(m1,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(cj,"onTransitionRun"),ci(uj,"onTransitionStart"),ci(dj,"onTransitionCancel"),ci(p1,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(id));function IE(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],y=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var T=h.length-1;0<=T;T--){var O=h[T],$=O.instance,J=O.currentTarget;if(O=O.listener,$!==v&&y.isPropagationStopped())break e;v=O,y.currentTarget=J;try{v(y)}catch(ce){ah(ce)}y.currentTarget=null,v=$}else for(T=0;T<h.length;T++){if(O=h[T],$=O.instance,J=O.currentTarget,O=O.listener,$!==v&&y.isPropagationStopped())break e;v=O,y.currentTarget=J;try{v(y)}catch(ce){ah(ce)}y.currentTarget=null,v=$}}}}function Je(s,o){var c=o[wl];c===void 0&&(c=o[wl]=new Set);var h=s+"__bubble";c.has(h)||(PE(o,s,2,!1),c.add(h))}function pb(s,o,c){var h=0;o&&(h|=4),PE(c,s,h,o)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function gb(s){if(!s[Wh]){s[Wh]=!0,gu.forEach(function(c){c!=="selectionchange"&&(Yj.has(c)||pb(c,!1,s),pb(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Wh]||(o[Wh]=!0,pb("selectionchange",!1,o))}}function PE(s,o,c,h){switch(fS(o)){case 2:var y=_O;break;case 8:y=EO;break;default:y=Db}c=y.bind(null,o,c,s),y=void 0,!bo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function bb(s,o,c,h,y){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var O=h.stateNode.containerInfo;if(O===y)break;if(T===4)for(T=h.return;T!==null;){var $=T.tag;if(($===3||$===4)&&T.stateNode.containerInfo===y)return;T=T.return}for(;O!==null;){if(T=ki(O),T===null)return;if($=T.tag,$===5||$===6||$===26||$===27){h=v=T;continue e}O=O.parentNode}}h=h.return}Zs(function(){var J=v,ce=Ir(c),he=[];e:{var ee=g1.get(s);if(ee!==void 0){var se=zi,Se=s;switch(s){case"keypress":if(vo(c)===0)break e;case"keydown":case"keyup":se=rh;break;case"focusin":Se="focus",se=wo;break;case"focusout":Se="blur",se=wo;break;case"beforeblur":case"afterblur":se=wo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=_;break;case f1:case h1:case m1:se=Xf;break;case p1:se=V;break;case"scroll":case"scrollend":se=Cu;break;case"wheel":se=ne;break;case"copy":case"cut":case"paste":se=Kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=hs;break;case"toggle":case"beforetoggle":se=$e}var Oe=(o&4)!==0,_t=!Oe&&(s==="scroll"||s==="scrollend"),Q=Oe?ee!==null?ee+"Capture":null:ee;Oe=[];for(var G=J,Z;G!==null;){var fe=G;if(Z=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Z===null||Q===null||(fe=si(G,Q),fe!=null&&Oe.push(sd(G,fe,Z))),_t)break;G=G.return}0<Oe.length&&(ee=new se(ee,Se,null,c,ce),he.push({event:ee,listeners:Oe}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",ee&&c!==ku&&(Se=c.relatedTarget||c.fromElement)&&(ki(Se)||Se[Ei]))break e;if((se||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(Se=c.relatedTarget||c.toElement,se=J,Se=Se?ki(Se):null,Se!==null&&(_t=a(Se),Oe=Se.tag,Se!==_t||Oe!==5&&Oe!==27&&Oe!==6)&&(Se=null)):(se=null,Se=J),se!==Se)){if(Oe=Nu,fe="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=hs,fe="onPointerLeave",Q="onPointerEnter",G="pointer"),_t=se==null?ee:mr(se),Z=Se==null?ee:mr(Se),ee=new Oe(fe,G+"leave",se,c,ce),ee.target=_t,ee.relatedTarget=Z,fe=null,ki(ce)===J&&(Oe=new Oe(Q,G+"enter",Se,c,ce),Oe.target=Z,Oe.relatedTarget=_t,fe=Oe),_t=fe,se&&Se)t:{for(Oe=Qj,Q=se,G=Se,Z=0,fe=Q;fe;fe=Oe(fe))Z++;fe=0;for(var Re=G;Re;Re=Oe(Re))fe++;for(;0<Z-fe;)Q=Oe(Q),Z--;for(;0<fe-Z;)G=Oe(G),fe--;for(;Z--;){if(Q===G||G!==null&&Q===G.alternate){Oe=Q;break t}Q=Oe(Q),G=Oe(G)}Oe=null}else Oe=null;se!==null&&VE(he,ee,se,Oe,!1),Se!==null&&_t!==null&&VE(he,_t,Se,Oe,!0)}}e:{if(ee=J?mr(J):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var ot=t1;else if(Jw(ee))if(n1)ot=aj;else{ot=ij;var Ce=rj}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&kl(J.elementType)&&(ot=t1):ot=sj;if(ot&&(ot=ot(s,J))){e1(he,ot,c,ce);break e}Ce&&Ce(s,ee,J),s==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&_u(ee,"number",ee.value)}switch(Ce=J?mr(J):window,s){case"focusin":(Jw(Ce)||Ce.contentEditable==="true")&&(Ml=Ce,Wg=J,ju=null);break;case"focusout":ju=Wg=Ml=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,u1(he,c,ce);break;case"selectionchange":if(lj)break;case"keydown":case"keyup":u1(he,c,ce)}var Ye;if(ut)e:{switch(s){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else zl?_o(s,c)&&(tt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(tt="onCompositionStart");tt&&(Oi&&c.locale!=="ko"&&(zl||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&zl&&(Ye=Tu()):(Di=ce,Au="value"in Di?Di.value:Di.textContent,zl=!0)),Ce=Gh(J,tt),0<Ce.length&&(tt=new ji(tt,s,null,c,ce),he.push({event:tt,listeners:Ce}),Ye?tt.data=Ye:(Ye=Dl(c),Ye!==null&&(tt.data=Ye)))),(Ye=Vr?JM(s,c):ej(s,c))&&(tt=Gh(J,"onBeforeInput"),0<tt.length&&(Ce=new ji("onBeforeInput","beforeinput",null,c,ce),he.push({event:Ce,listeners:tt}),Ce.data=Ye)),$j(he,s,J,c,ce)}IE(he,o)})}function sd(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Gh(s,o){for(var c=o+"Capture",h=[];s!==null;){var y=s,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=si(s,c),y!=null&&h.unshift(sd(s,y,v)),y=si(s,o),y!=null&&h.push(sd(s,y,v))),s.tag===3)return h;s=s.return}return[]}function Qj(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function VE(s,o,c,h,y){for(var v=o._reactName,T=[];c!==null&&c!==h;){var O=c,$=O.alternate,J=O.stateNode;if(O=O.tag,$!==null&&$===h)break;O!==5&&O!==26&&O!==27||J===null||($=J,y?(J=si(c,v),J!=null&&T.unshift(sd(c,J,$))):y||(J=si(c,v),J!=null&&T.push(sd(c,J,$)))),c=c.return}T.length!==0&&s.push({event:o,listeners:T})}var Xj=/\r\n?/g,Kj=/\u0000|\uFFFD/g;function LE(s){return(typeof s=="string"?s:""+s).replace(Xj,`
`).replace(Kj,"")}function UE(s,o){return o=LE(o),LE(s)===o}function wt(s,o,c,h,y,v){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Jn(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Jn(s,""+h);break;case"className":pr(s,"class",h);break;case"tabIndex":pr(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(s,c,h);break;case"style":Su(s,h,v);break;case"data":if(o!=="object"){pr(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Al(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&wt(s,o,"name",y.name,y,null),wt(s,o,"formEncType",y.formEncType,y,null),wt(s,o,"formMethod",y.formMethod,y,null),wt(s,o,"formTarget",y.formTarget,y,null)):(wt(s,o,"encType",y.encType,y,null),wt(s,o,"method",y.method,y,null),wt(s,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Al(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=ii);break;case"onScroll":h!=null&&Je("scroll",s);break;case"onScrollEnd":h!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Al(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Je("beforetoggle",s),Je("toggle",s),El(s,"popover",h);break;case"xlinkActuate":nn(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":nn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":nn(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":nn(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":nn(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":nn(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":nn(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":nn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":nn(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":El(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Gf.get(c)||c,El(s,c,h))}}function yb(s,o,c,h,y,v){switch(c){case"style":Su(s,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Jn(s,h):(typeof h=="number"||typeof h=="bigint")&&Jn(s,""+h);break;case"onScroll":h!=null&&Je("scroll",s);break;case"onScrollEnd":h!=null&&Je("scrollend",s);break;case"onClick":h!=null&&(s.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bu.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),v=s[gn]||null,v=v!=null?v[c]:null,typeof v=="function"&&s.removeEventListener(o,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,h,y);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):El(s,c,h)}}}function Cn(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var h=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var T=c[v];if(T!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(s,o,v,T,c,null)}}y&&wt(s,o,"srcSet",c.srcSet,c,null),h&&wt(s,o,"src",c.src,c,null);return;case"input":Je("invalid",s);var O=v=T=y=null,$=null,J=null;for(h in c)if(c.hasOwnProperty(h)){var ce=c[h];if(ce!=null)switch(h){case"name":y=ce;break;case"type":T=ce;break;case"checked":$=ce;break;case"defaultChecked":J=ce;break;case"value":v=ce;break;case"defaultValue":O=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:wt(s,o,h,ce,c,null)}}qf(s,v,O,$,J,T,y,!1);return;case"select":Je("invalid",s),h=T=v=null;for(y in c)if(c.hasOwnProperty(y)&&(O=c[y],O!=null))switch(y){case"value":v=O;break;case"defaultValue":T=O;break;case"multiple":h=O;default:wt(s,o,y,O,c,null)}o=v,c=T,s.multiple=!!h,o!=null?Ys(s,!!h,o,!1):c!=null&&Ys(s,!!h,c,!0);return;case"textarea":Je("invalid",s),v=y=h=null;for(T in c)if(c.hasOwnProperty(T)&&(O=c[T],O!=null))switch(T){case"value":h=O;break;case"defaultValue":y=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:wt(s,o,T,O,c,null)}Qs(s,h,y,v);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(h=c[$],h!=null))switch($){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:wt(s,o,$,h,c,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(h=0;h<id.length;h++)Je(id[h],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(s,o,J,h,c,null)}return;default:if(kl(o)){for(ce in c)c.hasOwnProperty(ce)&&(h=c[ce],h!==void 0&&yb(s,o,ce,h,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(h=c[O],h!=null&&wt(s,o,O,h,c,null))}function Zj(s,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,T=null,O=null,$=null,J=null,ce=null;for(se in c){var he=c[se];if(c.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":$=he;default:h.hasOwnProperty(se)||wt(s,o,se,null,h,he)}}for(var ee in h){var se=h[ee];if(he=c[ee],h.hasOwnProperty(ee)&&(se!=null||he!=null))switch(ee){case"type":v=se;break;case"name":y=se;break;case"checked":J=se;break;case"defaultChecked":ce=se;break;case"value":T=se;break;case"defaultValue":O=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:se!==he&&wt(s,o,ee,se,h,he)}}Sl(s,T,O,$,J,ce,v,y);return;case"select":se=T=O=ee=null;for(v in c)if($=c[v],c.hasOwnProperty(v)&&$!=null)switch(v){case"value":break;case"multiple":se=$;default:h.hasOwnProperty(v)||wt(s,o,v,null,h,$)}for(y in h)if(v=h[y],$=c[y],h.hasOwnProperty(y)&&(v!=null||$!=null))switch(y){case"value":ee=v;break;case"defaultValue":O=v;break;case"multiple":T=v;default:v!==$&&wt(s,o,y,v,h,$)}o=O,c=T,h=se,ee!=null?Ys(s,!!c,ee,!1):!!h!=!!c&&(o!=null?Ys(s,!!c,o,!0):Ys(s,!!c,c?[]:"",!1));return;case"textarea":se=ee=null;for(O in c)if(y=c[O],c.hasOwnProperty(O)&&y!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:wt(s,o,O,null,h,y)}for(T in h)if(y=h[T],v=c[T],h.hasOwnProperty(T)&&(y!=null||v!=null))switch(T){case"value":ee=y;break;case"defaultValue":se=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&wt(s,o,T,y,h,v)}$f(s,ee,se);return;case"option":for(var Se in c)if(ee=c[Se],c.hasOwnProperty(Se)&&ee!=null&&!h.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:wt(s,o,Se,null,h,ee)}for($ in h)if(ee=h[$],se=c[$],h.hasOwnProperty($)&&ee!==se&&(ee!=null||se!=null))switch($){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:wt(s,o,$,ee,h,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)ee=c[Oe],c.hasOwnProperty(Oe)&&ee!=null&&!h.hasOwnProperty(Oe)&&wt(s,o,Oe,null,h,ee);for(J in h)if(ee=h[J],se=c[J],h.hasOwnProperty(J)&&ee!==se&&(ee!=null||se!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:wt(s,o,J,ee,h,se)}return;default:if(kl(o)){for(var _t in c)ee=c[_t],c.hasOwnProperty(_t)&&ee!==void 0&&!h.hasOwnProperty(_t)&&yb(s,o,_t,void 0,h,ee);for(ce in h)ee=h[ce],se=c[ce],!h.hasOwnProperty(ce)||ee===se||ee===void 0&&se===void 0||yb(s,o,ce,ee,h,se);return}}for(var Q in c)ee=c[Q],c.hasOwnProperty(Q)&&ee!=null&&!h.hasOwnProperty(Q)&&wt(s,o,Q,null,h,ee);for(he in h)ee=h[he],se=c[he],!h.hasOwnProperty(he)||ee===se||ee==null&&se==null||wt(s,o,he,ee,h,se)}function BE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jj(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],v=y.transferSize,T=y.initiatorType,O=y.duration;if(v&&O&&BE(T)){for(T=0,O=y.responseEnd,h+=1;h<c.length;h++){var $=c[h],J=$.startTime;if(J>O)break;var ce=$.transferSize,he=$.initiatorType;ce&&BE(he)&&($=$.responseEnd,T+=ce*($<O?1:(O-J)/($-J)))}if(--h,o+=8*(v+T)/(y.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var vb=null,xb=null;function Yh(s){return s.nodeType===9?s:s.ownerDocument}function HE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function wb(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _b=null;function eO(){var s=window.event;return s&&s.type==="popstate"?s===_b?!1:(_b=s,!0):(_b=null,!1)}var qE=typeof setTimeout=="function"?setTimeout:void 0,tO=typeof clearTimeout=="function"?clearTimeout:void 0,$E=typeof Promise=="function"?Promise:void 0,nO=typeof queueMicrotask=="function"?queueMicrotask:typeof $E<"u"?function(s){return $E.resolve(null).then(s).catch(rO)}:qE;function rO(s){setTimeout(function(){throw s})}function ya(s){return s==="head"}function WE(s,o){var c=o,h=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(y),ac(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")ad(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,ad(c);for(var v=c.firstChild;v;){var T=v.nextSibling,O=v.nodeName;v[Si]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=T}}else c==="body"&&ad(s.ownerDocument.body);c=y}while(c);ac(o)}function GE(s,o){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function Eb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Eb(c),_l(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function iO(s,o,c,h){for(;s.nodeType===1;){var y=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Si])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=$r(s.nextSibling),s===null)break}return null}function sO(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=$r(s.nextSibling),s===null))return null;return s}function YE(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=$r(s.nextSibling),s===null))return null;return s}function Sb(s){return s.data==="$?"||s.data==="$~"}function kb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function aO(s,o){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function $r(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var Ab=null;function QE(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(o===0)return $r(s.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}s=s.nextSibling}return null}function XE(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return s;o--}else c!=="/$"&&c!=="/&"||o++}s=s.previousSibling}return null}function KE(s,o,c){switch(o=Yh(c),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function ad(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);_l(s)}var Wr=new Map,ZE=new Set;function Qh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Cs=te.d;te.d={f:oO,r:lO,D:cO,C:uO,L:dO,m:fO,X:mO,S:hO,M:pO};function oO(){var s=Cs.f(),o=Uh();return s||o}function lO(s){var o=Or(s);o!==null&&o.tag===5&&o.type==="form"?p_(o):Cs.r(s)}var rc=typeof document>"u"?null:document;function JE(s,o,c){var h=rc;if(h&&typeof o=="string"&&o){var y=Zn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),ZE.has(y)||(ZE.add(y),s={rel:s,crossOrigin:c,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Cn(o,"link",s),tn(o),h.head.appendChild(o)))}}function cO(s){Cs.D(s),JE("dns-prefetch",s,null)}function uO(s,o){Cs.C(s,o),JE("preconnect",s,o)}function dO(s,o,c){Cs.L(s,o,c);var h=rc;if(h&&s&&o){var y='link[rel="preload"][as="'+Zn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Zn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Zn(c.imageSizes)+'"]')):y+='[href="'+Zn(s)+'"]';var v=y;switch(o){case"style":v=ic(s);break;case"script":v=sc(s)}Wr.has(v)||(s=b({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Wr.set(v,s),h.querySelector(y)!==null||o==="style"&&h.querySelector(od(v))||o==="script"&&h.querySelector(ld(v))||(o=h.createElement("link"),Cn(o,"link",s),tn(o),h.head.appendChild(o)))}}function fO(s,o){Cs.m(s,o);var c=rc;if(c&&s){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Zn(h)+'"][href="'+Zn(s)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=sc(s)}if(!Wr.has(v)&&(s=b({rel:"modulepreload",href:s},o),Wr.set(v,s),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ld(v)))return}h=c.createElement("link"),Cn(h,"link",s),tn(h),c.head.appendChild(h)}}}function hO(s,o,c){Cs.S(s,o,c);var h=rc;if(h&&s){var y=Ai(h).hoistableStyles,v=ic(s);o=o||"default";var T=y.get(v);if(!T){var O={loading:0,preload:null};if(T=h.querySelector(od(v)))O.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Wr.get(v))&&Tb(s,c);var $=T=h.createElement("link");tn($),Cn($,"link",s),$._p=new Promise(function(J,ce){$.onload=J,$.onerror=ce}),$.addEventListener("load",function(){O.loading|=1}),$.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Xh(T,o,h)}T={type:"stylesheet",instance:T,count:1,state:O},y.set(v,T)}}}function mO(s,o){Cs.X(s,o);var c=rc;if(c&&s){var h=Ai(c).hoistableScripts,y=sc(s),v=h.get(y);v||(v=c.querySelector(ld(y)),v||(s=b({src:s,async:!0},o),(o=Wr.get(y))&&Cb(s,o),v=c.createElement("script"),tn(v),Cn(v,"link",s),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function pO(s,o){Cs.M(s,o);var c=rc;if(c&&s){var h=Ai(c).hoistableScripts,y=sc(s),v=h.get(y);v||(v=c.querySelector(ld(y)),v||(s=b({src:s,async:!0,type:"module"},o),(o=Wr.get(y))&&Cb(s,o),v=c.createElement("script"),tn(v),Cn(v,"link",s),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function eS(s,o,c,h){var y=(y=Te.current)?Qh(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=ic(c.href),c=Ai(y).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=ic(c.href);var v=Ai(y).hoistableStyles,T=v.get(s);if(T||(y=y.ownerDocument||y,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,T),(v=y.querySelector(od(s)))&&!v._p&&(T.instance=v,T.state.loading=5),Wr.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Wr.set(s,c),v||gO(y,s,c,T.state))),o&&h===null)throw Error(r(528,""));return T}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=sc(c),c=Ai(y).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ic(s){return'href="'+Zn(s)+'"'}function od(s){return'link[rel="stylesheet"]['+s+"]"}function tS(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function gO(s,o,c,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Cn(o,"link",c),tn(o),s.head.appendChild(o))}function sc(s){return'[src="'+Zn(s)+'"]'}function ld(s){return"script[async]"+s}function nS(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+Zn(c.href)+'"]');if(h)return o.instance=h,tn(h),h;var y=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),tn(h),Cn(h,"style",y),Xh(h,c.precedence,s),o.instance=h;case"stylesheet":y=ic(c.href);var v=s.querySelector(od(y));if(v)return o.state.loading|=4,o.instance=v,tn(v),v;h=tS(c),(y=Wr.get(y))&&Tb(h,y),v=(s.ownerDocument||s).createElement("link"),tn(v);var T=v;return T._p=new Promise(function(O,$){T.onload=O,T.onerror=$}),Cn(v,"link",h),o.state.loading|=4,Xh(v,c.precedence,s),o.instance=v;case"script":return v=sc(c.src),(y=s.querySelector(ld(v)))?(o.instance=y,tn(y),y):(h=c,(y=Wr.get(v))&&(h=b({},c),Cb(h,y)),s=s.ownerDocument||s,y=s.createElement("script"),tn(y),Cn(y,"link",h),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Xh(h,c.precedence,s));return o.instance}function Xh(s,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,T=0;T<h.length;T++){var O=h[T];if(O.dataset.precedence===o)v=O;else if(v!==y)break}v?v.parentNode.insertBefore(s,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function Tb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Cb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Kh=null;function rS(s,o,c){if(Kh===null){var h=new Map,y=Kh=new Map;y.set(c,h)}else y=Kh,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),y=0;y<c.length;y++){var v=c[y];if(!(v[Si]||v[en]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(o)||"";T=s+T;var O=h.get(T);O?O.push(v):h.set(T,[v])}}return h}function iS(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function bO(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sS(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function yO(s,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=ic(h.href),v=o.querySelector(od(y));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Zh.bind(s),o.then(s,s)),c.state.loading|=4,c.instance=v,tn(v);return}v=o.ownerDocument||o,h=tS(h),(y=Wr.get(y))&&Tb(h,y),v=v.createElement("link"),tn(v);var T=v;T._p=new Promise(function(O,$){T.onload=O,T.onerror=$}),Cn(v,"link",h),c.instance=v}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Zh.bind(s),o.addEventListener("load",c),o.addEventListener("error",c))}}var Nb=0;function vO(s,o){return s.stylesheets&&s.count===0&&em(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&em(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4+o);0<s.imgBytes&&Nb===0&&(Nb=62500*Jj());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&em(s,s.stylesheets),s.unsuspend)){var v=s.unsuspend;s.unsuspend=null,v()}},(s.imgBytes>Nb?50:800)+o);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Jh=null;function em(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Jh=new Map,o.forEach(xO,s),Jh=null,Zh.call(s))}function xO(s,o){if(!(o.state.loading&4)){var c=Jh.get(s);if(c)var h=c.get(null);else{c=new Map,Jh.set(s,c);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var T=y[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),h=T)}h&&c.set(null,h)}y=o.instance,T=y.getAttribute("data-precedence"),v=c.get(T)||h,v===h&&c.set(null,y),c.set(T,y),this.count++,h=Zh.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var cd={$$typeof:z,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function wO(s,o,c,h,y,v,T,O,$){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function aS(s,o,c,h,y,v,T,O,$,J,ce,he){return s=new wO(s,o,c,T,$,J,ce,he,O),o=1,v===!0&&(o|=24),v=br(3,null,null,o),s.current=v,v.stateNode=s,o=l0(),o.refCount++,s.pooledCache=o,o.refCount++,v.memoizedState={element:h,isDehydrated:c,cache:o},f0(v),s}function oS(s){return s?(s=Il,s):Il}function lS(s,o,c,h,y,v){y=oS(y),h.context===null?h.context=y:h.pendingContext=y,h=oa(o),h.payload={element:c},v=v===void 0?null:v,v!==null&&(h.callback=v),c=la(s,h,o),c!==null&&(ir(c,s,o),Bu(c,s,o))}function cS(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Rb(s,o){cS(s,o),(s=s.alternate)&&cS(s,o)}function uS(s){if(s.tag===13||s.tag===31){var o=ko(s,67108864);o!==null&&ir(o,s,67108864),Rb(s,67108864)}}function dS(s){if(s.tag===13||s.tag===31){var o=_r();o=ho(o);var c=ko(s,o);c!==null&&ir(c,s,o),Rb(s,o)}}var tm=!0;function _O(s,o,c,h){var y=W.T;W.T=null;var v=te.p;try{te.p=2,Db(s,o,c,h)}finally{te.p=v,W.T=y}}function EO(s,o,c,h){var y=W.T;W.T=null;var v=te.p;try{te.p=8,Db(s,o,c,h)}finally{te.p=v,W.T=y}}function Db(s,o,c,h){if(tm){var y=zb(h);if(y===null)bb(s,o,h,nm,c),hS(s,h);else if(kO(y,s,o,c,h))h.stopPropagation();else if(hS(s,h),o&4&&-1<SO.indexOf(s)){for(;y!==null;){var v=Or(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Rt(v.pendingLanes);if(T!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;T;){var $=1<<31-Pt(T);O.entanglements[1]|=$,T&=~$}Li(v),(dt&6)===0&&(Vh=dn()+500,rd(0))}}break;case 31:case 13:O=ko(v,2),O!==null&&ir(O,v,2),Uh(),Rb(v,2)}if(v=zb(h),v===null&&bb(s,o,h,nm,c),v===y)break;y=v}y!==null&&h.stopPropagation()}else bb(s,o,h,null,c)}}function zb(s){return s=Ir(s),Mb(s)}var nm=null;function Mb(s){if(nm=null,s=ki(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===31){if(s=u(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return nm=s,null}function fS(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ei()){case lo:return 2;case co:return 8;case _i:case fu:return 32;case bl:return 268435456;default:return 32}default:return 32}}var jb=!1,va=null,xa=null,wa=null,ud=new Map,dd=new Map,_a=[],SO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hS(s,o){switch(s){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":ud.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(o.pointerId)}}function fd(s,o,c,h,y,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},o!==null&&(o=Or(o),o!==null&&uS(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function kO(s,o,c,h,y){switch(o){case"focusin":return va=fd(va,s,o,c,h,y),!0;case"dragenter":return xa=fd(xa,s,o,c,h,y),!0;case"mouseover":return wa=fd(wa,s,o,c,h,y),!0;case"pointerover":var v=y.pointerId;return ud.set(v,fd(ud.get(v)||null,s,o,c,h,y)),!0;case"gotpointercapture":return v=y.pointerId,dd.set(v,fd(dd.get(v)||null,s,o,c,h,y)),!0}return!1}function mS(s){var o=ki(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,ni(s.priority,function(){dS(c)});return}}else if(o===31){if(o=u(c),o!==null){s.blockedOn=o,ni(s.priority,function(){dS(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=zb(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);ku=h,c.target.dispatchEvent(h),ku=null}else return o=Or(c),o!==null&&uS(o),s.blockedOn=c,!1;o.shift()}return!0}function pS(s,o,c){rm(s)&&c.delete(o)}function AO(){jb=!1,va!==null&&rm(va)&&(va=null),xa!==null&&rm(xa)&&(xa=null),wa!==null&&rm(wa)&&(wa=null),ud.forEach(pS),dd.forEach(pS)}function im(s,o){s.blockedOn===o&&(s.blockedOn=null,jb||(jb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AO)))}var sm=null;function gS(s){sm!==s&&(sm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sm===s&&(sm=null);for(var o=0;o<s.length;o+=3){var c=s[o],h=s[o+1],y=s[o+2];if(typeof h!="function"){if(Mb(h||c)===null)continue;break}var v=Or(c);v!==null&&(s.splice(o,3),o-=3,z0(v,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function ac(s){function o($){return im($,s)}va!==null&&im(va,s),xa!==null&&im(xa,s),wa!==null&&im(wa,s),ud.forEach(o),dd.forEach(o);for(var c=0;c<_a.length;c++){var h=_a[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<_a.length&&(c=_a[0],c.blockedOn===null);)mS(c),c.blockedOn===null&&_a.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],v=c[h+1],T=y[gn]||null;if(typeof v=="function")T||gS(c);else if(T){var O=null;if(v&&v.hasAttribute("formAction")){if(y=v,T=v[gn]||null)O=T.formAction;else if(Mb(y)!==null)continue}else O=T.action;typeof O=="function"?c[h+1]=O:(c.splice(h,3),h-=3),gS(c)}}}function bS(){function s(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(T){return y=T})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Ob(s){this._internalRoot=s}am.prototype.render=Ob.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=_r();lS(c,h,s,o,null,null)},am.prototype.unmount=Ob.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;lS(s.current,2,null,s,null,null),Uh(),o[Ei]=null}};function am(s){this._internalRoot=s}am.prototype.unstable_scheduleHydration=function(s){if(s){var o=Uf();s={blockedOn:null,target:s,priority:o};for(var c=0;c<_a.length&&o!==0&&o<_a[c].priority;c++);_a.splice(c,0,s),c===0&&mS(s)}};var yS=e.version;if(yS!=="19.2.3")throw Error(r(527,yS,"19.2.3"));te.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=m(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var TO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{fr=om.inject(TO),fn=om}catch{}}return md.createRoot=function(s,o){if(!i(s))throw Error(r(299));var c=!1,h="",y=k_,v=A_,T=T_;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=aS(s,1,!1,null,null,c,h,null,y,v,T,bS),s[Ei]=o.current,gb(s),new Ob(o)},md.hydrateRoot=function(s,o,c){if(!i(s))throw Error(r(299));var h=!1,y="",v=k_,T=A_,O=T_,$=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),o=aS(s,1,!0,o,c??null,h,y,$,v,T,O,bS),o.context=oS(null),c=o.current,h=_r(),h=ho(h),y=oa(h),y.callback=null,la(c,y,h),c=h,o.current.lanes=c,ti(o,c),Li(o),s[Ei]=o.current,gb(s),new am(o)},md.version="19.2.3",md}var CS;function PO(){if(CS)return Vb.exports;CS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vb.exports=IO(),Vb.exports}var VO=PO();const LO=Hv(VO);var NS="popstate";function UO(t={}){function e(i,a){let{pathname:l="/",search:u="",hash:f=""}=al(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),qy("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,m=f.indexOf("#");u=m===-1?f:f.slice(0,m)}return u+"#"+(typeof a=="string"?a:Fd(a))}function r(i,a){Dr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return HO(e,n,r,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BO(){return Math.random().toString(36).substring(2,10)}function RS(t,e){return{usr:t.state,key:t.key,idx:e}}function qy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||r||BO()}}function Fd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",f=null,m=p();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function p(){return(l.state||{idx:null}).idx}function b(){u="POP";let k=p(),N=k==null?null:k-m;m=k,f&&f({action:u,location:S.location,delta:N})}function x(k,N){u="PUSH";let j=qy(S.location,k,N);n&&n(j,k),m=p()+1;let z=RS(j,m),M=S.createHref(j);try{l.pushState(z,"",M)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(M)}a&&f&&f({action:u,location:S.location,delta:1})}function w(k,N){u="REPLACE";let j=qy(S.location,k,N);n&&n(j,k),m=p();let z=RS(j,m),M=S.createHref(j);l.replaceState(z,"",M),a&&f&&f({action:u,location:S.location,delta:0})}function A(k){return FO(k)}let S={get action(){return u},get location(){return t(i,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(NS,b),f=k,()=>{i.removeEventListener(NS,b),f=null}},createHref(k){return e(i,k)},createURL:A,encodeLocation(k){let N=A(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(k){return l.go(k)}};return S}function FO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function iC(t,e,n="/"){return qO(t,e,n,!1)}function qO(t,e,n,r){let i=typeof e=="string"?al(e):e,a=Is(i.pathname||"/",n);if(a==null)return null;let l=sC(t);$O(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=nI(a);u=eI(l[f],m,r)}return u}function sC(t,e=[],n=[],r="",i=!1){let a=(l,u,f=i,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;It(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let b=Ms([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(It(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),sC(l.children,e,x,b,f)),!(l.path==null&&!l.index)&&e.push({path:b,score:ZO(b,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let f of aC(l.path))a(l,u,!0,f)}),e}function aC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=aC(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function $O(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WO=/^:[\w-]+$/,GO=3,YO=2,QO=1,XO=10,KO=-2,DS=t=>t==="*";function ZO(t,e){let n=t.split("/"),r=n.length;return n.some(DS)&&(r+=KO),e&&(r+=YO),n.filter(i=>!DS(i)).reduce((i,a)=>i+(WO.test(a)?GO:a===""?QO:XO),r)}function JO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eI(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",b=Jm({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),x=f.route;if(!b&&m&&n&&!r[r.length-1].route.index&&(b=Jm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!b)return null;Object.assign(i,b.params),l.push({params:i,pathname:Ms([a,b.pathname]),pathnameBase:aI(Ms([a,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(a=Ms([a,b.pathnameBase]))}return l}function Jm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:b},x)=>{if(p==="*"){let A=u[x]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const w=u[x];return b&&!w?m[p]=void 0:m[p]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function tI(t,e=!1,n=!0){Dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var oC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rI=t=>oC.test(t);function iI(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?al(t):t,a;if(n)if(rI(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Dr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=zS(n.substring(1),"/"):a=zS(n,e)}else a=e;return{pathname:a,search:oI(r),hash:lI(i)}}function zS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $v(t){let e=sI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Wv(t,e,n,r=!1){let i;typeof t=="string"?i=al(t):(i={...t},It(!i.pathname||!i.pathname.includes("?"),Hb("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),Hb("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),Hb("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let b=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),b-=1;i.pathname=x.join("/")}u=b>=0?e[b]:"/"}let f=iI(i,u),m=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),aI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,cI=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function uI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function dI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function cC(t,e){let n=t;if(typeof n!="string"||!oC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(lC)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=Is(l.pathname,e);l.origin===a.origin&&u!=null?n=u+l.search+l.hash:i=!0}catch{Dr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uC=["POST","PUT","PATCH","DELETE"];new Set(uC);var fI=["GET",...uC];new Set(fI);var Yc=E.createContext(null);Yc.displayName="DataRouter";var Gp=E.createContext(null);Gp.displayName="DataRouterState";var hI=E.createContext(!1),dC=E.createContext({isTransitioning:!1});dC.displayName="ViewTransition";var mI=E.createContext(new Map);mI.displayName="Fetchers";var pI=E.createContext(null);pI.displayName="Await";var Mr=E.createContext(null);Mr.displayName="Navigation";var mf=E.createContext(null);mf.displayName="Location";var os=E.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var Gv=E.createContext(null);Gv.displayName="RouteError";var fC="REACT_ROUTER_ERROR",gI="REDIRECT",bI="ROUTE_ERROR_RESPONSE";function yI(t){if(t.startsWith(`${fC}:${gI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function vI(t){if(t.startsWith(`${fC}:${bI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new cI(e.status,e.statusText,e.data)}catch{}}function xI(t,{relative:e}={}){It(Qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Mr),{hash:i,pathname:a,search:l}=pf(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Ms([n,a])),r.createHref({pathname:u,search:l,hash:i})}function Qc(){return E.useContext(mf)!=null}function Za(){return It(Qc(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(mf).location}var hC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mC(t){E.useContext(Mr).static||E.useLayoutEffect(t)}function Xc(){let{isDataRoute:t}=E.useContext(os);return t?MI():wI()}function wI(){It(Qc(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Yc),{basename:e,navigator:n}=E.useContext(Mr),{matches:r}=E.useContext(os),{pathname:i}=Za(),a=JSON.stringify($v(r)),l=E.useRef(!1);return mC(()=>{l.current=!0}),E.useCallback((f,m={})=>{if(Dr(l.current,hC),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=Wv(f,JSON.parse(a),i,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ms([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,a,i,t])}E.createContext(null);function pf(t,{relative:e}={}){let{matches:n}=E.useContext(os),{pathname:r}=Za(),i=JSON.stringify($v(n));return E.useMemo(()=>Wv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _I(t,e){return pC(t,e)}function pC(t,e,n,r,i){It(Qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(Mr),{matches:l}=E.useContext(os),u=l[l.length-1],f=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",b=u&&u.route;{let j=b&&b.path||"";bC(m,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=Za(),w;if(e){let j=typeof e=="string"?al(e):e;It(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),w=j}else w=x;let A=w.pathname||"/",S=A;if(p!=="/"){let j=p.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=iC(t,{pathname:S});Dr(b||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Dr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=TI(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Ms([p,a.encodeLocation?a.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Ms([p,a.encodeLocation?a.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,n,r,i);return e&&N?E.createElement(mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},N):N}function EI(){let t=zI(),e=uI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,l)}var SI=E.createElement(EI,null),gC=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=vI(t.digest);n&&(t=n)}let e=t!==void 0?E.createElement(os.Provider,{value:this.props.routeContext},E.createElement(Gv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?E.createElement(kI,{error:t},e):e}};gC.contextType=hI;var Fb=new WeakMap;function kI({children:t,error:e}){let{basename:n}=E.useContext(Mr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=yI(e.digest);if(r){let i=Fb.get(e);if(i)throw i;let a=cC(r.location,n);if(lC&&!Fb.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Fb.set(e,l),l}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function AI({routeContext:t,match:e,children:n}){let r=E.useContext(Yc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(os.Provider,{value:t},n)}function TI(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(b=>b.route.id&&l?.[b.route.id]!==void 0);It(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let b=a[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=p),b.route.id){let{loaderData:x,errors:w}=n,A=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!w||w[b.route.id]===void 0);if(b.route.lazy||A){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let m=n&&r?(p,b)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:dI(n.matches),errorInfo:b})}:void 0;return a.reduceRight((p,b,x)=>{let w,A=!1,S=null,k=null;n&&(w=l&&b.route.id?l[b.route.id]:void 0,S=b.route.errorElement||SI,u&&(f<0&&x===0?(bC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):f===x&&(A=!0,k=b.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,x+1)),j=()=>{let z;return w?z=S:A?z=k:b.route.Component?z=E.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=p,E.createElement(AI,{match:b,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:z})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?E.createElement(gC,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:m}):j()},null)}function Yv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CI(t){let e=E.useContext(Yc);return It(e,Yv(t)),e}function NI(t){let e=E.useContext(Gp);return It(e,Yv(t)),e}function RI(t){let e=E.useContext(os);return It(e,Yv(t)),e}function Qv(t){let e=RI(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DI(){return Qv("useRouteId")}function zI(){let t=E.useContext(Gv),e=NI("useRouteError"),n=Qv("useRouteError");return t!==void 0?t:e.errors?.[n]}function MI(){let{router:t}=CI("useNavigate"),e=Qv("useNavigate"),n=E.useRef(!1);return mC(()=>{n.current=!0}),E.useCallback(async(i,a={})=>{Dr(n.current,hC),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var MS={};function bC(t,e,n){!e&&!MS[t]&&(MS[t]=!0,Dr(!1,n))}E.memo(jI);function jI({routes:t,future:e,state:n,onError:r}){return pC(t,void 0,n,r,e)}function yC({to:t,replace:e,state:n,relative:r}){It(Qc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Mr);Dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(os),{pathname:l}=Za(),u=Xc(),f=Wv(t,$v(a),l,r==="path"),m=JSON.stringify(f);return E.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:r})},[u,m,r,e,n]),null}function Ui(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:l}){It(!Qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:u,navigator:i,static:a,unstable_useTransitions:l,future:{}}),[u,i,a,l]);typeof n=="string"&&(n=al(n));let{pathname:m="/",search:p="",hash:b="",state:x=null,key:w="default"}=n,A=E.useMemo(()=>{let S=Is(m,u);return S==null?null:{location:{pathname:S,search:p,hash:b,state:x,key:w},navigationType:r}},[u,m,p,b,x,w,r]);return Dr(A!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:E.createElement(Mr.Provider,{value:f},E.createElement(mf.Provider,{children:e,value:A}))}function jS({children:t,location:e}){return _I($y(t),e)}function $y(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){n.push.apply(n,$y(r.props.children,a));return}It(r.type===Ui,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=$y(r.props.children,a)),n.push(l)}),n}var Om="get",Im="application/x-www-form-urlencoded";function Yp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function II(t){return Yp(t)&&t.tagName.toLowerCase()==="button"}function PI(t){return Yp(t)&&t.tagName.toLowerCase()==="form"}function VI(t){return Yp(t)&&t.tagName.toLowerCase()==="input"}function LI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UI(t,e){return t.button===0&&(!e||e==="_self")&&!LI(t)}var lm=null;function BI(){if(lm===null)try{new FormData(document.createElement("form"),0),lm=!1}catch{lm=!0}return lm}var HI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qb(t){return t!=null&&!HI.has(t)?(Dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Im}"`),null):t}function FI(t,e){let n,r,i,a,l;if(PI(t)){let u=t.getAttribute("action");r=u?Is(u,e):null,n=t.getAttribute("method")||Om,i=qb(t.getAttribute("enctype"))||Im,a=new FormData(t)}else if(II(t)||VI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Is(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Om,i=qb(t.getAttribute("formenctype"))||qb(u.getAttribute("enctype"))||Im,a=new FormData(u,t),!BI()){let{name:m,type:p,value:b}=t;if(p==="image"){let x=m?`${m}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else m&&a.append(m,b)}}else{if(Yp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Om,r=null,i=Im,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qI(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Is(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function $I(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GI(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await $I(a,n);return l.links?l.links():[]}return[]}));return KI(r.flat(1).filter(WI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function OS(t,e,n,r,i,a){let l=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>n[m].pathname!==f.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,m)=>l(f,m)||u(f,m)):a==="data"?e.filter((f,m)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function YI(t,e,{includeHydrateFallback:n}={}){return QI(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function QI(t){return[...new Set(t)]}function XI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KI(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(XI(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function vC(){let t=E.useContext(Yc);return Xv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZI(){let t=E.useContext(Gp);return Xv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Kv=E.createContext(void 0);Kv.displayName="FrameworkContext";function xC(){let t=E.useContext(Kv);return Xv(t,"You must render this element inside a <HydratedRouter> element"),t}function JI(t,e){let n=E.useContext(Kv),[r,i]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:p,onTouchStart:b}=e,x=E.useRef(null);E.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=N=>{N.forEach(j=>{l(j.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[t]),E.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:pd(u,w),onBlur:pd(f,A),onMouseEnter:pd(m,w),onMouseLeave:pd(p,A),onTouchStart:pd(b,w)}]:[!1,x,{}]}function pd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function e4({page:t,...e}){let{router:n}=vC(),r=E.useMemo(()=>iC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(n4,{page:t,matches:r,...e}):null}function t4(t){let{manifest:e,routeModules:n}=xC(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return GI(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function n4({page:t,matches:e,...n}){let r=Za(),{manifest:i,routeModules:a}=xC(),{basename:l}=vC(),{loaderData:u,matches:f}=ZI(),m=E.useMemo(()=>OS(t,e,f,i,r,"data"),[t,e,f,i,r]),p=E.useMemo(()=>OS(t,e,f,i,r,"assets"),[t,e,f,i,r]),b=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,S=!1;if(e.forEach(N=>{let j=i.routes[N.route.id];!j||!j.hasLoader||(!m.some(z=>z.route.id===N.route.id)&&N.route.id in u&&a[N.route.id]?.shouldRevalidate||j.hasClientLoader?S=!0:A.add(N.route.id))}),A.size===0)return[];let k=qI(t,l,"data");return S&&A.size>0&&k.searchParams.set("_routes",e.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[k.pathname+k.search]},[l,u,r,i,m,e,t,a]),x=E.useMemo(()=>YI(p,i),[p,i]),w=t4(p);return E.createElement(E.Fragment,null,b.map(A=>E.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>E.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),w.map(({key:A,link:S})=>E.createElement("link",{key:A,nonce:n.nonce,...S})))}function r4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var i4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i4&&(window.__reactRouterVersion="7.11.0")}catch{}function s4({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=E.useRef();i.current==null&&(i.current=UO({window:r,v5Compat:!0}));let a=i.current,[l,u]=E.useState({action:a.action,location:a.location}),f=E.useCallback(m=>{n===!1?u(m):E.startTransition(()=>u(m))},[n]);return E.useLayoutEffect(()=>a.listen(f),[a,f]),E.createElement(OI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n})}var wC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zv=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:f,to:m,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:x,...w},A){let{basename:S,unstable_useTransitions:k}=E.useContext(Mr),N=typeof m=="string"&&wC.test(m),j=cC(m,S);m=j.to;let z=xI(m,{relative:i}),[M,P,H]=JI(r,w),D=l4(m,{replace:l,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function R(L){e&&e(L),L.defaultPrevented||D(L)}let I=E.createElement("a",{...w,...H,href:j.absoluteURL||z,onClick:j.isExternal||a?e:R,ref:r4(A,P),target:f,"data-discover":!N&&n==="render"?"true":void 0});return M&&!N?E.createElement(E.Fragment,null,I,E.createElement(e4,{page:z})):I});Zv.displayName="Link";var _C=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:f,...m},p){let b=pf(l,{relative:m.relative}),x=Za(),w=E.useContext(Gp),{navigator:A,basename:S}=E.useContext(Mr),k=w!=null&&h4(b)&&u===!0,N=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,j=x.pathname,z=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(j=j.toLowerCase(),z=z?z.toLowerCase():null,N=N.toLowerCase()),z&&S&&(z=Is(z,S)||z);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let P=j===N||!i&&j.startsWith(N)&&j.charAt(M)==="/",H=z!=null&&(z===N||!i&&z.startsWith(N)&&z.charAt(N.length)==="/"),D={isActive:P,isPending:H,isTransitioning:k},R=P?e:void 0,I;typeof r=="function"?I=r(D):I=[r,P?"active":null,H?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return E.createElement(Zv,{...m,"aria-current":R,className:I,ref:p,style:L,to:l,viewTransition:u},typeof f=="function"?f(D):f)});_C.displayName="NavLink";var a4=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Om,action:u,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:x,...w},A)=>{let{unstable_useTransitions:S}=E.useContext(Mr),k=d4(),N=f4(u,{relative:m}),j=l.toLowerCase()==="get"?"get":"post",z=typeof u=="string"&&wC.test(u),M=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let H=P.nativeEvent.submitter,D=H?.getAttribute("formmethod")||l,R=()=>k(H||P.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:a,relative:m,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:x});S&&n!==!1?E.startTransition(()=>R()):R()};return E.createElement("form",{ref:A,method:j,action:N,onSubmit:r?f:M,...w,"data-discover":!z&&t==="render"?"true":void 0})});a4.displayName="Form";function o4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EC(t){let e=E.useContext(Yc);return It(e,o4(t)),e}function l4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let m=Xc(),p=Za(),b=pf(t,{relative:a});return E.useCallback(x=>{if(UI(x,e)){x.preventDefault();let w=n!==void 0?n:Fd(p)===Fd(b),A=()=>m(t,{replace:w,state:r,preventScrollReset:i,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u});f?E.startTransition(()=>A()):A()}},[p,m,b,n,r,e,t,i,a,l,u,f])}var c4=0,u4=()=>`__${String(++c4)}__`;function d4(){let{router:t}=EC("useSubmit"),{basename:e}=E.useContext(Mr),n=DI(),r=t.fetch,i=t.navigate;return E.useCallback(async(a,l={})=>{let{action:u,method:f,encType:m,formData:p,body:b}=FI(a,e);if(l.navigate===!1){let x=l.fetcherKey||u4();await r(x,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:b,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:b,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function f4(t,{relative:e}={}){let{basename:n}=E.useContext(Mr),r=E.useContext(os);It(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...pf(t||".",{relative:e})},l=Za();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(b=>b).forEach(b=>u.append("index",b));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ms([n,a.pathname])),Fd(a)}function h4(t,{relative:e}={}){let n=E.useContext(dC);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=EC("useViewTransitionState"),i=pf(t,{relative:e});if(!n.isTransitioning)return!1;let a=Is(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Is(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jm(i.pathname,l)!=null||Jm(i.pathname,a)!=null}var Zo=rC();const m4=Hv(Zo),IS=t=>{let e;const n=new Set,r=(m,p)=>{const b=typeof m=="function"?m(e):m;if(!Object.is(b,e)){const x=e;e=p??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(w=>w(e,x))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m))},f=e=t(r,i,u);return u},p4=(t=>t?IS(t):IS),g4=t=>t;function b4(t,e=g4){const n=be.useSyncExternalStore(t.subscribe,be.useCallback(()=>e(t.getState()),[t,e]),be.useCallback(()=>e(t.getInitialState()),[t,e]));return be.useDebugValue(n),n}const PS=t=>{const e=p4(t),n=r=>b4(e,r);return Object.assign(n,e),n},y4=(t=>t?PS(t):PS);function v4(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var a;const l=f=>f===null?null:JSON.parse(f,void 0),u=(a=n.getItem(i))!=null?a:null;return u instanceof Promise?u.then(l):l(u)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const Wy=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Wy(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Wy(r)(n)}}}},x4=(t,e)=>(n,r,i)=>{let a={storage:v4(()=>localStorage),partialize:S=>S,version:0,merge:(S,k)=>({...k,...S}),...e},l=!1;const u=new Set,f=new Set;let m=a.storage;if(!m)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...S)},r,i);const p=()=>{const S=a.partialize({...r()});return m.setItem(a.name,{state:S,version:a.version})},b=i.setState;i.setState=(S,k)=>(b(S,k),p());const x=t((...S)=>(n(...S),p()),r,i);i.getInitialState=()=>x;let w;const A=()=>{var S,k;if(!m)return;l=!1,u.forEach(j=>{var z;return j((z=r())!=null?z:x)});const N=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(S=r())!=null?S:x))||void 0;return Wy(m.getItem.bind(m))(a.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==a.version){if(a.migrate){const z=a.migrate(j.state,j.version);return z instanceof Promise?z.then(M=>[!0,M]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var z;const[M,P]=j;if(w=a.merge(P,(z=r())!=null?z:x),n(w,!0),M)return p()}).then(()=>{N?.(w,void 0),w=r(),l=!0,f.forEach(j=>j(w))}).catch(j=>{N?.(void 0,j)})};return i.persist={setOptions:S=>{a={...a,...S},S.storage&&(m=S.storage)},clearStorage:()=>{m?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>A(),hasHydrated:()=>l,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(f.add(S),()=>{f.delete(S)})},a.skipHydration||A(),w||x},w4=x4,ur=y4(w4(t=>({nocMembers:[{id:"NOC-1",name:"Mekin S.",role:"NOC Lead"},{id:"NOC-2",name:"Akkapol P.",role:"NOC Engineer"},{id:"NOC-3",name:"Nawapat R.",role:"NOC Engineer"},{id:"NOC-4",name:"Watcharapol P.",role:"NOC Engineer"},{id:"NOC-5",name:"Supporter",role:"Support"}],currentUser:"Mekin S.",setCurrentUser:e=>t({currentUser:e}),logout:()=>t({currentUser:null}),darkMode:!1,toggleDarkMode:()=>t(e=>{const n=!e.darkMode;return n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{darkMode:n}})}),{name:"noc-storage"}));const _4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),VS=t=>{const e=E4(t);return e.charAt(0).toUpperCase()+e.slice(1)},SC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),S4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var k4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const A4=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},f)=>E.createElement("svg",{ref:f,...k4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:SC("lucide",i),...!a&&!S4(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,p])=>E.createElement(m,p)),...Array.isArray(a)?a:[a]]));const ye=(t,e)=>{const n=E.forwardRef(({className:r,...i},a)=>E.createElement(A4,{ref:a,iconNode:e,className:SC(`lucide-${_4(VS(t))}`,`lucide-${t}`,r),...i}));return n.displayName=VS(t),n};const T4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ar=ye("activity",T4);const C4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],N4=ye("archive",C4);const R4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],D4=ye("arrow-left",R4);const z4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qd=ye("arrow-right",z4);const M4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],j4=ye("bell-off",M4);const O4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],I4=ye("bell",O4);const P4=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],V4=ye("calendar-range",P4);const L4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dr=ye("calendar",L4);const U4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kC=ye("chart-column",U4);const B4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gf=ye("check",B4);const H4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rc=ye("chevron-down",H4);const F4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gy=ye("chevron-left",F4);const q4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ep=ye("chevron-right",q4);const $4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AC=ye("chevron-up",$4);const W4=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],G4=ye("chevrons-up-down",W4);const Y4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gi=ye("circle-alert",Y4);const Q4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jv=ye("circle-check-big",Q4);const X4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kr=ye("circle-check",X4);const K4=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ex=ye("circle-play",K4);const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TC=ye("circle-question-mark",Z4);const J4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tx=ye("circle-x",J4);const e5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dn=ye("clock",e5);const t5=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],Yy=ye("cloud-download",t5);const n5=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],r5=ye("cloud-upload",n5);const i5=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$d=ye("copy",i5);const s5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nx=ye("download",s5);const a5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],o5=ye("ellipsis-vertical",a5);const l5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],c5=ye("external-link",l5);const u5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],d5=ye("eye-off",u5);const f5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tp=ye("eye",f5);const h5=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],m5=ye("file-plus-corner",h5);const p5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],CC=ye("file-spreadsheet",p5);const g5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],es=ye("file-text",g5);const b5=[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]],y5=ye("folder-archive",b5);const v5=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],x5=ye("folder-kanban",v5);const w5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Wd=ye("funnel",w5);const _5=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],np=ye("gauge",_5);const E5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Gd=ye("globe",E5);const S5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],rx=ye("hash",S5);const k5=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],NC=ye("image-plus",k5);const A5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],T5=ye("image",A5);const C5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],N5=ye("info",C5);const R5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],RC=ye("layers",R5);const D5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],z5=ye("layout-dashboard",D5);const M5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],DC=ye("layout-grid",M5);const j5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],LS=ye("layout-list",j5);const O5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],US=ye("link",O5);const I5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],P5=ye("list",I5);const V5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ua=ye("loader-circle",V5);const L5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U5=ye("log-out",L5);const B5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],H5=ye("menu",B5);const F5=[["path",{d:"M5 12h14",key:"1ays0h"}]],$b=ye("minus",F5);const q5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Qp=ye("moon",q5);const $5=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],W5=ye("mouse-pointer-2",$5);const G5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],Y5=ye("panel-left-close",G5);const Q5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],X5=ye("panel-left-open",Q5);const K5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ix=ye("pencil",K5);const Z5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dc=ye("plus",Z5);const J5=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sx=ye("radio",J5);const eP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zC=ye("refresh-cw",eP);const tP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xp=ye("save",tP);const nP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yd=ye("search",nP);const rP=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Kp=ye("server",rP);const iP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BS=ye("settings",iP);const sP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aP=ye("shield-check",sP);const oP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lP=ye("shield",oP);const cP=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uP=ye("sparkles",cP);const dP=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cm=ye("square-check-big",dP);const fP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],um=ye("square",fP);const hP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Zp=ye("sun",hP);const mP=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],pP=ye("swords",mP);const gP=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],bP=ye("table-2",gP);const yP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],MC=ye("tag",yP);const vP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ja=ye("trash-2",vP);const xP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Qy=ye("trending-up",xP);const wP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ba=ye("triangle-alert",wP);const _P=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],rp=ye("trophy",_P);const EP=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],ip=ye("tv",EP);const SP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kP=ye("upload",SP);const AP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jC=ye("user",AP);const TP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rd=ye("users",TP);const CP=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],NP=ye("wand-sparkles",CP);const RP=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],OC=ye("wifi",RP);const DP=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],zP=ye("workflow",DP);const MP=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],jP=ye("wrench",MP);const OP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bn=ye("x",OP),gd=({to:t,icon:e,label:n,isCollapsed:r,handleLinkClick:i})=>d.jsxs(_C,{to:t,onClick:i,title:r?n:"",className:({isActive:a})=>`
      flex items-center rounded-xl transition-all duration-200 group relative
      ${r?"justify-center w-10 h-10 mx-auto px-0":"gap-3 px-3 py-2.5"}
      ${a?"bg-zinc-900 text-white shadow-md dark:bg-white dark:text-black":"text-zinc-500 hover:text-black hover:bg-zinc-100 dark:text-zinc-400 dark:hover:text-white dark:hover:bg-zinc-900"}
    `,children:[d.jsx(e,{size:20,strokeWidth:2.5,className:`${r?"":"group-hover:scale-105"} transition-transform shrink-0`}),d.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest whitespace-nowrap overflow-hidden transition-all duration-300 ${r?"w-0 opacity-0 hidden":"w-auto opacity-100 block"}`,children:n})]});function IP({onCloseMobile:t,isCollapsed:e=!1,toggleCollapse:n,onLogoutClick:r}){const{currentUser:i,darkMode:a,toggleDarkMode:l}=ur(),u=()=>{t&&t()},f=!e;return d.jsxs("aside",{className:"w-full h-full flex flex-col py-4 overflow-hidden relative",children:[d.jsxs("div",{className:`flex items-center mb-6 px-4 transition-all ${e?"justify-center flex-col gap-4 px-0":"justify-between"}`,children:[d.jsx(Zv,{to:"/",onClick:u,className:"group block text-center",children:e?d.jsx("div",{className:"w-10 h-10 bg-black dark:bg-white text-white dark:text-black rounded-xl flex items-center justify-center font-black italic text-sm shadow-md mx-auto",children:"N"}):d.jsxs("div",{className:"text-left",children:[d.jsxs("h1",{className:"text-xl font-black italic tracking-tighter uppercase dark:text-white transition-opacity group-hover:opacity-80 whitespace-nowrap leading-none",children:["NOC ",d.jsx("span",{className:"text-zinc-300 dark:text-zinc-600",children:"NTT"})]}),d.jsx("p",{className:"text-[8px] font-bold text-zinc-400 uppercase tracking-[0.2em] mt-1 whitespace-nowrap",children:"System Management"})]})}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("button",{onClick:n,className:"hidden md:flex p-1.5 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-900 rounded-lg transition-colors justify-center mx-auto",children:e?d.jsx(X5,{size:18}):d.jsx(Y5,{size:18})}),d.jsx("button",{onClick:t,className:"md:hidden p-2 text-zinc-400 hover:text-black dark:hover:text-white bg-zinc-100 dark:bg-zinc-900 rounded-lg transition-colors",children:d.jsx(Bn,{size:20})})]})]}),d.jsxs("nav",{className:"flex-1 space-y-1 overflow-y-auto custom-scrollbar px-3",children:[d.jsx("div",{className:`mt-2 mb-2 px-3 text-[9px] font-black text-zinc-300 dark:text-zinc-700 uppercase tracking-widest whitespace-nowrap transition-all duration-300 ${e?"opacity-0 h-0 overflow-hidden mt-0 mb-0":"opacity-100 h-auto"}`,children:"Schedule"}),d.jsx(gd,{to:"/schedule/today",icon:Ar,label:"Live Desk",isCollapsed:e,handleLinkClick:u}),d.jsx(gd,{to:"/schedule/history",icon:dr,label:"Archive",isCollapsed:e,handleLinkClick:u}),d.jsx("div",{className:`mt-6 mb-2 px-3 text-[9px] font-black text-zinc-300 dark:text-zinc-700 uppercase tracking-widest whitespace-nowrap transition-all duration-300 ${e?"opacity-0 h-0 overflow-hidden mt-0 mb-0":"opacity-100 h-auto"}`,children:"Controls"}),d.jsx(gd,{to:"/tickets",icon:N4,label:"Ticket Log",isCollapsed:e,handleLinkClick:u}),d.jsx(gd,{to:"/incidents",icon:Ba,label:"Incidents",isCollapsed:e,handleLinkClick:u}),d.jsx(gd,{to:"/handover",icon:es,label:"Handover",isCollapsed:e,handleLinkClick:u})]}),d.jsxs("div",{className:"mt-auto pt-4 px-3 border-t border-zinc-100 dark:border-zinc-900 space-y-3",children:[d.jsxs("button",{onClick:l,className:`w-full flex items-center rounded-xl bg-zinc-50 dark:bg-zinc-900 text-zinc-500 hover:text-black dark:text-zinc-400 dark:hover:text-white transition-colors ${e?"justify-center w-10 h-10 mx-auto px-0":"justify-between px-3 py-2.5"}`,title:"Toggle Theme",children:[d.jsxs("div",{className:`flex items-center ${e?"justify-center":"gap-3"}`,children:[a?d.jsx(Qp,{size:18}):d.jsx(Zp,{size:18}),f&&d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Appearance"})]}),f&&d.jsx("span",{className:"text-[9px] font-black bg-zinc-200 dark:bg-zinc-800 px-1.5 py-0.5 rounded uppercase text-zinc-600 dark:text-zinc-300",children:a?"Dark":"Light"})]}),d.jsxs("div",{className:`flex items-center rounded-2xl border border-zinc-100 dark:border-zinc-900 bg-white dark:bg-black transition-all ${e?"justify-center border-none bg-transparent p-0 w-10 h-10 mx-auto":"gap-3 p-2"} `,children:[d.jsx("div",{className:"w-8 h-8 shrink-0 rounded-full bg-zinc-900 dark:bg-white text-white dark:text-black flex items-center justify-center font-black text-xs shadow-sm",children:i?i.charAt(0).toUpperCase():"U"}),f&&d.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[d.jsx("p",{className:"text-xs font-bold truncate dark:text-white",children:i||"Guest"}),d.jsx("p",{className:"text-[9px] text-zinc-400 font-medium truncate uppercase tracking-wider",children:"Operator"})]}),f&&d.jsx("button",{onClick:r,className:"p-2 text-zinc-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-950/30 rounded-lg transition-colors",title:"Sign Out",children:d.jsx(U5,{size:16})})]})]})]})}function bf({isOpen:t,onClose:e,title:n,message:r,onConfirm:i,isDanger:a=!1}){return t?d.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white w-full max-w-sm rounded-xl shadow-2xl border border-gray-200 overflow-hidden dark:bg-[#111] dark:border-[#333]",children:[d.jsxs("div",{className:`px-4 py-3 flex items-center gap-3 border-b border-gray-200 ${a?"bg-red-50 dark:bg-red-900/20":"bg-gray-50 dark:bg-[#000]"}`,children:[d.jsx("div",{className:`p-2 rounded-full ${a?"bg-red-100 text-red-600":"bg-[#1F2937] text-white dark:bg-[#F2F2F2] dark:text-[#000000]"}`,children:a?d.jsx(Ba,{size:20}):d.jsx(TC,{size:20})}),d.jsx("h3",{className:`font-bold text-lg ${a?"text-red-700 dark:text-red-400":"text-[#1F2937] dark:text-[#F2F2F2]"}`,children:n})]}),d.jsx("div",{className:"p-5",children:d.jsx("p",{className:"text-gray-700 dark:text-[#F2F2F2] text-sm leading-relaxed font-medium",children:r})}),d.jsxs("div",{className:"p-3 bg-gray-50 flex justify-end gap-2 border-t border-gray-200 dark:bg-[#000] dark:border-[#333]",children:[d.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-500 hover:bg-gray-200 dark:hover:bg-[#222] dark:hover:text-[#F2F2F2] transition-colors",children:"Cancel"}),d.jsx("button",{onClick:i,className:`px-4 py-2 rounded-lg text-sm font-bold text-white shadow-md transition-transform active:scale-95 ${a?"bg-red-600 hover:bg-red-700":"bg-[#1F2937] hover:bg-black dark:bg-[#F2F2F2] dark:text-[#000000] dark:hover:bg-[#ccc]"}`,children:"Confirm"})]})]})}):null}function PP({children:t}){const e=Xc(),{logout:n}=ur(),[r,i]=E.useState(!1),[a,l]=E.useState(!1),[u,f]=E.useState(!1),m=()=>{n(),e("/login"),f(!1)};return d.jsxs("div",{className:"flex h-screen w-full bg-zinc-50 dark:bg-black text-zinc-900 dark:text-white overflow-hidden relative",children:[d.jsx(bf,{isOpen:u,onClose:()=>f(!1),title:"Sign Out?",message:"Are you sure you want to log out?",onConfirm:m,isDanger:!0}),r&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm md:hidden",onClick:()=>i(!1)}),d.jsx("div",{className:`
        fixed inset-y-0 left-0 z-50 bg-white dark:bg-black border-r border-zinc-200 dark:border-zinc-900 
        transition-all duration-300 ease-in-out shadow-2xl md:shadow-none overflow-hidden
        w-64 ${r?"translate-x-0":"-translate-x-full"}
        md:translate-x-0 md:relative 
        ${a?"md:w-[70px]":"md:w-64"}
      `,children:d.jsx(IP,{onCloseMobile:()=>i(!1),isCollapsed:a,toggleCollapse:()=>l(!a),onLogoutClick:()=>f(!0)})}),d.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative transition-all duration-300",children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between px-4 py-3 bg-white dark:bg-[#050505] border-b border-zinc-200 dark:border-zinc-800 shrink-0 z-30",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("h1",{className:"text-xl font-black italic tracking-tighter uppercase dark:text-white",children:["NOC",d.jsx("span",{className:"text-zinc-400",children:"TT"})]})}),d.jsx("button",{onClick:()=>i(!0),className:"p-2 -mr-2 text-zinc-500 hover:text-black dark:text-zinc-400 dark:hover:text-white rounded-lg transition-colors",children:d.jsx(H5,{size:24})})]}),d.jsx("div",{className:"flex-1 overflow-hidden relative w-full h-full",children:t})]})]})}function VP(){const t=Xc(),{nocMembers:e,setCurrentUser:n}=ur(),r=i=>{n(i),t("/")};return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-zinc-50 dark:bg-black p-4 transition-colors duration-500",children:d.jsxs("div",{className:"w-full max-w-2xl animate-in fade-in zoom-in-95 duration-500 flex flex-col items-center",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsxs("h1",{className:"text-4xl md:text-6xl font-black italic tracking-tighter uppercase dark:text-white mb-4",children:["NOCNTT ",d.jsx("span",{className:"text-zinc-300 dark:text-zinc-700",children:"Management"})]}),d.jsx("p",{className:"text-sm font-bold text-zinc-400 uppercase tracking-[0.3em] mb-6",children:"System Access"}),d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[d.jsx(aP,{size:14,className:"text-zinc-400"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500 dark:text-zinc-400",children:"Who is operating?"})]})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8 md:gap-12",children:e.map(i=>d.jsxs("button",{onClick:()=>r(i.name),className:"group flex flex-col items-center gap-4 transition-all duration-300 hover:-translate-y-2",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center text-3xl md:text-4xl font-black text-zinc-500 dark:text-zinc-400 group-hover:bg-black group-hover:text-white dark:group-hover:bg-white dark:group-hover:text-black transition-all duration-300 shadow-lg group-hover:shadow-2xl group-hover:scale-105 border-4 border-transparent group-hover:border-zinc-200 dark:group-hover:border-zinc-700",children:i.name.charAt(0)}),d.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black text-[9px] font-black uppercase tracking-widest rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:i.role})]}),d.jsx("div",{className:"text-center",children:d.jsx("div",{className:"text-sm md:text-base font-bold text-zinc-500 dark:text-zinc-400 group-hover:text-black dark:group-hover:text-white transition-colors",children:i.name})})]},i.id))})]})})}const LP=()=>{};var HS={};const IC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},PC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,m=f?t[i+2]:0,p=a>>2,b=(a&3)<<4|u>>4;let x=(u&15)<<2|m>>6,w=m&63;f||(w=64,l||(x=64)),r.push(n[p],n[b],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const b=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||m==null||b==null)throw new BP;const x=a<<2|u>>4;if(r.push(x),m!==64){const w=u<<4&240|m>>2;if(r.push(w),b!==64){const A=m<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HP=function(t){const e=IC(t);return PC.encodeByteArray(e,!0)},sp=function(t){return HP(t).replace(/\./g,"")},FP=function(t){try{return PC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $P=()=>qP().__FIREBASE_DEFAULTS__,WP=()=>{if(typeof process>"u"||typeof HS>"u")return;const t=HS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FP(t[1]);return e&&JSON.parse(e)},ax=()=>{try{return LP()||$P()||WP()||GP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YP=t=>ax()?.emulatorHosts?.[t],VC=t=>{const e=YP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LC=()=>ax()?.config;class QP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function yf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UC(t){return(await fetch(t,{credentials:"include"})).ok}function BC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sp(JSON.stringify(n)),sp(JSON.stringify(l)),""].join(".")}const Dd={};function XP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dd))Dd[e]?t.emulator.push(e):t.prod.push(e);return t}function KP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let FS=!1;function HC(t,e){if(typeof window>"u"||typeof document>"u"||!yf(window.location.host)||Dd[t]===e||Dd[t]||FS)return;Dd[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=XP().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{FS=!0,l()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=KP(r),w=n("text"),A=document.getElementById(w)||document.createElement("span"),S=n("learnmore"),k=document.getElementById(S)||document.createElement("a"),N=n("preprendIcon"),j=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const z=x.element;u(z),p(k,S);const M=m();f(j,N),z.append(j,A,k,M),document.body.appendChild(z)}a?(A.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ZP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JP(){const t=ax()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e3(){return!JP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t3(){try{return typeof indexedDB=="object"}catch{return!1}}function n3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const r3="FirebaseError";class ol extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r3,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,FC.prototype.create)}}class FC{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?i3(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new ol(i,u,r)}}function i3(t,e){return t.replace(s3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s3=/\{\$([^}]+)}/g;function zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(qS(a)&&qS(l)){if(!zc(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qS(t){return t!==null&&typeof t=="object"}function Un(t){return t&&t._delegate?t._delegate:t}class Mc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lo="[DEFAULT]";let a3=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l3(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function o3(t){return t===Lo?void 0:t}function l3(t){return t.instantiationMode==="EAGER"}class c3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const u3={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},d3=at.INFO,f3={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},h3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=f3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qC{constructor(e){this.name=e,this._logLevel=d3,this._logHandler=h3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const m3=(t,e)=>e.some(n=>t instanceof n);let $S,WS;function p3(){return $S||($S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g3(){return WS||(WS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $C=new WeakMap,Xy=new WeakMap,WC=new WeakMap,Wb=new WeakMap,ox=new WeakMap;function b3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ja(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&$C.set(n,t)}).catch(()=>{}),ox.set(e,t),e}function y3(t){if(Xy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Xy.set(t,e)}let Ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ja(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v3(t){Ky=t(Ky)}function x3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gb(this),e,...n);return WC.set(r,e.sort?e.sort():[e]),ja(r)}:g3().includes(t)?function(...e){return t.apply(Gb(this),e),ja($C.get(this))}:function(...e){return ja(t.apply(Gb(this),e))}}function w3(t){return typeof t=="function"?x3(t):(t instanceof IDBTransaction&&y3(t),m3(t,p3())?new Proxy(t,Ky):t)}function ja(t){if(t instanceof IDBRequest)return b3(t);if(Wb.has(t))return Wb.get(t);const e=w3(t);return e!==t&&(Wb.set(t,e),ox.set(e,t)),e}const Gb=t=>ox.get(t);function _3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=ja(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ja(l.result),f.oldVersion,f.newVersion,ja(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const E3=["get","getKey","getAll","getAllKeys","count"],S3=["put","add","delete","clear"],Yb=new Map;function GS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yb.get(e))return Yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=S3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||E3.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&f.done]))[0]};return Yb.set(e,a),a}v3(t=>({...t,get:(e,n,r)=>GS(e,n)||t.get(e,n,r),has:(e,n)=>!!GS(e,n)||t.has(e,n)}));class k3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A3(t){return t.getComponent()?.type==="VERSION"}const Zy="@firebase/app",YS="0.14.6";const Ps=new qC("@firebase/app"),T3="@firebase/app-compat",C3="@firebase/analytics-compat",N3="@firebase/analytics",R3="@firebase/app-check-compat",D3="@firebase/app-check",z3="@firebase/auth",M3="@firebase/auth-compat",j3="@firebase/database",O3="@firebase/data-connect",I3="@firebase/database-compat",P3="@firebase/functions",V3="@firebase/functions-compat",L3="@firebase/installations",U3="@firebase/installations-compat",B3="@firebase/messaging",H3="@firebase/messaging-compat",F3="@firebase/performance",q3="@firebase/performance-compat",$3="@firebase/remote-config",W3="@firebase/remote-config-compat",G3="@firebase/storage",Y3="@firebase/storage-compat",Q3="@firebase/firestore",X3="@firebase/ai",K3="@firebase/firestore-compat",Z3="firebase",J3="12.6.0";const Jy="[DEFAULT]",e6={[Zy]:"fire-core",[T3]:"fire-core-compat",[N3]:"fire-analytics",[C3]:"fire-analytics-compat",[D3]:"fire-app-check",[R3]:"fire-app-check-compat",[z3]:"fire-auth",[M3]:"fire-auth-compat",[j3]:"fire-rtdb",[O3]:"fire-data-connect",[I3]:"fire-rtdb-compat",[P3]:"fire-fn",[V3]:"fire-fn-compat",[L3]:"fire-iid",[U3]:"fire-iid-compat",[B3]:"fire-fcm",[H3]:"fire-fcm-compat",[F3]:"fire-perf",[q3]:"fire-perf-compat",[$3]:"fire-rc",[W3]:"fire-rc-compat",[G3]:"fire-gcs",[Y3]:"fire-gcs-compat",[Q3]:"fire-fst",[K3]:"fire-fst-compat",[X3]:"fire-vertex","fire-js":"fire-js",[Z3]:"fire-js-all"};const ap=new Map,t6=new Map,ev=new Map;function QS(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qd(t){const e=t.name;if(ev.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;ev.set(e,t);for(const n of ap.values())QS(n,t);for(const n of t6.values())QS(n,t);return!0}function GC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function YC(t){return t==null?!1:t.settings!==void 0}const n6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new FC("app","Firebase",n6);class r6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}const QC=J3;function XC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Jy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Oa.create("bad-app-name",{appName:String(i)});if(n||(n=LC()),!n)throw Oa.create("no-options");const a=ap.get(i);if(a){if(zc(n,a.options)&&zc(r,a.config))return a;throw Oa.create("duplicate-app",{appName:i})}const l=new c3(i);for(const f of ev.values())l.addComponent(f);const u=new r6(n,r,l);return ap.set(i,u),u}function KC(t=Jy){const e=ap.get(t);if(!e&&t===Jy&&LC())return XC();if(!e)throw Oa.create("no-app",{appName:t});return e}function Ia(t,e,n){let r=e6[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(l.join(" "));return}Qd(new Mc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const i6="firebase-heartbeat-database",s6=1,Xd="firebase-heartbeat-store";let Qb=null;function ZC(){return Qb||(Qb=_3(i6,s6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oa.create("idb-open",{originalErrorMessage:t.message})})),Qb}async function a6(t){try{const n=(await ZC()).transaction(Xd),r=await n.objectStore(Xd).get(JC(t));return await n.done,r}catch(e){if(e instanceof ol)Ps.warn(e.message);else{const n=Oa.create("idb-get",{originalErrorMessage:e?.message});Ps.warn(n.message)}}}async function XS(t,e){try{const r=(await ZC()).transaction(Xd,"readwrite");await r.objectStore(Xd).put(e,JC(t)),await r.done}catch(n){if(n instanceof ol)Ps.warn(n.message);else{const r=Oa.create("idb-set",{originalErrorMessage:n?.message});Ps.warn(r.message)}}}function JC(t){return`${t.name}!${t.options.appId}`}const o6=1024,l6=30;class c6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=KS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>l6){const i=f6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=KS(),{heartbeatsToSend:n,unsentEntries:r}=u6(this._heartbeatsCache.heartbeats),i=sp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ps.warn(e),""}}}function KS(){return new Date().toISOString().substring(0,10)}function u6(t,e=o6){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),ZS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t3()?n3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return XS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ZS(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}function f6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function h6(t){Qd(new Mc("platform-logger",e=>new k3(e),"PRIVATE")),Qd(new Mc("heartbeat",e=>new c6(e),"PRIVATE")),Ia(Zy,YS,t),Ia(Zy,YS,"esm2020"),Ia("fire-js","")}h6("");var JS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pa,e2;(function(){var t;function e(D,R){function I(){}I.prototype=R.prototype,D.F=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(L,U,q){for(var B=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)B[oe-2]=arguments[oe];return R.prototype[U].apply(L,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,R,I){I||(I=0);const L=Array(16);if(typeof R=="string")for(var U=0;U<16;++U)L[U]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(U=0;U<16;++U)L[U]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],U=D.g[2];let q=D.g[3],B;B=R+(q^I&(U^q))+L[0]+3614090360&4294967295,R=I+(B<<7&4294967295|B>>>25),B=q+(U^R&(I^U))+L[1]+3905402710&4294967295,q=R+(B<<12&4294967295|B>>>20),B=U+(I^q&(R^I))+L[2]+606105819&4294967295,U=q+(B<<17&4294967295|B>>>15),B=I+(R^U&(q^R))+L[3]+3250441966&4294967295,I=U+(B<<22&4294967295|B>>>10),B=R+(q^I&(U^q))+L[4]+4118548399&4294967295,R=I+(B<<7&4294967295|B>>>25),B=q+(U^R&(I^U))+L[5]+1200080426&4294967295,q=R+(B<<12&4294967295|B>>>20),B=U+(I^q&(R^I))+L[6]+2821735955&4294967295,U=q+(B<<17&4294967295|B>>>15),B=I+(R^U&(q^R))+L[7]+4249261313&4294967295,I=U+(B<<22&4294967295|B>>>10),B=R+(q^I&(U^q))+L[8]+1770035416&4294967295,R=I+(B<<7&4294967295|B>>>25),B=q+(U^R&(I^U))+L[9]+2336552879&4294967295,q=R+(B<<12&4294967295|B>>>20),B=U+(I^q&(R^I))+L[10]+4294925233&4294967295,U=q+(B<<17&4294967295|B>>>15),B=I+(R^U&(q^R))+L[11]+2304563134&4294967295,I=U+(B<<22&4294967295|B>>>10),B=R+(q^I&(U^q))+L[12]+1804603682&4294967295,R=I+(B<<7&4294967295|B>>>25),B=q+(U^R&(I^U))+L[13]+4254626195&4294967295,q=R+(B<<12&4294967295|B>>>20),B=U+(I^q&(R^I))+L[14]+2792965006&4294967295,U=q+(B<<17&4294967295|B>>>15),B=I+(R^U&(q^R))+L[15]+1236535329&4294967295,I=U+(B<<22&4294967295|B>>>10),B=R+(U^q&(I^U))+L[1]+4129170786&4294967295,R=I+(B<<5&4294967295|B>>>27),B=q+(I^U&(R^I))+L[6]+3225465664&4294967295,q=R+(B<<9&4294967295|B>>>23),B=U+(R^I&(q^R))+L[11]+643717713&4294967295,U=q+(B<<14&4294967295|B>>>18),B=I+(q^R&(U^q))+L[0]+3921069994&4294967295,I=U+(B<<20&4294967295|B>>>12),B=R+(U^q&(I^U))+L[5]+3593408605&4294967295,R=I+(B<<5&4294967295|B>>>27),B=q+(I^U&(R^I))+L[10]+38016083&4294967295,q=R+(B<<9&4294967295|B>>>23),B=U+(R^I&(q^R))+L[15]+3634488961&4294967295,U=q+(B<<14&4294967295|B>>>18),B=I+(q^R&(U^q))+L[4]+3889429448&4294967295,I=U+(B<<20&4294967295|B>>>12),B=R+(U^q&(I^U))+L[9]+568446438&4294967295,R=I+(B<<5&4294967295|B>>>27),B=q+(I^U&(R^I))+L[14]+3275163606&4294967295,q=R+(B<<9&4294967295|B>>>23),B=U+(R^I&(q^R))+L[3]+4107603335&4294967295,U=q+(B<<14&4294967295|B>>>18),B=I+(q^R&(U^q))+L[8]+1163531501&4294967295,I=U+(B<<20&4294967295|B>>>12),B=R+(U^q&(I^U))+L[13]+2850285829&4294967295,R=I+(B<<5&4294967295|B>>>27),B=q+(I^U&(R^I))+L[2]+4243563512&4294967295,q=R+(B<<9&4294967295|B>>>23),B=U+(R^I&(q^R))+L[7]+1735328473&4294967295,U=q+(B<<14&4294967295|B>>>18),B=I+(q^R&(U^q))+L[12]+2368359562&4294967295,I=U+(B<<20&4294967295|B>>>12),B=R+(I^U^q)+L[5]+4294588738&4294967295,R=I+(B<<4&4294967295|B>>>28),B=q+(R^I^U)+L[8]+2272392833&4294967295,q=R+(B<<11&4294967295|B>>>21),B=U+(q^R^I)+L[11]+1839030562&4294967295,U=q+(B<<16&4294967295|B>>>16),B=I+(U^q^R)+L[14]+4259657740&4294967295,I=U+(B<<23&4294967295|B>>>9),B=R+(I^U^q)+L[1]+2763975236&4294967295,R=I+(B<<4&4294967295|B>>>28),B=q+(R^I^U)+L[4]+1272893353&4294967295,q=R+(B<<11&4294967295|B>>>21),B=U+(q^R^I)+L[7]+4139469664&4294967295,U=q+(B<<16&4294967295|B>>>16),B=I+(U^q^R)+L[10]+3200236656&4294967295,I=U+(B<<23&4294967295|B>>>9),B=R+(I^U^q)+L[13]+681279174&4294967295,R=I+(B<<4&4294967295|B>>>28),B=q+(R^I^U)+L[0]+3936430074&4294967295,q=R+(B<<11&4294967295|B>>>21),B=U+(q^R^I)+L[3]+3572445317&4294967295,U=q+(B<<16&4294967295|B>>>16),B=I+(U^q^R)+L[6]+76029189&4294967295,I=U+(B<<23&4294967295|B>>>9),B=R+(I^U^q)+L[9]+3654602809&4294967295,R=I+(B<<4&4294967295|B>>>28),B=q+(R^I^U)+L[12]+3873151461&4294967295,q=R+(B<<11&4294967295|B>>>21),B=U+(q^R^I)+L[15]+530742520&4294967295,U=q+(B<<16&4294967295|B>>>16),B=I+(U^q^R)+L[2]+3299628645&4294967295,I=U+(B<<23&4294967295|B>>>9),B=R+(U^(I|~q))+L[0]+4096336452&4294967295,R=I+(B<<6&4294967295|B>>>26),B=q+(I^(R|~U))+L[7]+1126891415&4294967295,q=R+(B<<10&4294967295|B>>>22),B=U+(R^(q|~I))+L[14]+2878612391&4294967295,U=q+(B<<15&4294967295|B>>>17),B=I+(q^(U|~R))+L[5]+4237533241&4294967295,I=U+(B<<21&4294967295|B>>>11),B=R+(U^(I|~q))+L[12]+1700485571&4294967295,R=I+(B<<6&4294967295|B>>>26),B=q+(I^(R|~U))+L[3]+2399980690&4294967295,q=R+(B<<10&4294967295|B>>>22),B=U+(R^(q|~I))+L[10]+4293915773&4294967295,U=q+(B<<15&4294967295|B>>>17),B=I+(q^(U|~R))+L[1]+2240044497&4294967295,I=U+(B<<21&4294967295|B>>>11),B=R+(U^(I|~q))+L[8]+1873313359&4294967295,R=I+(B<<6&4294967295|B>>>26),B=q+(I^(R|~U))+L[15]+4264355552&4294967295,q=R+(B<<10&4294967295|B>>>22),B=U+(R^(q|~I))+L[6]+2734768916&4294967295,U=q+(B<<15&4294967295|B>>>17),B=I+(q^(U|~R))+L[13]+1309151649&4294967295,I=U+(B<<21&4294967295|B>>>11),B=R+(U^(I|~q))+L[4]+4149444226&4294967295,R=I+(B<<6&4294967295|B>>>26),B=q+(I^(R|~U))+L[11]+3174756917&4294967295,q=R+(B<<10&4294967295|B>>>22),B=U+(R^(q|~I))+L[2]+718787259&4294967295,U=q+(B<<15&4294967295|B>>>17),B=I+(q^(U|~R))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(U+(B<<21&4294967295|B>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+q&4294967295}r.prototype.v=function(D,R){R===void 0&&(R=D.length);const I=R-this.blockSize,L=this.C;let U=this.h,q=0;for(;q<R;){if(U==0)for(;q<=I;)i(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<R;)if(L[U++]=D.charCodeAt(q++),U==this.blockSize){i(this,L),U=0;break}}else for(;q<R;)if(L[U++]=D[q++],U==this.blockSize){i(this,L),U=0;break}}this.h=U,this.o+=R},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)D[R++]=this.g[I]>>>L&255;return D};function a(D,R){var I=u;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function l(D,R){this.h=R;const I=[];let L=!0;for(let U=D.length-1;U>=0;U--){const q=D[U]|0;L&&q==R||(I[U]=q,L=!1)}this.g=I}var u={};function f(D){return-128<=D&&D<128?a(D,function(R){return new l([R|0],R<0?-1:0)}):new l([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return k(m(-D));const R=[];let I=1;for(let L=0;D>=I;L++)R[L]=D/I|0,I*=4294967296;return new l(R,0)}function p(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return k(p(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(R,8));let L=b;for(let q=0;q<D.length;q+=8){var U=Math.min(8,D.length-q);const B=parseInt(D.substring(q,q+U),R);U<8?(U=m(Math.pow(R,U)),L=L.j(U).add(m(B))):(L=L.j(I),L=L.add(m(B)))}return L}var b=f(0),x=f(1),w=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-k(this).m();let D=0,R=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);D+=(L>=0?L:4294967296+L)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(S(this))return"-"+k(this).toString(D);const R=m(Math.pow(D,6));var I=this;let L="";for(;;){const U=M(I,R).g;I=N(I,U.j(R));let q=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=U,A(I))return q+L;for(;q.length<6;)q="0"+q;L=q+L}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function S(D){return D.h==-1}t.l=function(D){return D=N(this,D),S(D)?-1:A(D)?0:1};function k(D){const R=D.g.length,I=[];for(let L=0;L<R;L++)I[L]=~D.g[L];return new l(I,~D.h).add(x)}t.abs=function(){return S(this)?k(this):this},t.add=function(D){const R=Math.max(this.g.length,D.g.length),I=[];let L=0;for(let U=0;U<=R;U++){let q=L+(this.i(U)&65535)+(D.i(U)&65535),B=(q>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);L=B>>>16,q&=65535,B&=65535,I[U]=B<<16|q}return new l(I,I[I.length-1]&-2147483648?-1:0)};function N(D,R){return D.add(k(R))}t.j=function(D){if(A(this)||A(D))return b;if(S(this))return S(D)?k(this).j(k(D)):k(k(this).j(D));if(S(D))return k(this.j(k(D)));if(this.l(w)<0&&D.l(w)<0)return m(this.m()*D.m());const R=this.g.length+D.g.length,I=[];for(var L=0;L<2*R;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let U=0;U<D.g.length;U++){const q=this.i(L)>>>16,B=this.i(L)&65535,oe=D.i(U)>>>16,_e=D.i(U)&65535;I[2*L+2*U]+=B*_e,j(I,2*L+2*U),I[2*L+2*U+1]+=q*_e,j(I,2*L+2*U+1),I[2*L+2*U+1]+=B*oe,j(I,2*L+2*U+1),I[2*L+2*U+2]+=q*oe,j(I,2*L+2*U+2)}for(D=0;D<R;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=R;D<2*R;D++)I[D]=0;return new l(I,0)};function j(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function z(D,R){this.g=D,this.h=R}function M(D,R){if(A(R))throw Error("division by zero");if(A(D))return new z(b,b);if(S(D))return R=M(k(D),R),new z(k(R.g),k(R.h));if(S(R))return R=M(D,k(R)),new z(k(R.g),R.h);if(D.g.length>30){if(S(D)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var I=x,L=R;L.l(D)<=0;)I=P(I),L=P(L);var U=H(I,1),q=H(L,1);for(L=H(L,2),I=H(I,2);!A(L);){var B=q.add(L);B.l(D)<=0&&(U=U.add(I),q=B),L=H(L,1),I=H(I,1)}return R=N(D,U.j(R)),new z(U,R)}for(U=b;D.l(R)>=0;){for(I=Math.max(1,Math.floor(D.m()/R.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),q=m(I),B=q.j(R);S(B)||B.l(D)>0;)I-=L,q=m(I),B=q.j(R);A(q)&&(q=x),U=U.add(q),D=N(D,B)}return new z(U,D)}t.B=function(D){return M(this,D).h},t.and=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)&D.i(L);return new l(I,this.h&D.h)},t.or=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)|D.i(L);return new l(I,this.h|D.h)},t.xor=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let L=0;L<R;L++)I[L]=this.i(L)^D.i(L);return new l(I,this.h^D.h)};function P(D){const R=D.g.length+1,I=[];for(let L=0;L<R;L++)I[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(I,D.h)}function H(D,R){const I=R>>5;R%=32;const L=D.g.length-I,U=[];for(let q=0;q<L;q++)U[q]=R>0?D.i(q+I)>>>R|D.i(q+I+1)<<32-R:D.i(q+I);return new l(U,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,e2=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,Pa=l}).apply(typeof JS<"u"?JS:typeof self<"u"?self:typeof window<"u"?window:{});var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var t2,kd,n2,Pm,tv,r2,i2,s2;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof dm=="object"&&dm];for(var _=0;_<g.length;++_){var C=g[_];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(g,_){if(_)e:{var C=r;g=g.split(".");for(var V=0;V<g.length-1;V++){var X=g[V];if(!(X in C))break e;C=C[X]}g=g[g.length-1],V=C[g],_=_(V),_!=V&&_!=null&&e(C,g,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(_){var C=[],V;for(V in _)Object.prototype.hasOwnProperty.call(_,V)&&C.push([V,_[V]]);return C}});var a=a||{},l=this||self;function u(g){var _=typeof g;return _=="object"&&g!=null||_=="function"}function f(g,_,C){return g.call.apply(g.bind,arguments)}function m(g,_,C){return m=f,m.apply(null,arguments)}function p(g,_){var C=Array.prototype.slice.call(arguments,1);return function(){var V=C.slice();return V.push.apply(V,arguments),g.apply(this,V)}}function b(g,_){function C(){}C.prototype=_.prototype,g.Z=_.prototype,g.prototype=new C,g.prototype.constructor=g,g.Ob=function(V,X,ne){for(var ve=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ve[$e-2]=arguments[$e];return _.prototype[X].apply(V,ve)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function w(g){const _=g.length;if(_>0){const C=Array(_);for(let V=0;V<_;V++)C[V]=g[V];return C}return[]}function A(g,_){for(let V=1;V<arguments.length;V++){const X=arguments[V];var C=typeof X;if(C=C!="object"?C:X?Array.isArray(X)?"array":C:"null",C=="array"||C=="object"&&typeof X.length=="number"){C=g.length||0;const ne=X.length||0;g.length=C+ne;for(let ve=0;ve<ne;ve++)g[C+ve]=X[ve]}else g.push(X)}}class S{constructor(_,C){this.i=_,this.j=C,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(g){l.setTimeout(()=>{throw g},0)}function N(){var g=D;let _=null;return g.g&&(_=g.g,g.g=g.g.next,g.g||(g.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,C){const V=z.get();V.set(_,C),this.h?this.h.next=V:this.g=V,this.h=V}}var z=new S(()=>new M,g=>g.reset());class M{constructor(){this.next=this.g=this.h=null}set(_,C){this.h=_,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let P,H=!1,D=new j,R=()=>{const g=Promise.resolve(void 0);P=()=>{g.then(I)}};function I(){for(var g;g=N();){try{g.h.call(g.g)}catch(C){k(C)}var _=z;_.j(g),_.h<100&&(_.h++,g.next=_.g,_.g=g)}H=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(g,_){this.type=g,this.g=this.target=_,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,_=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};l.addEventListener("test",C,_),l.removeEventListener("test",C,_)}catch{}return g})();function B(g){return/^[\s\xa0]*$/.test(g)}function oe(g,_){U.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,_)}b(oe,U),oe.prototype.init=function(g,_){const C=this.type=g.type,V=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=_,_=g.relatedTarget,_||(C=="mouseover"?_=g.fromElement:C=="mouseout"&&(_=g.toElement)),this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),W=0;function te(g,_,C,V,X){this.listener=g,this.proxy=null,this.src=_,this.type=C,this.capture=!!V,this.ha=X,this.key=++W,this.da=this.fa=!1}function Y(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function le(g,_,C){for(const V in g)_.call(C,g[V],V,g)}function pe(g,_){for(const C in g)_.call(void 0,g[C],C,g)}function F(g){const _={};for(const C in g)_[C]=g[C];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(g,_){let C,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(C in V)g[C]=V[C];for(let ne=0;ne<K.length;ne++)C=K[ne],Object.prototype.hasOwnProperty.call(V,C)&&(g[C]=V[C])}}function ge(g){this.src=g,this.g={},this.h=0}ge.prototype.add=function(g,_,C,V,X){const ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);const ve=Te(g,_,V,X);return ve>-1?(_=g[ve],C||(_.fa=!1)):(_=new te(_,this.src,ne,!!V,X),_.fa=C,g.push(_)),_};function xe(g,_){const C=_.type;if(C in g.g){var V=g.g[C],X=Array.prototype.indexOf.call(V,_,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(V,X,1),ne&&(Y(_),g.g[C].length==0&&(delete g.g[C],g.h--))}}function Te(g,_,C,V){for(let X=0;X<g.length;++X){const ne=g[X];if(!ne.da&&ne.listener==_&&ne.capture==!!C&&ne.ha==V)return X}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),Ie={};function qe(g,_,C,V,X){if(Array.isArray(_)){for(let ne=0;ne<_.length;ne++)qe(g,_[ne],C,V,X);return null}return C=ao(C),g&&g[_e]?g.J(_,C,u(V)?!!V.capture:!1,X):Qe(g,_,C,!1,V,X)}function Qe(g,_,C,V,X,ne){if(!_)throw Error("Invalid event type");const ve=u(X)?!!X.capture:!!X;let $e=Jr(g);if($e||(g[ie]=$e=new ge(g)),C=$e.add(_,C,V,ve,ne),C.proxy)return C;if(V=kt(),C.proxy=V,V.src=g,V.listener=C,g.addEventListener)q||(X=ve),X===void 0&&(X=!1),g.addEventListener(_.toString(),V,X);else if(g.attachEvent)g.attachEvent(Qn(_.toString()),V);else if(g.addListener&&g.removeListener)g.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return C}function kt(){function g(C){return _.call(g.src,g.listener,C)}const _=jr;return g}function Yt(g,_,C,V,X){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)Yt(g,_[ne],C,V,X);else V=u(V)?!!V.capture:!!V,C=ao(C),g&&g[_e]?(g=g.i,ne=String(_).toString(),ne in g.g&&(_=g.g[ne],C=Te(_,C,V,X),C>-1&&(Y(_[C]),Array.prototype.splice.call(_,C,1),_.length==0&&(delete g.g[ne],g.h--)))):g&&(g=Jr(g))&&(_=g.g[_.toString()],g=-1,_&&(g=Te(_,C,V,X)),(C=g>-1?_[g]:null)&&Yn(C))}function Yn(g){if(typeof g!="number"&&g&&!g.da){var _=g.src;if(_&&_[_e])xe(_.i,g);else{var C=g.type,V=g.proxy;_.removeEventListener?_.removeEventListener(C,V,g.capture):_.detachEvent?_.detachEvent(Qn(C),V):_.addListener&&_.removeListener&&_.removeListener(V),(C=Jr(_))?(xe(C,g),C.h==0&&(C.src=null,_[ie]=null)):Y(g)}}}function Qn(g){return g in Ie?Ie[g]:Ie[g]="on"+g}function jr(g,_){if(g.da)g=!0;else{_=new oe(_,this);const C=g.listener,V=g.ha||g.src;g.fa&&Yn(g),g=C.call(V,_)}return g}function Jr(g){return g=g[ie],g instanceof ge?g:null}var so="__closure_events_fn_"+(Math.random()*1e9>>>0);function ao(g){return typeof g=="function"?g:(g[so]||(g[so]=function(_){return g.handleEvent(_)}),g[so])}function Ft(){L.call(this),this.i=new ge(this),this.M=this,this.G=null}b(Ft,L),Ft.prototype[_e]=!0,Ft.prototype.removeEventListener=function(g,_,C,V){Yt(this,g,_,C,V)};function Qt(g,_){var C,V=g.G;if(V)for(C=[];V;V=V.G)C.push(V);if(g=g.M,V=_.type||_,typeof _=="string")_=new U(_,g);else if(_ instanceof U)_.target=_.target||g;else{var X=_;_=new U(V,g),ue(_,X)}X=!0;let ne,ve;if(C)for(ve=C.length-1;ve>=0;ve--)ne=_.g=C[ve],X=wi(ne,V,!0,_)&&X;if(ne=_.g=g,X=wi(ne,V,!0,_)&&X,X=wi(ne,V,!1,_)&&X,C)for(ve=0;ve<C.length;ve++)ne=_.g=C[ve],X=wi(ne,V,!1,_)&&X}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var g=this.i;for(const _ in g.g){const C=g.g[_];for(let V=0;V<C.length;V++)Y(C[V]);delete g.g[_],g.h--}}this.G=null},Ft.prototype.J=function(g,_,C,V){return this.i.add(String(g),_,!1,C,V)},Ft.prototype.K=function(g,_,C,V){return this.i.add(String(g),_,!0,C,V)};function wi(g,_,C,V){if(_=g.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let ne=0;ne<_.length;++ne){const ve=_[ne];if(ve&&!ve.da&&ve.capture==C){const $e=ve.listener,Xt=ve.ha||ve.src;ve.fa&&xe(g.i,ve),X=$e.call(Xt,V)!==!1&&X}}return X&&!V.defaultPrevented}function du(g,_){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=m(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(g,_||0)}function oo(g){g.g=du(()=>{g.g=null,g.i&&(g.i=!1,oo(g))},g.l);const _=g.h;g.h=null,g.m.apply(null,_)}class dn extends L{constructor(_,C){super(),this.m=_,this.l=C,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(g){L.call(this),this.h=g,this.g={}}b(ei,L);var lo=[];function co(g){le(g.g,function(_,C){this.g.hasOwnProperty(C)&&Yn(_)},g),g.g={}}ei.prototype.N=function(){ei.Z.N.call(this),co(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=l.JSON.stringify,fu=l.JSON.parse,bl=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function yl(){}function vl(){}var fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fn(){U.call(this,"d")}b(fn,U);function Xn(){U.call(this,"c")}b(Xn,U);var Pt={},uo=null;function Ws(){return uo=uo||new Ft}Pt.Ia="serverreachability";function Ve(g){U.call(this,Pt.Ia,g)}b(Ve,U);function Ge(g){const _=Ws();Qt(_,new Ve(_))}Pt.STAT_EVENT="statevent";function ze(g,_){U.call(this,Pt.STAT_EVENT,g),this.stat=_}b(ze,U);function Me(g){const _=Ws();Qt(_,new ze(_,g))}Pt.Ja="timingevent";function Rt(g,_){U.call(this,Pt.Ja,g),this.size=_}b(Rt,U);function Le(g,_){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},_)}function hr(){this.g=!0}hr.prototype.ua=function(){this.g=!1};function hu(g,_,C,V,X,ne){g.info(function(){if(g.g)if(ne){var ve="",$e=ne.split("&");for(let ut=0;ut<$e.length;ut++){var Xt=$e[ut].split("=");if(Xt.length>1){const Dt=Xt[0];Xt=Xt[1];const Vr=Dt.split("_");ve=Vr.length>=2&&Vr[1]=="type"?ve+(Dt+"="+Xt+"&"):ve+(Dt+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+_+`
`+C+`
`+ve})}function xl(g,_,C,V,X,ne,ve){g.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+_+`
`+C+`
`+ne+" "+ve})}function Kn(g,_,C,V){g.info(function(){return"XMLHTTP TEXT ("+_+"): "+Bg(g,C)+(V?" "+V:"")})}function ti(g,_){g.info(function(){return"TIMEOUT: "+_})}hr.prototype.info=function(){};function Bg(g,_){if(!g.g)return _;if(!_)return null;try{const ne=JSON.parse(_);if(ne){for(g=0;g<ne.length;g++)if(Array.isArray(ne[g])){var C=ne[g];if(!(C.length<2)){var V=C[1];if(Array.isArray(V)&&!(V.length<1)){var X=V[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<V.length;ve++)V[ve]=""}}}}return _i(ne)}catch{return _}}var fo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pu;function ho(){}b(ho,yl),ho.prototype.g=function(){return new XMLHttpRequest},pu=new ho;function us(g){return encodeURIComponent(String(g))}function Uf(g){var _=1;g=g.split(":");const C=[];for(;_>0&&g.length;)C.push(g.shift()),_--;return g.length&&C.push(g.join(":")),C}function ni(g,_,C,V){this.j=g,this.i=_,this.l=C,this.S=V||1,this.V=new ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var en={},gn={};function Ei(g,_,C){g.M=1,g.A=mo(nn(_)),g.u=C,g.R=!0,wl(g,null)}function wl(g,_){g.F=Date.now(),Si(g),g.B=nn(g.A);var C=g.B,V=g.S;Array.isArray(V)||(V=[String(V)]),kl(C.i,"t",V),g.C=0,C=g.j.L,g.h=new ri,g.g=th(g.j,C?_:null,!g.u),g.P>0&&(g.O=new dn(m(g.Y,g,g.g),g.P)),_=g.V,C=g.g,V=g.ba;var X="readystatechange";Array.isArray(X)||(X&&(lo[0]=X.toString()),X=lo);for(let ne=0;ne<X.length;ne++){const ve=qe(C,X[ne],V||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=g.J?F(g.J):{},g.u?(g.v||(g.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,_)):(g.v="GET",g.g.ea(g.B,g.v,null,_)),Ge(),hu(g.i,g.v,g.B,g.l,g.S,g.u)}ni.prototype.ba=function(g){g=g.target;const _=this.O;_&&ai(g)==3?_.j():this.Y(g)},ni.prototype.Y=function(g){try{if(g==this.g)e:{const $e=ai(this.g),Xt=this.g.ya(),ut=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Sn(this.g)))){this.K||$e!=4||Xt==7||(Xt==8||ut<=0?Ge(3):Ge(2)),ki(this);var _=this.g.ca();this.X=_;var C=Hg(this);if(this.o=_==200,xl(this.i,this.v,this.B,this.l,this.S,$e,_),this.o){if(this.U&&!this.L){t:{if(this.g){var V,X=this.g;if((V=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(V)){var ne=V;break t}}ne=null}if(g=ne)Kn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,g);else{this.o=!1,this.m=3,Me(12),mr(this),Or(this);break e}}if(this.R){g=!0;let Dt;for(;!this.K&&this.C<C.length;)if(Dt=Hf(this,C),Dt==gn){$e==4&&(this.m=4,Me(14),g=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==en){this.m=4,Me(15),Kn(this.i,this.l,C,"[Invalid Chunk]"),g=!1;break}else Kn(this.i,this.l,Dt,null),Ai(this,Dt);if(Bf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||C.length!=0||this.h.h||(this.m=1,Me(16),g=!1),this.o=this.o&&g,!g)Kn(this.i,this.l,C,"[Invalid Chunked Response]"),mr(this),Or(this);else if(C.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ru(ve),ve.P=!0,Me(11))}}else Kn(this.i,this.l,C,null),Ai(this,C);$e==4&&mr(this),this.o&&!this.K&&($e==4?Kf(this.j,this):(this.o=!1,Si(this)))}else fs(this.g),_==400&&C.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),mr(this),Or(this)}}}catch{}finally{}};function Hg(g){if(!Bf(g))return g.g.la();const _=Sn(g.g);if(_==="")return"";let C="";const V=_.length,X=ai(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return mr(g),Or(g),"";g.h.i=new l.TextDecoder}for(let ne=0;ne<V;ne++)g.h.h=!0,C+=g.h.i.decode(_[ne],{stream:!(X&&ne==V-1)});return _.length=0,g.h.g+=C,g.C=0,g.h.g}function Bf(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Hf(g,_){var C=g.C,V=_.indexOf(`
`,C);return V==-1?gn:(C=Number(_.substring(C,V)),isNaN(C)?en:(V+=1,V+C>_.length?gn:(_=_.slice(V,V+C),g.C=V+C,_)))}ni.prototype.cancel=function(){this.K=!0,mr(this)};function Si(g){g.T=Date.now()+g.H,_l(g,g.H)}function _l(g,_){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Le(m(g.aa,g),_)}function ki(g){g.D&&(l.clearTimeout(g.D),g.D=null)}ni.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(ti(this.i,this.B),this.M!=2&&(Ge(),Me(17)),mr(this),this.m=2,Or(this)):_l(this,this.T-g)};function Or(g){g.j.I==0||g.K||Kf(g.j,g)}function mr(g){ki(g);var _=g.O;_&&typeof _.dispose=="function"&&_.dispose(),g.O=null,co(g.V),g.g&&(_=g.g,g.g=null,_.abort(),_.dispose())}function Ai(g,_){try{var C=g.j;if(C.I!=0&&(C.g==g||Ci(C.h,g))){if(!g.L&&Ci(C.h,g)&&C.I==3){try{var V=C.Ba.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<g.F)Rl(C),ea(C);else break e;wo(C),Me(18)}}else C.xa=X[1],0<C.xa-C.K&&X[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Le(m(C.Va,C),6e3));Ti(C.h)<=1&&C.ta&&(C.ta=void 0)}else ji(C,11)}else if((g.L||C.g==g)&&Rl(C),!B(_))for(X=C.Ba.g.parse(_),_=0;_<X.length;_++){let ut=X[_];const Dt=ut[0];if(!(Dt<=C.K))if(C.K=Dt,ut=ut[1],C.I==2)if(ut[0]=="c"){C.M=ut[1],C.ba=ut[2];const Vr=ut[3];Vr!=null&&(C.ka=Vr,C.j.info("VER="+C.ka));const Oi=ut[4];Oi!=null&&(C.za=Oi,C.j.info("SVER="+C.za));const oi=ut[5];oi!=null&&typeof oi=="number"&&oi>0&&(V=1.5*oi,C.O=V,C.j.info("backChannelRequestTimeoutMs_="+V)),V=C;const li=g.g;if(li){const _o=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_o){var ne=V.h;ne.g||_o.indexOf("spdy")==-1&&_o.indexOf("quic")==-1&&_o.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(yu(ne,ne.h),ne.h=null))}if(V.G){const Dl=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Dl&&(V.wa=Dl,pt(V.J,V.G,Dl))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-g.F,C.j.info("Handshake RTT: "+C.T+"ms")),V=C;var ve=g;if(V.na=eh(V,V.L?V.ba:null,V.W),ve.L){vu(V.h,ve);var $e=ve,Xt=V.O;Xt&&($e.H=Xt),$e.D&&(ki($e),Si($e)),V.g=ve}else Qf(V);C.i.length>0&&Mi(C)}else ut[0]!="stop"&&ut[0]!="close"||ji(C,7);else C.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?ji(C,7):Cu(C):ut[0]!="noop"&&C.l&&C.l.qa(ut),C.A=0)}}Ge(4)}catch{}}var tn=class{constructor(g,_){this.g=g,this.map=_}};function gu(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bu(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ti(g){return g.h?1:g.g?g.g.size:0}function Ci(g,_){return g.h?g.h==_:g.g?g.g.has(_):!1}function yu(g,_){g.g?g.g.add(_):g.h=_}function vu(g,_){g.h&&g.h==_?g.h=null:g.g&&g.g.has(_)&&g.g.delete(_)}gu.prototype.cancel=function(){if(this.i=xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function xu(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let _=g.i;for(const C of g.g.values())_=_.concat(C.G);return _}return w(g.i)}var Ff=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function El(g,_){if(g){g=g.split("&");for(let C=0;C<g.length;C++){const V=g[C].indexOf("=");let X,ne=null;V>=0?(X=g[C].substring(0,V),ne=g[C].substring(V+1)):X=g[C],_(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function pr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;g instanceof pr?(this.l=g.l,bn(this,g.j),this.o=g.o,this.g=g.g,Gs(this,g.u),this.h=g.h,wu(this,Gf(g.i)),this.m=g.m):g&&(_=String(g).match(Ff))?(this.l=!1,bn(this,_[1]||"",!0),this.o=Ni(_[2]||""),this.g=Ni(_[3]||"",!0),Gs(this,_[4]),this.h=Ni(_[5]||"",!0),wu(this,_[6]||"",!0),this.m=Ni(_[7]||"")):(this.l=!1,this.i=new Qs(null,this.l))}pr.prototype.toString=function(){const g=[];var _=this.j;_&&g.push(po(_,Sl,!0),":");var C=this.g;return(C||_=="file")&&(g.push("//"),(_=this.o)&&g.push(po(_,Sl,!0),"@"),g.push(us(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&g.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(po(C,C.charAt(0)=="/"?_u:qf,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",po(C,$f)),g.join("")},pr.prototype.resolve=function(g){const _=nn(this);let C=!!g.j;C?bn(_,g.j):C=!!g.o,C?_.o=g.o:C=!!g.g,C?_.g=g.g:C=g.u!=null;var V=g.h;if(C)Gs(_,g.u);else if(C=!!g.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var X=_.h.lastIndexOf("/");X!=-1&&(V=_.h.slice(0,X+1)+V)}if(X=V,X==".."||X==".")V="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){V=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ve=0;ve<X.length;){const $e=X[ve++];$e=="."?V&&ve==X.length&&ne.push(""):$e==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),V&&ve==X.length&&ne.push("")):(ne.push($e),V=!0)}V=ne.join("/")}else V=X}return C?_.h=V:C=g.i.toString()!=="",C?wu(_,Gf(g.i)):C=!!g.m,C&&(_.m=g.m),_};function nn(g){return new pr(g)}function bn(g,_,C){g.j=C?Ni(_,!0):_,g.j&&(g.j=g.j.replace(/:$/,""))}function Gs(g,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);g.u=_}else g.u=null}function wu(g,_,C){_ instanceof Qs?(g.i=_,Al(g.i,g.l)):(C||(_=po(_,Ys)),g.i=new Qs(_,g.l))}function pt(g,_,C){g.i.set(_,C)}function mo(g){return pt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ni(g,_){return g?_?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function po(g,_,C){return typeof g=="string"?(g=encodeURI(g).replace(_,Zn),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Zn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Sl=/[#\/\?@]/g,qf=/[#\?:]/g,_u=/[#\?]/g,Ys=/[#\?@]/g,$f=/#/g;function Qs(g,_){this.h=this.g=null,this.i=g||null,this.j=!!_}function Jn(g){g.g||(g.g=new Map,g.h=0,g.i&&El(g.i,function(_,C){g.add(decodeURIComponent(_.replace(/\+/g," ")),C)}))}t=Qs.prototype,t.add=function(g,_){Jn(this),this.i=null,g=Xs(this,g);let C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(_),this.h+=1,this};function Wf(g,_){Jn(g),_=Xs(g,_),g.g.has(_)&&(g.i=null,g.h-=g.g.get(_).length,g.g.delete(_))}function Eu(g,_){return Jn(g),_=Xs(g,_),g.g.has(_)}t.forEach=function(g,_){Jn(this),this.g.forEach(function(C,V){C.forEach(function(X){g.call(_,X,V,this)},this)},this)};function Su(g,_){Jn(g);let C=[];if(typeof _=="string")Eu(g,_)&&(C=C.concat(g.g.get(Xs(g,_))));else for(g=Array.from(g.g.values()),_=0;_<g.length;_++)C=C.concat(g[_]);return C}t.set=function(g,_){return Jn(this),this.i=null,g=Xs(this,g),Eu(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[_]),this.h+=1,this},t.get=function(g,_){return g?(g=Su(this,g),g.length>0?String(g[0]):_):_};function kl(g,_,C){Wf(g,_),C.length>0&&(g.i=null,g.g.set(Xs(g,_),w(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],_=Array.from(this.g.keys());for(let V=0;V<_.length;V++){var C=_[V];const X=us(C);C=Su(this,C);for(let ne=0;ne<C.length;ne++){let ve=X;C[ne]!==""&&(ve+="="+us(C[ne])),g.push(ve)}}return this.i=g.join("&")};function Gf(g){const _=new Qs;return _.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),_}function Xs(g,_){return _=String(_),g.j&&(_=_.toLowerCase()),_}function Al(g,_){_&&!g.j&&(Jn(g),g.i=null,g.g.forEach(function(C,V){const X=V.toLowerCase();V!=X&&(Wf(this,V),kl(this,X,C))},g)),g.j=_}function ii(g,_){const C=new hr;if(l.Image){const V=new Image;V.onload=p(Ir,C,"TestLoadImage: loaded",!0,_,V),V.onerror=p(Ir,C,"TestLoadImage: error",!1,_,V),V.onabort=p(Ir,C,"TestLoadImage: abort",!1,_,V),V.ontimeout=p(Ir,C,"TestLoadImage: timeout",!1,_,V),l.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=g}else _(!1)}function ku(g,_){const C=new hr,V=new AbortController,X=setTimeout(()=>{V.abort(),Ir(C,"TestPingServer: timeout",!1,_)},1e4);fetch(g,{signal:V.signal}).then(ne=>{clearTimeout(X),ne.ok?Ir(C,"TestPingServer: ok",!0,_):Ir(C,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),Ir(C,"TestPingServer: error",!1,_)})}function Ir(g,_,C,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(C)}catch{}}function Ks(){this.g=new bl}function Ri(g){this.i=g.Sb||null,this.h=g.ab||!1}b(Ri,yl),Ri.prototype.g=function(){return new go(this.i,this.h)};function go(g,_){Ft.call(this),this.H=g,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(go,Ft),t=go.prototype,t.open=function(g,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=_,this.readyState=1,si(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(_.body=g),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var _=g.value?g.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!g.done}))&&(this.response=this.responseText+=_)}g.done?Zs(this):si(this),this.readyState==3&&Tl(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Zs(this))},t.Na=function(g){this.g&&(this.response=g,Zs(this))},t.ga=function(){this.g&&Zs(this)};function Zs(g){g.readyState=4,g.l=null,g.j=null,g.B=null,si(g)}t.setRequestHeader=function(g,_){this.A.append(g,_)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],_=this.h.entries();for(var C=_.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=_.next();return g.join(`\r
`)};function si(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Pr(g){let _="";return le(g,function(C,V){_+=V,_+=":",_+=C,_+=`\r
`}),_}function bo(g,_,C){e:{for(V in C){var V=!1;break e}V=!0}V||(C=Pr(C),typeof g=="string"?C!=null&&us(C):pt(g,_,C))}function vt(g){Ft.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(vt,Ft);var Di=/^https?$/i,Au=["POST","PUT"];t=vt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,_,C,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);_=_?_.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pu.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(g),!0),this.B=!1}catch(ne){yo(this,ne);return}if(g=C||"",C=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)C.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ne of V.keys())C.set(ne,V.get(ne));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(C.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Au,_,void 0)>=0)||V||X||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of C)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ne){yo(this,ne)}};function yo(g,_){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=_,g.o=5,Tu(g),ds(g)}function Tu(g){g.A||(g.A=!0,Qt(g,"complete"),Qt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Qt(this,"complete"),Qt(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vo(this):this.Xa())},t.Xa=function(){vo(this)};function vo(g){if(g.h&&typeof a<"u"){if(g.v&&ai(g)==4)setTimeout(g.Ca.bind(g),0);else if(Qt(g,"readystatechange"),ai(g)==4){g.h=!1;try{const ne=g.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var C;if(!(C=_)){var V;if(V=ne===0){let ve=String(g.D).match(Ff)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),V=!Di.test(ve?ve.toLowerCase():"")}C=V}if(C)Qt(g,"complete"),Qt(g,"success");else{g.o=6;try{var X=ai(g)>2?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.ca()+"]",Tu(g)}}finally{ds(g)}}}}function ds(g,_){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const C=g.g;g.g=null,_||Qt(g,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ai(g){return g.g?g.g.readyState:0}t.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var _=this.g.responseText;return g&&_.indexOf(g)==0&&(_=_.substring(g.length)),fu(_)}};function Sn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(g){const _={};g=(g.g&&ai(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<g.length;V++){if(B(g[V]))continue;var C=Uf(g[V]);const X=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ne=_[X]||[];_[X]=ne,ne.push(C)}pe(_,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(g,_,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||_}function Js(g){this.za=0,this.i=[],this.j=new hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,g),this.Za=zi("retryDelaySeedMs",1e4,g),this.Ta=zi("forwardChannelMaxRetries",2,g),this.va=zi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new gu(g&&g.concurrentRequestLimit),this.Ba=new Ks,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Js.prototype,t.ka=8,t.I=1,t.connect=function(g,_,C,V){Me(0),this.W=g,this.H=_||{},C&&V!==void 0&&(this.H.OSID=C,this.H.OAID=V),this.F=this.X,this.J=eh(this,null,this.W),Mi(this)};function Cu(g){if(Cl(g),g.I==3){var _=g.V++,C=nn(g.J);if(pt(C,"SID",g.M),pt(C,"RID",_),pt(C,"TYPE","terminate"),xo(g,C),_=new ni(g,g.j,_),_.M=2,_.A=mo(nn(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=_.A,C=!0),C||(_.g=th(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Si(_)}Jf(g)}function ea(g){g.g&&(Ru(g),g.g.cancel(),g.g=null)}function Cl(g){ea(g),g.v&&(l.clearTimeout(g.v),g.v=null),Rl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Mi(g){if(!bu(g.h)&&!g.m){g.m=!0;var _=g.Ea;P||R(),H||(P(),H=!0),D.add(_,g),g.D=0}}function Nl(g,_){return Ti(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=_.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Le(m(g.Ea,g,_),Zf(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const X=new ni(this,this.j,g);let ne=this.o;if(this.U&&(ne?(ne=F(ne),ue(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var _=0,C=0;C<this.i.length;C++){t:{var V=this.i[C];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,_>4096){_=C;break e}if(_===4096||C===this.i.length-1){_=C+1;break e}}_=1e3}else _=1e3;_=Yf(this,X,_),C=nn(this.J),pt(C,"RID",g),pt(C,"CVER",22),this.G&&pt(C,"X-HTTP-Session-Id",this.G),xo(this,C),ne&&(this.R?_="headers="+us(Pr(ne))+"&"+_:this.u&&bo(C,this.u,ne)),yu(this.h,X),this.Ra&&pt(C,"TYPE","init"),this.S?(pt(C,"$req",_),pt(C,"SID","null"),X.U=!0,Ei(X,C,null)):Ei(X,C,_),this.I=2}}else this.I==3&&(g?Nu(this,g):this.i.length==0||bu(this.h)||Nu(this))};function Nu(g,_){var C;_?C=_.l:C=g.V++;const V=nn(g.J);pt(V,"SID",g.M),pt(V,"RID",C),pt(V,"AID",g.K),xo(g,V),g.u&&g.o&&bo(V,g.u,g.o),C=new ni(g,g.j,C,g.D+1),g.u===null&&(C.J=g.o),_&&(g.i=_.G.concat(g.i)),_=Yf(g,C,1e3),C.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),yu(g.h,C),Ei(C,V,_)}function xo(g,_){g.H&&le(g.H,function(C,V){pt(_,V,C)}),g.l&&le({},function(C,V){pt(_,V,C)})}function Yf(g,_,C){C=Math.min(g.i.length,C);const V=g.l?m(g.l.Ka,g.l,g):null;e:{var X=g.i;let $e=-1;for(;;){const Xt=["count="+C];$e==-1?C>0?($e=X[0].g,Xt.push("ofs="+$e)):$e=0:Xt.push("ofs="+$e);let ut=!0;for(let Dt=0;Dt<C;Dt++){var ne=X[Dt].g;const Vr=X[Dt].map;if(ne-=$e,ne<0)$e=Math.max(0,X[Dt].g-100),ut=!1;else try{ne="req"+ne+"_"||"";try{var ve=Vr instanceof Map?Vr:Object.entries(Vr);for(const[Oi,oi]of ve){let li=oi;u(oi)&&(li=_i(oi)),Xt.push(ne+Oi+"="+encodeURIComponent(li))}}catch(Oi){throw Xt.push(ne+"type="+encodeURIComponent("_badmap")),Oi}}catch{V&&V(Vr)}}if(ut){ve=Xt.join("&");break e}}ve=void 0}return g=g.i.splice(0,C),_.G=g,ve}function Qf(g){if(!g.g&&!g.v){g.Y=1;var _=g.Da;P||R(),H||(P(),H=!0),D.add(_,g),g.A=0}}function wo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Le(m(g.Da,g),Zf(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Xf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Le(m(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),ea(this),Xf(this))};function Ru(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Xf(g){g.g=new ni(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var _=nn(g.na);pt(_,"RID","rpc"),pt(_,"SID",g.M),pt(_,"AID",g.K),pt(_,"CI",g.F?"0":"1"),!g.F&&g.ia&&pt(_,"TO",g.ia),pt(_,"TYPE","xmlhttp"),xo(g,_),g.u&&g.o&&bo(_,g.u,g.o),g.O&&(g.g.H=g.O);var C=g.g;g=g.ba,C.M=1,C.A=mo(nn(_)),C.u=null,C.R=!0,wl(C,g)}t.Va=function(){this.C!=null&&(this.C=null,ea(this),wo(this),Me(19))};function Rl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Kf(g,_){var C=null;if(g.g==_){Rl(g),Ru(g),g.g=null;var V=2}else if(Ci(g.h,_))C=_.G,vu(g.h,_),V=1;else return;if(g.I!=0){if(_.o)if(V==1){C=_.u?_.u.length:0,_=Date.now()-_.F;var X=g.D;V=Ws(),Qt(V,new Rt(V,C)),Mi(g)}else Qf(g);else if(X=_.m,X==3||X==0&&_.X>0||!(V==1&&Nl(g,_)||V==2&&wo(g)))switch(C&&C.length>0&&(_=g.h,_.i=_.i.concat(C)),X){case 1:ji(g,5);break;case 4:ji(g,10);break;case 3:ji(g,6);break;default:ji(g,2)}}}function Zf(g,_){let C=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(C*=2),C*_}function ji(g,_){if(g.j.info("Error code "+_),_==2){var C=m(g.bb,g),V=g.Ua;const X=!V;V=new pr(V||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bn(V,"https"),mo(V),X?ii(V.toString(),C):ku(V.toString(),C)}else Me(2);g.I=0,g.l&&g.l.pa(_),Jf(g),Cl(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Jf(g){if(g.I=0,g.ja=[],g.l){const _=xu(g.h);(_.length!=0||g.i.length!=0)&&(A(g.ja,_),A(g.ja,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.oa()}}function eh(g,_,C){var V=C instanceof pr?nn(C):new pr(C);if(V.g!="")_&&(V.g=_+"."+V.g),Gs(V,V.u);else{var X=l.location;V=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const ne=new pr(null);V&&bn(ne,V),_&&(ne.g=_),X&&Gs(ne,X),C&&(ne.h=C),V=ne}return C=g.G,_=g.wa,C&&_&&pt(V,C,_),pt(V,"VER",g.ka),xo(g,V),V}function th(g,_,C){if(_&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=g.Aa&&!g.ma?new vt(new Ri({ab:C})):new vt(g.ma),_.Fa(g.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}t=nh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ta(){}ta.prototype.g=function(g,_){return new Fn(g,_)};function Fn(g,_){Ft.call(this),this.g=new Js(_),this.l=g,this.h=_&&_.messageUrlParams||null,g=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(g?g["X-WebChannel-Content-Type"]=_.messageContentType:g={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(g?g["X-WebChannel-Client-Profile"]=_.sa:g={"X-WebChannel-Client-Profile":_.sa}),this.g.U=g,(g=_&&_.Qb)&&!B(g)&&(this.g.u=g),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.G=_,g=this.h,g!==null&&_ in g&&(g=this.h,_ in g&&delete g[_])),this.j=new hs(this)}b(Fn,Ft),Fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){Cu(this.g)},Fn.prototype.o=function(g){var _=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.v&&(C={},C.__data__=_i(g),g=C);_.i.push(new tn(_.Ya++,g)),_.I==3&&Mi(_)},Fn.prototype.N=function(){this.g.l=null,delete this.j,Cu(this.g),delete this.g,Fn.Z.N.call(this)};function rh(g){fn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var _=g.__sm__;if(_){e:{for(const C in _){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,_=_!==null&&g in _?_[g]:void 0),this.data=_}else this.data=g}b(rh,fn);function ih(){Xn.call(this),this.status=1}b(ih,Xn);function hs(g){this.g=g}b(hs,nh),hs.prototype.ra=function(){Qt(this.g,"a")},hs.prototype.qa=function(g){Qt(this.g,new rh(g))},hs.prototype.pa=function(g){Qt(this.g,new ih)},hs.prototype.oa=function(){Qt(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,s2=function(){return new ta},i2=function(){return Ws()},r2=Pt,tv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,Pm=fo,mu.COMPLETE="complete",n2=mu,vl.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,kd=vl,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,t2=vt}).apply(typeof dm<"u"?dm:typeof self<"u"?self:typeof window<"u"?window:{});const ek="@firebase/firestore",tk="4.9.3";class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");let Kc="12.7.0";const Jo=new qC("@firebase/firestore");function gc(){return Jo.logLevel}function Ee(t,...e){if(Jo.logLevel<=at.DEBUG){const n=e.map(lx);Jo.debug(`Firestore (${Kc}): ${t}`,...n)}}function Vs(t,...e){if(Jo.logLevel<=at.ERROR){const n=e.map(lx);Jo.error(`Firestore (${Kc}): ${t}`,...n)}}function jc(t,...e){if(Jo.logLevel<=at.WARN){const n=e.map(lx);Jo.warn(`Firestore (${Kc}): ${t}`,...n)}}function lx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,a2(t,r,n)}function a2(t,e,n){let r=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vs(r),new Error(r)}function ht(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||a2(e,i,r)}function Fe(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ol{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class o2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(On.UNAUTHENTICATED)))}shutdown(){}}class p6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class g6{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new js;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new js,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new js)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new o2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class b6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new b6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,YC(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nk(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class cx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=x6(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function nv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Xb(i)===Xb(a)?nt(i,a):Xb(i)?1:-1}return nt(t.length,e.length)}const w6=55296,_6=57343;function Xb(t){const e=t.charCodeAt(0);return e>=w6&&e<=_6}function Oc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const rk="__name__";class Hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Hi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return nt(e.length,n.length)}static compareSegments(e,n){const r=Hi.isNumericId(e),i=Hi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):nv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pa.fromString(e.substring(4,e.length-2))}}class St extends Hi{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const E6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Hi{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return E6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rk}static keyField(){return new Rn([rk])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new we(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new we(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(St.fromString(e))}static fromName(e){return new De(St.fromString(e).popFirst(5))}static empty(){return new De(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new St(e.slice()))}}function l2(t,e,n){if(!n)throw new we(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S6(t,e,n,r){if(e===!0&&r===!0)throw new we(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ik(t){if(!De.isDocumentKey(t))throw new we(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sk(t){if(De.isDocumentKey(t))throw new we(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(t);throw new we(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function k6(t,e){if(e<=0)throw new we(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function vf(t,e){if(!c2(t))throw new we(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new we(de.INVALID_ARGUMENT,n);return!0}const ak=-62135596800,ok=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ok);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ak)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ok}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vf(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ak;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:un("string",Ct._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Ct(0,0))}static max(){return new Ue(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kd=-1;function A6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new Ha(i,De.empty(),e)}function T6(t){return new Ha(t.readTime,t.key,Kd)}class Ha{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ha(Ue.min(),De.empty(),Kd)}static max(){return new Ha(Ue.max(),De.empty(),Kd)}}function C6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}const N6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==N6)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,r)=>{n(e)}))}static reject(e){return new me(((n,r)=>{r(e)}))}static waitFor(e){return new me(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next((i=>i?me.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new me(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next((p=>{l[m]=p,++u,u===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new me(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function D6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jc(t){return t.name==="IndexedDbTransactionError"}class eg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}eg.ce=-1;const ux=-1;function tg(t){return t==null}function op(t){return t===0&&1/t==-1/0}function z6(t){return typeof t=="number"&&Number.isInteger(t)&&!op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const u2="";function M6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lk(e)),e=j6(t.get(n),e);return lk(e)}function j6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case u2:n+="";break;default:n+=a}}return n}function lk(t){return t+u2+""}function ck(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Lt{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fm(this.root,e,this.comparator,!1)}getReverseIterator(){return new fm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fm(this.root,e,this.comparator,!0)}}class fm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Nn.RED,this.left=i??Nn.EMPTY,this.right=a??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Nn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uk(this.data.getIterator())}getIteratorFrom(e){return new uk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class uk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new pn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class f2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new f2("Invalid base64 string: "+a):a}})(e);return new zn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const O6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=O6.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qa(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}const h2="server_timestamp",m2="__type__",p2="__previous_value__",g2="__local_write_time__";function dx(t){return(t?.mapValue?.fields||{})[m2]?.stringValue===h2}function ng(t){const e=t.mapValue.fields[p2];return dx(e)?ng(e):e}function Zd(t){const e=Fa(t.mapValue.fields[g2].timestampValue);return new Ct(e.seconds,e.nanos)}class I6{constructor(e,n,r,i,a,l,u,f,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=p}}const lp="(default)";class Jd{constructor(e,n){this.projectId=e,this.database=n||lp}static empty(){return new Jd("","")}get isDefaultDatabase(){return this.database===lp}isEqual(e){return e instanceof Jd&&e.projectId===this.projectId&&e.database===this.database}}const b2="__type__",P6="__max__",hm={mapValue:{}},y2="__vector__",cp="value";function $a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dx(t)?4:L6(t)?9007199254740991:V6(t)?10:11:Pe(28295,{value:t})}function ts(t,e){if(t===e)return!0;const n=$a(t);if(n!==$a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zd(t).isEqual(Zd(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Fa(i.timestampValue),u=Fa(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return qa(i.bytesValue).isEqual(qa(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Jt(i.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Jt(i.integerValue)===Jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Jt(i.doubleValue),u=Jt(a.doubleValue);return l===u?op(l)===op(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Oc(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(ck(l)!==ck(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ts(l[f],u[f])))return!1;return!0})(t,e);default:return Pe(52216,{left:t})}}function ef(t,e){return(t.values||[]).find((n=>ts(n,e)))!==void 0}function Ic(t,e){if(t===e)return 0;const n=$a(t),r=$a(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Jt(a.integerValue||a.doubleValue),f=Jt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return dk(t.timestampValue,e.timestampValue);case 4:return dk(Zd(t),Zd(e));case 5:return nv(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=qa(a),f=qa(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const p=nt(u[m],f[m]);if(p!==0)return p}return nt(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=nt(Jt(a.latitude),Jt(l.latitude));return u!==0?u:nt(Jt(a.longitude),Jt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return fk(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},f=l.fields||{},m=u[cp]?.arrayValue,p=f[cp]?.arrayValue,b=nt(m?.values?.length||0,p?.values?.length||0);return b!==0?b:fk(m,p)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===hm.mapValue&&l===hm.mapValue)return 0;if(a===hm.mapValue)return 1;if(l===hm.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),m=l.fields||{},p=Object.keys(m);f.sort(),p.sort();for(let b=0;b<f.length&&b<p.length;++b){const x=nv(f[b],p[b]);if(x!==0)return x;const w=Ic(u[f[b]],m[p[b]]);if(w!==0)return w}return nt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function dk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Fa(t),r=Fa(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function fk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ic(n[i],r[i]);if(a)return a}return nt(n.length,r.length)}function Pc(t){return rv(t)}function rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Fa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return qa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=rv(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${rv(n.fields[l])}`;return i+"}"})(t.mapValue):Pe(61005,{value:t})}function Vm(t){switch($a(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ng(t);return e?16+Vm(e):16;case 5:return 2*t.stringValue.length;case 6:return qa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Vm(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return eo(r.fields,((a,l)=>{i+=a.length+Vm(l)})),i})(t.mapValue);default:throw Pe(13486,{value:t})}}function hk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iv(t){return!!t&&"integerValue"in t}function fx(t){return!!t&&"arrayValue"in t}function mk(t){return!!t&&"nullValue"in t}function pk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lm(t){return!!t&&"mapValue"in t}function V6(t){return(t?.mapValue?.fields||{})[b2]?.stringValue===y2}function zd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zd(t.arrayValue.values[n]);return e}return{...t}}function L6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===P6}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zd(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=zd(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){eo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new or(zd(this.value))}}function v2(t){const e=[];return eo(t.fields,((n,r)=>{const i=new Rn([n]);if(Lm(r)){const a=v2(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Tr(e)}class Vn{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Vn(e,0,Ue.min(),Ue.min(),Ue.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new Vn(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new Vn(e,2,n,Ue.min(),Ue.min(),or.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,Ue.min(),Ue.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class up{constructor(e,n){this.position=e,this.inclusive=n}}function gk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=Ic(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function bk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ts(t.position[n],e.position[n]))return!1;return!0}class tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function U6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class x2{}class cn extends x2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new H6(e,n,r):n==="array-contains"?new $6(e,r):n==="in"?new W6(e,r):n==="not-in"?new G6(e,r):n==="array-contains-any"?new Y6(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F6(e,r):new q6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ic(n,this.value)):n!==null&&$a(this.value)===$a(n)&&this.matchesComparison(Ic(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends x2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bi(e,n)}matches(e){return w2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w2(t){return t.op==="and"}function _2(t){return B6(t)&&w2(t)}function B6(t){for(const e of t.filters)if(e instanceof bi)return!1;return!0}function sv(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Pc(t.value);if(_2(t))return t.filters.map((e=>sv(e))).join(",");{const e=t.filters.map((n=>sv(n))).join(",");return`${t.op}(${e})`}}function E2(t,e){return t instanceof cn?(function(r,i){return i instanceof cn&&r.op===i.op&&r.field.isEqual(i.field)&&ts(r.value,i.value)})(t,e):t instanceof bi?(function(r,i){return i instanceof bi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&E2(l,i.filters[u])),!0):!1})(t,e):void Pe(19439)}function S2(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pc(n.value)}`})(t):t instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(S2).join(" ,")+"}"})(t):"Filter"}class H6 extends cn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class F6 extends cn{constructor(e,n){super(e,"in",n),this.keys=k2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class q6 extends cn{constructor(e,n){super(e,"not-in",n),this.keys=k2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function k2(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class $6 extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fx(n)&&ef(n.arrayValue,this.value)}}class W6 extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ef(this.value.arrayValue,n)}}class G6 extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ef(this.value.arrayValue,n)}}class Y6 extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ef(this.value.arrayValue,r)))}}class Q6{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function yk(t,e=null,n=[],r=[],i=null,a=null,l=null){return new Q6(t,e,n,r,i,a,l)}function hx(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>sv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),tg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Pc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Pc(r))).join(",")),e.Te=n}return e.Te}function mx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!E2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bk(t.startAt,e.startAt)&&bk(t.endAt,e.endAt)}function av(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class eu{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X6(t,e,n,r,i,a,l,u){return new eu(t,e,n,r,i,a,l,u)}function rg(t){return new eu(t)}function vk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A2(t){return t.collectionGroup!==null}function Md(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new pn(Rn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new tf(a,r))})),n.has(Rn.keyField().canonicalString())||e.Ie.push(new tf(Rn.keyField(),r))}return e.Ie}function Qi(t){const e=Fe(t);return e.Ee||(e.Ee=K6(e,Md(t))),e.Ee}function K6(t,e){if(t.limitType==="F")return yk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new tf(i.field,a)}));const n=t.endAt?new up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new up(t.startAt.position,t.startAt.inclusive):null;return yk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ov(t,e){const n=t.filters.concat([e]);return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dp(t,e,n){return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ig(t,e){return mx(Qi(t),Qi(e))&&t.limitType===e.limitType}function T2(t){return`${hx(Qi(t))}|lt:${t.limitType}`}function bc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>S2(i))).join(", ")}]`),tg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Pc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Pc(i))).join(",")),`Target(${r})`})(Qi(t))}; limitType=${t.limitType})`}function sg(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Md(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const m=gk(l,u,f);return l.inclusive?m<=0:m<0})(r.startAt,Md(r),i)||r.endAt&&!(function(l,u,f){const m=gk(l,u,f);return l.inclusive?m>=0:m>0})(r.endAt,Md(r),i))})(t,e)}function Z6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function C2(t){return(e,n)=>{let r=!1;for(const i of Md(t)){const a=J6(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function J6(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(a,l,u){const f=l.data.field(a),m=u.data.field(a);return f!==null&&m!==null?Ic(f,m):Pe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}class ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return d2(this.inner)}size(){return this.innerSize}}const e9=new Lt(De.comparator);function Ls(){return e9}const N2=new Lt(De.comparator);function Ad(...t){let e=N2;for(const n of t)e=e.insert(n.key,n);return e}function R2(t){let e=N2;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function qo(){return jd()}function D2(){return jd()}function jd(){return new ll((t=>t.toString()),((t,e)=>t.isEqual(e)))}const t9=new Lt(De.comparator),n9=new pn(De.comparator);function rt(...t){let e=n9;for(const n of t)e=e.add(n);return e}const r9=new pn(nt);function i9(){return r9}function px(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function z2(t){return{integerValue:""+t}}function s9(t,e){return z6(e)?z2(e):px(t,e)}class ag{constructor(){this._=void 0}}function a9(t,e,n){return t instanceof nf?(function(i,a){const l={fields:{[m2]:{stringValue:h2},[g2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&dx(a)&&(a=ng(a)),a&&(l.fields[p2]=a),{mapValue:l}})(n,e):t instanceof Vc?j2(t,e):t instanceof Lc?O2(t,e):(function(i,a){const l=M2(i,a),u=xk(l)+xk(i.Ae);return iv(l)&&iv(i.Ae)?z2(u):px(i.serializer,u)})(t,e)}function o9(t,e,n){return t instanceof Vc?j2(t,e):t instanceof Lc?O2(t,e):n}function M2(t,e){return t instanceof fp?(function(r){return iv(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class nf extends ag{}class Vc extends ag{constructor(e){super(),this.elements=e}}function j2(t,e){const n=I2(e);for(const r of t.elements)n.some((i=>ts(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Lc extends ag{constructor(e){super(),this.elements=e}}function O2(t,e){let n=I2(e);for(const r of t.elements)n=n.filter((i=>!ts(i,r)));return{arrayValue:{values:n}}}class fp extends ag{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xk(t){return Jt(t.integerValue||t.doubleValue)}function I2(t){return fx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class gx{constructor(e,n){this.field=e,this.transform=n}}function l9(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Vc&&i instanceof Vc||r instanceof Lc&&i instanceof Lc?Oc(r.elements,i.elements,ts):r instanceof fp&&i instanceof fp?ts(r.Ae,i.Ae):r instanceof nf&&i instanceof nf})(t.transform,e.transform)}class c9{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Um(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class og{}function P2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lg(t.key,Gn.none()):new xf(t.key,t.data,Gn.none());{const n=t.data,r=or.empty();let i=new pn(Rn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new to(t.key,r,new Tr(i.toArray()),Gn.none())}}function u9(t,e,n){t instanceof xf?(function(i,a,l){const u=i.value.clone(),f=_k(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof to?(function(i,a,l){if(!Um(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=_k(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(V2(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Od(t,e,n,r){return t instanceof xf?(function(a,l,u,f){if(!Um(a.precondition,l))return u;const m=a.value.clone(),p=Ek(a.fieldTransforms,f,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof to?(function(a,l,u,f){if(!Um(a.precondition,l))return u;const m=Ek(a.fieldTransforms,f,l),p=l.data;return p.setAll(V2(a)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(a,l,u){return Um(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function d9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=M2(r.transform,i||null);a!=null&&(n===null&&(n=or.empty()),n.set(r.field,a))}return n||null}function wk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oc(r,i,((a,l)=>l9(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xf extends og{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends og{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function V2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function _k(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,o9(l,u,n[i]))}return r}function Ek(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,a9(a,l,e))}return r}class lg extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f9 extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&u9(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Od(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Od(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=D2();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const f=P2(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,((n,r)=>wk(n,r)))&&Oc(this.baseMutations,e.baseMutations,((n,r)=>wk(n,r)))}}class bx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return t9})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new bx(e,n,r,i)}}class m9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class p9{constructor(e,n){this.count=e,this.unchangedNames=n}}var ln,st;function g9(t){switch(t){case de.OK:return Pe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function L2(t){if(t===void 0)return Vs("GRPC error has no .code"),de.UNKNOWN;switch(t){case ln.OK:return de.OK;case ln.CANCELLED:return de.CANCELLED;case ln.UNKNOWN:return de.UNKNOWN;case ln.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case ln.INTERNAL:return de.INTERNAL;case ln.UNAVAILABLE:return de.UNAVAILABLE;case ln.UNAUTHENTICATED:return de.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case ln.NOT_FOUND:return de.NOT_FOUND;case ln.ALREADY_EXISTS:return de.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return de.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case ln.ABORTED:return de.ABORTED;case ln.OUT_OF_RANGE:return de.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return de.UNIMPLEMENTED;case ln.DATA_LOSS:return de.DATA_LOSS;default:return Pe(39323,{code:t})}}(st=ln||(ln={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";function b9(){return new TextEncoder}const y9=new Pa([4294967295,4294967295],0);function Sk(t){const e=b9().encode(t),n=new e2;return n.update(e),new Uint8Array(n.digest())}function kk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([i,a],0)]}class yx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Td(`Invalid padding: ${n}`);if(r<0)throw new Td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Td(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pa.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Pa.fromNumber(r)));return i.compare(y9)===1&&(i=new Pa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Sk(e),[r,i]=kk(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new yx(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Sk(e),[r,i]=kk(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cg(Ue.min(),i,new Lt(nt),Ls(),rt())}}class wf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,rt(),rt(),rt())}}class Bm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class U2{constructor(e,n){this.targetId=e,this.Ce=n}}class B2{constructor(e,n,r=zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ak{constructor(){this.ve=0,this.Fe=Tk(),this.Me=zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe(38017,{changeType:a})}})),new wf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Tk()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ls(),this.Je=mm(),this.He=mm(),this.Ye=new Lt(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(av(a))if(r===0){const l=new De(a.path);this.et(n,l,Vn.newNoDocument(l,Ue.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=qa(r).toUint8Array()}catch(f){if(f instanceof f2)return jc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new yx(l,i,a)}catch(f){return jc(f instanceof Td?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&av(u.target)){const f=new De(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Vn.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=rt();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new cg(e,n,this.Ye,this.je,r);return this.je=Ls(),this.Je=mm(),this.He=mm(),this.Ye=new Lt(nt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ak,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pn(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pn(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ak),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mm(){return new Lt(De.comparator)}function Tk(){return new Lt(De.comparator)}const x9={asc:"ASCENDING",desc:"DESCENDING"},w9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_9={and:"AND",or:"OR"};class E9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lv(t,e){return t.useProto3Json||tg(e)?e:{value:e}}function hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S9(t,e){return hp(t,e.toTimestamp())}function Xi(t){return ht(!!t,49232),Ue.fromTimestamp((function(n){const r=Fa(n);return new Ct(r.seconds,r.nanos)})(t))}function vx(t,e){return cv(t,e).canonicalString()}function cv(t,e){const n=(function(i){return new St(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function F2(t){const e=St.fromString(t);return ht(Y2(e),10190,{key:e.toString()}),e}function uv(t,e){return vx(t.databaseId,e.path)}function Kb(t,e){const n=F2(e);if(n.get(1)!==t.databaseId.projectId)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De($2(n))}function q2(t,e){return vx(t.databaseId,e)}function k9(t){const e=F2(t);return e.length===4?St.emptyPath():$2(e)}function dv(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $2(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ck(t,e,n){return{name:uv(t,e),fields:n.value.mapValue.fields}}function A9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,p){return m.useProto3Json?(ht(p===void 0||typeof p=="string",58123),zn.fromBase64String(p||"")):(ht(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),zn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const p=m.code===void 0?de.UNKNOWN:L2(m.code);return new we(p,m.message||"")})(l);n=new B2(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kb(t,r.document.name),a=Xi(r.document.updateTime),l=r.document.createTime?Xi(r.document.createTime):Ue.min(),u=new or({mapValue:{fields:r.document.fields}}),f=Vn.newFoundDocument(i,a,l,u),m=r.targetIds||[],p=r.removedTargetIds||[];n=new Bm(m,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kb(t,r.document),a=r.readTime?Xi(r.readTime):Ue.min(),l=Vn.newNoDocument(i,a),u=r.removedTargetIds||[];n=new Bm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kb(t,r.document),a=r.removedTargetIds||[];n=new Bm([],a,i,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new p9(i,a),u=r.targetId;n=new U2(u,l)}}return n}function T9(t,e){let n;if(e instanceof xf)n={update:Ck(t,e.key,e.value)};else if(e instanceof lg)n={delete:uv(t,e.key)};else if(e instanceof to)n={update:Ck(t,e.key,e.data),updateMask:I9(e.fieldMask)};else{if(!(e instanceof f9))return Pe(16599,{Vt:e.type});n={verify:uv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof nf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Vc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Lc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof fp)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Pe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:S9(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)})(t,e.precondition)),n}function C9(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Xi(i.updateTime):Xi(a);return l.isEqual(Ue.min())&&(l=Xi(a)),new c9(l,i.transformResults||[])})(n,e)))):[]}function N9(t,e){return{documents:[q2(t,e.path)]}}function R9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q2(t,i);const a=(function(m){if(m.length!==0)return G2(bi.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((p=>(function(x){return{field:yc(x.field),direction:M9(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=lv(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function D9(t){let e=k9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(b){const x=W2(b);return x instanceof bi&&_2(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(b){return b.map((x=>(function(A){return new tf(vc(A.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(b){let x;return x=typeof b=="object"?b.value:b,tg(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(b){const x=!!b.before,w=b.values||[];return new up(w,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const x=!b.before,w=b.values||[];return new up(w,x)})(n.endAt)),X6(e,i,l,a,u,"F",f,m)}function z9(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function W2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vc(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vc(n.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vc(n.unaryFilter.field);return cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=vc(n.unaryFilter.field);return cn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(vc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((r=>W2(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(n.compositeFilter.op))})(t):Pe(30097,{filter:t})}function M9(t){return x9[t]}function j9(t){return w9[t]}function O9(t){return _9[t]}function yc(t){return{fieldPath:t.canonicalString()}}function vc(t){return Rn.fromServerFormat(t.fieldPath)}function G2(t){return t instanceof cn?(function(n){if(n.op==="=="){if(pk(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NAN"}};if(mk(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pk(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NAN"}};if(mk(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(n.field),op:j9(n.op),value:n.value}}})(t):t instanceof bi?(function(n){const r=n.getFilters().map((i=>G2(i)));return r.length===1?r[0]:{compositeFilter:{op:O9(n.op),filters:r}}})(t):Pe(54877,{filter:t})}function I9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Y2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ca{constructor(e,n,r,i,a=Ue.min(),l=Ue.min(),u=zn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class P9{constructor(e){this.yt=e}}function V9(t){const e=D9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dp(e,e.limit,"L"):e}class L9{constructor(){this.Cn=new U9}addToCollectionParentIndex(e,n){return this.Cn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(Ha.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class U9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pn(St.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pn(St.comparator)).toArray()}}const Nk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q2=41943040;class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(Q2,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);class Uc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uc(0)}static cr(){return new Uc(-1)}}const Rk="LruGarbageCollector",B9=1048576;function Dk([t,e],[n,r]){const i=nt(t,n);return i===0?nt(e,r):i}class H9{constructor(e){this.Ir=e,this.buffer=new pn(Dk),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Dk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(Rk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jc(n)?Ee(Rk,"Ignoring IndexedDB error during garbage collection: ",n):await Zc(n)}await this.Vr(3e5)}))}}class q9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(eg.ce);const r=new H9(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(Nk)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nk):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,f,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,l=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(r=b,u=Date.now(),this.removeTargets(e,r,n)))).next((b=>(a=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(m=Date.now(),gc()<=at.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-p}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:b}))))}}function $9(t,e){return new q9(t,e)}class W9{constructor(){this.changes=new ll((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class G9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Y9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Od(r.mutation,i,Tr.empty(),Ct.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const i=qo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Ad();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Ls();const l=jd(),u=(function(){return jd()})();return n.forEach(((f,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof to)?a=a.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),Od(p.mutation,m,p.mutation.getFieldMask(),Ct.now())):l.set(m.key,Tr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,p)=>l.set(m,p))),n.forEach(((m,p)=>u.set(m,new G9(p,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=jd();let i=new Lt(((l,u)=>l-u)),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let p=r.get(f)||Tr.empty();p=u.applyToLocalView(m,p),r.set(f,p);const b=(i.get(u.batchId)||rt()).add(f);i=i.insert(u.batchId,b)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,p=f.value,b=D2();p.forEach((x=>{if(!a.has(x)){const w=P2(n.get(x),r.get(x));w!==null&&b.set(x,w),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,b))}return me.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):me.resolve(qo());let u=Kd,f=a;return l.next((m=>me.forEach(m,((p,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),a.get(p)?me.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,rt()))).next((p=>({batchId:u,changes:R2(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let i=Ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Ad();return this.indexManager.getCollectionParents(e,a).next((u=>me.forEach(u,(f=>{const m=(function(b,x){return new eu(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((p=>{p.forEach(((b,x)=>{l=l.insert(b,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,Vn.newInvalidDocument(p)))}));let u=Ad();return l.forEach(((f,m)=>{const p=a.get(f);p!==void 0&&Od(p.mutation,m,Tr.empty(),Ct.now()),sg(n,m)&&(u=u.insert(f,m))})),u}))}}class Q9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return me.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Xi(i.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:V9(i.bundledQuery),readTime:Xi(i.readTime)}})(n)),me.resolve()}}class X9{constructor(){this.overlays=new Lt(De.comparator),this.qr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return me.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),me.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const i=qo(),a=n.length+1,l=new De(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return me.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Lt(((m,p)=>m-p));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=a.get(m.largestBatchId);p===null&&(p=qo(),a=a.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const u=qo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,p)=>u.set(m,p))),!(u.size()>=i)););return me.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new m9(n,r));let a=this.qr.get(n);a===void 0&&(a=rt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}class K9{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class xx{constructor(){this.Qr=new pn(vn.$r),this.Ur=new pn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new vn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new St([])),r=new vn(n,e),i=new vn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new St([])),r=new vn(n,e),i=new vn(n,e+1);let a=rt();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new vn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}class Z9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pn(vn.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new h9(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new vn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return me.resolve(l)}lookupMutationBatch(e,n){return me.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?ux:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),i=new vn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(nt);return n.forEach((i=>{const a=new vn(i,0),l=new vn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),me.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const l=new vn(new De(a),0);let u=new pn(nt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(f.Yr)),!0)}),l),me.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return me.forEach(n.mutations,(i=>{const a=new vn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new vn(n,0),i=this.Zr.firstAfterOrEqual(r);return me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class J9{constructor(e){this.ri=e,this.docs=(function(){return new Lt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=Ls();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Vn.newInvalidDocument(i))})),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ls();const l=n.path,u=new De(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:p}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||C6(T6(p),r)<=0||(i.has(p.key)||sg(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Pe(9500)}ii(e,n){return me.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new eV(this)}getSize(e){return me.resolve(this.size)}}class eV extends W9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),me.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class tV{constructor(e){this.persistence=e,this.si=new ll((n=>hx(n)),mx),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new xx,this.targetCount=0,this.ai=Uc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),me.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Uc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Pr(n),me.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),me.waitFor(a).next((()=>i))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),me.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this._i.containsKey(n))}}class X2{constructor(e,n){this.ui={},this.overlays={},this.ci=new eg(0),this.li=!1,this.li=!0,this.hi=new K9,this.referenceDelegate=e(this),this.Pi=new tV(this),this.indexManager=new L9,this.remoteDocumentCache=(function(i){return new J9(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new P9(n),this.Ii=new Q9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Z9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new nV(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return me.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class nV extends R6{constructor(e){super(),this.currentSequenceNumber=e}}class wx{constructor(e){this.persistence=e,this.Ri=new xx,this.Vi=null}static mi(e){return new wx(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(r=>{const i=De.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mp{constructor(e,n){this.persistence=e,this.pi=new ll((r=>M6(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=$9(this,n)}static mi(e,n){return new mp(e,n)}Ei(){}di(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return me.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?me.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Ue.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vm(e.data.value)),n}br(e,n,r){return me.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return me.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _x{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=rt(),i=rt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new _x(e,n.fromCache,r,i)}}class rV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return e3()?8:D6(ZP())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new rV;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(gc()<=at.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",bc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(gc()<=at.DEBUG&&Ee("QueryEngine","Query:",bc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(gc()<=at.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",bc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):me.resolve())}ys(e,n){if(vk(n))return me.resolve(null);let r=Qi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=dp(n,null,"F"),r=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=rt(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(n,u);return this.Cs(n,m,l,f.readTime)?this.ys(e,dp(n,null,"F")):this.vs(e,m,n,f)}))))})))))}ws(e,n,r,i){return vk(n)||i.isEqual(Ue.min())?me.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?me.resolve(null):(gc()<=at.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bc(n)),this.vs(e,l,n,A6(i,Kd)).next((u=>u)))}))}Ds(e,n){let r=new pn(C2(e));return n.forEach(((i,a)=>{sg(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return gc()<=at.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",bc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ha.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const Ex="LocalStore",sV=3e8;class aV{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Lt(nt),this.xs=new ll((a=>hx(a)),mx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function oV(t,e,n,r){return new aV(t,e,n,r)}async function K2(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=rt();for(const m of i){l.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}for(const m of a){u.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function lV(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,m,p){const b=m.batch,x=b.keys();let w=me.resolve();return x.forEach((A=>{w=w.next((()=>p.getEntry(f,A))).next((S=>{const k=m.docVersions.get(A);ht(k!==null,48541),S.version.compareTo(k)<0&&(b.applyToRemoteDocument(S,m),S.isValidDocument()&&(S.setReadTime(m.commitVersion),p.addEntry(S)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(f,b)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=rt();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Z2(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function cV(t,e){const n=Fe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,b)=>{const x=i.get(b);if(!x)return;u.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(a,p.addedDocuments,b))));let w=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(zn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(b,w),(function(S,k,N){return S.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=sV?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(x,w,p)&&u.push(n.Pi.updateTargetData(a,w))}));let f=Ls(),m=rt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(uV(a,l,e.documentUpdates).next((p=>{f=p.ks,m=p.qs}))),!r.isEqual(Ue.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next((b=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(p)}return me.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function uV(t,e,n){let r=rt(),i=rt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Ls();return n.forEach(((u,f)=>{const m=a.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Ue.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Ee(Ex,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function dV(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ux),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fV(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,me.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ca(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function fv(t,e,n){const r=Fe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Jc(l))throw l;Ee(Ex,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function zk(t,e,n){const r=Fe(t);let i=Ue.min(),a=rt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,p){const b=Fe(f),x=b.xs.get(p);return x!==void 0?me.resolve(b.Ms.get(x)):b.Pi.getTargetData(m,p)})(r,l,Qi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ue.min(),n?a:rt()))).next((u=>(hV(r,Z6(e),u),{documents:u,Qs:a})))))}function hV(t,e,n){let r=t.Os.get(e)||Ue.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class Mk{constructor(){this.activeTargetIds=i9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.Mo=new Mk,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pV{Oo(e){}shutdown(){}}const jk="ConnectivityMonitor";class Ok{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(jk,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(jk,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pm=null;function hv(){return pm===null?pm=(function(){return 268435456+Math.round(2147483648*Math.random())})():pm++,"0x"+pm.toString(16)}const Zb="RestConnection",gV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===lp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=hv(),u=this.zo(e,n.toUriEncodedString());Ee(Zb,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:m}=new URL(u),p=yf(m);return this.Jo(e,u,f,r,p).then((b=>(Ee(Zb,`Received RPC '${e}' ${l}: `,b),b)),(b=>{throw jc(Zb,`RPC '${e}' ${l} failed with error: `,b,"url: ",u,"request:",r),b}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=gV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class yV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const jn="WebChannelConnection";class vV extends bV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=hv();return new Promise(((u,f)=>{const m=new t2;m.setWithCredentials(!0),m.listenOnce(n2.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Pm.NO_ERROR:const b=m.getResponseJson();Ee(jn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),u(b);break;case Pm.TIMEOUT:Ee(jn,`RPC '${e}' ${l} timed out`),f(new we(de.DEADLINE_EXCEEDED,"Request time out"));break;case Pm.HTTP_ERROR:const x=m.getStatus();if(Ee(jn,`RPC '${e}' ${l} failed with status:`,x,"response text:",m.getResponseText()),x>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w?.error;if(A&&A.status&&A.message){const S=(function(N){const j=N.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(j)>=0?j:de.UNKNOWN})(A.status);f(new we(S,A.message))}else f(new we(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new we(de.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ee(jn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Ee(jn,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=hv(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=s2(),u=i2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=a.join("");Ee(jn,`Creating RPC '${e}' stream ${i}: ${p}`,f);const b=l.createWebChannel(p,f);this.I_(b);let x=!1,w=!1;const A=new yV({Yo:k=>{w?Ee(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(x||(Ee(jn,`Opening RPC '${e}' stream ${i} transport.`),b.open(),x=!0),Ee(jn,`RPC '${e}' stream ${i} sending:`,k),b.send(k))},Zo:()=>b.close()}),S=(k,N,j)=>{k.listen(N,(z=>{try{j(z)}catch(M){setTimeout((()=>{throw M}),0)}}))};return S(b,kd.EventType.OPEN,(()=>{w||(Ee(jn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),S(b,kd.EventType.CLOSE,(()=>{w||(w=!0,Ee(jn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(b))})),S(b,kd.EventType.ERROR,(k=>{w||(w=!0,jc(jn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),A.a_(new we(de.UNAVAILABLE,"The operation could not be completed")))})),S(b,kd.EventType.MESSAGE,(k=>{if(!w){const N=k.data[0];ht(!!N,16349);const j=N,z=j?.error||j[0]?.error;if(z){Ee(jn,`RPC '${e}' stream ${i} received error:`,z);const M=z.status;let P=(function(R){const I=ln[R];if(I!==void 0)return L2(I)})(M),H=z.message;P===void 0&&(P=de.INTERNAL,H="Unknown error status: "+M+" with message "+z.message),w=!0,A.a_(new we(P,H)),b.close()}else Ee(jn,`RPC '${e}' stream ${i} received:`,N),A.u_(N)}})),S(u,r2.STAT_EVENT,(k=>{k.stat===tv.PROXY?Ee(jn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===tv.NOPROXY&&Ee(jn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Jb(){return typeof document<"u"?document:null}function ug(t){return new E9(t,!0)}class J2{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ik="PersistentStream";class eN{constructor(e,n,r,i,a,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new J2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Ik,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(Ik,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xV extends eN{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=A9(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ue.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?Xi(l.readTime):Ue.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=dv(this.serializer),n.addTarget=(function(a,l){let u;const f=l.target;if(u=av(f)?{documents:N9(a,f)}:{query:R9(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=H2(a,l.resumeToken);const m=lv(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ue.min())>0){u.readTime=hp(a,l.snapshotVersion.toTimestamp());const m=lv(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=z9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=dv(this.serializer),n.removeTarget=e,this.q_(n)}}class wV extends eN{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=C9(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=dv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>T9(this.serializer,r)))};this.q_(n)}}class _V{}class EV extends _V{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,cv(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(de.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,cv(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const el="RemoteStore";class kV{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{cl(this)&&(Ee(el,"Restarting streams for network reachability change."),await(async function(f){const m=Fe(f);m.Ea.add(4),await _f(m),m.Ra.set("Unknown"),m.Ea.delete(4),await dg(m)})(this))}))})),this.Ra=new SV(r,i)}}async function dg(t){if(cl(t))for(const e of t.da)await e(!0)}async function _f(t){for(const e of t.da)await e(!1)}function tN(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tx(n)?Ax(n):tu(n).O_()&&kx(n,e))}function Sx(t,e){const n=Fe(t),r=tu(n);n.Ia.delete(e),r.O_()&&nN(n,e),n.Ia.size===0&&(r.O_()?r.L_():cl(n)&&n.Ra.set("Unknown"))}function kx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tu(t).Y_(e)}function nN(t,e){t.Va.Ue(e),tu(t).Z_(e)}function Ax(t){t.Va=new v9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tu(t).start(),t.Ra.ua()}function Tx(t){return cl(t)&&!tu(t).x_()&&t.Ia.size>0}function cl(t){return Fe(t).Ea.size===0}function rN(t){t.Va=void 0}async function AV(t){t.Ra.set("Online")}async function TV(t){t.Ia.forEach(((e,n)=>{kx(t,e)}))}async function CV(t,e){rN(t),Tx(t)?(t.Ra.ha(e),Ax(t)):t.Ra.set("Unknown")}async function NV(t,e,n){if(t.Ra.set("Online"),e instanceof B2&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ee(el,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pp(t,r)}else if(e instanceof Bm?t.Va.Ze(e):e instanceof U2?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const r=await Z2(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const p=a.Ia.get(m);p&&a.Ia.set(m,p.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,m)=>{const p=a.Ia.get(f);if(!p)return;a.Ia.set(f,p.withResumeToken(zn.EMPTY_BYTE_STRING,p.snapshotVersion)),nN(a,f);const b=new Ca(p.target,f,m,p.sequenceNumber);kx(a,b)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ee(el,"Failed to raise snapshot:",r),await pp(t,r)}}async function pp(t,e,n){if(!Jc(e))throw e;t.Ea.add(1),await _f(t),t.Ra.set("Offline"),n||(n=()=>Z2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(el,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dg(t)}))}function iN(t,e){return e().catch((n=>pp(t,n,e)))}async function fg(t){const e=Fe(t),n=Wa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ux;for(;RV(e);)try{const i=await dV(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,DV(e,i)}catch(i){await pp(e,i)}sN(e)&&aN(e)}function RV(t){return cl(t)&&t.Ta.length<10}function DV(t,e){t.Ta.push(e);const n=Wa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sN(t){return cl(t)&&!Wa(t).x_()&&t.Ta.length>0}function aN(t){Wa(t).start()}async function zV(t){Wa(t).ra()}async function MV(t){const e=Wa(t);for(const n of t.Ta)e.ea(n.mutations)}async function jV(t,e,n){const r=t.Ta.shift(),i=bx.from(r,e,n);await iN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await fg(t)}async function OV(t,e){e&&Wa(t).X_&&await(async function(r,i){if((function(l){return g9(l)&&l!==de.ABORTED})(i.code)){const a=r.Ta.shift();Wa(r).B_(),await iN(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await fg(r)}})(t,e),sN(t)&&aN(t)}async function Pk(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Ee(el,"RemoteStore received new credentials");const r=cl(n);n.Ea.add(3),await _f(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dg(n)}async function IV(t,e){const n=Fe(t);e?(n.Ea.delete(2),await dg(n)):e||(n.Ea.add(2),await _f(n),n.Ra.set("Unknown"))}function tu(t){return t.ma||(t.ma=(function(n,r,i){const a=Fe(n);return a.sa(),new xV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:AV.bind(null,t),t_:TV.bind(null,t),r_:CV.bind(null,t),H_:NV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Tx(t)?Ax(t):t.Ra.set("Unknown")):(await t.ma.stop(),rN(t))}))),t.ma}function Wa(t){return t.fa||(t.fa=(function(n,r,i){const a=Fe(n);return a.sa(),new wV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zV.bind(null,t),r_:OV.bind(null,t),ta:MV.bind(null,t),na:jV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await fg(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(el,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Cx{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new Cx(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nx(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),Jc(t))return new we(de.UNAVAILABLE,`${e}: ${t}`);throw t}class Sc{static emptySet(e){return new Sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Ad(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Vk{constructor(){this.ga=new Lt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bc{constructor(e,n,r,i,a,l,u,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Bc(e,n,Sc.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class PV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VV{constructor(){this.queries=Lk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Fe(n),a=i.queries;i.queries=Lk(),a.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new we(de.ABORTED,"Firestore shutting down"))}}function Lk(){return new ll((t=>T2(t)),ig)}async function Rx(t,e){const n=Fe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new PV,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Nx(l,`Initialization of query '${bc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&zx(n)}async function Dx(t,e){const n=Fe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LV(t,e){const n=Fe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&zx(n)}function UV(t,e,n){const r=Fe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function zx(t){t.Ca.forEach((e=>{e.next()}))}var mv,Uk;(Uk=mv||(mv={})).Ma="default",Uk.Cache="cache";class Mx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mv.Cache}}class oN{constructor(e){this.key=e}}class lN{constructor(e){this.key=e}}class BV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=C2(e),this.tu=new Sc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Vk,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,b)=>{const x=i.get(p),w=sg(this.query,b)?b:null,A=!!x&&this.mutatedKeys.has(x.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;x&&w?x.data.isEqual(w.data)?A!==S&&(r.track({type:3,doc:w}),k=!0):this.su(x,w)||(r.track({type:2,doc:w}),k=!0,(f&&this.eu(w,f)>0||m&&this.eu(w,m)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),k=!0):x&&!w&&(r.track({type:1,doc:x}),k=!0,(f||m)&&(u=!0)),k&&(w?(l=l.add(w),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,b)=>(function(w,A){const S=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:k})}};return S(w)-S(A)})(p.type,b.type)||this.eu(p.doc,b.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,m=f!==this.Za;return this.Za=f,l.length!==0||m?{snapshot:new Bc(this.query,e.tu,a,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new lN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jx="SyncEngine";class HV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FV{constructor(e){this.key=e,this.hu=!1}}class qV{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ll((u=>T2(u)),ig),this.Iu=new Map,this.Eu=new Set,this.du=new Lt(De.comparator),this.Au=new Map,this.Ru=new xx,this.Vu={},this.mu=new Map,this.fu=Uc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $V(t,e,n=!0){const r=mN(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await cN(r,e,n,!0),i}async function WV(t,e){const n=mN(t);await cN(n,e,!0,!1)}async function cN(t,e,n,r){const i=await fV(t.localStore,Qi(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await GV(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&tN(t.remoteStore,i),u}async function GV(t,e,n,r,i){t.pu=(b,x,w)=>(async function(S,k,N,j){let z=k.view.ru(N);z.Cs&&(z=await zk(S.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,z))));const M=j&&j.targetChanges.get(k.targetId),P=j&&j.targetMismatches.get(k.targetId)!=null,H=k.view.applyChanges(z,S.isPrimaryClient,M,P);return Hk(S,k.targetId,H.au),H.snapshot})(t,b,x,w);const a=await zk(t.localStore,e,!0),l=new BV(e,a.Qs),u=l.ru(a.documents),f=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(u,t.isPrimaryClient,f);Hk(t,n,m.au);const p=new HV(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function YV(t,e,n){const r=Fe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!ig(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sx(r.remoteStore,i.targetId),pv(r,i.targetId)})).catch(Zc)):(pv(r,i.targetId),await fv(r.localStore,i.targetId,!0))}async function QV(t,e){const n=Fe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sx(n.remoteStore,r.targetId))}async function XV(t,e,n){const r=rL(t);try{const i=await(function(l,u){const f=Fe(l),m=Ct.now(),p=u.reduce(((w,A)=>w.add(A.key)),rt());let b,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let A=Ls(),S=rt();return f.Ns.getEntries(w,p).next((k=>{A=k,A.forEach(((N,j)=>{j.isValidDocument()||(S=S.add(N))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,A))).next((k=>{b=k;const N=[];for(const j of u){const z=d9(j,b.get(j.key).overlayedDocument);z!=null&&N.push(new to(j.key,z,v2(z.value.mapValue),Gn.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,N,u)})).next((k=>{x=k;const N=k.applyToLocalDocumentSet(b,S);return f.documentOverlayCache.saveOverlays(w,k.batchId,N)}))})).then((()=>({batchId:x.batchId,changes:R2(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let m=l.Vu[l.currentUser.toKey()];m||(m=new Lt(nt)),m=m.insert(u,f),l.Vu[l.currentUser.toKey()]=m})(r,i.batchId,n),await Ef(r,i.changes),await fg(r.remoteStore)}catch(i){const a=Nx(i,"Failed to persist write");n.reject(a)}}async function uN(t,e){const n=Fe(t);try{const r=await cV(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ht(l.hu,14607):i.removedDocuments.size>0&&(ht(l.hu,42227),l.hu=!1))})),await Ef(n,r,e)}catch(r){await Zc(r)}}function Bk(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=Fe(l);f.onlineState=u;let m=!1;f.queries.forEach(((p,b)=>{for(const x of b.Sa)x.va(u)&&(m=!0)})),m&&zx(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KV(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Lt(De.comparator);l=l.insert(a,Vn.newNoDocument(a,Ue.min()));const u=rt().add(a),f=new cg(Ue.min(),new Map,new Lt(nt),l,u);await uN(r,f),r.du=r.du.remove(a),r.Au.delete(e),Ox(r)}else await fv(r.localStore,e,!1).then((()=>pv(r,e,n))).catch(Zc)}async function ZV(t,e){const n=Fe(t),r=e.batch.batchId;try{const i=await lV(n.localStore,e);fN(n,r,null),dN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ef(n,i)}catch(i){await Zc(i)}}async function JV(t,e,n){const r=Fe(t);try{const i=await(function(l,u){const f=Fe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return f.mutationQueue.lookupMutationBatch(m,u).next((b=>(ht(b!==null,37113),p=b.keys(),f.mutationQueue.removeMutationBatch(m,b)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>f.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);fN(r,e,n),dN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ef(r,i)}catch(i){await Zc(i)}}function dN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function fN(t,e,n){const r=Fe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function pv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||hN(t,r)}))}function hN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ox(t))}function Hk(t,e,n){for(const r of n)r instanceof oN?(t.Ru.addReference(r.key,e),eL(t,r)):r instanceof lN?(Ee(jx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hN(t,r.key)):Pe(19791,{wu:r})}function eL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(jx,"New document in limbo: "+n),t.Eu.add(r),Ox(t))}function Ox(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(St.fromString(e)),r=t.fu.next();t.Au.set(r,new FV(n)),t.du=t.du.insert(n,r),tN(t.remoteStore,new Ca(Qi(rg(n.path)),r,"TargetPurposeLimboResolution",eg.ce))}}async function Ef(t,e,n){const r=Fe(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const p=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(m){i.push(m);const p=_x.As(f.targetId,m);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,m){const p=Fe(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>me.forEach(m,(x=>me.forEach(x.Es,(w=>p.persistence.referenceDelegate.addReference(b,x.targetId,w))).next((()=>me.forEach(x.ds,(w=>p.persistence.referenceDelegate.removeReference(b,x.targetId,w)))))))))}catch(b){if(!Jc(b))throw b;Ee(Ex,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const w=p.Ms.get(x),A=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(x,S)}}})(r.localStore,a))}async function tL(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Ee(jx,"User change. New user:",e.toKey());const r=await K2(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new we(de.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ef(n,r.Ls)}}function nL(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let i=rt();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function mN(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KV.bind(null,e),e.Pu.H_=LV.bind(null,e.eventManager),e.Pu.yu=UV.bind(null,e.eventManager),e}function rL(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JV.bind(null,e),e}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ug(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oV(this.persistence,new iV,e.initialUser,this.serializer)}Cu(e){return new X2(wx.mi,this.serializer)}Du(e){return new mV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class iL extends gp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof mp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new X2((r=>mp.mi(r,n)),this.serializer)}}class gv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tL.bind(null,this.syncEngine),await IV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VV})()}createDatastore(e){const n=ug(e.databaseInfo.databaseId),r=(function(a){return new vV(a)})(e.databaseInfo);return(function(a,l,u,f){return new EV(a,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new kV(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>Bk(this.syncEngine,n,0)),(function(){return Ok.v()?new Ok:new pV})())}createSyncEngine(e,n){return(function(i,a,l,u,f,m,p){const b=new qV(i,a,l,u,f,m);return p&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Fe(n);Ee(el,"RemoteStore shutting down."),r.Ea.add(5),await _f(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gv.provider={build:()=>new gv};class Ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ga="FirestoreClient";class sL{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=cx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Ee(Ga,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ee(Ga,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ey(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Ga,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await K2(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Fk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aL(t);Ee(Ga,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Pk(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Pk(e.remoteStore,i))),t._onlineComponents=e}async function aL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Ga,"Using user provided OfflineComponentProvider");try{await ey(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;jc("Error using user provided cache. Falling back to memory cache: "+n),await ey(t,new gp)}}else Ee(Ga,"Using default OfflineComponentProvider"),await ey(t,new iL(void 0));return t._offlineComponents}async function pN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Ga,"Using user provided OnlineComponentProvider"),await Fk(t,t._uninitializedComponentsProvider._online)):(Ee(Ga,"Using default OnlineComponentProvider"),await Fk(t,new gv))),t._onlineComponents}function oL(t){return pN(t).then((e=>e.syncEngine))}async function bp(t){const e=await pN(t),n=e.eventManager;return n.onListen=$V.bind(null,e.syncEngine),n.onUnlisten=YV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QV.bind(null,e.syncEngine),n}function lL(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const p=new Ix({next:x=>{p.Nu(),l.enqueueAndForget((()=>Dx(a,b)));const w=x.docs.has(u);!w&&x.fromCache?m.reject(new we(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?m.reject(new we(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new Mx(rg(u.path),p,{includeMetadataChanges:!0,qa:!0});return Rx(a,b)})(await bp(t),t.asyncQueue,e,n,r))),r.promise}function cL(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const p=new Ix({next:x=>{p.Nu(),l.enqueueAndForget((()=>Dx(a,b))),x.fromCache&&f.source==="server"?m.reject(new we(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new Mx(u,p,{includeMetadataChanges:!0,qa:!0});return Rx(a,b)})(await bp(t),t.asyncQueue,e,n,r))),r.promise}function gN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const qk=new Map;const bN="firestore.googleapis.com",$k=!0;class Wk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bN,this.ssl=$k}else this.host=e.host,this.ssl=e.ssl??$k;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B9)throw new we(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new m6;switch(r.type){case"firstParty":return new y6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=qk.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),qk.delete(n),r.terminate())})(this),Promise.resolve()}}function uL(t,e,n,r={}){t=Wn(t,hg);const i=yf(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(UC(`https://${u}`),HC("Firestore",!0)),a.host!==bN&&a.host!==u&&jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:i,emulatorOptions:r};if(!zc(f,l)&&(t._setSettings(f),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=On.MOCK_USER;else{m=BC(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new we(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new On(b)}t._authCredentials=new p6(new o2(m,p))}}class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vf(n,Gt._jsonSchema))return new Gt(e,r||null,new De(St.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:un("string",Gt._jsonSchemaVersion),referencePath:un("string")};class Va extends qs{constructor(e,n,r){super(e,n,rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new De(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function xn(t,e,...n){if(t=Un(t),l2("collection","path",e),t instanceof hg){const r=St.fromString(e,...n);return sk(r),new Va(t,null,r)}{if(!(t instanceof Gt||t instanceof Va))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return sk(r),new Va(t.firestore,null,r)}}function Mt(t,e,...n){if(t=Un(t),arguments.length===1&&(e=cx.newId()),l2("doc","path",e),t instanceof hg){const r=St.fromString(e,...n);return ik(r),new Gt(t,null,new De(r))}{if(!(t instanceof Gt||t instanceof Va))throw new we(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return ik(r),new Gt(t.firestore,t instanceof Va?t.converter:null,new De(r))}}const Gk="AsyncQueue";class Yk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new J2(this,"async_queue_retry"),this._c=()=>{const r=Jb();r&&Ee(Gk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jc(e))throw e;Ee(Gk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",Qk(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Cx.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Pe(47125,{Pc:Qk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Xk(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ns extends hg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Yk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yk(e),this._firestoreClient=void 0,await e}}}function dL(t,e){const n=typeof t=="object"?t:KC(),r=typeof t=="string"?t:lp,i=GC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=VC("firestore");a&&uL(i,...a)}return i}function Sf(t){if(t._terminated)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fL(t),t._firestoreClient}function fL(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new I6(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,gN(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(zn.fromBase64String(e))}catch(n){throw new we(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vf(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:un("string",Qr._jsonSchemaVersion),bytes:un("string")};class kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nu{constructor(e){this._methodName=e}}class Ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(vf(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:un("string",Ki._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vf(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new we(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:un("string",Zi._jsonSchemaVersion),vectorValues:un("object")};const hL=/^__.*__$/;class mL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new xf(e,this.data,n,this.fieldTransforms)}}class yN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new to(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class mg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vN(this.Ac)&&hL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ug(e)}Cc(e,n,r,i=!1){return new mg({Ac:e,methodName:n,Dc:r,path:Rn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Af(t){const e=t._freezeSettings(),n=ug(t._databaseId);return new pL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Px(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Bx("Data must be an object, but it was:",l,r);const u=EN(r,l);let f,m;if(a.merge)f=new Tr(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const b of a.mergeFields){const x=bv(e,b,n);if(!l.contains(x))throw new we(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);kN(p,x)||p.push(x)}f=new Tr(p),m=l.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,m=l.fieldTransforms;return new mL(new or(u),f,m)}class pg extends nu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pg}}function xN(t,e,n){return new mg({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vx extends nu{_toFieldTransform(e){return new gx(e.path,new nf)}isEqual(e){return e instanceof Vx}}class Lx extends nu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=xN(this,e,!0),r=this.vc.map((a=>ul(a,n))),i=new Vc(r);return new gx(e.path,i)}isEqual(e){return e instanceof Lx&&zc(this.vc,e.vc)}}class Ux extends nu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=xN(this,e,!0),r=this.vc.map((a=>ul(a,n))),i=new Lc(r);return new gx(e.path,i)}isEqual(e){return e instanceof Ux&&zc(this.vc,e.vc)}}function wN(t,e,n,r){const i=t.Cc(1,e,n);Bx("Data must be an object, but it was:",i,r);const a=[],l=or.empty();eo(r,((f,m)=>{const p=Hx(e,f,n);m=Un(m);const b=i.yc(p);if(m instanceof pg)a.push(p);else{const x=ul(m,b);x!=null&&(a.push(p),l.set(p,x))}}));const u=new Tr(a);return new yN(l,u,i.fieldTransforms)}function _N(t,e,n,r,i,a){const l=t.Cc(1,e,n),u=[bv(e,r,n)],f=[i];if(a.length%2!=0)throw new we(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(bv(e,a[x])),f.push(a[x+1]);const m=[],p=or.empty();for(let x=u.length-1;x>=0;--x)if(!kN(m,u[x])){const w=u[x];let A=f[x];A=Un(A);const S=l.yc(w);if(A instanceof pg)m.push(w);else{const k=ul(A,S);k!=null&&(m.push(w),p.set(w,k))}}const b=new Tr(m);return new yN(p,b,l.fieldTransforms)}function gL(t,e,n,r=!1){return ul(n,t.Cc(r?4:3,e))}function ul(t,e){if(SN(t=Un(t)))return Bx("Unsupported field value:",e,t),EN(t,e);if(t instanceof nu)return(function(r,i){if(!vN(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let f=ul(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:hp(i.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hp(i.serializer,a)}}if(r instanceof Ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:H2(i.serializer,r._byteString)};if(r instanceof Gt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zi)return(function(l,u){return{mapValue:{fields:{[b2]:{stringValue:y2},[cp]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return px(u.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Jp(r)}`)})(t,e)}function EN(t,e){const n={};return d2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,((r,i)=>{const a=ul(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function SN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Ki||t instanceof Qr||t instanceof Gt||t instanceof nu||t instanceof Zi)}function Bx(t,e,n){if(!SN(n)||!c2(n)){const r=Jp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function bv(t,e,n){if((e=Un(e))instanceof kf)return e._internalPath;if(typeof e=="string")return Hx(t,e);throw yp("Field path arguments must be of type string or ",t,!1,void 0,n)}const bL=new RegExp("[~\\*/\\[\\]]");function Hx(t,e,n){if(e.search(bL)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kf(...e.split("."))._internalPath}catch{throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yp(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new we(de.INVALID_ARGUMENT,u+t+f)}function kN(t,e){return t.some((n=>n.isEqual(e)))}class AN{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yL extends AN{data(){return super.data()}}function gg(t,e){return typeof e=="string"?Hx(t,e):e instanceof kf?e._internalPath:e._delegate._internalPath}function TN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fx{}class qx extends Fx{}function rs(t,e,...n){let r=[];e instanceof Fx&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof $x)).length,u=a.filter((f=>f instanceof bg)).length;if(l>1||l>0&&u>0)throw new we(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class bg extends qx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bg(e,n,r)}_apply(e){const n=this._parse(e);return NN(e._query,n),new qs(e.firestore,e.converter,ov(e._query,n))}_parse(e){const n=Af(e.firestore);return(function(a,l,u,f,m,p,b){let x;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new we(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Zk(b,p);const A=[];for(const S of b)A.push(Kk(f,a,S));x={arrayValue:{values:A}}}else x=Kk(f,a,b)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Zk(b,p),x=gL(u,l,b,p==="in"||p==="not-in");return cn.create(m,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vp(t,e,n){const r=e,i=gg("where",t);return bg._create(i,r,n)}class $x extends Fx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $x(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)NN(l,f),l=ov(l,f)})(e._query,n),new qs(e.firestore,e.converter,ov(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wx extends qx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wx(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tf(a,l)})(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new eu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function lr(t,e="asc"){const n=e,r=gg("orderBy",t);return Wx._create(r,n)}class Gx extends qx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Gx(e,n,r)}_apply(e){return new qs(e.firestore,e.converter,dp(e._query,this._limit,this._limitType))}}function CN(t){return k6("limit",t),Gx._create("limit",t,"F")}function Kk(t,e,n){if(typeof(n=Un(n))=="string"){if(n==="")throw new we(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A2(e)&&n.indexOf("/")!==-1)throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!De.isDocumentKey(r))throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hk(t,new De(r))}if(n instanceof Gt)return hk(t,n._key);throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jp(n)}.`)}function Zk(t,e){if(!Array.isArray(t)||t.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NN(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vL{convertValue(e,n="none"){switch($a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[cp].arrayValue?.values?.map((r=>Jt(r.doubleValue)));return new Zi(n)}convertGeoPoint(e){return new Ki(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ng(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zd(e));default:return null}}convertTimestamp(e){const n=Fa(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);ht(Y2(r),9688,{name:e});const i=new Jd(r.get(1),r.get(3)),a=new De(r.popFirst(5));return i.isEqual(n)||Vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function Yx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yo extends AN{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yo._jsonSchema={type:un("string",Yo._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Hm extends Yo{data(e={}){return super.data(e)}}class Qo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Hm(this._firestore,this._userDataWriter,r.key,r,new Cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Hm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Hm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:xL(u.type),doc:f,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}function xp(t){t=Wn(t,Gt);const e=Wn(t.firestore,ns);return lL(Sf(e),t._key).then((n=>DN(e,t,n)))}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:un("string",Qo._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class Qx extends vL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function RN(t){t=Wn(t,qs);const e=Wn(t.firestore,ns),n=Sf(e),r=new Qx(e);return TN(t._query),cL(n,t._query).then((i=>new Qo(e,r,t,i)))}function wL(t,e,n){t=Wn(t,Gt);const r=Wn(t.firestore,ns),i=Yx(t.converter,e,n);return Tf(r,[Px(Af(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gn.none())])}function qi(t,e,n,...r){t=Wn(t,Gt);const i=Wn(t.firestore,ns),a=Af(i);let l;return l=typeof(e=Un(e))=="string"||e instanceof kf?_N(a,"updateDoc",t._key,e,n,r):wN(a,"updateDoc",t._key,e),Tf(i,[l.toMutation(t._key,Gn.exists(!0))])}function yg(t){return Tf(Wn(t.firestore,ns),[new lg(t._key,Gn.none())])}function rf(t,e){const n=Wn(t.firestore,ns),r=Mt(t),i=Yx(t.converter,e);return Tf(n,[Px(Af(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then((()=>r))}function tl(t,...e){t=Un(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Xk(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Xk(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,l,u;if(t instanceof Gt)l=Wn(t.firestore,ns),u=rg(t._key.path),a={next:f=>{e[r]&&e[r](DN(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Wn(t,qs);l=Wn(f.firestore,ns),u=f._query;const m=new Qx(l);a={next:p=>{e[r]&&e[r](new Qo(l,m,f,p))},error:e[r+1],complete:e[r+2]},TN(t._query)}return(function(m,p,b,x){const w=new Ix(x),A=new Mx(p,w,b);return m.asyncQueue.enqueueAndForget((async()=>Rx(await bp(m),A))),()=>{w.Nu(),m.asyncQueue.enqueueAndForget((async()=>Dx(await bp(m),A)))}})(Sf(l),u,i,a)}function Tf(t,e){return(function(r,i){const a=new js;return r.asyncQueue.enqueueAndForget((async()=>XV(await oL(r),i,a))),a.promise})(Sf(t),e)}function DN(t,e,n){const r=n.docs.get(e._key),i=new Qx(t);return new Yo(t,i,e._key,r,new Cd(n.hasPendingWrites,n.fromCache),e.converter)}class _L{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Af(e)}set(e,n,r){this._verifyNotCommitted();const i=ty(e,this._firestore),a=Yx(i.converter,n,r),l=Px(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Gn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=ty(e,this._firestore);let l;return l=typeof(n=Un(n))=="string"||n instanceof kf?_N(this._dataReader,"WriteBatch.update",a._key,n,r,i):wN(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ty(e,this._firestore);return this._mutations=this._mutations.concat(new lg(n._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ty(t,e){if((t=Un(t)).firestore!==e)throw new we(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function $o(){return new Vx("serverTimestamp")}function EL(...t){return new Lx("arrayUnion",t)}function SL(...t){return new Ux("arrayRemove",t)}function wp(t){return Sf(t=Wn(t,ns)),new _L(t,(e=>Tf(t,e)))}(function(e,n=!0){(function(i){Kc=i})(QC),Qd(new Mc("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new ns(new g6(r.getProvider("auth-internal")),new v6(l,r.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new we(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jd(m.options.projectId,p)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Ia(ek,tk,e),Ia(ek,tk,"esm2020")})();var kL="firebase",AL="12.7.0";Ia(kL,AL,"app");const zN="firebasestorage.googleapis.com",MN="storageBucket",TL=120*1e3,CL=600*1e3,NL=1e3;class Bt extends ol{constructor(e,n,r=0){super(ny(e),`Firebase Storage: ${n} (${ny(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ny(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function ny(t){return"storage/"+t}function Xx(){const t="An unknown error occurred, please check the error payload for server response.";return new Bt(Nt.UNKNOWN,t)}function RL(t){return new Bt(Nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function DL(t){return new Bt(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(Nt.UNAUTHENTICATED,t)}function ML(){return new Bt(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jL(t){return new Bt(Nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jN(){return new Bt(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ON(){return new Bt(Nt.CANCELED,"User canceled the upload/download.")}function OL(t){return new Bt(Nt.INVALID_URL,"Invalid URL '"+t+"'.")}function IL(t){return new Bt(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PL(){return new Bt(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+MN+"' property when initializing the app?")}function IN(){return new Bt(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VL(){return new Bt(Nt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function LL(){return new Bt(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UL(t){return new Bt(Nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yv(t){return new Bt(Nt.INVALID_ARGUMENT,t)}function PN(){return new Bt(Nt.APP_DELETED,"The Firebase app was deleted.")}function BL(t){return new Bt(Nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Id(t,e){return new Bt(Nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bd(t){throw new Bt(Nt.INTERNAL_ERROR,"Internal error: "+t)}class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(r.path==="")return r;throw IL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function m(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${b}/${p}/b/${i}/o${x}`,"i"),A={bucket:1,path:3},S=n===zN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",N=new RegExp(`^https?://${S}/${i}/${k}`,"i"),z=[{regex:u,indices:f,postModify:a},{regex:w,indices:A,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let M=0;M<z.length;M++){const P=z[M],H=P.regex.exec(e);if(H){const D=H[P.indices.bucket];let R=H[P.indices.path];R||(R=""),r=new Cr(D,R),P.postModify(r);break}}if(r==null)throw OL(e);return r}}class HL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function FL(t,e,n){let r=1,i=null,a=null,l=!1,u=0;function f(){return u===2}let m=!1;function p(...k){m||(m=!0,e.apply(null,k))}function b(k){i=setTimeout(()=>{i=null,t(w,f())},k)}function x(){a&&clearTimeout(a)}function w(k,...N){if(m){x();return}if(k){x(),p.call(null,k,...N);return}if(f()||l){x(),p.call(null,k,...N);return}r<64&&(r*=2);let z;u===1?(u=2,z=0):z=(r+Math.random())*1e3,b(z)}let A=!1;function S(k){A||(A=!0,x(),!m&&(i!==null?(k||(u=2),clearTimeout(i),b(0)):k||(u=1)))}return b(0),a=setTimeout(()=>{l=!0,S(!0)},n),S}function qL(t){t(!1)}function $L(t){return t!==void 0}function WL(t){return typeof t=="function"}function GL(t){return typeof t=="object"&&!Array.isArray(t)}function vg(t){return typeof t=="string"||t instanceof String}function Jk(t){return Kx()&&t instanceof Blob}function Kx(){return typeof Blob<"u"}function eA(t,e,n,r){if(r<e)throw yv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yv(`Invalid value for '${t}'. Expected ${n} or less.`)}function Cf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));function LN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}class YL{constructor(e,n,r,i,a,l,u,f,m,p,b,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=p,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,S)=>{this.resolve_=A,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const f=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Xo.NO_ERROR,f=a.getStatus();if(!u||LN(f,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Xo.ABORT;r(!1,new gm(!1,null,p));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new gm(m,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());$L(f)?a(f):a()}catch(f){l(f)}else if(u!==null){const f=Xx();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(i.canceled){const f=this.appDelete_?PN():ON();l(f)}else{const f=jN();l(f)}};this.canceled_?n(!1,new gm(!1,null,!0)):this.backoffId_=FL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function QL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ZL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JL(t,e,n,r,i,a,l=!0,u=!1){const f=VN(t.urlParams),m=t.url+f,p=Object.assign({},t.headers);return KL(p,e),QL(p,n),XL(p,a),ZL(p,r),new YL(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}function eU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tU(...t){const e=eU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Kx())return new Blob(t);throw new Bt(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function rU(t){if(typeof atob>"u")throw UL("base-64");return atob(t)}const Wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ry{constructor(e,n){this.data=e,this.contentType=n||null}}function iU(t,e){switch(t){case Wi.RAW:return new ry(UN(e));case Wi.BASE64:case Wi.BASE64URL:return new ry(BN(t,e));case Wi.DATA_URL:return new ry(aU(e),oU(e))}throw Xx()}function UN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sU(t){let e;try{e=decodeURIComponent(t)}catch{throw Id(Wi.DATA_URL,"Malformed data URL.")}return UN(e)}function BN(t,e){switch(t){case Wi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Id(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Id(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rU(e)}catch(i){throw i.message.includes("polyfill")?i:Id(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class HN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Id(Wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=lU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function aU(t){const e=new HN(t);return e.base64?BN(Wi.BASE64,e.rest):sU(e.rest)}function oU(t){return new HN(t).contentType}function lU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Ta{constructor(e,n){let r=0,i="";Jk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Jk(this.data_)){const r=this.data_,i=nU(r,e,n);return i===null?null:new Ta(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ta(r,!0)}}static getBlob(...e){if(Kx()){const n=e.map(r=>r instanceof Ta?r.data_:r);return new Ta(tU.apply(null,n))}else{const n=e.map(l=>vg(l)?iU(Wi.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)i[a++]=l[u]}),new Ta(i,!0)}}uploadData(){return this.data_}}function FN(t){let e;try{e=JSON.parse(t)}catch{return null}return GL(e)?e:null}function cU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function dU(t,e){return e}class $n{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||dU}}let bm=null;function fU(t){return!vg(t)||t.length<2?t:qN(t)}function $N(){if(bm)return bm;const t=[];t.push(new $n("bucket")),t.push(new $n("generation")),t.push(new $n("metageneration")),t.push(new $n("name","fullPath",!0));function e(a,l){return fU(l)}const n=new $n("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new $n("size");return i.xform=r,t.push(i),t.push(new $n("timeCreated")),t.push(new $n("updated")),t.push(new $n("md5Hash",null,!0)),t.push(new $n("cacheControl",null,!0)),t.push(new $n("contentDisposition",null,!0)),t.push(new $n("contentEncoding",null,!0)),t.push(new $n("contentLanguage",null,!0)),t.push(new $n("contentType",null,!0)),t.push(new $n("metadata","customMetadata",!0)),bm=t,bm}function hU(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Cr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function mU(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return hU(r,t),r}function WN(t,e,n){const r=FN(e);return r===null?null:mU(t,r,n)}function pU(t,e,n,r){const i=FN(e);if(i===null||!vg(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(m=>{const p=t.bucket,b=t.fullPath,x="/b/"+l(p)+"/o/"+l(b),w=Cf(x,n,r),A=VN({alt:"media",token:m});return w+A})[0]}function GN(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class ru{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Os(t){if(!t)throw Xx()}function Zx(t,e){function n(r,i){const a=WN(t,i,e);return Os(a!==null),a}return n}function gU(t,e){function n(r,i){const a=WN(t,i,e);return Os(a!==null),pU(a,i,t.host,t._protocol)}return n}function Nf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ML():i=zL():n.getStatus()===402?i=DL(t.bucket):n.getStatus()===403?i=jL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function YN(t){const e=Nf(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=RL(t.path)),a.serverResponse=i.serverResponse,a}return n}function bU(t,e,n){const r=e.fullServerUrl(),i=Cf(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new ru(i,a,Zx(t,n),l);return u.errorHandler=YN(e),u}function yU(t,e,n){const r=e.fullServerUrl(),i=Cf(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new ru(i,a,gU(t,n),l);return u.errorHandler=YN(e),u}function vU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=vU(null,e)),r}function xU(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let z="";for(let M=0;M<2;M++)z=z+Math.random().toString().slice(2);return z}const f=u();l["Content-Type"]="multipart/related; boundary="+f;const m=QN(e,r,i),p=GN(m,n),b="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,x=`\r
--`+f+"--",w=Ta.getBlob(b,r,x);if(w===null)throw IN();const A={name:m.fullPath},S=Cf(a,t.host,t._protocol),k="POST",N=t.maxUploadRetryTime,j=new ru(S,k,Zx(t,n),N);return j.urlParams=A,j.headers=l,j.body=w.uploadData(),j.errorHandler=Nf(e),j}class _p{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Jx(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Os(!1)}return Os(!!n&&(e||["active"]).indexOf(n)!==-1),n}function wU(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l=QN(e,r,i),u={name:l.fullPath},f=Cf(a,t.host,t._protocol),m="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},b=GN(l,n),x=t.maxUploadRetryTime;function w(S){Jx(S);let k;try{k=S.getResponseHeader("X-Goog-Upload-URL")}catch{Os(!1)}return Os(vg(k)),k}const A=new ru(f,m,w,x);return A.urlParams=u,A.headers=p,A.body=b,A.errorHandler=Nf(e),A}function _U(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(m){const p=Jx(m,["active","final"]);let b=null;try{b=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Os(!1)}b||Os(!1);const x=Number(b);return Os(!isNaN(x)),new _p(x,r.size(),p==="final")}const l="POST",u=t.maxUploadRetryTime,f=new ru(n,l,a,u);return f.headers=i,f.errorHandler=Nf(e),f}const tA=256*1024;function EU(t,e,n,r,i,a,l,u){const f=new _p(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw VL();const m=f.total-f.current;let p=m;i>0&&(p=Math.min(p,i));const b=f.current,x=b+p;let w="";p===0?w="finalize":m===p?w="upload, finalize":w="upload";const A={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${f.current}`},S=r.slice(b,x);if(S===null)throw IN();function k(M,P){const H=Jx(M,["active","final"]),D=f.current+p,R=r.size();let I;return H==="final"?I=Zx(e,a)(M,P):I=null,new _p(D,R,H==="final",I)}const N="POST",j=e.maxUploadRetryTime,z=new ru(n,N,k,j);return z.headers=A,z.body=S.uploadData(),z.progressCallback=u||null,z.errorHandler=Nf(t),z}const ar={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function iy(t){switch(t){case"running":case"pausing":case"canceling":return ar.RUNNING;case"paused":return ar.PAUSED;case"success":return ar.SUCCESS;case"canceled":return ar.CANCELED;case"error":return ar.ERROR;default:return ar.ERROR}}class SU{constructor(e,n,r){if(WL(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function oc(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class kU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw bd("cannot .send() more than once");if(yf(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AU extends kU{initXhr(){this.xhr_.responseType="text"}}function xc(){return new AU}class TU{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=$N(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Nt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(LN(i.status,[]))if(a)i=jN();else{this.sleepTime=Math.max(this.sleepTime*2,NL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Nt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=wU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,xc,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=_U(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,xc,n,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=tA*this._chunkMultiplier,n=new _p(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=EU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const u=this._ref.storage._makeRequest(l,xc,i,a,!1);this._request=u,u.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){tA*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=bU(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,xc,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=xU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,xc,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ON(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=iy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new SU(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(iy(this._state)){case ar.SUCCESS:oc(this._resolve.bind(null,this.snapshot))();break;case ar.CANCELED:case ar.ERROR:const n=this._reject;oc(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(iy(this._state)){case ar.RUNNING:case ar.PAUSED:e.next&&oc(e.next.bind(e,this.snapshot))();break;case ar.SUCCESS:e.complete&&oc(e.complete.bind(e))();break;case ar.CANCELED:case ar.ERROR:e.error&&oc(e.error.bind(e,this._error))();break;default:e.error&&oc(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class nl{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new nl(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qN(this._location.path)}get storage(){return this._service}get parent(){const e=cU(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new nl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BL(e)}}function CU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new TU(t,new Ta(e),n)}function NU(t){t._throwIfRoot("getDownloadURL");const e=yU(t.storage,t._location,$N());return t.storage.makeRequestWithTokens(e,xc).then(n=>{if(n===null)throw LL();return n})}function RU(t,e){const n=uU(t._location.path,e),r=new Cr(t._location.bucket,n);return new nl(t.storage,r)}function DU(t){return/^[A-Za-z]+:\/\//.test(t)}function zU(t,e){return new nl(t,e)}function XN(t,e){if(t instanceof ew){const n=t;if(n._bucket==null)throw PL();const r=new nl(n,n._bucket);return e!=null?XN(r,e):r}else return e!==void 0?RU(t,e):t}function MU(t,e){if(e&&DU(e)){if(t instanceof ew)return zU(t,e);throw yv("To use ref(service, url), the first argument must be a Storage instance.")}else return XN(t,e)}function nA(t,e){const n=e?.[MN];return n==null?null:Cr.makeFromBucketSpec(n,t)}function jU(t,e,n,r={}){t.host=`${e}:${n}`;const i=yf(e);i&&(UC(`https://${t.host}/b`),HC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:BC(a,t.app.options.projectId))}class ew{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=zN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TL,this._maxUploadRetryTime=CL,this._requests=new Set,i!=null?this._bucket=Cr.makeFromBucketSpec(i,this._host):this._bucket=nA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=nA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(YC(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new HL(PN());{const l=JL(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rA="@firebase/storage",iA="0.14.0";const KN="storage";function OU(t,e,n){return t=Un(t),CU(t,e,n)}function IU(t){return t=Un(t),NU(t)}function PU(t,e){return t=Un(t),MU(t,e)}function VU(t=KC(),e){t=Un(t);const r=GC(t,KN).getImmediate({identifier:e}),i=VC("storage");return i&&LU(r,...i),r}function LU(t,e,n,r={}){jU(t,e,n,r)}function UU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ew(n,r,i,e,QC)}function BU(){Qd(new Mc(KN,UU,"PUBLIC").setMultipleInstances(!0)),Ia(rA,iA,""),Ia(rA,iA,"esm2020")}BU();const HU={apiKey:"AIzaSyBdcEGmCXwYX8y4vZ6xWSvqhpKeBzG3sjI",authDomain:"noc-timeline.firebaseapp.com",projectId:"noc-timeline",storageBucket:"noc-timeline.firebasestorage.app",messagingSenderId:"41507495114",appId:"1:41507495114:web:4d2118a77fb4be05142833"},ZN=XC(HU),He=dL(ZN),FU=VU(ZN),qU=(t=null)=>{const[e,n]=E.useState({total:0,startDone:0,endDone:0,matches:[]}),[r,i]=E.useState(0),[a,l]=E.useState(!0),u=ur(m=>m.currentUser),f=t||new Date().toISOString().split("T")[0];return E.useEffect(()=>{if(!u){n({total:0,startDone:0,endDone:0,matches:[]}),i(0),l(!1);return}l(!0);const m=rs(xn(He,"schedules"),vp("startDate","==",f),lr("startTime","asc")),p=tl(m,x=>{const w=x.docs.map(A=>({id:A.id,...A.data()}));n({total:w.length,startDone:w.filter(A=>A.hasStartStat).length,endDone:w.filter(A=>A.hasEndStat).length,matches:w}),l(!1)},x=>{x.code!=="permission-denied"&&console.error("Error fetching day matches:",x),l(!1)});return(async()=>{try{const x=rs(xn(He,"incidents"),vp("status","!=","Closed")),w=await RN(x);i(w.size)}catch(x){x.code!=="permission-denied"&&console.error("Error fetching incidents:",x)}})(),()=>p()},[f,u]),{daySummary:e,todaySummary:e,activeIncidents:r,loading:a,selectedDate:f}};function $U(){const t=Xc(),e=ur(i=>i.currentUser),{todaySummary:n,activeIncidents:r}=qU();return d.jsx("div",{className:"h-full bg-zinc-50 dark:bg-black p-8 md:p-12 overflow-y-auto custom-scrollbar flex flex-col justify-center",children:d.jsxs("div",{className:"max-w-5xl mx-auto w-full space-y-12",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-black italic uppercase tracking-tighter dark:text-white mb-4 leading-[0.9]",children:["NOC ",d.jsx("span",{className:"text-zinc-300 dark:text-zinc-700",children:"NTT"})," ",d.jsx("br",{}),d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-zinc-900 to-zinc-500 dark:from-white dark:to-zinc-600",children:"Management System"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"relative flex h-3 w-3",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500"})]}),d.jsxs("p",{className:"text-sm font-bold text-zinc-500 uppercase tracking-[0.2em]",children:["System Operational  Welcome, ",e]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{onClick:()=>t("/schedule/today"),className:"group bg-white dark:bg-[#111] p-8 rounded-[2.5rem] border border-zinc-200 dark:border-zinc-800 hover:border-black dark:hover:border-white transition-all cursor-pointer",children:[d.jsxs("div",{className:"flex justify-between items-start mb-10",children:[d.jsx("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl text-zinc-900 dark:text-white",children:d.jsx(dr,{size:28})}),d.jsx(qd,{className:"text-zinc-300 group-hover:text-black dark:group-hover:text-white transition-colors"})]}),d.jsx("div",{className:"text-5xl font-black dark:text-white mb-2",children:n.total}),d.jsx("div",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Matches Scheduled Today"})]}),d.jsxs("div",{onClick:()=>t("/incidents"),className:"group bg-white dark:bg-[#111] p-8 rounded-[2.5rem] border border-zinc-200 dark:border-zinc-800 hover:border-red-500 dark:hover:border-red-500 transition-all cursor-pointer relative overflow-hidden",children:[r>0&&d.jsx("div",{className:"absolute top-0 right-0 p-4",children:d.jsx("span",{className:"flex h-4 w-4 rounded-full bg-red-500 animate-pulse"})}),d.jsxs("div",{className:"flex justify-between items-start mb-10",children:[d.jsx("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl text-red-500",children:d.jsx(Ba,{size:28})}),d.jsx(qd,{className:"text-zinc-300 group-hover:text-red-500 transition-colors"})]}),d.jsx("div",{className:"text-5xl font-black dark:text-white mb-2",children:r}),d.jsx("div",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Active Incidents"})]})]})]})})}const Er="incidents",lc="events",Rs={subscribeIncidents:(t,e=100)=>{const n=rs(xn(He,Er),lr("createdAt","desc"),CN(e));return tl(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data(),status:a.data().status||"Open",type:a.data().type||"Incident",project:a.data().project||"General"}));t(i)},r=>{console.error("Incidents subscription error:",r),t([])})},subscribeEvents:(t,e)=>{const n=rs(xn(He,Er,t,lc),lr("order","asc"),lr("date","asc"),lr("time","asc"));return tl(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data(),imageUrls:a.data().imageUrls||[]}));e(i)},r=>{console.error("Events subscription error:",r),e([])})},createIncident:async t=>{try{const e={...t,status:t.status||"Open",type:t.type||"Incident",priority:t.priority||"Medium",project:t.project||"General",eventCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await rf(xn(He,Er),e)}catch(e){throw console.error("Create incident error:",e),new Error("Failed to create incident")}},updateIncident:async(t,e)=>{try{await qi(Mt(He,Er,t),{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Update incident error:",n),new Error("Failed to update incident")}},deleteIncident:async t=>{try{const e=xn(He,Er,t,lc),n=await RN(e),r=wp(He);n.docs.forEach(i=>{r.delete(i.ref)}),r.delete(Mt(He,Er,t)),await r.commit()}catch(e){throw console.error("Delete incident error:",e),new Error("Failed to delete incident")}},createEvent:async(t,e)=>{try{const n=await rf(xn(He,Er,t,lc),{...e,order:e.order||0,imageUrls:e.imageUrls||[],createdAt:new Date().toISOString()});return await qi(Mt(He,Er,t),{updatedAt:new Date().toISOString()}),n}catch(n){throw console.error("Create event error:",n),new Error("Failed to create event")}},updateEvent:async(t,e,n)=>{try{await qi(Mt(He,Er,t,lc,e),{...n,updatedAt:new Date().toISOString()}),await qi(Mt(He,Er,t),{updatedAt:new Date().toISOString()})}catch(r){throw console.error("Update event error:",r),new Error("Failed to update event")}},deleteEvent:async(t,e)=>{try{await yg(Mt(He,Er,t,lc,e)),await qi(Mt(He,Er,t),{updatedAt:new Date().toISOString()})}catch(n){throw console.error("Delete event error:",n),new Error("Failed to delete event")}},reorderEvents:async(t,e)=>{try{const n=wp(He);e.forEach(r=>{const i=Mt(He,Er,t,lc,r.id);n.update(i,{order:r.order})}),await n.commit()}catch(n){throw console.error("Reorder events error:",n),new Error("Failed to reorder events")}}},WU=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(null),[i,a]=E.useState(!0),[l,u]=E.useState(""),[f,m]=E.useState("All"),[p,b]=E.useState("All"),x=ur(j=>j.currentUser);E.useEffect(()=>{if(!x){e([]),a(!1);return}a(!0);const j=Rs.subscribeIncidents(z=>{e(z),a(!1)});return()=>j()},[x]);const w=E.useMemo(()=>t.filter(j=>{const z=l.toLowerCase(),M=!z||(j.subject||"").toLowerCase().includes(z)||(j.project||"").toLowerCase().includes(z)||(j.ticket||"").toLowerCase().includes(z)||(j.createdBy||"").toLowerCase().includes(z),P=f==="All"||j.status===f,H=p==="All"||j.type===p;return M&&P&&H}),[t,l,f,p]),A=E.useMemo(()=>{const j=t.length,z=t.filter(R=>R.status==="Open").length,M=t.filter(R=>R.status==="In Progress").length,P=t.filter(R=>R.status==="Monitoring").length,H=t.filter(R=>R.status==="Resolved").length,D=t.filter(R=>R.status==="Closed").length;return{total:j,open:z,inProgress:M,monitoring:P,resolved:H,closed:D}},[t]),S=E.useMemo(()=>[{status:"Open",count:A.open,color:"#ef4444"},{status:"In Progress",count:A.inProgress,color:"#3b82f6"},{status:"Monitoring",count:A.monitoring,color:"#f97316"},{status:"Resolved",count:A.resolved,color:"#10b981"},{status:"Closed",count:A.closed,color:"#6b7280"}].filter(j=>j.count>0),[A]),k=E.useCallback(()=>{u(""),m("All"),b("All")},[]);return{incidents:t,filteredIncidents:w,selectedId:n,setSelectedId:r,loading:i,searchTerm:l,setSearchTerm:u,filterStatus:f,setFilterStatus:m,filterType:p,setFilterType:b,clearFilters:k,hasActiveFilters:l||f!=="All"||p!=="All",stats:A,statusDistribution:S}},GU=t=>{const[e,n]=E.useState([]),[r,i]=E.useState(!1),[a,l]=E.useState(null),u=ur(p=>p.currentUser);E.useEffect(()=>{if(!u||!t){n([]),l(null),i(!1);return}i(!0),l(null);const p=Rs.subscribeEvents(t,b=>{n(b),i(!1)});return()=>p()},[t,u]);const f=[...e].sort((p,b)=>{if(typeof p.order=="number"&&typeof b.order=="number"&&p.order!==b.order)return p.order-b.order;const x=new Date(`${p.date||"1970-01-01"}T${p.time||"00:00"}`).getTime(),w=new Date(`${b.date||"1970-01-01"}T${b.time||"00:00"}`).getTime();return x-w}),m={total:e.length,withImages:e.filter(p=>p.imageUrls&&p.imageUrls.length>0).length,dateRange:e.length>0?{start:f[0]?.date,end:f[f.length-1]?.date}:null};return{events:e,sortedEvents:f,loading:r,error:a,stats:m}},YU=t=>{switch(t){case"Open":return{color:"bg-red-500",bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-600 dark:text-red-400",icon:gi,gradient:"from-red-500 to-rose-600"};case"In Progress":return{color:"bg-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-600 dark:text-blue-400",icon:ex,gradient:"from-blue-500 to-indigo-600"};case"Monitoring":return{color:"bg-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20",textColor:"text-orange-600 dark:text-orange-400",icon:Dn,gradient:"from-orange-500 to-amber-600"};case"Resolved":return{color:"bg-emerald-500",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-600 dark:text-emerald-400",icon:Kr,gradient:"from-emerald-500 to-teal-600"};case"Closed":return{color:"bg-zinc-400",bgColor:"bg-zinc-100 dark:bg-zinc-800",textColor:"text-zinc-500 dark:text-zinc-400",icon:tx,gradient:"from-zinc-400 to-zinc-500"};default:return{color:"bg-zinc-400",bgColor:"bg-zinc-100 dark:bg-zinc-800",textColor:"text-zinc-600 dark:text-zinc-400",icon:gi,gradient:"from-zinc-400 to-zinc-500"}}};function QU({incident:t,isSelected:e,onClick:n,onDelete:r}){const{color:i,bgColor:a,textColor:l,icon:u,gradient:f}=YU(t.status),m=t.createdAt?new Date(t.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short"}):"-";return d.jsxs("div",{onClick:n,className:`
        group relative p-5 rounded-2xl border transition-all duration-300 cursor-pointer overflow-hidden
        ${e?"bg-white dark:bg-[#0a0a0a] border-zinc-900 dark:border-zinc-500 shadow-xl scale-[1.01] z-10":"bg-white dark:bg-[#111] border-transparent hover:border-zinc-300 dark:hover:border-zinc-700 hover:shadow-lg hover:-translate-y-0.5"}
      `,children:[e&&d.jsx("div",{className:`absolute top-0 bottom-0 left-0 w-1.5 bg-gradient-to-b ${f}`}),d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${i} ${t.status==="Open"?"animate-pulse shadow-[0_0_8px_currentColor]":""}`}),d.jsx("span",{className:"text-[9px] font-black uppercase text-zinc-500 dark:text-zinc-400 tracking-wider",children:t.project||"SYSTEM"})]}),d.jsx("span",{className:`text-[8px] font-black uppercase px-2 py-1 rounded-full border border-transparent ${t.type==="Incident"?"bg-red-50 text-red-600 dark:bg-red-900/10 dark:text-red-400 dark:border-red-900/20":t.type==="Request"?"bg-blue-50 text-blue-600 dark:bg-blue-900/10 dark:text-blue-400 dark:border-blue-900/20":"bg-amber-50 text-amber-600 dark:bg-amber-900/10 dark:text-amber-400 dark:border-amber-900/20"}`,children:t.type||"Incident"})]}),!e&&d.jsx("button",{onClick:p=>{p.stopPropagation(),r(t.id)},className:"text-zinc-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transform translate-x-2 group-hover:translate-x-0",title:"Delete incident",children:d.jsx(Ja,{size:14})})]}),d.jsx("h3",{className:`font-black text-sm leading-snug mb-4 line-clamp-2 min-h-[2.5rem] transition-colors ${e?"text-black dark:text-white":"text-zinc-700 dark:text-zinc-300 group-hover:text-black dark:group-hover:text-white"}`,children:t.subject||"Untitled Incident"}),d.jsxs("div",{className:"flex items-center gap-4 mb-4 text-[10px] text-zinc-400 font-bold uppercase tracking-wider",children:[t.createdBy&&d.jsxs("span",{className:"flex items-center gap-1.5",children:[d.jsx(jC,{size:12,className:"text-zinc-300"})," ",t.createdBy.split(" ")[0]]}),d.jsxs("span",{className:"flex items-center gap-1.5",children:[d.jsx(dr,{size:12,className:"text-zinc-300"})," ",m]})]}),d.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-zinc-100 dark:border-zinc-800/50",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-zinc-400",children:[d.jsx(rx,{size:12}),d.jsx("span",{className:"text-[10px] font-mono font-bold",children:t.ticket||"NO-TICKET"})]}),d.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full ${a}`,children:[d.jsx(u,{size:12,className:l}),d.jsx("span",{className:`text-[9px] font-black uppercase tracking-wide ${l}`,children:t.status})]})]})]})}function XU({filteredIncidents:t,selectedId:e,onSelect:n,onAddIncident:r,onDeleteIncident:i,onExportCSV:a,stats:l,searchTerm:u,setSearchTerm:f,filterStatus:m,setFilterStatus:p,filterType:b,setFilterType:x,clearFilters:w,hasActiveFilters:A,loading:S}){const k=N=>{p(N===m?"All":N)};return d.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-black border-r border-zinc-200 dark:border-zinc-800 relative",children:[d.jsxs("div",{className:"p-5 flex flex-col gap-4 shrink-0 z-10 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white flex items-center gap-2",children:[d.jsx(z5,{size:20,className:"text-zinc-400"}),"INCIDENTS"]}),d.jsxs("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest pl-1 mt-1",children:[t?.length||0," of ",l?.total||0," cases"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>a(t),className:"h-9 w-9 flex items-center justify-center rounded-xl border border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",title:"Export CSV",children:d.jsx(nx,{size:18})}),d.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 h-9 rounded-xl text-[10px] font-black uppercase tracking-widest bg-black dark:bg-white text-white dark:text-black hover:opacity-80 transition-opacity shadow-sm",children:[d.jsx(m5,{size:16})," ",d.jsx("span",{className:"hidden sm:inline",children:"New"})]})]})]}),l&&d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1 [&::-webkit-scrollbar]:hidden",children:[{status:"Open",count:l.open,color:"bg-red-500",icon:gi},{status:"In Progress",count:l.inProgress,color:"bg-blue-500",icon:ex},{status:"Monitoring",count:l.monitoring,color:"bg-orange-500",icon:Dn},{status:"Resolved",count:l.resolved,color:"bg-emerald-500",icon:Kr},{status:"Closed",count:l.closed,color:"bg-zinc-400",icon:tx}].filter(N=>N.count>0).map(N=>d.jsxs("button",{onClick:()=>k(N.status),className:`flex items-center gap-1.5 px-2 py-1 rounded-lg text-[9px] font-bold shrink-0 transition-all ${m===N.status?"bg-black dark:bg-white text-white dark:text-black shadow-md":"bg-zinc-100 dark:bg-zinc-800 text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${N.color}`}),d.jsx("span",{className:"uppercase",children:N.status.split(" ")[0]}),d.jsx("span",{className:"font-mono",children:N.count})]},N.status))}),d.jsxs("div",{className:"relative",children:[d.jsx(Yd,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400"}),d.jsx("input",{type:"text",placeholder:"Search tickets, subjects...",value:u,onChange:N=>f(N.target.value),className:"w-full h-10 pl-10 pr-8 rounded-xl text-xs font-bold outline-none border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white focus:border-black dark:focus:border-white transition-all placeholder-zinc-400 dark:placeholder-zinc-600"}),u&&d.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-red-500 transition-colors",children:d.jsx(Bn,{size:14})})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsxs("select",{value:m,onChange:N=>p(N.target.value),className:"w-full h-9 pl-3 pr-8 bg-zinc-100 dark:bg-zinc-800 border-none rounded-lg text-[10px] font-black uppercase text-zinc-600 dark:text-zinc-300 appearance-none outline-none cursor-pointer hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:[d.jsx("option",{value:"All",children:"All Status"}),d.jsx("option",{value:"Open",children:"Open"}),d.jsx("option",{value:"In Progress",children:"In Progress"}),d.jsx("option",{value:"Monitoring",children:"Monitoring"}),d.jsx("option",{value:"Resolved",children:"Resolved"}),d.jsx("option",{value:"Closed",children:"Closed"})]}),d.jsx(Wd,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]}),d.jsxs("div",{className:"relative flex-1",children:[d.jsxs("select",{value:b,onChange:N=>x(N.target.value),className:"w-full h-9 pl-3 pr-8 bg-zinc-100 dark:bg-zinc-800 border-none rounded-lg text-[10px] font-black uppercase text-zinc-600 dark:text-zinc-300 appearance-none outline-none cursor-pointer hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",children:[d.jsx("option",{value:"All",children:"All Types"}),d.jsx("option",{value:"Incident",children:"Incident"}),d.jsx("option",{value:"Request",children:"Request"}),d.jsx("option",{value:"Maintenance",children:"Maint."})]}),d.jsx(Wd,{size:12,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]}),A&&d.jsx("button",{onClick:w,className:"h-9 w-9 flex items-center justify-center rounded-lg bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"Clear all filters",children:d.jsx(zC,{size:14})})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar bg-zinc-50 dark:bg-[#050505]",children:S?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-3",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-zinc-300 border-t-black dark:border-zinc-700 dark:border-t-white rounded-full animate-spin"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Loading..."})]}):t?.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50 space-y-3",children:[d.jsx(Yd,{size:32,className:"text-zinc-300 dark:text-zinc-700"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:A?"No matching cases":"No incidents yet"}),A&&d.jsx("button",{onClick:w,className:"text-[10px] font-bold text-blue-500 hover:underline",children:"Clear Filters"})]}):t.map(N=>d.jsx(QU,{incident:N,isSelected:e===N.id,onClick:()=>n(N.id),onDelete:i},N.id))})]})}const JN=t=>{if(!t)return"";try{if(t.includes("drive.google.com")||t.includes("docs.google.com")){let e="";const n=t.match(/\/d\/(.+?)\//);if(n&&n[1]?e=n[1]:e=new URLSearchParams(new URL(t).search).get("id"),e)return`https://lh3.googleusercontent.com/d/${e}`}if(t.includes("dropbox.com")){const e=new URL(t);return e.searchParams.set("raw","1"),e.searchParams.delete("dl"),e.toString()}return t}catch(e){return console.warn("Error parsing image URL:",e),t}};function KU({event:t,index:e,isLastItem:n,showDateHeader:r,dateLabel:i,onMove:a,onEdit:l,onDelete:u}){let f=t.imageUrls||[];!f.length&&t.image&&(f=[t.image]),!f.length&&t.imageUrl&&(f=[t.imageUrl]);const m=t.desc&&t.desc.trim().length>0,p=f.length>0;return d.jsxs("div",{className:"relative flex items-start gap-3 md:gap-4 mb-6 z-10 group/item animate-in fade-in slide-in-from-left-2 duration-300",children:[d.jsxs("div",{className:"flex-none flex flex-col items-center w-16 pt-[6px]",children:[d.jsx("div",{className:`
          w-3 h-3 rounded-full bg-white dark:bg-zinc-900 border-[3px] border-black dark:border-white shadow-sm z-20 transition-all
          ${e===0?"ring-4 ring-black/10 dark:ring-white/10":""}
          group-hover/item:scale-125
        `}),d.jsx("div",{className:"mt-1.5",children:d.jsx("span",{className:"font-mono text-[10px] font-bold text-gray-500 dark:text-zinc-500 bg-gray-100 dark:bg-zinc-900 px-1.5 py-0.5 rounded",children:t.time})}),p&&d.jsx("div",{className:"mt-1 text-zinc-400",children:d.jsx(T5,{size:10})})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[r&&d.jsx("div",{className:"mb-3 -mt-2",children:d.jsx("span",{className:"inline-block text-[9px] font-black text-white dark:text-black uppercase tracking-widest bg-gradient-to-r from-black to-zinc-700 dark:from-white dark:to-zinc-300 px-3 py-1 rounded-full shadow-sm",children:i})}),d.jsxs("div",{className:"bg-white dark:bg-[#111] p-3 md:p-4 rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-sm flex gap-3 relative hover:border-black dark:hover:border-white transition-all group-hover/item:shadow-md",children:[d.jsxs("div",{className:"flex flex-col gap-1 justify-center border-r pr-2 border-gray-100 dark:border-zinc-800 opacity-100 lg:opacity-0 lg:group-hover/item:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>a(e,"up"),disabled:e===0,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-zinc-800 rounded transition-colors",title:"Move up",children:d.jsx(AC,{size:14})}),d.jsx("button",{onClick:()=>a(e,"down"),disabled:n,className:"p-1 text-gray-300 hover:text-black dark:hover:text-white disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-zinc-800 rounded transition-colors",title:"Move down",children:d.jsx(Rc,{size:14})})]}),d.jsxs("div",{className:"flex-1 min-w-0 relative pr-12 md:pr-14",children:[d.jsxs("div",{className:"absolute top-0 right-0 flex gap-1 opacity-100 lg:opacity-0 lg:group-hover/item:opacity-100 transition-opacity bg-white dark:bg-[#111] pl-2 pb-2 rounded-bl-xl",children:[d.jsx("button",{onClick:()=>l(t),className:"p-1.5 text-gray-400 hover:text-blue-500 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Edit event",children:d.jsx(ix,{size:12})}),d.jsx("button",{onClick:()=>u(t.id),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete event",children:d.jsx(Ja,{size:12})})]}),d.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap pt-0.5",children:m?t.desc:d.jsx("span",{className:"text-gray-400 dark:text-zinc-600 italic font-normal",children:"No details provided."})}),p&&d.jsx("div",{className:`grid gap-2 mt-3 ${f.length===1?"grid-cols-1 max-w-[200px]":f.length===2?"grid-cols-2 max-w-[400px]":"grid-cols-2 sm:grid-cols-3"}`,children:f.map((b,x)=>d.jsxs("div",{className:"relative group/image rounded-lg overflow-hidden border border-gray-200 dark:border-zinc-800 bg-gray-50 dark:bg-zinc-900 aspect-video",children:[d.jsx("img",{src:JN(b),className:"w-full h-full object-cover transition-transform duration-500 group-hover/image:scale-110",alt:`Evidence ${x+1}`,loading:"lazy",onError:w=>{w.target.onerror=null,w.target.src="https://placehold.co/300x200/222/fff?text=Image+Error"}}),d.jsx("a",{href:b,target:"_blank",rel:"noreferrer",className:"absolute inset-0 bg-black/0 hover:bg-black/30 transition-colors flex items-center justify-center opacity-0 hover:opacity-100",children:d.jsx(c5,{size:16,className:"text-white drop-shadow-lg"})}),f.length>1&&d.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[8px] font-bold px-1.5 py-0.5 rounded",children:[x+1,"/",f.length]})]},x))})]})]})]})]})}function ZU({value:t,onChange:e,folder:n="uploads",placeholder:r="Paste image URL..."}){const[i,a]=E.useState("url"),[l,u]=E.useState(!1),[f,m]=E.useState(0),[p,b]=E.useState(""),x=E.useRef(null);E.useEffect(()=>{t||(m(0),b(""))},[t]);const w=async k=>{const N=k.target.files[0];if(N){if(!N.type.startsWith("image/")){b("Please select an image file only.");return}if(N.size>2*1024*1024){b("Image size should be less than 2MB.");return}b(""),u(!0);try{const j=PU(FU,`${n}/${Date.now()}_${N.name}`),z=OU(j,N);z.on("state_changed",M=>{const P=M.bytesTransferred/M.totalBytes*100;m(Math.round(P))},M=>{console.error(M),M.message.includes("billing")||M.code==="storage/unauthorized"?b("Storage not enabled. Please use URL mode."):b("Upload failed. Try URL mode."),u(!1)},async()=>{const M=await IU(z.snapshot.ref);e(M),u(!1)})}catch(j){console.error(j),b("Error starting upload."),u(!1)}}},A=k=>{e(k.target.value),b("")},S=()=>{e(""),m(0),b(""),x.current&&(x.current.value="")};return d.jsxs("div",{className:"space-y-3",children:[!t&&d.jsxs("div",{className:"flex bg-zinc-200/50 dark:bg-zinc-800 p-1 rounded-xl",children:[d.jsxs("button",{type:"button",onClick:()=>a("url"),className:`flex-1 py-2 text-[10px] font-black uppercase rounded-lg flex items-center justify-center gap-2 transition-all duration-200 ${i==="url"?"bg-white dark:bg-zinc-700 text-black dark:text-white shadow-sm scale-100":"text-zinc-400 hover:text-zinc-600 hover:bg-black/5 dark:hover:bg-white/5 scale-95"}`,children:[d.jsx(US,{size:14})," Link URL"]}),d.jsxs("button",{type:"button",onClick:()=>a("upload"),className:`flex-1 py-2 text-[10px] font-black uppercase rounded-lg flex items-center justify-center gap-2 transition-all duration-200 ${i==="upload"?"bg-white dark:bg-zinc-700 text-black dark:text-white shadow-sm scale-100":"text-zinc-400 hover:text-zinc-600 hover:bg-black/5 dark:hover:bg-white/5 scale-95"}`,children:[d.jsx(r5,{size:14})," Upload"]})]}),t?d.jsxs("div",{className:"relative flex items-center gap-3 p-2 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-sm animate-in fade-in zoom-in-95",children:[d.jsx("div",{className:"h-10 w-10 shrink-0 rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700",children:d.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-[10px] font-bold text-zinc-600 dark:text-zinc-300 truncate",children:t}),d.jsxs("p",{className:"text-[9px] font-bold text-green-500 flex items-center gap-1",children:[d.jsx(gf,{size:10})," Image Ready"]})]}),d.jsx("button",{type:"button",onClick:S,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-400 hover:text-red-500 transition-all hover:rotate-90 active:scale-90",children:d.jsx(Bn,{size:16})})]}):i==="upload"?d.jsxs("div",{onClick:()=>!l&&x.current?.click(),className:`
              relative border-2 border-dashed rounded-xl h-14 flex items-center justify-center cursor-pointer transition-all duration-200 group
              ${l?"bg-zinc-50 border-zinc-300 cursor-wait":"border-zinc-300 hover:border-violet-500 hover:bg-violet-50 dark:border-zinc-700 dark:hover:border-violet-500 dark:hover:bg-violet-900/10 active:scale-[0.99]"}
            `,children:[l?d.jsxs("div",{className:"flex items-center gap-3 text-violet-600",children:[d.jsx(Ua,{size:18,className:"animate-spin"}),d.jsxs("span",{className:"text-xs font-bold",children:["Uploading... ",f,"%"]})]}):d.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 group-hover:text-violet-600 transition-colors",children:[d.jsx(NC,{size:18}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Choose File"})]}),d.jsx("input",{type:"file",ref:x,onChange:w,accept:"image/*",className:"hidden",disabled:l})]}):d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"text",placeholder:r,onChange:A,className:"w-full h-14 px-4 rounded-xl border-2 border-zinc-200 dark:border-zinc-800 bg-transparent text-sm font-medium outline-none focus:border-violet-500 focus:bg-violet-50/10 transition-all placeholder:text-zinc-400"}),d.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none group-focus-within:text-violet-500 transition-colors",children:d.jsx(US,{size:16})})]}),p&&d.jsxs("p",{className:"text-[10px] font-bold text-red-500 flex items-center gap-1.5 animate-pulse ml-1",children:[d.jsx(gi,{size:12})," ",p]})]})}function JU({isOpen:t,onClose:e,onSubmit:n,initialData:r,saving:i=!1}){const[a,l]=E.useState({date:"",time:"",desc:"",imageUrls:[]}),[u,f]=E.useState(""),[m,p]=E.useState({});E.useEffect(()=>{const N=j=>{j.key==="Escape"&&!i&&e()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[e,i]),E.useEffect(()=>{if(t){if(r){let N=r.imageUrls||[];!N.length&&r.image&&(N=[r.image]),l({...r,imageUrls:N})}else{const N=new Date;l({date:N.toISOString().split("T")[0],time:`${String(N.getHours()).padStart(2,"0")}:${String(N.getMinutes()).padStart(2,"0")}`,desc:"",imageUrls:[]})}f(""),p({})}},[t,r]);const b=()=>{u&&!a.imageUrls.includes(u)&&(l(N=>({...N,imageUrls:[...N.imageUrls,u]})),f(""))},x=N=>{l(j=>({...j,imageUrls:j.imageUrls.filter((z,M)=>M!==N)}))},w=()=>{const N={};return a.date||(N.date="Required"),a.time||(N.time="Required"),a.desc?.trim()||(N.desc="Description is required"),p(N),Object.keys(N).length===0},A=N=>{if(N.preventDefault(),!w())return;let j=[...a.imageUrls];u&&!j.includes(u)&&j.push(u);const z=a.title||a.desc.trim().split(`
`)[0].substring(0,50)+(a.desc.length>50?"...":"")||"Log Update";n({...a,title:z,imageUrls:j,image:null})};if(!t)return null;const S=`
    w-full bg-zinc-50 dark:bg-zinc-800/50 
    border border-zinc-200 dark:border-zinc-700 
    rounded-xl p-3.5 text-sm font-medium 
    text-zinc-900 dark:text-zinc-100
    outline-none transition-all duration-200 ease-out
    focus:bg-white dark:focus:bg-zinc-800 
    focus:border-black dark:focus:border-zinc-500
    focus:ring-4 focus:ring-zinc-100 dark:focus:ring-zinc-800/50
    focus:shadow-sm
    placeholder:text-zinc-400
  `,k="text-[10px] font-bold text-zinc-400 uppercase tracking-wider mb-2 flex items-center gap-1.5 ml-1";return d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",children:[d.jsx("div",{className:"absolute inset-0 bg-zinc-900/40 dark:bg-black/80 backdrop-blur-md transition-opacity duration-300",onClick:e}),d.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-[#121212] rounded-[2rem] shadow-2xl ring-1 ring-zinc-900/5 dark:ring-white/10 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 ease-out",children:[d.jsxs("div",{className:"px-6 py-5 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-white/80 dark:bg-[#121212]/80 backdrop-blur-xl z-10 sticky top-0",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white tracking-tight flex items-center gap-2",children:[r?d.jsx(es,{className:"text-blue-500",size:20}):d.jsx(Dn,{className:"text-violet-500",size:20}),r?"Edit Event":"New Event"]}),d.jsx("p",{className:"text-xs text-zinc-500 font-medium mt-0.5 ml-7",children:r?"Update incident timeline details":"Record a new update to timeline"})]}),d.jsx("button",{onClick:e,disabled:i,className:"p-2.5 -mr-2 text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-all duration-200 hover:rotate-90 active:scale-90",children:d.jsx(Bn,{size:22})})]}),d.jsxs("form",{onSubmit:A,className:"flex-1 overflow-y-auto custom-scrollbar",children:[d.jsxs("div",{className:"p-6 space-y-7",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:k,children:[d.jsx(dr,{size:12})," Date"]}),d.jsx("input",{type:"date",className:`${S} ${m.date?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:a.date,onChange:N=>l({...a,date:N.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:k,children:[d.jsx(Dn,{size:12})," Time"]}),d.jsx("input",{type:"time",className:`${S} ${m.time?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:a.time,onChange:N=>l({...a,time:N.target.value})})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("label",{className:k,children:[d.jsx(es,{size:12})," Description"]}),d.jsx("textarea",{rows:4,placeholder:"What happened? Describe the details...",className:`${S} resize-none leading-relaxed min-h-[120px] ${m.desc?"border-red-500 focus:border-red-500 focus:ring-red-100":""}`,value:a.desc,onChange:N=>l({...a,desc:N.target.value})}),m.desc&&d.jsxs("p",{className:"text-[10px] font-bold text-red-500 mt-1.5 flex items-center gap-1.5 animate-pulse ml-1",children:[d.jsx(gi,{size:10})," ",m.desc]})]}),d.jsxs("div",{className:"space-y-4 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:[d.jsxs("div",{className:"flex items-center justify-between px-1",children:[d.jsxs("label",{className:k.replace("mb-2","mb-0"),children:[d.jsx(NC,{size:12})," Attachments"]}),d.jsxs("span",{className:`text-[10px] font-bold px-2 py-1 rounded-md ${a.imageUrls.length>0?"bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-white":"text-zinc-300"}`,children:[a.imageUrls.length," Files"]})]}),d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/30 p-2 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 flex gap-2",children:[d.jsx("div",{className:"flex-1",children:d.jsx(ZU,{value:u,onChange:f,folder:"incidents",placeholder:"Paste image URL here..."})}),d.jsx("button",{type:"button",onClick:b,disabled:!u,className:"w-14 shrink-0 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-xl hover:bg-black dark:hover:bg-zinc-200 hover:shadow-lg hover:shadow-zinc-300 dark:hover:shadow-none hover:-translate-y-0.5 active:translate-y-0 active:scale-95 transition-all duration-200 disabled:opacity-30 disabled:transform-none disabled:shadow-none flex items-center justify-center",title:"Add Image",children:d.jsx(ep,{size:24,strokeWidth:3})})]}),a.imageUrls.length>0&&d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.imageUrls.map((N,j)=>d.jsxs("div",{className:"group relative aspect-square rounded-xl overflow-hidden bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 shadow-sm hover:shadow-md transition-shadow",children:[d.jsx("img",{src:JN(N),alt:`attachment-${j}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:z=>{z.target.src="https://placehold.co/100?text=Error"}}),d.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center backdrop-blur-[1px]",children:d.jsx("button",{type:"button",onClick:()=>x(j),className:"p-2.5 bg-white/90 text-red-500 rounded-full shadow-lg hover:bg-red-500 hover:text-white hover:scale-110 active:scale-90 transition-all duration-200",title:"Remove Image",children:d.jsx(Ja,{size:16})})}),d.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[8px] px-1.5 py-0.5 rounded font-bold backdrop-blur-sm pointer-events-none",children:["#",j+1]})]},j))})]})]}),d.jsx("div",{className:"p-6 pt-4 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 backdrop-blur-sm sticky bottom-0",children:d.jsxs("button",{type:"submit",disabled:i,className:"w-full h-14 bg-gradient-to-r from-zinc-900 to-zinc-800 dark:from-white dark:to-zinc-200 text-white dark:text-black rounded-xl font-black text-sm uppercase tracking-widest shadow-lg shadow-zinc-500/20 dark:shadow-zinc-900/50 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 active:scale-[0.98] transition-all duration-200 disabled:opacity-50 disabled:transform-none disabled:shadow-none flex items-center justify-center gap-3",children:[i?d.jsx(Ua,{size:18,className:"animate-spin"}):d.jsx(Xp,{size:18}),i?"Saving...":"Save Timeline Event"]})})]})]})]})}function e8({isOpen:t,onClose:e,text:n,incident:r}){const[i,a]=be.useState(!1),[l,u]=be.useState("preview"),f=E.useMemo(()=>{if(r){const S=(r.events||[]).map(k=>({date:k.date?new Date(k.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}):"-",time:k.time,desc:k.desc||k.title,originalDate:k.date}));return{meta:{Project:r.project||"-",Subject:r.subject||"-",Status:r.status||"-",Ticket:r.ticket||"-"},details:{Impact:r.impact||"-","Root Cause":r.root_cause||"-","Action Taken":r.action||"-"},timeline:S}}if(!n)return null;const b={meta:{},details:{},timeline:[]},x=n.split(`
`);let w=!1,A="";return x.forEach(S=>{const k=S.trim();if(!k)return;const N=S.indexOf(":");if(!w&&N!==-1&&N<20){const j=S.substring(0,N).trim(),z=S.substring(N+1).trim();["Project","Subject","Status","Ticket"].includes(j)?b.meta[j]=z:(["Impact","Root Cause","Action Taken"].includes(j),b.details[j]=z)}else if(w=!0,k.length<20&&/\d/.test(k)&&!k.includes("-"))A=k;else{const z=k.match(/^(\d{1,2}:\d{2})(?:\s*:|\s*-|\s*\.)?\s*(.*)/);z?b.timeline.push({date:A,time:z[1],desc:z[2]||""}):b.timeline.push({date:A,time:null,desc:k})}}),b},[n,r]),m=async()=>{try{await navigator.clipboard.writeText(n),a(!0),setTimeout(()=>{a(!1),e()},1e3)}catch(b){console.error("Failed to copy:",b);const x=document.createElement("textarea");x.value=n,document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),a(!0),setTimeout(()=>{a(!1),e()},1e3)}},p=()=>{const b=new Blob([n],{type:"text/plain;charset=utf-8"}),x=URL.createObjectURL(b),w=document.createElement("a");w.href=x,w.download=`Incident_Report_${f?.meta.Ticket||"Draft"}.txt`,w.click(),URL.revokeObjectURL(x)};return be.useEffect(()=>{const b=x=>{x.key==="Escape"&&t&&e()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[t,e]),t?d.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 transition-all",onClick:e,children:d.jsxs("div",{className:"bg-white dark:bg-[#09090b] w-full max-w-3xl h-[85vh] rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 relative",onClick:b=>b.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center px-6 py-5 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 backdrop-blur-md",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-sm",children:d.jsx(es,{size:24,className:"text-zinc-900 dark:text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-black text-lg text-zinc-900 dark:text-white uppercase tracking-tight",children:"Report Preview"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("button",{onClick:()=>u("preview"),className:`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-md transition-all ${l==="preview"?"bg-zinc-900 text-white dark:bg-white dark:text-black":"text-zinc-400 hover:text-zinc-600"}`,children:"Visual"}),d.jsx("div",{className:"w-[1px] h-3 bg-zinc-300 dark:bg-zinc-700"}),d.jsx("button",{onClick:()=>u("raw"),className:`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-md transition-all ${l==="raw"?"bg-zinc-900 text-white dark:bg-white dark:text-black":"text-zinc-400 hover:text-zinc-600"}`,children:"Raw Text"})]})]})]}),d.jsx("button",{onClick:e,className:"p-2 text-zinc-400 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors",children:d.jsx(Bn,{size:20})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white dark:bg-[#09090b]",children:l==="raw"?d.jsx("textarea",{readOnly:!0,value:n,className:"w-full h-full p-6 font-mono text-xs font-medium text-zinc-600 dark:text-zinc-300 bg-transparent resize-none border-none outline-none leading-relaxed"}):d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f?.meta&&Object.entries(f.meta).map(([b,x])=>d.jsxs("div",{className:"p-4 rounded-2xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400 block mb-1",children:b}),d.jsx("span",{className:"text-sm font-bold text-zinc-900 dark:text-white block truncate",children:x})]},b))}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"text-xs font-black uppercase tracking-widest text-zinc-400 flex items-center gap-2",children:[d.jsx(Ar,{size:14})," Incident Details"]}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:f?.details&&Object.entries(f.details).map(([b,x])=>{let w=Ar;return b.includes("Impact")&&(w=Ba),b.includes("Root")&&(w=zP),b.includes("Action")&&(w=jP),d.jsxs("div",{className:"relative pl-4 border-l-2 border-zinc-200 dark:border-zinc-800",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(w,{size:12,className:"text-zinc-400"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:b})]}),d.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 font-medium whitespace-pre-wrap leading-relaxed",children:x==="-"?d.jsx("span",{className:"text-zinc-300 italic",children:"No description provided"}):x})]},b)})})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t border-zinc-100 dark:border-zinc-900",children:[d.jsxs("h4",{className:"text-xs font-black uppercase tracking-widest text-zinc-400 flex items-center gap-2",children:[d.jsx(Dn,{size:14})," Timeline"]}),d.jsxs("div",{className:"relative space-y-6",children:[d.jsx("div",{className:"absolute top-2 bottom-2 left-[7px] w-[2px] bg-zinc-100 dark:bg-zinc-800"}),f?.timeline.map((b,x)=>d.jsxs("div",{className:"relative pl-8",children:[d.jsx("div",{className:"absolute left-[2px] top-[6px] w-3 h-3 rounded-full border-2 border-white dark:border-black bg-zinc-300 dark:bg-zinc-700 z-10"}),(x===0||b.date!==f.timeline[x-1].date)&&d.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[d.jsx(dr,{size:12,className:"text-zinc-400"}),d.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:b.date})]}),d.jsxs("div",{className:"p-3 rounded-xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800",children:[b.time&&d.jsx("span",{className:"block text-xs font-black text-zinc-900 dark:text-white mb-0.5",children:b.time}),d.jsx("span",{className:"block text-xs text-zinc-600 dark:text-zinc-400",children:b.desc})]})]},x)),f?.timeline.length===0&&d.jsx("div",{className:"text-center py-8 text-zinc-400 text-xs italic",children:"No timeline events recorded."})]})]})]})}),d.jsxs("div",{className:"p-5 border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-[#09090b] flex justify-end gap-3 z-10",children:[d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest bg-zinc-100 dark:bg-zinc-900 text-zinc-600 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:[d.jsx(nx,{size:16})," Download"]}),d.jsx("button",{onClick:m,disabled:i,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all shadow-lg hover:-translate-y-0.5 active:translate-y-0 ${i?"bg-emerald-500 text-white shadow-emerald-500/20":"bg-zinc-900 dark:bg-white text-white dark:text-black hover:shadow-xl"}`,children:i?d.jsxs(d.Fragment,{children:[d.jsx(gf,{size:16})," Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx($d,{size:16})," Copy to Clipboard"]})})]})]})}):null}function t8({incident:t,onUpdate:e,onBack:n,onGenerateReport:r}){const i=p=>{switch(p){case"Open":return{bg:"bg-red-50 dark:bg-red-900/10",text:"text-red-600 dark:text-red-400",border:"border-red-100 dark:border-red-900/30",icon:gi};case"In Progress":return{bg:"bg-blue-50 dark:bg-blue-900/10",text:"text-blue-600 dark:text-blue-400",border:"border-blue-100 dark:border-blue-900/30",icon:ex};case"Monitoring":return{bg:"bg-orange-50 dark:bg-orange-900/10",text:"text-orange-600 dark:text-orange-400",border:"border-orange-100 dark:border-orange-900/30",icon:Dn};case"Resolved":return{bg:"bg-emerald-50 dark:bg-emerald-900/10",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-100 dark:border-emerald-900/30",icon:Kr};case"Closed":return{bg:"bg-zinc-100 dark:bg-zinc-800",text:"text-zinc-500 dark:text-zinc-400",border:"border-zinc-200 dark:border-zinc-700",icon:tx};default:return{bg:"bg-zinc-50",text:"text-zinc-700",border:"border-zinc-200",icon:gi}}},a=p=>{switch(p){case"Critical":return{color:"text-red-600",icon:Ba,bg:"bg-red-100 dark:bg-red-900/20"};case"High":return{color:"text-orange-500",icon:Ba,bg:"bg-orange-100 dark:bg-orange-900/20"};case"Medium":return{color:"text-yellow-500",icon:$b,bg:"bg-yellow-100 dark:bg-yellow-900/20"};case"Low":return{color:"text-blue-500",icon:$b,bg:"bg-blue-100 dark:bg-blue-900/20"};default:return{color:"text-zinc-500",icon:$b,bg:"bg-zinc-100 dark:bg-zinc-800"}}},l=i(t.status),u=l.icon,f=a(t.priority||"Medium"),m=f.icon;return d.jsxs("div",{className:"relative px-6 py-6 border-b border-zinc-200 dark:border-zinc-800 z-20 shrink-0 bg-white dark:bg-[#080808]",children:[d.jsx("div",{className:"lg:hidden mb-4",children:d.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-zinc-500 hover:text-black dark:hover:text-white font-black uppercase text-[10px] tracking-widest px-3 py-2 rounded-xl bg-zinc-50 dark:bg-zinc-800/50 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:[d.jsx(D4,{size:14})," BACK TO LIST"]})}),d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${l.bg} ${l.border} border transition-colors`,children:[d.jsx(u,{size:14,className:l.text}),d.jsx("select",{value:t.status||"Open",onChange:p=>e({status:p.target.value}),className:`bg-transparent font-black uppercase text-[10px] tracking-widest cursor-pointer outline-none ${l.text}`,children:["Open","In Progress","Monitoring","Resolved","Closed"].map(p=>d.jsx("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:p,children:p},p))}),d.jsx(Rc,{size:12,className:`opacity-50 ${l.text} pointer-events-none`})]}),d.jsx("div",{className:"h-4 w-[1px] bg-zinc-200 dark:bg-zinc-800"}),d.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${f.bg} transition-colors`,children:[d.jsx(m,{size:14,className:f.color}),d.jsx("select",{value:t.priority||"Medium",onChange:p=>e({priority:p.target.value}),className:`bg-transparent font-bold uppercase text-[10px] tracking-wider cursor-pointer outline-none ${f.color}`,children:["Critical","High","Medium","Low"].map(p=>d.jsxs("option",{className:"bg-white dark:bg-zinc-900 text-black dark:text-white",value:p,children:[p," Priority"]},p))}),d.jsx(Rc,{size:12,className:`opacity-50 ${f.color} pointer-events-none`})]}),d.jsx("div",{className:"hidden sm:block h-4 w-[1px] bg-zinc-200 dark:bg-zinc-800"}),d.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-zinc-400",children:[d.jsx(dr,{size:14}),d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:t.createdAt?new Date(t.createdAt).toLocaleDateString("en-GB"):"-"})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 text-zinc-500 hover:text-blue-500 bg-zinc-50 dark:bg-zinc-800/50 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"Generate Report",children:[d.jsx(es,{size:16})," ",d.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Report"})]})})]}),d.jsx("div",{children:d.jsx("input",{type:"text",className:"w-full text-2xl md:text-3xl font-black text-zinc-900 dark:text-white placeholder-zinc-300 dark:placeholder-zinc-700 border-none bg-transparent p-0 focus:ring-0 leading-tight transition-colors",value:t.subject||"",onChange:p=>e({subject:p.target.value}),placeholder:"Incident Subject..."})})]})}function n8({incident:t,onUpdate:e}){const n="w-full bg-transparent border-b border-zinc-200 dark:border-zinc-800 hover:border-zinc-400 dark:hover:border-zinc-600 focus:border-black dark:focus:border-white font-bold text-xs text-zinc-900 dark:text-white transition-all pb-1 placeholder-zinc-400 dark:placeholder-zinc-600 outline-none",r="block text-[9px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2 flex items-center gap-1.5";return d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 px-6 py-4 bg-zinc-50/50 dark:bg-zinc-900/20 border-b border-zinc-200 dark:border-zinc-800",children:[d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:r,children:[d.jsx(x5,{size:10})," Project"]}),d.jsx("input",{type:"text",className:n,value:t.project||"",onChange:i=>e({project:i.target.value}),placeholder:"Project Name"})]}),d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:r,children:[d.jsx(MC,{size:10})," Type"]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:t.type||"Incident",onChange:i=>e({type:i.target.value}),className:`${n} appearance-none cursor-pointer`,children:[d.jsx("option",{className:"dark:bg-zinc-800",value:"Incident",children:"Incident"}),d.jsx("option",{className:"dark:bg-zinc-800",value:"Request",children:"Request"}),d.jsx("option",{className:"dark:bg-zinc-800",value:"Maintenance",children:"Maint."})]}),d.jsx(Rc,{size:12,className:"absolute right-0 top-1 text-zinc-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:r,children:[d.jsx(rx,{size:10})," Ticket ID"]}),d.jsx("input",{type:"text",className:`${n} font-mono text-blue-600 dark:text-blue-400`,value:t.ticket||"",onChange:i=>e({ticket:i.target.value}),placeholder:"NO-TICKET"})]}),d.jsxs("div",{className:"group",children:[d.jsxs("label",{className:r,children:[d.jsx(jC,{size:10})," Reporter"]}),d.jsx("div",{className:"flex items-center gap-2 py-0.5 border-b border-zinc-200 dark:border-zinc-800 opacity-70",children:d.jsx("span",{className:"text-xs font-bold text-zinc-900 dark:text-white truncate",children:t.createdBy||"Unknown"})})]})]})}function r8({incident:t,onUpdate:e}){const n="block text-[9px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2",r="w-full text-xs font-medium text-zinc-700 dark:text-zinc-300 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl p-3 border border-zinc-200 dark:border-zinc-800 focus:bg-white dark:focus:bg-zinc-900 focus:border-black dark:focus:border-white transition-all resize-none placeholder-zinc-400 outline-none min-h-[80px]";return d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 px-6 py-6 border-b border-zinc-200 dark:border-zinc-800",children:["impact","root_cause","action"].map(i=>d.jsxs("div",{className:"relative group",children:[d.jsx("label",{className:n,children:i.replace("_"," ")}),d.jsx("textarea",{className:r,value:t[i]||"",onChange:a=>e({[i]:a.target.value}),placeholder:`Describe ${i.replace("_"," ")}...`})]},i))})}function i8({incident:t,isLoading:e,onUpdateIncident:n,onAddEvent:r,onDeleteEvent:i,onUpdateEvent:a,onReorderEvent:l,onBack:u}){const[f,m]=E.useState(!1),[p,b]=E.useState(null),[x,w]=E.useState(!1),[A,S]=E.useState("");if(!t)return d.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-zinc-50 dark:bg-[#050505] transition-colors",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-zinc-100 to-zinc-200 dark:from-zinc-800 dark:to-zinc-900 flex items-center justify-center mb-6 shadow-inner",children:d.jsx(qd,{size:32,className:"text-zinc-300 dark:text-zinc-600"})}),d.jsx("p",{className:"font-black text-zinc-400 dark:text-zinc-600 uppercase tracking-widest text-xs",children:"Select an incident to view details"})]});const k=[...t.events||[]].sort((M,P)=>{if(typeof M.order=="number"&&typeof P.order=="number"&&M.order!==P.order)return M.order-P.order;const H=new Date(`${M.date||"1970-01-01"}T${M.time||"00:00"}`).getTime(),D=new Date(`${P.date||"1970-01-01"}T${P.time||"00:00"}`).getTime();return H-D}),N=(M,P)=>{const H=[...k],D=P==="up"?M-1:M+1;if(D<0||D>=H.length)return;[H[M],H[D]]=[H[D],H[M]];const R=H.map((I,L)=>({...I,order:L}));l&&l(t.id,R)},j=M=>{n(t.id,M)},z=()=>{const P=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"2-digit"}).replace(/ /g,"-").toLowerCase(),H={};k.forEach(R=>{const L=(R.date?new Date(R.date):new Date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"});H[L]||(H[L]=[]),H[L].push(R)});let D=`Project: ${t.project||"-"}
Subject: ${t.type||"Incident"} | ${t.subject||"-"} | ${P}
Status: ${t.status||"-"}
Ticket: ${t.ticket||"-"}
Impact: ${t.impact||"-"}
Root Cause: ${t.root_cause||"-"}
Action Taken: ${t.action||"-"}

`;Object.keys(H).forEach(R=>{D+=`${R}
`,H[R].forEach(I=>D+=`${I.time} - ${I.desc||I.title}
`),D+=`
`}),S(D),w(!0)};return d.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-[#080808] relative transition-colors duration-300 overflow-hidden",children:[d.jsx(t8,{incident:t,onUpdate:j,onBack:u,onGenerateReport:z}),d.jsx(n8,{incident:t,onUpdate:j}),d.jsx(r8,{incident:t,onUpdate:j}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-8 custom-scrollbar bg-zinc-50/50 dark:bg-black relative min-h-0",children:e?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400 gap-4",children:[d.jsx("div",{className:"w-10 h-10 border-4 border-zinc-200 border-t-black dark:border-t-white rounded-full animate-spin"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] animate-pulse",children:"Loading Timeline..."})]}):k.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-300 dark:text-zinc-700 pb-20",children:[d.jsx(Dn,{size:48,className:"mb-4 opacity-50"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"No timeline events recorded"}),d.jsx("button",{onClick:()=>{b(null),m(!0)},className:"mt-6 px-6 py-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase shadow-sm hover:shadow-md hover:border-black dark:hover:border-white transition-all",children:"Start Logging"})]}):d.jsxs("div",{className:"flex flex-col pb-24 relative max-w-3xl mx-auto",children:[d.jsx("div",{className:"absolute top-0 bottom-0 left-[31px] w-[2px] bg-zinc-200 dark:bg-zinc-800 z-0"}),k.map((M,P)=>{const H=P===0||M.date!==k[P-1].date,D=M.date?new Date(M.date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}):"-";return d.jsx(KU,{event:M,index:P,isLastItem:P===k.length-1,showDateHeader:H,dateLabel:D,onMove:N,onEdit:R=>{b(R),m(!0)},onDelete:R=>i(t.id,R)},M.id)})]})}),d.jsx("button",{onClick:()=>{b(null),m(!0)},className:"absolute bottom-8 right-8 bg-black dark:bg-white text-white dark:text-black w-14 h-14 rounded-full shadow-2xl hover:shadow-blue-500/20 hover:scale-105 transition-all z-30 flex items-center justify-center active:scale-95 group",children:d.jsx(Dc,{size:28,className:"group-hover:rotate-90 transition-transform duration-300"})}),d.jsx(JU,{isOpen:f,onClose:()=>m(!1),initialData:p,onSubmit:M=>{p?a(t.id,p.id,M):r(t.id,M),m(!1)}}),d.jsx(e8,{isOpen:x,onClose:()=>w(!1),text:A,incident:t})]})}const s8=1,a8=1e6,Na={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let sy=0;function o8(){return sy=(sy+1)%Number.MAX_SAFE_INTEGER,sy.toString()}const ay=new Map,sA=t=>{if(ay.has(t))return;const e=setTimeout(()=>{ay.delete(t),Pd({type:"REMOVE_TOAST",toastId:t})},a8);ay.set(t,e)},l8=(t,e)=>{switch(e.type){case Na.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,s8)};case Na.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Na.DISMISS_TOAST:{const{toastId:n}=e;return n?sA(n):t.toasts.forEach(r=>{sA(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||e.toastId===void 0?{...r,open:!1}:r)}}case Na.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Fm=[];let qm={toasts:[]};function Pd(t){qm=l8(qm,t),Fm.forEach(e=>{e(qm)})}function c8({...t}){const e=o8(),n=i=>Pd({type:Na.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>Pd({type:Na.DISMISS_TOAST,toastId:e});return Pd({type:Na.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function dl(){const[t,e]=E.useState(qm);return E.useEffect(()=>(Fm.push(e),()=>{const n=Fm.indexOf(e);n>-1&&Fm.splice(n,1)}),[t]),{...t,toast:c8,dismiss:n=>Pd({type:Na.DISMISS_TOAST,toastId:n})}}function u8(){const{currentUser:t}=ur(),{incidents:e,filteredIncidents:n,selectedId:r,setSelectedId:i,loading:a,stats:l,searchTerm:u,setSearchTerm:f,filterStatus:m,setFilterStatus:p,filterType:b,setFilterType:x,clearFilters:w,hasActiveFilters:A}=WU(),{sortedEvents:S,loading:k}=GU(r),[N,j]=E.useState({isOpen:!1}),{toast:z}=dl(),[M,P]=E.useState(!1),H=e.find(W=>W.id===r),D=E.useCallback((W,te="success")=>{z({description:W,variant:te})},[z]),R=async()=>{if(!t){D("Please login first!","error");return}P(!0);try{const W=await Rs.createIncident({subject:"New Incident",project:"General",status:"Open",type:"Incident",ticket:"",createdBy:t,impact:"",root_cause:"",action:""});i(W.id),D("Incident created")}catch(W){console.error("Error creating incident:",W),D(W.message||"Failed to create incident","error")}finally{P(!1)}},I=W=>{j({isOpen:!0,title:"Delete Incident?",message:"This action cannot be undone. All timeline events will be permanently deleted.",isDanger:!0,onConfirm:async()=>{try{await Rs.deleteIncident(W),r===W&&i(null),j({isOpen:!1}),D("Incident deleted")}catch(te){console.error("Error deleting incident:",te),D(te.message||"Failed to delete","error")}}})},L=async(W,te)=>{try{await Rs.updateIncident(W,te)}catch(Y){console.error("Error updating incident:",Y),D(Y.message||"Failed to update","error")}},U=async(W,te)=>{try{await Rs.createEvent(W,te),D("Event added")}catch(Y){console.error("Error adding event:",Y),D(Y.message||"Failed to add event","error")}},q=async(W,te,Y)=>{try{await Rs.updateEvent(W,te,Y),D("Event updated")}catch(le){console.error("Error updating event:",le),D(le.message||"Failed to update event","error")}},B=async(W,te)=>{j({isOpen:!0,title:"Delete Event?",message:"This timeline event will be permanently removed.",isDanger:!0,onConfirm:async()=>{try{await Rs.deleteEvent(W,te),j({isOpen:!1}),D("Event deleted")}catch(Y){console.error("Error deleting event:",Y),D(Y.message||"Failed to delete event","error")}}})},oe=async(W,te)=>{try{await Rs.reorderEvents(W,te)}catch(Y){console.error("Error reordering events:",Y),D(Y.message||"Failed to reorder","error")}},_e=W=>{if(!W||W.length===0){D("No data to export","error");return}const Y=["Date,Project,Ticket,Type,Status,Subject,CreatedBy",...W.map(F=>{const K=F.createdAt?new Date(F.createdAt).toLocaleDateString("en-GB"):"-",ue=(F.subject||"").replace(/"/g,'""');return`"${K}","${F.project||""}","${F.ticket||""}","${F.type||""}","${F.status}","${ue}","${F.createdBy||""}"`})].join(`
`),le=new Blob(["\uFEFF"+Y],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a");pe.href=URL.createObjectURL(le),pe.download=`Incidents_Export_${new Date().toISOString().split("T")[0]}.csv`,pe.click(),D("CSV exported")};return d.jsxs("div",{className:"w-full h-full flex overflow-hidden bg-zinc-50 dark:bg-black",children:[d.jsx(bf,{isOpen:N.isOpen,onClose:()=>j({isOpen:!1}),...N}),d.jsx("div",{className:`
        h-full border-r border-zinc-200 dark:border-zinc-800 overflow-hidden bg-white dark:bg-[#050505] flex-shrink-0 transition-all duration-300
        ${r?"hidden lg:block lg:w-[350px]":"w-full lg:w-[350px]"}
      `,children:d.jsx(XU,{incidents:e,filteredIncidents:n,selectedId:r,onSelect:i,onAddIncident:R,onDeleteIncident:I,onExportCSV:_e,stats:l,searchTerm:u,setSearchTerm:f,filterStatus:m,setFilterStatus:p,filterType:b,setFilterType:x,clearFilters:w,hasActiveFilters:A,loading:a})}),d.jsx("div",{className:`
        h-full flex-1 min-w-0 overflow-hidden bg-white dark:bg-[#09090b] relative
        ${r?"block":"hidden lg:block"}
      `,children:d.jsx(i8,{incident:H?{...H,events:S}:null,isLoading:k,onBack:()=>i(null),onUpdateIncident:L,onAddEvent:U,onUpdateEvent:q,onDeleteEvent:B,onReorderEvent:oe,saving:M})})]})}const yd="shift_handovers",vd={subscribeHandovers:(t,e=50)=>{const n=rs(xn(He,yd),lr("date","desc"),lr("createdAt","desc"),CN(e));return tl(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data(),onDuty:a.data().onDuty||[],acknowledgedBy:a.data().acknowledgedBy||[]}));t(i)},r=>{console.error("Firestore subscription error:",r),t([])})},createHandover:async t=>{try{const e={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),acknowledgedBy:t.acknowledgedBy||[],onDuty:t.onDuty||[]};return await rf(xn(He,yd),e)}catch(e){throw console.error("Create handover error:",e),new Error("Failed to create handover log")}},updateHandover:async(t,e)=>{try{const n={...e,updatedAt:new Date().toISOString()};await qi(Mt(He,yd,t),n)}catch(n){throw console.error("Update handover error:",n),new Error("Failed to update handover log")}},deleteHandover:async t=>{try{await yg(Mt(He,yd,t))}catch(e){throw console.error("Delete handover error:",e),new Error("Failed to delete handover log")}},toggleAcknowledge:async(t,e,n)=>{try{const r=Mt(He,yd,t);await qi(r,{acknowledgedBy:n?SL(e):EL(e),updatedAt:new Date().toISOString()})}catch(r){throw console.error("Toggle acknowledge error:",r),new Error("Failed to update acknowledgment")}}},d8=()=>{const t=ur(L=>L.currentUser),e=ur(L=>L.nocMembers),[n,r]=E.useState([]),[i,a]=E.useState(!0),[l,u]=E.useState(!1),[f,m]=E.useState(""),[p,b]=E.useState("All"),[x,w]=E.useState("All"),[A,S]=E.useState(""),{toast:k}=dl(),N=E.useCallback((L,U="success")=>{k({description:L,variant:U})},[k]);E.useEffect(()=>{if(!t){r([]),a(!1);return}a(!0);const L=vd.subscribeHandovers(U=>{r(U),a(!1)});return()=>L()},[t]);const j=E.useMemo(()=>n.filter(L=>{const U=A.toLowerCase(),q=L.note?.toLowerCase().includes(U)||!1,B=(L.onDuty||[]).some(le=>typeof le=="string"&&le.toLowerCase().includes(U)),oe=L.status?.toLowerCase().includes(U)||!1,_e=!U||q||B||oe,W=!f||L.date===f,te=p==="All"||L.shift===p,Y=x==="All"||L.status===x;return _e&&W&&te&&Y}),[n,A,f,p,x]),z=E.useCallback(L=>{const U=e.length,q=(L.acknowledgedBy||[]).length,B=U>0?Math.round(q/U*100):0,oe=q>=U;return{total:U,acked:q,percentage:B,isComplete:oe}},[e]),M=E.useMemo(()=>{const L=j.length,U=j.filter(B=>B.status!=="Normal").length,q=j.filter(B=>{const{isComplete:oe}=z(B);return oe}).length;return{total:L,withIssues:U,fullyAcked:q}},[j,z]),P=async(L,U,q)=>{u(!0);try{return U?(await vd.updateHandover(q,L),N("Log updated successfully")):(await vd.createHandover(L),N("Log created successfully")),!0}catch(B){return N(B.message||"Save failed","error"),!1}finally{u(!1)}},H=async L=>{try{await vd.deleteHandover(L),N("Log deleted")}catch(U){N(U.message||"Delete failed","error")}},D=async(L,U)=>{if(!t){N("Please login first!","error");return}const q=(L.acknowledgedBy||[]).includes(U);try{await vd.toggleAcknowledge(L.id,U,q),N(q?"Acknowledgment removed":"Acknowledged ")}catch(B){N(B.message||"Failed to update","error")}},R=()=>{const U=["Date,Time,Shift,Status,Team,Acknowledged,Note",...j.map(oe=>{const _e=new Date(oe.date).toLocaleDateString("en-GB"),W=(oe.note||"").replace(/"/g,'""'),te=(oe.onDuty||[]).join("; "),Y=(oe.acknowledgedBy||[]).join("; ");return`"${_e}","${oe.time}","${oe.shift}","${oe.status}","${te}","${Y}","${W}"`})].join(`
`),q=new Blob(["\uFEFF"+U],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a");B.href=URL.createObjectURL(q),B.download=`NOC_Handover_${new Date().toISOString().split("T")[0]}.csv`,B.click(),N("CSV exported")},I=()=>{m(""),b("All"),w("All"),S("")};return{filteredHistory:j,loading:i,saving:l,stats:M,filterDate:f,setFilterDate:m,filterShift:p,setFilterShift:b,filterStatus:x,setFilterStatus:w,searchText:A,setSearchText:S,clearFilters:I,clearFilters:I,showToast:N,handleSave:P,handleDelete:H,handleAcknowledge:D,handleExportCSV:R,getAckStats:z}};function f8(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const h8={},Nd={};function Wo(t,e){try{const r=(h8[t]||=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format)(e).split("GMT")[1];return r in Nd?Nd[r]:aA(r,r.split(":"))}catch{if(t in Nd)return Nd[t];const n=t?.match(m8);return n?aA(t,n.slice(1)):NaN}}const m8=/([+-]\d\d):?(\d\d)?/;function aA(t,e){const n=+(e[0]||0),r=+(e[1]||0),i=+(e[2]||0)/60;return Nd[t]=n*60+r>0?n*60+r+i:n*60-r-i}class Gi extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Wo(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),eR(this),vv(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new Gi(...n,e):new Gi(Date.now(),e)}withTimeZone(e){return new Gi(+this,e)}getTimezoneOffset(){const e=-Wo(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),vv(this),+this}[Symbol.for("constructDateFrom")](e){return new Gi(+new Date(e),this.timeZone)}}const oA=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!oA.test(t))return;const e=t.replace(oA,"$1UTC");Gi.prototype[e]&&(t.startsWith("get")?Gi.prototype[t]=function(){return this.internal[e]()}:(Gi.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),p8(this),+this},Gi.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),vv(this),+this}))});function vv(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Wo(t.timeZone,t)*60))}function p8(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),eR(t)}function eR(t){const e=Wo(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),r=new Date(+t);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+t).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),l=i-a,u=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();l&&u&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+l);const f=i-n;f&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);const m=new Date(+t);m.setUTCSeconds(0);const p=i>0?m.getSeconds():(m.getSeconds()-60)%60,b=Math.round(-(Wo(t.timeZone,t)*60))%60;(b||p)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+b),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+b+p));const x=Wo(t.timeZone,t),w=x>0?Math.floor(x):Math.ceil(x),S=-new Date(+t).getTimezoneOffset()-w,k=w!==n,N=S-f;if(k&&N){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+N);const j=Wo(t.timeZone,t),z=j>0?Math.floor(j):Math.ceil(j),M=w-z;M&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+M),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+M))}}class Pn extends Gi{static tz(e,...n){return n.length?new Pn(...n,e):new Pn(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),i=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,i]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${e} GMT${n}${r}${i} (${f8(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[n,r,i]}withTimeZone(e){return new Pn(+this,e)}[Symbol.for("constructDateFrom")](e){return new Pn(+new Date(e),this.timeZone)}}const tR=6048e5,g8=864e5,nR=6e4,rR=36e5,lA=Symbol.for("constructDateFrom");function Ut(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&lA in t?t[lA](e):t instanceof Date?new t.constructor(e):new Date(e)}function mt(t,e){return Ut(e||t,t)}function xg(t,e,n){const r=mt(t,n?.in);return isNaN(e)?Ut(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function iR(t,e,n){const r=mt(t,n?.in);if(isNaN(e))return Ut(t,NaN);if(!e)return r;const i=r.getDate(),a=Ut(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let b8={};function Rf(){return b8}function Hc(t,e){const n=Rf(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=mt(t,e?.in),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function sf(t,e){return Hc(t,{...e,weekStartsOn:1})}function sR(t,e){const n=mt(t,e?.in),r=n.getFullYear(),i=Ut(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=sf(i),l=Ut(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=sf(l);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function cA(t){const e=mt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function iu(t,...e){const n=Ut.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function af(t,e){const n=mt(t,e?.in);return n.setHours(0,0,0,0),n}function tw(t,e,n){const[r,i]=iu(n?.in,t,e),a=af(r),l=af(i),u=+a-cA(a),f=+l-cA(l);return Math.round((u-f)/g8)}function y8(t,e){const n=sR(t,e),r=Ut(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),sf(r)}function v8(t,e,n){return xg(t,e*7,n)}function x8(t,e,n){return iR(t,e*12,n)}function w8(t,e){let n,r=e?.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Ut.bind(null,i));const a=mt(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),Ut(r,n||NaN)}function _8(t,e){let n,r=e?.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Ut.bind(null,i));const a=mt(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),Ut(r,n||NaN)}function E8(t){return Ut(t,Date.now())}function aR(t,e,n){const[r,i]=iu(n?.in,t,e);return+af(r)==+af(i)}function oR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function S8(t){return!(!oR(t)&&typeof t!="number"||isNaN(+mt(t)))}function lR(t,e,n){const[r,i]=iu(n?.in,t,e),a=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return a*12+l}function k8(t,e){const n=mt(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function cR(t,e){const[n,r]=iu(t,e.start,e.end);return{start:n,end:r}}function A8(t,e){const{start:n,end:r}=cR(e?.in,t);let i=+n>+r;const a=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0),l.setDate(1);let u=1;const f=[];for(;+l<=a;)f.push(Ut(n,l)),l.setMonth(l.getMonth()+u);return i?f.reverse():f}function T8(t,e){const n=mt(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function C8(t,e){const n=mt(t,e?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function uR(t,e){const n=mt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function N8(t,e){const{start:n,end:r}=cR(e?.in,t);let i=+n>+r;const a=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0),l.setMonth(0,1);let u=1;const f=[];for(;+l<=a;)f.push(Ut(n,l)),l.setFullYear(l.getFullYear()+u);return i?f.reverse():f}function dR(t,e){const n=Rf(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=mt(t,e?.in),a=i.getDay(),l=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function R8(t,e){return dR(t,{...e,weekStartsOn:1})}const D8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},z8=(t,e,n)=>{let r;const i=D8[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function oy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const M8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I8={date:oy({formats:M8,defaultWidth:"full"}),time:oy({formats:j8,defaultWidth:"full"}),dateTime:oy({formats:O8,defaultWidth:"full"})},P8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V8=(t,e,n,r)=>P8[t];function xd(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):l;i=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const L8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},B8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},q8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$8=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},W8={ordinalNumber:$8,era:xd({values:L8,defaultWidth:"wide"}),quarter:xd({values:U8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:xd({values:B8,defaultWidth:"wide"}),day:xd({values:H8,defaultWidth:"wide"}),dayPeriod:xd({values:F8,defaultWidth:"wide",formattingValues:q8,defaultFormattingWidth:"wide"})};function wd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?Y8(u,b=>b.test(l)):G8(u,b=>b.test(l));let m;m=t.valueCallback?t.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const p=e.slice(l.length);return{value:m,rest:p}}}function G8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Y8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Q8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const X8=/^(\d+)(th|st|nd|rd)?/i,K8=/\d+/i,Z8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J8={any:[/^b/i,/^(a|c)/i]},eB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tB={any:[/1/i,/2/i,/3/i,/4/i]},nB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lB={ordinalNumber:Q8({matchPattern:X8,parsePattern:K8,valueCallback:t=>parseInt(t,10)}),era:wd({matchPatterns:Z8,defaultMatchWidth:"wide",parsePatterns:J8,defaultParseWidth:"any"}),quarter:wd({matchPatterns:eB,defaultMatchWidth:"wide",parsePatterns:tB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wd({matchPatterns:nB,defaultMatchWidth:"wide",parsePatterns:rB,defaultParseWidth:"any"}),day:wd({matchPatterns:iB,defaultMatchWidth:"wide",parsePatterns:sB,defaultParseWidth:"any"}),dayPeriod:wd({matchPatterns:aB,defaultMatchWidth:"any",parsePatterns:oB,defaultParseWidth:"any"})},wc={code:"en-US",formatDistance:z8,formatLong:I8,formatRelative:V8,localize:W8,match:lB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cB(t,e){const n=mt(t,e?.in);return tw(n,uR(n))+1}function nw(t,e){const n=mt(t,e?.in),r=+sf(n)-+y8(n);return Math.round(r/tR)+1}function fR(t,e){const n=mt(t,e?.in),r=n.getFullYear(),i=Rf(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=Ut(e?.in||t,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const u=Hc(l,e),f=Ut(e?.in||t,0);f.setFullYear(r,0,a),f.setHours(0,0,0,0);const m=Hc(f,e);return+n>=+u?r+1:+n>=+m?r:r-1}function uB(t,e){const n=Rf(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=fR(t,e),a=Ut(e?.in||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Hc(a,e)}function rw(t,e){const n=mt(t,e?.in),r=+Hc(n,e)-+uB(n,e);return Math.round(r/tR)+1}function yt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Sa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return yt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return yt(i,e.length)}},cc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Sa.y(t,e)},Y:function(t,e,n,r){const i=fR(t,r),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return yt(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):yt(a,e.length)},R:function(t,e){const n=sR(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Sa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=rw(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):yt(i,e.length)},I:function(t,e,n){const r=nw(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Sa.d(t,e)},D:function(t,e,n){const r=cB(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return yt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return yt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return yt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=cc.noon:r===0?i=cc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=cc.evening:r>=12?i=cc.afternoon:r>=4?i=cc.morning:i=cc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Sa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Sa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Sa.s(t,e)},S:function(t,e){return Sa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return fA(r);case"XXXX":case"XX":return Uo(r);case"XXXXX":case"XXX":default:return Uo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return fA(r);case"xxxx":case"xx":return Uo(r);case"xxxxx":case"xxx":default:return Uo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dA(r,":");case"OOOO":default:return"GMT"+Uo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dA(r,":");case"zzzz":default:return"GMT"+Uo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return yt(r,e.length)},T:function(t,e,n){return yt(+t,e.length)}};function dA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+yt(a,2)}function fA(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):Uo(t,e)}function Uo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=yt(Math.trunc(r/60),2),a=yt(r%60,2);return n+i+e+a}const hA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return hA(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",hA(r,e)).replace("{{time}}",hR(i,e))},fB={p:hR,P:dB},hB=/^D+$/,mB=/^Y+$/,pB=["D","DD","YY","YYYY"];function gB(t){return hB.test(t)}function bB(t){return mB.test(t)}function yB(t,e,n){const r=vB(t,e,n);if(console.warn(r),pB.includes(t))throw new RangeError(r)}function vB(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_B=/^'([^]*?)'?$/,EB=/''/g,SB=/[a-zA-Z]/;function Xr(t,e,n){const r=Rf(),i=n?.locale??r.locale??wc,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=mt(t,n?.in);if(!S8(u))throw new RangeError("Invalid time value");let f=e.match(wB).map(p=>{const b=p[0];if(b==="p"||b==="P"){const x=fB[b];return x(p,i.formatLong)}return p}).join("").match(xB).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const b=p[0];if(b==="'")return{isToken:!1,value:kB(p)};if(uA[b])return{isToken:!0,value:p};if(b.match(SB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const m={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return f.map(p=>{if(!p.isToken)return p.value;const b=p.value;(!n?.useAdditionalWeekYearTokens&&bB(b)||!n?.useAdditionalDayOfYearTokens&&gB(b))&&yB(b,e,String(t));const x=uA[b[0]];return x(u,b,i.localize,m)}).join("")}function kB(t){const e=t.match(_B);return e?e[1].replace(EB,"'"):t}function AB(t,e){const n=mt(t,e?.in),r=n.getFullYear(),i=n.getMonth(),a=Ut(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function TB(t,e){return mt(t,e?.in).getMonth()}function CB(t,e){return mt(t,e?.in).getFullYear()}function NB(t,e){return+mt(t)>+mt(e)}function RB(t,e){return+mt(t)<+mt(e)}function DB(t,e,n){const[r,i]=iu(n?.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function zB(t,e,n){const[r,i]=iu(n?.in,t,e);return r.getFullYear()===i.getFullYear()}function mA(t,e){return aR(Ut(t,t),E8(t))}function MB(t,e,n){return xg(t,-1,n)}function Ep(t,e){const n=()=>Ut(e?.in,NaN),i=PB(t);let a;if(i.date){const m=VB(i.date,2);a=LB(m.restDateString,m.year)}if(!a||isNaN(+a))return n();const l=+a;let u=0,f;if(i.time&&(u=UB(i.time),isNaN(u)))return n();if(i.timezone){if(f=BB(i.timezone),isNaN(f))return n()}else{const m=new Date(l+u),p=mt(0,e?.in);return p.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),p.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),p}return mt(l+u+f,e?.in)}const ym={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,OB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function PB(t){const e={},n=t.split(ym.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ym.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ym.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=ym.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function VB(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function LB(t,e){if(e===null)return new Date(NaN);const n=t.match(jB);if(!n)return new Date(NaN);const r=!!n[4],i=_d(n[1]),a=_d(n[2])-1,l=_d(n[3]),u=_d(n[4]),f=_d(n[5])-1;if(r)return WB(e,u,f)?HB(e,u,f):new Date(NaN);{const m=new Date(0);return!qB(e,a,l)||!$B(e,i)?new Date(NaN):(m.setUTCFullYear(e,a,Math.max(i,l)),m)}}function _d(t){return t?parseInt(t):1}function UB(t){const e=t.match(OB);if(!e)return NaN;const n=ly(e[1]),r=ly(e[2]),i=ly(e[3]);return GB(n,r,i)?n*rR+r*nR+i*1e3:NaN}function ly(t){return t&&parseFloat(t.replace(",","."))||0}function BB(t){if(t==="Z")return 0;const e=t.match(IB);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return YB(r,i)?n*(r*rR+i*nR):NaN}function HB(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const FB=[31,null,31,30,31,30,31,31,30,31,30,31];function mR(t){return t%400===0||t%4===0&&t%100!==0}function qB(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(FB[e]||(mR(t)?29:28))}function $B(t,e){return e>=1&&e<=(mR(t)?366:365)}function WB(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function GB(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function YB(t,e){return e>=0&&e<=59}function QB(t,e,n){const r=mt(t,n?.in),i=r.getFullYear(),a=r.getDate(),l=Ut(t,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const u=AB(l);return r.setMonth(e,Math.min(a,u)),r}function XB(t,e,n){const r=mt(t,n?.in);return isNaN(+r)?Ut(t,NaN):(r.setFullYear(e),r)}const pA=5,KB=4;function ZB(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,i=e.addDays(t,-r+1),a=e.addDays(i,pA*7-1);return e.getMonth(t)===e.getMonth(a)?pA:KB}function pR(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-6):e.addDays(n,-1*(r-1))}function JB(t,e){const n=pR(t,e),r=ZB(t,e);return e.addDays(n,r*7-1)}const gR={...wc,labels:{labelDayButton:(t,e,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(l,u)=>Xr(l,u,{locale:wc,...n});let a=i(t,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:t=>`Week ${t}`,labelYearDropdown:"Choose the Year",labelGrid:(t,e,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,a)=>Xr(i,a,{locale:wc,...e}),r(t,"LLLL yyyy")},labelGridcell:(t,e,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(l,u)=>Xr(l,u,{locale:wc,...n});let a=i(t,"PPPP");return e?.today&&(a=`Today, ${a}`),a},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(t,e,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,a)=>Xr(i,a,{locale:wc,...e}),r(t,"cccc")}}};class zr{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Pn.tz(this.options.timeZone):new this.Date,this.newDate=(r,i,a)=>this.overrides?.newDate?this.overrides.newDate(r,i,a):this.options.timeZone?new Pn(r,i,a,this.options.timeZone):new Date(r,i,a),this.addDays=(r,i)=>this.overrides?.addDays?this.overrides.addDays(r,i):xg(r,i),this.addMonths=(r,i)=>this.overrides?.addMonths?this.overrides.addMonths(r,i):iR(r,i),this.addWeeks=(r,i)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,i):v8(r,i),this.addYears=(r,i)=>this.overrides?.addYears?this.overrides.addYears(r,i):x8(r,i),this.differenceInCalendarDays=(r,i)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):tw(r,i),this.differenceInCalendarMonths=(r,i)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):lR(r,i),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):A8(r),this.eachYearOfInterval=r=>{const i=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):N8(r),a=new Set(i.map(u=>this.getYear(u)));if(a.size===i.length)return i;const l=[];return a.forEach(u=>{l.push(new Date(u,0,1))}),l},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):JB(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):R8(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):k8(r),this.endOfWeek=(r,i)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,i):dR(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):C8(r),this.format=(r,i,a)=>{const l=this.overrides?.format?this.overrides.format(r,i,this.options):Xr(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):nw(r),this.getMonth=(r,i)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):TB(r,this.options),this.getYear=(r,i)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):CB(r,this.options),this.getWeek=(r,i)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):rw(r,this.options),this.isAfter=(r,i)=>this.overrides?.isAfter?this.overrides.isAfter(r,i):NB(r,i),this.isBefore=(r,i)=>this.overrides?.isBefore?this.overrides.isBefore(r,i):RB(r,i),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):oR(r),this.isSameDay=(r,i)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,i):aR(r,i),this.isSameMonth=(r,i)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,i):DB(r,i),this.isSameYear=(r,i)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,i):zB(r,i),this.max=r=>this.overrides?.max?this.overrides.max(r):w8(r),this.min=r=>this.overrides?.min?this.overrides.min(r):_8(r),this.setMonth=(r,i)=>this.overrides?.setMonth?this.overrides.setMonth(r,i):QB(r,i),this.setYear=(r,i)=>this.overrides?.setYear?this.overrides.setYear(r,i):XB(r,i),this.startOfBroadcastWeek=(r,i)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):pR(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):af(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):sf(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):T8(r),this.startOfWeek=(r,i)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):Hc(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):uR(r),this.options={locale:gR,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){const e=this.options.locale?.code;return e&&zr.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:n,timeZone:r,numerals:i}=this.options,a=n?.code;if(a&&zr.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(e)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,l)}}zr.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const ls=new zr;class bR{constructor(e,n,r=ls){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r,this.isoDate=r.format(e,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class eH{constructor(e,n){this.date=e,this.weeks=n}}class tH{constructor(e,n){this.days=n,this.weekNumber=e}}function nH(t){return be.createElement("button",{...t})}function rH(t){return be.createElement("span",{...t})}function iH(t){const{size:e=24,orientation:n="left",className:r}=t;return be.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&be.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&be.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&be.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&be.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function sH(t){const{day:e,modifiers:n,...r}=t;return be.createElement("td",{...r})}function aH(t){const{day:e,modifiers:n,...r}=t,i=be.useRef(null);return be.useEffect(()=>{n.focused&&i.current?.focus()},[n.focused]),be.createElement("button",{ref:i,...r})}var Ne;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Ne||(Ne={}));var Vt;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(Vt||(Vt={}));var mi;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(mi||(mi={}));var Sr;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Sr||(Sr={}));function oH(t){const{options:e,className:n,components:r,classNames:i,...a}=t,l=[i[Ne.Dropdown],n].join(" "),u=e?.find(({value:f})=>f===a.value);return be.createElement("span",{"data-disabled":a.disabled,className:i[Ne.DropdownRoot]},be.createElement(r.Select,{className:l,...a},e?.map(({value:f,label:m,disabled:p})=>be.createElement(r.Option,{key:f,value:f,disabled:p},m))),be.createElement("span",{className:i[Ne.CaptionLabel],"aria-hidden":!0},u?.label,be.createElement(r.Chevron,{orientation:"down",size:18,className:i[Ne.Chevron]})))}function lH(t){return be.createElement("div",{...t})}function cH(t){return be.createElement("div",{...t})}function uH(t){const{calendarMonth:e,displayIndex:n,...r}=t;return be.createElement("div",{...r},t.children)}function dH(t){const{calendarMonth:e,displayIndex:n,...r}=t;return be.createElement("div",{...r})}function fH(t){return be.createElement("table",{...t})}function hH(t){return be.createElement("div",{...t})}const yR=E.createContext(void 0);function Df(){const t=E.useContext(yR);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function mH(t){const{components:e}=Df();return be.createElement(e.Dropdown,{...t})}function pH(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:i,...a}=t,{components:l,classNames:u,labels:{labelPrevious:f,labelNext:m}}=Df(),p=E.useCallback(x=>{i&&n?.(x)},[i,n]),b=E.useCallback(x=>{r&&e?.(x)},[r,e]);return be.createElement("nav",{...a},be.createElement(l.PreviousMonthButton,{type:"button",className:u[Ne.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":f(r),onClick:b},be.createElement(l.Chevron,{disabled:r?void 0:!0,className:u[Ne.Chevron],orientation:"left"})),be.createElement(l.NextMonthButton,{type:"button",className:u[Ne.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":m(i),onClick:p},be.createElement(l.Chevron,{disabled:i?void 0:!0,orientation:"right",className:u[Ne.Chevron]})))}function gH(t){const{components:e}=Df();return be.createElement(e.Button,{...t})}function bH(t){return be.createElement("option",{...t})}function yH(t){const{components:e}=Df();return be.createElement(e.Button,{...t})}function vH(t){const{rootRef:e,...n}=t;return be.createElement("div",{...n,ref:e})}function xH(t){return be.createElement("select",{...t})}function wH(t){const{week:e,...n}=t;return be.createElement("tr",{...n})}function _H(t){return be.createElement("th",{...t})}function EH(t){return be.createElement("thead",{"aria-hidden":!0},be.createElement("tr",{...t}))}function SH(t){const{week:e,...n}=t;return be.createElement("th",{...n})}function kH(t){return be.createElement("th",{...t})}function AH(t){return be.createElement("tbody",{...t})}function TH(t){const{components:e}=Df();return be.createElement(e.Dropdown,{...t})}const CH=Object.freeze(Object.defineProperty({__proto__:null,Button:nH,CaptionLabel:rH,Chevron:iH,Day:sH,DayButton:aH,Dropdown:oH,DropdownNav:lH,Footer:cH,Month:uH,MonthCaption:dH,MonthGrid:fH,Months:hH,MonthsDropdown:mH,Nav:pH,NextMonthButton:gH,Option:bH,PreviousMonthButton:yH,Root:vH,Select:xH,Week:wH,WeekNumber:SH,WeekNumberHeader:kH,Weekday:_H,Weekdays:EH,Weeks:AH,YearsDropdown:TH},Symbol.toStringTag,{value:"Module"}));function Ds(t,e,n=!1,r=ls){let{from:i,to:a}=t;const{differenceInCalendarDays:l,isSameDay:u}=r;return i&&a?(l(a,i)<0&&([i,a]=[a,i]),l(e,i)>=(n?1:0)&&l(a,e)>=(n?1:0)):!n&&a?u(a,e):!n&&i?u(i,e):!1}function iw(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function wg(t){return!!(t&&typeof t=="object"&&"from"in t)}function sw(t){return!!(t&&typeof t=="object"&&"after"in t)}function aw(t){return!!(t&&typeof t=="object"&&"before"in t)}function vR(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function xR(t,e){return Array.isArray(t)&&t.every(e.isDate)}function zs(t,e,n=ls){const r=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:a,isAfter:l}=n;return r.some(u=>{if(typeof u=="boolean")return u;if(n.isDate(u))return i(t,u);if(xR(u,n))return u.some(f=>i(t,f));if(wg(u))return Ds(u,t,!1,n);if(vR(u))return Array.isArray(u.dayOfWeek)?u.dayOfWeek.includes(t.getDay()):u.dayOfWeek===t.getDay();if(iw(u)){const f=a(u.before,t),m=a(u.after,t),p=f>0,b=m<0;return l(u.before,u.after)?b&&p:p||b}return sw(u)?a(t,u.after)>0:aw(u)?a(u.before,t)>0:typeof u=="function"?u(t):!1})}function NH(t,e,n,r,i){const{disabled:a,hidden:l,modifiers:u,showOutsideDays:f,broadcastCalendar:m,today:p=i.today()}=e,{isSameDay:b,isSameMonth:x,startOfMonth:w,isBefore:A,endOfMonth:S,isAfter:k}=i,N=n&&w(n),j=r&&S(r),z={[Vt.focused]:[],[Vt.outside]:[],[Vt.disabled]:[],[Vt.hidden]:[],[Vt.today]:[]},M={};for(const P of t){const{date:H,displayMonth:D}=P,R=!!(D&&!x(H,D)),I=!!(N&&A(H,N)),L=!!(j&&k(H,j)),U=!!(a&&zs(H,a,i)),q=!!(l&&zs(H,l,i))||I||L||!m&&!f&&R||m&&f===!1&&R,B=b(H,p);R&&z.outside.push(P),U&&z.disabled.push(P),q&&z.hidden.push(P),B&&z.today.push(P),u&&Object.keys(u).forEach(oe=>{const _e=u?.[oe];_e&&zs(H,_e,i)&&(M[oe]?M[oe].push(P):M[oe]=[P])})}return P=>{const H={[Vt.focused]:!1,[Vt.disabled]:!1,[Vt.hidden]:!1,[Vt.outside]:!1,[Vt.today]:!1},D={};for(const R in z){const I=z[R];H[R]=I.some(L=>L===P)}for(const R in M)D[R]=M[R].some(I=>I===P);return{...H,...D}}}function RH(t,e,n={}){return Object.entries(t).filter(([,i])=>i===!0).reduce((i,[a])=>(n[a]?i.push(n[a]):e[Vt[a]]?i.push(e[Vt[a]]):e[mi[a]]&&i.push(e[mi[a]]),i),[e[Ne.Day]])}function DH(t){return{...CH,...t}}function zH(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function ow(){const t={};for(const e in Ne)t[Ne[e]]=`rdp-${Ne[e]}`;for(const e in Vt)t[Vt[e]]=`rdp-${Vt[e]}`;for(const e in mi)t[mi[e]]=`rdp-${mi[e]}`;for(const e in Sr)t[Sr[e]]=`rdp-${Sr[e]}`;return t}function wR(t,e,n){return(n??new zr(e)).formatMonthYear(t)}const MH=wR;function jH(t,e,n){return(n??new zr(e)).format(t,"d")}function OH(t,e=ls){return e.format(t,"LLLL")}function IH(t,e,n){return(n??new zr(e)).format(t,"cccccc")}function PH(t,e=ls){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function VH(){return""}function _R(t,e=ls){return e.format(t,"yyyy")}const LH=_R,UH=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:wR,formatDay:jH,formatMonthCaption:MH,formatMonthDropdown:OH,formatWeekNumber:PH,formatWeekNumberHeader:VH,formatWeekdayName:IH,formatYearCaption:LH,formatYearDropdown:_R},Symbol.toStringTag,{value:"Module"}));function BH(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...UH,...t}}function lw(t,e,n,r){let i=(r??new zr(n)).format(t,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const HH=lw;function cw(t,e,n){return(n??new zr(e)).formatMonthYear(t)}const FH=cw;function ER(t,e,n,r){let i=(r??new zr(n)).format(t,"PPPP");return e?.today&&(i=`Today, ${i}`),i}function SR(t){return"Choose the Month"}function kR(){return""}const qH="Go to the Next Month";function AR(t,e){return qH}function TR(t){return"Go to the Previous Month"}function CR(t,e,n){return(n??new zr(e)).format(t,"cccc")}function NR(t,e){return`Week ${t}`}function RR(t){return"Week Number"}function DR(t){return"Choose the Year"}const $H=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:FH,labelDay:HH,labelDayButton:lw,labelGrid:cw,labelGridcell:ER,labelMonthDropdown:SR,labelNav:kR,labelNext:AR,labelPrevious:TR,labelWeekNumber:NR,labelWeekNumberHeader:RR,labelWeekday:CR,labelYearDropdown:DR},Symbol.toStringTag,{value:"Module"})),fi=(t,e,n)=>e||(n?typeof n=="function"?n:(...r)=>n:t);function WH(t,e){const n=e.locale?.labels??{};return{...$H,...t??{},labelDayButton:fi(lw,t?.labelDayButton,n.labelDayButton),labelMonthDropdown:fi(SR,t?.labelMonthDropdown,n.labelMonthDropdown),labelNext:fi(AR,t?.labelNext,n.labelNext),labelPrevious:fi(TR,t?.labelPrevious,n.labelPrevious),labelWeekNumber:fi(NR,t?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:fi(DR,t?.labelYearDropdown,n.labelYearDropdown),labelGrid:fi(cw,t?.labelGrid,n.labelGrid),labelGridcell:fi(ER,t?.labelGridcell,n.labelGridcell),labelNav:fi(kR,t?.labelNav,n.labelNav),labelWeekNumberHeader:fi(RR,t?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:fi(CR,t?.labelWeekday,n.labelWeekday)}}function GH(t,e,n,r,i){const{startOfMonth:a,startOfYear:l,endOfYear:u,eachMonthOfInterval:f,getMonth:m}=i;return f({start:l(t),end:u(t)}).map(x=>{const w=r.formatMonthDropdown(x,i),A=m(x),S=e&&x<a(e)||n&&x>a(n)||!1;return{value:A,label:w,disabled:S}})}function YH(t,e={},n={}){let r={...e?.[Ne.Day]};return Object.entries(t).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n?.[i]}}),r}function QH(t,e,n,r){const i=r??t.today(),a=n?t.startOfBroadcastWeek(i,t):e?t.startOfISOWeek(i):t.startOfWeek(i),l=[];for(let u=0;u<7;u++){const f=t.addDays(a,u);l.push(f)}return l}function XH(t,e,n,r,i=!1){if(!t||!e)return;const{startOfYear:a,endOfYear:l,eachYearOfInterval:u,getYear:f}=r,m=a(t),p=l(e),b=u({start:m,end:p});return i&&b.reverse(),b.map(x=>{const w=n.formatYearDropdown(x,r);return{value:f(x),label:w,disabled:!1}})}function KH(t,e={}){const{weekStartsOn:n,locale:r}=e,i=n??r?.options?.weekStartsOn??0,a=u=>{const f=typeof u=="number"||typeof u=="string"?new Date(u):u;return new Pn(f.getFullYear(),f.getMonth(),f.getDate(),12,0,0,t)},l=u=>{const f=a(u);return new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0)};return{today:()=>a(Pn.tz(t)),newDate:(u,f,m)=>new Pn(u,f,m,12,0,0,t),startOfDay:u=>a(u),startOfWeek:(u,f)=>{const m=a(u),p=f?.weekStartsOn??i,b=(m.getDay()-p+7)%7;return m.setDate(m.getDate()-b),m},startOfISOWeek:u=>{const f=a(u),m=(f.getDay()-1+7)%7;return f.setDate(f.getDate()-m),f},startOfMonth:u=>{const f=a(u);return f.setDate(1),f},startOfYear:u=>{const f=a(u);return f.setMonth(0,1),f},endOfWeek:(u,f)=>{const m=a(u),x=(((f?.weekStartsOn??i)+6)%7-m.getDay()+7)%7;return m.setDate(m.getDate()+x),m},endOfISOWeek:u=>{const f=a(u),m=(7-f.getDay())%7;return f.setDate(f.getDate()+m),f},endOfMonth:u=>{const f=a(u);return f.setMonth(f.getMonth()+1,0),f},endOfYear:u=>{const f=a(u);return f.setMonth(11,31),f},eachMonthOfInterval:u=>{const f=a(u.start),m=a(u.end),p=[],b=new Pn(f.getFullYear(),f.getMonth(),1,12,0,0,t),x=m.getFullYear()*12+m.getMonth();for(;b.getFullYear()*12+b.getMonth()<=x;)p.push(new Pn(b,t)),b.setMonth(b.getMonth()+1,1);return p},addDays:(u,f)=>{const m=a(u);return m.setDate(m.getDate()+f),m},addWeeks:(u,f)=>{const m=a(u);return m.setDate(m.getDate()+f*7),m},addMonths:(u,f)=>{const m=a(u);return m.setMonth(m.getMonth()+f),m},addYears:(u,f)=>{const m=a(u);return m.setFullYear(m.getFullYear()+f),m},eachYearOfInterval:u=>{const f=a(u.start),m=a(u.end),p=[],b=new Pn(f.getFullYear(),0,1,12,0,0,t);for(;b.getFullYear()<=m.getFullYear();)p.push(new Pn(b,t)),b.setFullYear(b.getFullYear()+1,0,1);return p},getWeek:(u,f)=>{const m=l(u);return rw(m,{weekStartsOn:f?.weekStartsOn??i,firstWeekContainsDate:f?.firstWeekContainsDate??r?.options?.firstWeekContainsDate??1})},getISOWeek:u=>{const f=l(u);return nw(f)},differenceInCalendarDays:(u,f)=>{const m=l(u),p=l(f);return tw(m,p)},differenceInCalendarMonths:(u,f)=>{const m=l(u),p=l(f);return lR(m,p)}}}const zf=t=>t instanceof HTMLElement?t:null,cy=t=>[...t.querySelectorAll("[data-animated-month]")??[]],ZH=t=>zf(t.querySelector("[data-animated-month]")),uy=t=>zf(t.querySelector("[data-animated-caption]")),dy=t=>zf(t.querySelector("[data-animated-weeks]")),JH=t=>zf(t.querySelector("[data-animated-nav]")),eF=t=>zf(t.querySelector("[data-animated-weekdays]"));function tF(t,e,{classNames:n,months:r,focused:i,dateLib:a}){const l=E.useRef(null),u=E.useRef(r),f=E.useRef(!1);E.useLayoutEffect(()=>{const m=u.current;if(u.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||m.length===0||r.length!==m.length)return;const p=a.isSameMonth(r[0].date,m[0].date),b=a.isAfter(r[0].date,m[0].date),x=b?n[Sr.caption_after_enter]:n[Sr.caption_before_enter],w=b?n[Sr.weeks_after_enter]:n[Sr.weeks_before_enter],A=l.current,S=t.current.cloneNode(!0);if(S instanceof HTMLElement?(cy(S).forEach(z=>{if(!(z instanceof HTMLElement))return;const M=ZH(z);M&&z.contains(M)&&z.removeChild(M);const P=uy(z);P&&P.classList.remove(x);const H=dy(z);H&&H.classList.remove(w)}),l.current=S):l.current=null,f.current||p||i)return;const k=A instanceof HTMLElement?cy(A):[],N=cy(t.current);if(N?.every(j=>j instanceof HTMLElement)&&k&&k.every(j=>j instanceof HTMLElement)){f.current=!0,t.current.style.isolation="isolate";const j=JH(t.current);j&&(j.style.zIndex="1"),N.forEach((z,M)=>{const P=k[M];if(!P)return;z.style.position="relative",z.style.overflow="hidden";const H=uy(z);H&&H.classList.add(x);const D=dy(z);D&&D.classList.add(w);const R=()=>{f.current=!1,t.current&&(t.current.style.isolation=""),j&&(j.style.zIndex=""),H&&H.classList.remove(x),D&&D.classList.remove(w),z.style.position="",z.style.overflow="",z.contains(P)&&z.removeChild(P)};P.style.pointerEvents="none",P.style.position="absolute",P.style.overflow="hidden",P.setAttribute("aria-hidden","true");const I=eF(P);I&&(I.style.opacity="0");const L=uy(P);L&&(L.classList.add(b?n[Sr.caption_before_exit]:n[Sr.caption_after_exit]),L.addEventListener("animationend",R));const U=dy(P);U&&U.classList.add(b?n[Sr.weeks_before_exit]:n[Sr.weeks_after_exit]),z.insertBefore(P,z.firstChild)})}})}function nF(t,e,n,r){const i=t[0],a=t[t.length-1],{ISOWeek:l,fixedWeeks:u,broadcastCalendar:f}=n??{},{addDays:m,differenceInCalendarDays:p,differenceInCalendarMonths:b,endOfBroadcastWeek:x,endOfISOWeek:w,endOfMonth:A,endOfWeek:S,isAfter:k,startOfBroadcastWeek:N,startOfISOWeek:j,startOfWeek:z}=r,M=f?N(i,r):l?j(i):z(i),P=f?x(a):l?w(A(a)):S(A(a)),H=e&&(f?x(e):l?w(e):S(e)),D=H&&k(P,H)?H:P,R=p(D,M),I=b(a,i)+1,L=[];for(let B=0;B<=R;B++){const oe=m(M,B);L.push(oe)}const q=(f?35:42)*I;if(u&&L.length<q){const B=q-L.length;for(let oe=0;oe<B;oe++){const _e=m(L[L.length-1],1);L.push(_e)}}return L}function rF(t){const e=[];return t.reduce((n,r)=>{const i=r.weeks.reduce((a,l)=>a.concat(l.days.slice()),e.slice());return n.concat(i.slice())},e.slice())}function iF(t,e,n,r){const{numberOfMonths:i=1}=n,a=[];for(let l=0;l<i;l++){const u=r.addMonths(t,l);if(e&&u>e)break;a.push(u)}return a}function gA(t,e,n,r){const{month:i,defaultMonth:a,today:l=r.today(),numberOfMonths:u=1}=t;let f=i||a||l;const{differenceInCalendarMonths:m,addMonths:p,startOfMonth:b}=r;if(n&&m(n,f)<u-1){const x=-1*(u-1);f=p(n,x)}return e&&m(f,e)<0&&(f=e),b(f)}function sF(t,e,n,r){const{addDays:i,endOfBroadcastWeek:a,endOfISOWeek:l,endOfMonth:u,endOfWeek:f,getISOWeek:m,getWeek:p,startOfBroadcastWeek:b,startOfISOWeek:x,startOfWeek:w}=r,A=t.reduce((S,k)=>{const N=n.broadcastCalendar?b(k,r):n.ISOWeek?x(k):w(k),j=n.broadcastCalendar?a(k):n.ISOWeek?l(u(k)):f(u(k)),z=e.filter(D=>D>=N&&D<=j),M=n.broadcastCalendar?35:42;if(n.fixedWeeks&&z.length<M){const D=e.filter(R=>{const I=M-z.length;return R>j&&R<=i(j,I)});z.push(...D)}const P=z.reduce((D,R)=>{const I=n.ISOWeek?m(R):p(R),L=D.find(q=>q.weekNumber===I),U=new bR(R,k,r);return L?L.days.push(U):D.push(new tH(I,[U])),D},[]),H=new eH(k,P);return S.push(H),S},[]);return n.reverseMonths?A.reverse():A}function aF(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:i,startOfDay:a,startOfMonth:l,endOfMonth:u,addYears:f,endOfYear:m,newDate:p,today:b}=e,{fromYear:x,toYear:w,fromMonth:A,toMonth:S}=t;!n&&A&&(n=A),!n&&x&&(n=e.newDate(x,0,1)),!r&&S&&(r=S),!r&&w&&(r=p(w,11,31));const k=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=l(n):x?n=p(x,0,1):!n&&k&&(n=i(f(t.today??b(),-100))),r?r=u(r):w?r=p(w,11,31):!r&&k&&(r=m(t.today??b())),[n&&a(n),r&&a(r)]}function oF(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a=1}=n,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:f}=r,m=i?a:1,p=l(t);if(!e)return u(p,m);if(!(f(e,t)<a))return u(p,m)}function lF(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:a}=n,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:f}=r,m=i?a??1:1,p=l(t);if(!e)return u(p,-m);if(!(f(p,e)<=0))return u(p,-m)}function cF(t){const e=[];return t.reduce((n,r)=>n.concat(r.weeks.slice()),e.slice())}function _g(t,e){const[n,r]=E.useState(t);return[e===void 0?n:e,r]}function uF(t,e){const[n,r]=aF(t,e),{startOfMonth:i,endOfMonth:a}=e,l=gA(t,n,r,e),[u,f]=_g(l,t.month?l:void 0);E.useEffect(()=>{const M=gA(t,n,r,e);f(M)},[t.timeZone]);const{months:m,weeks:p,days:b,previousMonth:x,nextMonth:w}=E.useMemo(()=>{const M=iF(u,r,{numberOfMonths:t.numberOfMonths},e),P=nF(M,t.endMonth?a(t.endMonth):void 0,{ISOWeek:t.ISOWeek,fixedWeeks:t.fixedWeeks,broadcastCalendar:t.broadcastCalendar},e),H=sF(M,P,{broadcastCalendar:t.broadcastCalendar,fixedWeeks:t.fixedWeeks,ISOWeek:t.ISOWeek,reverseMonths:t.reverseMonths},e),D=cF(H),R=rF(H),I=lF(u,n,t,e),L=oF(u,r,t,e);return{months:H,weeks:D,days:R,previousMonth:I,nextMonth:L}},[e,u.getTime(),r?.getTime(),n?.getTime(),t.disableNavigation,t.broadcastCalendar,t.endMonth?.getTime(),t.fixedWeeks,t.ISOWeek,t.numberOfMonths,t.pagedNavigation,t.reverseMonths]),{disableNavigation:A,onMonthChange:S}=t,k=M=>p.some(P=>P.days.some(H=>H.isEqualTo(M))),N=M=>{if(A)return;let P=i(M);n&&P<i(n)&&(P=i(n)),r&&P>i(r)&&(P=i(r)),f(P),S?.(P)};return{months:m,weeks:p,days:b,navStart:n,navEnd:r,previousMonth:x,nextMonth:w,goToMonth:N,goToDay:M=>{k(M)||N(M.date)}}}var Bi;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Bi||(Bi={}));function bA(t){return!t[Vt.disabled]&&!t[Vt.hidden]&&!t[Vt.outside]}function dF(t,e,n,r){let i,a=-1;for(const l of t){const u=e(l);bA(u)&&(u[Vt.focused]&&a<Bi.FocusedModifier?(i=l,a=Bi.FocusedModifier):r?.isEqualTo(l)&&a<Bi.LastFocused?(i=l,a=Bi.LastFocused):n(l.date)&&a<Bi.Selected?(i=l,a=Bi.Selected):u[Vt.today]&&a<Bi.Today&&(i=l,a=Bi.Today))}return i||(i=t.find(l=>bA(e(l)))),i}function fF(t,e,n,r,i,a,l){const{ISOWeek:u,broadcastCalendar:f}=a,{addDays:m,addMonths:p,addWeeks:b,addYears:x,endOfBroadcastWeek:w,endOfISOWeek:A,endOfWeek:S,max:k,min:N,startOfBroadcastWeek:j,startOfISOWeek:z,startOfWeek:M}=l;let H={day:m,week:b,month:p,year:x,startOfWeek:D=>f?j(D,l):u?z(D):M(D),endOfWeek:D=>f?w(D):u?A(D):S(D)}[t](n,e==="after"?1:-1);return e==="before"&&r?H=k([r,H]):e==="after"&&i&&(H=N([i,H])),H}function zR(t,e,n,r,i,a,l,u=0){if(u>365)return;const f=fF(t,e,n.date,r,i,a,l),m=!!(a.disabled&&zs(f,a.disabled,l)),p=!!(a.hidden&&zs(f,a.hidden,l)),b=f,x=new bR(f,b,l);return!m&&!p?x:zR(t,e,x,r,i,a,l,u+1)}function hF(t,e,n,r,i){const{autoFocus:a}=t,[l,u]=E.useState(),f=dF(e.days,n,r||(()=>!1),l),[m,p]=E.useState(a?f:void 0);return{isFocusTarget:S=>!!f?.isEqualTo(S),setFocused:p,focused:m,blur:()=>{u(m),p(void 0)},moveFocus:(S,k)=>{if(!m)return;const N=zR(S,k,m,e.navStart,e.navEnd,t,i);N&&(t.disableNavigation&&!e.days.some(z=>z.isEqualTo(N))||(e.goToDay(N),p(N)))}}}function mF(t,e){const{selected:n,required:r,onSelect:i}=t,[a,l]=_g(n,i?n:void 0),u=i?n:a,{isSameDay:f}=e,m=w=>u?.some(A=>f(A,w))??!1,{min:p,max:b}=t;return{selected:u,select:(w,A,S)=>{let k=[...u??[]];if(m(w)){if(u?.length===p||r&&u?.length===1)return;k=u?.filter(N=>!f(N,w))}else u?.length===b?k=[w]:k=[...k,w];return i||l(k),i?.(k,w,A,S),k},isSelected:m}}function pF(t,e,n=0,r=0,i=!1,a=ls){const{from:l,to:u}=e||{},{isSameDay:f,isAfter:m,isBefore:p}=a;let b;if(!l&&!u)b={from:t,to:n>0?void 0:t};else if(l&&!u)f(l,t)?n===0?b={from:l,to:t}:i?b={from:l,to:void 0}:b=void 0:p(t,l)?b={from:t,to:l}:b={from:l,to:t};else if(l&&u)if(f(l,t)&&f(u,t))i?b={from:l,to:u}:b=void 0;else if(f(l,t))b={from:l,to:n>0?void 0:t};else if(f(u,t))b={from:t,to:n>0?void 0:t};else if(p(t,l))b={from:t,to:u};else if(m(t,l))b={from:l,to:t};else if(m(t,u))b={from:l,to:t};else throw new Error("Invalid range");if(b?.from&&b?.to){const x=a.differenceInCalendarDays(b.to,b.from);r>0&&x>r?b={from:t,to:void 0}:n>1&&x<n&&(b={from:t,to:void 0})}return b}function gF(t,e,n=ls){const r=Array.isArray(e)?e:[e];let i=t.from;const a=n.differenceInCalendarDays(t.to,t.from),l=Math.min(a,6);for(let u=0;u<=l;u++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function yA(t,e,n=ls){return Ds(t,e.from,!1,n)||Ds(t,e.to,!1,n)||Ds(e,t.from,!1,n)||Ds(e,t.to,!1,n)}function bF(t,e,n=ls){const r=Array.isArray(e)?e:[e];if(r.filter(u=>typeof u!="function").some(u=>typeof u=="boolean"?u:n.isDate(u)?Ds(t,u,!1,n):xR(u,n)?u.some(f=>Ds(t,f,!1,n)):wg(u)?u.from&&u.to?yA(t,{from:u.from,to:u.to},n):!1:vR(u)?gF(t,u.dayOfWeek,n):iw(u)?n.isAfter(u.before,u.after)?yA(t,{from:n.addDays(u.after,1),to:n.addDays(u.before,-1)},n):zs(t.from,u,n)||zs(t.to,u,n):sw(u)||aw(u)?zs(t.from,u,n)||zs(t.to,u,n):!1))return!0;const l=r.filter(u=>typeof u=="function");if(l.length){let u=t.from;const f=n.differenceInCalendarDays(t.to,t.from);for(let m=0;m<=f;m++){if(l.some(p=>p(u)))return!0;u=n.addDays(u,1)}}return!1}function yF(t,e){const{disabled:n,excludeDisabled:r,selected:i,required:a,onSelect:l}=t,[u,f]=_g(i,l?i:void 0),m=l?i:u;return{selected:m,select:(x,w,A)=>{const{min:S,max:k}=t,N=x?pF(x,m,S,k,a,e):void 0;return r&&n&&N?.from&&N.to&&bF({from:N.from,to:N.to},n,e)&&(N.from=x,N.to=void 0),l||f(N),l?.(N,x,w,A),N},isSelected:x=>m&&Ds(m,x,!1,e)}}function vF(t,e){const{selected:n,required:r,onSelect:i}=t,[a,l]=_g(n,i?n:void 0),u=i?n:a,{isSameDay:f}=e;return{selected:u,select:(b,x,w)=>{let A=b;return!r&&u&&u&&f(b,u)&&(A=void 0),i||l(A),i?.(A,b,x,w),A},isSelected:b=>u?f(u,b):!1}}function xF(t,e){const n=vF(t,e),r=mF(t,e),i=yF(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function Gr(t,e){return t instanceof Pn&&t.timeZone===e?t:new Pn(t,e)}function uc(t,e,n){return Gr(t,e)}function vA(t,e,n){return typeof t=="boolean"||typeof t=="function"?t:t instanceof Date?uc(t,e):Array.isArray(t)?t.map(r=>r instanceof Date?uc(r,e):r):wg(t)?{...t,from:t.from?Gr(t.from,e):t.from,to:t.to?Gr(t.to,e):t.to}:iw(t)?{before:uc(t.before,e),after:uc(t.after,e)}:sw(t)?{after:uc(t.after,e)}:aw(t)?{before:uc(t.before,e)}:t}function fy(t,e,n){return t&&(Array.isArray(t)?t.map(r=>vA(r,e)):vA(t,e))}function wF(t){let e=t;const n=e.timeZone;if(n&&(e={...t,timeZone:n},e.today&&(e.today=Gr(e.today,n)),e.month&&(e.month=Gr(e.month,n)),e.defaultMonth&&(e.defaultMonth=Gr(e.defaultMonth,n)),e.startMonth&&(e.startMonth=Gr(e.startMonth,n)),e.endMonth&&(e.endMonth=Gr(e.endMonth,n)),e.mode==="single"&&e.selected?e.selected=Gr(e.selected,n):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(Ve=>Gr(Ve,n)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?Gr(e.selected.from,n):e.selected.from,to:e.selected.to?Gr(e.selected.to,n):e.selected.to}),e.disabled!==void 0&&(e.disabled=fy(e.disabled,n)),e.hidden!==void 0&&(e.hidden=fy(e.hidden,n)),e.modifiers)){const Ve={};Object.keys(e.modifiers).forEach(Ge=>{Ve[Ge]=fy(e.modifiers?.[Ge],n)}),e.modifiers=Ve}const{components:r,formatters:i,labels:a,dateLib:l,locale:u,classNames:f}=E.useMemo(()=>{const Ve={...gR,...e.locale},Ge=e.broadcastCalendar?1:e.weekStartsOn,ze=e.noonSafe&&e.timeZone?KH(e.timeZone,{weekStartsOn:Ge,locale:Ve}):void 0,Me=e.dateLib&&ze?{...ze,...e.dateLib}:e.dateLib??ze,Rt=new zr({locale:Ve,weekStartsOn:Ge,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},Me);return{dateLib:Rt,components:DH(e.components),formatters:BH(e.formatters),labels:WH(e.labels,Rt.options),locale:Ve,classNames:{...ow(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:l.today()});const{captionLayout:m,mode:p,navLayout:b,numberOfMonths:x=1,onDayBlur:w,onDayClick:A,onDayFocus:S,onDayKeyDown:k,onDayMouseEnter:N,onDayMouseLeave:j,onNextClick:z,onPrevClick:M,showWeekNumber:P,styles:H}=e,{formatCaption:D,formatDay:R,formatMonthDropdown:I,formatWeekNumber:L,formatWeekNumberHeader:U,formatWeekdayName:q,formatYearDropdown:B}=i,oe=uF(e,l),{days:_e,months:W,navStart:te,navEnd:Y,previousMonth:le,nextMonth:pe,goToMonth:F}=oe,K=NH(_e,e,te,Y,l),{isSelected:ue,select:ge,selected:xe}=xF(e,l)??{},{blur:Te,focused:ie,isFocusTarget:Ie,moveFocus:qe,setFocused:Qe}=hF(e,oe,K,ue??(()=>!1),l),{labelDayButton:kt,labelGridcell:Yt,labelGrid:Yn,labelMonthDropdown:Qn,labelNav:jr,labelPrevious:Jr,labelNext:so,labelWeekday:ao,labelWeekNumber:Ft,labelWeekNumberHeader:Qt,labelYearDropdown:wi}=a,du=E.useMemo(()=>QH(l,e.ISOWeek,e.broadcastCalendar,e.today),[l,e.ISOWeek,e.broadcastCalendar,e.today]),oo=p!==void 0||A!==void 0,dn=E.useCallback(()=>{le&&(F(le),M?.(le))},[le,F,M]),ei=E.useCallback(()=>{pe&&(F(pe),z?.(pe))},[F,pe,z]),lo=E.useCallback((Ve,Ge)=>ze=>{ze.preventDefault(),ze.stopPropagation(),Qe(Ve),!Ge.disabled&&(ge?.(Ve.date,Ge,ze),A?.(Ve.date,Ge,ze))},[ge,A,Qe]),co=E.useCallback((Ve,Ge)=>ze=>{Qe(Ve),S?.(Ve.date,Ge,ze)},[S,Qe]),_i=E.useCallback((Ve,Ge)=>ze=>{Te(),w?.(Ve.date,Ge,ze)},[Te,w]),fu=E.useCallback((Ve,Ge)=>ze=>{const Me={ArrowLeft:[ze.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[ze.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[ze.shiftKey?"year":"week","after"],ArrowUp:[ze.shiftKey?"year":"week","before"],PageUp:[ze.shiftKey?"year":"month","before"],PageDown:[ze.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Me[ze.key]){ze.preventDefault(),ze.stopPropagation();const[Rt,Le]=Me[ze.key];qe(Rt,Le)}k?.(Ve.date,Ge,ze)},[qe,k,e.dir]),bl=E.useCallback((Ve,Ge)=>ze=>{N?.(Ve.date,Ge,ze)},[N]),yl=E.useCallback((Ve,Ge)=>ze=>{j?.(Ve.date,Ge,ze)},[j]),vl=E.useCallback(Ve=>Ge=>{const ze=Number(Ge.target.value),Me=l.setMonth(l.startOfMonth(Ve),ze);F(Me)},[l,F]),fr=E.useCallback(Ve=>Ge=>{const ze=Number(Ge.target.value),Me=l.setYear(l.startOfMonth(Ve),ze);F(Me)},[l,F]),{className:fn,style:Xn}=E.useMemo(()=>({className:[f[Ne.Root],e.className].filter(Boolean).join(" "),style:{...H?.[Ne.Root],...e.style}}),[f,e.className,e.style,H]),Pt=zH(e),uo=E.useRef(null);tF(uo,!!e.animate,{classNames:f,months:W,focused:ie,dateLib:l});const Ws={dayPickerProps:e,selected:xe,select:ge,isSelected:ue,months:W,nextMonth:pe,previousMonth:le,goToMonth:F,getModifiers:K,components:r,classNames:f,styles:H,labels:a,formatters:i};return be.createElement(yR.Provider,{value:Ws},be.createElement(r.Root,{rootRef:e.animate?uo:void 0,className:fn,style:Xn,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Pt},be.createElement(r.Months,{className:f[Ne.Months],style:H?.[Ne.Months]},!e.hideNavigation&&!b&&be.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[Ne.Nav],style:H?.[Ne.Nav],"aria-label":jr(),onPreviousClick:dn,onNextClick:ei,previousMonth:le,nextMonth:pe}),W.map((Ve,Ge)=>be.createElement(r.Month,{"data-animated-month":e.animate?"true":void 0,className:f[Ne.Month],style:H?.[Ne.Month],key:Ge,displayIndex:Ge,calendarMonth:Ve},b==="around"&&!e.hideNavigation&&Ge===0&&be.createElement(r.PreviousMonthButton,{type:"button",className:f[Ne.PreviousMonthButton],tabIndex:le?void 0:-1,"aria-disabled":le?void 0:!0,"aria-label":Jr(le),onClick:dn,"data-animated-button":e.animate?"true":void 0},be.createElement(r.Chevron,{disabled:le?void 0:!0,className:f[Ne.Chevron],orientation:e.dir==="rtl"?"right":"left"})),be.createElement(r.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:f[Ne.MonthCaption],style:H?.[Ne.MonthCaption],calendarMonth:Ve,displayIndex:Ge},m?.startsWith("dropdown")?be.createElement(r.DropdownNav,{className:f[Ne.Dropdowns],style:H?.[Ne.Dropdowns]},(()=>{const ze=m==="dropdown"||m==="dropdown-months"?be.createElement(r.MonthsDropdown,{key:"month",className:f[Ne.MonthsDropdown],"aria-label":Qn(),classNames:f,components:r,disabled:!!e.disableNavigation,onChange:vl(Ve.date),options:GH(Ve.date,te,Y,i,l),style:H?.[Ne.Dropdown],value:l.getMonth(Ve.date)}):be.createElement("span",{key:"month"},I(Ve.date,l)),Me=m==="dropdown"||m==="dropdown-years"?be.createElement(r.YearsDropdown,{key:"year",className:f[Ne.YearsDropdown],"aria-label":wi(l.options),classNames:f,components:r,disabled:!!e.disableNavigation,onChange:fr(Ve.date),options:XH(te,Y,i,l,!!e.reverseYears),style:H?.[Ne.Dropdown],value:l.getYear(Ve.date)}):be.createElement("span",{key:"year"},B(Ve.date,l));return l.getMonthYearOrder()==="year-first"?[Me,ze]:[ze,Me]})(),be.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},D(Ve.date,l.options,l))):be.createElement(r.CaptionLabel,{className:f[Ne.CaptionLabel],role:"status","aria-live":"polite"},D(Ve.date,l.options,l))),b==="around"&&!e.hideNavigation&&Ge===x-1&&be.createElement(r.NextMonthButton,{type:"button",className:f[Ne.NextMonthButton],tabIndex:pe?void 0:-1,"aria-disabled":pe?void 0:!0,"aria-label":so(pe),onClick:ei,"data-animated-button":e.animate?"true":void 0},be.createElement(r.Chevron,{disabled:pe?void 0:!0,className:f[Ne.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ge===x-1&&b==="after"&&!e.hideNavigation&&be.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[Ne.Nav],style:H?.[Ne.Nav],"aria-label":jr(),onPreviousClick:dn,onNextClick:ei,previousMonth:le,nextMonth:pe}),be.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":p==="multiple"||p==="range","aria-label":Yn(Ve.date,l.options,l)||void 0,className:f[Ne.MonthGrid],style:H?.[Ne.MonthGrid]},!e.hideWeekdays&&be.createElement(r.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:f[Ne.Weekdays],style:H?.[Ne.Weekdays]},P&&be.createElement(r.WeekNumberHeader,{"aria-label":Qt(l.options),className:f[Ne.WeekNumberHeader],style:H?.[Ne.WeekNumberHeader],scope:"col"},U()),du.map(ze=>be.createElement(r.Weekday,{"aria-label":ao(ze,l.options,l),className:f[Ne.Weekday],key:String(ze),style:H?.[Ne.Weekday],scope:"col"},q(ze,l.options,l)))),be.createElement(r.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:f[Ne.Weeks],style:H?.[Ne.Weeks]},Ve.weeks.map(ze=>be.createElement(r.Week,{className:f[Ne.Week],key:ze.weekNumber,style:H?.[Ne.Week],week:ze},P&&be.createElement(r.WeekNumber,{week:ze,style:H?.[Ne.WeekNumber],"aria-label":Ft(ze.weekNumber,{locale:u}),className:f[Ne.WeekNumber],scope:"row",role:"rowheader"},L(ze.weekNumber,l)),ze.days.map(Me=>{const{date:Rt}=Me,Le=K(Me);if(Le[Vt.focused]=!Le.hidden&&!!ie?.isEqualTo(Me),Le[mi.selected]=ue?.(Rt)||Le.selected,wg(xe)){const{from:Kn,to:ti}=xe;Le[mi.range_start]=!!(Kn&&ti&&l.isSameDay(Rt,Kn)),Le[mi.range_end]=!!(Kn&&ti&&l.isSameDay(Rt,ti)),Le[mi.range_middle]=Ds(xe,Rt,!0,l)}const hr=YH(Le,H,e.modifiersStyles),hu=RH(Le,f,e.modifiersClassNames),xl=!oo&&!Le.hidden?Yt(Rt,Le,l.options,l):void 0;return be.createElement(r.Day,{key:`${Me.isoDate}_${Me.displayMonthId}`,day:Me,modifiers:Le,className:hu.join(" "),style:hr,role:"gridcell","aria-selected":Le.selected||void 0,"aria-label":xl,"data-day":Me.isoDate,"data-month":Me.outside?Me.dateMonthId:void 0,"data-selected":Le.selected||void 0,"data-disabled":Le.disabled||void 0,"data-hidden":Le.hidden||void 0,"data-outside":Me.outside||void 0,"data-focused":Le.focused||void 0,"data-today":Le.today||void 0},!Le.hidden&&oo?be.createElement(r.DayButton,{className:f[Ne.DayButton],style:H?.[Ne.DayButton],type:"button",day:Me,modifiers:Le,disabled:!Le.focused&&Le.disabled||void 0,"aria-disabled":Le.focused&&Le.disabled||void 0,tabIndex:Ie(Me)?0:-1,"aria-label":kt(Rt,Le,l.options,l),onClick:lo(Me,Le),onBlur:_i(Me,Le),onFocus:co(Me,Le),onKeyDown:fu(Me,Le),onMouseEnter:bl(Me,Le),onMouseLeave:yl(Me,Le)},R(Rt,l.options,l)):!Le.hidden&&R(Me.date,l.options,l))})))))))),e.footer&&be.createElement(r.Footer,{className:f[Ne.Footer],style:H?.[Ne.Footer],role:"status","aria-live":"polite"},e.footer)))}function MR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=MR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=MR(t))&&(r&&(r+=" "),r+=e);return r}const _F=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},EF=(t,e)=>({classGroupId:t,validator:e}),OR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Sp="-",xA=[],SF="arbitrary..",kF=t=>{const e=TF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return AF(l);const u=l.split(Sp),f=u[0]===""&&u.length>1?1:0;return IR(u,f,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const f=r[l],m=n[l];return f?m?_F(m,f):f:m||xA}return n[l]||xA}}},IR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const m=IR(t,e+1,a);if(m)return m}const l=n.validators;if(l===null)return;const u=e===0?t.join(Sp):t.slice(e).join(Sp),f=l.length;for(let m=0;m<f;m++){const p=l[m];if(p.validator(u))return p.classGroupId}},AF=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?SF+r:void 0})(),TF=t=>{const{theme:e,classGroups:n}=t;return CF(n,e)},CF=(t,e)=>{const n=OR();for(const r in t){const i=t[r];uw(i,n,r,e)}return n},uw=(t,e,n,r)=>{const i=t.length;for(let a=0;a<i;a++){const l=t[a];NF(l,e,n,r)}},NF=(t,e,n,r)=>{if(typeof t=="string"){RF(t,e,n);return}if(typeof t=="function"){DF(t,e,n,r);return}zF(t,e,n,r)},RF=(t,e,n)=>{const r=t===""?e:PR(e,t);r.classGroupId=n},DF=(t,e,n,r)=>{if(MF(t)){uw(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(EF(n,t))},zF=(t,e,n,r)=>{const i=Object.entries(t),a=i.length;for(let l=0;l<a;l++){const[u,f]=i[l];uw(f,PR(e,u),n,r)}},PR=(t,e)=>{let n=t;const r=e.split(Sp),i=r.length;for(let a=0;a<i;a++){const l=r[a];let u=n.nextPart.get(l);u||(u=OR(),n.nextPart.set(l,u)),n=u}return n},MF=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,jF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(a,l)=>{n[a]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let l=n[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return i(a,l),l},set(a,l){a in n?n[a]=l:i(a,l)}}},xv="!",wA=":",OF=[],_A=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),IF=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let l=0,u=0,f=0,m;const p=i.length;for(let S=0;S<p;S++){const k=i[S];if(l===0&&u===0){if(k===wA){a.push(i.slice(f,S)),f=S+1;continue}if(k==="/"){m=S;continue}}k==="["?l++:k==="]"?l--:k==="("?u++:k===")"&&u--}const b=a.length===0?i:i.slice(f);let x=b,w=!1;b.endsWith(xv)?(x=b.slice(0,-1),w=!0):b.startsWith(xv)&&(x=b.slice(1),w=!0);const A=m&&m>f?m-f:void 0;return _A(a,w,x,A)};if(e){const i=e+wA,a=r;r=l=>l.startsWith(i)?a(l.slice(i.length)):_A(OF,!1,l,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},PF=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const l=n[a],u=l[0]==="[",f=e.has(l);u||f?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},VF=t=>({cache:jF(t.cacheSize),parseClassName:IF(t),sortModifiers:PF(t),...kF(t)}),LF=/\s+/,UF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],u=t.trim().split(LF);let f="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{isExternal:b,modifiers:x,hasImportantModifier:w,baseClassName:A,maybePostfixModifierPosition:S}=n(p);if(b){f=p+(f.length>0?" "+f:f);continue}let k=!!S,N=r(k?A.substring(0,S):A);if(!N){if(!k){f=p+(f.length>0?" "+f:f);continue}if(N=r(A),!N){f=p+(f.length>0?" "+f:f);continue}k=!1}const j=x.length===0?"":x.length===1?x[0]:a(x).join(":"),z=w?j+xv:j,M=z+N;if(l.indexOf(M)>-1)continue;l.push(M);const P=i(N,k);for(let H=0;H<P.length;++H){const D=P[H];l.push(z+D)}f=p+(f.length>0?" "+f:f)}return f},BF=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=VR(n))&&(i&&(i+=" "),i+=r);return i},VR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VR(t[r]))&&(n&&(n+=" "),n+=e);return n},HF=(t,...e)=>{let n,r,i,a;const l=f=>{const m=e.reduce((p,b)=>b(p),t());return n=VF(m),r=n.cache.get,i=n.cache.set,a=u,u(f)},u=f=>{const m=r(f);if(m)return m;const p=UF(f,n);return i(f,p),p};return a=l,(...f)=>a(BF(...f))},FF=[],mn=t=>{const e=n=>n[t]||FF;return e.isThemeGetter=!0,e},LR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qF=/^\d+\/\d+$/,$F=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,YF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dc=t=>qF.test(t),Ke=t=>!!t&&!Number.isNaN(Number(t)),ka=t=>!!t&&Number.isInteger(Number(t)),hy=t=>t.endsWith("%")&&Ke(t.slice(0,-1)),Ns=t=>$F.test(t),XF=()=>!0,KF=t=>WF.test(t)&&!GF.test(t),BR=()=>!1,ZF=t=>YF.test(t),JF=t=>QF.test(t),e7=t=>!ke(t)&&!Ae(t),t7=t=>su(t,qR,BR),ke=t=>LR.test(t),Vo=t=>su(t,$R,KF),my=t=>su(t,a7,Ke),EA=t=>su(t,HR,BR),n7=t=>su(t,FR,JF),vm=t=>su(t,WR,ZF),Ae=t=>UR.test(t),Ed=t=>au(t,$R),r7=t=>au(t,o7),SA=t=>au(t,HR),i7=t=>au(t,qR),s7=t=>au(t,FR),xm=t=>au(t,WR,!0),su=(t,e,n)=>{const r=LR.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},au=(t,e,n=!1)=>{const r=UR.exec(t);return r?r[1]?e(r[1]):n:!1},HR=t=>t==="position"||t==="percentage",FR=t=>t==="image"||t==="url",qR=t=>t==="length"||t==="size"||t==="bg-size",$R=t=>t==="length",a7=t=>t==="number",o7=t=>t==="family-name",WR=t=>t==="shadow",l7=()=>{const t=mn("color"),e=mn("font"),n=mn("text"),r=mn("font-weight"),i=mn("tracking"),a=mn("leading"),l=mn("breakpoint"),u=mn("container"),f=mn("spacing"),m=mn("radius"),p=mn("shadow"),b=mn("inset-shadow"),x=mn("text-shadow"),w=mn("drop-shadow"),A=mn("blur"),S=mn("perspective"),k=mn("aspect"),N=mn("ease"),j=mn("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...M(),Ae,ke],H=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],R=()=>[Ae,ke,f],I=()=>[dc,"full","auto",...R()],L=()=>[ka,"none","subgrid",Ae,ke],U=()=>["auto",{span:["full",ka,Ae,ke]},ka,Ae,ke],q=()=>[ka,"auto",Ae,ke],B=()=>["auto","min","max","fr",Ae,ke],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_e=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...R()],te=()=>[dc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],Y=()=>[t,Ae,ke],le=()=>[...M(),SA,EA,{position:[Ae,ke]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",i7,t7,{size:[Ae,ke]}],K=()=>[hy,Ed,Vo],ue=()=>["","none","full",m,Ae,ke],ge=()=>["",Ke,Ed,Vo],xe=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[Ke,hy,SA,EA],Ie=()=>["","none",A,Ae,ke],qe=()=>["none",Ke,Ae,ke],Qe=()=>["none",Ke,Ae,ke],kt=()=>[Ke,Ae,ke],Yt=()=>[dc,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ns],breakpoint:[Ns],color:[XF],container:[Ns],"drop-shadow":[Ns],ease:["in","out","in-out"],font:[e7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ns],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ns],shadow:[Ns],spacing:["px",Ke],text:[Ns],"text-shadow":[Ns],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dc,ke,Ae,k]}],container:["container"],columns:[{columns:[Ke,ke,Ae,u]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[ka,"auto",Ae,ke]}],basis:[{basis:[dc,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,dc,"auto","initial","none",ke]}],grow:[{grow:["",Ke,Ae,ke]}],shrink:[{shrink:["",Ke,Ae,ke]}],order:[{order:[ka,"first","last","none",Ae,ke]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[..._e(),"normal"]}],"justify-self":[{"justify-self":["auto",..._e()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[..._e(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._e(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[..._e(),"baseline"]}],"place-self":[{"place-self":["auto",..._e()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[u,"screen",...te()]}],"min-w":[{"min-w":[u,"screen","none",...te()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,Ed,Vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,my]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hy,ke]}],"font-family":[{font:[r7,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ae,ke]}],"line-clamp":[{"line-clamp":[Ke,"none",Ae,my]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Ae,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",Ae,Vo]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Ke,"auto",Ae,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ka,Ae,ke],radial:["",Ae,ke],conic:[ka,Ae,ke]},s7,n7]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,Ae,ke]}],"outline-w":[{outline:["",Ke,Ed,Vo]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",p,xm,vm]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",b,xm,vm]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Ke,Vo]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",x,xm,vm]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Ke,Ae,ke]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Ae,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,ke]}],filter:[{filter:["","none",Ae,ke]}],blur:[{blur:Ie()}],brightness:[{brightness:[Ke,Ae,ke]}],contrast:[{contrast:[Ke,Ae,ke]}],"drop-shadow":[{"drop-shadow":["","none",w,xm,vm]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Ke,Ae,ke]}],"hue-rotate":[{"hue-rotate":[Ke,Ae,ke]}],invert:[{invert:["",Ke,Ae,ke]}],saturate:[{saturate:[Ke,Ae,ke]}],sepia:[{sepia:["",Ke,Ae,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,ke]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,Ae,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,Ae,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,Ae,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,Ae,ke]}],"backdrop-invert":[{"backdrop-invert":["",Ke,Ae,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,Ae,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,Ae,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,Ae,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",Ae,ke]}],ease:[{ease:["linear","initial",N,Ae,ke]}],delay:[{delay:[Ke,Ae,ke]}],animate:[{animate:["none",j,Ae,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Ae,ke]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:kt()}],"skew-x":[{"skew-x":kt()}],"skew-y":[{"skew-y":kt()}],transform:[{transform:[Ae,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Yt()}],"translate-x":[{"translate-x":Yt()}],"translate-y":[{"translate-y":Yt()}],"translate-z":[{"translate-z":Yt()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,ke]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Ke,Ed,Vo,my]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},c7=HF(l7);function Xe(...t){return c7(jR(t))}function kA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mf(...t){return e=>{let n=!1;const r=t.map(i=>{const a=kA(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():kA(t[i],null)}}}}function Zr(...t){return E.useCallback(Mf(...t),t)}var u7=Symbol.for("react.lazy"),kp=qv[" use ".trim().toString()];function d7(t){return typeof t=="object"&&t!==null&&"then"in t}function GR(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===u7&&"_payload"in t&&d7(t._payload)}function f7(t){const e=m7(t),n=E.forwardRef((r,i)=>{let{children:a,...l}=r;GR(a)&&typeof kp=="function"&&(a=kp(a._payload));const u=E.Children.toArray(a),f=u.find(g7);if(f){const m=f.props.children,p=u.map(b=>b===f?E.Children.count(m)>1?E.Children.only(null):E.isValidElement(m)?m.props.children:null:b);return d.jsx(e,{...l,ref:i,children:E.isValidElement(m)?E.cloneElement(m,void 0,p):null})}return d.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var h7=f7("Slot");function m7(t){const e=E.forwardRef((n,r)=>{let{children:i,...a}=n;if(GR(i)&&typeof kp=="function"&&(i=kp(i._payload)),E.isValidElement(i)){const l=y7(i),u=b7(a,i.props);return i.type!==E.Fragment&&(u.ref=r?Mf(r,l):l),E.cloneElement(i,u)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var p7=Symbol("radix.slottable");function g7(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===p7}function b7(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function y7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const AA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,TA=jR,YR=(t,e)=>n=>{var r;if(e?.variants==null)return TA(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(m=>{const p=n?.[m],b=a?.[m];if(p===null)return null;const x=AA(p)||AA(b);return i[m][x]}),u=n&&Object.entries(n).reduce((m,p)=>{let[b,x]=p;return x===void 0||(m[b]=x),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,p)=>{let{class:b,className:x,...w}=p;return Object.entries(w).every(A=>{let[S,k]=A;return Array.isArray(k)?k.includes({...a,...u}[S]):{...a,...u}[S]===k})?[...m,b,x]:m},[]);return TA(t,l,f,n?.class,n?.className)},wv=YR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function v7({className:t,variant:e="default",size:n="default",asChild:r=!1,...i}){const a=r?h7:"button";return d.jsx(a,{"data-slot":"button","data-variant":e,"data-size":n,className:Xe(wv({variant:e,size:n,className:t})),...i})}function of({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:i="ghost",formatters:a,components:l,...u}){const f=ow();return d.jsx(wF,{showOutsideDays:n,className:Xe("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:m=>m.toLocaleString("default",{month:"short"}),...a},classNames:{root:Xe("w-fit",f.root),months:Xe("flex gap-4 flex-col md:flex-row relative",f.months),month:Xe("flex flex-col w-full gap-4",f.month),nav:Xe("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:Xe(wv({variant:i}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:Xe(wv({variant:i}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:Xe("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:Xe("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:Xe("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",f.dropdown_root),dropdown:Xe("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:Xe("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:Xe("flex",f.weekdays),weekday:Xe("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:Xe("flex w-full mt-2",f.week),week_number_header:Xe("select-none w-(--cell-size)",f.week_number_header),week_number:Xe("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:Xe("relative w-full h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",u.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-md":"[&:first-child[data-selected=true]_button]:rounded-l-md",f.day),range_start:Xe("rounded-l-md bg-accent",f.range_start),range_middle:Xe("rounded-none",f.range_middle),range_end:Xe("rounded-r-md bg-accent",f.range_end),today:Xe("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",f.today),outside:Xe("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:Xe("text-muted-foreground opacity-50",f.disabled),hidden:Xe("invisible",f.hidden),...e},components:{Root:({className:m,rootRef:p,...b})=>d.jsx("div",{"data-slot":"calendar",ref:p,className:Xe(m),...b}),Chevron:({className:m,orientation:p,...b})=>p==="left"?d.jsx(Gy,{className:Xe("size-4",m),...b}):p==="right"?d.jsx(ep,{className:Xe("size-4",m),...b}):d.jsx(Rc,{className:Xe("size-4",m),...b}),DayButton:x7,WeekNumber:({children:m,...p})=>d.jsx("td",{...p,children:d.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:m})}),...l},...u})}function x7({className:t,day:e,modifiers:n,...r}){const i=ow(),a=E.useRef(null);return E.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),d.jsx(v7,{ref:a,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:Xe("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",i.day,t),...r})}function wn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function Eg(t,e=[]){let n=[];function r(a,l){const u=E.createContext(l),f=n.length;n=[...n,l];const m=b=>{const{scope:x,children:w,...A}=b,S=x?.[t]?.[f]||u,k=E.useMemo(()=>A,Object.values(A));return d.jsx(S.Provider,{value:k,children:w})};m.displayName=a+"Provider";function p(b,x){const w=x?.[t]?.[f]||u,A=E.useContext(w);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${b}\` must be used within \`${a}\``)}return[m,p]}const i=()=>{const a=n.map(l=>E.createContext(l));return function(u){const f=u?.[t]||a;return E.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return i.scopeName=t,[r,w7(i,...e)]}function w7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:m})=>{const b=f(a)[`__scope${m}`];return{...u,...b}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function _7(t){const e=E7(t),n=E.forwardRef((r,i)=>{const{children:a,...l}=r,u=E.Children.toArray(a),f=u.find(k7);if(f){const m=f.props.children,p=u.map(b=>b===f?E.Children.count(m)>1?E.Children.only(null):E.isValidElement(m)?m.props.children:null:b);return d.jsx(e,{...l,ref:i,children:E.isValidElement(m)?E.cloneElement(m,void 0,p):null})}return d.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function E7(t){const e=E.forwardRef((n,r)=>{const{children:i,...a}=n;if(E.isValidElement(i)){const l=T7(i),u=A7(a,i.props);return i.type!==E.Fragment&&(u.ref=r?Mf(r,l):l),E.cloneElement(i,u)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var S7=Symbol("radix.slottable");function k7(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===S7}function A7(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function T7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var C7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hn=C7.reduce((t,e)=>{const n=_7(`Primitive.${e}`),r=E.forwardRef((i,a)=>{const{asChild:l,...u}=i,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function QR(t,e){t&&Zo.flushSync(()=>t.dispatchEvent(e))}function is(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>e.current?.(...n),[])}function N7(t,e=globalThis?.document){const n=is(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var R7="DismissableLayer",_v="dismissableLayer.update",D7="dismissableLayer.pointerDownOutside",z7="dismissableLayer.focusOutside",CA,XR=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dw=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=t,m=E.useContext(XR),[p,b]=E.useState(null),x=p?.ownerDocument??globalThis?.document,[,w]=E.useState({}),A=Zr(e,D=>b(D)),S=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(k),j=p?S.indexOf(p):-1,z=m.layersWithOutsidePointerEventsDisabled.size>0,M=j>=N,P=j7(D=>{const R=D.target,I=[...m.branches].some(L=>L.contains(R));!M||I||(i?.(D),l?.(D),D.defaultPrevented||u?.())},x),H=O7(D=>{const R=D.target;[...m.branches].some(L=>L.contains(R))||(a?.(D),l?.(D),D.defaultPrevented||u?.())},x);return N7(D=>{j===m.layers.size-1&&(r?.(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},x),E.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(CA=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),NA(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=CA)}},[p,x,n,m]),E.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),NA())},[p,m]),E.useEffect(()=>{const D=()=>w({});return document.addEventListener(_v,D),()=>document.removeEventListener(_v,D)},[]),d.jsx(Hn.div,{...f,ref:A,style:{pointerEvents:z?M?"auto":"none":void 0,...t.style},onFocusCapture:wn(t.onFocusCapture,H.onFocusCapture),onBlurCapture:wn(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:wn(t.onPointerDownCapture,P.onPointerDownCapture)})});dw.displayName=R7;var M7="DismissableLayerBranch",KR=E.forwardRef((t,e)=>{const n=E.useContext(XR),r=E.useRef(null),i=Zr(e,r);return E.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),d.jsx(Hn.div,{...t,ref:i})});KR.displayName=M7;function j7(t,e=globalThis?.document){const n=is(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){ZR(D7,n,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function O7(t,e=globalThis?.document){const n=is(t),r=E.useRef(!1);return E.useEffect(()=>{const i=a=>{a.target&&!r.current&&ZR(z7,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function NA(){const t=new CustomEvent(_v);document.dispatchEvent(t)}function ZR(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?QR(i,a):i.dispatchEvent(a)}var I7=dw,P7=KR,py=0;function V7(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??RA()),document.body.insertAdjacentElement("beforeend",t[1]??RA()),py++,()=>{py===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),py--}},[])}function RA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gy="focusScope.autoFocusOnMount",by="focusScope.autoFocusOnUnmount",DA={bubbles:!1,cancelable:!0},L7="FocusScope",JR=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[u,f]=E.useState(null),m=is(i),p=is(a),b=E.useRef(null),x=Zr(e,S=>f(S)),w=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let S=function(z){if(w.paused||!u)return;const M=z.target;u.contains(M)?b.current=M:Aa(b.current,{select:!0})},k=function(z){if(w.paused||!u)return;const M=z.relatedTarget;M!==null&&(u.contains(M)||Aa(b.current,{select:!0}))},N=function(z){if(document.activeElement===document.body)for(const P of z)P.removedNodes.length>0&&Aa(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",k);const j=new MutationObserver(N);return u&&j.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",k),j.disconnect()}}},[r,u,w.paused]),E.useEffect(()=>{if(u){MA.add(w);const S=document.activeElement;if(!u.contains(S)){const N=new CustomEvent(gy,DA);u.addEventListener(gy,m),u.dispatchEvent(N),N.defaultPrevented||(U7($7(eD(u)),{select:!0}),document.activeElement===S&&Aa(u))}return()=>{u.removeEventListener(gy,m),setTimeout(()=>{const N=new CustomEvent(by,DA);u.addEventListener(by,p),u.dispatchEvent(N),N.defaultPrevented||Aa(S??document.body,{select:!0}),u.removeEventListener(by,p),MA.remove(w)},0)}}},[u,m,p,w]);const A=E.useCallback(S=>{if(!n&&!r||w.paused)return;const k=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(k&&N){const j=S.currentTarget,[z,M]=B7(j);z&&M?!S.shiftKey&&N===M?(S.preventDefault(),n&&Aa(z,{select:!0})):S.shiftKey&&N===z&&(S.preventDefault(),n&&Aa(M,{select:!0})):N===j&&S.preventDefault()}},[n,r,w.paused]);return d.jsx(Hn.div,{tabIndex:-1,...l,ref:x,onKeyDown:A})});JR.displayName=L7;function U7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Aa(r,{select:e}),document.activeElement!==n)return}function B7(t){const e=eD(t),n=zA(e,t),r=zA(e.reverse(),t);return[n,r]}function eD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zA(t,e){for(const n of t)if(!H7(n,{upTo:e}))return n}function H7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function F7(t){return t instanceof HTMLInputElement&&"select"in t}function Aa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&F7(t)&&e&&t.select()}}var MA=q7();function q7(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=jA(t,e),t.unshift(e)},remove(e){t=jA(t,e),t[0]?.resume()}}}function jA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function $7(t){return t.filter(e=>e.tagName!=="A")}var Us=globalThis?.document?E.useLayoutEffect:()=>{},W7=qv[" useId ".trim().toString()]||(()=>{}),G7=0;function Y7(t){const[e,n]=E.useState(W7());return Us(()=>{n(r=>r??String(G7++))},[t]),t||(e?`radix-${e}`:"")}const Q7=["top","right","bottom","left"],Ya=Math.min,kr=Math.max,Ap=Math.round,wm=Math.floor,Ji=t=>({x:t,y:t}),X7={left:"right",right:"left",bottom:"top",top:"bottom"},K7={start:"end",end:"start"};function Ev(t,e,n){return kr(t,Ya(e,n))}function Bs(t,e){return typeof t=="function"?t(e):t}function Hs(t){return t.split("-")[0]}function ou(t){return t.split("-")[1]}function fw(t){return t==="x"?"y":"x"}function hw(t){return t==="y"?"height":"width"}const Z7=new Set(["top","bottom"]);function Yi(t){return Z7.has(Hs(t))?"y":"x"}function mw(t){return fw(Yi(t))}function J7(t,e,n){n===void 0&&(n=!1);const r=ou(t),i=mw(t),a=hw(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Tp(l)),[l,Tp(l)]}function eq(t){const e=Tp(t);return[Sv(t),e,Sv(e)]}function Sv(t){return t.replace(/start|end/g,e=>K7[e])}const OA=["left","right"],IA=["right","left"],tq=["top","bottom"],nq=["bottom","top"];function rq(t,e,n){switch(t){case"top":case"bottom":return n?e?IA:OA:e?OA:IA;case"left":case"right":return e?tq:nq;default:return[]}}function iq(t,e,n,r){const i=ou(t);let a=rq(Hs(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(Sv)))),a}function Tp(t){return t.replace(/left|right|bottom|top/g,e=>X7[e])}function sq(t){return{top:0,right:0,bottom:0,left:0,...t}}function tD(t){return typeof t!="number"?sq(t):{top:t,right:t,bottom:t,left:t}}function Cp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function PA(t,e,n){let{reference:r,floating:i}=t;const a=Yi(e),l=mw(e),u=hw(l),f=Hs(e),m=a==="y",p=r.x+r.width/2-i.width/2,b=r.y+r.height/2-i.height/2,x=r[u]/2-i[u]/2;let w;switch(f){case"top":w={x:p,y:r.y-i.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:b};break;case"left":w={x:r.x-i.width,y:b};break;default:w={x:r.x,y:r.y}}switch(ou(e)){case"start":w[l]-=x*(n&&m?-1:1);break;case"end":w[l]+=x*(n&&m?-1:1);break}return w}const aq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:b}=PA(m,r,f),x=r,w={},A=0;for(let S=0;S<u.length;S++){const{name:k,fn:N}=u[S],{x:j,y:z,data:M,reset:P}=await N({x:p,y:b,initialPlacement:r,placement:x,strategy:i,middlewareData:w,rects:m,platform:l,elements:{reference:t,floating:e}});p=j??p,b=z??b,w={...w,[k]:{...w[k],...M}},P&&A<=50&&(A++,typeof P=="object"&&(P.placement&&(x=P.placement),P.rects&&(m=P.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:p,y:b}=PA(m,x,f)),S=-1)}return{x:p,y:b,placement:x,strategy:i,middlewareData:w}};async function lf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:b="floating",altBoundary:x=!1,padding:w=0}=Bs(e,t),A=tD(w),k=u[x?b==="floating"?"reference":"floating":b],N=Cp(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:m,rootBoundary:p,strategy:f})),j=b==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,z=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),M=await(a.isElement==null?void 0:a.isElement(z))?await(a.getScale==null?void 0:a.getScale(z))||{x:1,y:1}:{x:1,y:1},P=Cp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:z,strategy:f}):j);return{top:(N.top-P.top+A.top)/M.y,bottom:(P.bottom-N.bottom+A.bottom)/M.y,left:(N.left-P.left+A.left)/M.x,right:(P.right-N.right+A.right)/M.x}}const oq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:f}=e,{element:m,padding:p=0}=Bs(t,e)||{};if(m==null)return{};const b=tD(p),x={x:n,y:r},w=mw(i),A=hw(w),S=await l.getDimensions(m),k=w==="y",N=k?"top":"left",j=k?"bottom":"right",z=k?"clientHeight":"clientWidth",M=a.reference[A]+a.reference[w]-x[w]-a.floating[A],P=x[w]-a.reference[w],H=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let D=H?H[z]:0;(!D||!await(l.isElement==null?void 0:l.isElement(H)))&&(D=u.floating[z]||a.floating[A]);const R=M/2-P/2,I=D/2-S[A]/2-1,L=Ya(b[N],I),U=Ya(b[j],I),q=L,B=D-S[A]-U,oe=D/2-S[A]/2+R,_e=Ev(q,oe,B),W=!f.arrow&&ou(i)!=null&&oe!==_e&&a.reference[A]/2-(oe<q?L:U)-S[A]/2<0,te=W?oe<q?oe-q:oe-B:0;return{[w]:x[w]+te,data:{[w]:_e,centerOffset:oe-_e-te,...W&&{alignmentOffset:te}},reset:W}}}),lq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:m}=e,{mainAxis:p=!0,crossAxis:b=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:S=!0,...k}=Bs(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=Hs(i),j=Yi(u),z=Hs(u)===u,M=await(f.isRTL==null?void 0:f.isRTL(m.floating)),P=x||(z||!S?[Tp(u)]:eq(u)),H=A!=="none";!x&&H&&P.push(...iq(u,S,A,M));const D=[u,...P],R=await lf(e,k),I=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&I.push(R[N]),b){const oe=J7(i,l,M);I.push(R[oe[0]],R[oe[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(oe=>oe<=0)){var U,q;const oe=(((U=a.flip)==null?void 0:U.index)||0)+1,_e=D[oe];if(_e&&(!(b==="alignment"?j!==Yi(_e):!1)||L.every(Y=>Yi(Y.placement)===j?Y.overflows[0]>0:!0)))return{data:{index:oe,overflows:L},reset:{placement:_e}};let W=(q=L.filter(te=>te.overflows[0]<=0).sort((te,Y)=>te.overflows[1]-Y.overflows[1])[0])==null?void 0:q.placement;if(!W)switch(w){case"bestFit":{var B;const te=(B=L.filter(Y=>{if(H){const le=Yi(Y.placement);return le===j||le==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(le=>le>0).reduce((le,pe)=>le+pe,0)]).sort((Y,le)=>Y[1]-le[1])[0])==null?void 0:B[0];te&&(W=te);break}case"initialPlacement":W=u;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function VA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function LA(t){return Q7.some(e=>t[e]>=0)}const cq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Bs(t,e);switch(r){case"referenceHidden":{const a=await lf(e,{...i,elementContext:"reference"}),l=VA(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:LA(l)}}}case"escaped":{const a=await lf(e,{...i,altBoundary:!0}),l=VA(a,n.floating);return{data:{escapedOffsets:l,escaped:LA(l)}}}default:return{}}}}},nD=new Set(["left","top"]);async function uq(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Hs(n),u=ou(n),f=Yi(n)==="y",m=nD.has(l)?-1:1,p=a&&f?-1:1,b=Bs(e,t);let{mainAxis:x,crossAxis:w,alignmentAxis:A}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return u&&typeof A=="number"&&(w=u==="end"?A*-1:A),f?{x:w*p,y:x*m}:{x:x*m,y:w*p}}const dq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:u}=e,f=await uq(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:l}}}}},fq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:k=>{let{x:N,y:j}=k;return{x:N,y:j}}},...f}=Bs(t,e),m={x:n,y:r},p=await lf(e,f),b=Yi(Hs(i)),x=fw(b);let w=m[x],A=m[b];if(a){const k=x==="y"?"top":"left",N=x==="y"?"bottom":"right",j=w+p[k],z=w-p[N];w=Ev(j,w,z)}if(l){const k=b==="y"?"top":"left",N=b==="y"?"bottom":"right",j=A+p[k],z=A-p[N];A=Ev(j,A,z)}const S=u.fn({...e,[x]:w,[b]:A});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[x]:a,[b]:l}}}}}},hq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:m=!0}=Bs(t,e),p={x:n,y:r},b=Yi(i),x=fw(b);let w=p[x],A=p[b];const S=Bs(u,e),k=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const z=x==="y"?"height":"width",M=a.reference[x]-a.floating[z]+k.mainAxis,P=a.reference[x]+a.reference[z]-k.mainAxis;w<M?w=M:w>P&&(w=P)}if(m){var N,j;const z=x==="y"?"width":"height",M=nD.has(Hs(i)),P=a.reference[b]-a.floating[z]+(M&&((N=l.offset)==null?void 0:N[b])||0)+(M?0:k.crossAxis),H=a.reference[b]+a.reference[z]+(M?0:((j=l.offset)==null?void 0:j[b])||0)-(M?k.crossAxis:0);A<P?A=P:A>H&&(A=H)}return{[x]:w,[b]:A}}}},mq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:f=()=>{},...m}=Bs(t,e),p=await lf(e,m),b=Hs(i),x=ou(i),w=Yi(i)==="y",{width:A,height:S}=a.floating;let k,N;b==="top"||b==="bottom"?(k=b,N=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=b,k=x==="end"?"top":"bottom");const j=S-p.top-p.bottom,z=A-p.left-p.right,M=Ya(S-p[k],j),P=Ya(A-p[N],z),H=!e.middlewareData.shift;let D=M,R=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=j),H&&!x){const L=kr(p.left,0),U=kr(p.right,0),q=kr(p.top,0),B=kr(p.bottom,0);w?R=A-2*(L!==0||U!==0?L+U:kr(p.left,p.right)):D=S-2*(q!==0||B!==0?q+B:kr(p.top,p.bottom))}await f({...e,availableWidth:R,availableHeight:D});const I=await l.getDimensions(u.floating);return A!==I.width||S!==I.height?{reset:{rects:!0}}:{}}}};function Sg(){return typeof window<"u"}function lu(t){return rD(t)?(t.nodeName||"").toLowerCase():"#document"}function Nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cs(t){var e;return(e=(rD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rD(t){return Sg()?t instanceof Node||t instanceof Nr(t).Node:!1}function yi(t){return Sg()?t instanceof Element||t instanceof Nr(t).Element:!1}function ss(t){return Sg()?t instanceof HTMLElement||t instanceof Nr(t).HTMLElement:!1}function UA(t){return!Sg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nr(t).ShadowRoot}const pq=new Set(["inline","contents"]);function jf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!pq.has(i)}const gq=new Set(["table","td","th"]);function bq(t){return gq.has(lu(t))}const yq=[":popover-open",":modal"];function kg(t){return yq.some(e=>{try{return t.matches(e)}catch{return!1}})}const vq=["transform","translate","scale","rotate","perspective"],xq=["transform","translate","scale","rotate","perspective","filter"],wq=["paint","layout","strict","content"];function pw(t){const e=gw(),n=yi(t)?vi(t):t;return vq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||xq.some(r=>(n.willChange||"").includes(r))||wq.some(r=>(n.contain||"").includes(r))}function _q(t){let e=Qa(t);for(;ss(e)&&!Fc(e);){if(pw(e))return e;if(kg(e))return null;e=Qa(e)}return null}function gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Eq=new Set(["html","body","#document"]);function Fc(t){return Eq.has(lu(t))}function vi(t){return Nr(t).getComputedStyle(t)}function Ag(t){return yi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qa(t){if(lu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||UA(t)&&t.host||cs(t);return UA(e)?e.host:e}function iD(t){const e=Qa(t);return Fc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ss(e)&&jf(e)?e:iD(e)}function cf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=iD(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=Nr(i);if(a){const u=kv(l);return e.concat(l,l.visualViewport||[],jf(i)?i:[],u&&n?cf(u):[])}return e.concat(i,cf(i,[],n))}function kv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sD(t){const e=vi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ss(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,u=Ap(n)!==a||Ap(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function bw(t){return yi(t)?t:t.contextElement}function kc(t){const e=bw(t);if(!ss(e))return Ji(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=sD(e);let l=(a?Ap(n.width):n.width)/r,u=(a?Ap(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Sq=Ji(0);function aD(t){const e=Nr(t);return!gw()||!e.visualViewport?Sq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nr(t)?!1:e}function rl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=bw(t);let l=Ji(1);e&&(r?yi(r)&&(l=kc(r)):l=kc(t));const u=kq(a,n,r)?aD(a):Ji(0);let f=(i.left+u.x)/l.x,m=(i.top+u.y)/l.y,p=i.width/l.x,b=i.height/l.y;if(a){const x=Nr(a),w=r&&yi(r)?Nr(r):r;let A=x,S=kv(A);for(;S&&r&&w!==A;){const k=kc(S),N=S.getBoundingClientRect(),j=vi(S),z=N.left+(S.clientLeft+parseFloat(j.paddingLeft))*k.x,M=N.top+(S.clientTop+parseFloat(j.paddingTop))*k.y;f*=k.x,m*=k.y,p*=k.x,b*=k.y,f+=z,m+=M,A=Nr(S),S=kv(A)}}return Cp({width:p,height:b,x:f,y:m})}function Tg(t,e){const n=Ag(t).scrollLeft;return e?e.left+n:rl(cs(t)).left+n}function oD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Tg(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Aq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=cs(r),u=e?kg(e.floating):!1;if(r===l||u&&a)return n;let f={scrollLeft:0,scrollTop:0},m=Ji(1);const p=Ji(0),b=ss(r);if((b||!b&&!a)&&((lu(r)!=="body"||jf(l))&&(f=Ag(r)),ss(r))){const w=rl(r);m=kc(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const x=l&&!b&&!a?oD(l,f):Ji(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+p.x+x.x,y:n.y*m.y-f.scrollTop*m.y+p.y+x.y}}function Tq(t){return Array.from(t.getClientRects())}function Cq(t){const e=cs(t),n=Ag(t),r=t.ownerDocument.body,i=kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Tg(t);const u=-n.scrollTop;return vi(r).direction==="rtl"&&(l+=kr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}const BA=25;function Nq(t,e){const n=Nr(t),r=cs(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,f=0;if(i){a=i.width,l=i.height;const p=gw();(!p||p&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}const m=Tg(r);if(m<=0){const p=r.ownerDocument,b=p.body,x=getComputedStyle(b),w=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,A=Math.abs(r.clientWidth-b.clientWidth-w);A<=BA&&(a-=A)}else m<=BA&&(a+=m);return{width:a,height:l,x:u,y:f}}const Rq=new Set(["absolute","fixed"]);function Dq(t,e){const n=rl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ss(t)?kc(t):Ji(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,f=i*a.x,m=r*a.y;return{width:l,height:u,x:f,y:m}}function HA(t,e,n){let r;if(e==="viewport")r=Nq(t,n);else if(e==="document")r=Cq(cs(t));else if(yi(e))r=Dq(e,n);else{const i=aD(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Cp(r)}function lD(t,e){const n=Qa(t);return n===e||!yi(n)||Fc(n)?!1:vi(n).position==="fixed"||lD(n,e)}function zq(t,e){const n=e.get(t);if(n)return n;let r=cf(t,[],!1).filter(u=>yi(u)&&lu(u)!=="body"),i=null;const a=vi(t).position==="fixed";let l=a?Qa(t):t;for(;yi(l)&&!Fc(l);){const u=vi(l),f=pw(l);!f&&u.position==="fixed"&&(i=null),(a?!f&&!i:!f&&u.position==="static"&&!!i&&Rq.has(i.position)||jf(l)&&!f&&lD(t,l))?r=r.filter(p=>p!==l):i=u,l=Qa(l)}return e.set(t,r),r}function Mq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?kg(e)?[]:zq(e,this._c):[].concat(n),r],u=l[0],f=l.reduce((m,p)=>{const b=HA(e,p,i);return m.top=kr(b.top,m.top),m.right=Ya(b.right,m.right),m.bottom=Ya(b.bottom,m.bottom),m.left=kr(b.left,m.left),m},HA(e,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function jq(t){const{width:e,height:n}=sD(t);return{width:e,height:n}}function Oq(t,e,n){const r=ss(e),i=cs(e),a=n==="fixed",l=rl(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=Ji(0);function m(){f.x=Tg(i)}if(r||!r&&!a)if((lu(e)!=="body"||jf(i))&&(u=Ag(e)),r){const w=rl(e,!0,a,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else i&&m();a&&!r&&i&&m();const p=i&&!r&&!a?oD(i,u):Ji(0),b=l.left+u.scrollLeft-f.x-p.x,x=l.top+u.scrollTop-f.y-p.y;return{x:b,y:x,width:l.width,height:l.height}}function yy(t){return vi(t).position==="static"}function FA(t,e){if(!ss(t)||vi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return cs(t)===n&&(n=n.ownerDocument.body),n}function cD(t,e){const n=Nr(t);if(kg(t))return n;if(!ss(t)){let i=Qa(t);for(;i&&!Fc(i);){if(yi(i)&&!yy(i))return i;i=Qa(i)}return n}let r=FA(t,e);for(;r&&bq(r)&&yy(r);)r=FA(r,e);return r&&Fc(r)&&yy(r)&&!pw(r)?n:r||_q(t)||n}const Iq=async function(t){const e=this.getOffsetParent||cD,n=this.getDimensions,r=await n(t.floating);return{reference:Oq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Pq(t){return vi(t).direction==="rtl"}const Vq={convertOffsetParentRelativeRectToViewportRelativeRect:Aq,getDocumentElement:cs,getClippingRect:Mq,getOffsetParent:cD,getElementRects:Iq,getClientRects:Tq,getDimensions:jq,getScale:kc,isElement:yi,isRTL:Pq};function uD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Lq(t,e){let n=null,r;const i=cs(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const m=t.getBoundingClientRect(),{left:p,top:b,width:x,height:w}=m;if(u||e(),!x||!w)return;const A=wm(b),S=wm(i.clientWidth-(p+x)),k=wm(i.clientHeight-(b+w)),N=wm(p),z={rootMargin:-A+"px "+-S+"px "+-k+"px "+-N+"px",threshold:kr(0,Ya(1,f))||1};let M=!0;function P(H){const D=H[0].intersectionRatio;if(D!==f){if(!M)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!uD(m,t.getBoundingClientRect())&&l(),M=!1}try{n=new IntersectionObserver(P,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,z)}n.observe(t)}return l(!0),a}function Uq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=bw(t),p=i||a?[...m?cf(m):[],...cf(e)]:[];p.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const b=m&&u?Lq(m,n):null;let x=-1,w=null;l&&(w=new ResizeObserver(N=>{let[j]=N;j&&j.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var z;(z=w)==null||z.observe(e)})),n()}),m&&!f&&w.observe(m),w.observe(e));let A,S=f?rl(t):null;f&&k();function k(){const N=rl(t);S&&!uD(S,N)&&n(),S=N,A=requestAnimationFrame(k)}return n(),()=>{var N;p.forEach(j=>{i&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),b?.(),(N=w)==null||N.disconnect(),w=null,f&&cancelAnimationFrame(A)}}const Bq=dq,Hq=fq,Fq=lq,qq=mq,$q=cq,qA=oq,Wq=hq,Gq=(t,e,n)=>{const r=new Map,i={platform:Vq,...n},a={...i.platform,_c:r};return aq(t,e,{...i,platform:a})};var Yq=typeof document<"u",Qq=function(){},$m=Yq?E.useLayoutEffect:Qq;function Np(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Np(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Np(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function dD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $A(t,e){const n=dD(t);return Math.round(e*n)/n}function vy(t){const e=E.useRef(t);return $m(()=>{e.current=t}),e}function Xq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:m}=t,[p,b]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=E.useState(r);Np(x,r)||w(r);const[A,S]=E.useState(null),[k,N]=E.useState(null),j=E.useCallback(Y=>{Y!==H.current&&(H.current=Y,S(Y))},[]),z=E.useCallback(Y=>{Y!==D.current&&(D.current=Y,N(Y))},[]),M=a||A,P=l||k,H=E.useRef(null),D=E.useRef(null),R=E.useRef(p),I=f!=null,L=vy(f),U=vy(i),q=vy(m),B=E.useCallback(()=>{if(!H.current||!D.current)return;const Y={placement:e,strategy:n,middleware:x};U.current&&(Y.platform=U.current),Gq(H.current,D.current,Y).then(le=>{const pe={...le,isPositioned:q.current!==!1};oe.current&&!Np(R.current,pe)&&(R.current=pe,Zo.flushSync(()=>{b(pe)}))})},[x,e,n,U,q]);$m(()=>{m===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,b(Y=>({...Y,isPositioned:!1})))},[m]);const oe=E.useRef(!1);$m(()=>(oe.current=!0,()=>{oe.current=!1}),[]),$m(()=>{if(M&&(H.current=M),P&&(D.current=P),M&&P){if(L.current)return L.current(M,P,B);B()}},[M,P,B,L,I]);const _e=E.useMemo(()=>({reference:H,floating:D,setReference:j,setFloating:z}),[j,z]),W=E.useMemo(()=>({reference:M,floating:P}),[M,P]),te=E.useMemo(()=>{const Y={position:n,left:0,top:0};if(!W.floating)return Y;const le=$A(W.floating,p.x),pe=$A(W.floating,p.y);return u?{...Y,transform:"translate("+le+"px, "+pe+"px)",...dD(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:pe}},[n,u,W.floating,p.x,p.y]);return E.useMemo(()=>({...p,update:B,refs:_e,elements:W,floatingStyles:te}),[p,B,_e,W,te])}const Kq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?qA({element:r.current,padding:i}).fn(n):{}:r?qA({element:r,padding:i}).fn(n):{}}}},Zq=(t,e)=>({...Bq(t),options:[t,e]}),Jq=(t,e)=>({...Hq(t),options:[t,e]}),e$=(t,e)=>({...Wq(t),options:[t,e]}),t$=(t,e)=>({...Fq(t),options:[t,e]}),n$=(t,e)=>({...qq(t),options:[t,e]}),r$=(t,e)=>({...$q(t),options:[t,e]}),i$=(t,e)=>({...Kq(t),options:[t,e]});var s$="Arrow",fD=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return d.jsx(Hn.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});fD.displayName=s$;var a$=fD;function o$(t){const[e,n]=E.useState(void 0);return Us(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;l=m.inlineSize,u=m.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var yw="Popper",[hD,mD]=Eg(yw),[l$,pD]=hD(yw),gD=t=>{const{__scopePopper:e,children:n}=t,[r,i]=E.useState(null);return d.jsx(l$,{scope:e,anchor:r,onAnchorChange:i,children:n})};gD.displayName=yw;var bD="PopperAnchor",yD=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=pD(bD,n),l=E.useRef(null),u=Zr(e,l),f=E.useRef(null);return E.useEffect(()=>{const m=f.current;f.current=r?.current||l.current,m!==f.current&&a.onAnchorChange(f.current)}),r?null:d.jsx(Hn.div,{...i,ref:u})});yD.displayName=bD;var vw="PopperContent",[c$,u$]=hD(vw),vD=E.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:b="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:A,...S}=t,k=pD(vw,n),[N,j]=E.useState(null),z=Zr(e,ie=>j(ie)),[M,P]=E.useState(null),H=o$(M),D=H?.width??0,R=H?.height??0,I=r+(a!=="center"?"-"+a:""),L=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},U=Array.isArray(m)?m:[m],q=U.length>0,B={padding:L,boundary:U.filter(f$),altBoundary:q},{refs:oe,floatingStyles:_e,placement:W,isPositioned:te,middlewareData:Y}=Xq({strategy:"fixed",placement:I,whileElementsMounted:(...ie)=>Uq(...ie,{animationFrame:w==="always"}),elements:{reference:k.anchor},middleware:[Zq({mainAxis:i+R,alignmentAxis:l}),f&&Jq({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?e$():void 0,...B}),f&&t$({...B}),n$({...B,apply:({elements:ie,rects:Ie,availableWidth:qe,availableHeight:Qe})=>{const{width:kt,height:Yt}=Ie.reference,Yn=ie.floating.style;Yn.setProperty("--radix-popper-available-width",`${qe}px`),Yn.setProperty("--radix-popper-available-height",`${Qe}px`),Yn.setProperty("--radix-popper-anchor-width",`${kt}px`),Yn.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),M&&i$({element:M,padding:u}),h$({arrowWidth:D,arrowHeight:R}),x&&r$({strategy:"referenceHidden",...B})]}),[le,pe]=_D(W),F=is(A);Us(()=>{te&&F?.()},[te,F]);const K=Y.arrow?.x,ue=Y.arrow?.y,ge=Y.arrow?.centerOffset!==0,[xe,Te]=E.useState();return Us(()=>{N&&Te(window.getComputedStyle(N).zIndex)},[N]),d.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:te?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(c$,{scope:n,placedSide:le,onArrowChange:P,arrowX:K,arrowY:ue,shouldHideArrow:ge,children:d.jsx(Hn.div,{"data-side":le,"data-align":pe,...S,ref:z,style:{...S.style,animation:te?void 0:"none"}})})})});vD.displayName=vw;var xD="PopperArrow",d$={top:"bottom",right:"left",bottom:"top",left:"right"},wD=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=u$(xD,r),l=d$[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(a$,{...i,ref:n,style:{...i.style,display:"block"}})})});wD.displayName=xD;function f$(t){return t!==null}var h$=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,u=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[m,p]=_D(n),b={start:"0%",center:"50%",end:"100%"}[p],x=(i.arrow?.x??0)+u/2,w=(i.arrow?.y??0)+f/2;let A="",S="";return m==="bottom"?(A=l?b:`${x}px`,S=`${-f}px`):m==="top"?(A=l?b:`${x}px`,S=`${r.floating.height+f}px`):m==="right"?(A=`${-f}px`,S=l?b:`${w}px`):m==="left"&&(A=`${r.floating.width+f}px`,S=l?b:`${w}px`),{data:{x:A,y:S}}}});function _D(t){const[e,n="center"]=t.split("-");return[e,n]}var m$=gD,ED=yD,p$=vD,g$=wD,b$="Portal",xw=E.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=E.useState(!1);Us(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?m4.createPortal(d.jsx(Hn.div,{...r,ref:e}),l):null});xw.displayName=b$;function y$(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Cg=t=>{const{present:e,children:n}=t,r=v$(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),a=Zr(r.ref,x$(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:a}):null};Cg.displayName="Presence";function v$(t){const[e,n]=E.useState(),r=E.useRef(null),i=E.useRef(t),a=E.useRef("none"),l=t?"mounted":"unmounted",[u,f]=y$(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const m=_m(r.current);a.current=u==="mounted"?m:"none"},[u]),Us(()=>{const m=r.current,p=i.current;if(p!==t){const x=a.current,w=_m(m);t?f("MOUNT"):w==="none"||m?.display==="none"?f("UNMOUNT"):f(p&&x!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),Us(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,b=w=>{const S=_m(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&S&&(f("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},x=w=>{w.target===e&&(a.current=_m(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function _m(t){return t?.animationName||"none"}function x$(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function w$(t){const e=_$(t),n=E.forwardRef((r,i)=>{const{children:a,...l}=r,u=E.Children.toArray(a),f=u.find(S$);if(f){const m=f.props.children,p=u.map(b=>b===f?E.Children.count(m)>1?E.Children.only(null):E.isValidElement(m)?m.props.children:null:b);return d.jsx(e,{...l,ref:i,children:E.isValidElement(m)?E.cloneElement(m,void 0,p):null})}return d.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function _$(t){const e=E.forwardRef((n,r)=>{const{children:i,...a}=n;if(E.isValidElement(i)){const l=A$(i),u=k$(a,i.props);return i.type!==E.Fragment&&(u.ref=r?Mf(r,l):l),E.cloneElement(i,u)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var E$=Symbol("radix.slottable");function S$(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===E$}function k$(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function A$(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var T$=qv[" useInsertionEffect ".trim().toString()]||Us;function SD({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,l]=C$({defaultProp:e,onChange:n}),u=t!==void 0,f=u?t:i;{const p=E.useRef(t!==void 0);E.useEffect(()=>{const b=p.current;b!==u&&console.warn(`${r} is changing from ${b?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const m=E.useCallback(p=>{if(u){const b=N$(p)?p(t):p;b!==t&&l.current?.(b)}else a(p)},[u,t,a,l]);return[f,m]}function C$({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),i=E.useRef(n),a=E.useRef(e);return T$(()=>{a.current=e},[e]),E.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function N$(t){return typeof t=="function"}var R$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fc=new WeakMap,Em=new WeakMap,Sm={},xy=0,kD=function(t){return t&&(t.host||kD(t.parentNode))},D$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},z$=function(t,e,n,r){var i=D$(e,Array.isArray(t)?t:[t]);Sm[n]||(Sm[n]=new WeakMap);var a=Sm[n],l=[],u=new Set,f=new Set(i),m=function(b){!b||u.has(b)||(u.add(b),m(b.parentNode))};i.forEach(m);var p=function(b){!b||f.has(b)||Array.prototype.forEach.call(b.children,function(x){if(u.has(x))p(x);else try{var w=x.getAttribute(r),A=w!==null&&w!=="false",S=(fc.get(x)||0)+1,k=(a.get(x)||0)+1;fc.set(x,S),a.set(x,k),l.push(x),S===1&&A&&Em.set(x,!0),k===1&&x.setAttribute(n,"true"),A||x.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return p(e),u.clear(),xy++,function(){l.forEach(function(b){var x=fc.get(b)-1,w=a.get(b)-1;fc.set(b,x),a.set(b,w),x||(Em.has(b)||b.removeAttribute(r),Em.delete(b)),w||b.removeAttribute(n)}),xy--,xy||(fc=new WeakMap,fc=new WeakMap,Em=new WeakMap,Sm={})}},M$=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=R$(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),z$(r,i,n,"aria-hidden")):function(){return null}},$i=function(){return $i=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$i.apply(this,arguments)};function AD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function j$(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Wm="right-scroll-bar-position",Gm="width-before-scroll-bar",O$="with-scroll-bars-hidden",I$="--removed-body-scroll-bar-size";function wy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function P$(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var V$=typeof window<"u"?E.useLayoutEffect:E.useEffect,WA=new WeakMap;function L$(t,e){var n=P$(null,function(r){return t.forEach(function(i){return wy(i,r)})});return V$(function(){var r=WA.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(u){a.has(u)||wy(u,null)}),a.forEach(function(u){i.has(u)||wy(u,l)})}WA.set(n,t)},[t]),n}function U$(t){return t}function B$(t,e){e===void 0&&(e=U$);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var f=function(){var p=l;l=[],p.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(p){l.push(p),m()},filter:function(p){return l=l.filter(p),n}}}};return i}function H$(t){t===void 0&&(t={});var e=B$(null);return e.options=$i({async:!0,ssr:!1},t),e}var TD=function(t){var e=t.sideCar,n=AD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,$i({},n))};TD.isSideCarExport=!0;function F$(t,e){return t.useMedium(e),TD}var CD=H$(),_y=function(){},Ng=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:_y,onWheelCapture:_y,onTouchMoveCapture:_y}),i=r[0],a=r[1],l=t.forwardProps,u=t.children,f=t.className,m=t.removeScrollBar,p=t.enabled,b=t.shards,x=t.sideCar,w=t.noRelative,A=t.noIsolation,S=t.inert,k=t.allowPinchZoom,N=t.as,j=N===void 0?"div":N,z=t.gapMode,M=AD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,H=L$([n,e]),D=$i($i({},M),i);return E.createElement(E.Fragment,null,p&&E.createElement(P,{sideCar:CD,removeScrollBar:m,shards:b,noRelative:w,noIsolation:A,inert:S,setCallbacks:a,allowPinchZoom:!!k,lockRef:n,gapMode:z}),l?E.cloneElement(E.Children.only(u),$i($i({},D),{ref:H})):E.createElement(j,$i({},D,{className:f,ref:H}),u))});Ng.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ng.classNames={fullWidth:Gm,zeroRight:Wm};var q$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=q$();return e&&t.setAttribute("nonce",e),t}function W$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function G$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Y$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$$())&&(W$(e,n),G$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Q$=function(){var t=Y$();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ND=function(){var t=Q$(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},X$={left:0,top:0,right:0,gap:0},Ey=function(t){return parseInt(t||"",10)||0},K$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ey(n),Ey(r),Ey(i)]},Z$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return X$;var e=K$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},J$=ND(),Ac="data-scroll-locked",eW=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(O$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ac,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Gm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Wm," .").concat(Wm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gm," .").concat(Gm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ac,`] {
    `).concat(I$,": ").concat(u,`px;
  }
`)},GA=function(){var t=parseInt(document.body.getAttribute(Ac)||"0",10);return isFinite(t)?t:0},tW=function(){E.useEffect(function(){return document.body.setAttribute(Ac,(GA()+1).toString()),function(){var t=GA()-1;t<=0?document.body.removeAttribute(Ac):document.body.setAttribute(Ac,t.toString())}},[])},nW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;tW();var a=E.useMemo(function(){return Z$(i)},[i]);return E.createElement(J$,{styles:eW(a,!e,i,n?"":"!important")})},Av=!1;if(typeof window<"u")try{var km=Object.defineProperty({},"passive",{get:function(){return Av=!0,!0}});window.addEventListener("test",km,km),window.removeEventListener("test",km,km)}catch{Av=!1}var hc=Av?{passive:!1}:!1,rW=function(t){return t.tagName==="TEXTAREA"},RD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rW(t)&&n[e]==="visible")},iW=function(t){return RD(t,"overflowY")},sW=function(t){return RD(t,"overflowX")},YA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=DD(t,r);if(i){var a=zD(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},aW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},oW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},DD=function(t,e){return t==="v"?iW(e):sW(e)},zD=function(t,e){return t==="v"?aW(e):oW(e)},lW=function(t,e){return t==="h"&&e==="rtl"?-1:1},cW=function(t,e,n,r,i){var a=lW(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,f=e.contains(u),m=!1,p=l>0,b=0,x=0;do{if(!u)break;var w=zD(t,u),A=w[0],S=w[1],k=w[2],N=S-k-a*A;(A||N)&&DD(t,u)&&(b+=N,x+=A);var j=u.parentNode;u=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(p&&Math.abs(b)<1||!p&&Math.abs(x)<1)&&(m=!0),m},Am=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},QA=function(t){return[t.deltaX,t.deltaY]},XA=function(t){return t&&"current"in t?t.current:t},uW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fW=0,mc=[];function hW(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(fW++)[0],a=E.useState(ND)[0],l=E.useRef(t);E.useEffect(function(){l.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=j$([t.lockRef.current],(t.shards||[]).map(XA),!0).filter(Boolean);return S.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=E.useCallback(function(S,k){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var N=Am(S),j=n.current,z="deltaX"in S?S.deltaX:j[0]-N[0],M="deltaY"in S?S.deltaY:j[1]-N[1],P,H=S.target,D=Math.abs(z)>Math.abs(M)?"h":"v";if("touches"in S&&D==="h"&&H.type==="range")return!1;var R=window.getSelection(),I=R&&R.anchorNode,L=I?I===H||I.contains(H):!1;if(L)return!1;var U=YA(D,H);if(!U)return!0;if(U?P=D:(P=D==="v"?"h":"v",U=YA(D,H)),!U)return!1;if(!r.current&&"changedTouches"in S&&(z||M)&&(r.current=P),!P)return!0;var q=r.current||P;return cW(q,k,S,q==="h"?z:M)},[]),f=E.useCallback(function(S){var k=S;if(!(!mc.length||mc[mc.length-1]!==a)){var N="deltaY"in k?QA(k):Am(k),j=e.current.filter(function(P){return P.name===k.type&&(P.target===k.target||k.target===P.shadowParent)&&uW(P.delta,N)})[0];if(j&&j.should){k.cancelable&&k.preventDefault();return}if(!j){var z=(l.current.shards||[]).map(XA).filter(Boolean).filter(function(P){return P.contains(k.target)}),M=z.length>0?u(k,z[0]):!l.current.noIsolation;M&&k.cancelable&&k.preventDefault()}}},[]),m=E.useCallback(function(S,k,N,j){var z={name:S,delta:k,target:N,should:j,shadowParent:mW(N)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(M){return M!==z})},1)},[]),p=E.useCallback(function(S){n.current=Am(S),r.current=void 0},[]),b=E.useCallback(function(S){m(S.type,QA(S),S.target,u(S,t.lockRef.current))},[]),x=E.useCallback(function(S){m(S.type,Am(S),S.target,u(S,t.lockRef.current))},[]);E.useEffect(function(){return mc.push(a),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:x}),document.addEventListener("wheel",f,hc),document.addEventListener("touchmove",f,hc),document.addEventListener("touchstart",p,hc),function(){mc=mc.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,hc),document.removeEventListener("touchmove",f,hc),document.removeEventListener("touchstart",p,hc)}},[]);var w=t.removeScrollBar,A=t.inert;return E.createElement(E.Fragment,null,A?E.createElement(a,{styles:dW(i)}):null,w?E.createElement(nW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function mW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const pW=F$(CD,hW);var MD=E.forwardRef(function(t,e){return E.createElement(Ng,$i({},t,{ref:e,sideCar:pW}))});MD.classNames=Ng.classNames;var Rg="Popover",[jD]=Eg(Rg,[mD]),Of=mD(),[gW,no]=jD(Rg),OD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!1}=t,u=Of(e),f=E.useRef(null),[m,p]=E.useState(!1),[b,x]=SD({prop:r,defaultProp:i??!1,onChange:a,caller:Rg});return d.jsx(m$,{...u,children:d.jsx(gW,{scope:e,contentId:Y7(),triggerRef:f,open:b,onOpenChange:x,onOpenToggle:E.useCallback(()=>x(w=>!w),[x]),hasCustomAnchor:m,onCustomAnchorAdd:E.useCallback(()=>p(!0),[]),onCustomAnchorRemove:E.useCallback(()=>p(!1),[]),modal:l,children:n})})};OD.displayName=Rg;var ID="PopoverAnchor",bW=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=no(ID,n),a=Of(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=i;return E.useEffect(()=>(l(),()=>u()),[l,u]),d.jsx(ED,{...a,...r,ref:e})});bW.displayName=ID;var PD="PopoverTrigger",VD=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=no(PD,n),a=Of(n),l=Zr(e,i.triggerRef),u=d.jsx(Hn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FD(i.open),...r,ref:l,onClick:wn(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:d.jsx(ED,{asChild:!0,...a,children:u})});VD.displayName=PD;var ww="PopoverPortal",[yW,vW]=jD(ww,{forceMount:void 0}),LD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=no(ww,e);return d.jsx(yW,{scope:e,forceMount:n,children:d.jsx(Cg,{present:n||a.open,children:d.jsx(xw,{asChild:!0,container:i,children:r})})})};LD.displayName=ww;var qc="PopoverContent",UD=E.forwardRef((t,e)=>{const n=vW(qc,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=no(qc,t.__scopePopover);return d.jsx(Cg,{present:r||a.open,children:a.modal?d.jsx(wW,{...i,ref:e}):d.jsx(_W,{...i,ref:e})})});UD.displayName=qc;var xW=w$("PopoverContent.RemoveScroll"),wW=E.forwardRef((t,e)=>{const n=no(qc,t.__scopePopover),r=E.useRef(null),i=Zr(e,r),a=E.useRef(!1);return E.useEffect(()=>{const l=r.current;if(l)return M$(l)},[]),d.jsx(MD,{as:xW,allowPinchZoom:!0,children:d.jsx(BD,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wn(t.onCloseAutoFocus,l=>{l.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:wn(t.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,m=u.button===2||f;a.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:wn(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),_W=E.forwardRef((t,e)=>{const n=no(qc,t.__scopePopover),r=E.useRef(!1),i=E.useRef(!1);return d.jsx(BD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),BD=E.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,...b}=t,x=no(qc,n),w=Of(n);return V7(),d.jsx(JR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(dw,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>x.onOpenChange(!1),children:d.jsx(p$,{"data-state":FD(x.open),role:"dialog",id:x.contentId,...w,...b,ref:e,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HD="PopoverClose",EW=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=no(HD,n);return d.jsx(Hn.button,{type:"button",...r,ref:e,onClick:wn(t.onClick,()=>i.onOpenChange(!1))})});EW.displayName=HD;var SW="PopoverArrow",kW=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Of(n);return d.jsx(g$,{...i,...r,ref:e})});kW.displayName=SW;function FD(t){return t?"open":"closed"}var AW=OD,TW=VD,CW=LD,NW=UD;function Rp({...t}){return d.jsx(AW,{"data-slot":"popover",...t})}function Dp({...t}){return d.jsx(TW,{"data-slot":"popover-trigger",...t})}function zp({className:t,align:e="center",sideOffset:n=4,...r}){return d.jsx(CW,{children:d.jsx(NW,{"data-slot":"popover-content",align:e,sideOffset:n,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}function RW({isOpen:t,onClose:e,onSubmit:n,initialData:r,isEditing:i,currentUser:a,saving:l=!1}){const{nocMembers:u}=ur(),f=be.useCallback(()=>{const M=new Date,P=M.getHours(),H=P>=20||P<8,D=M.toTimeString().slice(0,5);return{date:M.toISOString().split("T")[0],time:D,shift:H?"Night":"Morning",onDuty:a?[a]:[],status:"Normal",note:"",acknowledgedBy:[]}},[a]),[m,p]=E.useState(f()),[b,x]=E.useState({});E.useEffect(()=>{t&&(p(r?{...r,onDuty:r.onDuty||[],acknowledgedBy:r.acknowledgedBy||[]}:f()),x({}))},[t,r,f]);const w=M=>{p(P=>P.onDuty.includes(M)?{...P,onDuty:P.onDuty.filter(D=>D!==M)}:{...P,onDuty:[...P.onDuty,M]})},A=()=>{const M={};return m.date||(M.date="Date is required"),m.time||(M.time="Time is required"),(!m.onDuty||m.onDuty.length===0)&&(M.onDuty="At least one staff member required"),x(M),Object.keys(M).length===0},S=M=>{M?.preventDefault(),A()&&n(m)};if(E.useEffect(()=>{const M=P=>{P.key==="Escape"&&t&&e()};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[t,e]),!t)return null;const k="block text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-2",N="w-full bg-zinc-50 dark:bg-zinc-950 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm font-bold text-zinc-900 dark:text-white focus:border-black dark:focus:border-white outline-none transition-all",j="text-[9px] font-bold text-red-500 mt-1",z=i?u:u.filter(M=>M.name===a);return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-zinc-900/60 dark:bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:e,children:d.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-[#18181b] rounded-[2rem] shadow-2xl border border-zinc-200 dark:border-zinc-700 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",onClick:M=>M.stopPropagation(),children:[d.jsxs("div",{className:"px-8 py-6 border-b border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-white to-zinc-50 dark:from-[#18181b] dark:to-zinc-900 flex justify-between items-center sticky top-0 z-10 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white flex items-center gap-2",children:[i?d.jsx(es,{size:20,className:"text-zinc-400"}):d.jsx(Dn,{size:20,className:"text-zinc-400"}),i?"Edit Log":"New Shift Log"]}),d.jsx("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest mt-1",children:i?"Update handover details":"Record shift handover"})]}),d.jsx("button",{onClick:e,disabled:l,className:"p-2 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:text-black dark:hover:text-white rounded-full transition-colors disabled:opacity-50",children:d.jsx(Bn,{size:20})})]}),d.jsxs("div",{className:"p-8 overflow-y-auto space-y-6 bg-white dark:bg-[#18181b] [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:k,children:"Date"}),d.jsxs(Rp,{children:[d.jsx(Dp,{asChild:!0,children:d.jsxs("button",{type:"button",className:Xe(N,"px-4 text-left flex items-center justify-between",!m.date&&"text-zinc-400",b.date?"border-red-400":""),children:[m.date?Xr(Ep(m.date),"PPP"):d.jsx("span",{children:"Pick a date"}),d.jsx(dr,{size:14,className:"text-zinc-400"})]})}),d.jsx(zp,{className:"w-auto p-0 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800",align:"start",children:d.jsx(of,{mode:"single",selected:m.date?Ep(m.date):void 0,onSelect:M=>{if(M){const P=M.getFullYear(),H=String(M.getMonth()+1).padStart(2,"0"),D=String(M.getDate()).padStart(2,"0");p({...m,date:`${P}-${H}-${D}`})}},initialFocus:!0,classNames:{selected:"bg-black! text-white! dark:bg-white! dark:text-black!"}})})]}),b.date&&d.jsx("p",{className:j,children:b.date})]}),d.jsxs("div",{children:[d.jsx("label",{className:k,children:"Time"}),d.jsx("input",{type:"time",value:m.time,onChange:M=>p({...m,time:M.target.value}),className:`${N} px-2 text-center ${b.time?"border-red-400":""}`}),b.time&&d.jsx("p",{className:j,children:b.time})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:k,children:"Shift Type"}),d.jsx("div",{className:"flex flex-col gap-2",children:["Morning","Night"].map(M=>d.jsxs("button",{type:"button",onClick:()=>p({...m,shift:M}),className:`flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase transition-all border-2
                      ${m.shift===M?"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white shadow-md":"bg-zinc-50 text-zinc-400 border-zinc-100 dark:bg-zinc-900 dark:border-zinc-800 dark:text-zinc-500 hover:border-zinc-300 dark:hover:border-zinc-600"}`,children:[M==="Morning"?d.jsx(Zp,{size:14}):d.jsx(Qp,{size:14}),M," ",d.jsxs("span",{className:"text-[8px] opacity-60",children:["(",M==="Morning"?"08-20":"20-08",")"]})]},M))})]}),d.jsxs("div",{children:[d.jsx("label",{className:k,children:"On Duty"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(M=>{const P=m.onDuty.includes(M.name);return d.jsx("button",{type:"button",onClick:()=>w(M.name),className:`
                        flex flex-col items-center justify-center p-2 w-full rounded-xl border-2 transition-all
                        ${P?"bg-zinc-50 dark:bg-zinc-800 border-black dark:border-white opacity-100 shadow-sm":"bg-white dark:bg-transparent border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-600 opacity-60 hover:opacity-100"}
                      `,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`
                          w-6 h-6 rounded-full flex items-center justify-center text-[9px] font-black transition-colors
                          ${P?"bg-black text-white dark:bg-white dark:text-black":"bg-zinc-200 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400"}
                        `,children:M.name.charAt(0)}),d.jsx("span",{className:`text-[10px] font-bold uppercase truncate ${P?"text-black dark:text-white":"text-zinc-400"}`,children:M.name.split(" ")[0]})]})},M.id)})}),b.onDuty&&d.jsx("p",{className:j,children:b.onDuty}),a&&m.onDuty.includes(a)&&!i&&d.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-[9px] text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/30 py-1.5 px-2 rounded-lg border border-emerald-100 dark:border-emerald-800",children:[d.jsx(Kr,{size:10})," Will auto-acknowledge"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:k,children:"Shift Status"}),d.jsx("div",{className:"flex gap-3 p-1.5 bg-zinc-50 dark:bg-zinc-950 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:["Normal","Issues"].map(M=>d.jsxs("button",{type:"button",onClick:()=>p({...m,status:M}),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase transition-all
                    ${m.status===M?M==="Normal"?"bg-emerald-500 text-white shadow-lg ring-2 ring-emerald-200 dark:ring-emerald-900":"bg-red-500 text-white shadow-lg ring-2 ring-red-200 dark:ring-red-900":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}
                  `,children:[M==="Normal"?d.jsx(Kr,{size:16}):d.jsx(Ba,{size:16}),M]},M))})]}),d.jsxs("div",{children:[d.jsx("label",{className:k,children:"Handover Remarks"}),d.jsx("textarea",{rows:4,placeholder:"Summary of events, pending tasks, or issues to hand over...",value:m.note,onChange:M=>p({...m,note:M.target.value}),className:`${N} resize-none min-h-[100px] leading-relaxed`}),d.jsxs("div",{className:"text-[9px] text-zinc-400 mt-1 text-right",children:[(m.note||"").length," characters"]})]})]}),d.jsxs("div",{className:"p-6 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-[#18181b]/50 flex gap-3 shrink-0",children:[d.jsx("button",{type:"button",onClick:e,disabled:l,className:"flex-1 py-3.5 rounded-xl border-2 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400 font-black uppercase text-[10px] tracking-widest hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors disabled:opacity-50",children:"Cancel"}),d.jsx("button",{onClick:S,disabled:l,className:"flex-[2] py-3.5 bg-black dark:bg-white text-white dark:text-black rounded-xl font-black uppercase text-[10px] tracking-widest hover:opacity-90 transition-opacity shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:l?d.jsxs(d.Fragment,{children:[d.jsx(Ua,{size:16,className:"animate-spin"})," Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Xp,{size:16})," Save Log"]})})]})]})})}function DW({log:t,isOpen:e,onClose:n,nocMembers:r}){if(!e||!t)return null;const i=r.length,a=(t.acknowledgedBy||[]).length,l=i>0?Math.round(a/i*100):0,u=a>=i;return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-zinc-900/60 dark:bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:n,children:d.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-[#18181b] rounded-[2rem] shadow-2xl border border-zinc-200 dark:border-zinc-700 overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",onClick:f=>f.stopPropagation(),children:[d.jsx("div",{className:"px-8 py-6 border-b border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-zinc-50 to-white dark:from-zinc-900 dark:to-[#18181b]",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[t.shift==="Morning"?d.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-gradient-to-r from-orange-100 to-amber-100 dark:from-orange-900/30 dark:to-amber-900/30 text-orange-600 dark:text-orange-400 px-2.5 py-1 rounded-full",children:[d.jsx(Zp,{size:12})," Morning Shift"]}):d.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-gradient-to-r from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 text-indigo-600 dark:text-indigo-400 px-2.5 py-1 rounded-full",children:[d.jsx(Qp,{size:12})," Night Shift"]}),t.status==="Normal"?d.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 px-2.5 py-1 rounded-full",children:[d.jsx(Kr,{size:12})," Normal"]}):d.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-black uppercase bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2.5 py-1 rounded-full animate-pulse",children:[d.jsx(Ba,{size:12})," Issues"]})]}),d.jsx("h2",{className:"text-xl font-black uppercase tracking-tighter text-zinc-900 dark:text-white",children:"Shift Log Details"})]}),d.jsx("button",{onClick:n,className:"p-2 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:text-black dark:hover:text-white rounded-full transition-colors hover:bg-zinc-200 dark:hover:bg-zinc-700",children:d.jsx(Bn,{size:20})})]})}),d.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar space-y-6",children:[d.jsxs("div",{className:`p-4 rounded-2xl border-2 ${u?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500 flex items-center gap-1",children:[d.jsx(lP,{size:12})," Acknowledgment Status"]}),d.jsxs("span",{className:`text-sm font-black ${u?"text-emerald-600":"text-amber-600"}`,children:[l,"%"]})]}),d.jsx("div",{className:"w-full h-2 bg-zinc-200 dark:bg-zinc-700 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full transition-all duration-700 rounded-full ${u?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${l}%`}})}),d.jsxs("div",{className:"mt-2 text-[10px] font-bold text-zinc-500",children:[a," of ",i," team members acknowledged"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[d.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-1",children:[d.jsx(dr,{size:10,className:"inline mr-1"}),"Date"]}),d.jsx("div",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:new Date(t.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"long",year:"numeric"})})]}),d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800",children:[d.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-1",children:[d.jsx(Dn,{size:10,className:"inline mr-1"}),"Time Logged"]}),d.jsx("div",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:t.time})]})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3 flex items-center gap-1",children:[d.jsx(Rd,{size:12})," On Duty"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:t.onDuty&&t.onDuty.length>0?t.onDuty.map((f,m)=>d.jsxs("div",{className:"flex items-center gap-2 pl-1 pr-3 py-1.5 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-full shadow-sm",children:[d.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-zinc-800 to-zinc-900 dark:from-white dark:to-zinc-100 text-white dark:text-black flex items-center justify-center text-[10px] font-black",children:f.charAt(0)}),d.jsx("span",{className:"text-xs font-bold text-zinc-700 dark:text-zinc-200",children:f})]},m)):d.jsx("span",{className:"text-xs text-zinc-400 italic",children:"No staff assigned"})})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3",children:"Remarks / Note"}),d.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 p-5 rounded-2xl border border-zinc-100 dark:border-zinc-800 text-sm font-medium text-zinc-700 dark:text-zinc-300 leading-relaxed whitespace-pre-wrap min-h-[80px]",children:t.note||d.jsx("span",{className:"text-zinc-400 italic",children:"No additional remarks."})})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block mb-3",children:"Acknowledged By"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((f,m)=>{const p=(t.acknowledgedBy||[]).includes(f.name);return d.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-[10px] font-bold border transition-all ${p?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800":"bg-zinc-50 dark:bg-zinc-800 text-zinc-400 border-zinc-200 dark:border-zinc-700 opacity-60"}`,children:[p?d.jsx(Kr,{size:12}):d.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-current"}),f.name]},f.id||m)})})]})]}),d.jsx("div",{className:"px-8 py-4 border-t border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50",children:d.jsx("button",{onClick:n,className:"w-full py-3 rounded-xl border-2 border-zinc-200 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400 font-black uppercase text-[10px] tracking-widest hover:bg-white dark:hover:bg-zinc-800 transition-colors",children:"Close"})})]})})}function zW({log:t,currentUser:e,nocMembers:n,onView:r,onEdit:i,onDelete:a,onAck:l,getAckStats:u}){const f=u?u(t):{total:n.length,acked:(t.acknowledgedBy||[]).length,percentage:0,isComplete:!1};!f.percentage&&n.length>0&&(f.percentage=Math.round(f.acked/f.total*100),f.isComplete=f.acked>=f.total);const m=t.shift==="Morning",p=m?"from-orange-500/10 to-amber-500/10 dark:from-orange-500/20 dark:to-amber-500/20 border-l-orange-500":"from-indigo-500/10 to-violet-500/10 dark:from-indigo-500/20 dark:to-violet-500/20 border-l-indigo-500";return d.jsxs("div",{onClick:r,className:`group relative bg-white dark:bg-[#0a0a0a] rounded-2xl border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden border-l-4 ${p}`,children:[d.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${m?"from-orange-500":"from-indigo-500"} opacity-[0.03] rounded-bl-full pointer-events-none`}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-zinc-100 dark:bg-zinc-800",children:d.jsx("div",{className:`h-full transition-all duration-500 ${f.isComplete?"bg-emerald-500":f.percentage>50?"bg-blue-500":f.percentage>0?"bg-amber-500":"bg-zinc-300 dark:bg-zinc-700"}`,style:{width:`${f.percentage}%`}})}),d.jsxs("div",{className:"flex flex-col md:flex-row p-5 gap-6 relative",children:[d.jsxs("div",{className:"flex md:flex-col items-center md:items-start gap-3 md:w-32 shrink-0 border-b md:border-b-0 md:border-r border-zinc-100 dark:border-zinc-800 pb-4 md:pb-0 md:pr-4",children:[d.jsx("div",{className:`p-2.5 rounded-xl shrink-0 ${m?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400"}`,children:m?d.jsx(Zp,{size:18}):d.jsx(Qp,{size:18})}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-xs font-black uppercase text-zinc-900 dark:text-white tracking-wide",children:new Date(t.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})}),d.jsx("span",{className:"block text-[10px] font-bold text-zinc-400 font-mono mt-0.5",children:t.time}),d.jsxs("div",{className:`mt-2 text-[9px] font-bold uppercase tracking-wider ${f.isComplete?"text-emerald-500":"text-zinc-400"}`,children:[f.acked,"/",f.total," Ack"]})]})]}),d.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[d.jsxs("div",{className:"mb-3",children:[t.status!=="Normal"&&d.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 text-[9px] font-black text-red-600 dark:text-red-400 uppercase tracking-wide mb-2",children:[d.jsx(gi,{size:10})," Issue Reported"]}),d.jsx("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 line-clamp-2 leading-relaxed",children:t.note||d.jsx("span",{className:"text-zinc-400 italic",children:"No remarks recorded."})})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[d.jsx("div",{className:"flex -space-x-1.5",children:t.onDuty&&t.onDuty.length>0?t.onDuty.map((b,x)=>d.jsx("div",{title:b,className:"w-5 h-5 rounded-full bg-zinc-100 dark:bg-zinc-800 border border-white dark:border-black flex items-center justify-center text-[8px] font-black text-zinc-500 uppercase",children:b.charAt(0)},x)):d.jsx("span",{className:"text-[10px] text-zinc-300",children:"-"})}),d.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider pl-1",children:"On Duty"})]})]}),d.jsxs("div",{className:"flex flex-row md:flex-col items-center justify-between md:justify-center gap-4 pl-0 md:pl-4 border-t md:border-t-0 md:border-l border-zinc-100 dark:border-zinc-800 pt-4 md:pt-0",children:[d.jsx("div",{className:"flex md:grid md:grid-cols-2 gap-1.5",children:n.map((b,x)=>{const w=(t.acknowledgedBy||[]).includes(b.name),A=e===b.name;return d.jsx("div",{onClick:S=>{S.stopPropagation(),A&&l(t,b.name)},className:`
                    w-7 h-7 rounded-full border flex items-center justify-center text-[9px] font-black transition-all duration-200
                    ${A?"cursor-pointer hover:scale-110 shadow-sm":"cursor-default"}
                    ${w?"bg-zinc-900 text-white dark:bg-white dark:text-black border-transparent":"bg-zinc-50 dark:bg-zinc-900 text-zinc-400 border-zinc-200 dark:border-zinc-800"}
                    ${A&&!w?"ring-2 ring-blue-500/50 animate-pulse":""}
                  `,title:`${b.name} ${w?"(Acknowledged)":"(Pending)"}`,children:w?d.jsx(gf,{size:10,strokeWidth:4}):b.name.charAt(0)},b.id||x)})}),d.jsxs("div",{className:"flex gap-1 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200",children:[d.jsx("button",{onClick:b=>{b.stopPropagation(),i(t)},className:"p-1.5 text-zinc-400 hover:text-blue-500 transition-colors bg-zinc-50 dark:bg-zinc-900 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Edit",children:d.jsx(ix,{size:12})}),d.jsx("button",{onClick:b=>{b.stopPropagation(),a(t.id)},className:"p-1.5 text-zinc-400 hover:text-red-500 transition-colors bg-zinc-50 dark:bg-zinc-900 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete",children:d.jsx(Ja,{size:12})})]})]})]})]})}function MW(){const{currentUser:t,nocMembers:e}=ur(),{filteredHistory:n,loading:r,saving:i,stats:a,searchText:l,setSearchText:u,filterShift:f,setFilterShift:m,filterStatus:p,setFilterStatus:b,clearFilters:x,handleSave:w,handleDelete:A,handleAcknowledge:S,handleExportCSV:k,getAckStats:N}=d8(),[j,z]=E.useState(!1),[M,P]=E.useState(!1),[H,D]=E.useState(null),[R,I]=E.useState(!1),[L,U]=E.useState({isOpen:!1}),[q,B]=E.useState(!1),oe=(Y=null)=>{I(!!Y),D(Y),z(!0)},_e=async Y=>{let le={...Y};R||(le.timestamp=new Date().toISOString(),t&&(!le.onDuty||le.onDuty.length===0?le.onDuty=[t]:le.onDuty.includes(t)||(le.onDuty=[...le.onDuty,t]),le.acknowledgedBy=[t])),await w(le,R,H?.id)&&z(!1)},W=async Y=>{await A(Y),U({isOpen:!1})},te=l||f!=="All"||p!=="All";return d.jsxs("div",{className:"h-full flex flex-col bg-zinc-50 dark:bg-black overflow-hidden relative",children:[d.jsx(bf,{isOpen:L.isOpen,onClose:()=>U({isOpen:!1}),...L}),d.jsx(RW,{isOpen:j,onClose:()=>z(!1),onSubmit:_e,initialData:H,isEditing:R,currentUser:t,saving:i}),d.jsx(DW,{log:H,isOpen:M,onClose:()=>P(!1),nocMembers:e}),d.jsxs("div",{className:"flex-shrink-0 relative overflow-hidden bg-white dark:bg-[#050505] border-b border-zinc-200 dark:border-zinc-800 z-10 transition-all duration-300",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-indigo-600/5 dark:from-blue-600/10 dark:to-indigo-600/10"}),d.jsxs("div",{className:"relative px-4 md:px-8 py-6",children:[d.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-end gap-6 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/20 text-white",children:d.jsx(es,{size:32})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-black uppercase tracking-tight dark:text-white leading-none",children:"Handover"}),d.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mt-1",children:"Shift Logs & Acknowledgment"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 w-full xl:w-auto",children:[d.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm",children:[d.jsx("div",{className:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-zinc-500",children:d.jsx(kC,{size:16})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl font-black dark:text-white leading-none",children:a.total}),d.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Total Logs"})]})]}),d.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm",children:[d.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg text-emerald-600 dark:text-emerald-400",children:d.jsx(Jv,{size:16})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl font-black text-emerald-600 dark:text-emerald-400 leading-none",children:a.fullyAcked}),d.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Acked"})]})]}),a.withIssues>0&&d.jsxs("div",{className:"flex-1 min-w-[120px] bg-white dark:bg-black/50 border border-zinc-100 dark:border-zinc-800 rounded-xl p-3 flex items-center gap-3 shadow-sm ring-1 ring-red-500/20",children:[d.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg text-red-600 dark:text-red-400 animate-pulse",children:d.jsx(gi,{size:16})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xl font-black text-red-600 dark:text-red-400 leading-none",children:a.withIssues}),d.jsx("div",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider",children:"Issues"})]})]})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Yd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:16}),d.jsx("input",{type:"text",placeholder:"Search logs by note, duty staff...",value:l,onChange:Y=>u(Y.target.value),className:"w-full h-11 pl-10 pr-4 bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl text-xs font-bold outline-none focus:border-blue-500 dark:focus:border-blue-500 transition-all placeholder:text-zinc-400"})]}),d.jsxs("div",{className:"flex gap-2 shrink-0",children:[d.jsxs("button",{onClick:()=>B(!q),className:`h-11 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all border-2 ${te?"bg-blue-500 text-white border-blue-500 shadow-lg shadow-blue-500/20":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-100 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[d.jsx(Wd,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Filter"}),te&&d.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"})]}),d.jsx("button",{onClick:k,className:"h-11 w-11 flex items-center justify-center bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 rounded-xl text-zinc-500 hover:text-black dark:hover:text-white hover:border-zinc-300 dark:hover:border-zinc-700 transition-all",title:"Export to CSV",children:d.jsx(nx,{size:16})}),d.jsxs("button",{onClick:()=>oe(),className:"h-11 px-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:shadow-lg hover:shadow-blue-500/25 transition-all flex items-center justify-center gap-2 active:scale-95",children:[d.jsx(Dc,{size:16})," ",d.jsx("span",{className:"hidden sm:inline",children:"New Log"})]})]})]}),q&&d.jsx("div",{className:"mt-4 p-4 bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-100 dark:border-zinc-800 rounded-2xl animate-in slide-in-from-top-2 duration-200",children:d.jsxs("div",{className:"flex flex-wrap gap-6 items-center",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("span",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest",children:"Shift Type"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Morning","Night"].map(Y=>d.jsx("button",{onClick:()=>m(Y),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${f===Y?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-700 hover:border-zinc-400"}`,children:Y},Y))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("span",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest",children:"Status"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Normal","Issues"].map(Y=>d.jsx("button",{onClick:()=>b(Y),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all border ${p===Y?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-500 border-zinc-200 dark:border-zinc-700 hover:border-zinc-400"}`,children:Y},Y))})]}),te&&d.jsxs("button",{onClick:x,className:"ml-auto px-4 py-2 rounded-xl text-[10px] font-bold text-red-500 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 border border-transparent hover:border-red-200 transition-colors flex items-center gap-1",children:[d.jsx(Bn,{size:14})," Clear All Filters"]})]})})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-4 md:px-8 py-6 custom-scrollbar",children:d.jsx("div",{className:"max-w-5xl mx-auto space-y-4 pb-20",children:r?d.jsxs("div",{className:"text-center py-20",children:[d.jsx("div",{className:"inline-block w-8 h-8 border-2 border-zinc-300 border-t-black dark:border-zinc-700 dark:border-t-white rounded-full animate-spin mb-4"}),d.jsx("p",{className:"text-zinc-400 text-xs font-bold uppercase",children:"Loading Logs..."})]}):n.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[d.jsx(es,{size:48,className:"text-zinc-300 dark:text-zinc-700 mb-4"}),d.jsx("p",{className:"text-zinc-400 text-xs font-bold uppercase tracking-widest mb-4",children:te?"No matching logs":"No logs found"}),te&&d.jsx("button",{onClick:x,className:"px-4 py-2 text-[10px] font-bold uppercase bg-zinc-200 dark:bg-zinc-800 rounded-lg hover:bg-zinc-300 dark:hover:bg-zinc-700 transition-colors",children:"Clear Filters"})]}):n.map(Y=>d.jsx(zW,{log:Y,currentUser:t,nocMembers:e,getAckStats:N,onView:()=>{D(Y),P(!0)},onEdit:oe,onDelete:le=>U({isOpen:!0,title:"Delete Log?",message:"This action cannot be undone.",isDanger:!0,onConfirm:()=>W(le)}),onAck:S},Y.id))})})]})}const Sy="ticket_logs",qD={subscribeLogs:t=>{const e=rs(xn(He,Sy),lr("date","desc"));return tl(e,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("Error subscribing to ticket logs:",n),t([])})},importLogs:async t=>{try{const e=wp(He);return t.forEach(n=>{const r=Mt(xn(He,Sy));e.set(r,{...n,importedAt:$o(),updatedAt:$o()})}),await e.commit()}catch(e){throw console.error("Error importing logs to Firestore:",e),e}},createLog:async t=>{try{const e={...t,createdAt:$o(),updatedAt:$o()};return await rf(xn(He,Sy),e)}catch(e){throw console.error("Error creating ticket log:",e),e}}},jW=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(!0),[i,a]=E.useState("");E.useEffect(()=>{r(!0);const f=qD.subscribeLogs(m=>{e(m),r(!1)});return()=>f()},[]);const l=E.useMemo(()=>{const f=i.toLowerCase().trim();return f?t.filter(m=>(m.ticketNumber||"").toLowerCase().includes(f)||(m.shortDesc||"").toLowerCase().includes(f)||(m.assign||"").toLowerCase().includes(f)||(m.category||"").toLowerCase().includes(f)):t},[t,i]),u=E.useMemo(()=>t?{total:t.length,succeed:t.filter(f=>f.status==="Succeed").length,pending:t.filter(f=>f.status!=="Succeed"&&f.status!=="").length,incidents:t.filter(f=>f.type==="Incident").length}:{total:0,succeed:0,pending:0,incidents:0},[t]);return{logs:l,allLogs:t,stats:u,loading:n,searchTerm:i,setSearchTerm:a}},OW=t=>{if(!t)return[];const e=t.split(`
`).filter(n=>n.trim()!=="");return e.length<2?[]:e.slice(1).map(n=>{const i=(n.match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g)||[]).map(a=>a.replace(/^"|"$/g,"").trim());return i.length<5?null:{no:i[1]||"",date:i[2]||"",ticketNumber:i[3]||"",type:i[4]||"Incident",status:i[5]||"Open",severity:i[6]||"",category:i[7]||"",subCategory:i[8]||"",shortDesc:i[9]||"",detail:i[10]||"",action:i[11]||"",resolvedDetail:i[12]||"",assign:i[13]||"",remark:i[14]||""}}).filter(Boolean)};function IW({stats:t={}}){const e=[{label:"Total Tickets",value:t?.total||0,icon:es,color:"text-blue-500",bg:"bg-blue-50"},{label:"Succeed",value:t?.succeed||0,icon:Jv,color:"text-green-500",bg:"bg-green-50"},{label:"Pending",value:t?.pending||0,icon:Dn,color:"text-orange-500",bg:"bg-orange-50"},{label:"Incidents",value:t?.incidents||0,icon:gi,color:"text-red-500",bg:"bg-red-50"}];return d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>d.jsx("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-3 rounded-2xl ${n.bg} dark:bg-opacity-10 ${n.color}`,children:d.jsx(n.icon,{size:24})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-400 tracking-widest",children:n.label}),d.jsx("p",{className:"text-2xl font-black dark:text-white leading-none mt-1",children:n.value})]})]})},r))})}function PW({ticket:t,onClose:e}){return t?d.jsxs("div",{className:"fixed inset-y-0 right-0 w-full md:w-[450px] bg-white dark:bg-[#050505] shadow-2xl z-50 border-l border-zinc-200 dark:border-zinc-800 flex flex-col animate-in slide-in-from-right duration-300",children:[d.jsxs("div",{className:"p-6 border-b border-zinc-100 dark:border-zinc-900 flex justify-between items-center",children:[d.jsx("h2",{className:"font-black uppercase tracking-tighter text-xl dark:text-white",children:"Ticket Detail"}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-900 rounded-full transition-colors text-zinc-400",children:d.jsx(Bn,{size:20})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-blue-500 uppercase tracking-widest",children:[d.jsx(MC,{size:12})," ",t.category||"General"," / ",t.subCategory||"Other"]}),d.jsx("h3",{className:"text-lg font-bold leading-snug dark:text-white",children:t.shortDesc}),d.jsx("p",{className:"text-xs font-mono text-zinc-400 font-bold tracking-tighter uppercase",children:t.ticketNumber})]}),d.jsxs("section",{className:"space-y-3",children:[d.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-zinc-400 tracking-widest border-b border-zinc-100 dark:border-zinc-900 pb-2",children:[d.jsx(N5,{size:14})," Description & Detail"]}),d.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed whitespace-pre-wrap",children:t.detail||""})]}),d.jsxs("section",{className:"space-y-3",children:[d.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-zinc-400 tracking-widest border-b border-zinc-100 dark:border-zinc-900 pb-2",children:[d.jsx(Jv,{size:14})," Action & Resolution"]}),d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-2xl border border-zinc-100 dark:border-zinc-800 space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-black text-zinc-400 uppercase mb-1",children:"Action Taken"}),d.jsx("p",{className:"text-sm dark:text-zinc-200",children:t.action||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-black text-zinc-400 uppercase mb-1",children:"Resolved Detail"}),d.jsx("p",{className:"text-sm dark:text-zinc-200",children:t.resolvedDetail||"-"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-4 bg-zinc-900 dark:bg-white rounded-2xl text-white dark:text-black",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 dark:bg-zinc-100 flex items-center justify-center font-black",children:t.assign?.charAt(0).toUpperCase()||"U"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[9px] font-black uppercase opacity-60 tracking-widest",children:"Assigned To"}),d.jsx("p",{className:"text-sm font-bold",children:t.assign||"Unassigned"})]})]})]})]}):null}function VW(){const{logs:t,stats:e,loading:n,searchTerm:r,setSearchTerm:i}=jW(),[a,l]=E.useState(!1),[u,f]=E.useState(null),m=async p=>{const b=p.target.files[0];if(!b)return;l(!0);const x=new FileReader;x.onload=async w=>{try{const A=w.target.result,S=OW(A);S.length>0&&(await qD.importLogs(S),alert(` ${S.length} `))}catch(A){console.error("Import error:",A),alert("")}finally{l(!1),p.target.value=null}},x.readAsText(b)};return d.jsxs("div",{className:"flex h-full bg-zinc-50 dark:bg-black overflow-hidden relative",children:[d.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[d.jsxs("header",{className:"p-6 bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-black uppercase tracking-tighter dark:text-white",children:"Ticket Log Management"}),d.jsx("p",{className:"text-xs text-zinc-500 font-medium",children:" NOC"})]}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("label",{className:`
              flex items-center gap-2 px-4 py-2.5 bg-black dark:bg-white text-white dark:text-black 
              rounded-xl text-xs font-black uppercase tracking-widest cursor-pointer 
              hover:opacity-80 transition-all shadow-lg shadow-black/10
              ${a?"opacity-50 cursor-not-allowed":""}
            `,children:[d.jsx(kP,{size:16,strokeWidth:3}),d.jsx("span",{children:a?"Processing...":"Import CSV"}),d.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:m,disabled:a})]})})]}),d.jsxs("main",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[d.jsx(IW,{stats:e}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Yd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),d.jsx("input",{type:"text",placeholder:" Ticket,  ...",className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl outline-none focus:ring-2 ring-black dark:ring-white transition-all shadow-sm text-sm",value:r,onChange:p=>i(p.target.value)})]}),d.jsxs("button",{className:"flex items-center justify-center gap-2 px-6 py-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl text-xs font-bold hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:[d.jsx(Wd,{size:16}),"Filters"]})]}),d.jsx("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-[2rem] overflow-hidden shadow-sm flex flex-col",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 bg-zinc-50/50 dark:bg-zinc-800/30 border-b border-zinc-200 dark:border-zinc-800",children:[d.jsx("th",{className:"px-6 py-5",children:"Date / ID"}),d.jsx("th",{className:"px-6 py-5",children:"Subject & Detail"}),d.jsx("th",{className:"px-6 py-5",children:"Status"}),d.jsx("th",{className:"px-6 py-5",children:"Assigned To"}),d.jsx("th",{className:"px-6 py-5 w-10"})]})}),d.jsx("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800/50",children:n?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",className:"px-6 py-20 text-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsx("div",{className:"w-6 h-6 border-2 border-zinc-200 border-t-black dark:border-t-white rounded-full animate-spin"}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Loading Logs..."})]})})}):t.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"5",className:"px-6 py-20 text-center text-zinc-400 text-xs font-bold",children:""})}):t.map(p=>d.jsxs("tr",{onClick:()=>f(p),className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/30 transition-all cursor-pointer",children:[d.jsx("td",{className:"px-6 py-6 whitespace-nowrap",children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-bold dark:text-white",children:p.date}),d.jsx("span",{className:"text-[10px] text-zinc-400 font-mono font-bold tracking-tighter uppercase",children:p.ticketNumber})]})}),d.jsx("td",{className:"px-6 py-6",children:d.jsxs("div",{className:"flex flex-col gap-1 max-w-md",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"text-[9px] font-black bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded uppercase tracking-tighter dark:text-zinc-300",children:p.category})}),d.jsx("p",{className:"text-xs font-bold text-zinc-800 dark:text-zinc-200 line-clamp-1 group-hover:text-blue-500 transition-colors",children:p.shortDesc})]})}),d.jsx("td",{className:"px-6 py-6",children:d.jsxs("div",{className:`
                            inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider
                            ${p.status==="Succeed"?"bg-green-50 text-green-600 dark:bg-green-500/10":"bg-orange-50 text-orange-600 dark:bg-orange-500/10"}
                          `,children:[p.status==="Succeed"?d.jsx(Kr,{size:12,strokeWidth:3}):d.jsx(Dn,{size:12,strokeWidth:3}),p.status]})}),d.jsx("td",{className:"px-6 py-6 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-[10px] font-black",children:p.assign?.charAt(0).toUpperCase()||"?"}),d.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-400",children:p.assign||"N/A"})]})}),d.jsx("td",{className:"px-6 py-6",children:d.jsx("button",{className:"p-2 text-zinc-300 hover:text-black dark:hover:text-white transition-colors",children:d.jsx(o5,{size:16})})})]},p.id))})]})})})]})]}),d.jsx(PW,{ticket:u,onClose:()=>f(null)})]})}const $D=t=>{const[e,n]=E.useState([]),[r,i]=E.useState(!0),[a,l]=E.useState([]);return E.useEffect(()=>{i(!0);let u=xn(He,"schedules");if(t){const m=t instanceof Date?Xr(t,"yyyy-MM-dd"):t;u=rs(xn(He,"schedules"),vp("startDate","==",m),lr("startTime","asc"))}else u=rs(xn(He,"schedules"),lr("startDate","desc"),lr("startTime","asc"));const f=tl(u,async m=>{const p=m.docs.map(w=>{const A=w.data();return{id:w.id,...A,hasStartStat:A.hasStartStat||!1,hasEndStat:A.hasEndStat||!1}});n(p);const b=p.reduce((w,A)=>{const S=A.startDate;return w[S]||(w[S]=[]),w[S].push(A),w},{}),x=Object.entries(b).sort((w,A)=>new Date(A[0])-new Date(w[0]));l(x),i(!1)},m=>{console.error("Error fetching realtime matches:",m),i(!1)});return()=>f()},[t]),{matches:e,groupedData:a,loading:r}},ky={subscribeMatches:(t,e)=>{let n=rs(xn(He,"schedules"),lr("startDate","desc"),lr("startTime","asc"));return t&&(n=rs(xn(He,"schedules"),vp("startDate","==",t),lr("startTime","asc"))),tl(n,r=>{const i=r.docs.map(a=>({id:a.id,...a.data()}));e(i)})},createMatch:async t=>{try{const e={...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1};return await rf(xn(He,"schedules"),e)}catch(e){throw console.error("Error creating match:",e),e}},updateMatch:async(t,e)=>{try{const n=Mt(He,"schedules",t);await qi(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error updating match:",n),n}},deleteMatch:async t=>{try{await yg(Mt(He,"schedules",t))}catch(e){throw console.error("Error deleting match:",e),e}}};function WD({match:t,onClick:e,onEdit:n,onDelete:r,selectable:i,selected:a,onSelect:l}){const f=(()=>{if(t.hasEndStat)return"FINISHED";if(t.hasStartStat&&!t.hasEndStat)return"LIVE";if(t.startTime){const x=new Date,[w,A]=t.startTime.split(":").map(Number),S=new Date;S.setHours(w,A,0,0);const N=(S-x)/(1e3*60);if(N>0&&N<=15)return"SOON"}return"UPCOMING"})(),m=()=>t.endStats?.muxViewerUniq?t.endStats.muxViewerUniq:t.startStats?.muxViewerUniq?t.startStats.muxViewerUniq:0,p=x=>{if(!x)return"0";const w=parseFloat(x.toString().replace(/,/g,""));return isNaN(w)?x:Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(w)},b=m();return d.jsxs("div",{onClick:e,className:`
        group relative bg-white dark:bg-zinc-900 rounded-2xl border-2 transition-all duration-300 
        hover:shadow-2xl hover:scale-[1.02] cursor-pointer overflow-hidden
        ${f==="LIVE"?"border-red-500 shadow-lg shadow-red-500/20":""}
        ${f==="SOON"?"border-orange-400 shadow-lg shadow-orange-500/10":""}
        ${f==="FINISHED"?"border-emerald-500/30 dark:border-emerald-500/20":""}
        ${f==="UPCOMING"?"border-zinc-200 dark:border-zinc-800":""}
      `,children:[d.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${f==="LIVE"?"bg-red-500 animate-pulse":f==="SOON"?"bg-orange-500":f==="FINISHED"?"bg-emerald-500":"bg-zinc-300 dark:bg-zinc-700"}`}),(f==="LIVE"||f==="SOON")&&d.jsx("div",{className:`absolute inset-0 bg-gradient-to-r pointer-events-none ${f==="LIVE"?"from-red-500/5 via-orange-500/5":"from-orange-500/5 via-yellow-500/5"} to-transparent`}),d.jsxs("div",{className:"p-6 pl-8 relative",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[f==="LIVE"&&d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-red-500 text-white rounded-lg shadow-lg shadow-red-500/30",children:[d.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-white"})]}),d.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"LIVE"})]}),f==="SOON"&&d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-orange-500 text-white rounded-lg shadow-md shadow-orange-500/20 animate-pulse",children:[d.jsx(Dn,{size:14,className:"stroke-[3]"}),d.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Starting Soon"})]}),f==="FINISHED"&&d.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-500 text-white rounded-lg shadow-md",children:[d.jsx(Kr,{size:14}),d.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Finished"})]}),f==="UPCOMING"&&d.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg border-2 border-blue-200 dark:border-blue-800",children:[d.jsx(Dn,{size:14}),d.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Scheduled"})]})]}),d.jsxs("div",{className:"flex items-center gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[n&&d.jsx("button",{onClick:x=>{x.stopPropagation(),n(t)},className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-blue-50 hover:text-blue-600 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 transition-colors",title:"Edit",children:d.jsx(ix,{size:14})}),r&&d.jsx("button",{onClick:x=>{x.stopPropagation(),r(t.id)},className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/30 dark:hover:text-red-400 transition-colors",title:"Delete",children:d.jsx(Ja,{size:14})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.league&&d.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500 dark:text-zinc-400",children:[d.jsx(rp,{size:12,className:"text-zinc-400"}),d.jsx("span",{className:"font-semibold",children:t.league})]}),t.channel&&d.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded text-xs font-bold border border-indigo-100 dark:border-indigo-800",children:[d.jsx(ip,{size:10}),t.channel]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`shrink-0 flex flex-col items-center justify-center w-16 h-16 rounded-xl border transition-colors ${f==="SOON"?"bg-orange-50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800":"bg-zinc-100 dark:bg-zinc-800/50 border-zinc-200 dark:border-zinc-700"}`,children:f==="LIVE"?d.jsxs(d.Fragment,{children:[d.jsx(sx,{size:16,className:"text-red-500 mb-1 animate-pulse"}),d.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase",children:"Live"})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:`text-xl font-black font-mono leading-none ${f==="SOON"?"text-orange-500":"text-zinc-900 dark:text-white"}`,children:t.startTime?.split(":")[0]||"--"}),d.jsx("span",{className:`text-xs font-mono ${f==="SOON"?"text-orange-400":"text-zinc-400"}`,children:t.startTime?.split(":")[1]||"--"})]})}),d.jsx("div",{className:"flex-1 min-w-0",children:t.teamA&&t.teamB?d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:t.teamA}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"h-px flex-1 bg-zinc-200 dark:bg-zinc-700"}),d.jsx("span",{className:"text-xs font-bold text-zinc-400",children:"VS"}),d.jsx("div",{className:"h-px flex-1 bg-zinc-200 dark:bg-zinc-700"})]}),d.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:t.teamB})]}):d.jsx("div",{className:"text-base font-black text-zinc-900 dark:text-white truncate",children:t.title||t.match||"Match Event"})})]}),(f==="LIVE"||f==="FINISHED")&&b&&d.jsx("div",{className:"flex items-center gap-2 pt-2 border-t border-zinc-100 dark:border-zinc-800",children:d.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg text-xs font-semibold text-zinc-600 dark:text-zinc-400",children:[d.jsx(tp,{size:14,className:"text-violet-500"}),d.jsxs("span",{children:[p(b)," Viewers"]})]})})]})]}),d.jsx("button",{onClick:e,className:"absolute bottom-4 right-4 p-2 rounded-lg bg-zinc-900 dark:bg-white text-white dark:text-black opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",title:"View Details",children:d.jsx(tp,{size:16})})]})}function LW({form:t,setForm:e,isMultiCdnMode:n,toggleCdnMode:r,cdnList:i,onAdd:a,onRemove:l,onUpdate:u,onAutoFix:f}){return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-xl",children:d.jsx(np,{size:20,className:"text-orange-600 dark:text-orange-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-black text-zinc-900 dark:text-white",children:"Configuration"}),d.jsx("p",{className:"text-xs text-zinc-500",children:"Manage Time Range & CDN Strategy"})]})]}),f&&d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-lg text-xs font-black uppercase tracking-wider hover:bg-indigo-100 dark:hover:bg-indigo-900/30 transition-colors",children:[d.jsx(BS,{size:14})," Auto Calc Time"]})]}),d.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 p-6 space-y-6 shadow-sm",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-6 border-b border-zinc-100 dark:border-zinc-800",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Range Start"}),d.jsx("input",{type:"time",value:t.rangeStart,onChange:m=>e({...t,rangeStart:m.target.value}),className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold dark:text-white focus:ring-2 ring-orange-500 outline-none transition-all"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Range End"}),d.jsx("input",{type:"time",value:t.rangeEnd,onChange:m=>e({...t,rangeEnd:m.target.value}),className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold dark:text-white focus:ring-2 ring-orange-500 outline-none transition-all"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest flex items-center gap-2",children:"CDN Strategy"}),d.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${n?"bg-black text-white border-black dark:bg-white dark:text-black":"bg-zinc-100 text-zinc-500 border-zinc-200 dark:bg-zinc-800 dark:border-zinc-700"}`,children:[d.jsx(RC,{size:14})," ",n?"Multi-CDN Mode: ON":"Single Provider"]})]}),n?d.jsxs("div",{className:"space-y-3 animate-in slide-in-from-top-2 duration-300",children:[i.map((m,p)=>d.jsxs("div",{className:"flex items-start gap-3 p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 transition-all hover:border-orange-300 dark:hover:border-orange-700/50",children:[d.jsxs("div",{className:"w-1/3",children:[d.jsx("label",{className:"text-[9px] font-bold text-zinc-400 mb-1.5 block uppercase tracking-wide",children:p===0?"Primary Provider":`Provider #${p+1}`}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:m.provider,onChange:b=>u(m.id,"provider",b.target.value),className:"w-full p-2.5 rounded-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-600 text-xs font-bold outline-none focus:ring-1 ring-orange-500 appearance-none cursor-pointer",children:[d.jsx("option",{value:"Select Provider",children:"Select Provider"}),d.jsx("option",{value:"AWS",children:"AWS"}),d.jsx("option",{value:"Tencent",children:"Tencent"}),d.jsx("option",{value:"Huawei",children:"Huawei"}),d.jsx("option",{value:"BytePlus",children:"BytePlus"}),d.jsx("option",{value:"Wangsu",children:"Wangsu"}),d.jsx("option",{value:"Akamai",children:"Akamai"})]}),d.jsx(Gd,{size:12,className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-[9px] font-bold text-zinc-400 mb-1.5 block uppercase tracking-wide",children:"Channel / Config Key"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"e.g. sport-1-hd",value:m.key||"",onChange:b=>u(m.id,"key",b.target.value),className:"w-full pl-8 pr-3 py-2.5 rounded-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-600 text-xs font-bold outline-none focus:ring-1 ring-orange-500"}),d.jsx(BS,{size:12,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-zinc-400"})]})]}),i.length>1&&d.jsx("div",{className:"pt-6",children:d.jsx("button",{onClick:()=>l(m.id),className:"p-2 text-zinc-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Remove CDN",children:d.jsx(Ja,{size:16})})})]},m.id)),d.jsxs("button",{onClick:a,className:"w-full py-3 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-xl text-zinc-400 font-bold text-xs uppercase flex items-center justify-center gap-2 hover:border-orange-400 hover:text-orange-500 transition-all",children:[d.jsx(Dc,{size:16})," Add CDN Provider"]})]}):d.jsx("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in duration-300",children:["AWS","Tencent","Huawei","BytePlus","Wangsu","Akamai"].map(m=>d.jsxs("button",{onClick:()=>e({...t,cdn:m}),className:`p-4 rounded-xl border-2 font-black uppercase text-sm transition-all flex flex-col items-center justify-center gap-2 ${t.cdn===m?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-black border-zinc-900 dark:border-zinc-100 shadow-lg scale-[1.02]":"bg-zinc-50 dark:bg-zinc-800 text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-300"}`,children:[d.jsx(Gd,{size:24,className:t.cdn===m?"opacity-100":"opacity-50"})," ",m]},m))})]}),d.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block",children:"Live Channel ID"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:t.liveChannel,onChange:m=>e({...t,liveChannel:m.target.value}),onFocus:()=>document.getElementById("custom-dropdown").classList.remove("hidden"),onBlur:()=>setTimeout(()=>document.getElementById("custom-dropdown")?.classList.add("hidden"),200),placeholder:"Select or Type Channel ID",className:"w-full p-3 rounded-xl bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 font-bold focus:ring-2 ring-orange-500 outline-none"}),d.jsx("div",{id:"custom-dropdown",className:"hidden absolute top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-xl z-50",children:[...Array.from({length:24},(m,p)=>`Sport ${p+1}`),"Thaileague","Sport-T 101","Sport-T 102",...Array.from({length:21},(m,p)=>`TL${p+1}`)].filter(m=>m.toLowerCase().includes((t.liveChannel||"").toLowerCase())).map(m=>d.jsx("div",{onMouseDown:()=>e({...t,liveChannel:m}),className:"px-4 py-2 hover:bg-orange-50 dark:hover:bg-orange-900/20 cursor-pointer text-sm font-semibold text-zinc-700 dark:text-zinc-300 transition-colors",children:m},m))})]})]})]})]})}function UW({isOpen:t,onClose:e,data:n,headers:r}){const[i,a]=E.useState(!1),{toast:l}=dl();if(!t)return null;const u=()=>{let f="";Array.isArray(n)&&Array.isArray(n[0])?f=n.map(m=>m.join("	")).join(`
`):f=n.join("	"),navigator.clipboard.writeText(f).then(()=>{a(!0),l({description:"Copied to clipboard successfully!",variant:"success"}),setTimeout(()=>{a(!1)},3e3)})};return d.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-[#121212] w-full max-w-5xl rounded-3xl shadow-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden flex flex-col max-h-[85vh]",children:[d.jsxs("div",{className:"p-6 bg-zinc-50 dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-xl text-green-600 dark:text-green-400",children:d.jsx(CC,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-black uppercase text-zinc-900 dark:text-white",children:"Data Preview"}),d.jsx("p",{className:"text-xs text-zinc-500",children:Array.isArray(n)&&Array.isArray(n[0])?`Ready to copy ${n.length} rows`:"Ready to copy single row"})]})]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-full transition-colors",children:d.jsx(Bn,{size:20,className:"text-zinc-500"})})]}),d.jsx("div",{className:"p-6 overflow-x-auto custom-scrollbar bg-zinc-50/50 dark:bg-black/50 flex-1",children:d.jsx("div",{className:"inline-block min-w-full align-middle",children:d.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden bg-white dark:bg-black",children:d.jsxs("table",{className:"min-w-full divide-y divide-zinc-200 dark:divide-zinc-800",children:[d.jsx("thead",{className:"bg-zinc-100 dark:bg-zinc-900",children:d.jsx("tr",{children:r.map((f,m)=>d.jsx("th",{className:"px-4 py-3 text-left text-[10px] font-black uppercase tracking-widest text-zinc-500 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:f},m))})}),d.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:Array.isArray(n)&&Array.isArray(n[0])?n.map((f,m)=>d.jsx("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors",children:f.map((p,b)=>d.jsx("td",{className:"px-4 py-3 text-xs font-mono text-zinc-700 dark:text-zinc-300 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:p},b))},m)):d.jsx("tr",{children:n.map((f,m)=>d.jsx("td",{className:"px-4 py-3 text-xs font-mono text-zinc-700 dark:text-zinc-300 whitespace-nowrap border-r border-zinc-100 dark:border-zinc-800 last:border-0",children:f},m))})})]})})})}),d.jsxs("div",{className:"p-6 border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 flex justify-end gap-3 z-10",children:[d.jsx("button",{onClick:e,className:"px-6 py-3 text-xs font-black uppercase text-zinc-500 hover:text-black dark:hover:text-white transition-colors",children:"Close"}),d.jsxs("button",{onClick:u,className:`px-8 py-3 rounded-xl text-xs font-black uppercase flex items-center gap-2 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transform ${i?"bg-emerald-500 text-white":"bg-black dark:bg-white text-white dark:text-black"}`,children:[i?d.jsx(gf,{size:16}):d.jsx($d,{size:16}),i?"Copied!":"Copy Data to Clipboard"]})]})]})})}const Ra=(t,e)=>{if(!t||isNaN(t))return 0;const n=parseFloat(t);return e==="TB"?n*1024:e==="MB"?n/1024:n},hi=t=>{if(!t)return 0;if(typeof t=="object"&&t.val!==void 0){const r=parseFloat(t.val);if(isNaN(r))return 0;const i=(t.unit||"").toLowerCase();return i==="m"?r*1e6:i==="k"?r*1e3:i==="b"?r*1e9:r}const e=t.toString().toLowerCase().trim(),n=parseFloat(e);return isNaN(n)?0:e.endsWith("m")?n*1e6:e.endsWith("k")?n*1e3:e.endsWith("b")?n*1e9:n},Yr=(t,e=0)=>t==null||t===""?"0":parseFloat(t).toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}),Tc=(t,e=2)=>!t||isNaN(t)?"0 %":`${parseFloat(t).toFixed(e)} %`,pc="schedules",KA={ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:"",rangeStart:"",rangeEnd:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},cdn:"AWS",liveChannel:""};function BW(t,e){const[n,r]=E.useState("START"),[i,a]=E.useState(!0),[l,u]=E.useState(!1),[f,m]=E.useState(!1),[p,b]=E.useState(!1),[x,w]=E.useState(KA),[A,S]=E.useState([]),[k,N]=E.useState(!1),[j,z]=E.useState("Unknown"),[M,P]=E.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[H,D]=E.useState({show:!1,data:[]}),{toast:R}=dl(),I=E.useCallback((le,pe="success")=>{le&&R({description:le,variant:pe})},[R]),L=E.useCallback(async()=>{if(t?.id){u(!0);try{const le=Mt(He,pc,t.id),pe=n==="START"?"start_stat":"end_stat",F=Mt(He,pc,t.id,"statistics",pe),[K,ue]=await Promise.all([xp(le),xp(F)]),ge=K.exists()?K.data():{};if(ue.exists()){const xe=ue.data();w(Te=>({...Te,...xe,liveChannel:xe.liveChannel||ge.liveChannel||ge.channel||t.channel||"",reqTotal:xe.reqTotal||{val:"",unit:"k"},bwPeakGbps:xe.bwPeakGbps||{val:"",unit:"GB"},bandwidth:xe.bandwidth||{val:"",unit:"GB"}})),xe.cdnDetails?.length>0?(S(xe.cdnDetails),N(!0)):(N(xe.cdn==="Multi CDN"),S([])),z(xe.reporter||"Unknown")}else{const xe=ge.cdn||"AWS",Te=xe==="Multi CDN";w({...KA,liveChannel:ge.liveChannel||ge.channel||t.channel||"",cdn:xe}),N(Te),S(Te?[{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}]:[])}}catch(le){console.error("Fetch Error:",le),I("","error")}finally{u(!1),a(!1)}}},[t,n,I]);return E.useEffect(()=>{L()},[L]),{state:{statType:n,loading:i,fetching:l,saving:f,isSuccess:p,form:x,cdnList:A,isMultiCdnMode:k,reporterName:j,confirmModal:M,preview:H},actions:{setStatType:r,setForm:w,toggleCdnMode:()=>{N(le=>!le),!k&&A.length===0&&S([{id:Date.now(),provider:"AWS",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}]),w(le=>({...le,cdn:k?"AWS":"Multi CDN"}))},handleAddCdn:()=>{S(le=>[...le,{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:"",reqTotal:{val:"",unit:"k"},bwPeakGbps:{val:"",unit:"GB"},bandwidth:{val:"",unit:"GB"},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:"",muxViewerUniq:"",muxScore:""}])},handleRemoveCdn:le=>{A.length>1&&S(pe=>pe.filter(F=>F.id!==le))},handleUpdateCdnRow:(le,pe,F)=>{S(K=>K.map(ue=>ue.id===le?{...ue,[pe]:F}:ue))},handleAutoFixTime:()=>{let le=t?.startTime||t?.start_time||t?.time;if(!le){I("","error");return}try{const F=(xe=>{let Te=String(xe).toLowerCase().trim().replace(".",":"),ie=Te.replace(/[a-z]/g,"").trim(),[Ie,qe]=ie.split(":"),Qe=parseInt(Ie,10),kt=parseInt(qe||"0",10);return isNaN(Qe)?null:(Te.includes("pm")&&Qe<12&&(Qe+=12),{h:Qe,m:kt})})(le);if(!F){I("","error");return}const K=(xe,Te,ie)=>{let Ie=xe*60+Te+ie;return Ie=(Ie%1440+1440)%1440,`${String(Math.floor(Ie/60)).padStart(2,"0")}:${String(Ie%60).padStart(2,"0")}`},ue=K(F.h,F.m,15),ge=K(F.h,F.m,120);w(xe=>({...xe,rangeStart:ue,rangeEnd:ge})),I(`: ${ue} - ${ge}`,"success")}catch{I("","error")}},handleSmartSave:async le=>{if(t?.id){m(!0);try{const pe=n==="START"?"start_stat":"end_stat",F=Mt(He,pc,t.id),K=Mt(He,pc,t.id,"statistics",pe),ue={...x,cdn:k?"Multi CDN":x.cdn,cdnDetails:k?A:null,updatedAt:$o(),statType:n,bwPeakGbps:x.bwPeakGbps||{val:"",unit:"GB"},bandwidth:x.bandwidth||{val:"",unit:"GB"},reqTotal:x.reqTotal||{val:"",unit:"k"}};await wL(K,ue),await qi(F,{[n==="START"?"hasStartStat":"hasEndStat"]:!0,[n==="START"?"startStats":"endStats"]:ue,updatedAt:$o()}),I("","success"),b(!0),setTimeout(()=>b(!1),2e3),le&&le()}catch{I("","error")}finally{m(!1)}}},requestDelete:()=>{P({isOpen:!0,title:`Reset ${n} Stats?`,message:`Are you sure you want to delete ${n} data? Match status will be reverted.`,isDanger:!0,onConfirm:async()=>{P(le=>({...le,isOpen:!1})),m(!0);try{const le=n==="START"?"start_stat":"end_stat";await yg(Mt(He,pc,t.id,"statistics",le)),await qi(Mt(He,pc,t.id),{[n==="START"?"hasStartStat":"hasEndStat"]:!1,[n==="START"?"startStats":"endStats"]:null,updatedAt:$o()}),I("","success"),setTimeout(e,1e3)}catch{I("","error")}finally{m(!1)}}})},handlePreview:()=>{const le=pe=>{if(!pe)return 0;if(typeof pe=="object"&&pe.val!==void 0){const F=parseFloat(pe.val||0),K=(pe.unit||"k").toLowerCase();return K==="m"?F*1e6:K==="b"?F*1e9:F*1e3}return hi(pe)};try{const pe={no:"1",league:t?.league||"-",title:t?.title||t?.match||"-",time:t?.startTime||"-",ecsSport:Tc(x.ecsSport,2),ecsEnt:Tc(x.ecsEntitlement,2),api:Tc(x.apiHuawei,2),reqPeak:Yr(hi(x.requestPeak)),viewers:Yr(hi(x.muxViewerUniq)),score:x.muxScore,start:x.rangeStart||"-",end:x.rangeEnd||"-"},F=k&&A.length>0?A.map(K=>[pe.no,pe.league,pe.title,pe.time,pe.ecsSport,pe.ecsEnt,pe.api,pe.reqPeak,K.provider||"-",K.key||"-",Yr(hi(K.reqPeakMin)),Yr(le(K.reqTotal)),Ra(K.bwPeakGbps?.val||K.bwPeakGbps,K.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),Ra(K.bandwidth?.val||K.bandwidth,K.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),pe.viewers,pe.score,pe.start,pe.end]):[[pe.no,pe.league,pe.title,pe.time,pe.ecsSport,pe.ecsEnt,pe.api,pe.reqPeak,x.cdn||"-",x.liveChannel||"-",Yr(hi(x.reqPeakMin)),Yr(le(x.reqTotal)),Ra(x.bwPeakGbps?.val||x.bwPeakGbps,x.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),Ra(x.bandwidth?.val||x.bandwidth,x.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4}),pe.viewers,pe.score,pe.start,pe.end]];D({show:!0,data:F})}catch{I("Preview Error","error")}},closeConfirm:()=>P(le=>({...le,isOpen:!1})),closePreview:()=>D(le=>({...le,show:!1}))}}}function In({label:t,value:e,unit:n,onChange:r,onUnitChange:i,placeholder:a,icon:l,color:u="blue",type:f="number",tooltip:m,previousValue:p}){const b={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-100 dark:border-blue-800",text:"text-blue-600 dark:text-blue-400",accent:"bg-blue-500"},emerald:{bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-100 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",accent:"bg-emerald-500"},orange:{bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-100 dark:border-orange-800",text:"text-orange-600 dark:text-orange-400",accent:"bg-orange-500"},purple:{bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-100 dark:border-purple-800",text:"text-purple-600 dark:text-purple-400",accent:"bg-purple-500"},pink:{bg:"bg-pink-50 dark:bg-pink-900/20",border:"border-pink-100 dark:border-pink-800",text:"text-pink-600 dark:text-pink-400",accent:"bg-pink-500"},cyan:{bg:"bg-cyan-50 dark:bg-cyan-900/20",border:"border-cyan-100 dark:border-cyan-800",text:"text-cyan-600 dark:text-cyan-400",accent:"bg-cyan-500"}},x=b[u]||b.blue,A=(()=>{if(!e||isNaN(e))return null;const S=parseFloat(e);let k=S,N="";if(i&&n)switch(n){case"TB":k=S*1024,N="GB";break;case"MB":k=S/1024,N="GB";break;case"KB":k=S/(1024*1024),N="GB";break;case"GB":k=S,N="GB";break;case"k":k=S*1e3,N="";break;case"m":k=S*1e6,N="";break;default:k=S}else if(f==="abbrev")return null;const j=k.toLocaleString(void 0,{minimumFractionDigits:N==="GB"?2:0,maximumFractionDigits:N==="GB"?4:2});return N?`${j} ${N}`:j})();return d.jsxs("div",{className:`relative group rounded-2xl border-2 ${x.border} ${x.bg} p-4 transition-all hover:shadow-lg`,children:[d.jsx("div",{className:`absolute top-0 left-4 right-4 h-1 ${x.accent} rounded-b-full opacity-60`}),d.jsx("div",{className:"flex items-start justify-between mb-3 pt-2",children:d.jsxs("div",{className:"flex items-center gap-2",children:[l&&d.jsx("div",{className:`p-2 rounded-xl ${x.bg} ${x.text}`,children:d.jsx(l,{size:16})}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-500 dark:text-zinc-400 uppercase tracking-widest block",children:t}),m&&d.jsxs("div",{className:"flex items-center gap-1 text-[8px] text-zinc-400 mt-0.5",children:[d.jsx(TC,{size:8}),d.jsx("span",{children:m})]})]})]})}),d.jsxs("div",{className:"flex rounded-xl overflow-hidden border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-900 shadow-sm",children:[d.jsx("input",{type:f==="abbrev"?"text":"number",step:"any",value:e,onChange:S=>r(S.target.value),placeholder:a||"0",className:"flex-1 px-4 py-3 text-lg font-bold bg-transparent outline-none dark:text-white placeholder-zinc-300 dark:placeholder-zinc-600 min-w-0"}),i?d.jsxs("select",{value:n,onChange:S=>i(S.target.value),className:"bg-zinc-50 dark:bg-zinc-800 border-l border-zinc-200 dark:border-zinc-700 px-2 text-xs font-black uppercase outline-none dark:text-zinc-400 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors text-center w-[70px]",children:[d.jsxs("optgroup",{label:"Count",children:[d.jsx("option",{value:"k",children:"k"}),d.jsx("option",{value:"m",children:"m"})]}),d.jsxs("optgroup",{label:"Data",children:[d.jsx("option",{value:"GB",children:"GB"}),d.jsx("option",{value:"TB",children:"TB"}),d.jsx("option",{value:"MB",children:"MB"}),d.jsx("option",{value:"KB",children:"KB"})]})]}):f==="percentage"&&d.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-800 border-l border-zinc-200 dark:border-zinc-700 px-4 flex items-center",children:d.jsx("span",{className:"text-sm font-black text-zinc-500",children:"%"})})]}),A&&d.jsxs("div",{className:"mt-2 flex items-center justify-end gap-1",children:[d.jsx("span",{className:"text-[9px] font-black text-zinc-400",children:""}),d.jsx("span",{className:`text-[10px] font-black ${x.text}`,children:A})]})]})}const _w=({item:t,index:e,icon:n,onRemove:r,isRemovable:i})=>d.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-zinc-200 dark:border-zinc-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-zinc-500",children:d.jsx(n,{size:16})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-black text-zinc-900 dark:text-white uppercase",children:t.provider||`Provider ${e+1}`}),d.jsx("p",{className:"text-[10px] text-zinc-400 font-bold uppercase",children:t.key||"No Key Configured"})]})]}),i&&d.jsx("button",{onClick:r,className:"text-zinc-400 hover:text-red-500 transition-colors",children:d.jsx(Ja,{size:16})})]}),Ew=({onClick:t})=>d.jsxs("button",{onClick:t,className:"w-full py-4 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-2xl flex justify-center gap-2 text-zinc-400 font-bold text-xs uppercase hover:text-orange-500 hover:border-orange-400 transition-all",children:[d.jsx(Dc,{size:16})," Add Provider"]}),HW=({data:t,onChange:e,isMulti:n,cdnList:r,onUpdateCdn:i,onRemoveCdn:a,onAddCdn:l})=>n?d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((u,f)=>d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[d.jsx(_w,{item:u,index:f,icon:Kp,onRemove:()=>a(u.id),isRemovable:r.length>1}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(In,{label:"ECS Sport",value:u.ecsSport,onChange:m=>i(u.id,"ecsSport",m),type:"percentage",icon:Ar,color:"blue",placeholder:"0"}),d.jsx(In,{label:"ECS Entitlement",value:u.ecsEntitlement,onChange:m=>i(u.id,"ecsEntitlement",m),type:"percentage",icon:Ar,color:"purple",placeholder:"0"}),d.jsx(In,{label:"API Huawei",value:u.apiHuawei,onChange:m=>i(u.id,"apiHuawei",m),type:"percentage",icon:Qy,color:"orange",placeholder:"0"}),d.jsx(In,{label:"WWW & API Peak",value:u.requestPeak,onChange:m=>i(u.id,"requestPeak",m),type:"number",icon:Gd,color:"emerald",placeholder:"0"})]})]},u.id)),d.jsx(Ew,{onClick:l})]}):d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsx(In,{label:"ECS Sport",value:t.ecsSport,onChange:u=>e("ecsSport",u),type:"percentage",icon:Ar,color:"blue",placeholder:"0"}),d.jsx(In,{label:"ECS Entitlement",value:t.ecsEntitlement,onChange:u=>e("ecsEntitlement",u),type:"percentage",icon:Ar,color:"purple",placeholder:"0"}),d.jsx(In,{label:"API Huawei",value:t.apiHuawei,onChange:u=>e("apiHuawei",u),type:"percentage",icon:Qy,color:"orange",placeholder:"0"}),d.jsx(In,{label:"WWW & API Peak",value:t.requestPeak,onChange:u=>e("requestPeak",u),type:"number",icon:Gd,color:"emerald",placeholder:"0"})]}),FW=({data:t,onChange:e,isMulti:n,cdnList:r,onUpdateCdn:i,onRemoveCdn:a,onAddCdn:l})=>{const u=(f,m)=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(In,{label:"Req Peak (Min)",value:f.reqPeakMin,onChange:p=>m("reqPeakMin",p),type:"number",icon:Qy,color:"blue",placeholder:"0"}),d.jsx(In,{label:"Req Total",value:f.reqTotal?.val,unit:f.reqTotal?.unit||"k",onChange:p=>m("reqTotal",{...f.reqTotal,val:p}),onUnitChange:p=>m("reqTotal",{...f.reqTotal,unit:p}),type:"number",icon:kC,color:"cyan",placeholder:"0"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(In,{label:"BW Peak (Gb/s)",value:f.bwPeakGbps?.val,unit:f.bwPeakGbps?.unit||"GB",onChange:p=>m("bwPeakGbps",{...f.bwPeakGbps,val:p}),onUnitChange:p=>m("bwPeakGbps",{...f.bwPeakGbps,unit:p}),type:"number",icon:Ar,color:"red",placeholder:"0"}),d.jsx(In,{label:"BW Total (GB)",value:f.bandwidth?.val,unit:f.bandwidth?.unit||"GB",onChange:p=>m("bandwidth",{...f.bandwidth,val:p}),onUnitChange:p=>m("bandwidth",{...f.bandwidth,unit:p}),type:"number",icon:Ar,color:"orange",placeholder:"0"})]})]});return n?d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((f,m)=>d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[d.jsx(_w,{item:f,index:m,icon:OC,onRemove:()=>a(f.id),isRemovable:r.length>1}),d.jsx("div",{className:"space-y-4",children:u(f,(p,b)=>i(f.id,p,b))})]},f.id)),d.jsx(Ew,{onClick:l})]}):d.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:u(t,(f,m)=>e(f,m))})},qW=({data:t,onChange:e,isMulti:n,cdnList:r,onUpdateCdn:i,onRemoveCdn:a,onAddCdn:l})=>n?d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[r.map((u,f)=>d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/30 rounded-2xl p-6 border border-zinc-200 dark:border-zinc-800",children:[d.jsx(_w,{item:u,index:f,icon:Rd,onRemove:()=>a(u.id),isRemovable:r.length>1}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(In,{label:"Live Viewers",value:u.muxViewerUniq,onChange:m=>i(u.id,"muxViewerUniq",m),type:"number",icon:Rd,color:"purple",placeholder:"0"}),d.jsx(In,{label:"Engagement Score",value:u.muxScore,onChange:m=>i(u.id,"muxScore",m),type:"number",icon:np,color:"pink",placeholder:"0"})]})]},u.id)),d.jsx(Ew,{onClick:l})]}):d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d.jsx(In,{label:"Live Viewers",value:t.muxViewerUniq,onChange:u=>e("muxViewerUniq",u),type:"number",icon:Rd,color:"purple",placeholder:"0"}),d.jsx(In,{label:"Engagement Score",value:t.muxScore,onChange:u=>e("muxScore",u),type:"number",icon:np,color:"pink",placeholder:"0"})]}),$W=({label:t,icon:e,active:n,onClick:r})=>d.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-6 py-3 rounded-full text-xs font-black uppercase tracking-wider transition-all duration-300 ${n?"bg-black text-white dark:bg-white dark:text-black shadow-lg scale-105":"bg-white dark:bg-zinc-900 text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-800 hover:text-black dark:hover:text-white"}`,children:[d.jsx(e,{size:14,className:n?"animate-pulse":""}),d.jsx("span",{children:t})]}),WW=()=>d.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-pulse p-2",children:[d.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-zinc-200 dark:bg-zinc-800/50"}),d.jsxs("div",{className:"flex-1 space-y-3",children:[d.jsx("div",{className:"h-8 w-2/3 bg-zinc-200 dark:bg-zinc-800/50 rounded-xl"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"h-5 w-24 bg-zinc-200 dark:bg-zinc-800/50 rounded-lg"}),d.jsx("div",{className:"h-5 w-24 bg-zinc-200 dark:bg-zinc-800/50 rounded-lg"})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(t=>d.jsx("div",{className:"h-32 rounded-3xl bg-zinc-100 dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800/50 relative overflow-hidden",children:d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 dark:via-white/5 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"})},t))})]});function GW({isOpen:t,onClose:e,matchData:n}){const[r,i]=E.useState("system"),{state:a,actions:l}=BW(n,e);if(!t)return null;const u=[{id:"system",label:"System",icon:Kp},{id:"traffic",label:"Traffic",icon:OC},{id:"viewer",label:"Viewer",icon:Rd},{id:"config",label:"Config",icon:np}];return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed z-[200]",children:d.jsx(bf,{isOpen:a.confirmModal.isOpen,onClose:l.closeConfirm,...a.confirmModal})}),d.jsx(UW,{isOpen:a.preview.show,onClose:l.closePreview,data:a.preview.data,headers:["#","League","Match","Time","ECS Sport","ECS Ent","API Huawei","WWW & API Peak/Min","CDN","Key","Req Peak","Req Total","BW Peak","BW Total","Viewers","Score","Start","End"]}),d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",onClick:a.loading?void 0:e,children:d.jsxs("div",{className:"bg-zinc-50 dark:bg-[#0a0a0a] w-full max-w-5xl h-[92vh] rounded-3xl shadow-2xl overflow-hidden flex flex-col border border-zinc-200 dark:border-zinc-800 animate-in zoom-in-95 duration-300",onClick:f=>f.stopPropagation(),children:[d.jsxs("div",{className:"relative shrink-0 overflow-hidden",children:[d.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a.statType==="START"?"from-orange-500 via-orange-600 to-red-600":"from-emerald-500 via-emerald-600 to-teal-600"}`}),d.jsx("div",{className:"relative p-6 md:p-8 text-white",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl flex flex-col items-center justify-center border-2 border-white/20 bg-white/10 backdrop-blur-md shadow-lg",children:d.jsx("span",{className:"text-2xl font-black leading-none",children:a.reporterName.charAt(0).toUpperCase()})}),d.jsx("div",{className:"absolute -bottom-2 -right-2 bg-white text-black text-[9px] font-black px-2 py-0.5 rounded-full uppercase shadow-md",children:a.statType})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-black uppercase tracking-tight leading-none drop-shadow-sm mb-2 max-w-md truncate",children:n?.teamA&&n?.teamB?`${n.teamA} vs ${n.teamB}`:n?.title||n?.match||"Match Stats"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg bg-black/20 backdrop-blur-md border border-white/10 text-[10px] font-bold uppercase tracking-wider",children:[d.jsx(Dn,{size:10})," ",n?.startTime||n?.start_time||n?.time||"--:--"]}),d.jsxs("button",{onClick:l.toggleCdnMode,className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg border transition-all text-[10px] font-bold uppercase tracking-wider ${a.isMultiCdnMode?"bg-white text-black border-white shadow-lg":"bg-black/20 text-white/80 border-white/10 hover:bg-black/30"}`,children:[d.jsx(RC,{size:10})," ",a.isMultiCdnMode?"Multi-CDN":"Single CDN"]})]})]})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsxs("button",{onClick:()=>l.setStatType(a.statType==="START"?"END":"START"),className:"flex-1 md:flex-none h-10 px-4 flex items-center justify-center gap-2 bg-black/20 hover:bg-black/30 border border-white/10 rounded-xl text-[10px] font-black uppercase backdrop-blur-sm transition-all text-white",children:[d.jsx(qd,{size:14})," Switch Phase"]}),d.jsxs("button",{onClick:l.handlePreview,className:"flex-1 md:flex-none h-10 px-4 flex items-center justify-center gap-2 bg-white/20 hover:bg-white/30 border border-white/20 rounded-xl text-[10px] font-black uppercase backdrop-blur-sm transition-all text-white",children:[d.jsx(tp,{size:14})," Preview"]}),d.jsx("button",{onClick:e,className:"h-10 w-10 flex items-center justify-center bg-white/10 hover:bg-white/20 rounded-xl text-white transition-all",children:d.jsx(Bn,{size:18})})]})]})})]}),d.jsx("div",{className:"shrink-0 p-2 bg-white dark:bg-[#0a0a0a] border-b border-zinc-200 dark:border-zinc-800",children:d.jsx("div",{className:"flex p-1 bg-zinc-100 dark:bg-zinc-900 rounded-[1.25rem] overflow-x-auto custom-scrollbar gap-1",children:u.map(f=>d.jsx($W,{id:f.id,label:f.label,icon:f.icon,active:r===f.id,onClick:()=>i(f.id)},f.id))})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 custom-scrollbar bg-white dark:bg-[#0a0a0a]",children:a.fetching?d.jsx(WW,{}):d.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[r==="system"&&d.jsx(HW,{data:a.form,onChange:(f,m)=>l.setForm({...a.form,[f]:m}),isMulti:a.isMultiCdnMode,cdnList:a.cdnList,onUpdateCdn:l.handleUpdateCdnRow,onRemoveCdn:l.handleRemoveCdn,onAddCdn:l.handleAddCdn}),r==="traffic"&&d.jsx(FW,{data:a.form,onChange:(f,m)=>l.setForm({...a.form,[f]:m}),isMulti:a.isMultiCdnMode,cdnList:a.cdnList,onUpdateCdn:l.handleUpdateCdnRow,onRemoveCdn:l.handleRemoveCdn,onAddCdn:l.handleAddCdn}),r==="viewer"&&d.jsx(qW,{data:a.form,onChange:(f,m)=>l.setForm({...a.form,[f]:m}),isMulti:a.isMultiCdnMode,cdnList:a.cdnList,onUpdateCdn:l.handleUpdateCdnRow,onRemoveCdn:l.handleRemoveCdn,onAddCdn:l.handleAddCdn}),r==="config"&&d.jsx(LW,{form:a.form,setForm:l.setForm,isMultiCdnMode:a.isMultiCdnMode,toggleCdnMode:l.toggleCdnMode,cdnList:a.cdnList,onAdd:l.handleAddCdn,onRemove:l.handleRemoveCdn,onUpdate:l.handleUpdateCdnRow,onAutoFix:l.handleAutoFixTime})]})}),d.jsxs("div",{className:"p-4 md:p-6 bg-white dark:bg-[#0a0a0a] border-t border-zinc-200 dark:border-zinc-800 flex flex-col-reverse md:flex-row gap-4 shrink-0 z-10 relative",children:[d.jsx("div",{className:"absolute -top-10 left-0 right-0 h-10 bg-gradient-to-t from-white dark:from-[#0a0a0a] to-transparent pointer-events-none"}),d.jsxs("button",{onClick:l.requestDelete,disabled:a.loading,className:"px-4 py-4 rounded-xl text-xs font-black uppercase tracking-widest text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors flex items-center gap-2",children:[d.jsx(Ja,{size:18})," ",d.jsx("span",{className:"hidden md:inline",children:"Reset Phase"})]}),d.jsx("button",{onClick:e,disabled:a.loading,className:"px-6 py-4 rounded-xl text-xs font-black uppercase tracking-widest text-zinc-500 hover:text-black dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:"Discard"}),d.jsx("button",{onClick:()=>l.handleSmartSave(),disabled:a.loading||a.isSuccess,className:`flex-1 py-4 rounded-2xl font-black uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl transition-all ${a.isSuccess?"bg-green-500 text-white":a.statType==="START"?"bg-gradient-to-r from-orange-600 to-red-600 text-white":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white"}`,children:a.loading?d.jsxs(d.Fragment,{children:[d.jsx(Ua,{size:20,className:"animate-spin"})," Saving..."]}):a.isSuccess?d.jsxs(d.Fragment,{children:[d.jsx(gf,{size:20})," Success!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Xp,{size:20})," Save Statistics"]})})]})]})})]})}function YW({isOpen:t,onClose:e,onSubmit:n,initialData:r,selectedDate:i,saving:a}){const[l,u]=E.useState({league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:"",channel:"",cdn:"AWS"});E.useEffect(()=>{t&&u(r?{league:r.league||"",match:r.match||r.title||"",teamA:r.teamA||"",teamB:r.teamB||"",startTime:r.startTime||"",startDate:r.startDate||"",channel:r.channel||r.liveChannel||"",cdn:r.cdn||"AWS"}:{league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:i||new Date().toISOString().split("T")[0],channel:"",cdn:"AWS"})},[t,r,i]);const f=b=>{let x={...l,match:b};const A=[" vs "," VS "," Vs "," - "," v "].find(S=>b.includes(S));if(A){const S=b.split(A);S.length>=2&&(x.teamA=S[0].trim(),x.teamB=S.slice(1).join(A).trim())}u(x)},m=b=>{b.preventDefault(),n(l)};if(!t)return null;const p=l.teamA&&l.teamB&&l.league&&l.startDate&&l.startTime;return d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:e}),d.jsxs("div",{className:"relative w-full max-w-3xl bg-white dark:bg-zinc-900 rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] border-2 border-zinc-100 dark:border-zinc-800",children:[d.jsx("div",{className:"px-8 py-6 border-b-2 border-zinc-100 dark:border-zinc-800 bg-gradient-to-r from-zinc-50 to-white dark:from-zinc-900 dark:to-zinc-900",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/25",children:d.jsx(rp,{size:24,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-black text-zinc-900 dark:text-white",children:r?"Edit Match":"New Match"}),d.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mt-0.5",children:r?"Update match details":"Add a new match to the schedule"})]})]}),d.jsx("button",{onClick:e,disabled:a,className:"p-2 rounded-xl text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors disabled:opacity-50",children:d.jsx(Bn,{size:24})})]})}),d.jsxs("form",{onSubmit:m,className:"flex-1 overflow-y-auto",children:[d.jsxs("div",{className:"p-8 space-y-6",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl opacity-0 group-hover:opacity-20 blur-xl transition-opacity"}),d.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-2xl p-6 border-2 border-blue-200 dark:border-blue-800/30",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500 text-white rounded-lg shadow-md",children:[d.jsx(uP,{size:14}),d.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Smart Input"})]}),d.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-semibold",children:"Auto-fill teams instantly"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:'Type "Arsenal vs Chelsea" to auto-fill both teams',className:"w-full h-14 bg-white dark:bg-zinc-900 border-2 border-blue-300 dark:border-blue-700 rounded-xl px-5 pr-12 text-base font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 dark:focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:l.match,onChange:b=>f(b.target.value),autoFocus:!r}),d.jsx(NP,{size:20,className:"absolute right-4 top-1/2 -translate-y-1/2 text-blue-500"})]})]})]}),d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/30 rounded-2xl p-6 border-2 border-zinc-100 dark:border-zinc-800",children:[d.jsx("div",{className:"flex items-center justify-center mb-5",children:d.jsxs("div",{className:"flex items-center gap-2 px-4 py-1.5 bg-white dark:bg-zinc-800 rounded-lg border-2 border-zinc-200 dark:border-zinc-700",children:[d.jsx(pP,{size:16,className:"text-zinc-400"}),d.jsx("span",{className:"text-xs font-black uppercase tracking-wider text-zinc-600 dark:text-zinc-400",children:"Matchup"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr,auto,1fr] gap-6 items-end",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[d.jsx(LS,{size:14}),"Home Team"]}),d.jsx("input",{type:"text",placeholder:"Home Team",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-base font-bold text-zinc-900 dark:text-white text-center md:text-left outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:l.teamA,onChange:b=>u({...l,teamA:b.target.value}),required:!0})]}),d.jsx("div",{className:"hidden md:flex items-center justify-center pb-3",children:d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-zinc-900 to-zinc-700 dark:from-white dark:to-zinc-200 flex items-center justify-center shadow-lg",children:d.jsx("span",{className:"text-white dark:text-black font-black text-sm",children:"VS"})})}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3 md:justify-end",children:[d.jsx(LS,{size:14}),"Away Team"]}),d.jsx("input",{type:"text",placeholder:"Away Team",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-base font-bold text-zinc-900 dark:text-white text-center md:text-right outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400 placeholder:font-normal",value:l.teamB,onChange:b=>u({...l,teamB:b.target.value}),required:!0})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[d.jsx(rp,{size:14}),"League / Competition"]}),d.jsxs("select",{className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all cursor-pointer appearance-none",value:l.league,onChange:b=>u({...l,league:b.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Select League"}),d.jsx("option",{value:"Premier League",children:"Premier League"}),d.jsx("option",{value:"EFL",children:"EFL"}),d.jsx("option",{value:"Thai League 1",children:"Thai League 1"}),d.jsx("option",{value:"Thai League 2",children:"Thai League 2"}),d.jsx("option",{value:"Thai League 3",children:"Thai League 3"}),d.jsx("option",{value:"French League",children:"French League"}),d.jsx("option",{value:"Carabao Cup",children:"Carabao Cup"}),d.jsx("option",{value:"UEFA European",children:"UEFA European"}),d.jsx("option",{value:"Thai Women League 2",children:"Thai Women League 2"}),d.jsx("option",{value:"U21",children:"U21"}),d.jsx("option",{value:"Chang FA Cup",children:"Chang FA Cup"}),d.jsx("option",{value:"SV League WM_Volleyball",children:"SV League WM_Volleyball"}),d.jsx("option",{value:"SV League M_Volleyball",children:"SV League M_Volleyball"}),d.jsx("option",{value:"The Emirates FA Cup",children:"The Emirates FA Cup"}),d.jsx("option",{value:"MUANGTHAI CUP",children:"MUANGTHAI CUP"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[d.jsx(ip,{size:14}),"Broadcast Channel"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Select or Type Channel",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all placeholder:text-zinc-400",value:l.channel,onChange:b=>u({...l,channel:b.target.value}),onFocus:()=>document.getElementById("new-match-channel-dropdown").classList.remove("hidden"),onBlur:()=>setTimeout(()=>document.getElementById("new-match-channel-dropdown")?.classList.add("hidden"),200)}),d.jsx("div",{id:"new-match-channel-dropdown",className:"hidden absolute bottom-full left-0 right-0 mb-1 max-h-48 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-xl z-50",children:[...Array.from({length:24},(b,x)=>`Sport ${x+1}`),"Thaileague","Sport-T 101","Sport-T 102",...Array.from({length:21},(b,x)=>`TL${x+1}`)].filter(b=>b.toLowerCase().includes((l.channel||"").toLowerCase())).map(b=>d.jsx("div",{onMouseDown:()=>u({...l,channel:b}),className:"px-4 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer text-sm font-semibold text-zinc-700 dark:text-zinc-300 transition-colors",children:b},b))})]})]})]}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[d.jsx(of,{size:14}),"Date"]}),d.jsx("div",{className:"relative",children:d.jsxs(Rp,{children:[d.jsx(Dp,{asChild:!0,children:d.jsxs("button",{type:"button",className:Xe("w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white flex items-center justify-between outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all",!l.startDate&&"text-zinc-400"),children:[l.startDate?Xr(Ep(l.startDate),"PPP"):d.jsx("span",{children:"Pick a date"}),d.jsx(dr,{size:16,className:"text-zinc-400"})]})}),d.jsx(zp,{className:"w-auto p-0 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800",align:"start",children:d.jsx(of,{mode:"single",selected:l.startDate?Ep(l.startDate):void 0,onSelect:b=>{if(b){const x=b.getFullYear(),w=String(b.getMonth()+1).padStart(2,"0"),A=String(b.getDate()).padStart(2,"0");u({...l,startDate:`${x}-${w}-${A}`})}},initialFocus:!0,classNames:{selected:"bg-blue-600! text-white!"}})})]})})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[d.jsx(Dn,{size:14}),"Time"]}),d.jsx("input",{type:"time",className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-3 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all",value:l.startTime,onChange:b=>u({...l,startTime:b.target.value}),required:!0})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-600 dark:text-zinc-400 uppercase tracking-wider mb-3",children:[d.jsx(Kp,{size:14}),"CDN Provider"]}),d.jsxs("select",{className:"w-full h-12 bg-white dark:bg-zinc-900 border-2 border-zinc-200 dark:border-zinc-700 rounded-xl px-4 text-sm font-semibold text-zinc-900 dark:text-white outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 transition-all cursor-pointer",value:l.cdn,onChange:b=>u({...l,cdn:b.target.value}),children:[d.jsx("option",{value:"",children:"Select Provider"}),d.jsx("option",{value:"AWS",children:"AWS"}),d.jsx("option",{value:"Tencent",children:"Tencent"}),d.jsx("option",{value:"Huawei",children:"Huawei"}),d.jsx("option",{value:"BytePlus",children:"BytePlus"}),d.jsx("option",{value:"Wangsu",children:"Wangsu"}),d.jsx("option",{value:"Akamai",children:"Akamai"}),d.jsx("option",{value:"Multi CDN",children:"Multi CDN"})]})]})]})]})]}),d.jsx("div",{className:"p-6 border-t-2 border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:e,disabled:a,className:"flex-1 h-12 bg-white dark:bg-zinc-800 border-2 border-zinc-200 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 rounded-xl font-bold text-sm hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors disabled:opacity-50",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a||!p,className:"flex-1 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-bold text-sm hover:shadow-lg hover:shadow-blue-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?d.jsxs(d.Fragment,{children:[d.jsx(Ua,{size:18,className:"animate-spin"}),d.jsx("span",{children:"Saving..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Kr,{size:18}),d.jsx("span",{children:"Save Match"})]})})]})})]})]})]})}const QW=["#","League","Match","Time","ECS Sport","ECS Entitlement","API Huawei","WWW & API Peak/Min","CDN","Channel","Req Peak (Min)","Req Total","BW Peak (Gb/s)","BW Total (GB)","Viewers","Score","Start","End"];function XW({matches:t,isOpen:e,onClose:n}){const[r,i]=E.useState(new Set),[a,l]=E.useState("end_stat"),{toast:u}=dl(),[f,m]=E.useState(!0),[p,b]=E.useState("table");E.useEffect(()=>{e&&t?.length>0&&i(new Set(t.map(z=>z.id)))},[e]),E.useEffect(()=>{e&&i(z=>{const M=new Set(t.map(H=>H.id)),P=new Set([...z].filter(H=>M.has(H)));return P.size===z.size?z:P})},[t,e]);const x=E.useMemo(()=>t?t.map(z=>{const M=a==="start_stat"?"startStats":"endStats",P=z[M]||{},H=!!z[M];return{...z,...P,hasStats:H}}):[],[t,a]),w=(z,M)=>{const P={no:M+1,league:z.league||z.calendar||"-",title:z.teamA&&z.teamB?`${z.teamA} vs ${z.teamB}`:z.title||z.match||"-",time:z.startTime||"-",ecsSport:Tc(z.ecsSport,2)||"0.00 %",ecsEnt:Tc(z.ecsEntitlement,2)||"0.00 %",api:Tc(z.apiHuawei,2)||"0.00 %",reqPeak:Yr(hi(z.requestPeak))||"0",viewers:Yr(hi(z.muxViewerUniq))||"0",score:z.muxScore||"0",start:z.rangeStart||"-",end:z.rangeEnd||"-"},H=[];return z.cdn==="Multi CDN"&&Array.isArray(z.cdnDetails)&&z.cdnDetails.length>0?z.cdnDetails.forEach((R,I)=>{H.push({id:`${z.id}-cdn-${I}`,matchId:z.id,hasStats:z.hasStats,cells:[P.no,P.league,P.title,P.time,P.ecsSport,P.ecsEnt,P.api,P.reqPeak,R.provider||"Unknown",R.key||"-",Yr(hi(R.reqPeakMin))||"0",Yr(hi(R.reqTotal))||"0",Ra(R.bwPeakGbps?.val||R.bwPeakGbps,R.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",Ra(R.bandwidth?.val||R.bandwidth,R.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",P.viewers,P.score,P.start,P.end]})}):H.push({id:z.id,matchId:z.id,hasStats:z.hasStats,cells:[P.no,P.league,P.title,P.time,P.ecsSport,P.ecsEnt,P.api,P.reqPeak,z.cdn||"-",z.liveChannel||z.channel||"-",Yr(hi(z.reqPeakMin))||"0",Yr(hi(z.reqTotal))||"0",Ra(z.bwPeakGbps?.val||z.bwPeakGbps,z.bwPeakGbps?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",Ra(z.bandwidth?.val||z.bandwidth,z.bandwidth?.unit||"GB")?.toLocaleString("en-US",{maximumFractionDigits:4})||"0",P.viewers,P.score,P.start,P.end]}),H},A=E.useMemo(()=>{let z=0;return x.flatMap(M=>{const P=w(M,z);return z++,P})},[x]),S=E.useMemo(()=>A.filter(z=>r.has(z.matchId)),[A,r]),k=z=>{const M=new Set(r);M.has(z)?M.delete(z):M.add(z),i(M)},N=()=>{r.size===t.length?i(new Set):i(new Set(t.map(z=>z.id)))},j=(z=!1)=>{const M=z?A:S;if(M.length===0){u({description:"No data to copy",variant:"error"});return}const P=M.map(H=>H.cells.join("	")).join(`
`);navigator.clipboard.writeText(P).then(()=>{u({description:`Copied ${M.length} rows to clipboard!`,variant:"success"})})};return e?d.jsx(d.Fragment,{children:d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-[#0f0f0f] w-full max-w-7xl rounded-3xl shadow-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"shrink-0 p-4 md:p-6 bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/10 dark:to-purple-900/10 border-b border-zinc-200 dark:border-zinc-800",children:[d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl text-white shadow-lg shadow-violet-500/30",children:d.jsx(CC,{size:24})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-zinc-900 dark:text-white",children:"Data Preview"}),d.jsxs("p",{className:"text-xs text-zinc-500 mt-0.5",children:[t?.length||0," matches  ",A.length," rows  ",S.length," selected"]})]})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:d.jsx(Bn,{size:20,className:"text-zinc-500"})})]}),d.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1 p-1 bg-zinc-100 dark:bg-zinc-800 rounded-xl",children:[d.jsx("button",{onClick:()=>l("start_stat"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${a==="start_stat"?"bg-white dark:bg-zinc-700 text-violet-600 dark:text-violet-400 shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"Start Stats"}),d.jsx("button",{onClick:()=>l("end_stat"),className:`px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${a==="end_stat"?"bg-white dark:bg-zinc-700 text-violet-600 dark:text-violet-400 shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"End Stats"})]}),d.jsxs("div",{className:"flex items-center gap-1 p-1 bg-zinc-100 dark:bg-zinc-800 rounded-xl",children:[d.jsx("button",{onClick:()=>b("table"),className:`p-2 rounded-lg transition-all ${p==="table"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-400 hover:text-zinc-600"}`,title:"Table View",children:d.jsx(bP,{size:16})}),d.jsx("button",{onClick:()=>b("compact"),className:`p-2 rounded-lg transition-all ${p==="compact"?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-400 hover:text-zinc-600"}`,title:"Compact View",children:d.jsx(DC,{size:16})})]}),d.jsx("div",{className:"h-6 w-[1px] bg-zinc-200 dark:bg-zinc-700 hidden md:block"}),d.jsx("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-xs font-bold uppercase text-zinc-600 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all",children:r.size===t?.length?d.jsxs(d.Fragment,{children:[d.jsx(cm,{size:16,className:"text-violet-500"})," Deselect All"]}):d.jsxs(d.Fragment,{children:[d.jsx(um,{size:16})," Select All"]})}),d.jsx("div",{className:"flex-1"}),d.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-2 px-3 py-2 text-xs font-bold text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors",children:[f?d.jsx(d5,{size:16}):d.jsx(tp,{size:16}),f?"Collapse":"Expand"]})]})]}),f&&d.jsx("div",{className:"flex-1 overflow-hidden flex flex-col min-h-0",children:p==="table"?d.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-4",children:d.jsx("div",{className:"inline-block min-w-full align-middle",children:d.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden bg-white dark:bg-zinc-900/50",children:d.jsxs("table",{className:"min-w-full divide-y divide-zinc-200 dark:divide-zinc-800",children:[d.jsx("thead",{className:"bg-zinc-100 dark:bg-zinc-800/50 sticky top-0",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-3 py-3 text-left w-10",children:d.jsx("button",{onClick:N,className:"flex items-center justify-center",children:r.size===t?.length?d.jsx(cm,{size:16,className:"text-violet-500"}):r.size>0?d.jsx("div",{className:"w-4 h-4 border-2 border-violet-500 rounded bg-violet-500/20"}):d.jsx(um,{size:16,className:"text-zinc-400"})})}),QW.map((z,M)=>d.jsx("th",{className:"px-3 py-3 text-left text-[10px] font-black uppercase tracking-widest text-zinc-500 whitespace-nowrap",children:z},M))]})}),d.jsx("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:A.map((z,M)=>{const P=r.has(z.matchId);return d.jsxs("tr",{onClick:()=>k(z.matchId),className:`cursor-pointer transition-all ${P?"bg-violet-50 dark:bg-violet-900/10 hover:bg-violet-100 dark:hover:bg-violet-900/20":"hover:bg-zinc-50 dark:hover:bg-zinc-800/50"}`,children:[d.jsx("td",{className:"px-3 py-2",children:P?d.jsx(cm,{size:16,className:"text-violet-500"}):d.jsx(um,{size:16,className:"text-zinc-300 dark:text-zinc-600"})}),z.cells.map((H,D)=>d.jsx("td",{className:`px-3 py-2 text-xs font-mono whitespace-nowrap ${P?"text-zinc-800 dark:text-zinc-200":"text-zinc-600 dark:text-zinc-400"}`,children:H},D))]},z.id)})})]})})})}):d.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar p-4",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map(z=>{const M=r.has(z.id);return d.jsxs("div",{onClick:()=>k(z.id),className:`p-4 rounded-2xl border-2 cursor-pointer transition-all ${M?"border-violet-500 bg-violet-50 dark:bg-violet-900/10 shadow-lg shadow-violet-500/10":"border-zinc-100 dark:border-zinc-800 bg-white dark:bg-zinc-900/50 hover:border-zinc-200 dark:hover:border-zinc-700"}`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-bold text-sm text-zinc-900 dark:text-white truncate",children:z.teamA&&z.teamB?`${z.teamA} vs ${z.teamB}`:z.title||z.match||"-"}),d.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold mt-0.5 truncate",children:z.league||z.calendar||"-"})]}),M?d.jsx(cm,{size:20,className:"text-violet-500 shrink-0"}):d.jsx(um,{size:20,className:"text-zinc-300 dark:text-zinc-600 shrink-0"})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[d.jsx("span",{className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-[10px] font-bold text-zinc-600 dark:text-zinc-400",children:z.startTime||"-"}),d.jsx("span",{className:"px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-[10px] font-bold text-zinc-600 dark:text-zinc-400",children:z.cdn||"-"}),z.hasStats&&d.jsx("span",{className:"px-2 py-1 bg-emerald-100 dark:bg-emerald-900/20 rounded-lg text-[10px] font-bold text-emerald-600 dark:text-emerald-400",children:"Has Stats"})]})]},z.id)})})})}),d.jsx("div",{className:"shrink-0 p-4 md:p-6 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"text-xs font-bold text-zinc-400",children:[S.length," of ",A.length," rows selected"]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:n,className:"px-6 py-3 text-xs font-black uppercase text-zinc-500 hover:text-black dark:hover:text-white transition-colors rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-800",children:"Cancel"}),d.jsxs("button",{onClick:()=>j(!0),disabled:A.length===0,className:"px-6 py-3 bg-zinc-100 dark:bg-zinc-800 rounded-xl text-xs font-black uppercase text-zinc-700 dark:text-zinc-300 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d.jsx($d,{size:16}),"Copy All (",A.length,")"]}),d.jsxs("button",{onClick:()=>j(!1),disabled:S.length===0,className:"px-6 py-3 bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl text-xs font-black uppercase text-white shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center gap-2 active:translate-y-0",children:[d.jsx($d,{size:16}),"Copy Selected (",S.length,")"]})]})]})})]})})}):null}const KW=()=>{const[t,e]=E.useState(new Date);return E.useEffect(()=>{const n=setInterval(()=>e(new Date),1e3);return()=>clearInterval(n)},[]),d.jsxs("div",{className:"w-full md:w-auto bg-white text-black px-4 md:px-6 py-2.5 rounded-xl font-mono text-lg md:text-xl font-bold shadow-lg flex items-center justify-center md:justify-start gap-3",children:[d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500 animate-pulse"}),Xr(t,"HH:mm:ss")]})};function ZW(){const[t,e]=E.useState(new Date),n=Xr(t,"yyyy-MM-dd"),{matches:r,loading:i}=$D(t),[a,l]=E.useState(null),[u,f]=E.useState(!1),[m,p]=E.useState(null),[b,x]=E.useState(!1),[w,A]=E.useState({isOpen:!1,id:null}),{toast:S}=dl(),[k,N]=E.useState(!1),[j,z]=E.useState(""),[M,P]=E.useState("ALL"),[H,D]=E.useState(1),R=6,[I,L]=E.useState(!1),[U,q]=E.useState(new Set),[B,oe]=E.useState(new Set),_e=E.useRef(new Map),W=E.useCallback((ie,Ie="success")=>{S({description:ie,variant:Ie})},[S]),te=()=>e(ie=>MB(ie)),Y=()=>e(ie=>xg(ie,1)),le=()=>e(new Date);E.useEffect(()=>{"Notification"in window&&Notification.permission==="granted"&&L(!0)},[]);const pe=async()=>{if(!("Notification"in window)){W("Browser does not support notifications","error");return}await Notification.requestPermission()==="granted"&&(L(!0),new Notification(" System Ready",{body:"Notifications enabled for matches!"}),W("Notifications enabled successfully!"))};E.useEffect(()=>{if(!I||r.length===0)return;const ie=()=>{const qe=new Date;r.forEach(Qe=>{const kt=`time-${Qe.id}`;if(U.has(kt))return;const Yt=Qe.startDate||n,Qn=new Date(`${Yt}T${Qe.startTime}`)-qe,jr=Math.floor(Qn/6e4);jr<=15&&jr>0&&(new Notification(" Match Starting Soon!",{body:`${Qe.teamA||"Match"} vs ${Qe.teamB||""} starts in ${jr} mins!`}),q(Jr=>new Set(Jr).add(kt)))})};ie();const Ie=setInterval(ie,6e4);return()=>clearInterval(Ie)},[r,I,U,n]),E.useEffect(()=>{!I||r.length===0||r.forEach(ie=>{const Ie=ie.teamA&&ie.teamB?`${ie.teamA} vs ${ie.teamB}`:ie.title||ie.match||"Match",qe=`${ie.hasStartStat}-${ie.hasEndStat}`,Qe=_e.current.get(ie.id);if(Qe&&Qe!==qe){if(ie.hasStartStat&&!ie.hasEndStat&&!Qe.startsWith("true")){const kt=`live-${ie.id}`;B.has(kt)||(new Notification(" LIVE: Match Started!",{body:`${Ie} is now LIVE!`,icon:"/favicon.ico"}),oe(Yt=>new Set(Yt).add(kt)),W(` ${Ie} is LIVE!`,"success"))}if(ie.hasEndStat&&!Qe.endsWith("true")){const kt=`finished-${ie.id}`;B.has(kt)||(new Notification(" Match Finished!",{body:`${Ie} has finished!`,icon:"/favicon.ico"}),oe(Yt=>new Set(Yt).add(kt)),W(` ${Ie} finished!`,"success"))}}_e.current.set(ie.id,qe)})},[r,I,B,W]);const F=E.useMemo(()=>r.filter(ie=>{const qe=`${ie.league||""} ${ie.teamA||""} ${ie.teamB||""} ${ie.match||""}`.toLowerCase().includes(j.toLowerCase());let Qe=!0;return M==="LIVE"&&(Qe=ie.hasStartStat&&!ie.hasEndStat),M==="FINISHED"&&(Qe=ie.hasEndStat),M==="PENDING"&&(Qe=!ie.hasStartStat),qe&&Qe}),[r,j,M]),K=E.useMemo(()=>({total:r.length,live:r.filter(ie=>ie.hasStartStat&&!ie.hasEndStat).length,finished:r.filter(ie=>ie.hasEndStat).length,pending:r.filter(ie=>!ie.hasStartStat).length}),[r]),ue=Math.ceil(F.length/R),ge=E.useMemo(()=>{const ie=(H-1)*R;return F.slice(ie,ie+R)},[F,H]);E.useEffect(()=>{D(1)},[M,j,r]);const xe=async ie=>{x(!0);try{m?await ky.updateMatch(m.id,ie):await ky.createMatch(ie),p(null),f(!1),W(m?"Match updated successfully!":"Match created successfully!")}catch(Ie){W("Failed to save match: "+Ie.message,"error")}finally{x(!1)}},Te=async()=>{if(w.id)try{await ky.deleteMatch(w.id),A({isOpen:!1,id:null}),W("Match deleted successfully!")}catch(ie){W("Failed to delete match: "+ie.message,"error")}};return d.jsxs("div",{className:"flex flex-col h-full w-full bg-gradient-to-br from-zinc-50 via-white to-zinc-50 dark:from-black dark:via-zinc-900 dark:to-black overflow-hidden",children:[a&&d.jsx(GW,{isOpen:!!a,onClose:()=>l(null),matchData:a}),d.jsx(YW,{isOpen:u,onClose:()=>{f(!1),p(null)},onSubmit:xe,initialData:m,selectedDate:n,saving:b}),d.jsx(bf,{isOpen:w.isOpen,onClose:()=>A({isOpen:!1,id:null}),title:"Delete Match?",message:"Are you sure you want to delete this match? This action cannot be undone.",onConfirm:Te,isDanger:!0}),d.jsx(XW,{matches:F,isOpen:k,onClose:()=>N(!1)}),d.jsx("header",{className:"shrink-0 bg-zinc-950 border-b border-zinc-800 pb-6 transition-all",children:d.jsxs("div",{className:"px-4 md:px-6 pt-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-red-500/20 shrink-0",children:d.jsx(sx,{size:24,className:"text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white tracking-tight",children:"Live Desk"}),d.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:"Monitor and manage live matches"})]})]}),d.jsx(KW,{})]}),d.jsx("div",{className:"flex flex-col xl:flex-row items-stretch xl:items-center justify-between gap-4",children:d.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch gap-3 w-full xl:w-auto",children:[d.jsxs("div",{className:"flex items-center bg-zinc-900 border border-zinc-800 rounded-2xl p-1.5 flex-1 justify-between",children:[d.jsx("button",{onClick:te,className:"w-12 h-12 flex items-center justify-center rounded-xl text-zinc-400 hover:bg-zinc-800 hover:text-white transition-colors shrink-0",children:d.jsx(Gy,{size:24,strokeWidth:2.5})}),d.jsx("div",{className:"relative mx-2 flex-1 flex justify-center",children:d.jsxs(Rp,{children:[d.jsx(Dp,{asChild:!0,children:d.jsxs("button",{className:"h-12 w-full flex items-center justify-center px-2 bg-zinc-800/50 rounded-xl hover:bg-zinc-800 transition-colors border border-zinc-700/50 group overflow-hidden outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-zinc-500",children:[d.jsx(dr,{size:18,className:"text-zinc-400 mr-2 md:mr-3 group-hover:text-red-500 transition-colors shrink-0"}),d.jsx("span",{className:"text-sm md:text-lg font-bold text-white tracking-wide whitespace-nowrap truncate",children:Xr(t,"EEEE, dd MMM yyyy")})]})}),d.jsx(zp,{className:"w-auto p-0 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800",align:"center",children:d.jsx(of,{mode:"single",selected:t,onSelect:ie=>ie&&e(ie),initialFocus:!0,classNames:{selected:"bg-red-600! text-white!",today:"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"}})})]})}),d.jsx("button",{onClick:Y,className:"w-12 h-12 flex items-center justify-center rounded-xl text-zinc-400 hover:bg-zinc-800 hover:text-white transition-colors shrink-0",children:d.jsx(ep,{size:24,strokeWidth:2.5})})]}),d.jsxs("div",{className:"flex bg-zinc-800 rounded-2xl border border-zinc-700 p-1.5 h-14 lg:h-[62px] items-center w-full lg:w-auto",children:[d.jsx("div",{className:"relative h-full aspect-square shrink-0",children:d.jsxs(Rp,{children:[d.jsx(Dp,{asChild:!0,children:d.jsx("button",{className:"w-full h-full flex items-center justify-center rounded-xl bg-zinc-700 text-zinc-300 hover:bg-zinc-600 hover:text-white transition-all outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-zinc-500",title:"Select Date",children:d.jsx(dr,{size:22})})}),d.jsx(zp,{className:"w-auto p-0 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800",align:"start",children:d.jsx(of,{mode:"single",selected:t,onSelect:ie=>ie&&e(ie),initialFocus:!0,classNames:{selected:"bg-red-600! text-white!",today:"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"}})})]})}),d.jsx("div",{className:"w-px h-6 lg:h-8 bg-zinc-700 mx-2"}),d.jsx("button",{onClick:le,disabled:mA(t),className:`h-full flex-1 lg:flex-none px-4 lg:px-6 rounded-xl font-bold text-sm transition-all whitespace-nowrap flex items-center justify-center ${mA(t)?"text-zinc-500 cursor-default bg-transparent":"bg-red-600 text-white hover:bg-red-500 shadow-lg shadow-red-900/20"}`,children:"Today"})]})]})}),d.jsxs("div",{className:"flex flex-col xl:flex-row items-center justify-between gap-4 mt-4 pt-6 border-t border-zinc-900",children:[d.jsx("div",{className:"flex items-center gap-2 overflow-x-auto w-full xl:w-auto no-scrollbar pb-1 xl:pb-0",children:[{id:"ALL",label:"All",count:K.total},{id:"LIVE",label:"Live",count:K.live,isLive:!0},{id:"PENDING",label:"Scheduled",count:K.pending},{id:"FINISHED",label:"Finished",count:K.finished}].map(ie=>d.jsxs("button",{onClick:()=>P(ie.id),className:`h-12 px-4 md:px-5 rounded-xl border-2 font-bold text-sm flex items-center gap-2 transition-all whitespace-nowrap shrink-0 ${M===ie.id?"bg-white border-white text-black shadow-lg shadow-white/10":"bg-zinc-900 border-zinc-800 text-zinc-400 hover:border-zinc-700 hover:text-zinc-200"}`,children:[d.jsx("span",{children:ie.label}),d.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-xs ${M===ie.id?"bg-black text-white":"bg-zinc-800 text-zinc-500"}`,children:ie.count}),ie.isLive&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse ml-1"})]},ie.id))}),d.jsxs("div",{className:"grid grid-cols-[auto_1fr_1fr] md:flex gap-3 w-full xl:w-auto",children:[d.jsx("button",{onClick:pe,disabled:I,className:`h-12 w-12 flex items-center justify-center rounded-xl border transition-all ${I?"bg-emerald-500 border-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-zinc-900 border-zinc-700 text-zinc-400 hover:bg-zinc-800 hover:text-white"}`,children:I?d.jsx(I4,{size:20}):d.jsx(j4,{size:20})}),d.jsxs("button",{onClick:()=>N(!0),disabled:F.length===0,className:"h-12 px-4 md:px-6 bg-zinc-800 border border-zinc-700 text-violet-400 hover:text-violet-300 hover:bg-zinc-700 rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(es,{size:18}),d.jsx("span",{children:"Preview"})]}),d.jsxs("button",{onClick:()=>{p(null),f(!0)},className:"h-12 px-4 md:px-6 bg-white text-black hover:bg-zinc-200 rounded-xl font-bold text-sm shadow-xl transition-all flex items-center justify-center gap-2",children:[d.jsx(Dc,{size:18,strokeWidth:3}),d.jsx("span",{children:"Add Match"})]})]})]})]})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[1,2,3,4,5,6].map(ie=>d.jsx("div",{className:"h-48 bg-white dark:bg-zinc-900 rounded-2xl animate-pulse border-2 border-zinc-100 dark:border-zinc-800"},ie))}):F.length===0?d.jsxs("div",{className:"h-full min-h-[400px] flex flex-col items-center justify-center",children:[d.jsx("div",{className:"p-6 bg-white dark:bg-zinc-900 rounded-3xl shadow-lg border-2 border-zinc-100 dark:border-zinc-800 mb-4",children:d.jsx(Wd,{size:48,className:"text-zinc-300 dark:text-zinc-700"})}),d.jsx("h3",{className:"text-xl font-black text-zinc-800 dark:text-zinc-200 mb-2",children:"No matches found"}),d.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mb-6 max-w-md text-center",children:j?`No matches found for "${j}". Try a different search term.`:`No matches scheduled for ${Xr(t,"dd MMM yyyy")}. Add a new match to get started.`}),d.jsxs("button",{onClick:()=>{p(null),f(!0)},className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all",children:[d.jsx(Dc,{size:20}),"Add Match"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:ge.map(ie=>d.jsx(WD,{match:ie,onClick:()=>l(ie),onEdit:Ie=>{p(Ie),f(!0)},onDelete:Ie=>A({isOpen:!0,id:Ie})},ie.id))}),ue>1&&d.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 rounded-2xl border-2 border-zinc-100 dark:border-zinc-800",children:[d.jsxs("span",{className:"text-sm font-semibold text-zinc-600 dark:text-zinc-400",children:["Showing ",(H-1)*R+1," - ",Math.min(H*R,F.length)," of ",F.length]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>D(ie=>Math.max(ie-1,1)),disabled:H===1,className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 disabled:opacity-30 transition-colors",children:d.jsx(Gy,{size:18})}),d.jsxs("div",{className:"px-4 py-2 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-lg text-sm font-bold",children:[H," / ",ue]}),d.jsx("button",{onClick:()=>D(ie=>Math.min(ie+1,ue)),disabled:H===ue,className:"p-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700 disabled:opacity-30 transition-colors",children:d.jsx(ep,{size:18})})]})]})]})})]})}var Dg,je,GD,YD,$c,Fo,ZA,QD,XD,Mp={},KD=[],JW=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Da(t,e){for(var n in e)t[n]=e[n];return t}function ZD(t){var e=t.parentNode;e&&e.removeChild(t)}function ae(t,e,n){var r,i,a,l={};for(a in e)a=="key"?r=e[a]:a=="ref"?i=e[a]:l[a]=e[a];if(arguments.length>2&&(l.children=arguments.length>3?Dg.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)l[a]===void 0&&(l[a]=t.defaultProps[a]);return Ym(t,l,r,i,null)}function Ym(t,e,n,r,i){var a={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++GD};return i==null&&je.vnode!=null&&je.vnode(a),a}function Fs(){return{current:null}}function Wt(t){return t.children}function eG(t,e,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in e||jp(t,a,null,n[a],r);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===e[a]||jp(t,a,e[a],n[a],r)}function JA(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||JW.test(e)?n:n+"px"}function jp(t,e,n,r,i){var a;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||JA(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||JA(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?r||t.addEventListener(e,a?tT:eT,a):t.removeEventListener(e,a?tT:eT,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function eT(t){$c=!0;try{return this.l[t.type+!1](je.event?je.event(t):t)}finally{$c=!1}}function tT(t){$c=!0;try{return this.l[t.type+!0](je.event?je.event(t):t)}finally{$c=!1}}function Rr(t,e){this.props=t,this.context=e}function uf(t,e){if(e==null)return t.__?uf(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?uf(t):null}function JD(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return JD(t)}}function tG(t){$c?setTimeout(t):QD(t)}function Tv(t){(!t.__d&&(t.__d=!0)&&Fo.push(t)&&!Op.__r++||ZA!==je.debounceRendering)&&((ZA=je.debounceRendering)||tG)(Op)}function Op(){var t,e,n,r,i,a,l,u;for(Fo.sort(function(f,m){return f.__v.__b-m.__v.__b});t=Fo.shift();)t.__d&&(e=Fo.length,r=void 0,i=void 0,l=(a=(n=t).__v).__e,(u=n.__P)&&(r=[],(i=Da({},a)).__v=a.__v+1,Sw(u,a,i,n.__n,u.ownerSVGElement!==void 0,a.__h!=null?[l]:null,r,l??uf(a),a.__h),iz(r,a),a.__e!=l&&JD(a)),Fo.length>e&&Fo.sort(function(f,m){return f.__v.__b-m.__v.__b}));Op.__r=0}function ez(t,e,n,r,i,a,l,u,f,m){var p,b,x,w,A,S,k,N=r&&r.__k||KD,j=N.length;for(n.__k=[],p=0;p<e.length;p++)if((w=n.__k[p]=(w=e[p])==null||typeof w=="boolean"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?Ym(null,w,null,null,w):Array.isArray(w)?Ym(Wt,{children:w},null,null,null):w.__b>0?Ym(w.type,w.props,w.key,w.ref?w.ref:null,w.__v):w)!=null){if(w.__=n,w.__b=n.__b+1,(x=N[p])===null||x&&w.key==x.key&&w.type===x.type)N[p]=void 0;else for(b=0;b<j;b++){if((x=N[b])&&w.key==x.key&&w.type===x.type){N[b]=void 0;break}x=null}Sw(t,w,x=x||Mp,i,a,l,u,f,m),A=w.__e,(b=w.ref)&&x.ref!=b&&(k||(k=[]),x.ref&&k.push(x.ref,null,w),k.push(b,w.__c||A,w)),A!=null?(S==null&&(S=A),typeof w.type=="function"&&w.__k===x.__k?w.__d=f=tz(w,f,t):f=nz(t,w,x,N,A,f),typeof n.type=="function"&&(n.__d=f)):f&&x.__e==f&&f.parentNode!=t&&(f=uf(x))}for(n.__e=S,p=j;p--;)N[p]!=null&&(typeof n.type=="function"&&N[p].__e!=null&&N[p].__e==n.__d&&(n.__d=rz(r).nextSibling),az(N[p],N[p]));if(k)for(p=0;p<k.length;p++)sz(k[p],k[++p],k[++p])}function tz(t,e,n){for(var r,i=t.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=t,e=typeof r.type=="function"?tz(r,e,n):nz(n,r,r,i,r.__e,e));return e}function Ip(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Ip(n,e)}):e.push(t)),e}function nz(t,e,n,r,i,a){var l,u,f;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(n==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),l=null;else{for(u=a,f=0;(u=u.nextSibling)&&f<r.length;f+=1)if(u==i)break e;t.insertBefore(i,a),l=a}return l!==void 0?l:i.nextSibling}function rz(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=rz(n)))return r}return null}function Sw(t,e,n,r,i,a,l,u,f){var m,p,b,x,w,A,S,k,N,j,z,M,P,H,D,R=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(f=n.__h,u=e.__e=n.__e,e.__h=null,a=[u]),(m=je.__b)&&m(e);try{e:if(typeof R=="function"){if(k=e.props,N=(m=R.contextType)&&r[m.__c],j=m?N?N.props.value:m.__:r,n.__c?S=(p=e.__c=n.__c).__=p.__E:("prototype"in R&&R.prototype.render?e.__c=p=new R(k,j):(e.__c=p=new Rr(k,j),p.constructor=R,p.render=rG),N&&N.sub(p),p.props=k,p.state||(p.state={}),p.context=j,p.__n=r,b=p.__d=!0,p.__h=[],p._sb=[]),p.__s==null&&(p.__s=p.state),R.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Da({},p.__s)),Da(p.__s,R.getDerivedStateFromProps(k,p.__s))),x=p.props,w=p.state,p.__v=e,b)R.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(R.getDerivedStateFromProps==null&&k!==x&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(k,j),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(k,p.__s,j)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(p.props=k,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(I){I&&(I.__=e)}),z=0;z<p._sb.length;z++)p.__h.push(p._sb[z]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(k,p.__s,j),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(x,w,A)})}if(p.context=j,p.props=k,p.__P=t,M=je.__r,P=0,"prototype"in R&&R.prototype.render){for(p.state=p.__s,p.__d=!1,M&&M(e),m=p.render(p.props,p.state,p.context),H=0;H<p._sb.length;H++)p.__h.push(p._sb[H]);p._sb=[]}else do p.__d=!1,M&&M(e),m=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++P<25);p.state=p.__s,p.getChildContext!=null&&(r=Da(Da({},r),p.getChildContext())),b||p.getSnapshotBeforeUpdate==null||(A=p.getSnapshotBeforeUpdate(x,w)),D=m!=null&&m.type===Wt&&m.key==null?m.props.children:m,ez(t,Array.isArray(D)?D:[D],e,n,r,i,a,l,u,f),p.base=e.__e,e.__h=null,p.__h.length&&l.push(p),S&&(p.__E=p.__=null),p.__e=!1}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=nG(n.__e,e,n,r,i,a,l,f);(m=je.diffed)&&m(e)}catch(I){e.__v=null,(f||a!=null)&&(e.__e=u,e.__h=!!f,a[a.indexOf(u)]=null),je.__e(I,e,n)}}function iz(t,e){je.__c&&je.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){je.__e(r,n.__v)}})}function nG(t,e,n,r,i,a,l,u){var f,m,p,b=n.props,x=e.props,w=e.type,A=0;if(w==="svg"&&(i=!0),a!=null){for(;A<a.length;A++)if((f=a[A])&&"setAttribute"in f==!!w&&(w?f.localName===w:f.nodeType===3)){t=f,a[A]=null;break}}if(t==null){if(w===null)return document.createTextNode(x);t=i?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,x.is&&x),a=null,u=!1}if(w===null)b===x||u&&t.data===x||(t.data=x);else{if(a=a&&Dg.call(t.childNodes),m=(b=n.props||Mp).dangerouslySetInnerHTML,p=x.dangerouslySetInnerHTML,!u){if(a!=null)for(b={},A=0;A<t.attributes.length;A++)b[t.attributes[A].name]=t.attributes[A].value;(p||m)&&(p&&(m&&p.__html==m.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(eG(t,x,b,i,u),p)e.__k=[];else if(A=e.props.children,ez(t,Array.isArray(A)?A:[A],e,n,r,i&&w!=="foreignObject",a,l,a?a[0]:n.__k&&uf(n,0),u),a!=null)for(A=a.length;A--;)a[A]!=null&&ZD(a[A]);u||("value"in x&&(A=x.value)!==void 0&&(A!==t.value||w==="progress"&&!A||w==="option"&&A!==b.value)&&jp(t,"value",A,b.value,!1),"checked"in x&&(A=x.checked)!==void 0&&A!==t.checked&&jp(t,"checked",A,b.checked,!1))}return t}function sz(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){je.__e(r,n)}}function az(t,e,n){var r,i;if(je.unmount&&je.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||sz(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){je.__e(a,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&az(r[i],e,n||typeof t.type!="function");n||t.__e==null||ZD(t.__e),t.__=t.__e=t.__d=void 0}function rG(t,e,n){return this.constructor(t,n)}function df(t,e,n){var r,i,a;je.__&&je.__(t,e),i=(r=!1)?null:e.__k,a=[],Sw(e,t=e.__k=ae(Wt,null,[t]),i||Mp,Mp,e.ownerSVGElement!==void 0,i?null:e.firstChild?Dg.call(e.childNodes):null,a,i?i.__e:e.firstChild,r),iz(a,t)}function iG(t,e){var n={__c:e="__cC"+XD++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&i.some(function(u){u.__e=!0,Tv(u)})},this.sub=function(l){i.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){i.splice(i.indexOf(l),1),u&&u.call(l)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Dg=KD.slice,je={__e:function(t,e,n,r){for(var i,a,l;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),l=i.__d),l)return i.__E=i}catch(u){t=u}throw t}},GD=0,YD=function(t){return t!=null&&t.constructor===void 0},$c=!1,Rr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Da({},this.state),typeof t=="function"&&(t=t(Da({},n),this.props)),t&&Da(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Tv(this))},Rr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Tv(this))},Rr.prototype.render=Wt,Fo=[],QD=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Op.__r=0,XD=0;var Fi,Ay,nT,oz=[],Ty=[],rT=je.__b,iT=je.__r,sT=je.diffed,aT=je.__c,oT=je.unmount;function sG(){for(var t;t=oz.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Qm),t.__H.__h.forEach(Cv),t.__H.__h=[]}catch(e){t.__H.__h=[],je.__e(e,t.__v)}}je.__b=function(t){Fi=null,rT&&rT(t)},je.__r=function(t){iT&&iT(t);var e=(Fi=t.__c).__H;e&&(Ay===Fi?(e.__h=[],Fi.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ty,n.__N=n.i=void 0})):(e.__h.forEach(Qm),e.__h.forEach(Cv),e.__h=[])),Ay=Fi},je.diffed=function(t){sT&&sT(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(oz.push(e)!==1&&nT===je.requestAnimationFrame||((nT=je.requestAnimationFrame)||aG)(sG)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ty&&(n.__=n.__V),n.i=void 0,n.__V=Ty})),Ay=Fi=null},je.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Qm),n.__h=n.__h.filter(function(r){return!r.__||Cv(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],je.__e(r,n.__v)}}),aT&&aT(t,e)},je.unmount=function(t){oT&&oT(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Qm(r)}catch(i){e=i}}),n.__H=void 0,e&&je.__e(e,n.__v))};var lT=typeof requestAnimationFrame=="function";function aG(t){var e,n=function(){clearTimeout(r),lT&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);lT&&(e=requestAnimationFrame(n))}function Qm(t){var e=Fi,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Fi=e}function Cv(t){var e=Fi;t.__c=t.__(),Fi=e}function oG(t,e){for(var n in e)t[n]=e[n];return t}function cT(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function uT(t){this.props=t}(uT.prototype=new Rr).isPureReactComponent=!0,uT.prototype.shouldComponentUpdate=function(t,e){return cT(this.props,t)||cT(this.state,e)};var dT=je.__b;je.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),dT&&dT(t)};var lG=je.__e;je.__e=function(t,e,n,r){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}lG(t,e,n,r)};var fT=je.unmount;function lz(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=oG({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return lz(r,e,n)})),t}function cz(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return cz(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Cy(){this.__u=0,this.t=null,this.__b=null}function uz(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Tm(){this.u=null,this.o=null}je.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),fT&&fT(t)},(Cy.prototype=new Rr).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=uz(r.__v),a=!1,l=function(){a||(a=!0,n.__R=null,i?i(u):u())};n.__R=l;var u=function(){if(!--r.__u){if(r.state.__a){var m=r.state.__a;r.__v.__k[0]=cz(m,m.__c.__P,m.__c.__O)}var p;for(r.setState({__a:r.__b=null});p=r.t.pop();)p.forceUpdate()}},f=e.__h===!0;r.__u++||f||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(l,l)},Cy.prototype.componentWillUnmount=function(){this.t=[]},Cy.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=lz(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&ae(Wt,null,t.fallback);return i&&(i.__h=null),[ae(Wt,null,e.__a?null:t.children),i]};var hT=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function cG(t){return this.getChildContext=function(){return t.context},t.children}function uG(t){var e=this,n=t.i;e.componentWillUnmount=function(){df(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),df(ae(cG,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function dG(t,e){var n=ae(uG,{__v:t,i:e});return n.containerInfo=e,n}(Tm.prototype=new Rr).__a=function(t){var e=this,n=uz(e.__v),r=e.o.get(t);return r[0]++,function(i){var a=function(){e.props.revealOrder?(r.push(i),hT(e,t,r)):i()};n?n(a):a()}},Tm.prototype.render=function(t){this.u=null,this.o=new Map;var e=Ip(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Tm.prototype.componentDidUpdate=Tm.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){hT(t,n,e)})};var fG=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,hG=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,mG=typeof document<"u",pG=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Rr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Rr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var mT=je.event;function gG(){}function bG(){return this.cancelBubble}function yG(){return this.defaultPrevented}je.event=function(t){return mT&&(t=mT(t)),t.persist=gG,t.isPropagationStopped=bG,t.isDefaultPrevented=yG,t.nativeEvent=t};var pT={configurable:!0,get:function(){return this.class}},gT=je.vnode;je.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in r={},n){var l=n[a];mG&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in n&&l==null||(a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&l===!0?l="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!pG(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&hG.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=l)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Ip(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Ip(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),t.props=r,n.class!=n.className&&(pT.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",pT))}t.$$typeof=fG,gT&&gT(t)};var bT=je.__r;je.__r=function(t){bT&&bT(t),t.__c};const dz=[],Nv=new Map;function fz(t){dz.push(t),Nv.forEach(e=>{mz(e,t)})}function vG(t){t.isConnected&&t.getRootNode&&hz(t.getRootNode())}function hz(t){let e=Nv.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=wG();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}Nv.set(t,e),xG(e)}}function xG(t){for(const e of dz)mz(t,e)}function mz(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&n.insertRule(i+"}",r+a)})}let Ny;function wG(){return Ny===void 0&&(Ny=_G()),Ny}function _G(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&hz(document);var EG=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';fz(EG);class kw{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Aw(t){t.parentNode&&t.parentNode.removeChild(t)}function Ln(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(SG(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function SG(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function kG(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let a=n[i].querySelectorAll(e);for(let l=0;l<a.length;l+=1)r.push(a[l])}return r}const AG=/(top|left|right|bottom|width|height)$/i;function Vd(t,e){for(let n in e)pz(t,n,e[n])}function pz(t,e,n){n==null?t.style[e]="":typeof n=="number"&&AG.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function gz(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let yT=0;function zg(){return yT+=1,"fc-dom-"+yT}function Mg(t){t.preventDefault()}function TG(t,e){return n=>{let r=Ln(n.target,t);r&&e.call(r,n,r)}}function bz(t,e,n,r){let i=TG(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function CG(t,e,n,r){let i;return bz(t,"mouseover",e,(a,l)=>{if(l!==i){i=l,n(a,l);let u=f=>{i=null,r(f,l),l.removeEventListener("mouseleave",u)};l.addEventListener("mouseleave",u)}})}const vT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function NG(t,e){let n=r=>{e(r),vT.forEach(i=>{t.removeEventListener(i,n)})};vT.forEach(r=>{t.addEventListener(r,n)})}function yz(t){return Object.assign({onClick:t},vz(t))}function vz(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let xT=0;function fl(){return xT+=1,String(xT)}function Tw(){document.body.classList.add("fc-not-allowed")}function Cw(){document.body.classList.remove("fc-not-allowed")}function RG(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Mg)}function DG(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Mg)}function zG(t){t.addEventListener("contextmenu",Mg)}function MG(t){t.removeEventListener("contextmenu",Mg)}function jG(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function OG(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=IG(t,e,n[r]),i)return i;return 0}function IG(t,e,n){return n.func?n.func(t,e):PG(t[n.field],e[n.field])*(n.order||1)}function PG(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Ry(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ld(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,a)=>r.replace("$"+a,i||""),t):n}function VG(t,e){return t-e}function Dy(t){return t%1===0}function LG(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const UG=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ft(t,e){return typeof t=="string"?BG(t):typeof t=="object"&&t?wT(t):typeof t=="number"?wT({[e||"milliseconds"]:t}):null}function BG(t){let e=UG.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function wT(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function HG(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function FG(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function qG(t){return Cc(t)/365}function $G(t){return Cc(t)/30}function Cc(t){return ff(t)/864e5}function ff(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Rv(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Xa(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const WG=["sun","mon","tue","wed","thu","fri","sat"];function _T(t,e){let n=za(t);return n[2]+=e*7,cr(n)}function En(t,e){let n=za(t);return n[2]+=e,cr(n)}function Ka(t,e){let n=za(t);return n[6]+=e,cr(n)}function GG(t,e){return cu(t,e)/7}function cu(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function YG(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function QG(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function XG(t,e){return(e.valueOf()-t.valueOf())/1e3}function KG(t,e){let n=jt(t),r=jt(e);return{years:0,months:0,days:Math.round(cu(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function ZG(t,e){let n=Pp(t,e);return n!==null&&n%7===0?n/7:null}function Pp(t,e){return Ma(t)===Ma(e)?Math.round(cu(t,e)):null}function jt(t){return cr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function JG(t){return cr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function eY(t){return cr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function tY(t){return cr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function nY(t,e,n){let r=t.getUTCFullYear(),i=zy(t,r,e,n);if(i<1)return zy(t,r-1,e,n);let a=zy(t,r+1,e,n);return a>=1?Math.min(i,a):i}function zy(t,e,n,r){let i=cr([e,0,1+rY(e,n,r)]),a=jt(t),l=Math.round(cu(i,a));return Math.floor(l/7)+1}function rY(t,e,n){let r=7+e-n;return-((7+cr([t,0,r]).getUTCDay()-e)%7)+r-1}function ET(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function ST(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function za(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function cr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function xz(t){return!isNaN(t.valueOf())}function Ma(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function iY(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",Rw(e,!0)))),r}function Nw(t){return t.toISOString().replace(/T.*$/,"")}function sY(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Rw(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=Math.round(r%60);return e?`${n+Ry(i,2)}:${Ry(a,2)}`:`GMT${n}${i}${a?`:${Ry(a,2)}`:""}`}function ct(t,e,n){let r,i;return function(...a){if(!r)i=t.apply(this,a);else if(!Xa(r,a)){let l=t.apply(this,a);(!e||!e(l,i))&&(i=l)}return r=a,i}}function Xm(t,e,n){let r,i;return a=>(r?xi(r,a)||(i=t.call(this,a)):i=t.call(this,a),r=a,i)}const My={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Vp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Cm=/\s*([ap])\.?m\.?/i,aY=/,/g,oY=/\s+/g,lY=/\u200e/g,cY=/UTC|GMT/;class uY{constructor(e){let n={},r={},i=9;for(let a in e)a in My?(r[a]=e[a],My[a]<9&&(i=Math.min(My[a],i))):(n[a]=e[a],a in Vp&&(i=Math.min(Vp[a],i)));this.standardDateProps=n,this.extendedSettings=r,this.smallestUnitNum=i,this.buildFormattingFunc=ct(kT)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:a,extendedSettings:l}=this,u=gY(e.marker,n.marker,r.calendarSystem);if(!u)return this.format(e,r);let f=u;f>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(f=1);let m=this.format(e,r),p=this.format(n,r);if(m===p)return m;let b=bY(a,f),x=kT(b,l,r),w=x(e),A=x(n),S=yY(m,w,p,A),k=l.separator||i||r.defaultSeparator||"";return S?S.before+w+k+A+S.after:m+k+p}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function kT(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>Rw(i.timeZoneOffset):r===0&&e.week?i=>pY(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):dY(t,e,n)}function dY(t,e,n){t=Object.assign({},t),e=Object.assign({},e),fY(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(n.locale.codes,a)}return a=>{let{marker:l}=a,u;i&&!l.getUTCMinutes()?u=i:u=r;let f=u.format(l);return hY(f,a,t,e,n)}}function fY(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function hY(t,e,n,r,i){return t=t.replace(lY,""),n.timeZoneName==="short"&&(t=mY(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Rw(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(aY,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Cm,"").trim():r.meridiem==="narrow"?t=t.replace(Cm,(a,l)=>l.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(Cm,(a,l)=>`${l.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(Cm,a=>a.toLocaleLowerCase())),t=t.replace(oY," "),t=t.trim(),t}function mY(t,e){let n=!1;return t=t.replace(cY,()=>(n=!0,e)),n||(t+=` ${e}`),t}function pY(t,e,n,r,i){let a=[];return i==="long"?a.push(n):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&a.reverse(),a.join("")}function gY(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Ma(t)!==Ma(e)?1:0}function bY(t,e){let n={};for(let r in t)(!(r in Vp)||Vp[r]<=e)&&(n[r]=t[r]);return n}function yY(t,e,n,r){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let l=t.substr(0,a);i=a+e.length;let u=t.substr(i),f=0;for(;f<n.length;){let m=n.indexOf(r,f);if(m===-1)break;let p=n.substr(0,m);f=m+r.length;let b=n.substr(f);if(l===p&&u===b)return{before:l,after:u}}}return null}function AT(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Lp(t,e,n,r){let i=AT(t,n.calendarSystem),a=e?AT(e,n.calendarSystem):null;return{date:i,start:i,end:a,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class vY{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Lp(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,Lp(e,n,r,i))}}class xY{constructor(e){this.func=e}format(e,n,r){return this.func(Lp(e,null,n,r))}formatRange(e,n,r,i){return this.func(Lp(e,n,r,i))}}function _n(t){return typeof t=="object"&&t?new uY(t):typeof t=="string"?new vY(t):typeof t=="function"?new xY(t):null}const TT={navLinkDayClick:re,navLinkWeekClick:re,duration:ft,bootstrapFontAwesome:re,buttonIcons:re,customButtons:re,defaultAllDayEventDuration:ft,defaultTimedEventDuration:ft,nextDayThreshold:ft,scrollTime:ft,scrollTimeReset:Boolean,slotMinTime:ft,slotMaxTime:ft,dayPopoverFormat:_n,slotDuration:ft,snapDuration:ft,headerToolbar:re,footerToolbar:re,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:_n,dayHeaderClassNames:re,dayHeaderContent:re,dayHeaderDidMount:re,dayHeaderWillUnmount:re,dayCellClassNames:re,dayCellContent:re,dayCellDidMount:re,dayCellWillUnmount:re,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:re,weekNumbers:Boolean,weekNumberClassNames:re,weekNumberContent:re,weekNumberDidMount:re,weekNumberWillUnmount:re,editable:Boolean,viewClassNames:re,viewDidMount:re,viewWillUnmount:re,nowIndicator:Boolean,nowIndicatorSnap:re,nowIndicatorClassNames:re,nowIndicatorContent:re,nowIndicatorDidMount:re,nowIndicatorWillUnmount:re,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:re,locale:re,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:re,eventOrder:jG,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:re,contentHeight:re,direction:String,weekNumberFormat:_n,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:re,initialDate:re,now:re,eventDataTransform:re,stickyHeaderDates:re,stickyFooterScrollbar:re,viewHeight:re,defaultAllDay:Boolean,eventSourceFailure:re,eventSourceSuccess:re,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:re,eventConstraint:re,eventAllow:re,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:re,eventContent:re,eventDidMount:re,eventWillUnmount:re,selectConstraint:re,selectOverlap:re,selectAllow:re,droppable:Boolean,unselectCancel:String,slotLabelFormat:re,slotLaneClassNames:re,slotLaneContent:re,slotLaneDidMount:re,slotLaneWillUnmount:re,slotLabelClassNames:re,slotLabelContent:re,slotLabelDidMount:re,slotLabelWillUnmount:re,dayMaxEvents:re,dayMaxEventRows:re,dayMinWidth:Number,slotLabelInterval:ft,allDayText:String,allDayClassNames:re,allDayContent:re,allDayDidMount:re,allDayWillUnmount:re,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:_n,rerenderDelay:Number,moreLinkText:re,moreLinkHint:re,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:re,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ft,hiddenDays:re,fixedWeekCount:Boolean,validRange:re,visibleRange:re,titleFormat:re,eventInteractive:Boolean,noEventsText:String,viewHint:re,navLinkHint:re,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:re,moreLinkClassNames:re,moreLinkContent:re,moreLinkDidMount:re,moreLinkWillUnmount:re,monthStartFormat:_n,handleCustomRendering:re,customRenderingMetaMap:re,customRenderingReplaces:Boolean},Ud={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},CT={datesSet:re,eventsSet:re,eventAdd:re,eventChange:re,eventRemove:re,windowResize:re,eventClick:re,eventMouseEnter:re,eventMouseLeave:re,select:re,unselect:re,loading:re,_unmount:re,_beforeprint:re,_afterprint:re,_noEventDrop:re,_noEventResize:re,_resize:re,_scrollRequest:re},NT={buttonText:re,buttonHints:re,views:re,plugins:re,initialEvents:re,events:re,eventSources:re},Bo={headerToolbar:Ho,footerToolbar:Ho,buttonText:Ho,buttonHints:Ho,buttonIcons:Ho,dateIncrement:Ho,plugins:Nm,events:Nm,eventSources:Nm,resources:Nm};function Ho(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?xi(t,e):t===e}function Nm(t,e){return Array.isArray(t)&&Array.isArray(e)?Xa(t,e):t===e}const wY={type:String,component:re,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:re,usesMinMaxTime:Boolean,classNames:re,content:re,didMount:re,willUnmount:re};function jy(t){return zw(t,Bo)}function Dw(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function re(t){return t}const{hasOwnProperty:Up}=Object.prototype;function zw(t,e){let n={};if(e){for(let r in e)if(e[r]===Ho){let i=[];for(let a=t.length-1;a>=0;a-=1){let l=t[a][r];if(typeof l=="object"&&l)i.unshift(l);else if(l!==void 0){n[r]=l;break}}i.length&&(n[r]=zw(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let a in i)a in n||(n[a]=i[a])}return n}function il(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function hl(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function wz(t){let e={};for(let n of t)e[n]=!0;return e}function Mw(t){let e=[];for(let n in t)e.push(t[n]);return e}function xi(t,e){if(t===e)return!0;for(let n in t)if(Up.call(t,n)&&!(n in e))return!1;for(let n in e)if(Up.call(e,n)&&t[n]!==e[n])return!1;return!0}const _Y=/^on[A-Z]/;function EY(t,e){const n=SY(t,e);for(let r of n)if(!_Y.test(r))return!1;return!0}function SY(t,e){let n=[];for(let r in t)Up.call(t,r)&&(r in e||n.push(r));for(let r in e)Up.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Oy(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&kY(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function kY(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function AY(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let a=e;a<n;a+=r){let l=t[a];l!==void 0&&i.push(l)}return i}let _z={};function TY(t,e){_z[t]=e}function CY(t){return new _z[t]}class NY{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return cr(e)}markerToArray(e){return za(e)}}TY("gregory",NY);const RY=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function DY(t){let e=RY.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(xz(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class zY{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=CY(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):cr(ET(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=cr(e)),n===null||!xz(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=DY(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Ma(e)===Ma(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Ma(e)===Ma(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=ZG(e,n),r!==null?{unit:"week",value:r}:(r=Pp(e,n),r!==null?{unit:"day",value:r}:(r=YG(e,n),Dy(r)?{unit:"hour",value:r}:(r=QG(e,n),Dy(r)?{unit:"minute",value:r}:(r=XG(e,n),Dy(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/qG(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/$G(r):r.days&&(i=Pp(e,n),i!==null)?i/Cc(r):(n.valueOf()-e.valueOf())/ff(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?jt(e):n==="hour"?JG(e):n==="minute"?eY(e):n==="second"?tY(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):nY(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Ka(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),iY(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?cr(ET(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):cr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-ST(za(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(za(e)):null}toDate(e,n){return this.timeZone==="local"?ST(za(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(za(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class If{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}If.prototype.classes={};If.prototype.iconClasses={};If.prototype.baseIconClass="";If.prototype.iconOverridePrefix="";function Bp(t){t();let e=je.debounceRendering,n=[];function r(i){n.push(i)}for(je.debounceRendering=r,df(ae(MY,{}),document.createElement("div"));n.length;)n.shift()();je.debounceRendering=e}class MY extends Rr{render(){return ae("div",{})}componentDidMount(){this.setState({})}}function Ez(t){let e=iG(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let a=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&a.forEach(u=>{u.context=l.value,u.forceUpdate()})},this.sub=l=>{a.push(l);let u=l.componentWillUnmount;l.componentWillUnmount=()=>{a.splice(a.indexOf(l),1),u&&u.call(l)}}}return i},e}class jY{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ml=Ez({});function OY(t,e,n,r,i,a,l,u,f,m,p,b,x,w){return{dateEnv:i,nowManager:a,options:n,pluginHooks:u,emitter:p,dispatch:f,getCurrentData:m,calendarApi:b,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:l,isRtl:n.direction==="rtl",addResizeHandler(A){p.on("_resize",A)},removeResizeHandler(A){p.off("_resize",A)},createScrollResponder(A){return new jY(A,p,ft(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:x,unregisterInteractiveComponent:w}}class pl extends Rr{shouldComponentUpdate(e,n){return!Oy(this.props,e,this.propEquality)||!Oy(this.state,n,this.stateEquality)}safeSetState(e){Oy(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}pl.addPropsEquality=IY;pl.addStateEquality=PY;pl.contextType=ml;pl.prototype.propEquality={};pl.prototype.stateEquality={};class Ht extends pl{}Ht.contextType=ml;function IY(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function PY(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function as(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class jw extends Ht{constructor(){super(...arguments),this.id=fl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Dv(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&as(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:a,renderProps:l}=e,u=Sz(e,[],this.handleEl);let f=!1,m,p=[],b;if(i!=null){const x=typeof i=="function"?i(l,ae):i;if(x===!0)f=!0;else{const w=x&&typeof x=="object";w&&"html"in x?u.dangerouslySetInnerHTML={__html:x.html}:w&&"domNodes"in x?p=Array.prototype.slice.call(x.domNodes):(w?YD(x):typeof x!="function")?m=x:b=x}}else f=!Dv(e.generatorName,r);return f&&a&&(m=a(l)),this.queuedDomNodes=p,this.currentGeneratorMeta=b,ae(e.elTag,u,m)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:l}=i.options;if(a){const u=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:l?.[r.generatorName];u&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:u},r),{elClasses:(r.elClasses||[]).filter(VY)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Xa(e,n)){n.forEach(Aw);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}jw.addPropsEquality({elClasses:Xa,elStyle:xi,elAttrs:EY,renderProps:xi});function Dv(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function Sz(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function VY(t){return!!t}const kz=Ez(0);class $s extends Rr{constructor(){super(...arguments),this.InnerContent=LY.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(as(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=UY(e.classNameGenerator,e.renderProps);if(e.children){const r=Sz(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?ae(e.elTag,r,i):i}else return ae(jw,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}$s.contextType=kz;function LY(t,e){const n=t.props;return ae(jw,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function UY(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class RT extends Ht{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return ae($s,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Az(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function Az(t){return[`fc-${t.type}-view`,"fc-view"]}function BY(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function DT(t,e){let n=[],{start:r}=e,i,a;for(t.sort(HY),i=0;i<t.length;i+=1)a=t[i],a.start>r&&n.push({start:r,end:a.start}),a.end>r&&(r=a.end);return r<e.end&&n.push({start:r,end:e.end}),n}function HY(t,e){return t.start.valueOf()-e.start.valueOf()}function Wc(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function FY(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Ow(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function jg(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function La(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function qY(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Tz(t){let e=Math.floor(cu(t.start,t.end))||1,n=jt(t.start),r=En(n,e);return{start:n,end:r}}function Cz(t,e=ft(0)){let n=null,r=null;if(t.end){r=jt(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=ff(e)&&(r=En(r,1))}return t.start&&(n=jt(t.start),r&&r<=n&&(r=En(n,1))),{start:n,end:r}}function Ec(t,e,n,r){return r==="year"?ft(n.diffWholeYears(t,e),"year"):r==="month"?ft(n.diffWholeMonths(t,e),"month"):KG(t,e)}class Nz{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,a=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,r)}build(e,n,r=!0){let{props:i}=this,a,l,u,f,m,p;return a=this.buildValidRange(),a=this.trimHiddenDays(a),r&&(e=qY(e,a)),l=this.buildCurrentRangeInfo(e,n),u=/^(year|month|week|day)$/.test(l.unit),f=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,u),f=this.trimHiddenDays(f),m=f,i.showNonCurrentDates||(m=Wc(m,l.range)),m=this.adjustActiveRange(m),m=Wc(m,a),p=Ow(l.range,a),La(f,e)||(e=f.start),{currentDate:e,validRange:a,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:u,activeRange:m,renderRange:f,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:p,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,a=null,l=null,u;return r.duration?(i=r.duration,a=r.durationUnit,l=this.buildRangeFromDuration(e,n,i,a)):(u=this.props.dayCount)?(a="day",l=this.buildRangeFromDayCount(e,n,u)):(l=this.buildCustomVisibleRange(e))?a=r.dateEnv.greatestWholeUnit(l.start,l.end).unit:(i=this.getFallbackDuration(),a=Rv(i).unit,l=this.buildRangeFromDuration(e,n,i,a)),{duration:i,unit:a,range:l}}getFallbackDuration(){return ft({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:a}=this.props,{start:l,end:u}=e;return r&&(Cc(i)<0&&(l=jt(l),l=n.add(l,i)),Cc(a)>1&&(u=jt(u),u=En(u,-1),u=n.add(u,a))),{start:l,end:u}}buildRangeFromDuration(e,n,r,i){let{dateEnv:a,dateAlignment:l}=this.props,u,f,m;if(!l){let{dateIncrement:b}=this.props;b&&ff(b)<ff(r)?l=Rv(b).unit:l=i}Cc(r)<=1&&this.isHiddenDay(u)&&(u=this.skipHiddenDays(u,n),u=jt(u));function p(){u=a.startOf(e,l),f=a.add(u,r),m={start:u,end:f}}return p(),this.trimHiddenDays(m)||(e=this.skipHiddenDays(e,n),p()),m}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:a}=this.props,l=0,u=e,f;a&&(u=i.startOf(u,a)),u=jt(u),u=this.skipHiddenDays(u,n),f=u;do f=En(f,1),this.isHiddenDay(f)||(l+=1);while(l<r);return{start:u,end:f}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?ft(1,r):e||ft({days:1}))}refineRange(e){if(e){let n=BY(e,this.props.dateEnv);return n&&(n=Cz(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=En(e,n);return e}}function Iw(t,e,n,r){return{instanceId:fl(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function $Y(t,e,n,r){for(let i=0;i<r.length;i+=1){let a=r[i].parse(t,n);if(a){let{allDay:l}=t;return l==null&&(l=e,l==null&&(l=a.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function sl(t,e,n){let{dateEnv:r,pluginHooks:i,options:a}=n,{defs:l,instances:u}=t;u=il(u,f=>!l[f.defId].recurringDef);for(let f in l){let m=l[f];if(m.recurringDef){let{duration:p}=m.recurringDef;p||(p=m.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let b=WY(m,p,e,r,i.recurringTypes);for(let x of b){let w=Iw(f,{start:x,end:r.add(x,p)});u[w.instanceId]=w}}}return{defs:l,instances:u}}function WY(t,e,n,r,i){let l=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(l=l.map(jt)),l}const Km={id:String,groupId:String,title:String,url:String,interactive:Boolean},Rz={start:re,end:re,date:re,allDay:Boolean},GY=Object.assign(Object.assign(Object.assign({},Km),Rz),{extendedProps:re});function Dz(t,e,n,r,i=Pw(n),a,l){let{refined:u,extra:f}=zz(t,n,i),m=QY(e,n),p=$Y(u,m,n.dateEnv,n.pluginHooks.recurringTypes);if(p){let x=zv(u,f,e?e.sourceId:"",p.allDay,!!p.duration,n,a);return x.recurringDef={typeId:p.typeId,typeData:p.typeData,duration:p.duration},{def:x,instance:null}}let b=YY(u,m,n,r);if(b){let x=zv(u,f,e?e.sourceId:"",b.allDay,b.hasEnd,n,a),w=Iw(x.defId,b.range,b.forcedStartTzo,b.forcedEndTzo);return l&&x.publicId&&l[x.publicId]&&(w.instanceId=l[x.publicId]),{def:x,instance:w}}return null}function zz(t,e,n=Pw(e)){return Dw(t,n)}function Pw(t){return Object.assign(Object.assign(Object.assign({},Hp),GY),t.pluginHooks.eventRefiners)}function zv(t,e,n,r,i,a,l){let u={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(l&&t.id?l[t.id]:"")||fl(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:Fp(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let f of a.pluginHooks.eventDefMemberAdders)Object.assign(u,f(t));return Object.freeze(u.ui.classNames),Object.freeze(u.extendedProps),u}function YY(t,e,n,r){let{allDay:i}=t,a,l=null,u=!1,f,m=null,p=t.start!=null?t.start:t.date;if(a=n.dateEnv.createMarkerMeta(p),a)l=a.marker;else if(!r)return null;return t.end!=null&&(f=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!f||f.isTimeUnspecified)),i&&l&&(l=jt(l)),f&&(m=f.marker,i&&(m=jt(m)),l&&m<=l&&(m=null)),m?u=!0:r||(u=n.options.forceEventDuration||!1,m=n.dateEnv.add(l,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:u,range:{start:l,end:m},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:f?f.forcedTzo:null}}function QY(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function hf(t,e,n,r,i,a){let l=pi(),u=Pw(n);for(let f of t){let m=Dz(f,e,n,r,u,i,a);m&&Mv(m,l)}return l}function Mv(t,e=pi()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Vw(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=Og(t,a=>XY(r,a));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return pi()}function XY(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function pi(){return{defs:{},instances:{}}}function Lw(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Og(t,e){let n=il(t.defs,e),r=il(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function KY(t,e){let{defs:n,instances:r}=t,i={},a={};for(let l in n)e.defs[l]||(i[l]=n[l]);for(let l in r)!e.instances[l]&&i[r[l].defId]&&(a[l]=r[l]);return{defs:i,instances:a}}function ZY(t,e){return Array.isArray(t)?hf(t,null,e,!0):typeof t=="object"&&t?hf([t],null,e,!0):t!=null?String(t):null}function zT(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Hp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:re,overlap:re,allow:re,className:zT,classNames:zT,color:String,backgroundColor:String,borderColor:String,textColor:String},JY={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Fp(t,e){let n=ZY(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function eQ(t){return t.reduce(tQ,JY)}function tQ(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const nQ={id:String,defaultAllDay:Boolean,url:String,format:String,events:re,eventDataTransform:re,success:re,failure:re};function Mz(t,e,n=jz(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:a}=Dw(r,n),l=rQ(i,e);if(l)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:fl(),sourceDefId:l.sourceDefId,meta:l.meta,ui:Fp(i,e),extendedProps:a}}return null}function jz(t){return Object.assign(Object.assign(Object.assign({},Hp),nQ),t.pluginHooks.eventSourceRefiners)}function rQ(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let a=n[r].parseMeta(t);if(a)return{sourceDefId:r,meta:a}}return null}function iQ(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return sQ(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return aQ(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return oQ(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Lw(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?sl(t,r.activeRange,i):t;case"REMOVE_EVENTS":return KY(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return Iz(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Og(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return pi();default:return t}}function sQ(t,e,n,r,i,a){if(e&&n===e.latestFetchId){let l=hf(Oz(i,e,a),e,a);return r&&(l=sl(l,r,a)),Lw(Iz(t,e.sourceId),l)}return t}function aQ(t,e,n,r,i){const{defIdMap:a,instanceIdMap:l}=cQ(t);let u=hf(Oz(n,e,i),e,i,!1,a,l);return sl(u,r,i)}function Oz(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=MT(t,i)),r&&(t=MT(t,r)),t}function MT(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function oQ(t,e,n,r){return n&&(e=sl(e,n,r)),Lw(t,e)}function jT(t,e,n){let{defs:r}=t,i=hl(t.instances,a=>r[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:n.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:n.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:a.forcedEndTzo}));return{defs:r,instances:i}}function Iz(t,e){return Og(t,n=>n.sourceId!==e)}function lQ(t,e){return{defs:t.defs,instances:il(t.instances,n=>!e[n.instanceId])}}function cQ(t){const{defs:e,instances:n}=t,r={},i={};for(let a in e){const l=e[a],{publicId:u}=l;u&&(r[u]=a)}for(let a in n){const l=n[a],u=e[l.defId],{publicId:f}=u;f&&(i[f]=a)}return{defIdMap:r,instanceIdMap:i}}class Ig{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){uQ(this.handlers,e,n)}off(e,n){dQ(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],r);for(let l of a)l.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function uQ(t,e,n){(t[e]||(t[e]=[])).push(n)}function dQ(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const fQ={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function hQ(t,e){return hf(mQ(t),null,e)}function mQ(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},fQ),n)),e}function Pz(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},Uw(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function pQ(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Uw(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,RQ(t,e.dateEnv)),n}function OT(t,e,n){let{dateEnv:r,options:i}=n,a=e;return t?(a=jt(a),a=r.add(a,i.defaultAllDayEventDuration)):a=r.add(a,i.defaultTimedEventDuration),a}function Bw(t,e,n,r){let i=qp(t.defs,e),a=pi();for(let l in t.defs){let u=t.defs[l];a.defs[l]=gQ(u,i[l],n,r)}for(let l in t.instances){let u=t.instances[l],f=a.defs[u.defId];a.instances[l]=bQ(u,f,i[u.defId],n,r)}return a}function gQ(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),n.extendedProps));for(let l of r.pluginHooks.eventDefMutationAppliers)l(a,n,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function bQ(t,e,n,r,i){let{dateEnv:a}=i,l=r.standardProps&&r.standardProps.allDay===!0,u=r.standardProps&&r.standardProps.hasEnd===!1,f=Object.assign({},t);return l&&(f.range=Tz(f.range)),r.datesDelta&&n.startEditable&&(f.range={start:a.add(f.range.start,r.datesDelta),end:a.add(f.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(f.range={start:a.add(f.range.start,r.startDelta),end:f.range.end}),r.endDelta&&n.durationEditable&&(f.range={start:f.range.start,end:a.add(f.range.end,r.endDelta)}),u&&(f.range={start:f.range.start,end:OT(e.allDay,f.range.start,i)}),e.allDay&&(f.range={start:jt(f.range.start),end:jt(f.range.end)}),f.range.end<f.range.start&&(f.range.end=OT(e.allDay,f.range.start,i)),f}class _c{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Ot{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in Rz)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Km[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Km)n=Km[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Hp){let r=Hp[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let a=this._instance.range,l=Ec(a.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let a=Ec(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,a={allDay:r.allDay},l=i.createMarker(e),u;if(l&&!(n!=null&&(u=i.createMarker(n),!u))&&this._instance){let f=this._instance.range;r.allDay===!0&&(f=Tz(f));let m=Ec(f.start,l,i,r.granularity);if(u){let p=Ec(f.end,u,i,r.granularity);HG(m,p)?this.mutate({datesDelta:m,standardProps:a}):this.mutate({startDelta:m,endDelta:p,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:m,standardProps:a})}}moveStart(e){let n=ft(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=ft(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=ft(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=_n(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),l=Vw(a,n.instanceId);l=Bw(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let f=new Ot(i,r,n);this._def=l.defs[r.defId],this._instance=l.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:l}),i.emitter.trigger("eventChange",{oldEvent:f,event:this,relatedEvents:Ko(l,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,n=Vz(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new _c(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:a}=this,l={allDay:n.allDay};return n.title&&(l.title=n.title),i&&(l.start=i),a&&(l.end=a),n.publicId&&(l.id=n.publicId),n.groupId&&(l.groupId=n.groupId),n.url&&(l.url=n.url),r.display&&r.display!=="auto"&&(l.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.color=r.backgroundColor:(r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.borderColor&&(l.borderColor=r.borderColor)),r.textColor&&(l.textColor=r.textColor),r.classNames.length&&(l.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,n.extendedProps):l.extendedProps=n.extendedProps),l}toJSON(){return this.toPlainObject()}}function Vz(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Ko(t,e,n){let{defs:r,instances:i}=t,a=[],l=n?n.instanceId:"";for(let u in i){let f=i[u],m=r[f.defId];f.instanceId!==l&&a.push(new Ot(e,m,f))}return a}function IT(t,e,n,r){let i={},a={},l={},u=[],f=[],m=qp(t.defs,e);for(let p in t.defs){let b=t.defs[p];m[b.defId].display==="inverse-background"&&(b.groupId?(i[b.groupId]=[],l[b.groupId]||(l[b.groupId]=b)):a[p]=[])}for(let p in t.instances){let b=t.instances[p],x=t.defs[b.defId],w=m[x.defId],A=b.range,S=!x.allDay&&r?Cz(A,r):A,k=Wc(S,n);k&&(w.display==="inverse-background"?x.groupId?i[x.groupId].push(k):a[b.defId].push(k):w.display!=="none"&&(w.display==="background"?u:f).push({def:x,ui:w,instance:b,range:k,isStart:S.start&&S.start.valueOf()===k.start.valueOf(),isEnd:S.end&&S.end.valueOf()===k.end.valueOf()}))}for(let p in i){let b=i[p],x=DT(b,n);for(let w of x){let A=l[p],S=m[A.defId];u.push({def:A,ui:S,instance:null,range:w,isStart:!1,isEnd:!1})}}for(let p in a){let b=a[p],x=DT(b,n);for(let w of x)u.push({def:t.defs[p],ui:m[p],instance:null,range:w,isStart:!1,isEnd:!1})}return{bg:u,fg:f}}function PT(t,e){t.fcSeg=e}function Gc(t){return t.fcSeg||t.parentNode.fcSeg||null}function qp(t,e){return hl(t,n=>Lz(n,e))}function Lz(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),eQ(n)}function yQ(t,e){let n=t.map(vQ);return n.sort((r,i)=>OG(r,i,e)),n.map(r=>r._seg)}function vQ(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:a,duration:a-i,allDay:Number(n.allDay),_seg:t})}function xQ(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:a}=t.eventRange,l=a.startEditable;for(let u of r)l=u(l,i,a,e);return l}function wQ(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function _Q(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Uz(t,e,n,r,i,a,l){let{dateEnv:u,options:f}=n,{displayEventTime:m,displayEventEnd:p}=f,b=t.eventRange.def,x=t.eventRange.instance;m==null&&(m=r!==!1),p==null&&(p=i!==!1);let w=x.range.start,A=x.range.end,S=t.start||t.eventRange.range.start,k=t.end||t.eventRange.range.end,N=jt(w).valueOf()===jt(S).valueOf(),j=jt(Ka(A,-1)).valueOf()===jt(Ka(k,-1)).valueOf();return m&&!b.allDay&&(N||j)?(S=N?w:S,k=j?A:k,p&&b.hasEnd?u.formatRange(S,k,e,{forcedStartTzo:x.forcedStartTzo,forcedEndTzo:x.forcedEndTzo}):u.format(S,e,{forcedTzo:x.forcedStartTzo})):""}function Bd(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&La(e,r.start)}}function EQ(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function SQ(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function Bz(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:a,options:l}=e,{eventInteractive:u}=l;return u==null&&(u=n.interactive,u==null&&(u=!!a.hasHandlers("eventClick"))),u?vz(f=>{a.trigger("eventClick",{el:f.target,event:new Ot(e,n,r),jsEvent:f,view:e.viewApi})}):{}}const kQ={start:re,end:re,allDay:Boolean};function AQ(t,e,n){let r=TQ(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function TQ(t,e){let{refined:n,extra:r}=Dw(t,kQ),i=n.start?e.createMarkerMeta(n.start):null,a=n.end?e.createMarkerMeta(n.end):null,{allDay:l}=n;return l==null&&(l=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:l},r)}function CQ(t,e){return FY(t.range,e.range)&&t.allDay===e.allDay&&NQ(t,e)}function NQ(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function RQ(t,e){return Object.assign(Object.assign({},Fz(t.range,e,t.allDay)),{allDay:t.allDay})}function Hz(t,e,n){return Object.assign(Object.assign({},Fz(t,e,n)),{timeZone:e.timeZone})}function Fz(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function DQ(t,e,n){let r=zz({editable:!1},n),i=zv(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:Lz(i,e),instance:Iw(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function zQ(t,e,n){let r=!1,i=function(u){r||(r=!0,e(u))},a=function(u){r||(r=!0,n(u))},l=t(i,a);l&&typeof l.then=="function"&&l.then(i,a)}class VT extends Error{constructor(e,n){super(e),this.response=n}}function MQ(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new VT("Failure parsing JSON",i)});throw new VT("Request failed",i)})}let Iy;function qz(){return Iy==null&&(Iy=jQ()),Iy}function jQ(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class OQ extends Ht{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Bp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Bp(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",a=!i&&n.height!=null?n.height:"",l=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return qz()||l.push("fc-liquid-hack"),e.children(l,a,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class uu{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function IQ(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Hw(t){return{[t.component.uid]:t}}const jv={};class Pg extends Rr{constructor(e,n){super(e,n),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,r=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let a,l;return i?(a=n.dateEnv.startOf(r,e.unit),l=n.dateEnv.add(a,ft(1,e.unit)).valueOf()-r.valueOf()):(a=r,l=1e3*60),l=Math.min(1e3*60*60*24,l),{state:{nowDate:a,todayRange:PQ(a)},waitMs:l}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Pg.contextType=ml;function PQ(t){let e=jt(t),n=En(e,1);return{start:e,end:n}}class VQ{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),a,l;for(let u in n)i.push(u);for(a=0;a<i.length;a+=1)if(l=n[i[a]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=ft(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),_n(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),_n(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),a=AQ(r,i.dateEnv,ft({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),Pz(a,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),pQ(e,n))}addEvent(e,n){if(e instanceof Ot){let l=e._def,u=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Mv({def:l,instance:u})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof _c)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=Mw(r.eventSources));else if(n!=null){let l=this.getEventSourceById(n);if(!l)return console.warn(`Could not find an event source with ID "${n}"`),null;i=l.internalEventSource}let a=Dz(e,i,r,!1);if(a){let l=new Ot(r,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Mv(a)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Vz(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let a in r){let l=r[a];if(l.publicId===e){if(l.recurringDef)return new Ot(n,l,null);for(let u in i){let f=i[u];if(f.defId===l.defId)return new Ot(n,l,f)}}}return null}getEvents(){let e=this.getCurrentData();return Ko(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new _c(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new _c(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof _c)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Mz(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new _c(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=ft(e);n&&this.trigger("_scrollRequest",{time:n})}}function LQ(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function $z(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function UQ(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function BQ(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function HQ(t,e){return{left:t.left-e.left,top:t.top-e.top}}function Wz(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!La(r.activeRange,t))),isOther:!!(r&&!La(r.currentRange,t)),isToday:!!(e&&La(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function Fw(t,e){let n=["fc-day",`fc-day-${WG[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const FQ=_n({year:"numeric",month:"long",day:"numeric"}),qQ=_n({week:"long"});function Ov(t,e,n="day",r=!0){const{dateEnv:i,options:a,calendarApi:l}=t;let u=i.format(e,n==="week"?qQ:FQ);if(a.navLinks){let f=i.toDate(e);const m=p=>{let b=n==="day"?a.navLinkDayClick:n==="week"?a.navLinkWeekClick:null;typeof b=="function"?b.call(l,i.toDate(e),p):(typeof b=="string"&&(n=b),l.zoomTo(e,n))};return Object.assign({title:Ld(a.navLinkHint,[u,f],u),"data-navlink":""},r?yz(m):{onClick:m})}return{"aria-label":u}}let Py=null;function $Q(){return Py===null&&(Py=WQ()),Py}function WQ(){let t=document.createElement("div");Vd(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Aw(t),n}let Vy;function GQ(){return Vy||(Vy=YQ()),Vy}function YQ(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=Gz(t);return document.body.removeChild(t),e}function Gz(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function QQ(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,a=parseInt(n.borderTopWidth,10)||0,l=parseInt(n.borderBottomWidth,10)||0,u=Gz(t),f=u.y-r-i,m=u.x-a-l,p={borderLeft:r,borderRight:i,borderTop:a,borderBottom:l,scrollbarBottom:m,scrollbarLeft:0,scrollbarRight:0};return $Q()&&n.direction==="rtl"?p.scrollbarLeft=f:p.scrollbarRight=f,e&&(p.paddingLeft=parseInt(n.paddingLeft,10)||0,p.paddingRight=parseInt(n.paddingRight,10)||0,p.paddingTop=parseInt(n.paddingTop,10)||0,p.paddingBottom=parseInt(n.paddingBottom,10)||0),p}function XQ(t,e=!1,n){let r=qw(t),i=QQ(t,e),a={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function qw(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function KQ(t){let e=Yz(t),n=t.getBoundingClientRect();for(let r of e){let i=$z(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function Yz(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class $p{constructor(e,n,r,i){this.els=n;let a=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.left-e),r.push(a.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let a=i.getBoundingClientRect();n.push(a.top-e),r.push(a.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,a;for(a=0;a<i;a+=1)if(e>=n[a]&&e<r[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Rm(this.tops||[],e.tops||[])&&Rm(this.bottoms||[],e.bottoms||[])&&Rm(this.lefts||[],e.lefts||[])&&Rm(this.rights||[],e.rights||[])}}function Rm(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class $w{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class ZQ extends $w{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class JQ extends $w{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class gl extends Ht{constructor(){super(...arguments),this.uid=fl()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Ln(e,".fc-event-mirror")}isValidDateDownEl(e){return!Ln(e,".fc-event:not(.fc-bg-event)")&&!Ln(e,".fc-more-link")&&!Ln(e,"a[data-navlink]")&&!Ln(e,".fc-popover")}}class eX{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:Qz(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,a=n.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},r),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(Ly(i,n.level,n.levelCoord),Ly(r,n.level,[e])):Ly(r[n.level],n.lateral,e),this.stackCnts[Hd(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:a}=this,l=n.length,u=0,f=-1,m=-1,p=null,b=0;for(let A=0;A<l;A+=1){const S=n[A];if(!i&&S>=u+this.getEntryThickness(e))break;let k=r[A],N,j=UT(k,e.span.start,LT),z=j[0]+j[1];for(;(N=k[z])&&N.span.start<e.span.end;){let M=S+this.getEntryThickness(N);M>u&&(u=M,p=N,f=A,m=z),M===u&&(b=Math.max(b,a[Hd(N)]+1)),z+=1}}let x=0;if(p)for(x=f+1;x<l&&n[x]<u;)x+=1;let w=-1;return x<l&&n[x]===u&&(w=UT(r[x],e.span.end,LT)[0]),{touchingLevel:f,touchingLateral:m,touchingEntry:p,stackCnt:b,levelCoord:u,level:x,lateral:w}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let a=0;a<r;a+=1){let l=e[a],u=n[a];for(let f of l)i.push(Object.assign(Object.assign({},f),{thickness:this.getEntryThickness(f),levelCoord:u}))}return i}}function LT(t){return t.span.end}function Hd(t){return t.index+":"+t.span.start}function Qz(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function Ly(t,e,n){t.splice(e,0,n)}function UT(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let a=Math.floor(r+(i-r)/2),l=n(t[a]);if(e<l)i=a;else if(e>l)r=a+1;else return[a,1]}return[r,0]}class tX{constructor(e,n){this.emitter=new Ig}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Ww={};function nX(t,e){return!t||e>10?_n({weekday:"short"}):e>1?_n({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):_n({weekday:"long"})}const Xz="fc-col-header-cell";function Kz(t){return t.text}class rX extends Ht{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:a}=this,{date:l,dateProfile:u}=a,f=Wz(l,a.todayRange,null,u),m=[Xz].concat(Fw(f,r)),p=e.format(l,a.dayHeaderFormat),b=!f.isDisabled&&a.colCnt>1?Ov(this.context,l):{},x=e.toDate(l);e.namedTimeZoneImpl&&(x=Ka(x,36e5));let w=Object.assign(Object.assign(Object.assign({date:x,view:i},a.extraRenderProps),{text:p}),f);return ae($s,{elTag:"th",elClasses:m,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":f.isDisabled?void 0:Nw(l)},a.extraDataAttrs),renderProps:w,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Kz,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},A=>ae("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&ae(A,{elTag:"a",elAttrs:b,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const iX=_n({weekday:"long"});class sX extends Ht{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:a}=this.context,l=En(new Date(2592e5),e.dow),u={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=n.format(l,e.dayHeaderFormat),m=Object.assign(Object.assign(Object.assign(Object.assign({date:l},u),{view:i}),e.extraRenderProps),{text:f});return ae($s,{elTag:"th",elClasses:[Xz,...Fw(u,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:Kz,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},p=>ae("div",{className:"fc-scrollgrid-sync-inner"},ae(p,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(l,iX)}})))}}class aX extends Ht{constructor(){super(...arguments),this.createDayHeaderFormatter=ct(oX)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:a}=this.props,l=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return ae(Pg,{unit:"day"},(u,f)=>ae("tr",{role:"row"},a&&a("day"),n.map(m=>i?ae(rX,{key:m.toISOString(),date:m,dateProfile:r,todayRange:f,colCnt:n.length,dayHeaderFormat:l}):ae(sX,{key:m.getUTCDay(),dow:m.getUTCDay(),dayHeaderFormat:l}))))}}function oX(t,e,n){return t||nX(e,n)}class lX{constructor(e,n){let r=e.start,{end:i}=e,a=[],l=[],u=-1;for(;r<i;)n.isHiddenDay(r)?a.push(u+.5):(u+=1,a.push(u),l.push(r)),r=En(r,1);this.dates=l,this.indices=a,this.cnt=l.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(En(e.end,-1)),i=Math.max(0,n),a=Math.min(this.cnt-1,r);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:n===i,isEnd:r===a}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(cu(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class cX{constructor(e,n){let{dates:r}=e,i,a,l;if(n){for(a=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==a;i+=1);l=Math.ceil(r.length/i)}else l=1,i=r.length;this.rowCnt=l,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:a,lastIndex:l}=r,u=a;for(;u<=l;){let f=Math.floor(u/n),m=Math.min((f+1)*n,l+1);i.push({row:f,firstCol:u%n,lastCol:(m-1)%n,isStart:r.isStart&&u===a,isEnd:r.isEnd&&m-1===l}),u=m}}return i}}class uX{constructor(){this.sliceBusinessHours=ct(this._sliceBusinessHours),this.sliceDateSelection=ct(this._sliceDateSpan),this.sliceEventStore=ct(this._sliceEventStore),this.sliceEventDrag=ct(this._sliceInteraction),this.sliceEventResize=ct(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...a){let{eventUiBases:l}=e,u=this.sliceEventStore(e.eventStore,l,n,r,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,l,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...a),fgEventSegs:u.fg,bgEventSegs:u.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,n,r,...a),eventResize:this.sliceEventResize(e.eventResize,l,n,r,...a),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...a){return this._sliceDateSpan({range:{start:e,end:Ka(e,1)},allDay:!1},n,r,{},i,...a)}_sliceBusinessHours(e,n,r,i,...a){return e?this._sliceEventStore(sl(e,Dm(n,!!r),i),{},n,r,...a).bg:[]}_sliceEventStore(e,n,r,i,...a){if(e){let l=IT(e,n,Dm(r,!!i),i);return{bg:this.sliceEventRanges(l.bg,a),fg:this.sliceEventRanges(l.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...a){if(!e)return null;let l=IT(e.mutatedEvents,n,Dm(r,!!i),i);return{segs:this.sliceEventRanges(l.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,a,...l){if(!e)return[];let u=Dm(n,!!r),f=Wc(e.range,u);if(f){e=Object.assign(Object.assign({},e),{range:f});let m=DQ(e,i,a),p=this.sliceRange(e.range,...l);for(let b of p)b.eventRange=m;return p}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:En(r.start,1)});let i=this.sliceRange(r,...n);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function Dm(t,e){let n=t.activeRange;return e?n:{start:Ka(n.start,t.slotMinTime.milliseconds),end:Ka(n.end,t.slotMaxTime.milliseconds-864e5)}}function Zz(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!jg(e.validRange,r[i].range))return!1;return Jz({eventDrag:t},n)}function dX(t,e,n){return jg(e.validRange,t.range)?Jz({dateSelection:t},n):!1}function Jz(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||fX)(r,e)}function fX(t,e,n={},r){return!(t.eventDrag&&!hX(t,e,n,r)||t.dateSelection&&!mX(t,e,n,r))}function hX(t,e,n,r){let i=e.getCurrentData(),a=t.eventDrag,l=a.mutatedEvents,u=l.defs,f=l.instances,m=qp(u,a.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(m=hl(m,r));let p=lQ(t.eventStore,a.affectedEvents.instances),b=p.defs,x=p.instances,w=qp(b,t.eventUiBases);for(let A in f){let S=f[A],k=S.range,N=m[S.defId],j=u[S.defId];if(!eM(N.constraints,k,p,t.businessHours,e))return!1;let{eventOverlap:z}=e.options,M=typeof z=="function"?z:null;for(let H in x){let D=x[H];if(Ow(k,D.range)&&(w[D.defId].overlap===!1&&a.isEvent||N.overlap===!1||M&&!M(new Ot(e,b[D.defId],D),new Ot(e,j,S))))return!1}let P=i.eventStore;for(let H of N.allows){let D=Object.assign(Object.assign({},n),{range:S.range,allDay:j.allDay}),R=P.defs[j.defId],I=P.instances[A],L;if(R?L=new Ot(e,R,I):L=new Ot(e,j),!H(Uw(D,e),L))return!1}}return!0}function mX(t,e,n,r){let i=t.eventStore,a=i.defs,l=i.instances,u=t.dateSelection,f=u.range,{selectionConfig:m}=e.getCurrentData();if(r&&(m=r(m)),!eM(m.constraints,f,i,t.businessHours,e))return!1;let{selectOverlap:p}=e.options,b=typeof p=="function"?p:null;for(let x in l){let w=l[x];if(Ow(f,w.range)&&(m.overlap===!1||b&&!b(new Ot(e,a[w.defId],w),null)))return!1}for(let x of m.allows){let w=Object.assign(Object.assign({},n),u);if(!x(Uw(w,e),null))return!1}return!0}function eM(t,e,n,r,i){for(let a of t)if(!gX(pX(a,e,n,r,i),e))return!1;return!0}function pX(t,e,n,r,i){return t==="businessHours"?Uy(sl(r,e,i)):typeof t=="string"?Uy(Og(n,a=>a.groupId===t)):typeof t=="object"&&t?Uy(sl(t,e,i)):[]}function Uy(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function gX(t,e){for(let n of t)if(jg(n,e))return!0;return!1}const zm=/^(visible|hidden)$/;class bX extends Ht{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,as(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,a=["fc-scroller"];return n&&(r?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),ae("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(zm.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(zm.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return zm.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return zm.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Go{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:a}=this,l=!1,u=!1;n!==null?(l=r in a,a[r]=n,i[r]=(i[r]||0)+1,u=!0):(i[r]-=1,i[r]||(delete a[r],delete this.callbackMap[r],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(r)),u&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return AY(this.currentMap,e,n,r)}getAll(){return Mw(this.currentMap)}}function yX(t){let e=kG(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,LG(r));return Math.ceil(n)}function tM(t,e){return t.liquid&&e.liquid}function vX(t,e){return e.maxHeight!=null||tM(t,e)}function xX(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):ae("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,ae(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function wX(t,e){return Xa(t,e,xi)}function _X(t,e){let n=[];for(let r of t){let i=r.span||1;for(let a=0;a<i;a+=1)n.push(ae("col",{style:{width:r.width==="shrink"?EX(e):r.width||"",minWidth:r.minWidth||""}}))}return ae("colgroup",{},...n)}function EX(t){return t??4}function SX(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function kX(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function AX(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function TX(t){return ae("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function BT(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function CX(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class nM extends Ht{constructor(){super(...arguments),this.processCols=ct(e=>e,wX),this.renderMicroColGroup=ct(_X),this.scrollerRefs=new Go,this.scrollerElRefs=new Go(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],a=this.processCols(e.cols),l=this.renderMicroColGroup(a,n.shrinkWidth),u=kX(e.liquid,r);e.collapsibleWidth&&u.push("fc-scrollgrid-collapsible");let f=i.length,m=0,p,b=[],x=[],w=[];for(;m<f&&(p=i[m]).type==="header";)b.push(this.renderSection(p,l,!0)),m+=1;for(;m<f&&(p=i[m]).type==="body";)x.push(this.renderSection(p,l,!1)),m+=1;for(;m<f&&(p=i[m]).type==="footer";)w.push(this.renderSection(p,l,!0)),m+=1;let A=!qz();const S={role:"rowgroup"};return ae("table",{role:"grid",className:u.join(" "),style:{height:e.height}},!!(!A&&b.length)&&ae("thead",S,...b),!!(!A&&x.length)&&ae("tbody",S,...x),!!(!A&&w.length)&&ae("tfoot",S,...w),A&&ae("tbody",S,...b,...x,...w))}renderSection(e,n,r){return"outerContent"in e?ae(Wt,{key:e.key},e.outerContent):ae("tr",{key:e.key,role:"presentation",className:AX(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:a}=this,{forceYScrollbars:l,scrollerClientWidths:u,scrollerClientHeights:f}=this.state,m=vX(a,e),p=tM(a,e),b=a.liquid?l?"scroll":m?"auto":"hidden":"visible",x=e.key,w=xX(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&u[x]!==void 0?u[x]:null,clientHeight:f[x]!==void 0?f[x]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return ae(i?"th":"td",{ref:r.elRef,role:"presentation"},ae("div",{className:`fc-scroller-harness${p?" fc-scroller-harness-liquid":""}`},ae(bX,{ref:this.scrollerRefs.createRef(x),elRef:this.scrollerElRefs.createRef(x),overflowY:b,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:p,liquidIsAbsolute:!0},w)))}_handleScrollerEl(e,n){let r=NX(this.props.sections,n);r&&as(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return SX(this.props.cols)?yX(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=GQ(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,a={},l={};for(let u in n.currentMap){let f=n.currentMap[u];if(f&&f.needsYScrolling()){i=!0;break}}for(let u of this.props.sections){let f=u.key,m=r.currentMap[f];if(m){let p=m.parentNode;a[f]=Math.floor(p.getBoundingClientRect().width-(i?e.y:0)),l[f]=Math.floor(p.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:l}}}nM.addStateEquality({scrollerClientWidths:xi,scrollerClientHeights:xi});function NX(t,e){for(let n of t)if(n.key===e)return n;return null}class Gw extends Ht{constructor(){super(...arguments),this.buildPublicEvent=ct((e,n,r)=>new Ot(e,n,r)),this.handleEl=e=>{this.el=e,as(this.props.elRef,e),e&&PT(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:a}=i,{ui:l}=a,u={event:this.buildPublicEvent(n,a.def,a.instance),view:n.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&xQ(i,n),isStartResizable:!e.disableResizing&&wQ(i,n),isEndResizable:!e.disableResizing&&_Q(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ae($s,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...EQ(u),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:u,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&PT(this.el,this.props.seg)}}class rM extends Ht{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:a}=i.eventRange,l=r.eventTimeFormat||e.defaultTimeFormat,u=Uz(i,l,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ae(Gw,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:Bz(i,n),defaultGenerator:RX,timeText:u}),(f,m)=>ae(Wt,null,ae(f,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:m.textColor}}),!!m.isStartResizable&&ae("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!m.isEndResizable&&ae("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}rM.addPropsEquality({seg:xi});function RX(t){return ae("div",{className:"fc-event-main-frame"},t.timeText&&ae("div",{className:"fc-event-time"},t.timeText),ae("div",{className:"fc-event-title-container"},ae("div",{className:"fc-event-title fc-sticky"},t.event.title||ae(Wt,null,""))))}const DX=_n({day:"numeric"});class iM extends Ht{constructor(){super(...arguments),this.refineRenderProps=Xm(zX)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return ae($s,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":Nw(e.date)}),elClasses:[...Fw(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function sM(t){return!!(t.dayCellContent||Dv("dayCellContent",t))}function zX(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,a=Wz(e,t.todayRange,null,r),l=t.showDayNumber?n.format(e,i?t.monthStartFormat:DX):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:l}),t.extraRenderProps)}class MX extends Ht{render(){let{props:e}=this,{seg:n}=e;return ae(Gw,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:jX,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function jX(t){let{title:e}=t.event;return e&&ae("div",{className:"fc-event-title"},t.event.title)}function OX(t){return ae("div",{className:`fc-${t}`})}const IX=t=>ae(ml.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,a=r.weekNumberFormat||t.defaultFormat,l=n.computeWeekNumber(i),u=n.format(i,a),f={num:l,text:u,date:i};return ae($s,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:f,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:PX,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},t.children)});function PX(t){return t.text}const By=10;class VX extends Ht{constructor(){super(...arguments),this.state={titleId:zg()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&as(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=gz(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return dG(ae("div",Object.assign({},r.extraAttrs,{id:r.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),ae("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ae("span",{className:"fc-popover-title",id:i.titleId},r.title),ae("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),ae("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,a=KQ(n);if(a){let l=i.getBoundingClientRect(),u=r?Ln(n,".fc-scrollgrid").getBoundingClientRect().top:a.top,f=e?a.right-l.width:a.left;u=Math.max(u,By),f=Math.min(f,document.documentElement.clientWidth-By-l.width),f=Math.max(f,By);let m=i.offsetParent.getBoundingClientRect();Vd(i,{top:u-m.top,left:f-m.left})}}}class LX extends gl{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:a,dateProfile:l}=r,u=n.format(i,e.dayPopoverFormat);return ae(iM,{elRef:this.handleRootEl,date:i,dateProfile:l,todayRange:a},(f,m,p)=>ae(VX,{elRef:p.ref,id:r.id,title:u,extraClassNames:["fc-more-popover"].concat(p.className||[]),extraAttrs:p,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},sM(e)&&ae(f,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:a,props:l}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class UX extends Ht{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:zg()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&as(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,a=HT(n).start;function l(u){let{def:f,instance:m,range:p}=u.eventRange;return{event:new Ot(r,f,m),start:r.dateEnv.toDate(p.start),end:r.dateEnv.toDate(p.end),isStart:u.isStart,isEnd:u.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!n.allDayDate,allSegs:n.allSegs.map(l),hiddenSegs:n.hiddenSegs.map(l),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return ae(ml.Consumer,null,r=>{let{viewApi:i,options:a,calendarApi:l}=r,{moreLinkText:u}=a,{moreCnt:f}=e,m=HT(e),p=typeof u=="function"?u.call(l,f):`+${f} ${u}`,b=Ld(a.moreLinkHint,[f],p),x={num:f,shortText:`+${f}`,text:p,view:i};return ae(Wt,null,!!e.moreCnt&&ae($s,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),yz(this.handleClick)),{title:b,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:x,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||BX,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),n.isPopoverOpen&&ae(LX,{id:n.popoverId,startDate:m.start,endDate:m.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Ln(this.linkEl,".fc-view-harness"))}}function BX(t){return t.text}function HT(t){if(t.allDayDate)return{start:t.allDayDate,end:En(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:HX(e),end:qX(e)}}function HX(t){return t.reduce(FX).eventRange.range.start}function FX(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function qX(t){return t.reduce($X).eventRange.range.end}function $X(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class WX{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class GX extends WX{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const YX=[],aM={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},oM=Object.assign(Object.assign({},aM),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function QX(t){let e=t.length>0?t[0].code:"en",n=YX.concat(t),r={en:oM};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function lM(t,e){return typeof t=="object"&&!Array.isArray(t)?cM(t.code,[t.code],t):XX(t,e)}function XX(t,e){let n=[].concat(t||[]),r=KX(n,e)||oM;return cM(t,n,r)}function KX(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let a=r.slice(0,i).join("-");if(e[a])return e[a]}}return null}function cM(t,e,n){let r=zw([aM,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function ro(t){return{id:fl(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function ZX(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let l of a){const u=l.name,f=n[u];f===void 0?(n[u]=l.id,i(l.deps),r=eK(r,l)):f!==l.id&&console.warn(`Duplicate plugin '${u}'`)}}return t&&i(t),i(e),r}function JX(){let t=[],e=[],n;return(r,i)=>((!n||!Xa(r,t)||!Xa(i,e))&&(n=ZX(r,i)),t=r,e=i,n)}function eK(t,e){return{premiumReleaseDate:tK(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function tK(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class io extends If{}io.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};io.prototype.baseIconClass="fc-icon";io.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};io.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};io.prototype.iconOverrideOption="buttonIcons";io.prototype.iconOverrideCustomButtonOption="icon";io.prototype.iconOverridePrefix="fc-icon-";function nK(t,e){let n={},r;for(r in t)Iv(r,n,t,e);for(r in e)Iv(r,n,t,e);return n}function Iv(t,e,n,r){if(e[t])return e[t];let i=rK(t,e,n,r);return i&&(e[t]=i),i}function rK(t,e,n,r){let i=n[t],a=r[t],l=p=>i&&i[p]!==null?i[p]:a&&a[p]!==null?a[p]:null,u=l("component"),f=l("superType"),m=null;if(f){if(f===t)throw new Error("Can't have a custom view type that references itself");m=Iv(f,e,n,r)}return!u&&m&&(u=m.component),u?{type:t,component:u,defaults:Object.assign(Object.assign({},m?m.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},m?m.overrides:{}),a?a.rawOptions:{})}:null}function FT(t){return hl(t,iK)}function iK(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=qT(e):n&&!(n.prototype instanceof Ht)&&(n=qT(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function qT(t){return e=>ae(ml.Consumer,null,n=>ae($s,{elTag:"div",elClasses:Az(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function sK(t,e,n,r){let i=FT(t),a=FT(e.views),l=nK(i,a);return hl(l,u=>aK(u,a,e,n,r))}function aK(t,e,n,r,i){let a=t.overrides.duration||t.defaults.duration||r.duration||n.duration,l=null,u="",f="",m={};if(a&&(l=oK(a),l)){let x=Rv(l);u=x.unit,x.value===1&&(f=u,m=e[u]?e[u].rawOptions:{})}let p=x=>{let w=x.buttonText||{},A=t.defaults.buttonTextKey;return A!=null&&w[A]!=null?w[A]:w[t.type]!=null?w[t.type]:w[f]!=null?w[f]:null},b=x=>{let w=x.buttonHints||{},A=t.defaults.buttonTextKey;return A!=null&&w[A]!=null?w[A]:w[t.type]!=null?w[t.type]:w[f]!=null?w[f]:null};return{type:t.type,component:t.component,duration:l,durationUnit:u,singleUnit:f,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},m),t.overrides),buttonTextOverride:p(r)||p(n)||t.overrides.buttonText,buttonTextDefault:p(i)||t.defaults.buttonText||p(Ud)||t.type,buttonTitleOverride:b(r)||b(n)||t.overrides.buttonHint,buttonTitleDefault:b(i)||t.defaults.buttonHint||b(Ud)}}let $T={};function oK(t){let e=JSON.stringify(t),n=$T[e];return n===void 0&&(n=ft(t),$T[e]=n),n}function lK(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function cK(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function uK(t,e,n){let r=t.initialDate;return r!=null?e.createMarker(r):n.getDateMarker()}function dK(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function fK(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function hK(t,e,n){let r=e?e.activeRange:null;return dM({},xK(t,n),r,n)}function mK(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return dM(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return gK(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?fM(t,i,r):t;case"FETCH_EVENT_SOURCES":return Yw(t,e.sourceIds?wz(e.sourceIds):hM(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return vK(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function pK(t,e,n){let r=e?e.activeRange:null;return Yw(t,hM(t,n),r,!0,n)}function uM(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function dM(t,e,n,r){let i={};for(let a of e)i[a.sourceId]=a;return n&&(i=fM(i,n,r)),Object.assign(Object.assign({},t),i)}function gK(t,e){return il(t,n=>n.sourceId!==e)}function fM(t,e,n){return Yw(t,il(t,r=>bK(r,e,n)),e,!1,n)}function bK(t,e,n){return mM(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Yw(t,e,n,r,i){let a={};for(let l in t){let u=t[l];e[l]?a[l]=yK(u,n,r,i):a[l]=u}return a}function yK(t,e,n,r){let{options:i,calendarApi:a}=r,l=r.pluginHooks.eventSourceDefs[t.sourceDefId],u=fl();return l.fetch({eventSource:t,range:e,isRefetch:n,context:r},f=>{let{rawEvents:m}=f;i.eventSourceSuccess&&(m=i.eventSourceSuccess.call(a,m,f.response)||m),t.success&&(m=t.success.call(a,m,f.response)||m),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:u,fetchRange:e,rawEvents:m})},f=>{let m=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,f),m=!0),t.failure&&(t.failure(f),m=!0),m||console.warn(f.message,f),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:u,fetchRange:e,error:f})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:u})}function vK(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function hM(t,e){return il(t,n=>mM(n,e))}function xK(t,e){let n=jz(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let a of r){let l=Mz(a,e,n);l&&i.push(l)}return i}function mM(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function wK(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function _K(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function EK(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function SK(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function kK(t,e,n,r,i){let a=t.headerToolbar?WT(t.headerToolbar,t,e,n,r,i):null,l=t.footerToolbar?WT(t.footerToolbar,t,e,n,r,i):null;return{header:a,footer:l}}function WT(t,e,n,r,i,a){let l={},u=[],f=!1;for(let m in t){let p=t[m],b=AK(p,e,n,r,i,a);l[m]=b.widgets,u.push(...b.viewsWithButtons),f=f||b.hasTitle}return{sectionWidgets:l,viewsWithButtons:u,hasTitle:f}}function AK(t,e,n,r,i,a){let l=e.direction==="rtl",u=e.customButtons||{},f=n.buttonText||{},m=e.buttonText||{},p=n.buttonHints||{},b=e.buttonHints||{},x=t?t.split(" "):[],w=[],A=!1;return{widgets:x.map(k=>k.split(",").map(N=>{if(N==="title")return A=!0,{buttonName:N};let j,z,M,P,H,D;if(j=u[N])M=R=>{j.click&&j.click.call(R.target,R,R.target)},(P=r.getCustomButtonIconClass(j))||(P=r.getIconClass(N,l))||(H=j.text),D=j.hint||j.text;else if(z=i[N]){w.push(N),M=()=>{a.changeView(N)},(H=z.buttonTextOverride)||(P=r.getIconClass(N,l))||(H=z.buttonTextDefault);let R=z.buttonTextOverride||z.buttonTextDefault;D=Ld(z.buttonTitleOverride||z.buttonTitleDefault||e.viewHint,[R,N],R)}else if(a[N])if(M=()=>{a[N]()},(H=f[N])||(P=r.getIconClass(N,l))||(H=m[N]),N==="prevYear"||N==="nextYear"){let R=N==="prevYear"?"prev":"next";D=Ld(p[R]||b[R],[m.year||"year","year"],m[N])}else D=R=>Ld(p[N]||b[N],[m[R]||R,R],m[N]);return{buttonName:N,buttonClick:M,buttonIcon:P,buttonText:H,buttonHint:D}})),viewsWithButtons:w,hasTitle:A}}class TK{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let CK={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const NK=ro({name:"array-event-source",eventSourceDefs:[CK]});let RK={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;zQ(i.bind(null,Hz(t.range,r)),a=>e({rawEvents:a}),n)}};const DK=ro({name:"func-event-source",eventSourceDefs:[RK]}),zK={method:String,extraParams:re,startParam:String,endParam:String,timeZoneParam:String};let MK={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=OK(r,t.range,t.context);MQ(r.method,r.url,i).then(([a,l])=>{e({rawEvents:a,response:l})},n)}};const jK=ro({name:"json-event-source",eventSourceRefiners:zK,eventSourceDefs:[MK]});function OK(t,e,n){let{dateEnv:r,options:i}=n,a,l,u,f,m={};return a=t.startParam,a==null&&(a=i.startParam),l=t.endParam,l==null&&(l=i.endParam),u=t.timeZoneParam,u==null&&(u=i.timeZoneParam),typeof t.extraParams=="function"?f=t.extraParams():f=t.extraParams||{},Object.assign(m,f),m[a]=r.formatIso(e.start),m[l]=r.formatIso(e.end),r.timeZone!=="local"&&(m[u]=r.timeZone),m}const IK={daysOfWeek:re,startTime:ft,endTime:ft,duration:ft,startRecur:re,endRecur:re};let PK={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=FG(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Wc(e,{start:t.startRecur,end:t.endRecur});return r?LK(t.daysOfWeek,t.startTime,t.dateEnv,n,r):[]}};const VK=ro({name:"simple-recurring-event",recurringTypes:[PK],eventRefiners:IK});function LK(t,e,n,r,i){let a=t?wz(t):null,l=jt(i.start),u=i.end,f=[];for(e&&(e.milliseconds<0?u=En(u,1):e.milliseconds>=1e3*60*60*24&&(l=En(l,-1)));l<u;){let m;(!a||a[l.getUTCDay()])&&(e?m=r.add(l,e):m=l,f.push(r.createMarker(n.toDate(m)))),l=En(l,1)}return f}const UK=ro({name:"change-handler",optionChangeHandlers:{events(t,e){GT([t],e)},eventSources:GT}});function GT(t,e){let n=Mw(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let a=!1;for(let l=0;l<n.length;l+=1)if(n[l]._raw===i){n.splice(l,1),a=!0;break}a||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function BK(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Hz(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function HK(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ko(t,e))}const FK=[NK,DK,jK,VK,UK,ro({name:"misc",isLoadingFuncs:[t=>uM(t.eventSources)],propSetHandlers:{dateProfile:BK,eventStore:HK}})];class qK{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new kw(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function $K(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,_n(e.titleFormat||WK(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function WK(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Pp(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class YT{constructor(){this.resetListeners=new Set}handleInput(e,n){const r=this.dateEnv;if(e!==r&&(typeof n=="function"?this.nowFn=n:r||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class GK{constructor(e){this.computeCurrentViewData=ct(this._computeCurrentViewData),this.organizeRawLocales=ct(QX),this.buildLocale=ct(lM),this.buildPluginHooks=JX(),this.buildDateEnv=ct(YK),this.buildTheme=ct(QK),this.parseToolbars=ct(kK),this.buildViewSpecs=ct(sK),this.buildDateProfileGenerator=Xm(XK),this.buildViewApi=ct(KK),this.buildViewUiProps=Xm(eZ),this.buildEventUiBySource=ct(ZK,xi),this.buildEventUiBases=ct(JK),this.parseContextBusinessHours=Xm(tZ),this.buildTitle=ct($K),this.nowManager=new YT,this.emitter=new Ig,this.actionRunner=new qK(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=x=>{this.actionRunner.request(x)},this.props=e,this.actionRunner.pause(),this.nowManager=new YT;let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,a=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let l={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},u=uK(r.calendarOptions,r.dateEnv,this.nowManager),f=a.dateProfileGenerator.build(u);La(f.activeRange,u)||(u=f.currentRange.start);for(let x of r.pluginHooks.contextInit)x(l);let m=hK(r.calendarOptions,f,l),p={dynamicOptionOverrides:n,currentViewType:i,currentDate:u,dateProfile:f,businessHours:this.parseContextBusinessHours(l),eventSources:m,eventUiBases:{},eventStore:pi(),renderableEventStore:pi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},b=Object.assign(Object.assign({},l),p);for(let x of r.pluginHooks.reducers)Object.assign(p,x(null,null,b));Hy(p,l)&&this.emitter.trigger("loading",!0),this.state=p,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,a=dK(r.dynamicOptionOverrides,e),l=this.computeOptionsData(n.optionOverrides,a,n.calendarApi),u=lK(r.currentViewType,e),f=this.computeCurrentViewData(u,l,n.optionOverrides,a);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(f.options);let m={nowManager:this.nowManager,dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:p,dateProfile:b}=r;this.data&&this.data.dateProfileGenerator!==f.dateProfileGenerator&&(b=f.dateProfileGenerator.build(p)),p=cK(p,e),b=fK(b,e,p,f.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!La(b.currentRange,p))&&(p=b.currentRange.start);let x=mK(r.eventSources,e,b,m),w=iQ(r.eventStore,e,x,b,m),S=uM(x)&&!f.options.progressiveEventRendering&&r.renderableEventStore||w,{eventUiSingleBase:k,selectionConfig:N}=this.buildViewUiProps(m),j=this.buildEventUiBySource(x),z=this.buildEventUiBases(S.defs,k,j),M={dynamicOptionOverrides:a,currentViewType:u,currentDate:p,dateProfile:b,eventSources:x,eventStore:w,renderableEventStore:S,selectionConfig:N,eventUiBases:z,businessHours:this.parseContextBusinessHours(m),dateSelection:wK(r.dateSelection,e),eventSelection:_K(r.eventSelection,e),eventDrag:EK(r.eventDrag,e),eventResize:SK(r.eventResize,e)},P=Object.assign(Object.assign({},m),M);for(let R of l.pluginHooks.reducers)Object.assign(M,R(r,e,P));let H=Hy(r,m),D=Hy(M,m);!H&&D?i.trigger("loading",!0):H&&!D&&i.trigger("loading",!1),this.state=M,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),n),u=i.pluginHooks.optionChangeHandlers,f=r&&r.calendarOptions,m=i.calendarOptions;if(f&&f!==m){f.timeZone!==m.timeZone&&(n.eventSources=l.eventSources=pK(l.eventSources,n.dateProfile,l),n.eventStore=l.eventStore=jT(l.eventStore,r.dateEnv,l.dateEnv),n.renderableEventStore=l.renderableEventStore=jT(l.renderableEventStore,r.dateEnv,l.dateEnv));for(let p in u)(this.optionsForHandling.indexOf(p)!==-1||f[p]!==m[p])&&u[p](m[p],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:l,availableLocaleData:u,extra:f}=this.processRawCalendarOptions(e,n);QT(f);let m=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,u,i.defaultRangeSeparator),p=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),b=this.buildTheme(i,a),x=this.parseToolbars(i,this.stableOptionOverrides,b,p,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:m,viewSpecs:p,theme:b,toolbarConfig:x,localeDefaults:l,availableRawLocales:u.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=jy([Ud,e,n]),a=this.organizeRawLocales(r),l=a.map,u=this.buildLocale(i||a.defaultCode,l).options,f=this.buildPluginHooks(e.plugins||[],FK),m=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},TT),CT),NT),f.listenerRefiners),f.optionRefiners),p={},b=jy([Ud,u,e,n]),x={},w=this.currentCalendarOptionsInput,A=this.currentCalendarOptionsRefined,S=!1;for(let k in b)this.optionsForRefining.indexOf(k)===-1&&(b[k]===w[k]||Bo[k]&&k in w&&Bo[k](w[k],b[k]))?x[k]=A[k]:m[k]?(x[k]=m[k](b[k]),S=!0):p[k]=w[k];return S&&(this.currentCalendarOptionsInput=b,this.currentCalendarOptionsRefined=x,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:f,availableLocaleData:a,localeDefaults:u,extra:p}}_computeCurrentViewData(e,n,r,i){let a=n.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:u}=this.processRawViewOptions(a,n.pluginHooks,n.localeDefaults,r,i);QT(u),this.nowManager.handleInput(n.dateEnv,l.now);let f=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),m=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:a,options:l,dateProfileGenerator:f,viewApi:m}}processRawViewOptions(e,n,r,i,a){let l=jy([Ud,e.optionDefaults,r,i,e.optionOverrides,a]),u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},TT),CT),NT),wY),n.listenerRefiners),n.optionRefiners),f={},m=this.currentViewOptionsInput,p=this.currentViewOptionsRefined,b=!1,x={};for(let w in l)l[w]===m[w]||Bo[w]&&Bo[w](l[w],m[w])?f[w]=p[w]:(l[w]===this.currentCalendarOptionsInput[w]||Bo[w]&&Bo[w](l[w],this.currentCalendarOptionsInput[w])?w in this.currentCalendarOptionsRefined&&(f[w]=this.currentCalendarOptionsRefined[w]):u[w]?f[w]=u[w](l[w]):x[w]=l[w],b=!0);return b&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=f),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:x}}}function YK(t,e,n,r,i,a,l,u){let f=lM(e||l.defaultCode,l.map);return new zY({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:f,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:u})}function QK(t,e){let n=e.themeClasses[t.themeSystem]||io;return new n(t)}function XK(t){let e=t.dateProfileGeneratorClass||Nz;return new e(t)}function KK(t,e,n){return new TK(t,e,n)}function ZK(t){return hl(t,e=>e.ui)}function JK(t,e,n){let r={"":e};for(let i in t){let a=t[i];a.sourceId&&n[a.sourceId]&&(r[i]=n[a.sourceId])}return r}function eZ(t){let{options:e}=t;return{eventUiSingleBase:Fp({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Fp({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Hy(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function tZ(t){return hQ(t.options.businessHours,t)}function QT(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class nZ extends Ht{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return ae("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],a=!0;for(let l of e){let{buttonName:u,buttonClick:f,buttonText:m,buttonIcon:p,buttonHint:b}=l;if(u==="title")a=!1,i.push(ae("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let x=u===n.activeButton,w=!n.isTodayEnabled&&u==="today"||!n.isPrevEnabled&&u==="prev"||!n.isNextEnabled&&u==="next",A=[`fc-${u}-button`,r.getClass("button")];x&&A.push(r.getClass("buttonActive")),i.push(ae("button",{type:"button",title:typeof b=="function"?b(n.navUnit):b,disabled:w,"aria-pressed":x,className:A.join(" "),onClick:f},m||(p?ae("span",{className:p,role:"img"}):"")))}}if(i.length>1){let l=a&&r.getClass("buttonGroup")||"";return ae("div",{className:l},...i)}return i[0]}}class XT extends Ht{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,a,l=e.sectionWidgets,u=l.center;return l.left?(r=!0,i=l.left):i=l.start,l.right?(r=!0,a=l.right):a=l.end,ae("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",u||[]),this.renderSection("end",a||[]))}renderSection(e,n){let{props:r}=this;return ae(nZ,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class rZ extends Ht{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,as(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",l="";return r?n.availableWidth!==null?a=n.availableWidth/r:l=`${1/r*100}%`:a=e.height||"",ae("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:l}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class iZ extends uu{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:a}=i,l=Gc(r);if(l&&i.isValidSegDownEl(n.target)){let u=Ln(n.target,".fc-event-forced-url"),f=u?u.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:r,event:new Ot(i.context,l.eventRange.def,l.eventRange.instance),jsEvent:n,view:a.viewApi}),f&&!n.defaultPrevented&&(window.location.href=f)}},this.destroy=bz(e.el,"click",".fc-event",this.handleSegClick)}}class sZ extends uu{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Gc(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=CG(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:a}=i,l=Gc(r);(!n||i.isValidSegDownEl(n.target))&&a.emitter.trigger(e,{el:r,event:new Ot(a,l.eventRange.def,l.eventRange.instance),jsEvent:n,view:a.viewApi})}}class aZ extends pl{constructor(){super(...arguments),this.buildViewContext=ct(OY),this.buildViewPropTransformers=ct(lZ),this.buildToolbarProps=ct(oZ),this.headerRef=Fs(),this.footerRef=Fs(),this.interactionsStore={},this.state={viewLabelId:zg()},this.registerInteractiveComponent=(e,n)=>{let r=IQ(e,n),l=[iZ,sZ].concat(this.props.pluginHooks.componentInteractions).map(u=>new u(r));this.interactionsStore[e.uid]=l,jv[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete jv[e.uid]},this.resizeRunner=new kw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=!1,a="",l;e.isHeightAuto||e.forPrint?a="":r.height!=null?i=!0:r.contentHeight!=null?a=r.contentHeight:l=Math.max(r.aspectRatio,.5);let u=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return ae(ml.Provider,{value:u},ae(Pg,{unit:"day"},m=>{let p=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,m,e.viewTitle);return ae(Wt,null,n.header&&ae(XT,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:f},p)),ae(rZ,{liquid:i,height:a,aspectRatio:l,labeledById:f},this.renderView(e),this.buildAppendContent()),n.footer&&ae(XT,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},p)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return ae(Wt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(n.viewPropsTransformers);for(let u of a)Object.assign(i,u.transform(i,e));let l=r.component;return ae(l,Object.assign({},i))}}function oZ(t,e,n,r,i,a){let l=n.build(i,void 0,!1),u=n.buildPrev(e,r,!1),f=n.buildNext(e,r,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:l.isValid&&!La(e.currentRange,i),isPrevEnabled:u.isValid,isNextEnabled:f.isValid}}function lZ(t){return t.map(e=>new e)}class cZ extends VQ{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Bp(()=>{df(ae(OQ,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,a,l,u)=>(this.setClassNames(i),this.setHeight(a),ae(kz.Provider,{value:this.customContentRenderId},ae(aZ,Object.assign({isHeightAuto:l,forPrint:u},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,df(null,this.el),this.setClassNames([]),this.setHeight(""))},vG(e),this.el=e,this.renderRunner=new kw(this.handleRenderRequest),new GK({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Bp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Xa(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){pz(this.el,"height",e)}}const uZ=parseInt(String(be.version).split(".")[0]),dZ=uZ<18;class pM extends E.Component{constructor(){super(...arguments),this.elRef=E.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(be.createElement(fZ,{key:n.id,customRendering:n}));return be.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new GX;this.handleCustomRendering=e.handle.bind(e),this.calendar=new cZ(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Zo.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),a=!n;(dZ||a||this.isUpdating||this.isUnmounting||i-n<100?gM:Zo.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}pM.act=gM;class fZ extends E.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return Zo.createPortal(r,e.containerEl)}}function gM(t){t()}class hZ extends gl{constructor(){super(...arguments),this.headerElRef=Fs()}renderSimpleLayout(e,n){let{props:r,context:i}=this,a=[],l=BT(i.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),ae(RT,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},ae(nM,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,n,r,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:l,context:u}=this,f=!l.forPrint&&BT(u.options),m=!l.forPrint&&CX(u.options),p=[];return e&&p.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),p.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),m&&p.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:TX}]}),ae(RT,{elClasses:["fc-daygrid"],viewSpec:u.viewSpec},ae(a,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:p}))}}function Zm(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Mm(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function KT(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const bM=_n({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function yM(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class vM extends Ht{render(){let{props:e}=this;return ae(rM,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:bM,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class xM extends Ht{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,a=r.eventTimeFormat||bM,l=Uz(i,a,n,!0,e.defaultDisplayEventEnd);return ae(Gw,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Bz(e.seg,n),defaultGenerator:mZ,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function mZ(t){return ae(Wt,null,ae("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&ae("div",{className:"fc-event-time"},t.timeText),ae("div",{className:"fc-event-title"},t.event.title||ae(Wt,null,"")))}class pZ extends Ht{constructor(){super(...arguments),this.compileSegs=ct(gZ)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return ae(UX,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ae(Wt,null,n.map(a=>{let l=a.eventRange.instance.instanceId;return ae("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:i[l]?"hidden":""}},yM(a)?ae(xM,Object.assign({seg:a,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Bd(a,e.todayRange))):ae(vM,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Bd(a,e.todayRange))))}))}})}}function gZ(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const bZ=_n({week:"narrow"});class yZ extends gl{constructor(){super(...arguments),this.rootElRef=Fs(),this.state={dayNumberId:zg()},this.handleRootEl=e=>{as(this.rootElRef,e),as(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:a,dateEnv:l}=e,{date:u,dateProfile:f}=n;const m=n.showDayNumber&&xZ(u,f.currentRange,l);return ae(iM,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:vZ,date:u,dateProfile:f,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:m,extraRenderProps:n.extraRenderProps},(p,b)=>ae("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&ae(IX,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Ov(e,u,"week"),date:u,defaultFormat:bZ}),!b.isDisabled&&(n.showDayNumber||sM(a)||n.forceDayTop)?ae("div",{className:"fc-daygrid-day-top"},ae(p,{elTag:"a",elClasses:["fc-daygrid-day-number",m&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Ov(e,u)),{id:r.dayNumberId})})):n.showDayNumber?ae("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ae("a",{className:"fc-daygrid-day-number"},"")):void 0,ae("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,ae("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},ae(pZ,{allDayDate:u,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),ae("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function vZ(t){return t.dayNumberText||ae(Wt,null,"")}function xZ(t,e,n){const{start:r,end:i}=e,a=Ka(i,-1),l=n.getYear(r),u=n.getMonth(r),f=n.getYear(a),m=n.getMonth(a);return!(l===f&&u===m)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function wM(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function _M(t){return wM(t)+":"+t.lastCol}function wZ(t,e,n,r,i,a,l){let u=new SZ(N=>{let j=t[N.index].eventRange.instance.instanceId+":"+N.span.start+":"+(N.span.end-1);return i[j]||1});u.allowReslicing=!0,u.strictOrder=r,e===!0||n===!0?(u.maxCoord=a,u.hiddenConsumes=!0):typeof e=="number"?u.maxStackCnt=e:typeof n=="number"&&(u.maxStackCnt=n,u.hiddenConsumes=!0);let f=[],m=[];for(let N=0;N<t.length;N+=1){let j=t[N],z=_M(j);i[z]!=null?f.push({index:N,span:{start:j.firstCol,end:j.lastCol+1}}):m.push(j)}let p=u.addSegs(f),b=u.toRects(),{singleColPlacements:x,multiColPlacements:w,leftoverMargins:A}=_Z(b,t,l),S=[],k=[];for(let N of m){w[N.firstCol].push({seg:N,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let j=N.firstCol;j<=N.lastCol;j+=1)x[j].push({seg:Nc(N,j,j+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let N=0;N<l.length;N+=1)S.push(0);for(let N of p){let j=t[N.index],z=N.span;w[z.start].push({seg:Nc(j,z.start,z.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=z.start;M<z.end;M+=1)S[M]+=1,x[M].push({seg:Nc(j,M,M+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let N=0;N<l.length;N+=1)k.push(A[N]);return{singleColPlacements:x,multiColPlacements:w,moreCnts:S,moreMarginTops:k}}function _Z(t,e,n){let r=EZ(t,n.length),i=[],a=[],l=[];for(let u=0;u<n.length;u+=1){let f=r[u],m=[],p=0,b=0;for(let w of f){let A=e[w.index];m.push({seg:Nc(A,u,u+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:w.levelCoord,marginTop:w.levelCoord-p}),p=w.levelCoord+w.thickness}let x=[];p=0,b=0;for(let w of f){let A=e[w.index],S=w.span.end-w.span.start>1,k=w.span.start===u;b+=w.levelCoord-p,p=w.levelCoord+w.thickness,S?(b+=w.thickness,k&&x.push({seg:Nc(A,w.span.start,w.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:w.levelCoord,marginTop:0})):k&&(x.push({seg:Nc(A,w.span.start,w.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:w.levelCoord,marginTop:b}),b=0)}i.push(m),a.push(x),l.push(b)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:l}}function EZ(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Nc(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,a=i.range,l=Wc(a,{start:r[e].date,end:En(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:l},isStart:t.isStart&&l.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&l.end.valueOf()===a.end.valueOf()})}class SZ extends eX{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=a=>!this.forceHidden[Hd(a)];for(let a=0;a<r.length;a+=1)r[a]=r[a].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:l,touchingLevel:u,touchingLateral:f}=e;if(this.hiddenConsumes&&l){const m=Hd(l);if(!a[m])if(this.allowReslicing){const p=Object.assign(Object.assign({},l),{span:Qz(l.span,n.span)}),b=Hd(p);a[b]=!0,i[u][f]=p,r.push(p),this.splitEntry(l,n,r)}else a[m]=!0,r.push(l)}super.handleInvalidInsertion(e,n,r)}}class EM extends gl{constructor(){super(...arguments),this.cellElRefs=new Go,this.frameElRefs=new Go,this.fgElRefs=new Go,this.segHarnessRefs=new Go,this.rootElRef=Fs(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,a=e.cells.length,l=Mm(e.businessHourSegs,a),u=Mm(e.bgEventSegs,a),f=Mm(this.getHighlightSegs(),a),m=Mm(this.getMirrorSegs(),a),{singleColPlacements:p,multiColPlacements:b,moreCnts:x,moreMarginTops:w}=wZ(yQ(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),A=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ae("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((S,k)=>{let N=this.renderFgSegs(k,e.forPrint?p[k]:b[k],e.todayRange,A),j=this.renderFgSegs(k,kZ(m[k],b),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ae(yZ,{key:S.key,elRef:this.cellElRefs.createRef(S.key),innerElRef:this.frameElRefs.createRef(S.key),dateProfile:e.dateProfile,date:S.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&k===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:S.extraRenderProps,extraDataAttrs:S.extraDataAttrs,extraClassNames:S.extraClassNames,extraDateSpan:S.extraDateSpan,moreCnt:x[k],moreMarginTop:w[k],singlePlacements:p[k],fgContentElRef:this.fgElRefs.createRef(S.key),fgContent:ae(Wt,null,ae(Wt,null,N),ae(Wt,null,j)),bgContent:ae(Wt,null,this.renderFillSegs(f[k],"highlight"),this.renderFillSegs(l[k],"non-business"),this.renderFillSegs(u[k],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!xi(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,a,l,u){let{context:f}=this,{eventSelection:m}=this.props,{framePositions:p}=this.state,b=this.props.cells.length===1,x=a||l||u,w=[];if(p)for(let A of n){let{seg:S}=A,{instanceId:k}=S.eventRange.instance,N=A.isVisible&&!i[k],j=A.isAbsolute,z="",M="";j&&(f.isRtl?(M=0,z=p.lefts[S.lastCol]-p.lefts[S.firstCol]):(z=0,M=p.rights[S.firstCol]-p.rights[S.lastCol])),w.push(ae("div",{className:"fc-daygrid-event-harness"+(j?" fc-daygrid-event-harness-abs":""),key:wM(S),ref:x?null:this.segHarnessRefs.createRef(_M(S)),style:{visibility:N?"":"hidden",marginTop:j?"":A.marginTop,top:j?A.absoluteTop:"",left:z,right:M}},yM(S)?ae(xM,Object.assign({seg:S,isDragging:a,isSelected:k===m,defaultDisplayEventEnd:b},Bd(S,r))):ae(vM,Object.assign({seg:S,isDragging:a,isResizing:l,isDateSelecting:u,isSelected:k===m,defaultDisplayEventEnd:b},Bd(S,r)))))}return w}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,l=[];if(a)for(let u of e){let f=r?{right:0,left:a.lefts[u.lastCol]-a.lefts[u.firstCol]}:{left:0,right:a.rights[u.firstCol]-a.rights[u.lastCol]};l.push(ae("div",{key:SQ(u.eventRange),className:"fc-daygrid-bg-harness",style:f},n==="bg-event"?ae(MX,Object.assign({seg:u},Bd(u,i))):OX(n)))}return ae(Wt,{},...l)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let f=n.cells.map(m=>i.currentMap[m.key]);if(f.length){let m=this.rootElRef.current,p=new $p(m,f,!0,!1);(!r.framePositions||!r.framePositions.similarTo(p))&&this.setState({framePositions:new $p(m,f,!0,!1)})}}const a=this.state.segHeights,l=this.querySegHeights(),u=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),l),maxContentHeight:u?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}EM.addStateEquality({segHeights:xi});function kZ(t,e){if(!t.length)return[];let n=AZ(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function AZ(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class TZ extends gl{constructor(){super(...arguments),this.splitBusinessHourSegs=ct(Zm),this.splitBgEventSegs=ct(CZ),this.splitFgEventSegs=ct(Zm),this.splitDateSelectionSegs=ct(Zm),this.splitEventDrag=ct(KT),this.splitEventResize=ct(KT),this.rowRefs=new Go}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),a=this.splitBgEventSegs(e.bgEventSegs,r),l=this.splitFgEventSegs(e.fgEventSegs,r),u=this.splitDateSelectionSegs(e.dateSelectionSegs,r),f=this.splitEventDrag(e.eventDrag,r),m=this.splitEventResize(e.eventResize,r),p=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return ae(Pg,{unit:"day"},(b,x)=>ae(Wt,null,e.cells.map((w,A)=>ae(EM,{ref:this.rowRefs.createRef(A),key:w.length?w[0].date.toISOString():A,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:x,dateProfile:e.dateProfile,cells:w,renderIntro:e.renderRowIntro,businessHourSegs:i[A],eventSelection:e.eventSelection,bgEventSegs:a[A],fgEventSegs:l[A],dateSelectionSegs:u[A],eventDrag:f[A],eventResize:m[A],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:p,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new $p(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new $p(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,a=r.leftToIndex(e),l=i.topToIndex(n);if(l!=null&&a!=null){let u=this.props.cells[l][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,a),allDay:!0},u.extraDateSpan),dayEl:this.getCellEl(l,a),rect:{left:r.lefts[a],right:r.rights[a],top:i.tops[l],bottom:i.bottoms[l]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=En(r,1);return{start:r,end:i}}}function CZ(t,e){return Zm(t.filter(NZ),e)}function NZ(t){return t.eventRange.def.allDay}class RZ extends gl{constructor(){super(...arguments),this.elRef=Fs(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,a=r===!0||n===!0;a&&!i&&(a=!1,n=null,r=null);let l=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return ae("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ae("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,ae("tbody",{role:"presentation"},ae(TZ,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=DZ(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function DZ(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${sY(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Nw(e.currentDate)}"]`)),n}class zZ extends uX{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class MZ extends gl{constructor(){super(...arguments),this.slicer=new zZ,this.tableRef=Fs()}render(){let{props:e,context:n}=this;return ae(RZ,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class jZ extends hZ{constructor(){super(...arguments),this.buildDayTableModel=ct(OZ),this.headerRef=Fs(),this.tableRef=Fs()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),a=e.dayHeaders&&ae(aX,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),l=u=>ae(MZ,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:u.tableColGroupNode,tableMinWidth:u.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:u.clientWidth,clientHeight:u.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,l,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,l)}}function OZ(t,e){let n=new lX(t.renderRange,e);return new cX(n,/year|month|week/.test(t.currentRangeUnit))}class IZ extends Nz{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:a}=this;return PZ({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function PZ(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,a;if(t.snapToWeek&&(r=e.startOfWeek(r),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=_T(a,1))),t.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(En(n.end,-1))),u=Math.ceil(GG(l,i));i=_T(i,6-u)}return{start:r,end:i}}var VZ=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';fz(VZ);var LZ=ro({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:jZ,dateProfileGeneratorClass:IZ},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Ww.touchMouseIgnoreWait=500;let Pv=0,Wp=0,Vv=!1;class SM{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&UZ(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,BZ()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Ig,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),HZ()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),FZ()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Ln(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Vv=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Ln(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Pv||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Vv=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,a,l=0,u=0;return r&&r.length?(i=r[0].pageX,a=r[0].pageY):(i=e.pageX,a=e.pageY),n?(this.origPageX=i,this.origPageY=a):(l=i-this.origPageX,u=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:l,deltaY:u}}}function UZ(t){return t.button===0&&!t.ctrlKey}function BZ(){Pv+=1,setTimeout(()=>{Pv-=1},Ww.touchMouseIgnoreWait)}function HZ(){Wp+=1,Wp===1&&window.addEventListener("touchmove",kM,{passive:!1})}function FZ(){Wp-=1,Wp||window.removeEventListener("touchmove",kM,{passive:!1})}function kM(t){Vv&&t.preventDefault()}class qZ{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Vd(r,{left:i.left,top:i.top}),NG(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Aw(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Vd(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Vd(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class AM extends $w{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class TM extends AM{constructor(e,n){super(new ZQ(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return XQ(this.scrollController.el)}}class $Z extends AM{constructor(e){super(new JQ,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const ZT=typeof performance=="function"?performance.now:Date.now;class WZ{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=ZT();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,l=this.pointerScreenX===null?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(ZT()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,a=i-e.distance,l=a*a/(i*i)*this.maxVelocity*n,u=1;switch(e.name){case"left":u=-1;case"right":r.setScrollLeft(r.getScrollLeft()+l*u);break;case"top":u=-1;case"bottom":r.setScrollTop(r.getScrollTop()+l*u);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,a=this.scrollCaches||[];for(let l of a){let u=l.clientRect,f=e-u.left,m=u.right-e,p=n-u.top,b=u.bottom-n;f>=0&&m>=0&&p>=0&&b>=0&&(p<=r&&this.everMovedUp&&l.canScrollUp()&&(!i||i.distance>p)&&(i={scrollCache:l,name:"top",distance:p}),b<=r&&this.everMovedDown&&l.canScrollDown()&&(!i||i.distance>b)&&(i={scrollCache:l,name:"bottom",distance:b}),f<=r&&this.everMovedLeft&&l.canScrollLeft()&&(!i||i.distance>f)&&(i={scrollCache:l,name:"left",distance:f}),m<=r&&this.everMovedRight&&l.canScrollRight()&&(!i||i.distance>m)&&(i={scrollCache:l,name:"right",distance:m}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new $Z(!1):new TM(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Pf extends tX{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,RG(document.body),zG(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,l,{deltaX:u,deltaY:f}=i;l=u*u+f*f,l>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,DG(document.body),MG(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new SM(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new qZ,this.autoScroller=new WZ}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class GZ{constructor(e){this.el=e,this.origRect=qw(e),this.scrollCaches=Yz(e).map(n=>new TM(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!YZ(i.getEventTarget())&&!LQ(r,i.clientRect))return!1;return!0}}function YZ(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Vg{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Ig}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,a;i instanceof HTMLElement&&(a=qw(i),r=UQ(r,a));let l=this.initialHit=this.queryHitForOffset(r.left,r.top);if(l){if(this.useSubjectCenter&&a){let u=$z(a,l.rect);u&&(r=BQ(u))}this.coordAdjust=HQ(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Lg(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=hl(this.droppableStore,e=>(e.component.prepareHits(),new GZ(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,a=null;for(let l in r){let u=r[l].component,f=i[l];if(f&&f.isWithinClipping(e,n)){let m=f.computeLeft(),p=f.computeTop(),b=e-m,x=n-p,{origRect:w}=f,A=w.right-w.left,S=w.bottom-w.top;if(b>=0&&b<A&&x>=0&&x<S){let k=u.queryHit(b,x,A,S);k&&jg(k.dateProfile.activeRange,k.dateSpan.range)&&(this.disablePointCheck||f.el.contains(f.el.getRootNode().elementFromPoint(b+m-window.scrollX,x+p-window.scrollY)))&&(!a||k.layer>a.layer)&&(k.componentId=l,k.context=u.context,k.rect.left+=m,k.rect.right+=m,k.rect.top+=p,k.rect.bottom+=p,a=k)}}}return a}}function Lg(t,e){return!t&&!e?!0:!!t!=!!e?!1:CQ(t.dateSpan,e.dateSpan)}function CM(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,QZ(t,e.dateEnv)),n}function QZ(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class XZ extends uu{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,a=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:l,finalHit:u}=this.hitDragging;if(l&&u&&Lg(l,u)){let{context:f}=i,m=Object.assign(Object.assign({},CM(l.dateSpan,f)),{dayEl:l.dayEl,jsEvent:r.origEvent,view:f.viewApi||f.calendarApi.view});f.emitter.trigger("dateClick",m)}}},this.dragging=new Pf(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Vg(this.dragging,Hw(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class KZ extends uu{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:u,dragging:f}=this,{options:m}=u.context,p=m.selectable&&u.isValidDateDownEl(l.origEvent.target);f.setIgnoreMove(!p),f.delay=l.isTouch?ZZ(u):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,u)=>{let{context:f}=this.component,m=null,p=!1;if(l){let b=this.hitDragging.initialHit;l.componentId===b.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(b,l)||(m=JZ(b,l,f.pluginHooks.dateSelectionTransformers)),(!m||!dX(m,l.dateProfile,f))&&(p=!0,m=null)}m?f.dispatch({type:"SELECT_DATES",selection:m}):u||f.dispatch({type:"UNSELECT_DATES"}),p?Tw():Cw(),u||(this.dragSelection=m)},this.handlePointerUp=l=>{this.dragSelection&&(Pz(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Pf(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new Vg(this.dragging,Hw(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function ZZ(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function JZ(t,e,n){let r=t.dateSpan,i=e.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(VG);let l={};for(let u of n){let f=u(t,e);if(f===!1)return null;f&&Object.assign(l,f)}return l.range={start:a[0],end:a[3]},l.allDay=r.allDay,l}class Vf extends uu{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let u=l.origEvent.target,{component:f,dragging:m}=this,{mirror:p}=m,{options:b}=f.context,x=f.context;this.subjectEl=l.subjectEl;let w=this.subjectSeg=Gc(l.subjectEl),S=(this.eventRange=w.eventRange).instance.instanceId;this.relevantEvents=Vw(x.getCurrentData().eventStore,S),m.minDistance=l.isTouch?0:b.eventDragMinDistance,m.delay=l.isTouch&&S!==f.props.eventSelection?tJ(f):null,b.fixedMirrorParent?p.parentNode=b.fixedMirrorParent:p.parentNode=Ln(u,".fc"),p.revertDuration=b.dragRevertDuration;let k=f.isValidSegDownEl(u)&&!Ln(u,".fc-event-resizer");m.setIgnoreMove(!k),this.isDragging=k&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let u=this.component.context,f=this.eventRange,m=f.instance.instanceId;l.isTouch?m!==this.component.props.eventSelection&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:m}):u.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(u.calendarApi.unselect(l),u.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ot(u,f.def,f.instance),jsEvent:l.origEvent,view:u.viewApi}))},this.handleHitUpdate=(l,u)=>{if(!this.isDragging)return;let f=this.relevantEvents,m=this.hitDragging.initialHit,p=this.component.context,b=null,x=null,w=null,A=!1,S={affectedEvents:f,mutatedEvents:pi(),isEvent:!0};if(l){b=l.context;let k=b.options;p===b||k.editable&&k.droppable?(x=eJ(m,l,this.eventRange.instance.range.start,b.getCurrentData().pluginHooks.eventDragMutationMassagers),x&&(w=Bw(f,b.getCurrentData().eventUiBases,x,b),S.mutatedEvents=w,Zz(S,l.dateProfile,b)||(A=!0,x=null,w=null,S.mutatedEvents=pi()))):b=null}this.displayDrag(b,S),A?Tw():Cw(),u||(p===b&&Lg(m,l)&&(x=null),this.dragging.setMirrorNeedsRevert(!x),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=b,this.validMutation=x,this.mutatedRelevantEvents=w)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let u=this.component.context,f=u.viewApi,{receivingContext:m,validMutation:p}=this,b=this.eventRange.def,x=this.eventRange.instance,w=new Ot(u,b,x),A=this.relevantEvents,S=this.mutatedRelevantEvents,{finalHit:k}=this.hitDragging;if(this.clearDrag(),u.emitter.trigger("eventDragStop",{el:this.subjectEl,event:w,jsEvent:l.origEvent,view:f}),p){if(m===u){let N=new Ot(u,S.defs[b.defId],x?S.instances[x.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:S});let j={oldEvent:w,event:N,relatedEvents:Ko(S,u,x),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:A})}},z={};for(let M of u.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(z,M(p,u));u.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},j),z),{el:l.subjectEl,delta:p.datesDelta,jsEvent:l.origEvent,view:f})),u.emitter.trigger("eventChange",j)}else if(m){let N={event:w,relatedEvents:Ko(A,u,x),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:A})}};u.emitter.trigger("eventLeave",Object.assign(Object.assign({},N),{draggedEl:l.subjectEl,view:f})),u.dispatch({type:"REMOVE_EVENTS",eventStore:A}),u.emitter.trigger("eventRemove",N);let j=S.defs[b.defId],z=S.instances[x.instanceId],M=new Ot(m,j,z);m.dispatch({type:"MERGE_EVENTS",eventStore:S});let P={event:M,relatedEvents:Ko(S,m,z),revert(){m.dispatch({type:"REMOVE_EVENTS",eventStore:S})}};m.emitter.trigger("eventAdd",P),l.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:x.instanceId}),m.emitter.trigger("drop",Object.assign(Object.assign({},CM(k.dateSpan,m)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:k.context.viewApi})),m.emitter.trigger("eventReceive",Object.assign(Object.assign({},P),{draggedEl:l.subjectEl,view:k.context.viewApi}))}}else u.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Pf(e.el);i.pointer.selector=Vf.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let a=this.hitDragging=new Vg(this.dragging,jv);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:pi(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Vf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function eJ(t,e,n,r){let i=t.dateSpan,a=e.dateSpan,l=i.range.start,u=a.range.start,f={};i.allDay!==a.allDay&&(f.allDay=a.allDay,f.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?l=jt(n):l=n);let m=Ec(l,u,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);m.milliseconds&&(f.allDay=!1);let p={datesDelta:m,standardProps:f};for(let b of r)b(p,t,e);return p}function tJ(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class nJ extends uu{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:l}=this,u=this.querySegEl(a),f=Gc(u),m=this.eventRange=f.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==m.instance.instanceId)},this.handleDragStart=a=>{let{context:l}=this.component,u=this.eventRange;this.relevantEvents=Vw(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let f=this.querySegEl(a);this.draggingSegEl=f,this.draggingSeg=Gc(f),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:f,event:new Ot(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi})},this.handleHitUpdate=(a,l,u)=>{let{context:f}=this.component,m=this.relevantEvents,p=this.hitDragging.initialHit,b=this.eventRange.instance,x=null,w=null,A=!1,S={affectedEvents:m,mutatedEvents:pi(),isEvent:!0};a&&(a.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,a)||(x=rJ(p,a,u.subjectEl.classList.contains("fc-event-resizer-start"),b.range))),x&&(w=Bw(m,f.getCurrentData().eventUiBases,x,f),S.mutatedEvents=w,Zz(S,a.dateProfile,f)||(A=!0,x=null,w=null,S.mutatedEvents=null)),w?f.dispatch({type:"SET_EVENT_RESIZE",state:S}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),A?Tw():Cw(),l||(x&&Lg(p,a)&&(x=null),this.validMutation=x,this.mutatedRelevantEvents=w)},this.handleDragEnd=a=>{let{context:l}=this.component,u=this.eventRange.def,f=this.eventRange.instance,m=new Ot(l,u,f),p=this.relevantEvents,b=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:m,jsEvent:a.origEvent,view:l.viewApi}),this.validMutation){let x=new Ot(l,b.defs[u.defId],f?b.instances[f.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:b});let w={oldEvent:m,event:x,relatedEvents:Ko(b,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:p})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},w),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ft(0),endDelta:this.validMutation.endDelta||ft(0),jsEvent:a.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",w)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Pf(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Vg(this.dragging,Hw(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Ln(e.subjectEl,".fc-event")}}function rJ(t,e,n,r){let i=t.context.dateEnv,a=t.dateSpan.range.start,l=e.dateSpan.range.start,u=Ec(a,l,i,t.largeUnit);if(n){if(i.add(r.start,u)<r.end)return{startDelta:u}}else if(i.add(r.end,u)>r.start)return{endDelta:u};return null}class iJ{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,a=gz(r.origEvent);this.matchesCancel=!!Ln(a,i),this.matchesEvent=!!Ln(a,Vf.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:a}=this,l=i.getCurrentData();if(!a.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let u=i.options.unselectAuto;u&&(!u||!this.matchesCancel)&&i.calendarApi.unselect(r)}l.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new SM(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const sJ={fixedMirrorParent:re},aJ={dateClick:re,eventDragStart:re,eventDragStop:re,eventDrop:re,eventResizeStart:re,eventResizeStop:re,eventResize:re,drop:re,eventReceive:re,eventLeave:re};Ww.dataAttrPrefix="";var oJ=ro({name:"@fullcalendar/interaction",componentInteractions:[XZ,KZ,Vf,nJ],calendarInteractions:[iJ],elementDraggingImpl:Pf,optionRefiners:sJ,listenerRefiners:aJ});const lJ=t=>{const e=t.hasStartStat,n=t.hasEndStat;let r={text:"Scheduled",value:"scheduled",icon:Dn,colors:{bg:"bg-zinc-100 dark:bg-zinc-800",text:"text-zinc-500 dark:text-zinc-400",border:"border-zinc-200 dark:border-zinc-800",accent:"bg-zinc-400",gradient:"from-blue-500 to-indigo-600",softBg:"bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400"},pulse:!1};return n?r={text:"Completed",value:"completed",icon:Kr,colors:{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800/50",accent:"bg-emerald-500",gradient:"from-emerald-500 to-teal-600",softBg:"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400"},pulse:!1}:e&&(r={text:"Live",value:"live",icon:sx,colors:{bg:"bg-orange-50 dark:bg-orange-900/20",text:"text-orange-600 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800/50",accent:"bg-orange-500",gradient:"from-orange-500 to-red-500",softBg:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"},pulse:!0}),r},cJ=t=>t?new Date(t).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"-";function uJ({isOpen:t,onClose:e,matchData:n}){const[r,i]=E.useState({start:null,end:null,loading:!1});if(E.useEffect(()=>{t&&(async()=>{if(!(!n?.id||!t)){i(b=>({...b,loading:!0}));try{const b=Mt(He,"schedules",n.id,"statistics","start_stat"),x=Mt(He,"schedules",n.id,"statistics","end_stat"),[w,A]=await Promise.all([xp(b),xp(x)]);i({start:w.exists()?w.data():null,end:A.exists()?A.data():null,loading:!1})}catch(b){console.error("Error fetching stats:",b),i(x=>({...x,loading:!1}))}}})()},[n?.id,t]),!t||!n)return null;const a=lJ(n),l=a.icon,u=p=>{navigator.clipboard.writeText(p)},f=p=>p?.val?`${p.val} ${p.unit||"GB"}`:"-",m=p=>{if(!p?.val)return p||"-";const b=parseFloat(p.val),x=p.unit||"k";let w;switch(x.toLowerCase()){case"m":w=b*1e6;break;case"k":w=b*1e3;break;case"b":w=b*1e9;break;default:w=b}return w.toLocaleString("en-US",{maximumFractionDigits:0})};return r.start,r.end,d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",onClick:e,children:d.jsxs("div",{className:"relative bg-white dark:bg-[#0a0a0a] w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 ring-1 ring-white/10",onClick:p=>p.stopPropagation(),children:[d.jsx("div",{className:"absolute top-0 left-0 right-0 h-64 overflow-hidden -z-10",children:d.jsx("div",{className:`absolute -top-[50%] -left-[20%] w-[140%] h-[140%] bg-gradient-to-br ${a.colors.gradient} opacity-20 blur-3xl`})}),d.jsxs("div",{className:"relative p-8 pb-0",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-black uppercase tracking-wide shadow-sm ${a.colors.softBg}`,children:[d.jsx(l,{size:12,className:a.pulse?"animate-pulse":""}),a.text]}),d.jsx("button",{onClick:e,className:"p-2 -mr-2 -mt-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors text-zinc-500 dark:text-zinc-400",children:d.jsx(Bn,{size:20})})]}),d.jsx("div",{className:"mb-6",children:d.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-zinc-900 dark:text-white leading-tight",children:n.teamA&&n.teamB?d.jsxs("span",{className:"flex flex-col gap-1",children:[d.jsx("span",{children:n.teamA}),d.jsx("span",{className:"text-xl text-zinc-400 font-bold",children:"vs"}),d.jsx("span",{children:n.teamB})]}):n.title||n.match||"Match Details"})}),n.league&&d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-zinc-100 dark:bg-white/5 rounded-lg text-zinc-600 dark:text-zinc-300",children:[d.jsx(rp,{size:14,className:"text-zinc-400"}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:n.league})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{onClick:()=>u(n.id),className:"group relative overflow-hidden bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl border border-zinc-100 dark:border-zinc-800/50 p-4 transition-all hover:shadow-md cursor-pointer",title:"Click to copy ID",children:[d.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx($d,{size:14,className:"text-zinc-400"})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-white dark:bg-zinc-800 rounded-xl shadow-sm text-zinc-400 group-hover:text-zinc-900 dark:group-hover:text-white transition-colors",children:d.jsx(rx,{size:18})}),d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-wider block mb-0.5",children:"Match Reference ID"}),d.jsx("span",{className:"text-sm font-mono font-bold text-zinc-700 dark:text-zinc-300 tracking-wide group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:n.id})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-100 dark:border-zinc-800/50 flex flex-col items-center text-center gap-2",children:[d.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-full text-blue-500 mb-1",children:d.jsx(dr,{size:16})}),d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block",children:"Date"}),d.jsx("span",{className:"text-sm font-bold text-zinc-700 dark:text-zinc-300",children:cJ(n.startDate)})]})]}),d.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-2xl p-4 border border-zinc-100 dark:border-zinc-800/50 flex flex-col items-center text-center gap-2 relative overflow-hidden",children:[a.value==="live"&&d.jsxs("span",{className:"absolute top-2 right-2 flex h-2 w-2",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),d.jsx("div",{className:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-full text-orange-500 mb-1",children:d.jsx(Dn,{size:16})}),d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest block",children:"Kick Off"}),d.jsx("span",{className:"text-xl font-black text-zinc-900 dark:text-white",children:n.startTime||"-"})]})]})]}),n.channel&&d.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-xl shadow-indigo-500/20",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:d.jsx(ip,{size:64})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 opacity-80",children:[d.jsx(ip,{size:14}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Broadcast Channel"})]}),d.jsx("div",{className:"text-2xl font-black tracking-tight leading-none break-words",children:n.channel})]})]})]}),d.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 rounded-2xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"p-4 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ar,{size:16,className:"text-zinc-400"}),d.jsx("h4",{className:"text-xs font-black text-zinc-600 dark:text-zinc-300 uppercase tracking-widest",children:"Performance Report"})]}),(a.value==="live"||a.value==="completed")&&d.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${a.value==="live"?"bg-red-100 text-red-600 animate-pulse":"bg-green-100 text-green-600"}`,children:a.text})]}),d.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar bg-zinc-50/30 dark:bg-black/20",children:a.value==="live"||a.value==="completed"?d.jsx(d.Fragment,{children:r.loading?d.jsxs("div",{className:"flex flex-col items-center justify-center h-48 space-y-4",children:[d.jsx(Ua,{className:"w-8 h-8 text-zinc-300 animate-spin"}),d.jsx("p",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest animate-pulse",children:"Fetching Data..."})]}):d.jsxs("div",{className:"space-y-4",children:[r.start&&d.jsx(JT,{title:"Start Phase",range:r.start.rangeStart,data:r.start,color:"indigo",formatBw:f,formatReq:m}),r.end&&d.jsx(JT,{title:"End Phase",range:r.end.rangeEnd,data:r.end,color:"emerald",formatBw:f,formatReq:m}),!r.start&&!r.end&&d.jsxs("div",{className:"text-center py-12 flex flex-col items-center opacity-50",children:[d.jsx(Ar,{size:32,className:"text-zinc-300 mb-2"}),d.jsx("p",{className:"text-xs text-zinc-400 font-bold uppercase tracking-wide",children:"No statistics recorded"})]})]})}):d.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center opacity-50",children:[d.jsx("div",{className:"p-4 bg-zinc-100 dark:bg-zinc-800/50 rounded-full text-zinc-300 dark:text-zinc-600 mb-3",children:d.jsx(Ar,{size:32})}),d.jsx("h4",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"Awaiting Data"})]})})]})]})}),d.jsx("div",{className:"px-8 pb-8 pt-2",children:d.jsx("button",{onClick:e,className:"w-full py-4 bg-zinc-900 dark:bg-white hover:bg-zinc-800 dark:hover:bg-zinc-200 rounded-2xl text-white dark:text-black text-sm font-black uppercase tracking-widest transition-all shadow-lg hover:shadow-xl active:scale-[0.98]",children:"Close Details"})})]})})}function JT({title:t,range:e,data:n,color:r,formatBw:i,formatReq:a}){const l=n.cdnDetails&&n.cdnDetails.length>0,u={indigo:{text:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/20",border:"border-indigo-100 dark:border-indigo-800/50",gradient:"from-indigo-50 to-white dark:from-indigo-900/10 dark:to-transparent"},emerald:{text:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-100 dark:border-emerald-800/50",gradient:"from-emerald-50 to-white dark:from-emerald-900/10 dark:to-transparent"}}[r]||u.indigo;return d.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:`px-4 py-2 bg-gradient-to-r ${u.gradient} border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`text-[10px] font-black ${u.text} uppercase tracking-widest`,children:t}),l&&d.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 bg-zinc-100 dark:bg-zinc-800 text-zinc-500 rounded uppercase",children:"Multi-CDN"})]}),d.jsx("span",{className:"text-[10px] font-mono text-zinc-400 bg-white dark:bg-zinc-800 px-1.5 rounded",children:e||"-"})]}),d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-2 mb-4",children:[d.jsx(Sd,{label:"Total Bandwidth",value:i(n.bandwidth),highlight:!0,color:u.text}),d.jsx(Sd,{label:"Total Requests",value:a(n.reqTotal)}),!l&&d.jsxs(d.Fragment,{children:[d.jsx(Sd,{label:"Peak Bandwidth",value:i(n.bwPeakGbps)}),d.jsx(Sd,{label:"Peak Requests",value:n.reqPeakMin||n.requestPeak||"-"}),d.jsx(Sd,{label:"CDN Provider",value:n.cdn||"Single",colSpan:2})]})]}),l&&d.jsxs("div",{className:"space-y-3 pt-3 border-t border-zinc-100 dark:border-zinc-800/50",children:[d.jsxs("h5",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[d.jsx(Kp,{size:10})," Provider Breakdown"]}),d.jsx("div",{className:"grid gap-2",children:n.cdnDetails.map((f,m)=>d.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-100 dark:border-zinc-800",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"p-1.5 bg-white dark:bg-zinc-800 rounded-md shadow-sm",children:d.jsx(Gd,{size:12,className:"text-zinc-400"})}),d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-bold text-zinc-700 dark:text-zinc-300 block leading-none",children:f.provider}),d.jsx("span",{className:"text-[9px] text-zinc-400 font-mono",children:f.key||"-"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-[10px] font-bold text-zinc-900 dark:text-white leading-none mb-0.5",children:i(f.bandwidth)}),d.jsx("div",{className:"text-[9px] font-medium text-zinc-400",children:a(f.reqTotal)})]})]},m))})]})]})]})}function Sd({label:t,value:e,highlight:n,color:r,colSpan:i}){return d.jsxs("div",{className:`flex flex-col ${i?`col-span-${i}`:""}`,children:[d.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase tracking-wider mb-1",children:t}),d.jsx("span",{className:`font-mono font-bold truncate ${n?`text-lg ${r||"text-zinc-900 dark:text-white"}`:"text-sm text-zinc-700 dark:text-zinc-300"}`,children:e||"-"})]})}const eC="https://script.google.com/macros/s/AKfycbx5ngxY4YuUCQsyGjjudXuuTX5bWU-yZIT-osINDoKQJpO3Jjgs8Yp6hV0GoGUdL0ni/exec";function dJ({isOpen:t,onClose:e,onSyncComplete:n}){const[r,i]=E.useState("daily"),[a,l]=E.useState(new Date().toISOString().split("T")[0]),[u,f]=E.useState(new Date().toISOString().slice(0,7)),[m,p]=E.useState(!1),[b,x]=E.useState([]),[w,A]=E.useState(null),[S,k]=E.useState(!1),[N,j]=E.useState(null),z=async()=>{p(!0),A(null),x([]);const P=r==="daily"?a:u;try{console.log(`fetching mode: ${r}, param: ${P}`);const H=await fetch(`${eC}?date=${P}`);if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);const D=await H.json();if(Array.isArray(D)&&D.length>0&&D[0].error){A(D[0].error);return}const R=Array.isArray(D)?D:D.data||[];if(R.length===0){A("No matches found for the selected period.");return}const L=R.map(U=>{const q=U.match||U.title||U.Match||U.Title||"";let B=q,oe="";if(q.includes(" vs ")){const _e=q.split(" vs ");B=_e[0].trim(),oe=_e[1]?_e[1].trim():""}return{id:U.id,time:U.time||U.startTime||U.Time||"",league:U.league||U.calendar||U.League||"",match:q,teamA:B,teamB:oe,channel:U.channel||U.Channel||"",startDate:U.startDate||(r==="daily"?a:""),status:"Scheduled"}}).filter((U,q,B)=>q===B.findIndex(oe=>oe.startDate===U.startDate&&oe.time===U.time&&oe.match===U.match));L.sort((U,q)=>new Date(`${U.startDate}T${U.time}`)-new Date(`${q.startDate}T${q.time}`)),x(L)}catch(H){console.error("Fetch Error:",H),A(`Failed to fetch: ${H.message}`)}finally{p(!1)}},M=async()=>{if(b.length!==0){k(!0),A(null),j(null);try{const P=wp(He),H=b.length;b.forEach(D=>{const R=D.id,I=Mt(He,"schedules",R);P.set(I,{...D,title:D.match,startTime:D.time,teamA:D.teamA,teamB:D.teamB,updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1},{merge:!0})}),await P.commit(),j(`Successfully imported ${H} matches!`),x([]),setTimeout(()=>{j(null),n&&n(),e()},1500)}catch(P){console.error("Save error:",P),A("Failed to save to database: "+P.message)}finally{k(!1)}}};return t?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:d.jsxs("div",{className:"bg-white dark:bg-[#121212] w-full max-w-2xl rounded-[2rem] border border-zinc-200 dark:border-zinc-800 shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",children:[d.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-indigo-600 sticky top-0 z-10",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4 text-white",children:[d.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl shadow-inner",children:d.jsx(Yy,{size:24})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black uppercase tracking-tight leading-none",children:"Sync Matches"}),d.jsx("p",{className:"text-[10px] font-bold opacity-80 uppercase tracking-widest mt-1",children:"Import from Google Sheets"})]})]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors text-white",children:d.jsx(Bn,{size:20})})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[d.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-900/50 p-1.5 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[d.jsxs("button",{onClick:()=>{i("daily"),x([])},className:`flex-1 py-3 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 transition-all ${r==="daily"?"bg-white dark:bg-black shadow-md text-blue-600 dark:text-blue-400":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[d.jsx(W5,{size:16})," Daily Sync"]}),d.jsxs("button",{onClick:()=>{i("monthly"),x([])},className:`flex-1 py-3 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 transition-all ${r==="monthly"?"bg-white dark:bg-black shadow-md text-indigo-600 dark:text-indigo-400":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[d.jsx(V4,{size:16})," Monthly Sync"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[d.jsxs("div",{className:"flex-1 w-full space-y-2",children:[d.jsx("label",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest pl-1",children:r==="daily"?"Select Date":"Select Month"}),d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-zinc-400 group-focus-within:text-blue-500 transition-colors",children:d.jsx(dr,{size:18})}),r==="daily"?d.jsx("input",{type:"date",value:a,onChange:P=>l(P.target.value),className:"w-full bg-zinc-50 dark:bg-[#1a1a1a] border border-zinc-200 dark:border-zinc-800 rounded-xl py-3.5 pl-12 pr-4 font-bold text-zinc-900 dark:text-zinc-100 outline-none focus:ring-2 focus:ring-blue-500/20 transition-all text-sm uppercase cursor-pointer"}):d.jsx("input",{type:"month",value:u,onChange:P=>f(P.target.value),className:"w-full bg-zinc-50 dark:bg-[#1a1a1a] border border-zinc-200 dark:border-zinc-800 rounded-xl py-3.5 pl-12 pr-4 font-bold text-zinc-900 dark:text-zinc-100 outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all text-sm uppercase cursor-pointer"})]})]}),d.jsxs("button",{onClick:z,disabled:m,className:"w-full sm:w-auto h-[50px] px-8 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-xl font-black uppercase tracking-widest text-xs hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg hover:shadow-xl active:scale-95",children:[m?d.jsx(Ua,{size:16,className:"animate-spin"}):d.jsx(zC,{size:16}),m?"Fetching...":"Fetch"]})]}),w&&d.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 text-red-600 dark:text-red-400 rounded-xl flex items-center gap-3 text-xs font-bold animate-in slide-in-from-top-2",children:[d.jsx(gi,{size:18,className:"shrink-0"}),w]}),N&&d.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-xl flex items-center gap-3 text-xs font-bold animate-in slide-in-from-top-2",children:[d.jsx(Kr,{size:18,className:"shrink-0"}),N]}),d.jsx("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-2xl overflow-hidden bg-zinc-50 dark:bg-[#050505] min-h-[250px] shadow-sm relative",children:b.length===0?d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-zinc-300 dark:text-zinc-700",children:[d.jsx(Yy,{size:48,className:"mb-4 opacity-20"}),d.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:"No Data Fetched Yet"})]}):d.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{className:"bg-zinc-100 dark:bg-[#151515] text-[10px] font-black uppercase tracking-widest text-zinc-500 sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-4 w-24",children:"Date"}),d.jsx("th",{className:"p-4 w-20",children:"Time"}),d.jsx("th",{className:"p-4",children:"Match"}),d.jsx("th",{className:"p-4 w-32",children:"Channel"})]})}),d.jsx("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800 text-xs font-medium text-zinc-700 dark:text-zinc-300",children:b.map((P,H)=>d.jsxs("tr",{className:"hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-colors group",children:[d.jsxs("td",{className:"p-4 text-zinc-500 whitespace-nowrap font-mono",children:[new Date(P.startDate).getDate(),"/",new Date(P.startDate).getMonth()+1]}),d.jsx("td",{className:"p-4 font-mono font-bold",children:P.time}),d.jsx("td",{className:"p-4 font-bold text-zinc-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:P.match}),d.jsx("td",{className:"p-4 text-blue-500 font-bold uppercase text-[10px]",children:P.channel})]},H))})]})})})]}),d.jsxs("div",{className:"p-6 border-t border-zinc-200 dark:border-zinc-800 flex justify-end gap-3 bg-white dark:bg-[#121212] z-10",children:[d.jsx("button",{onClick:e,className:"px-6 py-3.5 rounded-xl font-black uppercase tracking-widest text-xs text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all",children:"Cancel"}),d.jsxs("button",{onClick:M,disabled:b.length===0||S,className:`px-8 py-3.5 rounded-xl font-black uppercase tracking-widest text-xs flex items-center gap-2 shadow-lg transition-all transform active:scale-95 ${b.length>0?"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-blue-500/25":"bg-zinc-200 dark:bg-zinc-800 text-zinc-400 cursor-not-allowed"}`,children:[S?d.jsx(Ua,{size:16,className:"animate-spin"}):d.jsx(Xp,{size:16}),S?"Importing...":`Import ${b.length} Matches`]})]})]})}):null}function fJ(){const t=Xc(),{matches:e,groupedData:n,loading:r}=$D(),[i,a]=E.useState("calendar"),[l,u]=E.useState(null),[f,m]=E.useState(!1),[p,b]=E.useState(!1),[x,w]=E.useState(""),[A,S]=E.useState({}),k=e.some(M=>M.startDate===new Date().toISOString().split("T")[0]),N=E.useMemo(()=>e.map(M=>({id:M.id,title:M.teamA&&M.teamB?`${M.startTime} ${M.teamA} vs ${M.teamB}`:`${M.startTime} ${M.title||"Match"}`,start:M.startDate,extendedProps:{...M,isCompleted:M.hasStartStat&&M.hasEndStat}})),[e]),j=M=>{const{startTime:P,teamA:H,teamB:D,title:R,isCompleted:I}=M.event.extendedProps,L=H&&D?`${H} vs ${D}`:R;return d.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded w-full border-l-2 transition-all hover:bg-zinc-100 dark:hover:bg-zinc-900 overflow-hidden ${I?"border-emerald-500":"border-blue-500"}`,children:[d.jsx("span",{className:"text-[9px] font-black font-mono text-zinc-500 whitespace-nowrap",children:P}),d.jsx("span",{className:"text-[9px] font-bold truncate uppercase text-zinc-700 dark:text-zinc-300",children:L})]})},z=(n||[]).filter(([,M])=>x?M.some(P=>((P.teamA||"")+(P.teamB||"")+(P.match||"")+(P.title||"")+(P.id||"")).toLowerCase().includes(x.toLowerCase())):!0);return d.jsxs("div",{className:"h-full p-4 md:p-6 bg-zinc-50 dark:bg-black overflow-y-auto custom-scrollbar animate-in fade-in",children:[d.jsx(uJ,{isOpen:f,onClose:()=>m(!1),matchData:l}),d.jsx(dJ,{isOpen:p,onClose:()=>b(!1),onSyncComplete:()=>b(!1)}),d.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-white dark:bg-[#0a0a0a] border border-zinc-200 dark:border-zinc-800 shadow-xl shadow-zinc-200/50 dark:shadow-none mb-8 group",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/10 to-orange-600/10 dark:from-amber-500/20 dark:to-orange-600/20 opacity-50 group-hover:opacity-100 transition-opacity duration-500"}),d.jsxs("div",{className:"relative p-6 md:p-10 flex flex-col xl:flex-row justify-between items-start xl:items-end gap-8",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl shadow-lg shadow-orange-500/30 text-white transform group-hover:scale-105 transition-transform duration-500 shrink-0",children:d.jsx(y5,{size:40})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl md:text-5xl font-black italic uppercase tracking-tighter dark:text-white leading-none",children:"Archive"}),d.jsx("p",{className:"text-xs md:text-sm font-bold text-zinc-400 uppercase tracking-[0.2em] mt-2",children:"Historical Data Center"})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 w-full xl:w-auto",children:[d.jsxs("button",{onClick:()=>b(!0),className:"flex-1 xl:flex-none h-12 px-6 bg-white dark:bg-black border-2 border-zinc-100 dark:border-zinc-800 hover:border-amber-500 dark:hover:border-amber-500 text-zinc-600 dark:text-zinc-300 rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2 shadow-sm whitespace-nowrap active:scale-95",children:[d.jsx(Yy,{size:18})," Sync Data"]}),d.jsx("div",{className:"flex-1 xl:flex-none h-12 bg-zinc-100 dark:bg-zinc-900 p-1.5 rounded-xl flex border border-zinc-200 dark:border-zinc-800 overflow-hidden min-w-[200px]",children:["calendar","list"].map(M=>d.jsxs("button",{onClick:()=>a(M),className:`flex-1 px-4 rounded-lg text-xs font-black uppercase transition-all flex items-center justify-center gap-2 whitespace-nowrap ${i===M?"bg-white dark:bg-black text-black dark:text-white shadow-md":"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300"}`,children:[M==="calendar"?d.jsx(DC,{size:14}):d.jsx(P5,{size:14}),d.jsx("span",{children:M})]},M))})]})]})]}),k&&d.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 p-4 rounded-2xl flex flex-col sm:flex-row items-center justify-between gap-4 shadow-sm animate-in fade-in slide-in-from-top-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"p-2.5 bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-500/20",children:d.jsx(Ar,{size:20})}),d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-blue-600 dark:text-blue-400",children:"Live Operation Active"}),d.jsx("p",{className:"text-[10px] text-zinc-500 font-bold uppercase tracking-wide mt-0.5",children:"Today's matches are occurring now"})]})]}),d.jsxs("button",{onClick:()=>t("/schedule/today"),className:"w-full sm:w-auto px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-black uppercase rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-95 group",children:["Go Live Desk ",d.jsx(qd,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})]}),r?d.jsx("div",{className:"text-center py-20 font-black text-zinc-300 animate-pulse uppercase tracking-widest",children:"Loading Archive..."}):i==="calendar"?d.jsx("div",{className:"bg-white dark:bg-[#111] p-6 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:d.jsx(pM,{plugins:[LZ,oJ],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:""},events:N,eventContent:j,eventClick:M=>{u(M.event.extendedProps),m(!0)},dayMaxEvents:3,height:"auto"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Yd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),d.jsx("input",{type:"text",placeholder:"Search team names...",value:x,onChange:M=>w(M.target.value),className:"w-full h-14 pl-12 rounded-2xl bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 font-bold text-sm outline-none focus:border-black dark:focus:border-white transition-colors"})]}),d.jsxs("div",{className:"flex gap-2 shrink-0",children:[d.jsxs("button",{onClick:()=>{const M={};z.forEach(([P])=>{M[P]=!0}),S(M)},className:"flex-1 md:flex-none px-4 py-3 bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors",children:[d.jsx(G4,{size:14})," Expand All"]}),d.jsxs("button",{onClick:()=>S({}),className:"flex-1 md:flex-none px-4 py-3 bg-white dark:bg-[#111] border border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-black uppercase flex items-center justify-center gap-2 hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors",children:[d.jsx(AC,{size:14})," Collapse"]})]})]}),z.length===0?d.jsx("div",{className:"text-center py-20 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl",children:d.jsx("p",{className:"text-zinc-400 font-bold uppercase tracking-widest text-sm",children:"No matches found"})}):z.map(([M,P])=>d.jsxs("div",{className:"bg-white dark:bg-[#111] rounded-3xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[d.jsxs("button",{onClick:()=>S(H=>({...H,[M]:!H[M]})),className:"w-full p-6 flex justify-between items-center hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors group",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-zinc-500 group-hover:bg-zinc-200 dark:group-hover:bg-zinc-700 transition-colors",children:d.jsx(dr,{size:18})}),d.jsxs("div",{className:"text-left",children:[d.jsx("h3",{className:"text-sm font-black uppercase dark:text-white",children:new Date(M).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}),d.jsxs("p",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest",children:[P.length," Matches"]})]})]}),d.jsx(Rc,{size:16,className:`text-zinc-400 transition-transform duration-300 ${A[M]?"rotate-180":""}`})]}),A[M]&&d.jsxs("div",{className:"p-6 pt-0 space-y-3 border-t border-zinc-100 dark:border-zinc-800 animate-in slide-in-from-top-2 fade-in duration-200",children:[d.jsx("div",{className:"h-2"}),P.map(H=>d.jsx(WD,{match:H,onClick:()=>{u(H),m(!0)}},H.id))]})]},M))]})]})]})}function tC(t){const e=hJ(t),n=E.forwardRef((r,i)=>{const{children:a,...l}=r,u=E.Children.toArray(a),f=u.find(pJ);if(f){const m=f.props.children,p=u.map(b=>b===f?E.Children.count(m)>1?E.Children.only(null):E.isValidElement(m)?m.props.children:null:b);return d.jsx(e,{...l,ref:i,children:E.isValidElement(m)?E.cloneElement(m,void 0,p):null})}return d.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function hJ(t){const e=E.forwardRef((n,r)=>{const{children:i,...a}=n;if(E.isValidElement(i)){const l=bJ(i),u=gJ(a,i.props);return i.type!==E.Fragment&&(u.ref=r?Mf(r,l):l),E.cloneElement(i,u)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mJ=Symbol("radix.slottable");function pJ(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mJ}function gJ(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function bJ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function yJ(t){const e=t+"CollectionProvider",[n,r]=Eg(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:k,children:N}=S,j=be.useRef(null),z=be.useRef(new Map).current;return d.jsx(i,{scope:k,itemMap:z,collectionRef:j,children:N})};l.displayName=e;const u=t+"CollectionSlot",f=tC(u),m=be.forwardRef((S,k)=>{const{scope:N,children:j}=S,z=a(u,N),M=Zr(k,z.collectionRef);return d.jsx(f,{ref:M,children:j})});m.displayName=u;const p=t+"CollectionItemSlot",b="data-radix-collection-item",x=tC(p),w=be.forwardRef((S,k)=>{const{scope:N,children:j,...z}=S,M=be.useRef(null),P=Zr(k,M),H=a(p,N);return be.useEffect(()=>(H.itemMap.set(M,{ref:M,...z}),()=>void H.itemMap.delete(M))),d.jsx(x,{[b]:"",ref:P,children:j})});w.displayName=p;function A(S){const k=a(t+"CollectionConsumer",S);return be.useCallback(()=>{const j=k.collectionRef.current;if(!j)return[];const z=Array.from(j.querySelectorAll(`[${b}]`));return Array.from(k.itemMap.values()).sort((H,D)=>z.indexOf(H.ref.current)-z.indexOf(D.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:m,ItemSlot:w},A,r]}var vJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xJ="VisuallyHidden",Qw=E.forwardRef((t,e)=>d.jsx(Hn.span,{...t,ref:e,style:{...vJ,...t.style}}));Qw.displayName=xJ;var Xw="ToastProvider",[Kw,wJ,_J]=yJ("Toast"),[NM]=Eg("Toast",[_J]),[EJ,Ug]=NM(Xw),RM=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=t,[u,f]=E.useState(null),[m,p]=E.useState(0),b=E.useRef(!1),x=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xw}\`. Expected non-empty \`string\`.`),d.jsx(Kw.Provider,{scope:e,children:d.jsx(EJ,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:m,viewport:u,onViewportChange:f,onToastAdd:E.useCallback(()=>p(w=>w+1),[]),onToastRemove:E.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:x,children:l})})};RM.displayName=Xw;var DM="ToastViewport",SJ=["F8"],Lv="toast.viewportPause",Uv="toast.viewportResume",zM=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=SJ,label:i="Notifications ({hotkey})",...a}=t,l=Ug(DM,n),u=wJ(n),f=E.useRef(null),m=E.useRef(null),p=E.useRef(null),b=E.useRef(null),x=Zr(e,b,l.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=l.toastCount>0;E.useEffect(()=>{const k=N=>{r.length!==0&&r.every(z=>N[z]||N.code===z)&&b.current?.focus()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),E.useEffect(()=>{const k=f.current,N=b.current;if(A&&k&&N){const j=()=>{if(!l.isClosePausedRef.current){const H=new CustomEvent(Lv);N.dispatchEvent(H),l.isClosePausedRef.current=!0}},z=()=>{if(l.isClosePausedRef.current){const H=new CustomEvent(Uv);N.dispatchEvent(H),l.isClosePausedRef.current=!1}},M=H=>{!k.contains(H.relatedTarget)&&z()},P=()=>{k.contains(document.activeElement)||z()};return k.addEventListener("focusin",j),k.addEventListener("focusout",M),k.addEventListener("pointermove",j),k.addEventListener("pointerleave",P),window.addEventListener("blur",j),window.addEventListener("focus",z),()=>{k.removeEventListener("focusin",j),k.removeEventListener("focusout",M),k.removeEventListener("pointermove",j),k.removeEventListener("pointerleave",P),window.removeEventListener("blur",j),window.removeEventListener("focus",z)}}},[A,l.isClosePausedRef]);const S=E.useCallback(({tabbingDirection:k})=>{const j=u().map(z=>{const M=z.ref.current,P=[M,...PJ(M)];return k==="forwards"?P:P.reverse()});return(k==="forwards"?j.reverse():j).flat()},[u]);return E.useEffect(()=>{const k=b.current;if(k){const N=j=>{const z=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!z){const P=document.activeElement,H=j.shiftKey;if(j.target===k&&H){m.current?.focus();return}const I=S({tabbingDirection:H?"backwards":"forwards"}),L=I.findIndex(U=>U===P);Fy(I.slice(L+1))?j.preventDefault():H?m.current?.focus():p.current?.focus()}};return k.addEventListener("keydown",N),()=>k.removeEventListener("keydown",N)}},[u,S]),d.jsxs(P7,{ref:f,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&d.jsx(Bv,{ref:m,onFocusFromOutsideViewport:()=>{const k=S({tabbingDirection:"forwards"});Fy(k)}}),d.jsx(Kw.Slot,{scope:n,children:d.jsx(Hn.ol,{tabIndex:-1,...a,ref:x})}),A&&d.jsx(Bv,{ref:p,onFocusFromOutsideViewport:()=>{const k=S({tabbingDirection:"backwards"});Fy(k)}})]})});zM.displayName=DM;var MM="ToastFocusProxy",Bv=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Ug(MM,n);return d.jsx(Qw,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{const u=l.relatedTarget;!a.viewport?.contains(u)&&r()}})});Bv.displayName=MM;var Lf="Toast",kJ="toast.swipeStart",AJ="toast.swipeMove",TJ="toast.swipeCancel",CJ="toast.swipeEnd",jM=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...l}=t,[u,f]=SD({prop:r,defaultProp:i??!0,onChange:a,caller:Lf});return d.jsx(Cg,{present:n||u,children:d.jsx(DJ,{open:u,...l,ref:e,onClose:()=>f(!1),onPause:is(t.onPause),onResume:is(t.onResume),onSwipeStart:wn(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:wn(t.onSwipeMove,m=>{const{x:p,y:b}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:wn(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:wn(t.onSwipeEnd,m=>{const{x:p,y:b}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),f(!1)})})})});jM.displayName=Lf;var[NJ,RJ]=NM(Lf,{onClose(){}}),DJ=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:u,onPause:f,onResume:m,onSwipeStart:p,onSwipeMove:b,onSwipeCancel:x,onSwipeEnd:w,...A}=t,S=Ug(Lf,n),[k,N]=E.useState(null),j=Zr(e,oe=>N(oe)),z=E.useRef(null),M=E.useRef(null),P=i||S.duration,H=E.useRef(0),D=E.useRef(P),R=E.useRef(0),{onToastAdd:I,onToastRemove:L}=S,U=is(()=>{k?.contains(document.activeElement)&&S.viewport?.focus(),l()}),q=E.useCallback(oe=>{!oe||oe===1/0||(window.clearTimeout(R.current),H.current=new Date().getTime(),R.current=window.setTimeout(U,oe))},[U]);E.useEffect(()=>{const oe=S.viewport;if(oe){const _e=()=>{q(D.current),m?.()},W=()=>{const te=new Date().getTime()-H.current;D.current=D.current-te,window.clearTimeout(R.current),f?.()};return oe.addEventListener(Lv,W),oe.addEventListener(Uv,_e),()=>{oe.removeEventListener(Lv,W),oe.removeEventListener(Uv,_e)}}},[S.viewport,P,f,m,q]),E.useEffect(()=>{a&&!S.isClosePausedRef.current&&q(P)},[a,P,S.isClosePausedRef,q]),E.useEffect(()=>(I(),()=>L()),[I,L]);const B=E.useMemo(()=>k?BM(k):null,[k]);return S.viewport?d.jsxs(d.Fragment,{children:[B&&d.jsx(zJ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),d.jsx(NJ,{scope:n,onClose:U,children:Zo.createPortal(d.jsx(Kw.ItemSlot,{scope:n,children:d.jsx(I7,{asChild:!0,onEscapeKeyDown:wn(u,()=>{S.isFocusedToastEscapeKeyDownRef.current||U(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Hn.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":S.swipeDirection,...A,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:wn(t.onKeyDown,oe=>{oe.key==="Escape"&&(u?.(oe.nativeEvent),oe.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:wn(t.onPointerDown,oe=>{oe.button===0&&(z.current={x:oe.clientX,y:oe.clientY})}),onPointerMove:wn(t.onPointerMove,oe=>{if(!z.current)return;const _e=oe.clientX-z.current.x,W=oe.clientY-z.current.y,te=!!M.current,Y=["left","right"].includes(S.swipeDirection),le=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,pe=Y?le(0,_e):0,F=Y?0:le(0,W),K=oe.pointerType==="touch"?10:2,ue={x:pe,y:F},ge={originalEvent:oe,delta:ue};te?(M.current=ue,jm(AJ,b,ge,{discrete:!1})):nC(ue,S.swipeDirection,K)?(M.current=ue,jm(kJ,p,ge,{discrete:!1}),oe.target.setPointerCapture(oe.pointerId)):(Math.abs(_e)>K||Math.abs(W)>K)&&(z.current=null)}),onPointerUp:wn(t.onPointerUp,oe=>{const _e=M.current,W=oe.target;if(W.hasPointerCapture(oe.pointerId)&&W.releasePointerCapture(oe.pointerId),M.current=null,z.current=null,_e){const te=oe.currentTarget,Y={originalEvent:oe,delta:_e};nC(_e,S.swipeDirection,S.swipeThreshold)?jm(CJ,w,Y,{discrete:!0}):jm(TJ,x,Y,{discrete:!0}),te.addEventListener("click",le=>le.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),zJ=t=>{const{__scopeToast:e,children:n,...r}=t,i=Ug(Lf,e),[a,l]=E.useState(!1),[u,f]=E.useState(!1);return OJ(()=>l(!0)),E.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),u?null:d.jsx(xw,{asChild:!0,children:d.jsx(Qw,{...r,children:a&&d.jsxs(d.Fragment,{children:[i.label," ",n]})})})},MJ="ToastTitle",OM=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Hn.div,{...r,ref:e})});OM.displayName=MJ;var jJ="ToastDescription",IM=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Hn.div,{...r,ref:e})});IM.displayName=jJ;var PM="ToastAction",VM=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(UM,{altText:n,asChild:!0,children:d.jsx(Zw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${PM}\`. Expected non-empty \`string\`.`),null)});VM.displayName=PM;var LM="ToastClose",Zw=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=RJ(LM,n);return d.jsx(UM,{asChild:!0,children:d.jsx(Hn.button,{type:"button",...r,ref:e,onClick:wn(t.onClick,i.onClose)})})});Zw.displayName=LM;var UM=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return d.jsx(Hn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function BM(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),IJ(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...BM(r))}}),e}function jm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?QR(i,a):i.dispatchEvent(a)}var nC=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function OJ(t=()=>{}){const e=is(t);Us(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function IJ(t){return t.nodeType===t.ELEMENT_NODE}function PJ(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Fy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var VJ=RM,HM=zM,FM=jM,qM=OM,$M=IM,WM=VM,GM=Zw;const LJ=VJ,YM=E.forwardRef(({className:t,...e},n)=>d.jsx(HM,{ref:n,className:Xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));YM.displayName=HM.displayName;const UJ=YR("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"border-green-500 bg-green-500 text-white",error:"border-red-500 bg-red-500 text-white",warning:"border-yellow-500 bg-yellow-500 text-white",info:"border-blue-500 bg-blue-500 text-white"}},defaultVariants:{variant:"default"}}),QM=E.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(FM,{ref:r,className:Xe(UJ({variant:e}),t),...n}));QM.displayName=FM.displayName;const BJ=E.forwardRef(({className:t,...e},n)=>d.jsx(WM,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));BJ.displayName=WM.displayName;const XM=E.forwardRef(({className:t,...e},n)=>d.jsx(GM,{ref:n,className:Xe("absolute right-2 top-2 rounded-md p-1 opacity-1 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 text-foreground/50",t),"toast-close":"",...e,children:d.jsx(Bn,{className:"h-4 w-4"})}));XM.displayName=GM.displayName;const KM=E.forwardRef(({className:t,...e},n)=>d.jsx(qM,{ref:n,className:Xe("text-sm font-semibold",t),...e}));KM.displayName=qM.displayName;const ZM=E.forwardRef(({className:t,...e},n)=>d.jsx($M,{ref:n,className:Xe("text-sm opacity-90",t),...e}));ZM.displayName=$M.displayName;function HJ(){const{toasts:t}=dl();return d.jsxs(LJ,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return d.jsxs(QM,{...a,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(KM,{children:n}),r&&d.jsx(ZM,{children:r})]}),i,d.jsx(XM,{})]},e)}),d.jsx(YM,{})]})}const FJ=({children:t})=>ur(n=>n.currentUser)?t:d.jsx(yC,{to:"/login",replace:!0});function qJ(){const t=ur(e=>e.darkMode);return E.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),d.jsxs(d.Fragment,{children:[d.jsxs(jS,{children:[d.jsx(Ui,{path:"/login",element:d.jsx(VP,{})}),d.jsx(Ui,{path:"/*",element:d.jsx(FJ,{children:d.jsx(PP,{children:d.jsxs(jS,{children:[d.jsx(Ui,{path:"/",element:d.jsx($U,{})}),d.jsx(Ui,{path:"/schedule/today",element:d.jsx(ZW,{})}),d.jsx(Ui,{path:"/schedule/history",element:d.jsx(fJ,{})}),d.jsx(Ui,{path:"/tickets",element:d.jsx(VW,{})}),d.jsx(Ui,{path:"/incidents",element:d.jsx(u8,{})}),d.jsx(Ui,{path:"/handover",element:d.jsx(MW,{})}),d.jsx(Ui,{path:"*",element:d.jsx(yC,{to:"/",replace:!0})})]})})})})]}),d.jsx(HJ,{})]})}LO.createRoot(document.getElementById("root")).render(d.jsx(s4,{children:d.jsx(qJ,{})}));
