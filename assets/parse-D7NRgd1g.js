import{c as Z}from"./index-DWA64BFG.js";import{g as v,t as m,c as b,m as K,a as $,p as V,q as j,l as Y,k as R,h as U,b as J,r as W,e as S,u as N,v as ee,w as Q,x as te}from"./format-B2edJEpO.js";import{b as C}from"./addYears-Cug4TO4H.js";const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],st=Z("globe",re);function se(){return Object.assign({},v())}function ne(s,e){const r=m(s,e?.in).getDay();return r===0?7:r}function oe(s,e){const r=ae(e)?new e(0):b(e,0);return r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),r}function ae(s){return typeof s=="function"&&s.prototype?.constructor===s}const ie=10;class G{subPriority=0;validate(e,r){return!0}}class ce extends G{constructor(e,r,t,n,o){super(),this.value=e,this.validateValue=r,this.setValue=t,this.priority=n,o&&(this.subPriority=o)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,t){return this.setValue(e,r,this.value,t)}}class ue extends G{priority=ie;subPriority=-1;constructor(e,r){super(),this.context=e||(t=>b(r,t))}set(e,r){return r.timestampIsSet?e:b(e,oe(e,this.context))}}class i{run(e,r,t,n){const o=this.parse(e,r,t,n);return o?{setter:new ce(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,r,t){return!0}}class le extends i{priority=140;parse(e,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})||t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"})}}set(e,r,t){return r.era=t,e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const d={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},y={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function w(s,e){return s&&{value:e(s.value),rest:s.rest}}function c(s,e){const r=e.match(s);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function x(s,e){const r=e.match(s);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const t=r[1]==="+"?1:-1,n=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,f=r[5]?parseInt(r[5],10):0;return{value:t*(n*K+o*$+f*V),rest:e.slice(r[0].length)}}function B(s){return c(d.anyDigitsSigned,s)}function l(s,e){switch(s){case 1:return c(d.singleDigit,e);case 2:return c(d.twoDigits,e);case 3:return c(d.threeDigits,e);case 4:return c(d.fourDigits,e);default:return c(new RegExp("^\\d{1,"+s+"}"),e)}}function k(s,e){switch(s){case 1:return c(d.singleDigitSigned,e);case 2:return c(d.twoDigitsSigned,e);case 3:return c(d.threeDigitsSigned,e);case 4:return c(d.fourDigitsSigned,e);default:return c(new RegExp("^-?\\d{1,"+s+"}"),e)}}function O(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function X(s,e){const r=e>0,t=r?e:1-e;let n;if(t<=50)n=s||100;else{const o=t+50,f=Math.trunc(o/100)*100,h=s>=o%100;n=s+f-(h?100:0)}return r?n:1-n}function F(s){return s%400===0||s%4===0&&s%100!==0}class de extends i{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,r,t){const n=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return w(l(4,e),n);case"yo":return w(t.ordinalNumber(e,{unit:"year"}),n);default:return w(l(r.length,e),n)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t){const n=e.getFullYear();if(t.isTwoDigitYear){const f=X(t.year,n);return e.setFullYear(f,0,1),e.setHours(0,0,0,0),e}const o=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class we extends i{priority=130;parse(e,r,t){const n=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return w(l(4,e),n);case"Yo":return w(t.ordinalNumber(e,{unit:"year"}),n);default:return w(l(r.length,e),n)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t,n){const o=j(e,n);if(t.isTwoDigitYear){const h=X(t.year,o);return e.setFullYear(h,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),Y(e,n)}const f=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(f,0,n.firstWeekContainsDate),e.setHours(0,0,0,0),Y(e,n)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class fe extends i{priority=130;parse(e,r){return k(r==="R"?4:r.length,e)}set(e,r,t){const n=b(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),R(n)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class he extends i{priority=130;parse(e,r){return k(r==="u"?4:r.length,e)}set(e,r,t){return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class pe extends i{priority=120;parse(e,r,t){switch(r){case"Q":case"QQ":return l(r.length,e);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})||t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class ye extends i{priority=120;parse(e,r,t){switch(r){case"q":case"qq":return l(r.length,e);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})||t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class xe extends i{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,r,t){const n=o=>o-1;switch(r){case"M":return w(c(d.month,e),n);case"MM":return w(l(2,e),n);case"Mo":return w(t.ordinalNumber(e,{unit:"month"}),n);case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})||t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}class be extends i{priority=110;parse(e,r,t){const n=o=>o-1;switch(r){case"L":return w(c(d.month,e),n);case"LL":return w(l(2,e),n);case"Lo":return w(t.ordinalNumber(e,{unit:"month"}),n);case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})||t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function me(s,e,r){const t=m(s,r?.in),n=U(t,r)-e;return t.setDate(t.getDate()-n*7),m(t,r?.in)}class Te extends i{priority=100;parse(e,r,t){switch(r){case"w":return c(d.week,e);case"wo":return t.ordinalNumber(e,{unit:"week"});default:return l(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t,n){return Y(me(e,t,n),n)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function De(s,e,r){const t=m(s,r?.in),n=J(t,r)-e;return t.setDate(t.getDate()-n*7),t}class ge extends i{priority=100;parse(e,r,t){switch(r){case"I":return c(d.week,e);case"Io":return t.ordinalNumber(e,{unit:"week"});default:return l(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t){return R(De(e,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const ke=[31,28,31,30,31,30,31,31,30,31,30,31],Pe=[31,29,31,30,31,30,31,31,30,31,30,31];class Me extends i{priority=90;subPriority=1;parse(e,r,t){switch(r){case"d":return c(d.date,e);case"do":return t.ordinalNumber(e,{unit:"date"});default:return l(r.length,e)}}validate(e,r){const t=e.getFullYear(),n=F(t),o=e.getMonth();return n?r>=1&&r<=Pe[o]:r>=1&&r<=ke[o]}set(e,r,t){return e.setDate(t),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class _e extends i{priority=90;subpriority=1;parse(e,r,t){switch(r){case"D":case"DD":return c(d.dayOfYear,e);case"Do":return t.ordinalNumber(e,{unit:"date"});default:return l(r.length,e)}}validate(e,r){const t=e.getFullYear();return F(t)?r>=1&&r<=366:r>=1&&r<=365}set(e,r,t){return e.setMonth(0,t),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function E(s,e,r){const t=v(),n=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=m(s,r?.in),f=o.getDay(),P=(e%7+7)%7,T=7-n,g=e<0||e>6?e-(f+T)%7:(P+T)%7-(f+T)%7;return C(o,g,r)}class Ye extends i{priority=90;parse(e,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,n){return e=E(e,t,n),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class Oe extends i{priority=90;parse(e,r,t,n){const o=f=>{const h=Math.floor((f-1)/7)*7;return(f+n.weekStartsOn+6)%7+h};switch(r){case"e":case"ee":return w(l(r.length,e),o);case"eo":return w(t.ordinalNumber(e,{unit:"day"}),o);case"eee":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeeee":return t.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,n){return e=E(e,t,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Ee extends i{priority=90;parse(e,r,t,n){const o=f=>{const h=Math.floor((f-1)/7)*7;return(f+n.weekStartsOn+6)%7+h};switch(r){case"c":case"cc":return w(l(r.length,e),o);case"co":return w(t.ordinalNumber(e,{unit:"day"}),o);case"ccc":return t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"ccccc":return t.day(e,{width:"narrow",context:"standalone"});case"cccccc":return t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(e,{width:"wide",context:"standalone"})||t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,n){return e=E(e,t,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function He(s,e,r){const t=m(s,r?.in),n=ne(t,r),o=e-n;return C(t,o,r)}class Ie extends i{priority=90;parse(e,r,t){const n=o=>o===0?7:o;switch(r){case"i":case"ii":return l(r.length,e);case"io":return t.ordinalNumber(e,{unit:"day"});case"iii":return w(t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return w(t.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return w(t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),n);case"iiii":default:return w(t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),n)}}validate(e,r){return r>=1&&r<=7}set(e,r,t){return e=He(e,t),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class qe extends i{priority=80;parse(e,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(O(t),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class Le extends i{priority=80;parse(e,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(O(t),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class Ne extends i{priority=80;parse(e,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(O(t),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class Qe extends i{priority=70;parse(e,r,t){switch(r){case"h":return c(d.hour12h,e);case"ho":return t.ordinalNumber(e,{unit:"hour"});default:return l(r.length,e)}}validate(e,r){return r>=1&&r<=12}set(e,r,t){const n=e.getHours()>=12;return n&&t<12?e.setHours(t+12,0,0,0):!n&&t===12?e.setHours(0,0,0,0):e.setHours(t,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class ve extends i{priority=70;parse(e,r,t){switch(r){case"H":return c(d.hour23h,e);case"Ho":return t.ordinalNumber(e,{unit:"hour"});default:return l(r.length,e)}}validate(e,r){return r>=0&&r<=23}set(e,r,t){return e.setHours(t,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class Re extends i{priority=70;parse(e,r,t){switch(r){case"K":return c(d.hour11h,e);case"Ko":return t.ordinalNumber(e,{unit:"hour"});default:return l(r.length,e)}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.getHours()>=12&&t<12?e.setHours(t+12,0,0,0):e.setHours(t,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class We extends i{priority=70;parse(e,r,t){switch(r){case"k":return c(d.hour24h,e);case"ko":return t.ordinalNumber(e,{unit:"hour"});default:return l(r.length,e)}}validate(e,r){return r>=1&&r<=24}set(e,r,t){const n=t<=24?t%24:t;return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Ce extends i{priority=60;parse(e,r,t){switch(r){case"m":return c(d.minute,e);case"mo":return t.ordinalNumber(e,{unit:"minute"});default:return l(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setMinutes(t,0,0),e}incompatibleTokens=["t","T"]}class Ge extends i{priority=50;parse(e,r,t){switch(r){case"s":return c(d.second,e);case"so":return t.ordinalNumber(e,{unit:"second"});default:return l(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setSeconds(t,0),e}incompatibleTokens=["t","T"]}class Be extends i{priority=30;parse(e,r){const t=n=>Math.trunc(n*Math.pow(10,-r.length+3));return w(l(r.length,e),t)}set(e,r,t){return e.setMilliseconds(t),e}incompatibleTokens=["t","T"]}class Xe extends i{priority=10;parse(e,r){switch(r){case"X":return x(y.basicOptionalMinutes,e);case"XX":return x(y.basic,e);case"XXXX":return x(y.basicOptionalSeconds,e);case"XXXXX":return x(y.extendedOptionalSeconds,e);case"XXX":default:return x(y.extended,e)}}set(e,r,t){return r.timestampIsSet?e:b(e,e.getTime()-W(e)-t)}incompatibleTokens=["t","T","x"]}class Fe extends i{priority=10;parse(e,r){switch(r){case"x":return x(y.basicOptionalMinutes,e);case"xx":return x(y.basic,e);case"xxxx":return x(y.basicOptionalSeconds,e);case"xxxxx":return x(y.extendedOptionalSeconds,e);case"xxx":default:return x(y.extended,e)}}set(e,r,t){return r.timestampIsSet?e:b(e,e.getTime()-W(e)-t)}incompatibleTokens=["t","T","X"]}class Ae extends i{priority=40;parse(e){return B(e)}set(e,r,t){return[b(e,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class ze extends i{priority=20;parse(e){return B(e)}set(e,r,t){return[b(e,t),{timestampIsSet:!0}]}incompatibleTokens="*"}const Ze={G:new le,y:new de,Y:new we,R:new fe,u:new he,Q:new pe,q:new ye,M:new xe,L:new be,w:new Te,I:new ge,d:new Me,D:new _e,E:new Ye,e:new Oe,c:new Ee,i:new Ie,a:new qe,b:new Le,B:new Ne,h:new Qe,H:new ve,K:new Re,k:new We,m:new Ce,s:new Ge,S:new Be,X:new Xe,x:new Fe,t:new Ae,T:new ze},Ke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ve=/^'([^]*?)'?$/,je=/''/g,Ue=/\S/,Je=/[a-zA-Z]/;function nt(s,e,r,t){const n=()=>b(r,NaN),o=se(),f=o.locale??S,h=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,P=o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!e)return s?n():m(r,t?.in);const T={firstWeekContainsDate:h,weekStartsOn:P,locale:f},g=[new ue(t?.in,r)],A=e.match($e).map(a=>{const u=a[0];if(u in N){const p=N[u];return p(a,f.formatLong)}return a}).join("").match(Ke),M=[];for(let a of A){ee(a)&&Q(a,e,s),te(a)&&Q(a,e,s);const u=a[0],p=Ze[u];if(p){const{incompatibleTokens:I}=p;if(Array.isArray(I)){const q=M.find(L=>I.includes(L.token)||L.token===u);if(q)throw new RangeError(`The format string mustn't contain \`${q.fullToken}\` and \`${a}\` at the same time`)}else if(p.incompatibleTokens==="*"&&M.length>0)throw new RangeError(`The format string mustn't contain \`${a}\` and any other token at the same time`);M.push({token:u,fullToken:a});const _=p.run(s,a,f.match,T);if(!_)return n();g.push(_.setter),s=_.rest}else{if(u.match(Je))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");if(a==="''"?a="'":u==="'"&&(a=Se(a)),s.indexOf(a)===0)s=s.slice(a.length);else return n()}}if(s.length>0&&Ue.test(s))return n();const z=g.map(a=>a.priority).sort((a,u)=>u-a).filter((a,u,p)=>p.indexOf(a)===u).map(a=>g.filter(u=>u.priority===a).sort((u,p)=>p.subPriority-u.subPriority)).map(a=>a[0]);let D=m(r,t?.in);if(isNaN(+D))return n();const H={};for(const a of z){if(!a.validate(D,T))return n();const u=a.set(D,H,T);Array.isArray(u)?(D=u[0],Object.assign(H,u[1])):D=u}return D}function Se(s){return s.match(Ve)[1].replace(je,"'")}export{st as G,nt as p};
