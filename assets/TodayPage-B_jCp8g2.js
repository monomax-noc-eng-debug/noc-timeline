import{e as Ie,$ as fs,V as We,h as $e,_ as ar,W as gr,a0 as Mo,f as ir,q as hn,g as cr,w as Do,o as Io,r as p,a4 as hs,a as ps,j as i,F as Or,t as br,X as Mr,a8 as pn,ae as xr,b as Dr,ad as lr,a9 as Ro,k as le,af as Fo,T as Et,i as ms,p as gs,L as bs,m as K,ag as Zo,I as ft,G as Vo,y as Lo,J as Ir,K as Uo,P as Ee,E as Rr,D as kt,N as qo,ah as Bo,B as gt,s as Wo,S as Go,O as Ho,Q as mn}from"./index-Q34mk0jU.js";import{u as Jo,a as Ko,F as Qo}from"./useMatches-p1m4fDdn.js";import{t as vr,m as Yo,f as Ve}from"./format-_IVVRDDj.js";import{i as Xo,s as ea,g as Fe,j as dr,k as ta,l as ra,u as Le,b as na,h as sa,a as oa,F as aa,P as yr,m as kr,n as wr,D as ia,p as ca,f as la,C as gn,o as bn,q as da}from"./formatters-CkvMZQNo.js";import{b as xn,C as zr}from"./addYears-PKoCkgVc.js";import{p as At}from"./parse-RAkaUwzF.js";import{T as _r}from"./TimeInput-DeiDARlh.js";import{G as ua}from"./gauge-CcoCk9N6.js";import{C as Fr}from"./index-DFPlaL-s.js";import{A as fa}from"./arrow-right-DK_OLL0C.js";import{C as _t}from"./check-BzVhAMyo.js";import{G as ha}from"./globe-C1RvpexM.js";import{S as pa}from"./settings-2-AJcga3.js";import{T as Gt,P as Zr}from"./trash-2-CwNPF3Bm.js";import{C as ma}from"./copy-BEi8nQi4.js";import{S as xs}from"./server-DGL9DBwb.js";import{c as vs}from"./configService-DFdTgGxv.js";import{S as ys}from"./save-BI_4ovMQ.js";import{L as ga}from"./layers-CUr3yPnR.js";import{S as ks}from"./search-ygDQTCIz.js";import{Z as ba}from"./zap-dCety7eh.js";import{T as ws}from"./trophy-CzSAGrxq.js";import{T as zs}from"./tv-C1q-6mux.js";import xa from"./DataPreviewPanel-DOs2tqrj.js";import{C as vn}from"./chevron-right-MWDulPs6.js";import{R as va}from"./rotate-ccw-BGOjk6ld.js";import{E as ya}from"./eye-off-CI_8UmWm.js";import{E as ka}from"./eye-BQDK3RpT.js";import{L as wa}from"./layout-grid-kHBgeddS.js";import{R as za}from"./radio-DdFQC4eq.js";import{F as _a}from"./funnel-BNiFXt_K.js";import{C as ja,P as Sa}from"./pen-line-DoNQB_FU.js";import{C as Ca}from"./chevron-down-DTgGqtqR.js";import"./useBaseQuery-DdGex9By.js";import"./cloud-download-CcDfvnHD.js";const Na=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],Ea=Ie("arrow-left-right",Na);const Aa=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pa=Ie("bell",Aa);const $a=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],yn=Ie("chevrons-up-down",$a);const Ta=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Oa=Ie("eraser",Ta);const Ma=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Da=Ie("monitor-play",Ma);const Ia=[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]],Ra=Ie("monitor-smartphone",Ia);const Fa=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Za=Ie("sparkles",Fa);const Va=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],La=Ie("swords",Va);const Ua=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],_s=Ie("wand-sparkles",Ua);const qa=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],js=Ie("wifi",qa);function Ba(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Wa(e,t){return+vr(e)-+vr(t)}function kn(e,t,r){const n=Wa(e,t)/Yo;return Ba(r?.roundingMethod)(n)}function Rt(e,t){const r=vr(e,t?.in);return r.setSeconds(0,0),r}function Ga(e,t){return+Rt(e)==+Rt(t)}const ur={subscribeMatches:(e,t)=>{let r=hn(ir($e,"schedules"),cr("startDate","desc"),cr("startTime","asc"));return e&&(r=hn(ir($e,"schedules"),Do("startDate","==",e),cr("startTime","asc"))),Io(r,n=>{const s=n.docs.map(o=>({id:o.id,...o.data()}));t(s)},n=>{console.error("Match subscription error:",n)})},createMatch:async e=>{try{const t={...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),hasStartStat:!1,hasEndStat:!1};return await Mo(ir($e,"schedules"),t)}catch(t){console.error("Error creating match:",t),ar(t)}},updateMatch:async(e,t)=>{try{const r=We($e,"schedules",e);await gr(r,{...t,updatedAt:new Date().toISOString()})}catch(r){console.error("Error updating match:",r),ar(r)}},deleteMatch:async e=>{try{await fs(We($e,"schedules",e))}catch(t){console.error("Error deleting match:",t),ar(t)}}},Ha=(e=new Date)=>{const[t,r]=p.useState(e),n=Ve(t,"yyyy-MM-dd"),s=Xo(t,new Date),o=xn(t,1),a=p.useMemo(()=>({start:Ve(t,"yyyy-MM-dd"),end:Ve(o,"yyyy-MM-dd")}),[t,o]),{matches:c,loading:l}=Jo(null,a,s),d=p.useMemo(()=>{if(!c.length)return[];const T=Ve(t,"yyyy-MM-dd"),D=Ve(o,"yyyy-MM-dd");return c.filter(W=>{if(W.startDate===T)return!0;if(W.startDate===D){const[R]=W.startTime.split(":");return parseInt(R,10)<9}return!1})},[c,t,o]),f=hs(),{toast:h}=ps(),[b,g]=p.useState(null),[C,z]=p.useState(!1),[F,L]=p.useState(null),[O,Z]=p.useState(!1),[y,x]=p.useState({isOpen:!1,id:null}),[k,N]=p.useState(!1),[j,B]=p.useState(""),[I,Q]=p.useState("ALL"),[$,J]=p.useState(Rt(new Date)),[H,X]=p.useState(!1),ee=p.useRef(new Set);p.useEffect(()=>{const D=setInterval(()=>{const W=new Date;J(R=>Ga(R,W)?R:Rt(W))},1e3);return()=>clearInterval(D)},[]),p.useEffect(()=>{"Notification"in window&&Notification.permission==="granted"&&X(!0)},[]);const te=async()=>{if(!("Notification"in window))return;await Notification.requestPermission()==="granted"&&X(!0)};p.useEffect(()=>{!H||!s||d.length===0||d.forEach(T=>{if(!T.startTime||T.hasStartStat||ee.current.has(T.id))return;const D=T.startDate?At(T.startDate,"yyyy-MM-dd",new Date):t,W=At(T.startTime,"HH:mm",D),R=kn(W,$);R<=15&&R>=0&&(new Notification("Match Alert",{body:`${T.teamA} vs ${T.teamB} starts in ${R} mins!`,icon:"/vite.svg"}),ee.current.add(T.id))})},[d,H,$,t,s]);const be=()=>r(T=>ea(T)),xe=()=>r(T=>xn(T,1)),je=()=>r(new Date),Ae=async T=>{Z(!0);try{F?(await ur.updateMatch(F.id,T),h({title:"Success",description:"Match updated successfully."})):(await ur.createMatch({...T,startDate:n}),h({title:"Success",description:"Match created successfully."})),f.invalidateQueries({queryKey:["matches"]}),z(!1),L(null)}catch(D){h({variant:"destructive",title:"Error",description:D.message||"Something went wrong."})}finally{Z(!1)}},_=async()=>{if(y.id)try{await ur.deleteMatch(y.id),f.invalidateQueries({queryKey:["matches"]}),h({title:"Success",description:"Match deleted successfully."})}catch(T){h({variant:"destructive",title:"Error",description:T.message||"Failed to delete match."})}finally{x({isOpen:!1,id:null})}},q=p.useDeferredValue(j),A=p.useMemo(()=>d.map(T=>{let D="Upcoming",W=null,R=!1,ye=!1;if(T.startTime){let ae;try{const Ue=T.startDate?At(T.startDate,"yyyy-MM-dd",new Date):t;ae=At(T.startTime,"HH:mm",Ue)}catch{ae=new Date("Invalid")}if(!isNaN(ae)){const Ue=Ko(ae,2),mt=kn(ae,$);T.hasEndStat?(D="Finished",ye=!0):T.hasStartStat?(D="Live",R=!0):$>=ae&&$<=Ue?(D="Live (Time)",R=!0):$>Ue?(D="Finished (Time)",ye=!0):mt<=60&&mt>0?W=`${mt}m`:W=Ve(ae,"HH:mm")}}return{...T,statusDisplay:D,countdown:W,isLiveTime:R,isFinished:ye}}),[d,$,t]),V=p.useMemo(()=>({total:A.length,live:A.filter(T=>T.isLiveTime).length,finished:A.filter(T=>T.isFinished).length,pending:A.filter(T=>!T.isLiveTime&&!T.isFinished).length}),[A]),Y=p.useMemo(()=>A.filter(T=>{const D=q.toLowerCase().trim(),W=!D||(T._searchString||"").includes(D);let R=!0;return I==="LIVE"?R=T.isLiveTime:I==="FINISHED"?R=T.isFinished:I==="UPCOMING"&&(R=!T.isLiveTime&&!T.isFinished),W&&R}),[A,q,I]);return{selectedDate:t,setSelectedDate:r,dateStr:n,matches:Y,allMatches:d,stats:V,loading:l,searchQuery:j,setSearchQuery:B,filterType:I,setFilterType:Q,selectedMatch:b,setSelectedMatch:g,isManualModalOpen:C,setIsManualModalOpen:z,editingMatch:F,setEditingMatch:L,saving:O,deleteConfirm:y,setDeleteConfirm:x,isDataPreviewOpen:k,setIsDataPreviewOpen:N,notificationEnabled:H,handlePrevDay:be,handleNextDay:xe,handleGoToday:je,handleSaveMatch:Ae,handleDeleteMatch:_,requestNotifyPermission:te}};function Ja({form:e,setForm:t,isMultiCdnMode:r,toggleCdnMode:n,cdnList:s,onAdd:o,onRemove:a,onUpdate:c,onAutoFix:l,statType:d,masterConfigs:f={channels:[],cdnOptions:[]},canEdit:h=!0}){const[b,g]=p.useState(!1),C=z=>e.cdn===z;return i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400",children:[i.jsx(ua,{size:14,className:"text-orange-500"}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Configuration"})]})}),i.jsxs("div",{className:"group bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm overflow-hidden flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x divide-zinc-100 dark:divide-zinc-800",children:[i.jsxs("div",{className:"flex-1 p-2 flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3 w-full",children:[i.jsx(Fr,{size:14,className:"text-zinc-400 shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none mb-0.5",children:"Start"}),i.jsx(_r,{value:e.rangeStart,onChange:z=>t({...e,rangeStart:z.target.value}),disabled:!h,showIcon:!1,className:"bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none w-[70px] h-6 disabled:opacity-50",placeholder:"00:00"})]}),i.jsx(fa,{size:12,className:"text-zinc-300 dark:text-zinc-700"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none mb-0.5",children:["End ",d==="START"?"(+15m)":"(+2h)"]}),i.jsx(_r,{value:e.rangeEnd,onChange:z=>t({...e,rangeEnd:z.target.value}),disabled:!h,showIcon:!1,className:"bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none w-[70px] h-6 disabled:opacity-50",placeholder:"00:00"})]})]})]}),l&&h&&i.jsx("button",{onClick:l,title:"Auto Calculate Time",className:"shrink-0 p-1.5 rounded-md text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",children:i.jsx(_s,{size:12})})]}),i.jsxs("div",{className:"flex-[1.5] p-2 flex items-center gap-3 relative",children:[i.jsx(Da,{size:14,className:"text-zinc-400 shrink-0"}),i.jsxs("div",{className:"w-full relative",children:[i.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase leading-none block mb-0.5",children:"Channel Source"}),i.jsx("input",{type:"text",value:e.liveChannel,onChange:z=>t({...e,liveChannel:z.target.value}),onFocus:()=>h&&g(!0),onBlur:()=>setTimeout(()=>g(!1),200),disabled:!h,placeholder:"Select Channel...",className:"w-full bg-transparent text-xs font-bold text-zinc-900 dark:text-zinc-100 p-0 border-none focus:ring-0 h-4 leading-none placeholder:text-zinc-300 dark:placeholder:text-zinc-700 disabled:opacity-50"}),b&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-3 max-h-40 overflow-y-auto bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-xl z-50 py-1",children:f.channels.length>0?f.channels.filter(z=>z.toLowerCase().includes((e.liveChannel||"").toLowerCase())).map(z=>i.jsxs("div",{onMouseDown:()=>t({...e,liveChannel:z}),className:"px-3 py-2 hover:bg-zinc-50 dark:hover:bg-zinc-800 cursor-pointer text-xs font-medium text-zinc-700 dark:text-zinc-300 flex items-center justify-between group/item",children:[z,e.liveChannel===z&&i.jsx(_t,{size:12,className:"text-orange-500"})]},z)):i.jsx("div",{className:"px-3 py-2 text-xs text-zinc-400 italic",children:"No channels found"})})]})]})]}),i.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-2 border border-zinc-200/50 dark:border-zinc-800/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("label",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-wide pl-1",children:"CDN Distribution"}),i.jsxs("div",{className:"flex bg-zinc-200 dark:bg-zinc-800 rounded-lg p-0.5",children:[i.jsx("button",{onClick:()=>h&&r&&n(),disabled:!h,className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all flex items-center gap-1.5 ${r?"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400":"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm"} ${!h&&"cursor-not-allowed opacity-50"}`,children:"Single"}),i.jsx("button",{onClick:()=>h&&!r&&n(),disabled:!h,className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all flex items-center gap-1.5 ${r?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400"} ${!h&&"cursor-not-allowed opacity-50"}`,children:"Multi-CDN"})]})]}),r?i.jsxs("div",{className:"space-y-1.5",children:[s.map(z=>i.jsxs("div",{className:"flex items-center gap-2 p-1.5 bg-white dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700 shadow-sm group",children:[i.jsx("div",{className:"w-[120px] shrink-0 border-r border-zinc-100 dark:border-zinc-700 pr-2",children:i.jsxs("select",{value:z.provider,onChange:F=>c(z.id,"provider",F.target.value),className:"w-full bg-transparent text-[11px] font-bold text-zinc-700 dark:text-zinc-200 outline-none cursor-pointer py-1",children:[i.jsx("option",{value:"Select Provider",children:"Select Provider"}),f.cdnOptions.filter(F=>F.id!=="Multi CDN").map(F=>i.jsx("option",{value:F.id,children:F.label},F.id))]})}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(pa,{size:10,className:"absolute left-0 top-1/2 -translate-y-1/2 text-zinc-300 pointer-events-none"}),i.jsx("input",{type:"text",placeholder:"Enter Config Key...",value:z.key||"",onChange:F=>c(z.id,"key",F.target.value),className:"w-full pl-4 bg-transparent text-[11px] font-medium text-zinc-600 dark:text-zinc-300 placeholder:text-zinc-300 outline-none border-none p-0 focus:ring-0"})]}),s.length>1&&i.jsx("button",{onClick:()=>a(z.id),className:"opacity-0 group-hover:opacity-100 p-1 text-zinc-300 hover:text-red-500 transition-all",children:i.jsx(Gt,{size:12})})]},z.id)),i.jsxs("button",{onClick:o,className:"w-full py-1.5 mt-2 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-700 hover:border-orange-300 dark:hover:border-orange-900/50 text-[10px] font-bold text-zinc-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/10 transition-all flex items-center justify-center gap-1",children:[i.jsx(Zr,{size:10})," Add Provider Layer"]})]}):i.jsx("div",{className:"flex flex-wrap gap-2",children:f.cdnOptions.filter(z=>z.id!=="Multi CDN").map(z=>i.jsxs("button",{onClick:()=>t({...e,cdn:z.id}),className:`group relative px-3 py-1.5 rounded-lg border text-[11px] font-bold transition-all flex items-center gap-2 ${C(z.id)?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-md transform scale-[1.02]":"bg-white dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600 hover:bg-white"}`,children:[i.jsx(ha,{size:12,className:C(z.id)?"opacity-100":"opacity-50 group-hover:opacity-100"}),z.label,C(z.id)&&i.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-orange-500 rounded-full border-2 border-white dark:border-zinc-900"})]},z.id))})]})]})}function Ka({isOpen:e,onClose:t,data:r,headers:n}){const[s,o]=p.useState(!1);if(!e)return null;const a=async()=>{if(r)try{const c=n.join("	"),l=r.map(f=>Object.values(f).join("	")).join(`
`),d=`${c}
${l}`;await navigator.clipboard.writeText(d),o(!0),setTimeout(()=>o(!1),2e3)}catch(c){console.error("Failed to copy:",c)}};return i.jsx(Or,{isOpen:e,onClose:t,size:"2xl",showCloseButton:!1,headerClassName:"px-6 py-4 border-b border-slate-100 dark:border-zinc-800 flex justify-between items-center bg-white dark:bg-zinc-900",header:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-xl",children:i.jsx(br,{size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Data Preview"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Review data before exporting"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${s?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"bg-slate-900 text-white hover:bg-slate-800 shadow-md"}`,children:[s?i.jsx(_t,{size:16}):i.jsx(ma,{size:16}),s?"Copied!":"Copy Data"]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 dark:hover:bg-zinc-800 rounded-lg text-slate-400 hover:text-rose-500 transition-colors",children:i.jsx(Mr,{size:20})})]})]}),bodyClassName:"p-0 overflow-auto custom-scrollbar bg-slate-50 dark:bg-[#0c0c0e]",footerClassName:"px-6 py-3 bg-slate-50 dark:bg-zinc-900 border-t border-slate-200 dark:border-zinc-800 text-xs text-slate-400 flex justify-between",footer:i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:["Total Rows: ",r?r.length:0]}),i.jsx("span",{children:"Tab-separated format ready for Excel/Sheets"})]}),children:!r||r.length===0?i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 gap-3 min-h-[300px]",children:[i.jsx(br,{size:48,className:"opacity-20"}),i.jsx("p",{children:"No data available to preview"})]}):i.jsxs("table",{className:"w-full text-left border-collapse",children:[i.jsx("thead",{className:"bg-slate-100 dark:bg-zinc-900/50 sticky top-0 z-10 shadow-sm",children:i.jsx("tr",{children:n.map((c,l)=>i.jsx("th",{className:"px-4 py-3 text-[11px] font-bold text-slate-500 uppercase tracking-wider whitespace-nowrap border-b border-slate-200 dark:border-zinc-800",children:c},l))})}),i.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-zinc-800/50 bg-white dark:bg-zinc-900",children:r.map((c,l)=>i.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-zinc-800/50 transition-colors",children:Object.values(c).map((d,f)=>i.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300 whitespace-nowrap border-r border-transparent last:border-0",children:d===null||d===""?i.jsx("span",{className:"text-slate-300",children:"-"}):d},f))},l))})]})})}const wn="schedules",ge=(e,t="")=>{if(!e&&e!==0)return{val:"",unit:t};if(typeof e=="object"&&e.val!==void 0)return e;const r=String(e).toLowerCase();let n=parseFloat(r),s=t;return r.endsWith("m")?s="m":r.endsWith("k")?s="k":r.endsWith("gb")?s="GB":r.endsWith("tb")?s="TB":r.endsWith("mb")&&(s="MB"),{val:isNaN(n)?"":n,unit:s}},It={ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:"",rangeStart:"",rangeEnd:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},cdn:"AWS",liveChannel:""},Ss=(e="")=>({id:Date.now(),provider:"Select Provider",key:e,reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""});function Qa(e,t,r){const[n,s]=p.useState(!0),[o,a]=p.useState(!1),[c,l]=p.useState("Unknown"),d=p.useRef(null),f=e?.id?`draft_stats_${e.id}_${t}`:null,h=p.useCallback(async()=>{if(!e?.id)return{form:It,cdnList:[],isMultiCdnMode:!1};a(!0),d.current=null;try{const C=We($e,wn,e.id),z=t==="START"?"start_stat":"end_stat",F=We($e,wn,e.id,"statistics",z),[L,O]=await Promise.all([pn(C),pn(F)]),Z=L.exists()?L.data():{};let y={...It},x=[],k=!1;if(O.exists()){const N=O.data();y={...y,...N,liveChannel:N.liveChannel||Z.liveChannel||Z.channel||e.channel||"",requestPeak:ge(N.requestPeak,""),muxViewerUniq:ge(N.muxViewerUniq,""),reqPeakMin:ge(N.reqPeakMin,""),reqTotal:ge(N.reqTotal,""),bwPeakGbps:ge(N.bwPeakGbps,""),bandwidth:ge(N.bandwidth,"")},N.cdnDetails?.length>0?(x=N.cdnDetails.map(j=>({...j,requestPeak:ge(j.requestPeak,""),reqPeakMin:ge(j.reqPeakMin,""),reqTotal:ge(j.reqTotal,""),bwPeakGbps:ge(j.bwPeakGbps,""),bandwidth:ge(j.bandwidth,""),muxViewerUniq:ge(j.muxViewerUniq,"")})),k=!0):k=N.cdn==="Multi CDN",l(N.reporter||"Unknown")}else{const N=Z.cdn||"AWS";k=N==="Multi CDN",y.cdn=N,y.liveChannel=Z.liveChannel||Z.channel||e.channel||"",k?x=[Ss(y.liveChannel)]:x=[],l("Unknown")}if(f){const N=localStorage.getItem(f);if(N)try{const j=JSON.parse(N);j.matchId===e.id&&(j.form&&(y={...y,...j.form}),j.cdnList&&(x=j.cdnList),j.isMultiCdnMode!==void 0&&(k=j.isMultiCdnMode))}catch(j){console.error("Draft load error",j)}}return d.current=e.id,{form:y,cdnList:x,isMultiCdnMode:k}}catch(C){return console.error("Fetch Error:",C),r(xr(C),"error"),{form:It,cdnList:[],isMultiCdnMode:!1}}finally{a(!1),s(!1)}},[e,t,r,f]),b=p.useCallback((C,z,F)=>{if(!f||d.current!==e?.id)return;const L={matchId:e.id,form:C,cdnList:z,isMultiCdnMode:F,timestamp:Date.now()};localStorage.setItem(f,JSON.stringify(L))},[f,e?.id]),g=p.useCallback(()=>{f&&localStorage.removeItem(f)},[f]);return{loading:n,fetching:o,reporterName:c,currentLoadedId:d,DRAFT_KEY:f,fetchMatchData:h,saveDraft:b,clearDraft:g,setLoading:s,setFetching:a,setReporterName:l}}function Ya(e,t,r,n){const[s,o]=p.useState(It),[a,c]=p.useState([]),[l,d]=p.useState(!1),f=p.useCallback(y=>{o(y.form),c(y.cdnList),d(y.isMultiCdnMode)},[]);p.useEffect(()=>{l&&s.liveChannel&&a.length>0&&(!a[0].key||a[0].key.trim()==="")&&c(y=>y.map((x,k)=>k===0?{...x,key:s.liveChannel}:x))},[s.liveChannel,l,a]);const h=p.useCallback(()=>{d(y=>{const x=!y;return x&&a.length===0&&c([Ss(s.liveChannel)]),o(k=>({...k,cdn:x?"Multi CDN":"AWS"})),x})},[a.length,s.liveChannel]),b=p.useCallback(()=>{c(y=>[...y,{id:Date.now(),provider:"Select Provider",key:"",reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""}])},[]),g=p.useCallback(y=>{a.length>1&&c(x=>x.filter(k=>k.id!==y))},[a.length]),C=p.useCallback((y,x,k)=>{c(N=>N.map(j=>j.id!==y?j:typeof j[x]=="object"&&j[x]!==null?{...j,[x]:{...j[x],...k}}:{...j,[x]:k}))},[]),z=p.useCallback(()=>{if(a.length<2)return;const y=a[0];c(x=>x.map((k,N)=>N===0?k:{...k,ecsSport:y.ecsSport,ecsEntitlement:y.ecsEntitlement,apiHuawei:y.apiHuawei})),r("Autofilled System Health values","success")},[a,r]),F=p.useCallback(y=>{c(x=>x.map(k=>k.id!==y?k:{...k,ecsSport:"",ecsEntitlement:"",apiHuawei:"",requestPeak:{val:"",unit:""},reqPeakMin:{val:"",unit:""},reqTotal:{val:"",unit:""},bwPeakGbps:{val:"",unit:""},bandwidth:{val:"",unit:""},muxViewerUniq:{val:"",unit:""},muxScore:""})),r("Cleared row data","default")},[r]),L=p.useCallback(y=>{if(!y||!Array.isArray(y)||y.length===0)return;const x=y.map(k=>({id:Date.now()+Math.random(),provider:k.provider||"Select Provider",key:k.key||"",ecsSport:k.ecsSport||"",ecsEntitlement:k.ecsEntitlement||"",apiHuawei:k.apiHuawei||"",requestPeak:ge(k.requestPeak),reqPeakMin:ge(k.reqPeakMin),reqTotal:ge(k.reqTotal),bwPeakGbps:ge(k.bwPeakGbps),bandwidth:ge(k.bandwidth),muxViewerUniq:ge(k.muxViewerUniq),muxScore:k.muxScore||""}));return x.length>0?(c(x),d(!0),r(`Imported ${x.length} rows successfully`,"success"),!0):!1},[r]),O=p.useCallback((y=!1)=>{let x=e?.startTime||e?.start_time||e?.time;if(!x){y&&r("Time not found","error");return}try{const N=(Q=>{let $=String(Q).toLowerCase().trim().replace(".",":"),J=$.replace(/[a-z]/g,"").trim(),[H,X]=J.split(":"),ee=parseInt(H,10),te=parseInt(X||"0",10);return isNaN(ee)?null:($.includes("pm")&&ee<12&&(ee+=12),{h:ee,m:te})})(x);if(!N)return;const j=(Q,$,J)=>{let H=Q*60+$+J;return H=(H%1440+1440)%1440,`${String(Math.floor(H/60)).padStart(2,"0")}:${String(H%60).padStart(2,"0")}`},B=j(N.h,N.m,0),I=j(N.h,N.m,t==="START"?15:120);n?.current===e?.id&&o(Q=>!y&&Q.rangeStart&&Q.rangeEnd?Q:{...Q,rangeStart:B,rangeEnd:I})}catch{}},[e,t,r,n]),Z=p.useCallback(()=>{const y=[];(!s.rangeStart||!s.rangeEnd)&&y.push("กรุณาระบุเวลา Start/End"),s.liveChannel||y.push("กรุณาระบุ Channel");const x=k=>{const N=typeof k=="object"?k?.val:k;return N===""||N===null||N===void 0};return l?(a.length===0&&y.push("At least one CDN provider is required"),a.forEach((k,N)=>{const j=`CDN #${N+1}`;(!k.provider||k.provider==="Select Provider")&&y.push(`${j}: Provider required`),x(k.ecsSport)&&y.push(`${j}: ECS Sport required`),x(k.muxScore)&&y.push(`${j}: Score required`)})):(x(s.ecsSport)&&y.push("ECS Sport required"),x(s.muxScore)&&y.push("Smoothness Score required")),y.length>0?(r(y[0],"error"),!1):!0},[s,a,l,r]);return{form:s,cdnList:a,isMultiCdnMode:l,setForm:o,setCdnList:c,setIsMultiCdnMode:d,initializeForm:f,toggleCdnMode:h,handleAddCdn:b,handleRemoveCdn:g,handleUpdateCdnRow:C,handleAutofillSystemHealth:z,handleClearCdnRow:F,handleApplyImport:L,handleAutoFixTime:O,validateForm:Z}}const Pt="schedules";function Xa(e,t){const[r,n]=p.useState("START"),[s,o]=p.useState(!1),[a,c]=p.useState(!1),[l,d]=p.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[f,h]=p.useState({show:!1,data:[]}),[b,g]=p.useState({isOpen:!1,data:[]}),C=hs(),{currentUser:z}=Dr(),{toast:F}=ps(),L=p.useCallback((D,W="success")=>{D&&F({description:D,variant:W})},[F]),{loading:O,fetching:Z,reporterName:y,currentLoadedId:x,DRAFT_KEY:k,fetchMatchData:N,saveDraft:j,clearDraft:B}=Qa(e,r,L),{form:I,cdnList:Q,isMultiCdnMode:$,setForm:J,initializeForm:H,toggleCdnMode:X,handleAddCdn:ee,handleRemoveCdn:te,handleUpdateCdnRow:be,handleAutofillSystemHealth:xe,handleClearCdnRow:je,handleApplyImport:Ae,handleAutoFixTime:_,validateForm:q}=Ya(e,r,L,x);p.useEffect(()=>{(async()=>{const W=await N();H(W)})()},[N,H]),p.useEffect(()=>{!O&&!Z&&k&&x.current===e?.id&&j(I,Q,$)},[I,Q,$,k,O,Z,e?.id,j]),p.useEffect(()=>{!Z&&!O&&e&&_()},[Z,O,e,r,_]);const A=p.useCallback(D=>{Ae(D)&&g({isOpen:!1,data:[]})},[Ae]),V=p.useCallback(async D=>{if(e?.id&&q()){o(!0);try{const W=r==="START"?"start_stat":"end_stat",R={...I,cdn:$?"Multi CDN":I.cdn,cdnDetails:$?Q:null,updatedAt:lr(),statType:r,reporter:typeof z=="object"?z?.name:z||"Unknown"};await Ro(We($e,Pt,e.id,"statistics",W),R),await gr(We($e,Pt,e.id),{[r==="START"?"hasStartStat":"hasEndStat"]:!0,[r==="START"?"startStats":"endStats"]:R,liveChannel:I.liveChannel,channel:I.liveChannel,updatedAt:lr()}),B(),C.invalidateQueries({queryKey:["matches"]}),L("บันทึกข้อมูลเรียบร้อยแล้ว","success"),c(!0),setTimeout(()=>c(!1),2e3),D&&D()}catch(W){L(xr(W),"error")}finally{o(!1)}}},[e?.id,q,r,I,$,Q,z,B,C,L]),Y=p.useCallback(()=>{const D=R=>{if(!R)return 0;if(typeof R=="object"&&R.val!==void 0){const ye=parseFloat(R.val||0),ae=(R.unit||"").toLowerCase();return ae==="m"?ye*1e6:ae==="b"?ye*1e9:ae==="k"?ye*1e3:ye}return ta(R)},W=R=>{const ye=R?.val||0,ae=R?.unit||"";return ra(ye,ae===""?"GB":ae)?.toLocaleString("en-US",{maximumFractionDigits:4})};try{const R={no:"1",league:e?.league||"-",title:e?.title||e?.match||"-",time:e?.startTime||"-",ecsSport:dr(I.ecsSport,2),ecsEnt:dr(I.ecsEntitlement,2),api:dr(I.apiHuawei,2),reqPeak:Fe(D(I.requestPeak)),viewers:Fe(D(I.muxViewerUniq)),score:I.muxScore,start:I.rangeStart||"-",end:I.rangeEnd||"-"},ye=$&&Q.length>0?Q.map(ae=>[R.no,R.league,R.title,R.time,R.ecsSport,R.ecsEnt,R.api,Fe(D(ae.requestPeak)),ae.provider||"-",ae.key||"-",Fe(D(ae.reqPeakMin)),Fe(D(ae.reqTotal)),W(ae.bwPeakGbps),W(ae.bandwidth),Fe(D(ae.muxViewerUniq)),R.score,R.start,R.end]):[[R.no,R.league,R.title,R.time,R.ecsSport,R.ecsEnt,R.api,Fe(D(I.requestPeak)),I.cdn||"-",I.liveChannel||"-",Fe(D(I.reqPeakMin)),Fe(D(I.reqTotal)),W(I.bwPeakGbps),W(I.bandwidth),R.viewers,R.score,R.start,R.end]];h({show:!0,data:ye})}catch{L("Preview Error","error")}},[e,I,$,Q,L]),T=p.useCallback(()=>{d({isOpen:!0,title:`Reset ${r}?`,message:"Sure to delete?",isDanger:!0,onConfirm:async()=>{d(D=>({...D,isOpen:!1})),o(!0);try{const D=r==="START"?"start_stat":"end_stat";await fs(We($e,Pt,e.id,"statistics",D)),await gr(We($e,Pt,e.id),{[r==="START"?"hasStartStat":"hasEndStat"]:!1,[r==="START"?"startStats":"endStats"]:null,updatedAt:lr()}),B(),C.invalidateQueries({queryKey:["matches"]}),L("Reset Success","success"),setTimeout(t,1e3)}catch(D){L(xr(D),"error")}finally{o(!1)}}})},[r,e?.id,B,C,L,t]);return{state:{statType:r,loading:O,fetching:Z,saving:s,isSuccess:a,form:I,cdnList:Q,isMultiCdnMode:$,reporterName:y,confirmModal:l,preview:f,importModal:b},actions:{setStatType:n,setForm:J,toggleCdnMode:X,handleAddCdn:ee,handleRemoveCdn:te,handleUpdateCdnRow:be,handleAutoFixTime:()=>_(!0),handleSmartSave:V,requestDelete:T,handlePreview:Y,closeConfirm:()=>d(D=>({...D,isOpen:!1})),closePreview:()=>h(D=>({...D,show:!1})),handleAutofillSystemHealth:xe,handleClearCdnRow:je,openImportModal:D=>g({isOpen:!0,data:D}),closeImportModal:()=>g({isOpen:!1,data:[]}),handleApplyImport:A}}}function De({label:e,value:t,unit:r,onChange:n,onUnitChange:s,placeholder:o,color:a="blue",type:c="text",tooltip:l,compact:d=!1,max:f,readOnly:h=!1,thresholds:b,thresholdType:g="lower-is-bad"}){let C=a,z=null;if(b&&t!==""&&t!==null&&t!==void 0){const x=parseFloat(t);isNaN(x)||(g==="higher-is-bad"?x>=b.critical?(C="red",z=Et):x>=b.warning?(C="orange",z=Et):(C="emerald",z=zr):x<=b.critical?(C="red",z=Et):x<=b.warning?(C="orange",z=Et):(C="emerald",z=zr))}const F=x=>{if(!h){if(f!==void 0&&x!==""){const k=parseFloat(x);if(!isNaN(k)&&k>f){n(f.toString());return}if(k<0){n("0");return}}n(x)}},L={blue:{bg:"bg-blue-50/50 dark:bg-blue-900/10",border:"border-blue-100/50 dark:border-blue-900/30",text:"text-blue-600 dark:text-blue-400",accent:"bg-blue-500",glow:"shadow-blue-500/10"},emerald:{bg:"bg-emerald-50/50 dark:bg-emerald-900/10",border:"border-emerald-100/50 dark:border-emerald-900/30",text:"text-emerald-600 dark:text-emerald-400",accent:"bg-emerald-500",glow:"shadow-emerald-500/10"},orange:{bg:"bg-orange-50/50 dark:bg-orange-900/10",border:"border-orange-100/50 dark:border-orange-900/30",text:"text-orange-600 dark:text-orange-400",accent:"bg-orange-500",glow:"shadow-orange-500/10"},purple:{bg:"bg-purple-50/50 dark:bg-purple-900/10",border:"border-purple-100/50 dark:border-purple-900/30",text:"text-purple-600 dark:text-purple-400",accent:"bg-purple-500",glow:"shadow-purple-500/10"},violet:{bg:"bg-violet-50/50 dark:bg-violet-900/10",border:"border-violet-100/50 dark:border-violet-900/30",text:"text-violet-600 dark:text-violet-400",accent:"bg-violet-500",glow:"shadow-violet-500/10"},pink:{bg:"bg-pink-50/50 dark:bg-pink-900/10",border:"border-pink-100/50 dark:border-pink-900/30",text:"text-pink-600 dark:text-pink-400",accent:"bg-pink-500",glow:"shadow-pink-500/10"},cyan:{bg:"bg-cyan-50/50 dark:bg-cyan-900/10",border:"border-cyan-100/50 dark:border-cyan-900/30",text:"text-cyan-600 dark:text-cyan-400",accent:"bg-cyan-500",glow:"shadow-cyan-500/10"},red:{bg:"bg-red-50/50 dark:bg-red-900/10",border:"border-red-100/50 dark:border-red-900/30",text:"text-red-600 dark:text-red-400",accent:"bg-red-500",glow:"shadow-red-500/10"}},O=L[C]||L.blue,y=(()=>{if(!t||isNaN(t))return null;const x=parseFloat(t);if(s){if(!r||r==="raw")return x.toLocaleString();let k=x,N="";switch(r){case"TB":k=x*1024,N="GB";break;case"MB":k=x/1024,N="GB";break;case"KB":k=x/(1024*1024),N="GB";break;case"GB":k=x,N="GB";break;case"k":k=x*1e3,N="";break;case"m":k=x*1e6,N="";break;default:k=x}return N?`${k.toLocaleString(void 0,{maximumFractionDigits:2})} ${N}`:k.toLocaleString()}return null})();return i.jsxs("div",{className:le("relative group rounded-2xl border transition-all duration-300",O.border,O.bg,d?"p-3":"p-4","hover:ring-1 hover:ring-current/10 shadow-sm",O.glow,h&&"opacity-80 grayscale-[0.3]"),children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("label",{className:le("font-black uppercase tracking-[0.15em] leading-none truncate pr-2 flex items-center gap-1.5",d?"text-[8px]":"text-[9px]","text-zinc-500 dark:text-zinc-400"),children:[z&&i.jsx(z,{size:10,className:O.text}),e]}),l&&i.jsx(Fo,{size:10,className:"text-zinc-300 cursor-help"})]}),i.jsxs("div",{className:le("flex items-center rounded-xl overflow-hidden bg-white dark:bg-zinc-950 border border-zinc-100 dark:border-zinc-800/50 transition-all",!h&&"focus-within:ring-2 focus-within:ring-offset-1 dark:focus-within:ring-offset-zinc-950",!h&&O.text.replace("text-","focus-within:ring-"),d?"h-10":"h-12"),children:[i.jsx("input",{type:c==="percentage"?"number":c,step:"any",value:t,onChange:x=>F(x.target.value),readOnly:h,placeholder:o||"0",className:le("flex-1 bg-transparent border-none outline-none px-3 font-mono font-black tabular-nums transition-colors min-w-0","placeholder:text-zinc-300 dark:placeholder:text-zinc-800",d?"text-sm":"text-base","dark:text-white",h&&"cursor-not-allowed text-zinc-500",b&&C!=="emerald"&&O.text)}),s?i.jsxs("select",{value:r||"",onChange:x=>!h&&s(x.target.value),disabled:h,className:"h-full w-[60px] shrink-0 bg-zinc-50 dark:bg-zinc-900 border-l border-zinc-100 dark:border-zinc-800 px-1 text-[9px] font-black uppercase text-zinc-500 dark:text-zinc-400 outline-none cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors text-center disabled:cursor-not-allowed",children:[i.jsx("option",{value:"",children:"Raw"}),i.jsxs("optgroup",{label:"Count",className:"dark:bg-zinc-900",children:[i.jsx("option",{value:"k",children:"k"}),i.jsx("option",{value:"m",children:"m"})]}),i.jsxs("optgroup",{label:"Data",className:"dark:bg-zinc-900",children:[i.jsx("option",{value:"GB",children:"GB"}),i.jsx("option",{value:"TB",children:"TB"}),i.jsx("option",{value:"MB",children:"MB"}),i.jsx("option",{value:"KB",children:"KB"})]})]}):c==="percentage"?i.jsx("div",{className:"h-full px-3 flex items-center bg-zinc-50 dark:bg-zinc-900 border-l border-zinc-100 dark:border-zinc-800 shrink-0",children:i.jsx("span",{className:"text-[10px] font-black text-zinc-400",children:"%"})}):null]}),y&&i.jsxs("div",{className:"mt-1.5 flex items-center justify-end gap-1 px-1",children:[i.jsx("span",{className:"text-[7px] font-black text-zinc-300 uppercase",children:"Val"}),i.jsx("span",{className:le("text-[9px] font-black tracking-tight",O.text),children:y})]})]})}const Vr=({item:e,index:t,icon:r,onRemove:n,onClear:s,isRemovable:o})=>{const a=r;return i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-zinc-100 dark:border-zinc-800/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-xl bg-zinc-900 dark:bg-zinc-100 dark:text-black text-white flex items-center justify-center shadow-lg",children:i.jsx(a,{size:14})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] font-black text-zinc-900 dark:text-white uppercase tracking-[0.2em]",children:e.provider||`Provider ${t+1}`}),i.jsx("p",{className:"text-[9px] text-zinc-400 font-bold uppercase tracking-widest",children:e.key||"Universal Node"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[s&&i.jsx("button",{onClick:s,className:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",title:"Clear Data",children:i.jsx(Oa,{size:14})}),o&&i.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center text-zinc-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-all",children:i.jsx(Gt,{size:16})})]})]})},Lr=({onClick:e})=>i.jsxs("button",{onClick:e,className:"w-full py-4 border-2 border-dashed border-zinc-200 dark:border-zinc-800/50 rounded-2xl flex justify-center items-center gap-2 text-zinc-400 font-black text-[10px] uppercase tracking-[0.2em] hover:text-blue-500 hover:border-blue-400 hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-all active:scale-[0.98]",children:[i.jsx(Zr,{size:14})," Add Provider Layer"]}),ct=(e,t)=>({...e,val:t}),lt=(e,t)=>({...e,unit:t}),Cs="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",ei=({data:e,onChange:t,isMulti:r,cdnList:n,onUpdateCdn:s,onRemoveCdn:o,onAddCdn:a,onAutofill:c,onClearRow:l,canEdit:d=!0})=>{const f=(h,b)=>i.jsxs("div",{className:Cs,children:[i.jsx(De,{label:"ECS Sport",value:h.ecsSport,onChange:g=>b("ecsSport",g),type:"percentage",color:"blue",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!d}),i.jsx(De,{label:"ECS Entitlement",value:h.ecsEntitlement,onChange:g=>b("ecsEntitlement",g),type:"percentage",color:"purple",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!d}),i.jsx(De,{label:"API Huawei",value:h.apiHuawei,onChange:g=>b("apiHuawei",g),type:"percentage",color:"orange",max:100,thresholdType:"higher-is-bad",thresholds:{warning:80,critical:95},readOnly:!d}),i.jsx(De,{label:"WWW & API REQ",value:h.requestPeak?.val,unit:h.requestPeak?.unit,onChange:g=>b("requestPeak",ct(h.requestPeak,g)),onUnitChange:g=>b("requestPeak",lt(h.requestPeak,g)),type:"number",color:"emerald",compact:!0,readOnly:!d})]});return r?i.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.length>1&&d&&i.jsx("div",{className:"flex justify-end mb-2",children:i.jsxs("button",{onClick:c,className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:[i.jsx(_s,{size:12})," Autofill System Health"]})}),n.map((h,b)=>i.jsxs("div",{className:"group",children:[i.jsx(Vr,{item:h,index:b,icon:xs,onRemove:d?()=>o(h.id):null,onClear:d?()=>l(h.id):null,isRemovable:d&&n.length>1}),f(h,(g,C)=>s(h.id,g,C))]},h.id)),d&&i.jsx(Lr,{onClick:a})]}):i.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:f(e,t)})},ti=({data:e,onChange:t,isMulti:r,cdnList:n,onUpdateCdn:s,onRemoveCdn:o,onAddCdn:a,onClearRow:c,canEdit:l=!0})=>{const d=(f,h)=>i.jsxs("div",{className:Cs,children:[i.jsx(De,{label:"Req Peak",value:f.reqPeakMin?.val,unit:f.reqPeakMin?.unit,onChange:b=>h("reqPeakMin",ct(f.reqPeakMin,b)),onUnitChange:b=>h("reqPeakMin",lt(f.reqPeakMin,b)),type:"number",color:"blue",compact:!0,readOnly:!l}),i.jsx(De,{label:"Req Total",value:f.reqTotal?.val,unit:f.reqTotal?.unit,onChange:b=>h("reqTotal",ct(f.reqTotal,b)),onUnitChange:b=>h("reqTotal",lt(f.reqTotal,b)),type:"number",color:"cyan",compact:!0,readOnly:!l}),i.jsx(De,{label:"BW Peak",value:f.bwPeakGbps?.val,unit:f.bwPeakGbps?.unit,onChange:b=>h("bwPeakGbps",ct(f.bwPeakGbps,b)),onUnitChange:b=>h("bwPeakGbps",lt(f.bwPeakGbps,b)),type:"number",color:"red",compact:!0,readOnly:!l}),i.jsx(De,{label:"BW Total",value:f.bandwidth?.val,unit:f.bandwidth?.unit,onChange:b=>h("bandwidth",ct(f.bandwidth,b)),onUnitChange:b=>h("bandwidth",lt(f.bandwidth,b)),type:"number",color:"orange",compact:!0,readOnly:!l})]});return r?i.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.map((f,h)=>i.jsxs("div",{className:"group",children:[i.jsx(Vr,{item:f,index:h,icon:js,onRemove:l?()=>o(f.id):null,onClear:l?()=>c(f.id):null,isRemovable:l&&n.length>1}),d(f,(b,g)=>s(f.id,b,g))]},f.id)),l&&i.jsx(Lr,{onClick:a})]}):i.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:d(e,t)})},ri=({data:e,onChange:t,isMulti:r,cdnList:n,onUpdateCdn:s,onRemoveCdn:o,onAddCdn:a,onClearRow:c,canEdit:l=!0})=>{const d=(f,h)=>i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(De,{label:"Live Viewers",value:f.muxViewerUniq?.val,unit:f.muxViewerUniq?.unit,onChange:b=>h("muxViewerUniq",ct(f.muxViewerUniq,b)),onUnitChange:b=>h("muxViewerUniq",lt(f.muxViewerUniq,b)),type:"number",color:"purple",compact:!0,readOnly:!l}),i.jsx(De,{label:"Smoothness Score",value:f.muxScore,onChange:b=>h("muxScore",b),type:"number",color:"pink",max:100,thresholdType:"lower-is-bad",thresholds:{warning:80,critical:60},readOnly:!l})]});return r?i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.map((f,h)=>i.jsxs("div",{className:"group bg-zinc-50 dark:bg-zinc-900/40 p-5 rounded-3xl border border-zinc-100 dark:border-zinc-800/50",children:[i.jsx(Vr,{item:f,index:h,icon:ms,onRemove:l?()=>o(f.id):null,onClear:l?()=>c(f.id):null,isRemovable:l&&n.length>1}),d(f,(b,g)=>s(f.id,b,g))]},f.id)),l&&i.jsx(Lr,{onClick:a})]}):i.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:d(e,t)})},ni=()=>i.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-6 animate-pulse p-6",children:[i.jsx("div",{className:"h-40 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"h-64 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"}),i.jsx("div",{className:"h-64 rounded-[2rem] bg-zinc-100 dark:bg-zinc-800/50"})]})]}),$t=({icon:e,title:t,iconColor:r,children:n,className:s=""})=>i.jsxs("div",{className:`bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800/50 rounded-[2rem] shadow-sm overflow-hidden transition-all hover:shadow-md ${s}`,children:[(e||t)&&i.jsx("div",{className:"px-6 py-5 border-b border-zinc-50 dark:border-zinc-800/50 flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[e&&i.jsx("div",{className:`p-2 rounded-xl bg-zinc-50 dark:bg-zinc-800 ${r}`,children:i.jsx(e,{size:18})}),i.jsx("h3",{className:"text-sm font-black text-zinc-900 dark:text-zinc-100 uppercase tracking-widest",children:t})]})}),i.jsx("div",{className:"p-6",children:n})]});function si({isOpen:e,onClose:t,matchData:r,canEdit:n}){const{state:s,actions:o}=Xa(r,t),[a,c]=p.useState({channels:[],cdnOptions:[]});if(p.useEffect(()=>e?vs.subscribeConfigs(c):void 0,[e]),!e)return null;const l=r?.isLiveTime||r?.hasStartStat&&!r?.hasEndStat;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed z-[200]",children:i.jsx(gs,{isOpen:s.confirmModal.isOpen,onClose:o.closeConfirm,...s.confirmModal})}),i.jsx(Ka,{isOpen:s.preview.show,onClose:o.closePreview,data:s.preview.data,headers:["#","League","Match","Time","ECS Sport","ECS Entitlement","API Huawei","WWW & API Request","CDN","Key","Req Peak","Req Total","BW Peak","BW Total","Viewers","Score","Start","End"]}),i.jsx(Or,{isOpen:e,onClose:t,isLoading:s.loading,size:"3xl",showCloseButton:!1,headerClassName:"px-6 py-5 bg-white dark:bg-zinc-900/50 border-b border-zinc-50 dark:border-zinc-800/50 backdrop-blur-md",header:i.jsxs("div",{className:"flex items-center justify-between gap-4 w-full",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1.5",children:[l?i.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-rose-500 text-white shadow-lg shadow-rose-500/30",children:[i.jsxs("span",{className:"relative flex h-2 w-2",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]})," LIVE"]}):i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest bg-zinc-100 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-700",children:[i.jsx(Fr,{size:12})," ",r?.startTime||"--:--"]}),i.jsxs("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${s.statType==="START"?"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800/50":"bg-purple-50 text-purple-600 border-purple-100 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800/50"}`,children:[s.statType," Phase"]})]}),i.jsx("h2",{className:"text-xl font-black text-zinc-900 dark:text-white tracking-tight truncate",children:r?.teamA&&r?.teamB?i.jsxs("span",{className:"flex items-center gap-2",children:[r.teamA," ",i.jsx("span",{className:"text-zinc-300 dark:text-zinc-800 italic font-medium",children:"vs"})," ",r.teamB]}):r?.title||"Match Operational Record"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[n&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:o.toggleCdnMode,className:"hidden md:flex h-11 px-5 items-center gap-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700 border border-zinc-100 dark:border-zinc-700 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-600 dark:text-zinc-300 transition-all active:scale-95",children:[i.jsx(ga,{size:14,className:s.isMultiCdnMode?"text-blue-500":"text-zinc-400"}),i.jsx("span",{children:s.isMultiCdnMode?"Multi-CDN":"Single"})]}),i.jsx("button",{onClick:()=>o.setStatType(s.statType==="START"?"END":"START"),className:"h-11 w-11 flex items-center justify-center rounded-xl bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700 text-zinc-500 border border-zinc-100 dark:border-zinc-700 transition-all active:scale-95",title:"Switch Phase",children:i.jsx(Ea,{size:18})})]}),i.jsx("div",{className:"w-px h-6 bg-zinc-200 dark:bg-zinc-800 mx-1"}),i.jsx("button",{onClick:t,className:"h-11 w-11 flex items-center justify-center rounded-xl bg-zinc-900 dark:bg-white text-white dark:text-black shadow-lg hover:scale-105 active:scale-90 transition-all",children:i.jsx(Mr,{size:20,strokeWidth:2.5})})]})]}),footerClassName:"p-6 bg-white dark:bg-[#0a0a0a] border-t border-zinc-100 dark:border-zinc-900 transition-all",footer:i.jsxs("div",{className:"flex justify-between items-center w-full gap-6",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:o.requestDelete,disabled:s.loading,className:"group flex items-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all disabled:opacity-30",children:[i.jsx(Gt,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"Flush Data"})]}),i.jsxs("button",{onClick:o.handlePreview,disabled:s.loading,className:"group flex items-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all disabled:opacity-30",children:[i.jsx(br,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[i.jsx("button",{onClick:t,disabled:s.loading,className:"px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:"Dismiss"}),n&&i.jsxs("button",{onClick:()=>o.handleSmartSave(),disabled:s.loading||s.isSuccess,className:`flex-1 sm:flex-none h-14 px-10 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-3 shadow-2xl transition-all active:scale-95 ${s.isSuccess?"bg-emerald-500 text-white shadow-emerald-500/30":"bg-zinc-900 dark:bg-white text-white dark:text-black shadow-zinc-900/20 dark:shadow-white/10"} ${s.loading?"opacity-50 cursor-not-allowed cursor-wait":""}`,children:[s.loading?i.jsx(bs,{size:18,className:"animate-spin"}):s.isSuccess?i.jsx(_t,{size:18,strokeWidth:3}):i.jsx(ys,{size:18}),i.jsx("span",{children:s.loading?"Executing...":s.isSuccess?"Finalized":"Commit Changes"})]})]})]}),bodyClassName:"p-6 bg-[#fafafa] dark:bg-[#050505] space-y-8",children:s.fetching?i.jsx(ni,{}):i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsx($t,{className:"shadow-sm border-none bg-zinc-50 dark:bg-zinc-900/30",children:i.jsx(Ja,{form:s.form,setForm:o.setForm,isMultiCdnMode:s.isMultiCdnMode,toggleCdnMode:o.toggleCdnMode,cdnList:s.cdnList,onAdd:o.handleAddCdn,onRemove:o.handleRemoveCdn,onUpdate:o.handleUpdateCdnRow,onAutoFix:o.handleAutoFixTime,statType:s.statType,masterConfigs:a,canEdit:n})}),i.jsxs("div",{className:"flex flex-col gap-8",children:[i.jsx($t,{title:"System Health",icon:xs,iconColor:"text-blue-500 bg-blue-50 dark:bg-blue-900/30",children:i.jsx(ei,{data:s.form,onChange:(d,f)=>o.setForm({...s.form,[d]:f}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:o.handleUpdateCdnRow,onAddCdn:o.handleAddCdn,onRemoveCdn:o.handleRemoveCdn,canEdit:n})}),i.jsx($t,{title:"Traffic & Bandwidth",icon:js,iconColor:"text-rose-500 bg-rose-50 dark:bg-rose-900/30",children:i.jsx(ti,{data:s.form,onChange:(d,f)=>o.setForm({...s.form,[d]:f}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:o.handleUpdateCdnRow,onAddCdn:o.handleAddCdn,onRemoveCdn:o.handleRemoveCdn,canEdit:n})}),i.jsx($t,{title:"Audience & Engagement",icon:ms,iconColor:"text-violet-500 bg-violet-50 dark:bg-violet-900/30",children:i.jsx(ri,{data:s.form,onChange:(d,f)=>o.setForm({...s.form,[d]:f}),isMulti:s.isMultiCdnMode,cdnList:s.cdnList,onUpdateCdn:o.handleUpdateCdnRow,onAddCdn:o.handleAddCdn,onRemoveCdn:o.handleRemoveCdn,canEdit:n})})]})]})})]})}var Ct=e=>e.type==="checkbox",Qe=e=>e instanceof Date,Se=e=>e==null;const Ns=e=>typeof e=="object";var he=e=>!Se(e)&&!Array.isArray(e)&&Ns(e)&&!Qe(e),Es=e=>he(e)&&e.target?Ct(e.target)?e.target.checked:e.target.value:e,oi=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,As=(e,t)=>e.has(oi(t)),ai=e=>{const t=e.constructor&&e.constructor.prototype;return he(t)&&t.hasOwnProperty("isPrototypeOf")},Ur=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ue(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Ur&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(he(e)&&ai(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=ue(e[s]));return n}var Ht=e=>/^\w*$/.test(e),ie=e=>e===void 0,qr=e=>Array.isArray(e)?e.filter(Boolean):[],Br=e=>qr(e.replace(/["|']|\]/g,"").split(/\.|\[/)),P=(e,t,r)=>{if(!t||!he(e))return r;const n=(Ht(t)?[t]:Br(t)).reduce((s,o)=>Se(s)?s:s[o],e);return ie(n)||n===e?ie(e[t])?r:e[t]:n},Ce=e=>typeof e=="boolean",_e=e=>typeof e=="function",se=(e,t,r)=>{let n=-1;const s=Ht(t)?[t]:Br(t),o=s.length,a=o-1;for(;++n<o;){const c=s[n];let l=r;if(n!==a){const d=e[c];l=he(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}};const Ft={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Te={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ze={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ps=K.createContext(null);Ps.displayName="HookFormContext";const Wr=()=>K.useContext(Ps);var $s=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const a=o;return t._proxyFormState[a]!==Te.all&&(t._proxyFormState[a]=!n||Te.all),r&&(r[a]=!0),e[a]}});return s};const Gr=typeof window<"u"?K.useLayoutEffect:K.useEffect;function ii(e){const t=Wr(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[a,c]=K.useState(r._formState),l=K.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Gr(()=>r._subscribe({name:s,formState:l.current,exact:o,callback:d=>{!n&&c({...r._formState,...d})}}),[s,n,o]),K.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),K.useMemo(()=>$s(a,r,l.current,!1),[a,r])}var Ne=e=>typeof e=="string",jr=(e,t,r,n,s)=>Ne(e)?(n&&t.watch.add(e),P(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),P(r,o))):(n&&(t.watchAll=!0),r),Sr=e=>Se(e)||!Ns(e);function Oe(e,t,r=new WeakSet){if(Sr(e)||Sr(t))return Object.is(e,t);if(Qe(e)&&Qe(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const a=e[o];if(!s.includes(o))return!1;if(o!=="ref"){const c=t[o];if(Qe(a)&&Qe(c)||he(a)&&he(c)||Array.isArray(a)&&Array.isArray(c)?!Oe(a,c,r):!Object.is(a,c))return!1}}return!0}function ci(e){const t=Wr(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:a,compute:c}=e||{},l=K.useRef(s),d=K.useRef(c),f=K.useRef(void 0),h=K.useRef(r),b=K.useRef(n);d.current=c;const[g,C]=K.useState(()=>{const y=r._getWatch(n,l.current);return d.current?d.current(y):y}),z=K.useCallback(y=>{const x=jr(n,r._names,y||r._formValues,!1,l.current);return d.current?d.current(x):x},[r._formValues,r._names,n]),F=K.useCallback(y=>{if(!o){const x=jr(n,r._names,y||r._formValues,!1,l.current);if(d.current){const k=d.current(x);Oe(k,f.current)||(C(k),f.current=k)}else C(x)}},[r._formValues,r._names,o,n]);Gr(()=>((h.current!==r||!Oe(b.current,n))&&(h.current=r,b.current=n,F()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:y=>{F(y.values)}})),[r,a,n,F]),K.useEffect(()=>r._removeUnmounted());const L=h.current!==r,O=b.current,Z=K.useMemo(()=>{if(o)return null;const y=!L&&!Oe(O,n);return L||y?z():null},[o,L,n,O,z]);return Z!==null?Z:g}function li(e){const t=Wr(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o,defaultValue:a,exact:c=!0}=e,l=As(s._names.array,r),d=K.useMemo(()=>P(s._formValues,r,P(s._defaultValues,r,a)),[s,r,a]),f=ci({control:s,name:r,defaultValue:d,exact:c}),h=ii({control:s,name:r,exact:c}),b=K.useRef(e),g=K.useRef(void 0),C=K.useRef(s.register(r,{...e.rules,value:f,...Ce(e.disabled)?{disabled:e.disabled}:{}}));b.current=e;const z=K.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!P(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!P(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!P(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!P(h.validatingFields,r)},error:{enumerable:!0,get:()=>P(h.errors,r)}}),[h,r]),F=K.useCallback(y=>C.current.onChange({target:{value:Es(y),name:r},type:Ft.CHANGE}),[r]),L=K.useCallback(()=>C.current.onBlur({target:{value:P(s._formValues,r),name:r},type:Ft.BLUR}),[r,s._formValues]),O=K.useCallback(y=>{const x=P(s._fields,r);x&&x._f&&y&&(x._f.ref={focus:()=>_e(y.focus)&&y.focus(),select:()=>_e(y.select)&&y.select(),setCustomValidity:k=>_e(y.setCustomValidity)&&y.setCustomValidity(k),reportValidity:()=>_e(y.reportValidity)&&y.reportValidity()})},[s._fields,r]),Z=K.useMemo(()=>({name:r,value:f,...Ce(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:F,onBlur:L,ref:O}),[r,n,h.disabled,F,L,O,f]);return K.useEffect(()=>{const y=s._options.shouldUnregister||o,x=g.current;x&&x!==r&&!l&&s.unregister(x),s.register(r,{...b.current.rules,...Ce(b.current.disabled)?{disabled:b.current.disabled}:{}});const k=(N,j)=>{const B=P(s._fields,N);B&&B._f&&(B._f.mount=j)};if(k(r,!0),y){const N=ue(P(s._options.defaultValues,r,b.current.defaultValue));se(s._defaultValues,r,N),ie(P(s._formValues,r))&&se(s._formValues,r,N)}return!l&&s.register(r),g.current=r,()=>{(l?y&&!s._state.action:y)?s.unregister(r):k(r,!1)}},[r,s,l,o]),K.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),K.useMemo(()=>({field:Z,formState:h,fieldState:z}),[Z,h,z])}const bt=e=>e.render(li(e));var Hr=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},wt=e=>Array.isArray(e)?e:[e],zn=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}};function Ts(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],o=t[n];if(s&&he(s)&&o){const a=Ts(s,o);he(a)&&(r[n]=a)}else e[n]&&(r[n]=o)}return r}var ze=e=>he(e)&&!Object.keys(e).length,Jr=e=>e.type==="file",Zt=e=>{if(!Ur)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Os=e=>e.type==="select-multiple",Kr=e=>e.type==="radio",di=e=>Kr(e)||Ct(e),fr=e=>Zt(e)&&e.isConnected;function ui(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ie(e)?n++:e[t[n++]];return e}function fi(e){for(const t in e)if(e.hasOwnProperty(t)&&!ie(e[t]))return!1;return!0}function fe(e,t){const r=Array.isArray(t)?t:Ht(t)?[t]:Br(t),n=r.length===1?e:ui(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(he(n)&&ze(n)||Array.isArray(n)&&fi(n))&&fe(e,r.slice(0,-1)),e}var hi=e=>{for(const t in e)if(_e(e[t]))return!0;return!1};function Ms(e){return Array.isArray(e)||he(e)&&!hi(e)}function Cr(e,t={}){for(const r in e){const n=e[r];Ms(n)?(t[r]=Array.isArray(n)?[]:{},Cr(n,t[r])):ie(n)||(t[r]=!0)}return t}function ot(e,t,r){r||(r=Cr(t));for(const n in e){const s=e[n];if(Ms(s))ie(t)||Sr(r[n])?r[n]=Cr(s,Array.isArray(s)?[]:{}):ot(s,Se(t)?{}:t[n],r[n]);else{const o=t[n];r[n]=!Oe(s,o)}}return r}const _n={value:!1,isValid:!1},jn={value:!0,isValid:!0};var Ds=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ie(e[0].attributes.value)?ie(e[0].value)||e[0].value===""?jn:{value:e[0].value,isValid:!0}:jn:_n}return _n},Is=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ie(e)?e:t?e===""?NaN:e&&+e:r&&Ne(e)?new Date(e):n?n(e):e;const Sn={isValid:!1,value:null};var Rs=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Sn):Sn;function Cn(e){const t=e.ref;return Jr(t)?t.files:Kr(t)?Rs(e.refs).value:Os(t)?[...t.selectedOptions].map(({value:r})=>r):Ct(t)?Ds(e.refs).value:Is(ie(t.value)?e.ref.value:t.value,e)}var pi=(e,t,r,n)=>{const s={};for(const o of e){const a=P(t,o);a&&se(s,o,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Vt=e=>e instanceof RegExp,xt=e=>ie(e)?e:Vt(e)?e.source:he(e)?Vt(e.value)?e.value.source:e.value:e,Nn=e=>({isOnSubmit:!e||e===Te.onSubmit,isOnBlur:e===Te.onBlur,isOnChange:e===Te.onChange,isOnAll:e===Te.all,isOnTouch:e===Te.onTouched});const En="AsyncFunction";var mi=e=>!!e&&!!e.validate&&!!(_e(e.validate)&&e.validate.constructor.name===En||he(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===En)),gi=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),An=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const zt=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=P(e,s);if(o){const{_f:a,...c}=o;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(zt(c,t))break}else if(he(c)&&zt(c,t))break}}};function Pn(e,t,r){const n=P(e,r);if(n||Ht(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),a=P(t,o),c=P(e,o);if(a&&!Array.isArray(a)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};s.pop()}return{name:r}}var bi=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return ze(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===(!n||Te.all))},xi=(e,t,r)=>!e||!t||e===t||wt(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),vi=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,yi=(e,t)=>!qr(P(e,t)).length&&fe(e,t),ki=(e,t,r)=>{const n=wt(P(e,r));return se(n,"root",t[r]),se(e,r,n),e};function $n(e,t,r="validate"){if(Ne(e)||Array.isArray(e)&&e.every(Ne)||Ce(e)&&!e)return{type:r,message:Ne(e)?e:"",ref:t}}var nt=e=>he(e)&&!Vt(e)?e:{value:e,message:""},Tn=async(e,t,r,n,s,o)=>{const{ref:a,refs:c,required:l,maxLength:d,minLength:f,min:h,max:b,pattern:g,validate:C,name:z,valueAsNumber:F,mount:L}=e._f,O=P(r,z);if(!L||t.has(z))return{};const Z=c?c[0]:a,y=$=>{s&&Z.reportValidity&&(Z.setCustomValidity(Ce($)?"":$||""),Z.reportValidity())},x={},k=Kr(a),N=Ct(a),j=k||N,B=(F||Jr(a))&&ie(a.value)&&ie(O)||Zt(a)&&a.value===""||O===""||Array.isArray(O)&&!O.length,I=Hr.bind(null,z,n,x),Q=($,J,H,X=Ze.maxLength,ee=Ze.minLength)=>{const te=$?J:H;x[z]={type:$?X:ee,message:te,ref:a,...I($?X:ee,te)}};if(o?!Array.isArray(O)||!O.length:l&&(!j&&(B||Se(O))||Ce(O)&&!O||N&&!Ds(c).isValid||k&&!Rs(c).isValid)){const{value:$,message:J}=Ne(l)?{value:!!l,message:l}:nt(l);if($&&(x[z]={type:Ze.required,message:J,ref:Z,...I(Ze.required,J)},!n))return y(J),x}if(!B&&(!Se(h)||!Se(b))){let $,J;const H=nt(b),X=nt(h);if(!Se(O)&&!isNaN(O)){const ee=a.valueAsNumber||O&&+O;Se(H.value)||($=ee>H.value),Se(X.value)||(J=ee<X.value)}else{const ee=a.valueAsDate||new Date(O),te=je=>new Date(new Date().toDateString()+" "+je),be=a.type=="time",xe=a.type=="week";Ne(H.value)&&O&&($=be?te(O)>te(H.value):xe?O>H.value:ee>new Date(H.value)),Ne(X.value)&&O&&(J=be?te(O)<te(X.value):xe?O<X.value:ee<new Date(X.value))}if(($||J)&&(Q(!!$,H.message,X.message,Ze.max,Ze.min),!n))return y(x[z].message),x}if((d||f)&&!B&&(Ne(O)||o&&Array.isArray(O))){const $=nt(d),J=nt(f),H=!Se($.value)&&O.length>+$.value,X=!Se(J.value)&&O.length<+J.value;if((H||X)&&(Q(H,$.message,J.message),!n))return y(x[z].message),x}if(g&&!B&&Ne(O)){const{value:$,message:J}=nt(g);if(Vt($)&&!O.match($)&&(x[z]={type:Ze.pattern,message:J,ref:a,...I(Ze.pattern,J)},!n))return y(J),x}if(C){if(_e(C)){const $=await C(O,r),J=$n($,Z);if(J&&(x[z]={...J,...I(Ze.validate,J.message)},!n))return y(J.message),x}else if(he(C)){let $={};for(const J in C){if(!ze($)&&!n)break;const H=$n(await C[J](O,r),Z,J);H&&($={...H,...I(J,H.message)},y(H.message),n&&(x[z]=$))}if(!ze($)&&(x[z]={ref:Z,...$},!n))return x}}return y(!0),x};const wi={mode:Te.onSubmit,reValidateMode:Te.onChange,shouldFocusError:!0};function zi(e={}){let t={...wi,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:_e(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=he(t.defaultValues)||he(t.values)?ue(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:ue(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...f};let b={...h};const g={array:zn(),state:zn()},C=t.criteriaMode===Te.all,z=u=>m=>{clearTimeout(d),d=setTimeout(u,m)},F=async u=>{if(!a.keepIsValid&&!t.disabled&&(h.isValid||b.isValid||u)){let m;t.resolver?(m=ze((await j()).errors),L()):m=await I(n,!0),m!==r.isValid&&g.state.next({isValid:m})}},L=(u,m)=>{!t.disabled&&(h.isValidating||h.validatingFields||b.isValidating||b.validatingFields)&&((u||Array.from(c.mount)).forEach(v=>{v&&(m?se(r.validatingFields,v,m):fe(r.validatingFields,v))}),g.state.next({validatingFields:r.validatingFields,isValidating:!ze(r.validatingFields)}))},O=(u,m=[],v,M,E=!0,S=!0)=>{if(M&&v&&!t.disabled){if(a.action=!0,S&&Array.isArray(P(n,u))){const U=v(P(n,u),M.argA,M.argB);E&&se(n,u,U)}if(S&&Array.isArray(P(r.errors,u))){const U=v(P(r.errors,u),M.argA,M.argB);E&&se(r.errors,u,U),yi(r.errors,u)}if((h.touchedFields||b.touchedFields)&&S&&Array.isArray(P(r.touchedFields,u))){const U=v(P(r.touchedFields,u),M.argA,M.argB);E&&se(r.touchedFields,u,U)}(h.dirtyFields||b.dirtyFields)&&(r.dirtyFields=ot(s,o)),g.state.next({name:u,isDirty:$(u,m),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else se(o,u,m)},Z=(u,m)=>{se(r.errors,u,m),g.state.next({errors:r.errors})},y=u=>{r.errors=u,g.state.next({errors:r.errors,isValid:!1})},x=(u,m,v,M)=>{const E=P(n,u);if(E){const S=P(o,u,ie(v)?P(s,u):v);ie(S)||M&&M.defaultChecked||m?se(o,u,m?S:Cn(E._f)):X(u,S),a.mount&&!a.action&&F()}},k=(u,m,v,M,E)=>{let S=!1,U=!1;const re={name:u};if(!t.disabled){if(!v||M){(h.isDirty||b.isDirty)&&(U=r.isDirty,r.isDirty=re.isDirty=$(),S=U!==re.isDirty);const ne=Oe(P(s,u),m);U=!!P(r.dirtyFields,u),ne?fe(r.dirtyFields,u):se(r.dirtyFields,u,!0),re.dirtyFields=r.dirtyFields,S=S||(h.dirtyFields||b.dirtyFields)&&U!==!ne}if(v){const ne=P(r.touchedFields,u);ne||(se(r.touchedFields,u,v),re.touchedFields=r.touchedFields,S=S||(h.touchedFields||b.touchedFields)&&ne!==v)}S&&E&&g.state.next(re)}return S?re:{}},N=(u,m,v,M)=>{const E=P(r.errors,u),S=(h.isValid||b.isValid)&&Ce(m)&&r.isValid!==m;if(t.delayError&&v?(l=z(()=>Z(u,v)),l(t.delayError)):(clearTimeout(d),l=null,v?se(r.errors,u,v):fe(r.errors,u)),(v?!Oe(E,v):E)||!ze(M)||S){const U={...M,...S&&Ce(m)?{isValid:m}:{},errors:r.errors,name:u};r={...r,...U},g.state.next(U)}},j=async u=>(L(u,!0),await t.resolver(o,t.context,pi(u||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),B=async u=>{const{errors:m}=await j(u);if(L(u),u)for(const v of u){const M=P(m,v);M?se(r.errors,v,M):fe(r.errors,v)}else r.errors=m;return m},I=async(u,m,v={valid:!0})=>{for(const M in u){const E=u[M];if(E){const{_f:S,...U}=E;if(S){const re=c.array.has(S.name),ne=E._f&&mi(E._f);ne&&h.validatingFields&&L([S.name],!0);const ke=await Tn(E,c.disabled,o,C,t.shouldUseNativeValidation&&!m,re);if(ne&&h.validatingFields&&L([S.name]),ke[S.name]&&(v.valid=!1,m||e.shouldUseNativeValidation))break;!m&&(P(ke,S.name)?re?ki(r.errors,ke,S.name):se(r.errors,S.name,ke[S.name]):fe(r.errors,S.name))}!ze(U)&&await I(U,m,v)}}return v.valid},Q=()=>{for(const u of c.unMount){const m=P(n,u);m&&(m._f.refs?m._f.refs.every(v=>!fr(v)):!fr(m._f.ref))&&D(u)}c.unMount=new Set},$=(u,m)=>!t.disabled&&(u&&m&&se(o,u,m),!Oe(Ae(),s)),J=(u,m,v)=>jr(u,c,{...a.mount?o:ie(m)?s:Ne(u)?{[u]:m}:m},v,m),H=u=>qr(P(a.mount?o:s,u,t.shouldUnregister?P(s,u,[]):[])),X=(u,m,v={})=>{const M=P(n,u);let E=m;if(M){const S=M._f;S&&(!S.disabled&&se(o,u,Is(m,S)),E=Zt(S.ref)&&Se(m)?"":m,Os(S.ref)?[...S.ref.options].forEach(U=>U.selected=E.includes(U.value)):S.refs?Ct(S.ref)?S.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(E)?U.checked=!!E.find(re=>re===U.value):U.checked=E===U.value||!!E)}):S.refs.forEach(U=>U.checked=U.value===E):Jr(S.ref)?S.ref.value="":(S.ref.value=E,S.ref.type||g.state.next({name:u,values:ue(o)})))}(v.shouldDirty||v.shouldTouch)&&k(u,E,v.shouldTouch,v.shouldDirty,!0),v.shouldValidate&&je(u)},ee=(u,m,v)=>{for(const M in m){if(!m.hasOwnProperty(M))return;const E=m[M],S=u+"."+M,U=P(n,S);(c.array.has(u)||he(E)||U&&!U._f)&&!Qe(E)?ee(S,E,v):X(S,E,v)}},te=(u,m,v={})=>{const M=P(n,u),E=c.array.has(u),S=ue(m);se(o,u,S),E?(g.array.next({name:u,values:ue(o)}),(h.isDirty||h.dirtyFields||b.isDirty||b.dirtyFields)&&v.shouldDirty&&g.state.next({name:u,dirtyFields:ot(s,o),isDirty:$(u,S)})):M&&!M._f&&!Se(S)?ee(u,S,v):X(u,S,v),An(u,c)?g.state.next({...r,name:u,values:ue(o)}):g.state.next({name:a.mount?u:void 0,values:ue(o)})},be=async u=>{a.mount=!0;const m=u.target;let v=m.name,M=!0;const E=P(n,v),S=ne=>{M=Number.isNaN(ne)||Qe(ne)&&isNaN(ne.getTime())||Oe(ne,P(o,v,ne))},U=Nn(t.mode),re=Nn(t.reValidateMode);if(E){let ne,ke;const Ke=m.type?Cn(E._f):Es(u),qe=u.type===Ft.BLUR||u.type===Ft.FOCUS_OUT,$o=!gi(E._f)&&!t.resolver&&!P(r.errors,v)&&!E._f.deps||vi(qe,P(r.touchedFields,v),r.isSubmitted,re,U),sr=An(v,c,qe);se(o,v,Ke),qe?(!m||!m.readOnly)&&(E._f.onBlur&&E._f.onBlur(u),l&&l(0)):E._f.onChange&&E._f.onChange(u);const or=k(v,Ke,qe),To=!ze(or)||sr;if(!qe&&g.state.next({name:v,type:u.type,values:ue(o)}),$o)return(h.isValid||b.isValid)&&(t.mode==="onBlur"?qe&&F():qe||F()),To&&g.state.next({name:v,...sr?{}:or});if(!qe&&sr&&g.state.next({...r}),t.resolver){const{errors:un}=await j([v]);if(L([v]),S(Ke),M){const Oo=Pn(r.errors,n,v),fn=Pn(un,n,Oo.name||v);ne=fn.error,v=fn.name,ke=ze(un)}}else L([v],!0),ne=(await Tn(E,c.disabled,o,C,t.shouldUseNativeValidation))[v],L([v]),S(Ke),M&&(ne?ke=!1:(h.isValid||b.isValid)&&(ke=await I(n,!0)));M&&(E._f.deps&&(!Array.isArray(E._f.deps)||E._f.deps.length>0)&&je(E._f.deps),N(v,ke,ne,or))}},xe=(u,m)=>{if(P(r.errors,m)&&u.focus)return u.focus(),1},je=async(u,m={})=>{let v,M;const E=wt(u);if(t.resolver){const S=await B(ie(u)?u:E);v=ze(S),M=u?!E.some(U=>P(S,U)):v}else u?(M=(await Promise.all(E.map(async S=>{const U=P(n,S);return await I(U&&U._f?{[S]:U}:U)}))).every(Boolean),!(!M&&!r.isValid)&&F()):M=v=await I(n);return g.state.next({...!Ne(u)||(h.isValid||b.isValid)&&v!==r.isValid?{}:{name:u},...t.resolver||!u?{isValid:v}:{},errors:r.errors}),m.shouldFocus&&!M&&zt(n,xe,u?E:c.mount),M},Ae=(u,m)=>{let v={...a.mount?o:s};return m&&(v=Ts(m.dirtyFields?r.dirtyFields:r.touchedFields,v)),ie(u)?v:Ne(u)?P(v,u):u.map(M=>P(v,M))},_=(u,m)=>({invalid:!!P((m||r).errors,u),isDirty:!!P((m||r).dirtyFields,u),error:P((m||r).errors,u),isValidating:!!P(r.validatingFields,u),isTouched:!!P((m||r).touchedFields,u)}),q=u=>{u&&wt(u).forEach(m=>fe(r.errors,m)),g.state.next({errors:u?r.errors:{}})},A=(u,m,v)=>{const M=(P(n,u,{_f:{}})._f||{}).ref,E=P(r.errors,u)||{},{ref:S,message:U,type:re,...ne}=E;se(r.errors,u,{...ne,...m,ref:M}),g.state.next({name:u,errors:r.errors,isValid:!1}),v&&v.shouldFocus&&M&&M.focus&&M.focus()},V=(u,m)=>_e(u)?g.state.subscribe({next:v=>"values"in v&&u(J(void 0,m),v)}):J(u,m,!0),Y=u=>g.state.subscribe({next:m=>{xi(u.name,m.name,u.exact)&&bi(m,u.formState||h,Po,u.reRenderRoot)&&u.callback({values:{...o},...r,...m,defaultValues:s})}}).unsubscribe,T=u=>(a.mount=!0,b={...b,...u.formState},Y({...u,formState:{...f,...u.formState}})),D=(u,m={})=>{for(const v of u?wt(u):c.mount)c.mount.delete(v),c.array.delete(v),m.keepValue||(fe(n,v),fe(o,v)),!m.keepError&&fe(r.errors,v),!m.keepDirty&&fe(r.dirtyFields,v),!m.keepTouched&&fe(r.touchedFields,v),!m.keepIsValidating&&fe(r.validatingFields,v),!t.shouldUnregister&&!m.keepDefaultValue&&fe(s,v);g.state.next({values:ue(o)}),g.state.next({...r,...m.keepDirty?{isDirty:$()}:{}}),!m.keepIsValid&&F()},W=({disabled:u,name:m})=>{(Ce(u)&&a.mount||u||c.disabled.has(m))&&(u?c.disabled.add(m):c.disabled.delete(m))},R=(u,m={})=>{let v=P(n,u);const M=Ce(m.disabled)||Ce(t.disabled);return se(n,u,{...v||{},_f:{...v&&v._f?v._f:{ref:{name:u}},name:u,mount:!0,...m}}),c.mount.add(u),v?W({disabled:Ce(m.disabled)?m.disabled:t.disabled,name:u}):x(u,!0,m.value),{...M?{disabled:m.disabled||t.disabled}:{},...t.progressive?{required:!!m.required,min:xt(m.min),max:xt(m.max),minLength:xt(m.minLength),maxLength:xt(m.maxLength),pattern:xt(m.pattern)}:{},name:u,onChange:be,onBlur:be,ref:E=>{if(E){R(u,m),v=P(n,u);const S=ie(E.value)&&E.querySelectorAll&&E.querySelectorAll("input,select,textarea")[0]||E,U=di(S),re=v._f.refs||[];if(U?re.find(ne=>ne===S):S===v._f.ref)return;se(n,u,{_f:{...v._f,...U?{refs:[...re.filter(fr),S,...Array.isArray(P(s,u))?[{}]:[]],ref:{type:S.type,name:u}}:{ref:S}}}),x(u,!1,void 0,S)}else v=P(n,u,{}),v._f&&(v._f.mount=!1),(t.shouldUnregister||m.shouldUnregister)&&!(As(c.array,u)&&a.action)&&c.unMount.add(u)}}},ye=()=>t.shouldFocusError&&zt(n,xe,c.mount),ae=u=>{Ce(u)&&(g.state.next({disabled:u}),zt(n,(m,v)=>{const M=P(n,v);M&&(m.disabled=M._f.disabled||u,Array.isArray(M._f.refs)&&M._f.refs.forEach(E=>{E.disabled=M._f.disabled||u}))},0,!1))},Ue=(u,m)=>async v=>{let M;v&&(v.preventDefault&&v.preventDefault(),v.persist&&v.persist());let E=ue(o);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:S,values:U}=await j();L(),r.errors=S,E=ue(U)}else await I(n);if(c.disabled.size)for(const S of c.disabled)fe(E,S);if(fe(r.errors,"root"),ze(r.errors)){g.state.next({errors:{}});try{await u(E,v)}catch(S){M=S}}else m&&await m({...r.errors},v),ye(),setTimeout(ye);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ze(r.errors)&&!M,submitCount:r.submitCount+1,errors:r.errors}),M)throw M},mt=(u,m={})=>{P(n,u)&&(ie(m.defaultValue)?te(u,ue(P(s,u))):(te(u,m.defaultValue),se(s,u,ue(m.defaultValue))),m.keepTouched||fe(r.touchedFields,u),m.keepDirty||(fe(r.dirtyFields,u),r.isDirty=m.defaultValue?$(u,ue(P(s,u))):$()),m.keepError||(fe(r.errors,u),h.isValid&&F()),g.state.next({...r}))},cn=(u,m={})=>{const v=u?ue(u):s,M=ue(v),E=ze(u),S=E?s:M;if(m.keepDefaultValues||(s=v),!m.keepValues){if(m.keepDirtyValues){const U=new Set([...c.mount,...Object.keys(ot(s,o))]);for(const re of Array.from(U)){const ne=P(r.dirtyFields,re),ke=P(o,re),Ke=P(S,re);ne&&!ie(ke)?se(S,re,ke):!ne&&!ie(Ke)&&te(re,Ke)}}else{if(Ur&&ie(u))for(const U of c.mount){const re=P(n,U);if(re&&re._f){const ne=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(Zt(ne)){const ke=ne.closest("form");if(ke){ke.reset();break}}}}if(m.keepFieldsRef)for(const U of c.mount)te(U,P(S,U));else n={}}o=t.shouldUnregister?m.keepDefaultValues?ue(s):{}:ue(S),g.array.next({values:{...S}}),g.state.next({values:{...S}})}c={mount:m.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!m.keepIsValid||!!m.keepDirtyValues||!t.shouldUnregister&&!ze(S),a.watch=!!t.shouldUnregister,a.keepIsValid=!!m.keepIsValid,a.action=!1,m.keepErrors||(r.errors={}),g.state.next({submitCount:m.keepSubmitCount?r.submitCount:0,isDirty:E?!1:m.keepDirty?r.isDirty:!!(m.keepDefaultValues&&!Oe(u,s)),isSubmitted:m.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:E?{}:m.keepDirtyValues?m.keepDefaultValues&&o?ot(s,o):r.dirtyFields:m.keepDefaultValues&&u?ot(s,u):m.keepDirty?r.dirtyFields:{},touchedFields:m.keepTouched?r.touchedFields:{},errors:m.keepErrors?r.errors:{},isSubmitSuccessful:m.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ln=(u,m)=>cn(_e(u)?u(o):u,{...t.resetOptions,...m}),Ao=(u,m={})=>{const v=P(n,u),M=v&&v._f;if(M){const E=M.refs?M.refs[0]:M.ref;E.focus&&setTimeout(()=>{E.focus(),m.shouldSelect&&_e(E.select)&&E.select()})}},Po=u=>{r={...r,...u}},dn={control:{register:R,unregister:D,getFieldState:_,handleSubmit:Ue,setError:A,_subscribe:Y,_runSchema:j,_updateIsValidating:L,_focusError:ye,_getWatch:J,_getDirty:$,_setValid:F,_setFieldArray:O,_setDisabledField:W,_setErrors:y,_getFieldArray:H,_reset:cn,_resetDefaultValues:()=>_e(t.defaultValues)&&t.defaultValues().then(u=>{ln(u,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:ae,_subjects:g,_proxyFormState:h,get _fields(){return n},get _formValues(){return o},get _state(){return a},set _state(u){a=u},get _defaultValues(){return s},get _names(){return c},set _names(u){c=u},get _formState(){return r},get _options(){return t},set _options(u){t={...t,...u}}},subscribe:T,trigger:je,register:R,handleSubmit:Ue,watch:V,setValue:te,getValues:Ae,reset:ln,resetField:mt,clearErrors:q,unregister:D,setError:A,setFocus:Ao,getFieldState:_};return{...dn,formControl:dn}}function _i(e={}){const t=K.useRef(void 0),r=K.useRef(void 0),[n,s]=K.useState({isDirty:!1,isValidating:!1,isLoading:_e(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:_e(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!_e(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...c}=zi(e);t.current={...c,formState:n}}const o=t.current.control;return o._options=e,Gr(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),o._formState.isReady=!0,a},[o]),K.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),K.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),K.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),K.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),K.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==n.isDirty&&o._subjects.state.next({isDirty:a})}},[o,n.isDirty]),K.useEffect(()=>{var a;e.values&&!Oe(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((a=o._options.resetOptions)===null||a===void 0)&&a.keepIsValid||o._setValid(),r.current=e.values,s(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),K.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=$s(n,o),t.current}const On=(e,t,r)=>{if(e&&"reportValidity"in e){const n=P(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Nr=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?On(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>On(s,r,e))}},Mn=(e,t)=>{t.shouldUseNativeValidation&&Nr(e,t);const r={};for(const n in e){const s=P(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(ji(t.names||Object.keys(e),n)){const a=Object.assign({},P(r,n));se(a,"root",o),se(r,n,a)}else se(r,n,o)}return r},ji=(e,t)=>{const r=Dn(t);return e.some(n=>Dn(n).match(`^${r}\\.\\d+`))};function Dn(e){return e.replace(/\]|\[/g,"")}function w(e,t,r){function n(c,l){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:l,constr:a,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,l);const d=a.prototype,f=Object.keys(d);for(let h=0;h<f.length;h++){const b=f[h];b in c||(c[b]=d[b].bind(c))}}const s=r?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function a(c){var l;const d=r?.Parent?new o:this;n(d,c),(l=d._zod).deferred??(l.deferred=[]);for(const f of d._zod.deferred)f();return d}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}class ut extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Fs extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Zs={};function Ye(e){return Zs}function Vs(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function Er(e,t){return typeof t=="bigint"?t.toString():t}function Qr(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Yr(e){return e==null}function Xr(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const In=Symbol("evaluating");function oe(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==In)return n===void 0&&(n=In,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function rt(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function He(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Rn(e){return JSON.stringify(e)}function Si(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Ls="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Lt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Ci=Qr(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function jt(e){if(Lt(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Lt(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Us(e){return jt(e)?{...e}:Array.isArray(e)?[...e]:e}const Ni=new Set(["string","number","symbol"]);function Jt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Je(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function G(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Ei(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function Ai(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=He(e._zod.def,{get shape(){const a={};for(const c in t){if(!(c in r.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(a[c]=r.shape[c])}return rt(this,"shape",a),a},checks:[]});return Je(e,o)}function Pi(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=He(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const c in t){if(!(c in r.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete a[c]}return rt(this,"shape",a),a},checks:[]});return Je(e,o)}function $i(e,t){if(!jt(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const o=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(o,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=He(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return rt(this,"shape",o),o}});return Je(e,s)}function Ti(e,t){if(!jt(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=He(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return rt(this,"shape",n),n}});return Je(e,r)}function Oi(e,t){const r=He(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return rt(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Je(e,r)}function Mi(e,t,r){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=He(t._zod.def,{get shape(){const c=t._zod.def.shape,l={...c};if(r)for(const d in r){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(l[d]=e?new e({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)l[d]=e?new e({type:"optional",innerType:c[d]}):c[d];return rt(this,"shape",l),l},checks:[]});return Je(t,a)}function Di(e,t,r){const n=He(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(r)for(const a in r){if(!(a in o))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(o[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)o[a]=new e({type:"nonoptional",innerType:s[a]});return rt(this,"shape",o),o}});return Je(t,n)}function dt(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function qs(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Tt(e){return typeof e=="string"?e:e?.message}function Xe(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const s=Tt(e.inst?._zod.def?.error?.(e))??Tt(t?.error?.(e))??Tt(r.customError?.(e))??Tt(r.localeError?.(e))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function en(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function St(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const Bs=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Er,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},tn=w("$ZodError",Bs),Kt=w("$ZodError",Bs,{Parent:Error});function Ii(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function Ri(e,t=r=>r.message){const r={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>n({issues:a}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(t(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(t(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return n(e),r}const Qt=e=>(t,r,n,s)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new ut;if(a.issues.length){const c=new(s?.Err??e)(a.issues.map(l=>Xe(l,o,Ye())));throw Ls(c,s?.callee),c}return a.value},Fi=Qt(Kt),Yt=e=>async(t,r,n,s)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){const c=new(s?.Err??e)(a.issues.map(l=>Xe(l,o,Ye())));throw Ls(c,s?.callee),c}return a.value},Zi=Yt(Kt),Xt=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new ut;return o.issues.length?{success:!1,error:new(e??tn)(o.issues.map(a=>Xe(a,s,Ye())))}:{success:!0,data:o.value}},Vi=Xt(Kt),er=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(a=>Xe(a,s,Ye())))}:{success:!0,data:o.value}},Li=er(Kt),Ui=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Qt(e)(t,r,s)},qi=e=>(t,r,n)=>Qt(e)(t,r,n),Bi=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Yt(e)(t,r,s)},Wi=e=>async(t,r,n)=>Yt(e)(t,r,n),Gi=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Xt(e)(t,r,s)},Hi=e=>(t,r,n)=>Xt(e)(t,r,n),Ji=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return er(e)(t,r,s)},Ki=e=>async(t,r,n)=>er(e)(t,r,n),Qi=/^[cC][^\s-]{8,}$/,Yi=/^[0-9a-z]+$/,Xi=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ec=/^[0-9a-vA-V]{20}$/,tc=/^[A-Za-z0-9]{27}$/,rc=/^[a-zA-Z0-9_-]{21}$/,nc=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,sc=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Fn=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,oc=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ac="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ic(){return new RegExp(ac,"u")}const cc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lc=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dc=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,uc=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fc=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ws=/^[A-Za-z0-9_-]*$/,hc=/^\+[1-9]\d{6,14}$/,Gs="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",pc=new RegExp(`^${Gs}$`);function Hs(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function mc(e){return new RegExp(`^${Hs(e)}$`)}function gc(e){const t=Hs({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Gs}T(?:${n})$`)}const bc=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},xc=/^[^A-Z]*$/,vc=/^[^a-z]*$/,Re=w("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),yc=w("$ZodCheckMaxLength",(e,t)=>{var r;Re.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Yr(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const a=en(s);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),kc=w("$ZodCheckMinLength",(e,t)=>{var r;Re.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Yr(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const a=en(s);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),wc=w("$ZodCheckLengthEquals",(e,t)=>{var r;Re.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Yr(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,o=s.length;if(o===t.length)return;const a=en(s),c=o>t.length;n.issues.push({origin:a,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),tr=w("$ZodCheckStringFormat",(e,t)=>{var r,n;Re.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),zc=w("$ZodCheckRegex",(e,t)=>{tr.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),_c=w("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=xc),tr.init(e,t)}),jc=w("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=vc),tr.init(e,t)}),Sc=w("$ZodCheckIncludes",(e,t)=>{Re.init(e,t);const r=Jt(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),Cc=w("$ZodCheckStartsWith",(e,t)=>{Re.init(e,t);const r=new RegExp(`^${Jt(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Nc=w("$ZodCheckEndsWith",(e,t)=>{Re.init(e,t);const r=new RegExp(`.*${Jt(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Ec=w("$ZodCheckOverwrite",(e,t)=>{Re.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Ac{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(a=>a),s=Math.min(...n.map(a=>a.length-a.trimStart().length)),o=n.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of o)this.content.push(a)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...r,s.join(`
`))}}const Pc={major:4,minor:3,patch:5},pe=w("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Pc;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const o of s._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(a,c,l)=>{let d=dt(a),f;for(const h of c){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(d)continue;const b=a.issues.length,g=h._zod.check(a);if(g instanceof Promise&&l?.async===!1)throw new ut;if(f||g instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(d||(d=dt(a,b)))});else{if(a.issues.length===b)continue;d||(d=dt(a,b))}}return f?f.then(()=>a):a},o=(a,c,l)=>{if(dt(a))return a.aborted=!0,a;const d=s(c,n,l);if(d instanceof Promise){if(l.async===!1)throw new ut;return d.then(f=>e._zod.parse(f,l))}return e._zod.parse(d,l)};e._zod.run=(a,c)=>{if(c.skipChecks)return e._zod.parse(a,c);if(c.direction==="backward"){const d=e._zod.parse({value:a.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(f=>o(f,a,c)):o(d,a,c)}const l=e._zod.parse(a,c);if(l instanceof Promise){if(c.async===!1)throw new ut;return l.then(d=>s(d,n,c))}return s(l,n,c)}}oe(e,"~standard",()=>({validate:s=>{try{const o=Vi(e,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Li(e,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),rn=w("$ZodString",(e,t)=>{pe.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??bc(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),ce=w("$ZodStringFormat",(e,t)=>{tr.init(e,t),rn.init(e,t)}),$c=w("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=sc),ce.init(e,t)}),Tc=w("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Fn(n))}else t.pattern??(t.pattern=Fn());ce.init(e,t)}),Oc=w("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=oc),ce.init(e,t)}),Mc=w("$ZodURL",(e,t)=>{ce.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Dc=w("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ic()),ce.init(e,t)}),Ic=w("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=rc),ce.init(e,t)}),Rc=w("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Qi),ce.init(e,t)}),Fc=w("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Yi),ce.init(e,t)}),Zc=w("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Xi),ce.init(e,t)}),Vc=w("$ZodXID",(e,t)=>{t.pattern??(t.pattern=ec),ce.init(e,t)}),Lc=w("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=tc),ce.init(e,t)}),Uc=w("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=gc(t)),ce.init(e,t)}),qc=w("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=pc),ce.init(e,t)}),Bc=w("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=mc(t)),ce.init(e,t)}),Wc=w("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=nc),ce.init(e,t)}),Gc=w("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=cc),ce.init(e,t),e._zod.bag.format="ipv4"}),Hc=w("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=lc),ce.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),Jc=w("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=dc),ce.init(e,t)}),Kc=w("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=uc),ce.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,o]=n;if(!o)throw new Error;const a=Number(o);if(`${a}`!==o)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Js(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Qc=w("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=fc),ce.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{Js(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function Yc(e){if(!Ws.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Js(r)}const Xc=w("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Ws),ce.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{Yc(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),el=w("$ZodE164",(e,t)=>{t.pattern??(t.pattern=hc),ce.init(e,t)});function tl(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const rl=w("$ZodJWT",(e,t)=>{ce.init(e,t),e._zod.check=r=>{tl(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),nl=w("$ZodUnknown",(e,t)=>{pe.init(e,t),e._zod.parse=r=>r}),sl=w("$ZodNever",(e,t)=>{pe.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Zn(e,t,r){e.issues.length&&t.issues.push(...qs(r,e.issues)),t.value[r]=e.value}const ol=w("$ZodArray",(e,t)=>{pe.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const o=[];for(let a=0;a<s.length;a++){const c=s[a],l=t.element._zod.run({value:c,issues:[]},n);l instanceof Promise?o.push(l.then(d=>Zn(d,r,a))):Zn(l,r,a)}return o.length?Promise.all(o).then(()=>r):r}});function Ut(e,t,r,n,s){if(e.issues.length){if(s&&!(r in n))return;t.issues.push(...qs(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function Ks(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=Ei(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function Qs(e,t,r,n,s,o){const a=[],c=s.keySet,l=s.catchall._zod,d=l.def.type,f=l.optout==="optional";for(const h in t){if(c.has(h))continue;if(d==="never"){a.push(h);continue}const b=l.run({value:t[h],issues:[]},n);b instanceof Promise?e.push(b.then(g=>Ut(g,r,h,t,f))):Ut(b,r,h,t,f)}return a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:o}),e.length?Promise.all(e).then(()=>r):r}const al=w("$ZodObject",(e,t)=>{if(pe.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...c};return Object.defineProperty(t,"shape",{value:l}),l}})}const n=Qr(()=>Ks(t));oe(e._zod,"propValues",()=>{const c=t.shape,l={};for(const d in c){const f=c[d]._zod;if(f.values){l[d]??(l[d]=new Set);for(const h of f.values)l[d].add(h)}}return l});const s=Lt,o=t.catchall;let a;e._zod.parse=(c,l)=>{a??(a=n.value);const d=c.value;if(!s(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),c;c.value={};const f=[],h=a.shape;for(const b of a.keys){const g=h[b],C=g._zod.optout==="optional",z=g._zod.run({value:d[b],issues:[]},l);z instanceof Promise?f.push(z.then(F=>Ut(F,c,b,d,C))):Ut(z,c,b,d,C)}return o?Qs(f,d,c,l,n.value,e):f.length?Promise.all(f).then(()=>c):c}}),il=w("$ZodObjectJIT",(e,t)=>{al.init(e,t);const r=e._zod.parse,n=Qr(()=>Ks(t)),s=b=>{const g=new Ac(["shape","payload","ctx"]),C=n.value,z=Z=>{const y=Rn(Z);return`shape[${y}]._zod.run({ value: input[${y}], issues: [] }, ctx)`};g.write("const input = payload.value;");const F=Object.create(null);let L=0;for(const Z of C.keys)F[Z]=`key_${L++}`;g.write("const newResult = {};");for(const Z of C.keys){const y=F[Z],x=Rn(Z),N=b[Z]?._zod?.optout==="optional";g.write(`const ${y} = ${z(Z)};`),N?g.write(`
        if (${y}.issues.length) {
          if (${x} in input) {
            payload.issues = payload.issues.concat(${y}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${x}, ...iss.path] : [${x}]
            })));
          }
        }
        
        if (${y}.value === undefined) {
          if (${x} in input) {
            newResult[${x}] = undefined;
          }
        } else {
          newResult[${x}] = ${y}.value;
        }
        
      `):g.write(`
        if (${y}.issues.length) {
          payload.issues = payload.issues.concat(${y}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${x}, ...iss.path] : [${x}]
          })));
        }
        
        if (${y}.value === undefined) {
          if (${x} in input) {
            newResult[${x}] = undefined;
          }
        } else {
          newResult[${x}] = ${y}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const O=g.compile();return(Z,y)=>O(b,Z,y)};let o;const a=Lt,c=!Zs.jitless,d=c&&Ci.value,f=t.catchall;let h;e._zod.parse=(b,g)=>{h??(h=n.value);const C=b.value;return a(C)?c&&d&&g?.async===!1&&g.jitless!==!0?(o||(o=s(t.shape)),b=o(b,g),f?Qs([],C,b,g,h,e):b):r(b,g):(b.issues.push({expected:"object",code:"invalid_type",input:C,inst:e}),b)}});function Vn(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const s=e.filter(o=>!dt(o));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(a=>Xe(a,n,Ye())))}),t)}const cl=w("$ZodUnion",(e,t)=>{pe.init(e,t),oe(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),oe(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),oe(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),oe(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>Xr(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,o)=>{if(r)return n(s,o);let a=!1;const c=[];for(const l of t.options){const d=l._zod.run({value:s.value,issues:[]},o);if(d instanceof Promise)c.push(d),a=!0;else{if(d.issues.length===0)return d;c.push(d)}}return a?Promise.all(c).then(l=>Vn(l,s,e,o)):Vn(c,s,e,o)}}),ll=w("$ZodIntersection",(e,t)=>{pe.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,o=t.left._zod.run({value:s,issues:[]},n),a=t.right._zod.run({value:s,issues:[]},n);return o instanceof Promise||a instanceof Promise?Promise.all([o,a]).then(([l,d])=>Ln(r,l,d)):Ln(r,o,a)}});function Ar(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(jt(e)&&jt(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),s={...e,...t};for(const o of n){const a=Ar(e[o],t[o]);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};s[o]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],o=t[n],a=Ar(s,o);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Ln(e,t,r){const n=new Map;let s;for(const c of t.issues)if(c.code==="unrecognized_keys"){s??(s=c);for(const l of c.keys)n.has(l)||n.set(l,{}),n.get(l).l=!0}else e.issues.push(c);for(const c of r.issues)if(c.code==="unrecognized_keys")for(const l of c.keys)n.has(l)||n.set(l,{}),n.get(l).r=!0;else e.issues.push(c);const o=[...n].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(o.length&&s&&e.issues.push({...s,keys:o}),dt(e))return e;const a=Ar(t.value,r.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const dl=w("$ZodEnum",(e,t)=>{pe.init(e,t);const r=Vs(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>Ni.has(typeof s)).map(s=>typeof s=="string"?Jt(s):s.toString()).join("|")})$`),e._zod.parse=(s,o)=>{const a=s.value;return n.has(a)||s.issues.push({code:"invalid_value",values:r,input:a,inst:e}),s}}),ul=w("$ZodTransform",(e,t)=>{pe.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Fs(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(r.value=a,r));if(s instanceof Promise)throw new ut;return r.value=s,r}});function Un(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Ys=w("$ZodOptional",(e,t)=>{pe.init(e,t),e._zod.optin="optional",e._zod.optout="optional",oe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),oe(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Xr(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>Un(o,r.value)):Un(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),fl=w("$ZodExactOptional",(e,t)=>{Ys.init(e,t),oe(e._zod,"values",()=>t.innerType._zod.values),oe(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),hl=w("$ZodNullable",(e,t)=>{pe.init(e,t),oe(e._zod,"optin",()=>t.innerType._zod.optin),oe(e._zod,"optout",()=>t.innerType._zod.optout),oe(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Xr(r.source)}|null)$`):void 0}),oe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),pl=w("$ZodDefault",(e,t)=>{pe.init(e,t),e._zod.optin="optional",oe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>qn(o,t)):qn(s,t)}});function qn(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const ml=w("$ZodPrefault",(e,t)=>{pe.init(e,t),e._zod.optin="optional",oe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),gl=w("$ZodNonOptional",(e,t)=>{pe.init(e,t),oe(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>Bn(o,e)):Bn(s,e)}});function Bn(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const bl=w("$ZodCatch",(e,t)=>{pe.init(e,t),oe(e._zod,"optin",()=>t.innerType._zod.optin),oe(e._zod,"optout",()=>t.innerType._zod.optout),oe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(a=>Xe(a,n,Ye()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>Xe(o,n,Ye()))},input:r.value}),r.issues=[]),r)}}),xl=w("$ZodPipe",(e,t)=>{pe.init(e,t),oe(e._zod,"values",()=>t.in._zod.values),oe(e._zod,"optin",()=>t.in._zod.optin),oe(e._zod,"optout",()=>t.out._zod.optout),oe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const o=t.out._zod.run(r,n);return o instanceof Promise?o.then(a=>Ot(a,t.in,n)):Ot(o,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(o=>Ot(o,t.out,n)):Ot(s,t.out,n)}});function Ot(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const vl=w("$ZodReadonly",(e,t)=>{pe.init(e,t),oe(e._zod,"propValues",()=>t.innerType._zod.propValues),oe(e._zod,"values",()=>t.innerType._zod.values),oe(e._zod,"optin",()=>t.innerType?._zod?.optin),oe(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(Wn):Wn(s)}});function Wn(e){return e.value=Object.freeze(e.value),e}const yl=w("$ZodCustom",(e,t)=>{Re.init(e,t),pe.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(o=>Gn(o,r,n,e));Gn(s,r,n,e)}});function Gn(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(St(s))}}var Hn;class kl{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function wl(){return new kl}(Hn=globalThis).__zod_globalRegistry??(Hn.__zod_globalRegistry=wl());const yt=globalThis.__zod_globalRegistry;function zl(e,t){return new e({type:"string",...G(t)})}function _l(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...G(t)})}function Jn(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...G(t)})}function jl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...G(t)})}function Sl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...G(t)})}function Cl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...G(t)})}function Nl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...G(t)})}function El(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...G(t)})}function Al(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...G(t)})}function Pl(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...G(t)})}function $l(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...G(t)})}function Tl(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...G(t)})}function Ol(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...G(t)})}function Ml(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...G(t)})}function Dl(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...G(t)})}function Il(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...G(t)})}function Rl(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...G(t)})}function Fl(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...G(t)})}function Zl(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...G(t)})}function Vl(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...G(t)})}function Ll(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...G(t)})}function Ul(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...G(t)})}function ql(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...G(t)})}function Bl(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...G(t)})}function Wl(e,t){return new e({type:"string",format:"date",check:"string_format",...G(t)})}function Gl(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...G(t)})}function Hl(e,t){return new e({type:"string",format:"duration",check:"string_format",...G(t)})}function Jl(e){return new e({type:"unknown"})}function Kl(e,t){return new e({type:"never",...G(t)})}function Xs(e,t){return new yc({check:"max_length",...G(t),maximum:e})}function qt(e,t){return new kc({check:"min_length",...G(t),minimum:e})}function eo(e,t){return new wc({check:"length_equals",...G(t),length:e})}function Ql(e,t){return new zc({check:"string_format",format:"regex",...G(t),pattern:e})}function Yl(e){return new _c({check:"string_format",format:"lowercase",...G(e)})}function Xl(e){return new jc({check:"string_format",format:"uppercase",...G(e)})}function ed(e,t){return new Sc({check:"string_format",format:"includes",...G(t),includes:e})}function td(e,t){return new Cc({check:"string_format",format:"starts_with",...G(t),prefix:e})}function rd(e,t){return new Nc({check:"string_format",format:"ends_with",...G(t),suffix:e})}function ht(e){return new Ec({check:"overwrite",tx:e})}function nd(e){return ht(t=>t.normalize(e))}function sd(){return ht(e=>e.trim())}function od(){return ht(e=>e.toLowerCase())}function ad(){return ht(e=>e.toUpperCase())}function id(){return ht(e=>Si(e))}function cd(e,t,r){return new e({type:"array",element:t,...G(r)})}function ld(e,t,r){return new e({type:"custom",check:"custom",fn:t,...G(r)})}function dd(e){const t=ud(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(St(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(St(s))}},e(r.value,r)));return t}function ud(e,t){const r=new Re({check:"custom",...G(t)});return r._zod.check=e,r}function to(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??yt,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function ve(e,t,r={path:[],schemaPath:[]}){var n;const s=e._zod.def,o=t.seen.get(e);if(o)return o.count++,r.schemaPath.includes(e)&&(o.cycle=r.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,a);const c=e._zod.toJSONSchema?.();if(c)a.schema=c;else{const f={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,f);else{const b=a.schema,g=t.processors[s.type];if(!g)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);g(e,t,b,f)}const h=e._zod.parent;h&&(a.ref||(a.ref=h),ve(h,t,f),t.seen.get(h).isParent=!0)}const l=t.metadataRegistry.get(e);return l&&Object.assign(a.schema,l),t.io==="input"&&we(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((n=a.schema).default??(n.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function ro(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const a of e.seen.entries()){const c=e.metadataRegistry.get(a[0])?.id;if(c){const l=n.get(c);if(l&&l!==a[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(c,a[0])}}const s=a=>{const c=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(a[0])?.id,b=e.external.uri??(C=>C);if(h)return{ref:b(h)};const g=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=g,{defId:g,ref:`${b("__shared")}#/${c}/${g}`}}if(a[1]===r)return{ref:"#"};const d=`#/${c}/`,f=a[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},o=a=>{if(a[1].schema.$ref)return;const c=a[1],{ref:l,defId:d}=s(a);c.def={...c.schema},d&&(c.defId=d);const f=c.schema;for(const h in f)delete f[h];f.$ref=l};if(e.cycles==="throw")for(const a of e.seen.entries()){const c=a[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const c=a[1];if(t===a[0]){o(a);continue}if(e.external){const d=e.external.registry.get(a[0])?.id;if(t!==a[0]&&d){o(a);continue}}if(e.metadataRegistry.get(a[0])?.id){o(a);continue}if(c.cycle){o(a);continue}if(c.count>1&&e.reused==="ref"){o(a);continue}}}function no(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=a=>{const c=e.seen.get(a);if(c.ref===null)return;const l=c.def??c.schema,d={...l},f=c.ref;if(c.ref=null,f){n(f);const b=e.seen.get(f),g=b.schema;if(g.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(l.allOf=l.allOf??[],l.allOf.push(g)):Object.assign(l,g),Object.assign(l,d),a._zod.parent===f)for(const z in l)z==="$ref"||z==="allOf"||z in d||delete l[z];if(g.$ref)for(const z in l)z==="$ref"||z==="allOf"||z in b.def&&JSON.stringify(l[z])===JSON.stringify(b.def[z])&&delete l[z]}const h=a._zod.parent;if(h&&h!==f){n(h);const b=e.seen.get(h);if(b?.schema.$ref&&(l.$ref=b.schema.$ref,b.def))for(const g in l)g==="$ref"||g==="allOf"||g in b.def&&JSON.stringify(l[g])===JSON.stringify(b.def[g])&&delete l[g]}e.override({zodSchema:a,jsonSchema:l,path:c.path??[]})};for(const a of[...e.seen.entries()].reverse())n(a[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const a=e.external.registry.get(t)?.id;if(!a)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(a)}Object.assign(s,r.def??r.schema);const o=e.external?.defs??{};for(const a of e.seen.entries()){const c=a[1];c.def&&c.defId&&(o[c.defId]=c.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?s.$defs=o:s.definitions=o);try{const a=JSON.parse(JSON.stringify(s));return Object.defineProperty(a,"~standard",{value:{...t["~standard"],jsonSchema:{input:Bt(t,"input",e.processors),output:Bt(t,"output",e.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function we(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return we(n.element,r);if(n.type==="set")return we(n.valueType,r);if(n.type==="lazy")return we(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return we(n.innerType,r);if(n.type==="intersection")return we(n.left,r)||we(n.right,r);if(n.type==="record"||n.type==="map")return we(n.keyType,r)||we(n.valueType,r);if(n.type==="pipe")return we(n.in,r)||we(n.out,r);if(n.type==="object"){for(const s in n.shape)if(we(n.shape[s],r))return!0;return!1}if(n.type==="union"){for(const s of n.options)if(we(s,r))return!0;return!1}if(n.type==="tuple"){for(const s of n.items)if(we(s,r))return!0;return!!(n.rest&&we(n.rest,r))}return!1}const fd=(e,t={})=>r=>{const n=to({...r,processors:t});return ve(e,n),ro(n,e),no(n,e)},Bt=(e,t,r={})=>n=>{const{libraryOptions:s,target:o}=n??{},a=to({...s??{},target:o,io:t,processors:r});return ve(e,a),ro(a,e),no(a,e)},hd={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},pd=(e,t,r,n)=>{const s=r;s.type="string";const{minimum:o,maximum:a,format:c,patterns:l,contentEncoding:d}=e._zod.bag;if(typeof o=="number"&&(s.minLength=o),typeof a=="number"&&(s.maxLength=a),c&&(s.format=hd[c]??c,s.format===""&&delete s.format,c==="time"&&delete s.format),d&&(s.contentEncoding=d),l&&l.size>0){const f=[...l];f.length===1?s.pattern=f[0].source:f.length>1&&(s.allOf=[...f.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},md=(e,t,r,n)=>{r.not={}},gd=(e,t,r,n)=>{},bd=(e,t,r,n)=>{const s=e._zod.def,o=Vs(s.entries);o.every(a=>typeof a=="number")&&(r.type="number"),o.every(a=>typeof a=="string")&&(r.type="string"),r.enum=o},xd=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},vd=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},yd=(e,t,r,n)=>{const s=r,o=e._zod.def,{minimum:a,maximum:c}=e._zod.bag;typeof a=="number"&&(s.minItems=a),typeof c=="number"&&(s.maxItems=c),s.type="array",s.items=ve(o.element,t,{...n,path:[...n.path,"items"]})},kd=(e,t,r,n)=>{const s=r,o=e._zod.def;s.type="object",s.properties={};const a=o.shape;for(const d in a)s.properties[d]=ve(a[d],t,{...n,path:[...n.path,"properties",d]});const c=new Set(Object.keys(a)),l=new Set([...c].filter(d=>{const f=o.shape[d]._zod;return t.io==="input"?f.optin===void 0:f.optout===void 0}));l.size>0&&(s.required=Array.from(l)),o.catchall?._zod.def.type==="never"?s.additionalProperties=!1:o.catchall?o.catchall&&(s.additionalProperties=ve(o.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},wd=(e,t,r,n)=>{const s=e._zod.def,o=s.inclusive===!1,a=s.options.map((c,l)=>ve(c,t,{...n,path:[...n.path,o?"oneOf":"anyOf",l]}));o?r.oneOf=a:r.anyOf=a},zd=(e,t,r,n)=>{const s=e._zod.def,o=ve(s.left,t,{...n,path:[...n.path,"allOf",0]}),a=ve(s.right,t,{...n,path:[...n.path,"allOf",1]}),c=d=>"allOf"in d&&Object.keys(d).length===1,l=[...c(o)?o.allOf:[o],...c(a)?a.allOf:[a]];r.allOf=l},_d=(e,t,r,n)=>{const s=e._zod.def,o=ve(s.innerType,t,n),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=s.innerType,r.nullable=!0):r.anyOf=[o,{type:"null"}]},jd=(e,t,r,n)=>{const s=e._zod.def;ve(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType},Sd=(e,t,r,n)=>{const s=e._zod.def;ve(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},Cd=(e,t,r,n)=>{const s=e._zod.def;ve(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},Nd=(e,t,r,n)=>{const s=e._zod.def;ve(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=a},Ed=(e,t,r,n)=>{const s=e._zod.def,o=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;ve(o,t,n);const a=t.seen.get(e);a.ref=o},Ad=(e,t,r,n)=>{const s=e._zod.def;ve(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType,r.readOnly=!0},so=(e,t,r,n)=>{const s=e._zod.def;ve(s.innerType,t,n);const o=t.seen.get(e);o.ref=s.innerType};function Kn(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function Pd(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[a]={message:c.message,type:c.code}}else r[a]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),t){var l=r[a].types,d=l&&l[n.code];r[a]=Hr(a,t,r,s,d?[].concat(d,n.message):n.message)}e.shift()}return r}function $d(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,a=n.path.join(".");if(!r[a])if(n.code==="invalid_union"&&n.errors.length>0){var c=n.errors[0][0];r[a]={message:c.message,type:c.code}}else r[a]={message:o,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(f){return f.forEach(function(h){return e.push(h)})}),t){var l=r[a].types,d=l&&l[n.code];r[a]=Hr(a,t,r,s,d?[].concat(d,n.message):n.message)}e.shift()}return r}function Td(e,t,r){if(r===void 0&&(r={}),(function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def})(e))return function(n,s,o){try{return Promise.resolve(Kn(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(a){return o.shouldUseNativeValidation&&Nr({},o),{errors:{},values:r.raw?Object.assign({},n):a}})},function(a){if((function(c){return Array.isArray(c?.issues)})(a))return{values:{},errors:Mn(Pd(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}};if((function(n){return"_zod"in n&&typeof n._zod=="object"})(e))return function(n,s,o){try{return Promise.resolve(Kn(function(){return Promise.resolve((r.mode==="sync"?Fi:Zi)(e,n,t)).then(function(a){return o.shouldUseNativeValidation&&Nr({},o),{errors:{},values:r.raw?Object.assign({},n):a}})},function(a){if((function(c){return c instanceof tn})(a))return{values:{},errors:Mn($d(a.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}const Od=w("ZodISODateTime",(e,t)=>{Uc.init(e,t),de.init(e,t)});function Md(e){return Bl(Od,e)}const Dd=w("ZodISODate",(e,t)=>{qc.init(e,t),de.init(e,t)});function Id(e){return Wl(Dd,e)}const Rd=w("ZodISOTime",(e,t)=>{Bc.init(e,t),de.init(e,t)});function Fd(e){return Gl(Rd,e)}const Zd=w("ZodISODuration",(e,t)=>{Wc.init(e,t),de.init(e,t)});function Vd(e){return Hl(Zd,e)}const Ld=(e,t)=>{tn.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Ri(e,r)},flatten:{value:r=>Ii(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Er,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Er,2)}},isEmpty:{get(){return e.issues.length===0}}})},Pe=w("ZodError",Ld,{Parent:Error}),Ud=Qt(Pe),qd=Yt(Pe),Bd=Xt(Pe),Wd=er(Pe),Gd=Ui(Pe),Hd=qi(Pe),Jd=Bi(Pe),Kd=Wi(Pe),Qd=Gi(Pe),Yd=Hi(Pe),Xd=Ji(Pe),eu=Ki(Pe),me=w("ZodType",(e,t)=>(pe.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Bt(e,"input"),output:Bt(e,"output")}}),e.toJSONSchema=fd(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(He(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>Je(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>Ud(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Bd(e,r,n),e.parseAsync=async(r,n)=>qd(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Wd(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Gd(e,r,n),e.decode=(r,n)=>Hd(e,r,n),e.encodeAsync=async(r,n)=>Jd(e,r,n),e.decodeAsync=async(r,n)=>Kd(e,r,n),e.safeEncode=(r,n)=>Qd(e,r,n),e.safeDecode=(r,n)=>Yd(e,r,n),e.safeEncodeAsync=async(r,n)=>Xd(e,r,n),e.safeDecodeAsync=async(r,n)=>eu(e,r,n),e.refine=(r,n)=>e.check(Gu(r,n)),e.superRefine=r=>e.check(Hu(r)),e.overwrite=r=>e.check(ht(r)),e.optional=()=>Xn(e),e.exactOptional=()=>Ou(e),e.nullable=()=>es(e),e.nullish=()=>Xn(es(e)),e.nonoptional=r=>Zu(e,r),e.array=()=>zu(e),e.or=r=>Cu([e,r]),e.and=r=>Eu(e,r),e.transform=r=>ts(e,$u(r)),e.default=r=>Iu(e,r),e.prefault=r=>Fu(e,r),e.catch=r=>Lu(e,r),e.pipe=r=>ts(e,r),e.readonly=()=>Bu(e),e.describe=r=>{const n=e.clone();return yt.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return yt.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return yt.get(e);const n=e.clone();return yt.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),oo=w("_ZodString",(e,t)=>{rn.init(e,t),me.init(e,t),e._zod.processJSONSchema=(n,s,o)=>pd(e,n,s);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Ql(...n)),e.includes=(...n)=>e.check(ed(...n)),e.startsWith=(...n)=>e.check(td(...n)),e.endsWith=(...n)=>e.check(rd(...n)),e.min=(...n)=>e.check(qt(...n)),e.max=(...n)=>e.check(Xs(...n)),e.length=(...n)=>e.check(eo(...n)),e.nonempty=(...n)=>e.check(qt(1,...n)),e.lowercase=n=>e.check(Yl(n)),e.uppercase=n=>e.check(Xl(n)),e.trim=()=>e.check(sd()),e.normalize=(...n)=>e.check(nd(...n)),e.toLowerCase=()=>e.check(od()),e.toUpperCase=()=>e.check(ad()),e.slugify=()=>e.check(id())}),tu=w("ZodString",(e,t)=>{rn.init(e,t),oo.init(e,t),e.email=r=>e.check(_l(ru,r)),e.url=r=>e.check(El(nu,r)),e.jwt=r=>e.check(ql(xu,r)),e.emoji=r=>e.check(Al(su,r)),e.guid=r=>e.check(Jn(Qn,r)),e.uuid=r=>e.check(jl(Mt,r)),e.uuidv4=r=>e.check(Sl(Mt,r)),e.uuidv6=r=>e.check(Cl(Mt,r)),e.uuidv7=r=>e.check(Nl(Mt,r)),e.nanoid=r=>e.check(Pl(ou,r)),e.guid=r=>e.check(Jn(Qn,r)),e.cuid=r=>e.check($l(au,r)),e.cuid2=r=>e.check(Tl(iu,r)),e.ulid=r=>e.check(Ol(cu,r)),e.base64=r=>e.check(Vl(mu,r)),e.base64url=r=>e.check(Ll(gu,r)),e.xid=r=>e.check(Ml(lu,r)),e.ksuid=r=>e.check(Dl(du,r)),e.ipv4=r=>e.check(Il(uu,r)),e.ipv6=r=>e.check(Rl(fu,r)),e.cidrv4=r=>e.check(Fl(hu,r)),e.cidrv6=r=>e.check(Zl(pu,r)),e.e164=r=>e.check(Ul(bu,r)),e.datetime=r=>e.check(Md(r)),e.date=r=>e.check(Id(r)),e.time=r=>e.check(Fd(r)),e.duration=r=>e.check(Vd(r))});function Be(e){return zl(tu,e)}const de=w("ZodStringFormat",(e,t)=>{ce.init(e,t),oo.init(e,t)}),ru=w("ZodEmail",(e,t)=>{Oc.init(e,t),de.init(e,t)}),Qn=w("ZodGUID",(e,t)=>{$c.init(e,t),de.init(e,t)}),Mt=w("ZodUUID",(e,t)=>{Tc.init(e,t),de.init(e,t)}),nu=w("ZodURL",(e,t)=>{Mc.init(e,t),de.init(e,t)}),su=w("ZodEmoji",(e,t)=>{Dc.init(e,t),de.init(e,t)}),ou=w("ZodNanoID",(e,t)=>{Ic.init(e,t),de.init(e,t)}),au=w("ZodCUID",(e,t)=>{Rc.init(e,t),de.init(e,t)}),iu=w("ZodCUID2",(e,t)=>{Fc.init(e,t),de.init(e,t)}),cu=w("ZodULID",(e,t)=>{Zc.init(e,t),de.init(e,t)}),lu=w("ZodXID",(e,t)=>{Vc.init(e,t),de.init(e,t)}),du=w("ZodKSUID",(e,t)=>{Lc.init(e,t),de.init(e,t)}),uu=w("ZodIPv4",(e,t)=>{Gc.init(e,t),de.init(e,t)}),fu=w("ZodIPv6",(e,t)=>{Hc.init(e,t),de.init(e,t)}),hu=w("ZodCIDRv4",(e,t)=>{Jc.init(e,t),de.init(e,t)}),pu=w("ZodCIDRv6",(e,t)=>{Kc.init(e,t),de.init(e,t)}),mu=w("ZodBase64",(e,t)=>{Qc.init(e,t),de.init(e,t)}),gu=w("ZodBase64URL",(e,t)=>{Xc.init(e,t),de.init(e,t)}),bu=w("ZodE164",(e,t)=>{el.init(e,t),de.init(e,t)}),xu=w("ZodJWT",(e,t)=>{rl.init(e,t),de.init(e,t)}),vu=w("ZodUnknown",(e,t)=>{nl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>gd()});function Yn(){return Jl(vu)}const yu=w("ZodNever",(e,t)=>{sl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>md(e,r,n)});function ku(e){return Kl(yu,e)}const wu=w("ZodArray",(e,t)=>{ol.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>yd(e,r,n,s),e.element=t.element,e.min=(r,n)=>e.check(qt(r,n)),e.nonempty=r=>e.check(qt(1,r)),e.max=(r,n)=>e.check(Xs(r,n)),e.length=(r,n)=>e.check(eo(r,n)),e.unwrap=()=>e.element});function zu(e,t){return cd(wu,e,t)}const _u=w("ZodObject",(e,t)=>{il.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>kd(e,r,n,s),oe(e,"shape",()=>t.shape),e.keyof=()=>Au(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Yn()}),e.loose=()=>e.clone({...e._zod.def,catchall:Yn()}),e.strict=()=>e.clone({...e._zod.def,catchall:ku()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>$i(e,r),e.safeExtend=r=>Ti(e,r),e.merge=r=>Oi(e,r),e.pick=r=>Ai(e,r),e.omit=r=>Pi(e,r),e.partial=(...r)=>Mi(ao,e,r[0]),e.required=(...r)=>Di(io,e,r[0])});function ju(e,t){const r={type:"object",shape:e??{},...G(t)};return new _u(r)}const Su=w("ZodUnion",(e,t)=>{cl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>wd(e,r,n,s),e.options=t.options});function Cu(e,t){return new Su({type:"union",options:e,...G(t)})}const Nu=w("ZodIntersection",(e,t)=>{ll.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>zd(e,r,n,s)});function Eu(e,t){return new Nu({type:"intersection",left:e,right:t})}const Pr=w("ZodEnum",(e,t)=>{dl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(n,s,o)=>bd(e,n,s),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const o={};for(const a of n)if(r.has(a))o[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Pr({...t,checks:[],...G(s),entries:o})},e.exclude=(n,s)=>{const o={...t.entries};for(const a of n)if(r.has(a))delete o[a];else throw new Error(`Key ${a} not found in enum`);return new Pr({...t,checks:[],...G(s),entries:o})}});function Au(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Pr({type:"enum",entries:r,...G(t)})}const Pu=w("ZodTransform",(e,t)=>{ul.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>vd(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Fs(e.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(St(o,r.value,t));else{const a=o;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=e),r.issues.push(St(a))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function $u(e){return new Pu({type:"transform",transform:e})}const ao=w("ZodOptional",(e,t)=>{Ys.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>so(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Xn(e){return new ao({type:"optional",innerType:e})}const Tu=w("ZodExactOptional",(e,t)=>{fl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>so(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Ou(e){return new Tu({type:"optional",innerType:e})}const Mu=w("ZodNullable",(e,t)=>{hl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>_d(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function es(e){return new Mu({type:"nullable",innerType:e})}const Du=w("ZodDefault",(e,t)=>{pl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Sd(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Iu(e,t){return new Du({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Us(t)}})}const Ru=w("ZodPrefault",(e,t)=>{ml.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Cd(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Fu(e,t){return new Ru({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Us(t)}})}const io=w("ZodNonOptional",(e,t)=>{gl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>jd(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Zu(e,t){return new io({type:"nonoptional",innerType:e,...G(t)})}const Vu=w("ZodCatch",(e,t)=>{bl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Nd(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Lu(e,t){return new Vu({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Uu=w("ZodPipe",(e,t)=>{xl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Ed(e,r,n,s),e.in=t.in,e.out=t.out});function ts(e,t){return new Uu({type:"pipe",in:e,out:t})}const qu=w("ZodReadonly",(e,t)=>{vl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>Ad(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Bu(e){return new qu({type:"readonly",innerType:e})}const Wu=w("ZodCustom",(e,t)=>{yl.init(e,t),me.init(e,t),e._zod.processJSONSchema=(r,n,s)=>xd(e,r)});function Gu(e,t={}){return ld(Wu,e,t)}function Hu(e){return dd(e)}const Ju=ju({league:Be().min(1,"League is required"),match:Be().min(1,"Match name is required"),teamA:Be().min(1,"Home Team is required"),teamB:Be().min(1,"Away Team is required"),startTime:Be().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format (HH:mm)"),startDate:Be().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format (YYYY-MM-DD)"),channel:Be().optional(),cdn:Be().default("AWS")});var Ku=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qu=Ku.reduce((e,t)=>{const r=Zo(`Primitive.${t}`),n=p.forwardRef((s,o)=>{const{asChild:a,...c}=s,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...c,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Yu="Label",co=p.forwardRef((e,t)=>i.jsx(Qu.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));co.displayName=Yu;var Xu=co;function ef({className:e,...t}){return i.jsx(Xu,{"data-slot":"label",className:le("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var rs=1,tf=.9,rf=.8,nf=.17,hr=.1,pr=.999,sf=.9999,of=.99,af=/[\\\/_+.#"@\[\(\{&]/,cf=/[\\\/_+.#"@\[\(\{&]/g,lf=/[\s-]/,lo=/[\s-]/g;function $r(e,t,r,n,s,o,a){if(o===t.length)return s===e.length?rs:of;var c=`${s},${o}`;if(a[c]!==void 0)return a[c];for(var l=n.charAt(o),d=r.indexOf(l,s),f=0,h,b,g,C;d>=0;)h=$r(e,t,r,n,d+1,o+1,a),h>f&&(d===s?h*=rs:af.test(e.charAt(d-1))?(h*=rf,g=e.slice(s,d-1).match(cf),g&&s>0&&(h*=Math.pow(pr,g.length))):lf.test(e.charAt(d-1))?(h*=tf,C=e.slice(s,d-1).match(lo),C&&s>0&&(h*=Math.pow(pr,C.length))):(h*=nf,s>0&&(h*=Math.pow(pr,d-s))),e.charAt(d)!==t.charAt(o)&&(h*=sf)),(h<hr&&r.charAt(d-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(d-1)!==n.charAt(o))&&(b=$r(e,t,r,n,d+1,o+2,a),b*hr>h&&(h=b*hr)),h>f&&(f=h),d=r.indexOf(l,d+1);return a[c]=f,f}function ns(e){return e.toLowerCase().replace(lo," ")}function df(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,$r(e,t,ns(e),ns(t),0,0,{})}function uf(e){const t=ff(e),r=p.forwardRef((n,s)=>{const{children:o,...a}=n,c=p.Children.toArray(o),l=c.find(pf);if(l){const d=l.props.children,f=c.map(h=>h===l?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...a,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,f):null})}return i.jsx(t,{...a,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function ff(e){const t=p.forwardRef((r,n)=>{const{children:s,...o}=r;if(p.isValidElement(s)){const a=gf(s),c=mf(o,s.props);return s.type!==p.Fragment&&(c.ref=n?ft(n,a):a),p.cloneElement(s,c)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hf=Symbol("radix.slottable");function pf(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hf}function mf(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{const l=o(...c);return s(...c),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function gf(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rr="Dialog",[uo]=Lo(rr),[bf,Me]=uo(rr),fo=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,c=p.useRef(null),l=p.useRef(null),[d,f]=Vo({prop:n,defaultProp:s??!1,onChange:o,caller:rr});return i.jsx(bf,{scope:t,triggerRef:c,contentRef:l,contentId:Le(),titleId:Le(),descriptionId:Le(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:a,children:r})};fo.displayName=rr;var ho="DialogTrigger",xf=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Me(ho,r),o=Rr(t,s.triggerRef);return i.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":on(s.open),...n,ref:o,onClick:kt(e.onClick,s.onOpenToggle)})});xf.displayName=ho;var nn="DialogPortal",[vf,po]=uo(nn,{forceMount:void 0}),mo=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Me(nn,t);return i.jsx(vf,{scope:t,forceMount:r,children:p.Children.map(n,a=>i.jsx(Ir,{present:r||o.open,children:i.jsx(Uo,{asChild:!0,container:s,children:a})}))})};mo.displayName=nn;var Wt="DialogOverlay",go=p.forwardRef((e,t)=>{const r=po(Wt,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Me(Wt,e.__scopeDialog);return o.modal?i.jsx(Ir,{present:n||o.open,children:i.jsx(kf,{...s,ref:t})}):null});go.displayName=Wt;var yf=uf("DialogOverlay.RemoveScroll"),kf=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Me(Wt,r);return i.jsx(na,{as:yf,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ee.div,{"data-state":on(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),et="DialogContent",bo=p.forwardRef((e,t)=>{const r=po(et,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Me(et,e.__scopeDialog);return i.jsx(Ir,{present:n||o.open,children:o.modal?i.jsx(wf,{...s,ref:t}):i.jsx(zf,{...s,ref:t})})});bo.displayName=et;var wf=p.forwardRef((e,t)=>{const r=Me(et,e.__scopeDialog),n=p.useRef(null),s=Rr(t,r.contentRef,n);return p.useEffect(()=>{const o=n.current;if(o)return sa(o)},[]),i.jsx(xo,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:kt(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&o.preventDefault()}),onFocusOutside:kt(e.onFocusOutside,o=>o.preventDefault())})}),zf=p.forwardRef((e,t)=>{const r=Me(et,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return i.jsx(xo,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;r.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),xo=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,c=Me(et,r),l=p.useRef(null),d=Rr(t,l);return oa(),i.jsxs(i.Fragment,{children:[i.jsx(aa,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(qo,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":on(c.open),...a,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Cf,{titleId:c.titleId}),i.jsx(Ef,{contentRef:l,descriptionId:c.descriptionId})]})]})}),sn="DialogTitle",_f=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Me(sn,r);return i.jsx(Ee.h2,{id:s.titleId,...n,ref:t})});_f.displayName=sn;var vo="DialogDescription",jf=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Me(vo,r);return i.jsx(Ee.p,{id:s.descriptionId,...n,ref:t})});jf.displayName=vo;var yo="DialogClose",Sf=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Me(yo,r);return i.jsx(Ee.button,{type:"button",...n,ref:t,onClick:kt(e.onClick,()=>s.onOpenChange(!1))})});Sf.displayName=yo;function on(e){return e?"open":"closed"}var ko="DialogTitleWarning",[Oh,wo]=Bo(ko,{contentName:et,titleName:sn,docsSlug:"dialog"}),Cf=({titleId:e})=>{const t=wo(ko),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Nf="DialogDescriptionWarning",Ef=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wo(Nf).contentName}}.`;return p.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Af=fo,Pf=mo,$f=go,Tf=bo,vt='[cmdk-group=""]',mr='[cmdk-group-items=""]',Of='[cmdk-group-heading=""]',zo='[cmdk-item=""]',ss=`${zo}:not([aria-disabled="true"])`,Tr="cmdk-item-select",at="data-value",Mf=(e,t,r)=>df(e,t,r),_o=p.createContext(void 0),Nt=()=>p.useContext(_o),jo=p.createContext(void 0),an=()=>p.useContext(jo),So=p.createContext(void 0),Co=p.forwardRef((e,t)=>{let r=it(()=>{var _,q;return{search:"",value:(q=(_=e.value)!=null?_:e.defaultValue)!=null?q:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=it(()=>new Set),s=it(()=>new Map),o=it(()=>new Map),a=it(()=>new Set),c=No(e),{label:l,children:d,value:f,onValueChange:h,filter:b,shouldFilter:g,loop:C,disablePointerSelection:z=!1,vimBindings:F=!0,...L}=e,O=Le(),Z=Le(),y=Le(),x=p.useRef(null),k=Wf();tt(()=>{if(f!==void 0){let _=f.trim();r.current.value=_,N.emit()}},[f]),tt(()=>{k(6,J)},[]);let N=p.useMemo(()=>({subscribe:_=>(a.current.add(_),()=>a.current.delete(_)),snapshot:()=>r.current,setState:(_,q,A)=>{var V,Y,T,D;if(!Object.is(r.current[_],q)){if(r.current[_]=q,_==="search")$(),I(),k(1,Q);else if(_==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let W=document.getElementById(y);W?W.focus():(V=document.getElementById(O))==null||V.focus()}if(k(7,()=>{var W;r.current.selectedItemId=(W=H())==null?void 0:W.id,N.emit()}),A||k(5,J),((Y=c.current)==null?void 0:Y.value)!==void 0){let W=q??"";(D=(T=c.current).onValueChange)==null||D.call(T,W);return}}N.emit()}},emit:()=>{a.current.forEach(_=>_())}}),[]),j=p.useMemo(()=>({value:(_,q,A)=>{var V;q!==((V=o.current.get(_))==null?void 0:V.value)&&(o.current.set(_,{value:q,keywords:A}),r.current.filtered.items.set(_,B(q,A)),k(2,()=>{I(),N.emit()}))},item:(_,q)=>(n.current.add(_),q&&(s.current.has(q)?s.current.get(q).add(_):s.current.set(q,new Set([_]))),k(3,()=>{$(),I(),r.current.value||Q(),N.emit()}),()=>{o.current.delete(_),n.current.delete(_),r.current.filtered.items.delete(_);let A=H();k(4,()=>{$(),A?.getAttribute("id")===_&&Q(),N.emit()})}),group:_=>(s.current.has(_)||s.current.set(_,new Set),()=>{o.current.delete(_),s.current.delete(_)}),filter:()=>c.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:O,inputId:y,labelId:Z,listInnerRef:x}),[]);function B(_,q){var A,V;let Y=(V=(A=c.current)==null?void 0:A.filter)!=null?V:Mf;return _?Y(_,r.current.search,q):0}function I(){if(!r.current.search||c.current.shouldFilter===!1)return;let _=r.current.filtered.items,q=[];r.current.filtered.groups.forEach(V=>{let Y=s.current.get(V),T=0;Y.forEach(D=>{let W=_.get(D);T=Math.max(W,T)}),q.push([V,T])});let A=x.current;X().sort((V,Y)=>{var T,D;let W=V.getAttribute("id"),R=Y.getAttribute("id");return((T=_.get(R))!=null?T:0)-((D=_.get(W))!=null?D:0)}).forEach(V=>{let Y=V.closest(mr);Y?Y.appendChild(V.parentElement===Y?V:V.closest(`${mr} > *`)):A.appendChild(V.parentElement===A?V:V.closest(`${mr} > *`))}),q.sort((V,Y)=>Y[1]-V[1]).forEach(V=>{var Y;let T=(Y=x.current)==null?void 0:Y.querySelector(`${vt}[${at}="${encodeURIComponent(V[0])}"]`);T?.parentElement.appendChild(T)})}function Q(){let _=X().find(A=>A.getAttribute("aria-disabled")!=="true"),q=_?.getAttribute(at);N.setState("value",q||void 0)}function $(){var _,q,A,V;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Y=0;for(let T of n.current){let D=(q=(_=o.current.get(T))==null?void 0:_.value)!=null?q:"",W=(V=(A=o.current.get(T))==null?void 0:A.keywords)!=null?V:[],R=B(D,W);r.current.filtered.items.set(T,R),R>0&&Y++}for(let[T,D]of s.current)for(let W of D)if(r.current.filtered.items.get(W)>0){r.current.filtered.groups.add(T);break}r.current.filtered.count=Y}function J(){var _,q,A;let V=H();V&&(((_=V.parentElement)==null?void 0:_.firstChild)===V&&((A=(q=V.closest(vt))==null?void 0:q.querySelector(Of))==null||A.scrollIntoView({block:"nearest"})),V.scrollIntoView({block:"nearest"}))}function H(){var _;return(_=x.current)==null?void 0:_.querySelector(`${zo}[aria-selected="true"]`)}function X(){var _;return Array.from(((_=x.current)==null?void 0:_.querySelectorAll(ss))||[])}function ee(_){let q=X()[_];q&&N.setState("value",q.getAttribute(at))}function te(_){var q;let A=H(),V=X(),Y=V.findIndex(D=>D===A),T=V[Y+_];(q=c.current)!=null&&q.loop&&(T=Y+_<0?V[V.length-1]:Y+_===V.length?V[0]:V[Y+_]),T&&N.setState("value",T.getAttribute(at))}function be(_){let q=H(),A=q?.closest(vt),V;for(;A&&!V;)A=_>0?qf(A,vt):Bf(A,vt),V=A?.querySelector(ss);V?N.setState("value",V.getAttribute(at)):te(_)}let xe=()=>ee(X().length-1),je=_=>{_.preventDefault(),_.metaKey?xe():_.altKey?be(1):te(1)},Ae=_=>{_.preventDefault(),_.metaKey?ee(0):_.altKey?be(-1):te(-1)};return p.createElement(Ee.div,{ref:t,tabIndex:-1,...L,"cmdk-root":"",onKeyDown:_=>{var q;(q=L.onKeyDown)==null||q.call(L,_);let A=_.nativeEvent.isComposing||_.keyCode===229;if(!(_.defaultPrevented||A))switch(_.key){case"n":case"j":{F&&_.ctrlKey&&je(_);break}case"ArrowDown":{je(_);break}case"p":case"k":{F&&_.ctrlKey&&Ae(_);break}case"ArrowUp":{Ae(_);break}case"Home":{_.preventDefault(),ee(0);break}case"End":{_.preventDefault(),xe();break}case"Enter":{_.preventDefault();let V=H();if(V){let Y=new Event(Tr);V.dispatchEvent(Y)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:j.inputId,id:j.labelId,style:Hf},l),nr(e,_=>p.createElement(jo.Provider,{value:N},p.createElement(_o.Provider,{value:j},_))))}),Df=p.forwardRef((e,t)=>{var r,n;let s=Le(),o=p.useRef(null),a=p.useContext(So),c=Nt(),l=No(e),d=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:a?.forceMount;tt(()=>{if(!d)return c.item(s,a?.id)},[d]);let f=Eo(s,o,[e.value,e.children,o],e.keywords),h=an(),b=Ge(k=>k.value&&k.value===f.current),g=Ge(k=>d||c.filter()===!1?!0:k.search?k.filtered.items.get(s)>0:!0);p.useEffect(()=>{let k=o.current;if(!(!k||e.disabled))return k.addEventListener(Tr,C),()=>k.removeEventListener(Tr,C)},[g,e.onSelect,e.disabled]);function C(){var k,N;z(),(N=(k=l.current).onSelect)==null||N.call(k,f.current)}function z(){h.setState("value",f.current,!0)}if(!g)return null;let{disabled:F,value:L,onSelect:O,forceMount:Z,keywords:y,...x}=e;return p.createElement(Ee.div,{ref:ft(o,t),...x,id:s,"cmdk-item":"",role:"option","aria-disabled":!!F,"aria-selected":!!b,"data-disabled":!!F,"data-selected":!!b,onPointerMove:F||c.getDisablePointerSelection()?void 0:z,onClick:F?void 0:C},e.children)}),If=p.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,a=Le(),c=p.useRef(null),l=p.useRef(null),d=Le(),f=Nt(),h=Ge(g=>s||f.filter()===!1?!0:g.search?g.filtered.groups.has(a):!0);tt(()=>f.group(a),[]),Eo(a,c,[e.value,e.heading,l]);let b=p.useMemo(()=>({id:a,forceMount:s}),[s]);return p.createElement(Ee.div,{ref:ft(c,t),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&p.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),nr(e,g=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},p.createElement(So.Provider,{value:b},g))))}),Rf=p.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=p.useRef(null),o=Ge(a=>!a.search);return!r&&!o?null:p.createElement(Ee.div,{ref:ft(s,t),...n,"cmdk-separator":"",role:"separator"})}),Ff=p.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=an(),a=Ge(d=>d.search),c=Ge(d=>d.selectedItemId),l=Nt();return p.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),p.createElement(Ee.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:s?e.value:a,onChange:d=>{s||o.setState("search",d.target.value),r?.(d.target.value)}})}),Zf=p.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=p.useRef(null),a=p.useRef(null),c=Ge(d=>d.selectedItemId),l=Nt();return p.useEffect(()=>{if(a.current&&o.current){let d=a.current,f=o.current,h,b=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let g=d.offsetHeight;f.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return b.observe(d),()=>{cancelAnimationFrame(h),b.unobserve(d)}}},[]),p.createElement(Ee.div,{ref:ft(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":n,id:l.listId},nr(e,d=>p.createElement("div",{ref:ft(a,l.listInnerRef),"cmdk-list-sizer":""},d)))}),Vf=p.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:a,...c}=e;return p.createElement(Af,{open:r,onOpenChange:n},p.createElement(Pf,{container:a},p.createElement($f,{"cmdk-overlay":"",className:s}),p.createElement(Tf,{"aria-label":e.label,"cmdk-dialog":"",className:o},p.createElement(Co,{ref:t,...c}))))}),Lf=p.forwardRef((e,t)=>Ge(r=>r.filtered.count===0)?p.createElement(Ee.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Uf=p.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return p.createElement(Ee.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},nr(e,a=>p.createElement("div",{"aria-hidden":!0},a)))}),pt=Object.assign(Co,{List:Zf,Item:Df,Input:Ff,Group:If,Separator:Rf,Dialog:Vf,Empty:Lf,Loading:Uf});function qf(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Bf(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function No(e){let t=p.useRef(e);return tt(()=>{t.current=e}),t}var tt=typeof window>"u"?p.useEffect:p.useLayoutEffect;function it(e){let t=p.useRef();return t.current===void 0&&(t.current=e()),t}function Ge(e){let t=an(),r=()=>e(t.snapshot());return p.useSyncExternalStore(t.subscribe,r,r)}function Eo(e,t,r,n=[]){let s=p.useRef(),o=Nt();return tt(()=>{var a;let c=(()=>{var d;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(d=f.current.textContent)==null?void 0:d.trim():s.current}})(),l=n.map(d=>d.trim());o.value(e,c,l),(a=t.current)==null||a.setAttribute(at,c),s.current=c}),s}var Wf=()=>{let[e,t]=p.useState(),r=it(()=>new Map);return tt(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function Gf(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function nr({asChild:e,children:t},r){return e&&p.isValidElement(t)?p.cloneElement(Gf(t),{ref:t.ref},r(t.props.children)):r(t)}var Hf={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function os({className:e,...t}){return i.jsx(pt,{"data-slot":"command",className:le("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function as({className:e,...t}){return i.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[i.jsx(ks,{className:"size-4 shrink-0 opacity-50"}),i.jsx(pt.Input,{"data-slot":"command-input",className:le("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function is({className:e,...t}){return i.jsx(pt.List,{"data-slot":"command-list",className:le("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function cs({...e}){return i.jsx(pt.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function ls({className:e,...t}){return i.jsx(pt.Group,{"data-slot":"command-group",className:le("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function ds({className:e,...t}){return i.jsx(pt.Item,{"data-slot":"command-item",className:le("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const st=({icon:e,children:t})=>i.jsxs(ef,{className:"text-[10px] uppercase tracking-wider font-bold text-zinc-500 dark:text-zinc-400 flex items-center gap-1.5 mb-1.5 ml-1",children:[e&&i.jsx(e,{size:12,className:"text-zinc-400"}),t]});function Jf({isOpen:e,onClose:t,onSubmit:r,initialData:n,selectedDate:s,saving:o}){const{currentUser:a}=Dr(),[c,l]=p.useState({leagues:[],channels:[],cdnOptions:[]}),[d,f]=p.useState(!1),[h,b]=p.useState(!1),{register:g,control:C,handleSubmit:z,setValue:F,watch:L,reset:O,formState:{errors:Z}}=_i({resolver:Td(Ju),defaultValues:{league:"",match:"",teamA:"",teamB:"",startTime:"",startDate:"",channel:"",cdn:"AWS"}}),y=L("teamA"),x=L("teamB");p.useEffect(()=>{const j=vs.subscribeConfigs(B=>l(B));return()=>j()},[]),p.useEffect(()=>{e&&O(n?{league:n.league||"",match:n.match||n.title||"",teamA:n.teamA||"",teamB:n.teamB||"",startTime:n.startTime||"",startDate:n.startDate||"",channel:n.channel||n.liveChannel||"",cdn:n.cdn||"AWS"}:{league:"",match:"",teamA:"",teamB:"",startTime:Ve(new Date,"HH:mm"),startDate:s||new Date().toISOString().split("T")[0],channel:"",cdn:"AWS"})},[e,n,s,O]);const k=j=>{F("match",j);const I=[" vs "," VS "," Vs "," - "," v "].find(Q=>j.includes(Q));if(I){const Q=j.split(I);Q.length>=2&&(F("teamA",Q[0].trim()),F("teamB",Q.slice(1).join(I).trim()))}},N=j=>{const I=(typeof a=="object"?a?.name:a)||"System",Q={...j,...n?{updatedBy:I}:{createdBy:I}};r(Q)};return i.jsx(Or,{isOpen:e,onClose:t,size:"lg",showCloseButton:!1,headerClassName:"px-6 py-4 border-b border-zinc-100 dark:border-zinc-800 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-sm sticky top-0 z-10",header:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 flex items-center justify-center text-zinc-900 dark:text-zinc-100 shadow-sm",children:n?i.jsx(Go,{size:18}):i.jsx(Za,{size:18})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-bold text-zinc-900 dark:text-zinc-50",children:n?"Match Settings":"New Match"}),i.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-medium",children:n?"Update match details":"Add match to schedule"})]})]}),i.jsx(gt,{variant:"ghost",size:"icon",onClick:t,className:"w-8 h-8 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:i.jsx(Mr,{size:16})})]}),footerClassName:"p-4 border-t border-zinc-100 dark:border-zinc-800 bg-white dark:bg-zinc-950 flex items-center justify-end gap-3 rounded-b-3xl",footer:i.jsxs(i.Fragment,{children:[i.jsx(gt,{type:"button",variant:"outline",onClick:t,className:"h-10 rounded-xl px-5 text-xs font-bold border-zinc-200 dark:border-zinc-800",children:"Cancel"}),i.jsx(gt,{type:"submit",form:"match-form",disabled:o,className:le("h-10 rounded-xl px-6 text-xs font-bold shadow-lg shadow-indigo-500/20 transition-all active:scale-95",n?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white"),children:o?i.jsxs(i.Fragment,{children:[i.jsx(bs,{className:"h-3.5 w-3.5 animate-spin mr-2"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ys,{className:"h-3.5 w-3.5 mr-2"}),n?"Update Match":"Save Match"]})})]}),bodyClassName:"p-6 space-y-6 bg-zinc-50/50 dark:bg-black/50",children:i.jsxs("form",{id:"match-form",onSubmit:z(N),className:"flex flex-col",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between px-1",children:[i.jsx(st,{icon:La,children:"Matchup"}),i.jsxs("div",{className:"relative group w-[240px]",children:[i.jsx(ba,{size:12,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-indigo-500 z-10"}),i.jsx("input",{...g("match"),placeholder:"Auto-fill: 'Team A vs Team B'",onChange:j=>{g("match").onChange(j),k(j.target.value)},className:"w-full h-7 pl-8 pr-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg text-[10px] font-medium placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all shadow-sm"})]})]}),i.jsx("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl p-2 border border-zinc-200 dark:border-zinc-800 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{...g("teamA"),placeholder:"Home Team",className:"w-full h-12 text-center text-sm font-bold bg-transparent border-none rounded-xl focus:ring-0 placeholder:text-zinc-300 dark:placeholder:text-zinc-700 text-zinc-900 dark:text-zinc-100"}),i.jsx("div",{className:le("h-0.5 w-12 mx-auto rounded-full bg-zinc-200 dark:bg-zinc-800 transition-all",y&&"bg-indigo-500 w-full")}),Z.teamA&&i.jsx("span",{className:"text-[10px] text-red-500 text-center block mt-1",children:Z.teamA.message})]}),i.jsx("div",{className:"shrink-0 flex items-center justify-center w-8 h-8 rounded-full bg-zinc-100 dark:bg-zinc-800 text-[10px] font-black text-zinc-400 border border-zinc-200 dark:border-zinc-700",children:"VS"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{...g("teamB"),placeholder:"Away Team",className:"w-full h-12 text-center text-sm font-bold bg-transparent border-none rounded-xl focus:ring-0 placeholder:text-zinc-300 dark:placeholder:text-zinc-700 text-zinc-900 dark:text-zinc-100"}),i.jsx("div",{className:le("h-0.5 w-12 mx-auto rounded-full bg-zinc-200 dark:bg-zinc-800 transition-all",x&&"bg-rose-500 w-full")}),Z.teamB&&i.jsx("span",{className:"text-[10px] text-red-500 text-center block mt-1",children:Z.teamB.message})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(st,{icon:ws,children:"League"}),i.jsx(bt,{name:"league",control:C,render:({field:j})=>i.jsxs(yr,{open:h,onOpenChange:b,children:[i.jsx(kr,{asChild:!0,children:i.jsxs(gt,{variant:"outline",role:"combobox",className:"w-full h-10 justify-between bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 text-xs font-semibold rounded-xl",children:[i.jsx("span",{className:"truncate",children:j.value||"Select League"}),i.jsx(yn,{className:"ml-2 h-3.5 w-3.5 opacity-50 shrink-0"})]})}),i.jsx(wr,{className:"w-[200px] p-0 rounded-xl",align:"start",children:i.jsxs(os,{children:[i.jsx(as,{placeholder:"Search...",className:"h-9 text-xs"}),i.jsxs(is,{className:"max-h-[200px]",children:[i.jsx(cs,{className:"py-3 text-xs text-center text-zinc-500",children:"No results"}),i.jsx(ls,{children:c.leagues.map(B=>i.jsxs(ds,{value:B,className:"text-xs",onSelect:I=>{j.onChange(I===j.value?"":I),b(!1)},children:[i.jsx(_t,{className:le("mr-2 h-3.5 w-3.5",j.value===B?"opacity-100":"opacity-0")}),B]},B))})]})]})})]})}),Z.league&&i.jsx("span",{className:"text-[10px] text-red-500 block mt-1",children:Z.league.message})]}),i.jsxs("div",{children:[i.jsx(st,{icon:zs,children:"Channel"}),i.jsx(bt,{name:"channel",control:C,render:({field:j})=>i.jsxs(yr,{open:d,onOpenChange:f,children:[i.jsx(kr,{asChild:!0,children:i.jsxs(gt,{variant:"outline",role:"combobox",className:"w-full h-10 justify-between bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 text-xs font-semibold rounded-xl",children:[i.jsx("span",{className:"truncate",children:j.value||"Select Channel"}),i.jsx(yn,{className:"ml-2 h-3.5 w-3.5 opacity-50 shrink-0"})]})}),i.jsx(wr,{className:"w-[200px] p-0 rounded-xl",align:"end",children:i.jsxs(os,{children:[i.jsx(as,{placeholder:"Search...",className:"h-9 text-xs"}),i.jsxs(is,{className:"max-h-[200px]",children:[i.jsx(cs,{className:"py-3 text-xs text-center text-zinc-500",children:"No results"}),i.jsx(ls,{children:c.channels.map(B=>i.jsxs(ds,{value:B,className:"text-xs",onSelect:I=>{j.onChange(I===j.value?"":I),f(!1)},children:[i.jsx(_t,{className:le("mr-2 h-3.5 w-3.5",j.value===B?"opacity-100":"opacity-0")}),B]},B))})]})]})})]})})]}),i.jsxs("div",{children:[i.jsx(st,{icon:Wo,children:"Date"}),i.jsx(bt,{name:"startDate",control:C,render:({field:j})=>i.jsx(ia,{date:j.value?ca(j.value):void 0,setDate:B=>B&&j.onChange(la(B)),placeholder:"Pick date",className:"h-10 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-semibold"})})]}),i.jsxs("div",{children:[i.jsx(st,{icon:Fr,children:"Time"}),i.jsx(bt,{name:"startTime",control:C,render:({field:j})=>i.jsx(_r,{value:j.value,onChange:B=>j.onChange(B.target.value),className:"h-10 bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 rounded-xl text-xs font-semibold"})}),Z.startTime&&i.jsx("span",{className:"text-[10px] text-red-500 block mt-1",children:Z.startTime.message})]})]}),i.jsxs("div",{children:[i.jsx(st,{icon:Ra,children:"CDN Provider"}),i.jsx(bt,{name:"cdn",control:C,render:({field:j})=>i.jsx("div",{className:"grid grid-cols-4 gap-2",children:c.cdnOptions.map(B=>i.jsxs("button",{type:"button",onClick:()=>j.onChange(B.id),className:le("flex flex-col items-center justify-center py-2.5 rounded-xl border transition-all duration-200",j.value===B.id?"bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-600 shadow-sm":"bg-white dark:bg-zinc-900 border-zinc-100 dark:border-zinc-800/50 opacity-60 hover:opacity-100"),children:[i.jsx("div",{className:le("w-2 h-2 rounded-full mb-1.5 transition-all",B.color||"bg-zinc-400",j.value===B.id&&"scale-125")}),i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:B.label})]},B.id))})})]})]})})}const Kf=({className:e})=>{const[t,r]=p.useState(new Date);return p.useEffect(()=>{const n=setInterval(()=>r(new Date),1e3);return()=>clearInterval(n)},[]),i.jsxs("div",{className:le("flex items-center gap-2 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-sm font-mono text-zinc-700 dark:text-zinc-300 font-bold",e),children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),i.jsx("span",{className:"min-w-[64px] text-center",children:Ve(t,"HH:mm:ss")})]})},Qf=p.memo(({match:e,onClick:t,onEdit:r,onDelete:n,canEdit:s})=>{const[o,a]=p.useState(!1),c=e.isLiveTime,l=e.isFinished,d=c?"bg-red-500":l?"bg-zinc-400 dark:bg-zinc-600":"bg-emerald-500",f=c?"bg-red-50 dark:bg-red-950/30":l?"bg-zinc-50 dark:bg-zinc-900/70":"bg-white dark:bg-zinc-900",h=l?"text-zinc-500 dark:text-zinc-500":"text-zinc-900 dark:text-zinc-50",b=c?"text-red-600 dark:text-red-500":l?"text-zinc-500 dark:text-zinc-500":"text-zinc-900 dark:text-zinc-50";return i.jsxs("div",{onClick:t,className:`relative group rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-[1.005] hover:border-zinc-300 dark:hover:border-zinc-700 ${f}`,children:[i.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${d}`}),i.jsx("div",{className:"p-4 pl-5",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center min-w-[3.5rem] pt-1",children:[i.jsx("span",{className:`text-xl font-black tracking-tight ${b}`,children:e.startTime}),i.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[i.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${c?"bg-red-500 animate-pulse":l?"bg-zinc-400 dark:bg-zinc-600":"bg-emerald-500"}`}),i.jsx("span",{className:"text-[9px] font-bold uppercase text-zinc-500 dark:text-zinc-400",children:c?"LIVE":l?"END":"SOON"})]})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:`text-sm md:text-base font-bold truncate pr-2 ${h}`,children:e.teamA}),(c||l)&&i.jsx("span",{className:"text-lg font-black font-mono w-8 text-center bg-zinc-100 dark:bg-zinc-800 rounded text-zinc-900 dark:text-zinc-100",children:e.scoreA})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`text-sm md:text-base font-bold truncate pr-2 ${h}`,children:e.teamB}),(c||l)&&i.jsx("span",{className:"text-lg font-black font-mono w-8 text-center bg-zinc-100 dark:bg-zinc-800 rounded text-zinc-900 dark:text-zinc-100",children:e.scoreB})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsx("button",{onClick:g=>{g.stopPropagation(),a(!o)},className:"md:hidden p-1 text-zinc-500 dark:text-zinc-400",children:o?i.jsx(ja,{size:20}):i.jsx(Ca,{size:20})}),i.jsx("div",{className:"hidden md:flex items-center gap-1",children:s&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:g=>{g.stopPropagation(),r(e)},className:"p-1.5 text-zinc-500 dark:text-zinc-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-md hover:bg-blue-50 dark:hover:bg-blue-950/30 transition-colors",children:i.jsx(Sa,{size:14})}),i.jsx("button",{onClick:g=>{g.stopPropagation(),n(e.id)},className:"p-1.5 text-zinc-500 dark:text-zinc-400 hover:text-red-600 dark:hover:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-950/30 transition-colors",children:i.jsx(Gt,{size:14})})]})})]})]})}),i.jsxs("div",{className:`bg-zinc-50/80 dark:bg-zinc-900/70 border-t border-zinc-100 dark:border-zinc-800 px-4 py-2 text-xs text-zinc-600 dark:text-zinc-400 flex flex-wrap items-center gap-x-4 gap-y-2 ${o?"block":"hidden md:flex"}`,children:[i.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[40%]",children:[i.jsx(ws,{size:12,className:"shrink-0"}),i.jsx("span",{className:"truncate font-medium",children:e.league})]}),i.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[40%]",children:[i.jsx(zs,{size:12,className:"shrink-0"}),i.jsx("span",{className:"truncate font-medium",children:e.channel||"No Channel"})]}),i.jsxs("div",{className:"ml-auto flex items-center gap-3 shrink-0",children:[i.jsx(us,{active:e.hasStartStat,label:"S",title:"Start Stats"}),i.jsx(us,{active:e.hasEndStat,label:"E",title:"End Stats"})]}),o&&s&&i.jsxs("div",{className:"w-full flex justify-end gap-3 pt-2 mt-2 border-t border-zinc-200 dark:border-zinc-700 md:hidden",children:[i.jsx("button",{onClick:g=>{g.stopPropagation(),r(e)},className:"text-[10px] font-bold uppercase text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-950/30 px-3 py-1.5 rounded-md",children:"Edit"}),i.jsx("button",{onClick:g=>{g.stopPropagation(),n(e.id)},className:"text-[10px] font-bold uppercase text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-950/30 px-3 py-1.5 rounded-md",children:"Delete"})]})]})]})}),us=({active:e,label:t,title:r})=>i.jsxs("div",{className:"flex items-center gap-1",title:r,children:[i.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-zinc-300 dark:bg-zinc-600"}`}),i.jsx("span",{className:"text-[9px] font-black text-zinc-500 dark:text-zinc-400",children:t})]}),Dt=p.memo(({label:e,icon:t,count:r,active:n,onClick:s,isLive:o})=>{const a=t;return i.jsxs("button",{onClick:s,className:le("flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all whitespace-nowrap border select-none",n?o?"bg-red-500 text-white border-red-500 shadow-sm":"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 border-zinc-900 dark:border-zinc-100 shadow-sm":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-300 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700"),children:[i.jsx(a,{size:14,className:o&&n?"animate-pulse":""}),i.jsx("span",{className:"hidden sm:inline",children:e}),i.jsx("span",{className:le("px-1.5 py-0.5 rounded-md text-[9px] min-w-[18px] text-center font-bold",n?"bg-white/20 dark:bg-black/20":"bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300"),children:r})]})});function Mh(){const{currentUser:e}=Dr(),t=Ho(e,[mn.LEAD,mn.ENGINEER]),{selectedDate:r,setSelectedDate:n,matches:s,allMatches:o,loading:a,stats:c,searchQuery:l,setSearchQuery:d,filterType:f,setFilterType:h,selectedMatch:b,setSelectedMatch:g,isManualModalOpen:C,setIsManualModalOpen:z,editingMatch:F,setEditingMatch:L,saving:O,deleteConfirm:Z,setDeleteConfirm:y,isDataPreviewOpen:x,setIsDataPreviewOpen:k,handlePrevDay:N,handleNextDay:j,handleGoToday:B,handleSaveMatch:I,handleDeleteMatch:Q}=Ha(),[$,J]=p.useState(!0),H=$?s.filter(A=>!A.isFinished):s,X=$?s.filter(A=>A.isFinished).length:0,ee=12,[te,be]=p.useState(1);K.useEffect(()=>{be(1)},[f,l,$,r]);const xe=Math.ceil(H.length/ee),je=H.slice((te-1)*ee,te*ee),Ae=p.useCallback(A=>g(A),[g]),_=p.useCallback(A=>{L(A),z(!0)},[L,z]),q=p.useCallback(A=>{y({isOpen:!0,id:A})},[y]);return i.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-black overflow-hidden relative",children:[i.jsx("header",{className:"shrink-0 sticky top-0 z-10 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-xl border-b border-zinc-200 dark:border-zinc-800 px-4 py-3 md:px-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Kf,{className:"text-xs md:text-sm text-zinc-700 dark:text-zinc-200"}),i.jsx("div",{className:"hidden sm:block h-8 w-px bg-zinc-200 dark:bg-zinc-800"}),i.jsx("div",{className:"hidden lg:block",children:i.jsx("h1",{className:"text-lg font-black tracking-tight text-zinc-900 dark:text-zinc-50 uppercase leading-none",children:"Match Stat"})})]}),i.jsxs("div",{className:"flex items-center gap-1 bg-zinc-100 dark:bg-zinc-900 p-1 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[i.jsx("button",{onClick:N,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-all",children:i.jsx(gn,{size:16})}),i.jsxs(yr,{children:[i.jsx(kr,{asChild:!0,children:i.jsx("button",{className:"px-3 py-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-xs font-black uppercase tracking-wider dark:text-zinc-300 transition-all",children:bn(r)?"Today":Ve(r,"dd MMM yyyy")})}),i.jsx(wr,{className:"w-auto p-0 border-zinc-200 dark:border-zinc-800",align:"center",children:i.jsx(da,{mode:"single",selected:r,onSelect:A=>A&&n(A),initialFocus:!0,className:"bg-white dark:bg-zinc-950"})})]}),i.jsx("button",{onClick:j,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 rounded-lg text-zinc-500 transition-all",children:i.jsx(vn,{size:16})}),!bn(r)&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-px h-4 bg-zinc-300 dark:bg-zinc-700 mx-1"}),i.jsx("button",{onClick:B,className:"p-1.5 hover:bg-white dark:hover:bg-zinc-800 text-blue-500 hover:text-blue-600 rounded-lg transition-all",title:"Go to Today",children:i.jsx(va,{size:16})})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>J(!$),className:le("h-9 px-4 items-center gap-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg active:scale-95 flex",$?"bg-orange-500 hover:bg-orange-600 text-white shadow-orange-500/20":"bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-800 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300 shadow-zinc-500/10"),title:$?`${X} matches hidden`:"Show all matches including finished",children:[$?i.jsx(ya,{size:16}):i.jsx(ka,{size:16}),i.jsx("span",{className:"hidden md:inline",children:$?`Hidden (${X})`:"Show All"})]}),i.jsxs("button",{onClick:()=>k(!0),disabled:a||o?.length===0,className:"h-9 px-4 items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-emerald-500/20 active:scale-95 flex disabled:opacity-50 disabled:pointer-events-none",children:[i.jsx(Qo,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"Data Preview"})]}),t&&i.jsxs("button",{onClick:()=>{L(null),z(!0)},className:"h-9 px-4 items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-indigo-500/20 active:scale-95 flex",children:[i.jsx(Zr,{size:16})," ",i.jsx("span",{className:"hidden md:inline",children:"Manual Add"})]})]})]})}),i.jsx("div",{className:"shrink-0 bg-white dark:bg-zinc-950 border-b border-zinc-100 dark:border-zinc-900 px-4 py-2",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-2 overflow-x-auto no-scrollbar",children:[i.jsx(Dt,{label:"All Matches",icon:wa,count:c.total,active:f==="ALL",onClick:()=>h("ALL")}),i.jsx(Dt,{label:"Live Now",icon:za,count:c.live,active:f==="LIVE",onClick:()=>h("LIVE"),isLive:!0}),i.jsx(Dt,{label:"Upcoming",icon:Pa,count:c.pending,active:f==="UPCOMING",onClick:()=>h("UPCOMING")}),i.jsx(Dt,{label:"Finished",icon:zr,count:c.finished,active:f==="FINISHED",onClick:()=>h("FINISHED")}),i.jsx("div",{className:"ml-auto flex items-center gap-2",children:i.jsxs("div",{className:"relative group",children:[i.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-indigo-500 transition-colors",size:14}),i.jsx("input",{type:"text",placeholder:"Search...",value:l,onChange:A=>d(A.target.value),className:"h-9 pl-9 pr-4 bg-zinc-100 dark:bg-zinc-900 border-transparent rounded-xl text-xs font-medium outline-none focus:bg-white dark:focus:bg-zinc-950 focus:ring-2 focus:ring-indigo-500/20 transition-all w-32 md:w-48 placeholder:text-zinc-400"})]})})]})}),i.jsx("main",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8",children:i.jsx("div",{className:"max-w-7xl mx-auto h-full",children:a?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(A=>i.jsx("div",{className:"h-28 bg-zinc-100 dark:bg-zinc-900 rounded-xl animate-pulse"},A))}):H.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-[50vh] gap-4 opacity-60",children:[i.jsx(_a,{size:48,className:"text-zinc-300",strokeWidth:1}),i.jsx("p",{className:"text-sm font-medium text-zinc-500",children:"No matches found"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-8",children:je.map(A=>i.jsx("div",{className:"match-card-wrapper will-change-transform",style:{contentVisibility:"auto",containIntrinsicSize:"100px"},children:i.jsx(Qf,{match:A,onClick:()=>Ae(A),onEdit:_,onDelete:q,canEdit:t})},A.id))}),xe>1&&i.jsxs("div",{className:"flex items-center justify-center gap-2 pb-20",children:[i.jsx("button",{onClick:()=>be(A=>Math.max(A-1,1)),disabled:te===1,className:"p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-900 disabled:opacity-30 disabled:pointer-events-none transition-all",children:i.jsx(gn,{size:16})}),i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:xe},(A,V)=>V+1).map(A=>i.jsx("button",{onClick:()=>be(A),className:le("w-8 h-8 rounded-lg text-xs font-bold transition-all",te===A?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30 scale-110":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-800"),children:A},A))}),i.jsx("button",{onClick:()=>be(A=>Math.min(A+1,xe)),disabled:te===xe,className:"p-2 rounded-lg border border-zinc-200 dark:border-zinc-800 text-zinc-500 hover:bg-zinc-50 dark:hover:bg-zinc-900 disabled:opacity-30 disabled:pointer-events-none transition-all",children:i.jsx(vn,{size:16})})]})]})})}),i.jsx(si,{isOpen:!!b,onClose:()=>g(null),matchData:b,canEdit:t}),i.jsx(Jf,{isOpen:C,onClose:()=>z(!1),onSubmit:I,initialData:F,saving:O}),i.jsx(xa,{data:o||[],isOpen:x,onClose:()=>k(!1)}),i.jsx(gs,{isOpen:Z.isOpen,onClose:()=>y({isOpen:!1,id:null}),title:"Delete Match",message:"Are you sure you want to remove this match? This cannot be undone.",onConfirm:Q,isDanger:!0})]})}export{Mh as default};
